function aa(e) {
var t = e.cloneNode;
delete e.cloneNode, e.cloneNode = function(e) {
return e === g && (e = j), t.call(this, e);
};
}

function ba(e) {
(e = e.__proto__ || e.constructor.prototype) && e !== Array.prototype && ca.forEach(function(t) {
e[t] || (e[t] = Array.prototype[t]);
});
}

function v(e, t, n) {
return da.call(e, t, q.call(arguments, 2));
}

function w(e, t) {
for (var n = 1; n < arguments.length; n++) {
var i, r = arguments[n];
for (i in r) u(r, i) && !u(e, i) && (e[i] = r[i]);
}
return e;
}

function x(e, t) {
if (e == k && !t) throw new TypeError();
return ha && "string" == typeof e && e ? r.call(e, "") : Object(e);
}

function ja(e) {
var t = Object.create(DOMException.prototype);
throw t.code = DOMException[e], t.message = e + ": DOM Exception " + t.code, t;
}

function ka() {
return l;
}

function la(e) {
return e;
}

function Ja(e) {
try {
return Object.defineProperty(e, "sentinel", {}), "sentinel" in e;
} catch (e) {}
}

function Ka(e) {
try {
return e.sentinel2 = 0, 0 === Object.getOwnPropertyDescriptor(e, "sentinel2").value;
} catch (e) {}
}

function _classCallCheck(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}

function mergeDeep(e) {
"use strict";
return angular.forEach(arguments, function(t) {
t !== e && angular.forEach(t, function(t, n) {
e[n] && e[n].constructor && e[n].constructor === Object ? mergeDeep(e[n], t) : e[n] = t;
});
}), e;
}

function LabelSelector(e, t) {
this._conjuncts = {}, this._emptySelectsAll = !!t, this._OPERATOR_MAP = {
In: "in",
NotIn: "not in",
Exists: "exists",
DoesNotExist: "does not exist"
}, this._REVERSE_OPERATOR_MAP = {
in: "In",
"not in": "NotIn",
exists: "Exists",
"does not exist": "DoesNotExist"
}, e && (e.matchLabels || e.matchExpressions ? (angular.forEach(e.matchLabels, function(e, t) {
this.addConjunct(t, "in", [ e ]);
}, this), angular.forEach(e.matchExpressions, function(e) {
this.addConjunct(e.key, this._OPERATOR_MAP[e.operator], e.values);
}, this)) : angular.forEach(e, function(e, t) {
e || "" === e ? this.addConjunct(t, "in", [ e ]) : this.addConjunct(t, "exists", []);
}, this));
}

function ResourceGroupVersion(e, t, n) {
return this.resource = e, this.group = t, this.version = n, this;
}

var g = void 0, j = !0, k = null, l = !1, n = window, o, p = Object.prototype, da = Function.prototype.apply, q = Array.prototype.slice, r = String.prototype.split, ea = Array.prototype.splice, s, fa, ga, t = Function.prototype.bind || function(e, t) {
var n = this, i = q.call(arguments, 1);
return function() {
return da.call(n, e, i.concat(q.call(arguments)));
};
}, u = t.call(Function.prototype.call, p.hasOwnProperty), ha = "a" != Object("a")[0] || !(0 in Object("a")), ia = p.toString, ca = "every filter forEach indexOf join lastIndexOf map reduce reduceRight reverse slice some toString".split(" "), y = n.Element && n.Element.prototype || {}, z = t.call(document.__orig__createElement__ || document.createElement, document), A = z("p"), B, ma = /\\s+$/g, na = /\\s+/g, C = 1, D, oa = /^(\w+)?((?:\.(?:[\w\-]+))+)?$|^#([\w\-]+$)/, pa = /\s*([,>+~ ])\s*/g, qa, E, F, G, I, J, K, ra, sa, ta, ua, L, va, M, N = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff", wa, xa, ya, za, O, Q, Aa, Ba, R, S = n.Date, T, Ca, U, V, W, Da, Ga, X, Y;

for ((W = {}).names = (W.agent = navigator.userAgent.toLowerCase()).match(/(mozilla|compatible|chrome|webkit|safari|opera|msie|iphone|ipod|ipad)/gi), D = W.names && W.names.length || 0; 0 < D--; ) W[W.names[D]] = j;

W.mozilla = W.mozilla && !W.compatible && !W.webkit, W.safari = W.safari && !W.chrome, W.msie = W.msie && !W.opera, o = W.msie || g, n.browser = W, n.HTMLDocument || (n.HTMLDocument = n.Document), n.Document || (n.Document = n.HTMLDocument), Object.append = w, Object.extend || (Object.extend = function(e, t) {
for (var n = 1; n < arguments.length; n++) {
var i, r = arguments[n];
for (i in r) u(r, i) && (e[i] = r[i]);
}
return e;
}), Object.inherit = function(e, t) {
(e.prototype = Object.create(e.superclass = t.prototype)).constructor = e;
}, Function.prototype.bind || (Function.prototype.bind = function(e, t) {
function n() {
return da.call(i, this instanceof n ? this : e, r.concat(q.call(arguments)));
}
if ("function" != typeof this && (!o || 0 !== M.call(this + "").indexOf("function"))) throw new TypeError("Function.prototype.bind called on incompatible " + this);
var i = this, r = q.call(arguments, 1);
return i.prototype && (n.prototype = Object.create(i.prototype)), n;
});

var $ = "toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "), Ha = !{
toString: k
}.propertyIsEnumerable($[0]), Ia = $.length;

if (w(Object, {
keys: function(e) {
if ("object" != typeof e && "function" != typeof e || e === k) throw new TypeError("Object.keys called on a non-object");
var t, n = [];
for (t in e) u(e, t) && n.push(t);
if (Ha) for (t = 0; t < Ia; t++) u(e, $[t]) && n.push($[t]);
return n;
},
getOwnPropertyNames: function(e) {
return Object.keys(e);
},
seal: la,
freeze: la,
preventExtensions: la,
isSealed: ka,
isFrozen: ka,
isExtensible: function(e) {
if (Object(e) !== e) throw new TypeError();
for (var t = ""; u(e, t); ) t += "?";
e[t] = j;
var n = u(e, t);
return delete e[t], n;
},
getPrototypeOf: function(e) {
return e.__proto__ || (e.constructor ? e.constructor.prototype : p);
},
create: function(e, t) {
var n;
if (e === k) n = {
__proto__: k
}; else {
if ("object" != typeof e) throw new TypeError("typeof prototype[" + typeof e + "] != 'object'");
(n = function() {}).prototype = e, (n = new n()).__proto__ = e;
}
return t && Object.defineProperties(n, t), n;
},
is: function(e, t) {
return e === t ? 0 === e ? 1 / e == 1 / t : j : e !== e && t !== t;
},
isnt: function(e, t) {
return !Object.is(e, t);
}
}), !Object.defineProperty || (ya = Ja({}), za = Ja(A), ya && za) || (O = Object.defineProperty, Q = Object.defineProperties), Object.defineProperty && !O || (Object.defineProperty = function(e, t, n) {
if ("object" != typeof e && "function" != typeof e || e === k) throw new TypeError("Object.defineProperty called on non-object: " + e);
if ("object" != typeof n && "function" != typeof n || n === k) throw new TypeError("Property description must be an object: " + n);
if (O) try {
return O.call(Object, e, t, n);
} catch (i) {
if (-2146823252 === i.number) {
n.enumerable = l;
try {
return O.call(Object, e, t, n);
} catch (e) {}
}
}
if (n.value !== g) if (e.__defineGetter__ && (e.__lookupGetter__(t) || e.__lookupSetter__(t))) {
var i = e.__proto__;
e.__proto__ = p, delete e[t], e[t] = n.value, e.__proto__ = i;
} else e[t] = n.value; else if (e.__defineGetter__) n.get !== g && e.__defineGetter__(t, n.get), n.set !== g && e.__defineSetter__(t, n.set); else {
if (!Object.defineProperty.ielt8) throw new TypeError("getters & setters not supported");
n.get !== g && (e["get" + t] = n.get), n.set !== g && (e["set" + t] = n.set);
}
return e;
}), y.ie && 8 > o && (y.ielt8 = Object.defineProperty.ielt8 = j), Object.defineProperties && !Q || (Object.defineProperties = function(e, t) {
if (Q) try {
return Q.call(Object, e, t);
} catch (e) {}
for (var n in t) u(t, n) && Object.defineProperty(e, n, t[n]);
return e;
}), !Object.getOwnPropertyDescriptor || (Aa = Ka({}), (Ba = Ka(A)) && Aa) || (R = Object.getOwnPropertyDescriptor), Object.getOwnPropertyDescriptor && !R || (Object.getOwnPropertyDescriptor = function(e, t) {
if ("object" != typeof e && "function" != typeof e || e === k) throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: " + e);
if (R) try {
return R.call(Object, e, t);
} catch (e) {}
if (u(e, t)) {
var n, i, r = {
enumerable: j,
configurable: j
};
if (e.__defineGetter__) {
var o = e.__proto__;
e.__proto__ = p, n = e.__lookupGetter__(t), i = e.__lookupSetter__(t), e.__proto__ = o;
} else Object.defineProperty.ielt8 && (n = e["get" + t], i = e["set" + t]);
return n || i ? (n && (r.get = n), i && (r.set = i), r) : (r.value = e[t], r);
}
}), 2 != [ 1, 2 ].splice(0).length && (Array.prototype.splice = function(e, t) {
return e === g && t === g ? [] : ea.apply(this, [ e === g ? 0 : e, t === g ? this.length - e : t ].concat(q.call(arguments, 2)));
}), ga = function(e) {
if (e instanceof Array || Array.isArray(e)) return e;
if (e.k) return e.k();
var t, n = (e = x(e, j)).length >>> 0;
try {
t = q.call(e);
} catch (e) {}
if (t && t.length === n) return t;
t = [];
for (var i = 0; i < n; i++) i in e && (t[i] = e[i]);
return t;
}, w(Array, {
isArray: function(e) {
return "[object Array]" == ia.call(e);
},
from: ga,
of: function(e) {
return q.call(arguments);
}
}), w(Array.prototype, {
reduce: function(e, t) {
var n = x(this), i = n.length >>> 0, r = 0;
if (0 === i && arguments.length <= 1) throw new TypeError("Array length is 0 and no second argument");
for (t === g && (++r, t = n[0]); r < i; ++r) r in n && (t = v(e, g, t, n[r], r, n));
return t;
},
reduceRight: function(e, t) {
var n = x(this), i = n.length >>> 0;
if (0 === i && arguments.length <= 1) throw new TypeError("Array length is 0 and no second argument");
for (--i, t === g && (--i, t = n[i + 1]); i >= 0; --i) i in n && (t = v(e, g, t, n[i], i, n));
return t;
},
forEach: function(e, t) {
for (var n = x(this), i = n.length >>> 0, r = -1; ++r < i; ) r in n && v(e, t, n[r], r, n);
},
indexOf: function(e, t) {
var n = x(this), i = n.length >>> 0;
if ((t = ~~t) > i) return -1;
for (t = (i + t) % i; t < i && (!(t in n) || n[t] !== e); t++) ;
return t ^ i ? t : -1;
},
lastIndexOf: function(e, t) {
var n, i = x(this), r = i.length >>> 0;
if (!r) return -1;
for (n = r - 1, t !== g && (n = Math.min(n, Number.toInteger(t))), n = n >= 0 ? n : r - Math.abs(n); n >= 0; n--) if (n in i && i[n] === e) return n;
return -1;
},
every: function(e, t, n) {
n === g && (n = j);
var i = n;
return L(this, function(r, o) {
i == n && (i = !!v(e, t, r, o, this));
}, this), i;
},
some: function(e, t) {
return va.call(this, e, t, l);
},
filter: function(e, t) {
for (var n, i = x(this), r = i.length >>> 0, o = [], a = 0; a < r; a++) a in i && v(e, t, n = i[a], a, i) && o.push(n);
return o;
},
map: function(e, t) {
for (var n = x(this), i = n.length >>> 0, r = [], o = 0; o < i; o++) o in n && (r[o] = v(e, t, n[o], o, this));
return r;
},
contains: function(e) {
return !!~this.indexOf(e);
}
}), !Array.prototype.unique) {
var La = function(e, t, n) {
return n.indexOf(e, t + 1) < 0;
};
Array.prototype.unique = function() {
return this.filter(La);
};
}

L = t.call(Function.prototype.call, Array.prototype.forEach), fa = Array.prototype.map, va = Array.prototype.every, String.random || (String.random = function(e) {
return !e || e < 0 ? "" : Array(++e).join(0).replace(/./g, function() {
return (0 | 32 * Math.random()).toString(32);
});
}), String.prototype.trim && !N.trim() || (N = "[" + N + "]", wa = RegExp("^" + N + N + "*"), xa = RegExp(N + N + "*$"), String.prototype.trim = function() {
return String(this).replace(wa, "").replace(xa, "");
}), M = String.prototype.trim, "0".split(g, 0).length && (String.prototype.split = function(e, t) {
return e === g && 0 === t ? [] : r.call(this, e, t);
}), s = function(e, t) {
return !!~this.indexOf(e, t);
}, w(String.prototype, {
repeat: function(e) {
return Array(++e).join(this + "");
},
startsWith: function(e, t) {
return this.lastIndexOf(e, t) === (t || 0);
},
endsWith: function(e, t) {
return e += "", this.substr(-e.length - (t || 0), t) == e;
},
contains: s,
toArray: function() {
return r.call(this, "");
},
reverse: function() {
return Array.prototype.reverse.call(r.call(this + "", "")).join("");
}
}), w(Number, {
isFinite: function(e) {
return "number" == typeof e && n.i(e);
},
isInteger: function(e) {
return Number.isFinite(e) && e >= -9007199254740992 && e <= 9007199254740992 && Math.floor(e) === e;
},
isNaN: function(e) {
return Object.is(e, NaN);
},
toInteger: function(e) {
return e = +e, Number.isNaN(e) ? 0 : 0 !== e && n.i(e) ? (e < 0 ? -1 : 1) * Math.floor(Math.abs(e)) : e;
}
}), E = function(e, t) {
var n = document.createEvent("Events"), t = t || {};
return n.initEvent(e, t.bubbles || l, t.cancelable || l), "isTrusted" in n || (n.j = l), n;
};

try {
G = Event.prototype, new Event("click");
} catch (e) {
n.Event = E, G && (E.prototype = G);
}

F = function(e, t) {
var n, i;
try {
n = document.createEvent("CustomEvent");
} catch (e) {
n = document.createEvent("Event");
}
return t = t || {}, i = t.detail !== g ? t.detail : k, (n.initCustomEvent || (n.detail = i, n.initEvent)).call(n, e, t.bubbles || l, t.cancelable || l, i), "isTrusted" in n || (n.j = l), n;
};

try {
I = (n.CustomEvent || Event).prototype, new CustomEvent("magic");
} catch (e) {
n.CustomEvent = F, (I || G) && (F.prototype = I || G);
}

if (G.stopImmediatePropagation || (J = function(e) {
var t = this.f, n = this.g;
if ("function" != typeof t) {
if (!("handleEvent" in t)) return;
n = t, t = t.handleEvent;
}
if (!e.__stopNow) return t.apply(n, arguments);
e.stopPropagation();
}, G.stopImmediatePropagation = function() {
this.__stopNow = j;
}), "addEventListener" in A && !A.addEventListener.__shim__) {
D = 0;
try {
B = function() {
D++;
}, A.addEventListener("click", B), A.addEventListener("click", B), A.click ? A.click() : A.dispatchEvent(new E("click"));
} catch (e) {} finally {
if (0 == D || 2 == D || J) {
var Pa = 2 == D;
L([ n.HTMLDocument && n.HTMLDocument.prototype || n.document, n.Window && n.Window.prototype || n, y ], function(e) {
if (e) {
var n = e.addEventListener, i = e.removeEventListener;
n && (e.addEventListener = function(e, i, r) {
var o, a, r = r || l;
if (Pa || J) {
if (a = "_e_8vj" + (r ? "-" : "") + (i.__UUID__ || (i.__UUID__ = ++C)) + e, (o = this._) || (o = this._ = {}), a in o) return;
i = o[a] = J ? t.call(J, {
f: i,
g: this
}) : g;
}
return n.call(this, e, i, r);
}, i && (e.removeEventListener = function(e, t, n) {
var r, o, n = n || l;
return (Pa || J) && (r = this._) && r[o = "_e_8vj" + (n ? "-" : "") + t.__UUID__ + e] && (t = r[o], delete r[o]), i.call(this, e, t, n);
}));
}
});
}
}
}

ra = function(e, t) {
var n = t || "", i = !!e.length;
if (i) {
for (;e.length > 0; ) delete e[--e.length];
e.value = "";
}
n && ((n = M.call(n)) && r.call(n, na).forEach(sa, e), e.value = t), i && e.a && e.a.call(e.c, e.value);
}, sa = function(e) {
this[this.length++] = e;
}, w((K = function(e, t, n) {
this.e = e, this.a = t, this.c = n, this.length = 0, this.value = "", this.b("1");
}).prototype, {
b: function(e) {
var t = this.e.call(this.c);
t != this.value && ra(this, t), "" === e && ja("SYNTAX_ERR"), s.call(e + "", " ") && ja("INVALID_CHARACTER_ERR");
},
add: function(e) {
var t = this.value;
this.contains(e) || (this.value = this.value + (t && !t.match(ma) ? " " : "") + e, this[this.length++] = e, this.a && this.a.call(this.c, this.value));
},
remove: function(e) {
this.b(e);
var t;
for (this.value = this.value.replace(RegExp("((?: +|^)" + e + "(?: +|$))", "g"), function(e, t, n, i) {
return n && e.length + n < i.length ? " " : "";
}), t = r.call(this.value, " "), e = this.length - 1; e > 0; --e) (this[e] = t[e]) || (this.length--, delete this[e]);
this.a && this.a.call(this.c, this.value);
},
contains: function(e) {
return this.b(e), s.call(" " + this.value + " ", " " + e + " ");
},
item: function(e) {
return this.b("1"), this[e] || k;
},
toggle: function(e) {
var t = thisObj.contains(e);
return this[t ? "add" : "remove"](e), t;
}
}), K.prototype.toString = function() {
return this.value || "";
}, ua = function(e) {
this.className = e;
}, ta = function() {
return this.className;
}, n.Utils || (n.Utils = {}), n.Utils.Dom || (n.Utils.Dom = {}), n.Utils.Dom.DOMStringCollection = K, G.AT_TARGET || (G.AT_TARGET = 2, G.BUBBLING_PHASE = 3, G.CAPTURING_PHASE = 1), Event.AT_TARGET || (Event.AT_TARGET = 2, Event.BUBBLING_PHASE = 3, Event.CAPTURING_PHASE = 1);

try {
n.getComputedStyle(A);
} catch (e) {
n.getComputedStyle = t(function(e, t) {
return this.call(n, e, t || k);
}, n.getComputedStyle);
}

if ("classList" in A || Object.defineProperty(y, "classList", {
get: function() {
if (this.tagName) {
var e = this._ || (this._ = {});
return e._ccl_ || (e._ccl_ = new K(ta, ua, this)), e._ccl_;
}
}
}), "parentElement" in A || Object.defineProperty(y, "parentElement", {
get: function() {
var e = this.parentNode;
return e && 1 === e.nodeType ? e : k;
}
}), "contains" in A || (n.Node.prototype.contains = function(e) {
return !!(16 & this.compareDocumentPosition(e));
}), "insertAdjacentHTML" in A || (n.HTMLElement.prototype.insertAdjacentHTML = function(e, t) {
var n, i = this.ownerDocument.createElement("_"), r = {
beforebegin: "before",
afterbegin: "prepend",
beforeend: "append",
afterend: "after"
};
i.innerHTML = t, (i = i.childNodes) && i.length && (n = this[r[e]]) && n.apply(this, i);
}), document.importNode && !document.importNode.shim) try {
document.importNode(A);
} catch (e) {
var Sa = document.importNode;
delete document.importNode, document.importNode = function(e, t) {
return t === g && (t = j), Sa.call(this, e, t);
};
}

try {
A.cloneNode();
} catch (e) {
[ Node.prototype, y, Document.prototype, DocumentFragment.prototype ].forEach(aa);
}

A.prepend || (B = function(e) {
var t, n = k, i = 0, r = e.length, e = fa.call(e, function(e) {
return "string" == typeof e ? document.createTextNode(e) : e;
});
if (1 === r) n = e[0]; else for (n = document.createDocumentFragment(), i = 0, r = e.length; i < (t = e.length); ++i) i -= r - t, n.appendChild(e[i]);
return n;
}, y.after = function() {
this.parentNode && this.parentNode.insertBefore(B(arguments), this.nextSibling);
}, y.before = function() {
this.parentNode && this.parentNode.insertBefore(B(arguments), this);
}, y.append = function() {
this.appendChild(B(arguments));
}, y.prepend = function() {
this.insertBefore(B(arguments), this.firstChild);
}, y.replace = function() {
this.parentNode && this.parentNode.replaceChild(B(arguments), this);
}, y.remove = function() {
this.parentNode && this.parentNode.removeChild(this);
}, "prepend" in document || (document.prepend = function() {
y.prepend.apply(this.documentElement, arguments);
}, document.append = function() {
y.append.apply(this.documentElement, arguments);
})), y.matchesSelector || (y.matchesSelector = y.webkitMatchesSelector || y.mozMatchesSelector || y.msMatchesSelector || y.oMatchesSelector || function(e, t) {
if (!e) return l;
if ("*" === e) return j;
var n, i, r, o, a, c, u = 0;
t ? "length" in t ? n = t[0] : (n = t, t = g) : n = this;
do {
if (c = l, n === document.documentElement ? c = ":root" === e : n === document.body && (c = "BODY" === e.toUpperCase()), !c) {
if (e = M.call(e.replace(pa, "$1")), o = e.match(oa)) switch (e.charAt(0)) {
case "#":
c = n.id === e.slice(1);
break;

default:
if ((c = !(o[1] && "tagName" in n && n.tagName.toUpperCase() !== o[1].toUpperCase())) && o[2]) for (r = -1, a = o[2].slice(1).split("."), o = " " + n.className + " "; a[++r] && c; ) c = s.call(o, " " + a[r] + " ");
}
if (!/([,>+~ ])/.test(e) && (i = n.parentNode) && i.querySelector && (c = i.querySelector(e) === n), !c && (i = n.ownerDocument)) for (a = i.querySelectorAll(e), r = -1; !c && a[++r]; ) c = a[r] === n;
}
} while (c && t && (n = t[++u]));
return t && "length" in t ? c && t.length == u : c;
}), document.documentElement.matchesSelector || (document.documentElement.matchesSelector = y.matchesSelector), "matches" in y || (y.matches = document.documentElement.matches = y.matchesSelector), "find" in document || (qa = /(\:scope)(?=[ >~+])/, document.find = DocumentFragment.prototype.find = function(e, t) {
t && ("length" in t || (t = [ t ])) || (t = [ this ]);
var n, i, r = 0, o = t.length;
do {
i = t[r], e = e.replace(qa, 9 == i.nodeType ? ":root" : document_find_scopedreplacer = function() {
return "#" + (i.id || (i.id = "find" + ++C));
}), n = i.querySelector(e);
} while (!n && ++r < o);
return n || k;
}, document.findAll = DocumentFragment.prototype.findAll = function(e, t) {
t && ("length" in t || (t = [ t ])) || (t = [ this ]);
var n, i, r, o, a, s, c = [], u = 0, d = t.length, h = {};
do {
for (n = t[u], e = e.replace(qa, 9 == n.nodeType ? ":root" : document_find_scopedreplacer = function() {
return "#" + (n.id || (n.id = "find" + ++C));
}), o = 0, a = (i = n.querySelectorAll(e)).length; o < a; ++o) r = i[o], s = l, r = r.__UUID__ || (s = j, r.__UUID__ = ++C), !s && r in h || (h[r] = g, c.push(i[o]));
} while (++u < d);
return c;
}), "find" in y || (y.find = y.querySelector, y.findAll = y.querySelectorAll), "labels" in z("input") || Object.defineProperty(y, "labels", {
enumerable: j,
get: function() {
if (s.call(" INPUT BUTTON KEYGEN METER OUTPUT PROGRESS TEXTAREA SELECT ", " " + this.nodeName.toUpperCase() + " ")) {
for (var e = this, t = this.id ? ga(document.querySelectorAll("label[for='" + this.id + "']")) : [], n = t.length - 1; (e = e.parentNode) && (!e.h || e.h === this); ) if ("LABEL" === e.nodeName.toUpperCase()) {
for (;t[n] && 2 & t[n].compareDocumentPosition(e); ) n--;
ea.call(t, n + 1, 0, e);
}
return t;
}
}
}), "control" in z("label") || (Da = function(e, t) {
for (var n = 0, i = e.length; n < i; n++) {
var r = e[n], o = t(r);
if (o) return o;
if (r.childNodes && r.childNodes.length > 0 && (o = Da(r.childNodes, t))) return o;
}
}, Object.defineProperty(n.HTMLLabelElement && n.HTMLLabelElement.prototype || y, "control", {
enumerable: j,
get: function() {
return "LABEL" !== this.nodeName.toUpperCase() ? g : this.hasAttribute("for") ? document.getElementById(this.htmlFor) : Da(this.childNodes, function(e) {
if (s.call(" INPUT BUTTON KEYGEN METER OUTPUT PROGRESS TEXTAREA SELECT ", " " + e.nodeName.toUpperCase() + " ")) return e;
}) || k;
}
})), "reversed" in z("ol") || (Ga = function(e) {
var t, n, i = e.getAttribute("reversed"), r = e._;
r || (r = e._ = {}), "olreversed" in r && r.olreversed == (i !== k) || (t = e.children, (n = e.getAttribute("start")) !== k && (n = Number(n), isNaN(n) && (n = k)), i !== k ? (r.olreversed = j, n === k && (n = t.length), L(t, function(e) {
e.value = n--;
})) : (r.olreversed = l, t[0] && (t[0].value = n || 0), L(t, function(e) {
e.removeAttribute("value");
})));
}, Object.defineProperty(n.HTMLOListElement && n.HTMLOListElement.prototype || y, "reversed", {
get: function() {
return "OL" !== (this.nodeName || "").toUpperCase() ? g : this.getAttribute("reversed") !== k;
},
set: function(e) {
if ("OL" === (this.nodeName || "").toUpperCase()) return this[(e ? "set" : "remove") + "Attribute"]("reversed", ""), Ga(this), e;
}
}), X = function() {
document.removeEventListener("DOMContentLoaded", X, l), X = g, L(document.getElementsByTagName("ol"), Ga);
}, "complete" == document.readyState ? X() : document.addEventListener("DOMContentLoaded", X, l)), document.getElementsByClassName && ba(document.getElementsByClassName("")), document.querySelectorAll && ba(document.querySelectorAll("#z")), (Y = n.XHR = function(e, t) {
e = w(e || {}, Y.d), Object.keys(Y.d).forEach(function(t) {
"object" == typeof this[t] && w(e[t], this[t]);
}, Y.d);
var n = new XMLHttpRequest(), i = e.data || "", r = "post" == e.method.toLowerCase(), o = e.uri;
"object" == typeof i && e == Y.d.headers["Content-Type"] && (i = Object.keys(i).map(function(e) {
var t = this[e];
return "object" == typeof t ? Object.keys(t).map(function(t) {
return e + "=" + this[t];
}, t).join("&") : e + "=" + t;
}, i).join("&")), n.onreadystatechange = function() {
4 === this.readyState && t.call(this, k, this.response || this.responseText || this.responseXML);
}, n.onerror = function(e) {
t.call(this, e);
};
try {
n.open(e.method, o + (r ? "" : o.indexOf("?") ? "&" : "?" + i)), e.headers && Object.keys(e.headers).forEach(function(t) {
n.setRequestHeader(t, e.headers[t]);
}), n.send(r && i || k);
} catch (e) {
t.call(this, e);
}
return n;
}).d = {
headers: {
"X-Requested-With": "HTTPRequest",
"Content-Type": "application/x-www-form-urlencoded;charset=utf-8"
}
}, S.prototype.toISOString && !s.call(new S(-621987552e5).toISOString(), "-000001") && "1969-12-31T23:59:59.999Z" === new S(-1).toISOString() || (S.prototype.toISOString = function() {
var e, t, n, i;
if (!isFinite(this)) throw new RangeError("Date.prototype.toISOString called on non-finite value.");
for (i = this.getUTCFullYear(), i += ~~((e = this.getUTCMonth()) / 12), e = [ (e % 12 + 12) % 12 + 1, this.getUTCDate(), this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds() ], i = (i < 0 ? "-" : i > 9999 ? "+" : "") + ("00000" + Math.abs(i)).slice(0 <= i && i <= 9999 ? -4 : -6), t = e.length; t--; ) (n = e[t]) < 10 && (e[t] = "0" + n);
return i + "-" + e.slice(0, 2).join("-") + "T" + e.slice(2).join(":") + "." + ("000" + this.getUTCMilliseconds()).slice(-3) + "Z";
}), S.now || (S.now = function() {
return new S().getTime();
});

var Ua;

if (!(Ua = !S.prototype.toJSON)) {
var Va;
if (!(Va = s.call(new S(-621987552e5).toJSON(), "-000001"))) {
var Wa;
e: {
try {
Wa = S.prototype.toJSON.call({
toISOString: function() {
return -1;
}
});
break e;
} catch (e) {}
Wa = g;
}
Va = ~Wa;
}
Ua = Va;
}

if (Ua && (S.prototype.toJSON = function() {
return v(this.toISOString, this);
}), !S.parse) {
T = function(e, t, n, i, r, o, a) {
var s = arguments.length;
return this instanceof S ? (s = 1 == s && String(e) === e ? new S(T.parse(e)) : s >= 7 ? new S(e, t, n, i, r, o, a) : s >= 6 ? new S(e, t, n, i, r, o) : s >= 5 ? new S(e, t, n, i, r) : s >= 4 ? new S(e, t, n, i) : s >= 3 ? new S(e, t, n) : s >= 2 ? new S(e, t) : s >= 1 ? new S(e) : new S(), s.constructor = T, s) : S.apply(this, arguments);
}, Ca = RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"), U = [ 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365 ], V = function(e) {
return Math.ceil(e / 4) - Math.ceil(e / 100) + Math.ceil(e / 400);
};
for (D in S) T[D] = S[D];
T.now = S.now, T.UTC = S.UTC, T.prototype = S.prototype, T.prototype.constructor = T, T.parse = function(e) {
if (d = Ca.exec(e)) {
var t = Number(d[1]), n = Number(d[2] || 1), i = Number(d[3] || 1), r = Number(d[4] || 0), o = Number(d[5] || 0), a = Number(d[6] || 0), s = Number(d[7] || 0), l = d[8] ? 0 : Number(new Date(1970, 0)), c = "-" === d[9] ? 1 : -1, u = Number(d[10] || 0), d = Number(d[11] || 0), h = V(t), p = V(t + 1);
return r < (o > 0 || a > 0 || s > 0 ? 24 : 25) && o < 60 && a < 60 && s < 1e3 && u < 24 && d < 60 && n > 0 && n < 13 && i > 0 && i < 1 + U[n] - U[n - 1] + (2 === n ? p - h : 0) && (t = 365 * (t - 1970) + (n > 2 ? p : h) - V(1970) + U[n - 1] + i - 1, -864e13 <= (t = 1e3 * (60 * (60 * (24 * t + r + u * c) + o + d * c) + a) + s + l) && t <= 864e13) ? t : NaN;
}
return S.parse.apply(this, arguments);
}, n.Date = T;
}

if ((D = n._) && D.ielt9shims && (D.ielt9shims.forEach(v), n._ = D.orig_), w = D = A = ca = z = E = F = G = I = y = T = ka = g, function(e, t) {
"object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? t(e, !0) : function(e) {
if (!e.document) throw new Error("jQuery requires a window with a document");
return t(e);
} : t(e);
}("undefined" != typeof window ? window : this, function(e, t) {
function n(e) {
var t = "length" in e && e.length, n = Q.type(e);
return "function" !== n && !Q.isWindow(e) && (!(1 !== e.nodeType || !t) || ("array" === n || 0 === t || "number" == typeof t && t > 0 && t - 1 in e));
}
function i(e, t, n) {
if (Q.isFunction(t)) return Q.grep(e, function(e, i) {
return !!t.call(e, i, e) !== n;
});
if (t.nodeType) return Q.grep(e, function(e) {
return e === t !== n;
});
if ("string" == typeof t) {
if (oe.test(t)) return Q.filter(t, e, n);
t = Q.filter(t, e);
}
return Q.grep(e, function(e) {
return W.call(t, e) >= 0 !== n;
});
}
function r(e, t) {
for (;(e = e[t]) && 1 !== e.nodeType; ) ;
return e;
}
function o(e) {
var t = de[e] = {};
return Q.each(e.match(ue) || [], function(e, n) {
t[n] = !0;
}), t;
}
function a() {
X.removeEventListener("DOMContentLoaded", a, !1), e.removeEventListener("load", a, !1), Q.ready();
}
function s() {
Object.defineProperty(this.cache = {}, 0, {
get: function() {
return {};
}
}), this.expando = Q.expando + s.uid++;
}
function l(e, t, n) {
var i;
if (void 0 === n && 1 === e.nodeType) if (i = "data-" + t.replace(ve, "-$1").toLowerCase(), "string" == typeof (n = e.getAttribute(i))) {
try {
n = "true" === n || "false" !== n && ("null" === n ? null : +n + "" === n ? +n : me.test(n) ? Q.parseJSON(n) : n);
} catch (e) {}
ge.set(e, t, n);
} else n = void 0;
return n;
}
function c() {
return !0;
}
function u() {
return !1;
}
function d() {
try {
return X.activeElement;
} catch (e) {}
}
function h(e, t) {
return Q.nodeName(e, "table") && Q.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e;
}
function p(e) {
return e.type = (null !== e.getAttribute("type")) + "/" + e.type, e;
}
function f(e) {
var t = Me.exec(e.type);
return t ? e.type = t[1] : e.removeAttribute("type"), e;
}
function g(e, t) {
for (var n = 0, i = e.length; n < i; n++) fe.set(e[n], "globalEval", !t || fe.get(t[n], "globalEval"));
}
function m(e, t) {
var n, i, r, o, a, s, l, c;
if (1 === t.nodeType) {
if (fe.hasData(e) && (o = fe.access(e), a = fe.set(t, o), c = o.events)) {
delete a.handle, a.events = {};
for (r in c) for (n = 0, i = c[r].length; n < i; n++) Q.event.add(t, r, c[r][n]);
}
ge.hasData(e) && (s = ge.access(e), l = Q.extend({}, s), ge.set(t, l));
}
}
function v(e, t) {
var n = e.getElementsByTagName ? e.getElementsByTagName(t || "*") : e.querySelectorAll ? e.querySelectorAll(t || "*") : [];
return void 0 === t || t && Q.nodeName(e, t) ? Q.merge([ e ], n) : n;
}
function y(e, t) {
var n = t.nodeName.toLowerCase();
"input" === n && xe.test(e.type) ? t.checked = e.checked : "input" !== n && "textarea" !== n || (t.defaultValue = e.defaultValue);
}
function b(t, n) {
var i, r = Q(n.createElement(t)).appendTo(n.body), o = e.getDefaultComputedStyle && (i = e.getDefaultComputedStyle(r[0])) ? i.display : Q.css(r[0], "display");
return r.detach(), o;
}
function w(e) {
var t = X, n = Oe[e];
return n || ("none" !== (n = b(e, t)) && n || ((t = (Pe = (Pe || Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(), t.close(), n = b(e, t), Pe.detach()), Oe[e] = n), n;
}
function x(e, t, n) {
var i, r, o, a, s = e.style;
return (n = n || Ne(e)) && (a = n.getPropertyValue(t) || n[t]), n && ("" !== a || Q.contains(e.ownerDocument, e) || (a = Q.style(e, t)), Be.test(a) && Re.test(t) && (i = s.width, r = s.minWidth, o = s.maxWidth, s.minWidth = s.maxWidth = s.width = a, a = n.width, s.width = i, s.minWidth = r, s.maxWidth = o)), void 0 !== a ? a + "" : a;
}
function C(e, t) {
return {
get: function() {
if (!e()) return (this.get = t).apply(this, arguments);
delete this.get;
}
};
}
function _(e, t) {
if (t in e) return t;
for (var n = t[0].toUpperCase() + t.slice(1), i = t, r = We.length; r--; ) if ((t = We[r] + n) in e) return t;
return i;
}
function S(e, t, n) {
var i = Ue.exec(t);
return i ? Math.max(0, i[1] - (n || 0)) + (i[2] || "px") : t;
}
function $(e, t, n, i, r) {
for (var o = n === (i ? "border" : "content") ? 4 : "width" === t ? 1 : 0, a = 0; o < 4; o += 2) "margin" === n && (a += Q.css(e, n + be[o], !0, r)), i ? ("content" === n && (a -= Q.css(e, "padding" + be[o], !0, r)), "margin" !== n && (a -= Q.css(e, "border" + be[o] + "Width", !0, r))) : (a += Q.css(e, "padding" + be[o], !0, r), "padding" !== n && (a += Q.css(e, "border" + be[o] + "Width", !0, r)));
return a;
}
function A(e, t, n) {
var i = !0, r = "width" === t ? e.offsetWidth : e.offsetHeight, o = Ne(e), a = "border-box" === Q.css(e, "boxSizing", !1, o);
if (r <= 0 || null == r) {
if (((r = x(e, t, o)) < 0 || null == r) && (r = e.style[t]), Be.test(r)) return r;
i = a && (K.boxSizingReliable() || r === e.style[t]), r = parseFloat(r) || 0;
}
return r + $(e, t, n || (a ? "border" : "content"), i, o) + "px";
}
function k(e, t) {
for (var n, i, r, o = [], a = 0, s = e.length; a < s; a++) (i = e[a]).style && (o[a] = fe.get(i, "olddisplay"), n = i.style.display, t ? (o[a] || "none" !== n || (i.style.display = ""), "" === i.style.display && we(i) && (o[a] = fe.access(i, "olddisplay", w(i.nodeName)))) : (r = we(i), "none" === n && r || fe.set(i, "olddisplay", r ? n : Q.css(i, "display"))));
for (a = 0; a < s; a++) (i = e[a]).style && (t && "none" !== i.style.display && "" !== i.style.display || (i.style.display = t ? o[a] || "" : "none"));
return e;
}
function E(e, t, n, i, r) {
return new E.prototype.init(e, t, n, i, r);
}
function T() {
return setTimeout(function() {
Ge = void 0;
}), Ge = Q.now();
}
function D(e, t) {
var n, i = 0, r = {
height: e
};
for (t = t ? 1 : 0; i < 4; i += 2 - t) r["margin" + (n = be[i])] = r["padding" + n] = e;
return t && (r.opacity = r.width = e), r;
}
function F(e, t, n) {
for (var i, r = (Je[t] || []).concat(Je["*"]), o = 0, a = r.length; o < a; o++) if (i = r[o].call(n, t, e)) return i;
}
function M(e, t) {
var n, i, r, o, a;
for (n in e) if (i = Q.camelCase(n), r = t[i], o = e[n], Q.isArray(o) && (r = o[1], o = e[n] = o[0]), n !== i && (e[i] = o, delete e[n]), (a = Q.cssHooks[i]) && "expand" in a) {
o = a.expand(o), delete e[i];
for (n in o) n in e || (e[n] = o[n], t[n] = r);
} else t[i] = r;
}
function I(e, t, n) {
var i, r, o = 0, a = Qe.length, s = Q.Deferred().always(function() {
delete l.elem;
}), l = function() {
if (r) return !1;
for (var t = Ge || T(), n = Math.max(0, c.startTime + c.duration - t), i = 1 - (n / c.duration || 0), o = 0, a = c.tweens.length; o < a; o++) c.tweens[o].run(i);
return s.notifyWith(e, [ c, i, n ]), i < 1 && a ? n : (s.resolveWith(e, [ c ]), !1);
}, c = s.promise({
elem: e,
props: Q.extend({}, t),
opts: Q.extend(!0, {
specialEasing: {}
}, n),
originalProperties: t,
originalOptions: n,
startTime: Ge || T(),
duration: n.duration,
tweens: [],
createTween: function(t, n) {
var i = Q.Tween(e, c.opts, t, n, c.opts.specialEasing[t] || c.opts.easing);
return c.tweens.push(i), i;
},
stop: function(t) {
var n = 0, i = t ? c.tweens.length : 0;
if (r) return this;
for (r = !0; n < i; n++) c.tweens[n].run(1);
return t ? s.resolveWith(e, [ c, t ]) : s.rejectWith(e, [ c, t ]), this;
}
}), u = c.props;
for (M(u, c.opts.specialEasing); o < a; o++) if (i = Qe[o].call(c, e, u, c.opts)) return i;
return Q.map(u, F, c), Q.isFunction(c.opts.start) && c.opts.start.call(e, c), Q.fx.timer(Q.extend(l, {
elem: e,
anim: c,
queue: c.opts.queue
})), c.progress(c.opts.progress).done(c.opts.done, c.opts.complete).fail(c.opts.fail).always(c.opts.always);
}
function L(e) {
return function(t, n) {
"string" != typeof t && (n = t, t = "*");
var i, r = 0, o = t.toLowerCase().match(ue) || [];
if (Q.isFunction(n)) for (;i = o[r++]; ) "+" === i[0] ? (i = i.slice(1) || "*", (e[i] = e[i] || []).unshift(n)) : (e[i] = e[i] || []).push(n);
};
}
function P(e, t, n, i) {
function r(s) {
var l;
return o[s] = !0, Q.each(e[s] || [], function(e, s) {
var c = s(t, n, i);
return "string" != typeof c || a || o[c] ? a ? !(l = c) : void 0 : (t.dataTypes.unshift(c), r(c), !1);
}), l;
}
var o = {}, a = e === ft;
return r(t.dataTypes[0]) || !o["*"] && r("*");
}
function O(e, t) {
var n, i, r = Q.ajaxSettings.flatOptions || {};
for (n in t) void 0 !== t[n] && ((r[n] ? e : i || (i = {}))[n] = t[n]);
return i && Q.extend(!0, e, i), e;
}
function R(e, t, n) {
for (var i, r, o, a, s = e.contents, l = e.dataTypes; "*" === l[0]; ) l.shift(), void 0 === i && (i = e.mimeType || t.getResponseHeader("Content-Type"));
if (i) for (r in s) if (s[r] && s[r].test(i)) {
l.unshift(r);
break;
}
if (l[0] in n) o = l[0]; else {
for (r in n) {
if (!l[0] || e.converters[r + " " + l[0]]) {
o = r;
break;
}
a || (a = r);
}
o = o || a;
}
if (o) return o !== l[0] && l.unshift(o), n[o];
}
function B(e, t, n, i) {
var r, o, a, s, l, c = {}, u = e.dataTypes.slice();
if (u[1]) for (a in e.converters) c[a.toLowerCase()] = e.converters[a];
for (o = u.shift(); o; ) if (e.responseFields[o] && (n[e.responseFields[o]] = t), !l && i && e.dataFilter && (t = e.dataFilter(t, e.dataType)), l = o, o = u.shift()) if ("*" === o) o = l; else if ("*" !== l && l !== o) {
if (!(a = c[l + " " + o] || c["* " + o])) for (r in c) if ((s = r.split(" "))[1] === o && (a = c[l + " " + s[0]] || c["* " + s[0]])) {
!0 === a ? a = c[r] : !0 !== c[r] && (o = s[0], u.unshift(s[1]));
break;
}
if (!0 !== a) if (a && e.throws) t = a(t); else try {
t = a(t);
} catch (e) {
return {
state: "parsererror",
error: a ? e : "No conversion from " + l + " to " + o
};
}
}
return {
state: "success",
data: t
};
}
function N(e, t, n, i) {
var r;
if (Q.isArray(t)) Q.each(t, function(t, r) {
n || bt.test(e) ? i(e, r) : N(e + "[" + ("object" == typeof r ? t : "") + "]", r, n, i);
}); else if (n || "object" !== Q.type(t)) i(e, t); else for (r in t) N(e + "[" + r + "]", t[r], n, i);
}
function j(e) {
return Q.isWindow(e) ? e : 9 === e.nodeType && e.defaultView;
}
var U = [], V = U.slice, H = U.concat, z = U.push, W = U.indexOf, G = {}, q = G.toString, Y = G.hasOwnProperty, K = {}, X = e.document, Q = function(e, t) {
return new Q.fn.init(e, t);
}, J = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, Z = /^-ms-/, ee = /-([\da-z])/gi, te = function(e, t) {
return t.toUpperCase();
};
Q.fn = Q.prototype = {
jquery: "2.1.4",
constructor: Q,
selector: "",
length: 0,
toArray: function() {
return V.call(this);
},
get: function(e) {
return null != e ? e < 0 ? this[e + this.length] : this[e] : V.call(this);
},
pushStack: function(e) {
var t = Q.merge(this.constructor(), e);
return t.prevObject = this, t.context = this.context, t;
},
each: function(e, t) {
return Q.each(this, e, t);
},
map: function(e) {
return this.pushStack(Q.map(this, function(t, n) {
return e.call(t, n, t);
}));
},
slice: function() {
return this.pushStack(V.apply(this, arguments));
},
first: function() {
return this.eq(0);
},
last: function() {
return this.eq(-1);
},
eq: function(e) {
var t = this.length, n = +e + (e < 0 ? t : 0);
return this.pushStack(n >= 0 && n < t ? [ this[n] ] : []);
},
end: function() {
return this.prevObject || this.constructor(null);
},
push: z,
sort: U.sort,
splice: U.splice
}, Q.extend = Q.fn.extend = function() {
var e, t, n, i, r, o, a = arguments[0] || {}, s = 1, l = arguments.length, c = !1;
for ("boolean" == typeof a && (c = a, a = arguments[s] || {}, s++), "object" == typeof a || Q.isFunction(a) || (a = {}), s === l && (a = this, s--); s < l; s++) if (null != (e = arguments[s])) for (t in e) n = a[t], a !== (i = e[t]) && (c && i && (Q.isPlainObject(i) || (r = Q.isArray(i))) ? (r ? (r = !1, o = n && Q.isArray(n) ? n : []) : o = n && Q.isPlainObject(n) ? n : {}, a[t] = Q.extend(c, o, i)) : void 0 !== i && (a[t] = i));
return a;
}, Q.extend({
expando: "jQuery" + ("2.1.4" + Math.random()).replace(/\D/g, ""),
isReady: !0,
error: function(e) {
throw new Error(e);
},
noop: function() {},
isFunction: function(e) {
return "function" === Q.type(e);
},
isArray: Array.isArray,
isWindow: function(e) {
return null != e && e === e.window;
},
isNumeric: function(e) {
return !Q.isArray(e) && e - parseFloat(e) + 1 >= 0;
},
isPlainObject: function(e) {
return "object" === Q.type(e) && !e.nodeType && !Q.isWindow(e) && !(e.constructor && !Y.call(e.constructor.prototype, "isPrototypeOf"));
},
isEmptyObject: function(e) {
var t;
for (t in e) return !1;
return !0;
},
type: function(e) {
return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? G[q.call(e)] || "object" : typeof e;
},
globalEval: function(e) {
var t, n = eval;
(e = Q.trim(e)) && (1 === e.indexOf("use strict") ? ((t = X.createElement("script")).text = e, X.head.appendChild(t).parentNode.removeChild(t)) : n(e));
},
camelCase: function(e) {
return e.replace(Z, "ms-").replace(ee, te);
},
nodeName: function(e, t) {
return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase();
},
each: function(e, t, i) {
var r = 0, o = e.length, a = n(e);
if (i) {
if (a) for (;r < o && !1 !== t.apply(e[r], i); r++) ; else for (r in e) if (!1 === t.apply(e[r], i)) break;
} else if (a) for (;r < o && !1 !== t.call(e[r], r, e[r]); r++) ; else for (r in e) if (!1 === t.call(e[r], r, e[r])) break;
return e;
},
trim: function(e) {
return null == e ? "" : (e + "").replace(J, "");
},
makeArray: function(e, t) {
var i = t || [];
return null != e && (n(Object(e)) ? Q.merge(i, "string" == typeof e ? [ e ] : e) : z.call(i, e)), i;
},
inArray: function(e, t, n) {
return null == t ? -1 : W.call(t, e, n);
},
merge: function(e, t) {
for (var n = +t.length, i = 0, r = e.length; i < n; i++) e[r++] = t[i];
return e.length = r, e;
},
grep: function(e, t, n) {
for (var i = [], r = 0, o = e.length, a = !n; r < o; r++) !t(e[r], r) !== a && i.push(e[r]);
return i;
},
map: function(e, t, i) {
var r, o = 0, a = e.length, s = [];
if (n(e)) for (;o < a; o++) null != (r = t(e[o], o, i)) && s.push(r); else for (o in e) null != (r = t(e[o], o, i)) && s.push(r);
return H.apply([], s);
},
guid: 1,
proxy: function(e, t) {
var n, i, r;
if ("string" == typeof t && (n = e[t], t = e, e = n), Q.isFunction(e)) return i = V.call(arguments, 2), r = function() {
return e.apply(t || this, i.concat(V.call(arguments)));
}, r.guid = e.guid = e.guid || Q.guid++, r;
},
now: Date.now,
support: K
}), Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(e, t) {
G["[object " + t + "]"] = t.toLowerCase();
});
var ne = function(e) {
function t(e, t, n, i) {
var r, o, a, s, c, d, h, p, f, g;
if ((t ? t.ownerDocument || t : B) !== D && T(t), t = t || D, n = n || [], s = t.nodeType, "string" != typeof e || !e || 1 !== s && 9 !== s && 11 !== s) return n;
if (!i && M) {
if (11 !== s && (r = me.exec(e))) if (a = r[1]) {
if (9 === s) {
if (!(o = t.getElementById(a)) || !o.parentNode) return n;
if (o.id === a) return n.push(o), n;
} else if (t.ownerDocument && (o = t.ownerDocument.getElementById(a)) && O(t, o) && o.id === a) return n.push(o), n;
} else {
if (r[2]) return X.apply(n, t.getElementsByTagName(e)), n;
if ((a = r[3]) && b.getElementsByClassName) return X.apply(n, t.getElementsByClassName(a)), n;
}
if (b.qsa && (!I || !I.test(e))) {
if (p = h = R, f = t, g = 1 !== s && e, 1 === s && "object" !== t.nodeName.toLowerCase()) {
for (d = _(e), (h = t.getAttribute("id")) ? p = h.replace(ye, "\\$&") : t.setAttribute("id", p), p = "[id='" + p + "'] ", c = d.length; c--; ) d[c] = p + u(d[c]);
f = ve.test(e) && l(t.parentNode) || t, g = d.join(",");
}
if (g) try {
return X.apply(n, f.querySelectorAll(g)), n;
} catch (e) {} finally {
h || t.removeAttribute("id");
}
}
}
return $(e.replace(ae, "$1"), t, n, i);
}
function n() {
function e(n, i) {
return t.push(n + " ") > w.cacheLength && delete e[t.shift()], e[n + " "] = i;
}
var t = [];
return e;
}
function i(e) {
return e[R] = !0, e;
}
function r(e) {
var t = D.createElement("div");
try {
return !!e(t);
} catch (e) {
return !1;
} finally {
t.parentNode && t.parentNode.removeChild(t), t = null;
}
}
function o(e, t) {
for (var n = e.split("|"), i = e.length; i--; ) w.attrHandle[n[i]] = t;
}
function a(e, t) {
var n = t && e, i = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || W) - (~e.sourceIndex || W);
if (i) return i;
if (n) for (;n = n.nextSibling; ) if (n === t) return -1;
return e ? 1 : -1;
}
function s(e) {
return i(function(t) {
return t = +t, i(function(n, i) {
for (var r, o = e([], n.length, t), a = o.length; a--; ) n[r = o[a]] && (n[r] = !(i[r] = n[r]));
});
});
}
function l(e) {
return e && void 0 !== e.getElementsByTagName && e;
}
function c() {}
function u(e) {
for (var t = 0, n = e.length, i = ""; t < n; t++) i += e[t].value;
return i;
}
function d(e, t, n) {
var i = t.dir, r = n && "parentNode" === i, o = j++;
return t.first ? function(t, n, o) {
for (;t = t[i]; ) if (1 === t.nodeType || r) return e(t, n, o);
} : function(t, n, a) {
var s, l, c = [ N, o ];
if (a) {
for (;t = t[i]; ) if ((1 === t.nodeType || r) && e(t, n, a)) return !0;
} else for (;t = t[i]; ) if (1 === t.nodeType || r) {
if (l = t[R] || (t[R] = {}), (s = l[i]) && s[0] === N && s[1] === o) return c[2] = s[2];
if (l[i] = c, c[2] = e(t, n, a)) return !0;
}
};
}
function h(e) {
return e.length > 1 ? function(t, n, i) {
for (var r = e.length; r--; ) if (!e[r](t, n, i)) return !1;
return !0;
} : e[0];
}
function p(e, n, i) {
for (var r = 0, o = n.length; r < o; r++) t(e, n[r], i);
return i;
}
function f(e, t, n, i, r) {
for (var o, a = [], s = 0, l = e.length, c = null != t; s < l; s++) (o = e[s]) && (n && !n(o, i, r) || (a.push(o), c && t.push(s)));
return a;
}
function g(e, t, n, r, o, a) {
return r && !r[R] && (r = g(r)), o && !o[R] && (o = g(o, a)), i(function(i, a, s, l) {
var c, u, d, h = [], g = [], m = a.length, v = i || p(t || "*", s.nodeType ? [ s ] : s, []), y = !e || !i && t ? v : f(v, h, e, s, l), b = n ? o || (i ? e : m || r) ? [] : a : y;
if (n && n(y, b, s, l), r) for (c = f(b, g), r(c, [], s, l), u = c.length; u--; ) (d = c[u]) && (b[g[u]] = !(y[g[u]] = d));
if (i) {
if (o || e) {
if (o) {
for (c = [], u = b.length; u--; ) (d = b[u]) && c.push(y[u] = d);
o(null, b = [], c, l);
}
for (u = b.length; u--; ) (d = b[u]) && (c = o ? J(i, d) : h[u]) > -1 && (i[c] = !(a[c] = d));
}
} else b = f(b === a ? b.splice(m, b.length) : b), o ? o(null, a, b, l) : X.apply(a, b);
});
}
function m(e) {
for (var t, n, i, r = e.length, o = w.relative[e[0].type], a = o || w.relative[" "], s = o ? 1 : 0, l = d(function(e) {
return e === t;
}, a, !0), c = d(function(e) {
return J(t, e) > -1;
}, a, !0), p = [ function(e, n, i) {
var r = !o && (i || n !== A) || ((t = n).nodeType ? l(e, n, i) : c(e, n, i));
return t = null, r;
} ]; s < r; s++) if (n = w.relative[e[s].type]) p = [ d(h(p), n) ]; else {
if ((n = w.filter[e[s].type].apply(null, e[s].matches))[R]) {
for (i = ++s; i < r && !w.relative[e[i].type]; i++) ;
return g(s > 1 && h(p), s > 1 && u(e.slice(0, s - 1).concat({
value: " " === e[s - 2].type ? "*" : ""
})).replace(ae, "$1"), n, s < i && m(e.slice(s, i)), i < r && m(e = e.slice(i)), i < r && u(e));
}
p.push(n);
}
return h(p);
}
function v(e, n) {
var r = n.length > 0, o = e.length > 0, a = function(i, a, s, l, c) {
var u, d, h, p = 0, g = "0", m = i && [], v = [], y = A, b = i || o && w.find.TAG("*", c), x = N += null == y ? 1 : Math.random() || .1, C = b.length;
for (c && (A = a !== D && a); g !== C && null != (u = b[g]); g++) {
if (o && u) {
for (d = 0; h = e[d++]; ) if (h(u, a, s)) {
l.push(u);
break;
}
c && (N = x);
}
r && ((u = !h && u) && p--, i && m.push(u));
}
if (p += g, r && g !== p) {
for (d = 0; h = n[d++]; ) h(m, v, a, s);
if (i) {
if (p > 0) for (;g--; ) m[g] || v[g] || (v[g] = Y.call(l));
v = f(v);
}
X.apply(l, v), c && !i && v.length > 0 && p + n.length > 1 && t.uniqueSort(l);
}
return c && (N = x, A = y), m;
};
return r ? i(a) : a;
}
var y, b, w, x, C, _, S, $, A, k, E, T, D, F, M, I, L, P, O, R = "sizzle" + 1 * new Date(), B = e.document, N = 0, j = 0, U = n(), V = n(), H = n(), z = function(e, t) {
return e === t && (E = !0), 0;
}, W = 1 << 31, G = {}.hasOwnProperty, q = [], Y = q.pop, K = q.push, X = q.push, Q = q.slice, J = function(e, t) {
for (var n = 0, i = e.length; n < i; n++) if (e[n] === t) return n;
return -1;
}, Z = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", ee = "[\\x20\\t\\r\\n\\f]", te = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", ne = te.replace("w", "w#"), ie = "\\[" + ee + "*(" + te + ")(?:" + ee + "*([*^$|!~]?=)" + ee + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ne + "))|)" + ee + "*\\]", re = ":(" + te + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ie + ")*)|.*)\\)|)", oe = new RegExp(ee + "+", "g"), ae = new RegExp("^" + ee + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ee + "+$", "g"), se = new RegExp("^" + ee + "*," + ee + "*"), le = new RegExp("^" + ee + "*([>+~]|" + ee + ")" + ee + "*"), ce = new RegExp("=" + ee + "*([^\\]'\"]*?)" + ee + "*\\]", "g"), ue = new RegExp(re), de = new RegExp("^" + ne + "$"), he = {
ID: new RegExp("^#(" + te + ")"),
CLASS: new RegExp("^\\.(" + te + ")"),
TAG: new RegExp("^(" + te.replace("w", "w*") + ")"),
ATTR: new RegExp("^" + ie),
PSEUDO: new RegExp("^" + re),
CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ee + "*(even|odd|(([+-]|)(\\d*)n|)" + ee + "*(?:([+-]|)" + ee + "*(\\d+)|))" + ee + "*\\)|)", "i"),
bool: new RegExp("^(?:" + Z + ")$", "i"),
needsContext: new RegExp("^" + ee + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ee + "*((?:-\\d)?\\d*)" + ee + "*\\)|)(?=[^-]|$)", "i")
}, pe = /^(?:input|select|textarea|button)$/i, fe = /^h\d$/i, ge = /^[^{]+\{\s*\[native \w/, me = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ve = /[+~]/, ye = /'|\\/g, be = new RegExp("\\\\([\\da-f]{1,6}" + ee + "?|(" + ee + ")|.)", "ig"), we = function(e, t, n) {
var i = "0x" + t - 65536;
return i !== i || n ? t : i < 0 ? String.fromCharCode(i + 65536) : String.fromCharCode(i >> 10 | 55296, 1023 & i | 56320);
}, xe = function() {
T();
};
try {
X.apply(q = Q.call(B.childNodes), B.childNodes), q[B.childNodes.length].nodeType;
} catch (e) {
X = {
apply: q.length ? function(e, t) {
K.apply(e, Q.call(t));
} : function(e, t) {
for (var n = e.length, i = 0; e[n++] = t[i++]; ) ;
e.length = n - 1;
}
};
}
b = t.support = {}, C = t.isXML = function(e) {
var t = e && (e.ownerDocument || e).documentElement;
return !!t && "HTML" !== t.nodeName;
}, T = t.setDocument = function(e) {
var t, n, i = e ? e.ownerDocument || e : B;
return i !== D && 9 === i.nodeType && i.documentElement ? (D = i, F = i.documentElement, (n = i.defaultView) && n !== n.top && (n.addEventListener ? n.addEventListener("unload", xe, !1) : n.attachEvent && n.attachEvent("onunload", xe)), M = !C(i), b.attributes = r(function(e) {
return e.className = "i", !e.getAttribute("className");
}), b.getElementsByTagName = r(function(e) {
return e.appendChild(i.createComment("")), !e.getElementsByTagName("*").length;
}), b.getElementsByClassName = ge.test(i.getElementsByClassName), b.getById = r(function(e) {
return F.appendChild(e).id = R, !i.getElementsByName || !i.getElementsByName(R).length;
}), b.getById ? (w.find.ID = function(e, t) {
if (void 0 !== t.getElementById && M) {
var n = t.getElementById(e);
return n && n.parentNode ? [ n ] : [];
}
}, w.filter.ID = function(e) {
var t = e.replace(be, we);
return function(e) {
return e.getAttribute("id") === t;
};
}) : (delete w.find.ID, w.filter.ID = function(e) {
var t = e.replace(be, we);
return function(e) {
var n = void 0 !== e.getAttributeNode && e.getAttributeNode("id");
return n && n.value === t;
};
}), w.find.TAG = b.getElementsByTagName ? function(e, t) {
return void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e) : b.qsa ? t.querySelectorAll(e) : void 0;
} : function(e, t) {
var n, i = [], r = 0, o = t.getElementsByTagName(e);
if ("*" === e) {
for (;n = o[r++]; ) 1 === n.nodeType && i.push(n);
return i;
}
return o;
}, w.find.CLASS = b.getElementsByClassName && function(e, t) {
if (M) return t.getElementsByClassName(e);
}, L = [], I = [], (b.qsa = ge.test(i.querySelectorAll)) && (r(function(e) {
F.appendChild(e).innerHTML = "<a id='" + R + "'></a><select id='" + R + "-\f]' msallowcapture=''><option selected=''></option></select>", e.querySelectorAll("[msallowcapture^='']").length && I.push("[*^$]=" + ee + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || I.push("\\[" + ee + "*(?:value|" + Z + ")"), e.querySelectorAll("[id~=" + R + "-]").length || I.push("~="), e.querySelectorAll(":checked").length || I.push(":checked"), e.querySelectorAll("a#" + R + "+*").length || I.push(".#.+[+~]");
}), r(function(e) {
var t = i.createElement("input");
t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && I.push("name" + ee + "*[*^$|!~]?="), e.querySelectorAll(":enabled").length || I.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), I.push(",.*:");
})), (b.matchesSelector = ge.test(P = F.matches || F.webkitMatchesSelector || F.mozMatchesSelector || F.oMatchesSelector || F.msMatchesSelector)) && r(function(e) {
b.disconnectedMatch = P.call(e, "div"), P.call(e, "[s!='']:x"), L.push("!=", re);
}), I = I.length && new RegExp(I.join("|")), L = L.length && new RegExp(L.join("|")), t = ge.test(F.compareDocumentPosition), O = t || ge.test(F.contains) ? function(e, t) {
var n = 9 === e.nodeType ? e.documentElement : e, i = t && t.parentNode;
return e === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(i)));
} : function(e, t) {
if (t) for (;t = t.parentNode; ) if (t === e) return !0;
return !1;
}, z = t ? function(e, t) {
if (e === t) return E = !0, 0;
var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
return n || (1 & (n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !b.sortDetached && t.compareDocumentPosition(e) === n ? e === i || e.ownerDocument === B && O(B, e) ? -1 : t === i || t.ownerDocument === B && O(B, t) ? 1 : k ? J(k, e) - J(k, t) : 0 : 4 & n ? -1 : 1);
} : function(e, t) {
if (e === t) return E = !0, 0;
var n, r = 0, o = e.parentNode, s = t.parentNode, l = [ e ], c = [ t ];
if (!o || !s) return e === i ? -1 : t === i ? 1 : o ? -1 : s ? 1 : k ? J(k, e) - J(k, t) : 0;
if (o === s) return a(e, t);
for (n = e; n = n.parentNode; ) l.unshift(n);
for (n = t; n = n.parentNode; ) c.unshift(n);
for (;l[r] === c[r]; ) r++;
return r ? a(l[r], c[r]) : l[r] === B ? -1 : c[r] === B ? 1 : 0;
}, i) : D;
}, t.matches = function(e, n) {
return t(e, null, null, n);
}, t.matchesSelector = function(e, n) {
if ((e.ownerDocument || e) !== D && T(e), n = n.replace(ce, "='$1']"), b.matchesSelector && M && (!L || !L.test(n)) && (!I || !I.test(n))) try {
var i = P.call(e, n);
if (i || b.disconnectedMatch || e.document && 11 !== e.document.nodeType) return i;
} catch (e) {}
return t(n, D, null, [ e ]).length > 0;
}, t.contains = function(e, t) {
return (e.ownerDocument || e) !== D && T(e), O(e, t);
}, t.attr = function(e, t) {
(e.ownerDocument || e) !== D && T(e);
var n = w.attrHandle[t.toLowerCase()], i = n && G.call(w.attrHandle, t.toLowerCase()) ? n(e, t, !M) : void 0;
return void 0 !== i ? i : b.attributes || !M ? e.getAttribute(t) : (i = e.getAttributeNode(t)) && i.specified ? i.value : null;
}, t.error = function(e) {
throw new Error("Syntax error, unrecognized expression: " + e);
}, t.uniqueSort = function(e) {
var t, n = [], i = 0, r = 0;
if (E = !b.detectDuplicates, k = !b.sortStable && e.slice(0), e.sort(z), E) {
for (;t = e[r++]; ) t === e[r] && (i = n.push(r));
for (;i--; ) e.splice(n[i], 1);
}
return k = null, e;
}, x = t.getText = function(e) {
var t, n = "", i = 0, r = e.nodeType;
if (r) {
if (1 === r || 9 === r || 11 === r) {
if ("string" == typeof e.textContent) return e.textContent;
for (e = e.firstChild; e; e = e.nextSibling) n += x(e);
} else if (3 === r || 4 === r) return e.nodeValue;
} else for (;t = e[i++]; ) n += x(t);
return n;
}, (w = t.selectors = {
cacheLength: 50,
createPseudo: i,
match: he,
attrHandle: {},
find: {},
relative: {
">": {
dir: "parentNode",
first: !0
},
" ": {
dir: "parentNode"
},
"+": {
dir: "previousSibling",
first: !0
},
"~": {
dir: "previousSibling"
}
},
preFilter: {
ATTR: function(e) {
return e[1] = e[1].replace(be, we), e[3] = (e[3] || e[4] || e[5] || "").replace(be, we), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4);
},
CHILD: function(e) {
return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || t.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && t.error(e[0]), e;
},
PSEUDO: function(e) {
var t, n = !e[6] && e[2];
return he.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && ue.test(n) && (t = _(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3));
}
},
filter: {
TAG: function(e) {
var t = e.replace(be, we).toLowerCase();
return "*" === e ? function() {
return !0;
} : function(e) {
return e.nodeName && e.nodeName.toLowerCase() === t;
};
},
CLASS: function(e) {
var t = U[e + " "];
return t || (t = new RegExp("(^|" + ee + ")" + e + "(" + ee + "|$)")) && U(e, function(e) {
return t.test("string" == typeof e.className && e.className || void 0 !== e.getAttribute && e.getAttribute("class") || "");
});
},
ATTR: function(e, n, i) {
return function(r) {
var o = t.attr(r, e);
return null == o ? "!=" === n : !n || (o += "", "=" === n ? o === i : "!=" === n ? o !== i : "^=" === n ? i && 0 === o.indexOf(i) : "*=" === n ? i && o.indexOf(i) > -1 : "$=" === n ? i && o.slice(-i.length) === i : "~=" === n ? (" " + o.replace(oe, " ") + " ").indexOf(i) > -1 : "|=" === n && (o === i || o.slice(0, i.length + 1) === i + "-"));
};
},
CHILD: function(e, t, n, i, r) {
var o = "nth" !== e.slice(0, 3), a = "last" !== e.slice(-4), s = "of-type" === t;
return 1 === i && 0 === r ? function(e) {
return !!e.parentNode;
} : function(t, n, l) {
var c, u, d, h, p, f, g = o !== a ? "nextSibling" : "previousSibling", m = t.parentNode, v = s && t.nodeName.toLowerCase(), y = !l && !s;
if (m) {
if (o) {
for (;g; ) {
for (d = t; d = d[g]; ) if (s ? d.nodeName.toLowerCase() === v : 1 === d.nodeType) return !1;
f = g = "only" === e && !f && "nextSibling";
}
return !0;
}
if (f = [ a ? m.firstChild : m.lastChild ], a && y) {
for (p = (c = (u = m[R] || (m[R] = {}))[e] || [])[0] === N && c[1], h = c[0] === N && c[2], d = p && m.childNodes[p]; d = ++p && d && d[g] || (h = p = 0) || f.pop(); ) if (1 === d.nodeType && ++h && d === t) {
u[e] = [ N, p, h ];
break;
}
} else if (y && (c = (t[R] || (t[R] = {}))[e]) && c[0] === N) h = c[1]; else for (;(d = ++p && d && d[g] || (h = p = 0) || f.pop()) && ((s ? d.nodeName.toLowerCase() !== v : 1 !== d.nodeType) || !++h || (y && ((d[R] || (d[R] = {}))[e] = [ N, h ]), d !== t)); ) ;
return (h -= r) === i || h % i == 0 && h / i >= 0;
}
};
},
PSEUDO: function(e, n) {
var r, o = w.pseudos[e] || w.setFilters[e.toLowerCase()] || t.error("unsupported pseudo: " + e);
return o[R] ? o(n) : o.length > 1 ? (r = [ e, e, "", n ], w.setFilters.hasOwnProperty(e.toLowerCase()) ? i(function(e, t) {
for (var i, r = o(e, n), a = r.length; a--; ) e[i = J(e, r[a])] = !(t[i] = r[a]);
}) : function(e) {
return o(e, 0, r);
}) : o;
}
},
pseudos: {
not: i(function(e) {
var t = [], n = [], r = S(e.replace(ae, "$1"));
return r[R] ? i(function(e, t, n, i) {
for (var o, a = r(e, null, i, []), s = e.length; s--; ) (o = a[s]) && (e[s] = !(t[s] = o));
}) : function(e, i, o) {
return t[0] = e, r(t, null, o, n), t[0] = null, !n.pop();
};
}),
has: i(function(e) {
return function(n) {
return t(e, n).length > 0;
};
}),
contains: i(function(e) {
return e = e.replace(be, we), function(t) {
return (t.textContent || t.innerText || x(t)).indexOf(e) > -1;
};
}),
lang: i(function(e) {
return de.test(e || "") || t.error("unsupported lang: " + e), e = e.replace(be, we).toLowerCase(), function(t) {
var n;
do {
if (n = M ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-");
} while ((t = t.parentNode) && 1 === t.nodeType);
return !1;
};
}),
target: function(t) {
var n = e.location && e.location.hash;
return n && n.slice(1) === t.id;
},
root: function(e) {
return e === F;
},
focus: function(e) {
return e === D.activeElement && (!D.hasFocus || D.hasFocus()) && !!(e.type || e.href || ~e.tabIndex);
},
enabled: function(e) {
return !1 === e.disabled;
},
disabled: function(e) {
return !0 === e.disabled;
},
checked: function(e) {
var t = e.nodeName.toLowerCase();
return "input" === t && !!e.checked || "option" === t && !!e.selected;
},
selected: function(e) {
return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected;
},
empty: function(e) {
for (e = e.firstChild; e; e = e.nextSibling) if (e.nodeType < 6) return !1;
return !0;
},
parent: function(e) {
return !w.pseudos.empty(e);
},
header: function(e) {
return fe.test(e.nodeName);
},
input: function(e) {
return pe.test(e.nodeName);
},
button: function(e) {
var t = e.nodeName.toLowerCase();
return "input" === t && "button" === e.type || "button" === t;
},
text: function(e) {
var t;
return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase());
},
first: s(function() {
return [ 0 ];
}),
last: s(function(e, t) {
return [ t - 1 ];
}),
eq: s(function(e, t, n) {
return [ n < 0 ? n + t : n ];
}),
even: s(function(e, t) {
for (var n = 0; n < t; n += 2) e.push(n);
return e;
}),
odd: s(function(e, t) {
for (var n = 1; n < t; n += 2) e.push(n);
return e;
}),
lt: s(function(e, t, n) {
for (var i = n < 0 ? n + t : n; --i >= 0; ) e.push(i);
return e;
}),
gt: s(function(e, t, n) {
for (var i = n < 0 ? n + t : n; ++i < t; ) e.push(i);
return e;
})
}
}).pseudos.nth = w.pseudos.eq;
for (y in {
radio: !0,
checkbox: !0,
file: !0,
password: !0,
image: !0
}) w.pseudos[y] = function(e) {
return function(t) {
return "input" === t.nodeName.toLowerCase() && t.type === e;
};
}(y);
for (y in {
submit: !0,
reset: !0
}) w.pseudos[y] = function(e) {
return function(t) {
var n = t.nodeName.toLowerCase();
return ("input" === n || "button" === n) && t.type === e;
};
}(y);
return c.prototype = w.filters = w.pseudos, w.setFilters = new c(), _ = t.tokenize = function(e, n) {
var i, r, o, a, s, l, c, u = V[e + " "];
if (u) return n ? 0 : u.slice(0);
for (s = e, l = [], c = w.preFilter; s; ) {
i && !(r = se.exec(s)) || (r && (s = s.slice(r[0].length) || s), l.push(o = [])), i = !1, (r = le.exec(s)) && (i = r.shift(), o.push({
value: i,
type: r[0].replace(ae, " ")
}), s = s.slice(i.length));
for (a in w.filter) !(r = he[a].exec(s)) || c[a] && !(r = c[a](r)) || (i = r.shift(), o.push({
value: i,
type: a,
matches: r
}), s = s.slice(i.length));
if (!i) break;
}
return n ? s.length : s ? t.error(e) : V(e, l).slice(0);
}, S = t.compile = function(e, t) {
var n, i = [], r = [], o = H[e + " "];
if (!o) {
for (t || (t = _(e)), n = t.length; n--; ) (o = m(t[n]))[R] ? i.push(o) : r.push(o);
(o = H(e, v(r, i))).selector = e;
}
return o;
}, $ = t.select = function(e, t, n, i) {
var r, o, a, s, c, d = "function" == typeof e && e, h = !i && _(e = d.selector || e);
if (n = n || [], 1 === h.length) {
if ((o = h[0] = h[0].slice(0)).length > 2 && "ID" === (a = o[0]).type && b.getById && 9 === t.nodeType && M && w.relative[o[1].type]) {
if (!(t = (w.find.ID(a.matches[0].replace(be, we), t) || [])[0])) return n;
d && (t = t.parentNode), e = e.slice(o.shift().value.length);
}
for (r = he.needsContext.test(e) ? 0 : o.length; r-- && (a = o[r], !w.relative[s = a.type]); ) if ((c = w.find[s]) && (i = c(a.matches[0].replace(be, we), ve.test(o[0].type) && l(t.parentNode) || t))) {
if (o.splice(r, 1), !(e = i.length && u(o))) return X.apply(n, i), n;
break;
}
}
return (d || S(e, h))(i, t, !M, n, ve.test(e) && l(t.parentNode) || t), n;
}, b.sortStable = R.split("").sort(z).join("") === R, b.detectDuplicates = !!E, T(), b.sortDetached = r(function(e) {
return 1 & e.compareDocumentPosition(D.createElement("div"));
}), r(function(e) {
return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href");
}) || o("type|href|height|width", function(e, t, n) {
if (!n) return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2);
}), b.attributes && r(function(e) {
return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value");
}) || o("value", function(e, t, n) {
if (!n && "input" === e.nodeName.toLowerCase()) return e.defaultValue;
}), r(function(e) {
return null == e.getAttribute("disabled");
}) || o(Z, function(e, t, n) {
var i;
if (!n) return !0 === e[t] ? t.toLowerCase() : (i = e.getAttributeNode(t)) && i.specified ? i.value : null;
}), t;
}(e);
Q.find = ne, Q.expr = ne.selectors, Q.expr[":"] = Q.expr.pseudos, Q.unique = ne.uniqueSort, Q.text = ne.getText, Q.isXMLDoc = ne.isXML, Q.contains = ne.contains;
var ie = Q.expr.match.needsContext, re = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, oe = /^.[^:#\[\.,]*$/;
Q.filter = function(e, t, n) {
var i = t[0];
return n && (e = ":not(" + e + ")"), 1 === t.length && 1 === i.nodeType ? Q.find.matchesSelector(i, e) ? [ i ] : [] : Q.find.matches(e, Q.grep(t, function(e) {
return 1 === e.nodeType;
}));
}, Q.fn.extend({
find: function(e) {
var t, n = this.length, i = [], r = this;
if ("string" != typeof e) return this.pushStack(Q(e).filter(function() {
for (t = 0; t < n; t++) if (Q.contains(r[t], this)) return !0;
}));
for (t = 0; t < n; t++) Q.find(e, r[t], i);
return i = this.pushStack(n > 1 ? Q.unique(i) : i), i.selector = this.selector ? this.selector + " " + e : e, i;
},
filter: function(e) {
return this.pushStack(i(this, e || [], !1));
},
not: function(e) {
return this.pushStack(i(this, e || [], !0));
},
is: function(e) {
return !!i(this, "string" == typeof e && ie.test(e) ? Q(e) : e || [], !1).length;
}
});
var ae, se = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
(Q.fn.init = function(e, t) {
var n, i;
if (!e) return this;
if ("string" == typeof e) {
if (!(n = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [ null, e, null ] : se.exec(e)) || !n[1] && t) return !t || t.jquery ? (t || ae).find(e) : this.constructor(t).find(e);
if (n[1]) {
if (t = t instanceof Q ? t[0] : t, Q.merge(this, Q.parseHTML(n[1], t && t.nodeType ? t.ownerDocument || t : X, !0)), re.test(n[1]) && Q.isPlainObject(t)) for (n in t) Q.isFunction(this[n]) ? this[n](t[n]) : this.attr(n, t[n]);
return this;
}
return (i = X.getElementById(n[2])) && i.parentNode && (this.length = 1, this[0] = i), this.context = X, this.selector = e, this;
}
return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : Q.isFunction(e) ? void 0 !== ae.ready ? ae.ready(e) : e(Q) : (void 0 !== e.selector && (this.selector = e.selector, this.context = e.context), Q.makeArray(e, this));
}).prototype = Q.fn, ae = Q(X);
var le = /^(?:parents|prev(?:Until|All))/, ce = {
children: !0,
contents: !0,
next: !0,
prev: !0
};
Q.extend({
dir: function(e, t, n) {
for (var i = [], r = void 0 !== n; (e = e[t]) && 9 !== e.nodeType; ) if (1 === e.nodeType) {
if (r && Q(e).is(n)) break;
i.push(e);
}
return i;
},
sibling: function(e, t) {
for (var n = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && n.push(e);
return n;
}
}), Q.fn.extend({
has: function(e) {
var t = Q(e, this), n = t.length;
return this.filter(function() {
for (var e = 0; e < n; e++) if (Q.contains(this, t[e])) return !0;
});
},
closest: function(e, t) {
for (var n, i = 0, r = this.length, o = [], a = ie.test(e) || "string" != typeof e ? Q(e, t || this.context) : 0; i < r; i++) for (n = this[i]; n && n !== t; n = n.parentNode) if (n.nodeType < 11 && (a ? a.index(n) > -1 : 1 === n.nodeType && Q.find.matchesSelector(n, e))) {
o.push(n);
break;
}
return this.pushStack(o.length > 1 ? Q.unique(o) : o);
},
index: function(e) {
return e ? "string" == typeof e ? W.call(Q(e), this[0]) : W.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
},
add: function(e, t) {
return this.pushStack(Q.unique(Q.merge(this.get(), Q(e, t))));
},
addBack: function(e) {
return this.add(null == e ? this.prevObject : this.prevObject.filter(e));
}
}), Q.each({
parent: function(e) {
var t = e.parentNode;
return t && 11 !== t.nodeType ? t : null;
},
parents: function(e) {
return Q.dir(e, "parentNode");
},
parentsUntil: function(e, t, n) {
return Q.dir(e, "parentNode", n);
},
next: function(e) {
return r(e, "nextSibling");
},
prev: function(e) {
return r(e, "previousSibling");
},
nextAll: function(e) {
return Q.dir(e, "nextSibling");
},
prevAll: function(e) {
return Q.dir(e, "previousSibling");
},
nextUntil: function(e, t, n) {
return Q.dir(e, "nextSibling", n);
},
prevUntil: function(e, t, n) {
return Q.dir(e, "previousSibling", n);
},
siblings: function(e) {
return Q.sibling((e.parentNode || {}).firstChild, e);
},
children: function(e) {
return Q.sibling(e.firstChild);
},
contents: function(e) {
return e.contentDocument || Q.merge([], e.childNodes);
}
}, function(e, t) {
Q.fn[e] = function(n, i) {
var r = Q.map(this, t, n);
return "Until" !== e.slice(-5) && (i = n), i && "string" == typeof i && (r = Q.filter(i, r)), this.length > 1 && (ce[e] || Q.unique(r), le.test(e) && r.reverse()), this.pushStack(r);
};
});
var ue = /\S+/g, de = {};
Q.Callbacks = function(e) {
var t, n, i, r, a, s, l = [], c = !(e = "string" == typeof e ? de[e] || o(e) : Q.extend({}, e)).once && [], u = function(o) {
for (t = e.memory && o, n = !0, s = r || 0, r = 0, a = l.length, i = !0; l && s < a; s++) if (!1 === l[s].apply(o[0], o[1]) && e.stopOnFalse) {
t = !1;
break;
}
i = !1, l && (c ? c.length && u(c.shift()) : t ? l = [] : d.disable());
}, d = {
add: function() {
if (l) {
var n = l.length;
!function t(n) {
Q.each(n, function(n, i) {
var r = Q.type(i);
"function" === r ? e.unique && d.has(i) || l.push(i) : i && i.length && "string" !== r && t(i);
});
}(arguments), i ? a = l.length : t && (r = n, u(t));
}
return this;
},
remove: function() {
return l && Q.each(arguments, function(e, t) {
for (var n; (n = Q.inArray(t, l, n)) > -1; ) l.splice(n, 1), i && (n <= a && a--, n <= s && s--);
}), this;
},
has: function(e) {
return e ? Q.inArray(e, l) > -1 : !(!l || !l.length);
},
empty: function() {
return l = [], a = 0, this;
},
disable: function() {
return l = c = t = void 0, this;
},
disabled: function() {
return !l;
},
lock: function() {
return c = void 0, t || d.disable(), this;
},
locked: function() {
return !c;
},
fireWith: function(e, t) {
return !l || n && !c || (t = [ e, (t = t || []).slice ? t.slice() : t ], i ? c.push(t) : u(t)), this;
},
fire: function() {
return d.fireWith(this, arguments), this;
},
fired: function() {
return !!n;
}
};
return d;
}, Q.extend({
Deferred: function(e) {
var t = [ [ "resolve", "done", Q.Callbacks("once memory"), "resolved" ], [ "reject", "fail", Q.Callbacks("once memory"), "rejected" ], [ "notify", "progress", Q.Callbacks("memory") ] ], n = "pending", i = {
state: function() {
return n;
},
always: function() {
return r.done(arguments).fail(arguments), this;
},
then: function() {
var e = arguments;
return Q.Deferred(function(n) {
Q.each(t, function(t, o) {
var a = Q.isFunction(e[t]) && e[t];
r[o[1]](function() {
var e = a && a.apply(this, arguments);
e && Q.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[o[0] + "With"](this === i ? n.promise() : this, a ? [ e ] : arguments);
});
}), e = null;
}).promise();
},
promise: function(e) {
return null != e ? Q.extend(e, i) : i;
}
}, r = {};
return i.pipe = i.then, Q.each(t, function(e, o) {
var a = o[2], s = o[3];
i[o[1]] = a.add, s && a.add(function() {
n = s;
}, t[1 ^ e][2].disable, t[2][2].lock), r[o[0]] = function() {
return r[o[0] + "With"](this === r ? i : this, arguments), this;
}, r[o[0] + "With"] = a.fireWith;
}), i.promise(r), e && e.call(r, r), r;
},
when: function(e) {
var t, n, i, r = 0, o = V.call(arguments), a = o.length, s = 1 !== a || e && Q.isFunction(e.promise) ? a : 0, l = 1 === s ? e : Q.Deferred(), c = function(e, n, i) {
return function(r) {
n[e] = this, i[e] = arguments.length > 1 ? V.call(arguments) : r, i === t ? l.notifyWith(n, i) : --s || l.resolveWith(n, i);
};
};
if (a > 1) for (t = new Array(a), n = new Array(a), i = new Array(a); r < a; r++) o[r] && Q.isFunction(o[r].promise) ? o[r].promise().done(c(r, i, o)).fail(l.reject).progress(c(r, n, t)) : --s;
return s || l.resolveWith(i, o), l.promise();
}
});
var he;
Q.fn.ready = function(e) {
return Q.ready.promise().done(e), this;
}, Q.extend({
isReady: !1,
readyWait: 1,
holdReady: function(e) {
e ? Q.readyWait++ : Q.ready(!0);
},
ready: function(e) {
(!0 === e ? --Q.readyWait : Q.isReady) || (Q.isReady = !0, !0 !== e && --Q.readyWait > 0 || (he.resolveWith(X, [ Q ]), Q.fn.triggerHandler && (Q(X).triggerHandler("ready"), Q(X).off("ready"))));
}
}), Q.ready.promise = function(t) {
return he || (he = Q.Deferred(), "complete" === X.readyState ? setTimeout(Q.ready) : (X.addEventListener("DOMContentLoaded", a, !1), e.addEventListener("load", a, !1))), he.promise(t);
}, Q.ready.promise();
var pe = Q.access = function(e, t, n, i, r, o, a) {
var s = 0, l = e.length, c = null == n;
if ("object" === Q.type(n)) {
r = !0;
for (s in n) Q.access(e, t, s, n[s], !0, o, a);
} else if (void 0 !== i && (r = !0, Q.isFunction(i) || (a = !0), c && (a ? (t.call(e, i), t = null) : (c = t, t = function(e, t, n) {
return c.call(Q(e), n);
})), t)) for (;s < l; s++) t(e[s], n, a ? i : i.call(e[s], s, t(e[s], n)));
return r ? e : c ? t.call(e) : l ? t(e[0], n) : o;
};
Q.acceptData = function(e) {
return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType;
}, s.uid = 1, s.accepts = Q.acceptData, s.prototype = {
key: function(e) {
if (!s.accepts(e)) return 0;
var t = {}, n = e[this.expando];
if (!n) {
n = s.uid++;
try {
t[this.expando] = {
value: n
}, Object.defineProperties(e, t);
} catch (i) {
t[this.expando] = n, Q.extend(e, t);
}
}
return this.cache[n] || (this.cache[n] = {}), n;
},
set: function(e, t, n) {
var i, r = this.key(e), o = this.cache[r];
if ("string" == typeof t) o[t] = n; else if (Q.isEmptyObject(o)) Q.extend(this.cache[r], t); else for (i in t) o[i] = t[i];
return o;
},
get: function(e, t) {
var n = this.cache[this.key(e)];
return void 0 === t ? n : n[t];
},
access: function(e, t, n) {
var i;
return void 0 === t || t && "string" == typeof t && void 0 === n ? void 0 !== (i = this.get(e, t)) ? i : this.get(e, Q.camelCase(t)) : (this.set(e, t, n), void 0 !== n ? n : t);
},
remove: function(e, t) {
var n, i, r, o = this.key(e), a = this.cache[o];
if (void 0 === t) this.cache[o] = {}; else {
Q.isArray(t) ? i = t.concat(t.map(Q.camelCase)) : (r = Q.camelCase(t), i = t in a ? [ t, r ] : (i = r) in a ? [ i ] : i.match(ue) || []), n = i.length;
for (;n--; ) delete a[i[n]];
}
},
hasData: function(e) {
return !Q.isEmptyObject(this.cache[e[this.expando]] || {});
},
discard: function(e) {
e[this.expando] && delete this.cache[e[this.expando]];
}
};
var fe = new s(), ge = new s(), me = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, ve = /([A-Z])/g;
Q.extend({
hasData: function(e) {
return ge.hasData(e) || fe.hasData(e);
},
data: function(e, t, n) {
return ge.access(e, t, n);
},
removeData: function(e, t) {
ge.remove(e, t);
},
_data: function(e, t, n) {
return fe.access(e, t, n);
},
_removeData: function(e, t) {
fe.remove(e, t);
}
}), Q.fn.extend({
data: function(e, t) {
var n, i, r, o = this[0], a = o && o.attributes;
if (void 0 === e) {
if (this.length && (r = ge.get(o), 1 === o.nodeType && !fe.get(o, "hasDataAttrs"))) {
for (n = a.length; n--; ) a[n] && 0 === (i = a[n].name).indexOf("data-") && (i = Q.camelCase(i.slice(5)), l(o, i, r[i]));
fe.set(o, "hasDataAttrs", !0);
}
return r;
}
return "object" == typeof e ? this.each(function() {
ge.set(this, e);
}) : pe(this, function(t) {
var n, i = Q.camelCase(e);
if (o && void 0 === t) {
if (void 0 !== (n = ge.get(o, e))) return n;
if (void 0 !== (n = ge.get(o, i))) return n;
if (void 0 !== (n = l(o, i, void 0))) return n;
} else this.each(function() {
var n = ge.get(this, i);
ge.set(this, i, t), -1 !== e.indexOf("-") && void 0 !== n && ge.set(this, e, t);
});
}, null, t, arguments.length > 1, null, !0);
},
removeData: function(e) {
return this.each(function() {
ge.remove(this, e);
});
}
}), Q.extend({
queue: function(e, t, n) {
var i;
if (e) return t = (t || "fx") + "queue", i = fe.get(e, t), n && (!i || Q.isArray(n) ? i = fe.access(e, t, Q.makeArray(n)) : i.push(n)), i || [];
},
dequeue: function(e, t) {
t = t || "fx";
var n = Q.queue(e, t), i = n.length, r = n.shift(), o = Q._queueHooks(e, t);
"inprogress" === r && (r = n.shift(), i--), r && ("fx" === t && n.unshift("inprogress"), delete o.stop, r.call(e, function() {
Q.dequeue(e, t);
}, o)), !i && o && o.empty.fire();
},
_queueHooks: function(e, t) {
var n = t + "queueHooks";
return fe.get(e, n) || fe.access(e, n, {
empty: Q.Callbacks("once memory").add(function() {
fe.remove(e, [ t + "queue", n ]);
})
});
}
}), Q.fn.extend({
queue: function(e, t) {
var n = 2;
return "string" != typeof e && (t = e, e = "fx", n--), arguments.length < n ? Q.queue(this[0], e) : void 0 === t ? this : this.each(function() {
var n = Q.queue(this, e, t);
Q._queueHooks(this, e), "fx" === e && "inprogress" !== n[0] && Q.dequeue(this, e);
});
},
dequeue: function(e) {
return this.each(function() {
Q.dequeue(this, e);
});
},
clearQueue: function(e) {
return this.queue(e || "fx", []);
},
promise: function(e, t) {
var n, i = 1, r = Q.Deferred(), o = this, a = this.length, s = function() {
--i || r.resolveWith(o, [ o ]);
};
for ("string" != typeof e && (t = e, e = void 0), e = e || "fx"; a--; ) (n = fe.get(o[a], e + "queueHooks")) && n.empty && (i++, n.empty.add(s));
return s(), r.promise(t);
}
});
var ye = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, be = [ "Top", "Right", "Bottom", "Left" ], we = function(e, t) {
return e = t || e, "none" === Q.css(e, "display") || !Q.contains(e.ownerDocument, e);
}, xe = /^(?:checkbox|radio)$/i;
!function() {
var e = X.createDocumentFragment().appendChild(X.createElement("div")), t = X.createElement("input");
t.setAttribute("type", "radio"), t.setAttribute("checked", "checked"), t.setAttribute("name", "t"), e.appendChild(t), K.checkClone = e.cloneNode(!0).cloneNode(!0).lastChild.checked, e.innerHTML = "<textarea>x</textarea>", K.noCloneChecked = !!e.cloneNode(!0).lastChild.defaultValue;
}();
K.focusinBubbles = "onfocusin" in e;
var Ce = /^key/, _e = /^(?:mouse|pointer|contextmenu)|click/, Se = /^(?:focusinfocus|focusoutblur)$/, $e = /^([^.]*)(?:\.(.+)|)$/;
Q.event = {
global: {},
add: function(e, t, n, i, r) {
var o, a, s, l, c, u, d, h, p, f, g, m = fe.get(e);
if (m) for (n.handler && (n = (o = n).handler, r = o.selector), n.guid || (n.guid = Q.guid++), (l = m.events) || (l = m.events = {}), (a = m.handle) || (a = m.handle = function(t) {
return void 0 !== Q && Q.event.triggered !== t.type ? Q.event.dispatch.apply(e, arguments) : void 0;
}), c = (t = (t || "").match(ue) || [ "" ]).length; c--; ) p = g = (s = $e.exec(t[c]) || [])[1], f = (s[2] || "").split(".").sort(), p && (d = Q.event.special[p] || {}, p = (r ? d.delegateType : d.bindType) || p, d = Q.event.special[p] || {}, u = Q.extend({
type: p,
origType: g,
data: i,
handler: n,
guid: n.guid,
selector: r,
needsContext: r && Q.expr.match.needsContext.test(r),
namespace: f.join(".")
}, o), (h = l[p]) || ((h = l[p] = []).delegateCount = 0, d.setup && !1 !== d.setup.call(e, i, f, a) || e.addEventListener && e.addEventListener(p, a, !1)), d.add && (d.add.call(e, u), u.handler.guid || (u.handler.guid = n.guid)), r ? h.splice(h.delegateCount++, 0, u) : h.push(u), Q.event.global[p] = !0);
},
remove: function(e, t, n, i, r) {
var o, a, s, l, c, u, d, h, p, f, g, m = fe.hasData(e) && fe.get(e);
if (m && (l = m.events)) {
for (c = (t = (t || "").match(ue) || [ "" ]).length; c--; ) if (s = $e.exec(t[c]) || [], p = g = s[1], f = (s[2] || "").split(".").sort(), p) {
for (d = Q.event.special[p] || {}, h = l[p = (i ? d.delegateType : d.bindType) || p] || [], s = s[2] && new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"), a = o = h.length; o--; ) u = h[o], !r && g !== u.origType || n && n.guid !== u.guid || s && !s.test(u.namespace) || i && i !== u.selector && ("**" !== i || !u.selector) || (h.splice(o, 1), u.selector && h.delegateCount--, d.remove && d.remove.call(e, u));
a && !h.length && (d.teardown && !1 !== d.teardown.call(e, f, m.handle) || Q.removeEvent(e, p, m.handle), delete l[p]);
} else for (p in l) Q.event.remove(e, p + t[c], n, i, !0);
Q.isEmptyObject(l) && (delete m.handle, fe.remove(e, "events"));
}
},
trigger: function(t, n, i, r) {
var o, a, s, l, c, u, d, h = [ i || X ], p = Y.call(t, "type") ? t.type : t, f = Y.call(t, "namespace") ? t.namespace.split(".") : [];
if (a = s = i = i || X, 3 !== i.nodeType && 8 !== i.nodeType && !Se.test(p + Q.event.triggered) && (p.indexOf(".") >= 0 && (p = (f = p.split(".")).shift(), f.sort()), c = p.indexOf(":") < 0 && "on" + p, t = t[Q.expando] ? t : new Q.Event(p, "object" == typeof t && t), t.isTrigger = r ? 2 : 3, t.namespace = f.join("."), t.namespace_re = t.namespace ? new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = i), n = null == n ? [ t ] : Q.makeArray(n, [ t ]), d = Q.event.special[p] || {}, r || !d.trigger || !1 !== d.trigger.apply(i, n))) {
if (!r && !d.noBubble && !Q.isWindow(i)) {
for (l = d.delegateType || p, Se.test(l + p) || (a = a.parentNode); a; a = a.parentNode) h.push(a), s = a;
s === (i.ownerDocument || X) && h.push(s.defaultView || s.parentWindow || e);
}
for (o = 0; (a = h[o++]) && !t.isPropagationStopped(); ) t.type = o > 1 ? l : d.bindType || p, (u = (fe.get(a, "events") || {})[t.type] && fe.get(a, "handle")) && u.apply(a, n), (u = c && a[c]) && u.apply && Q.acceptData(a) && (t.result = u.apply(a, n), !1 === t.result && t.preventDefault());
return t.type = p, r || t.isDefaultPrevented() || d._default && !1 !== d._default.apply(h.pop(), n) || !Q.acceptData(i) || c && Q.isFunction(i[p]) && !Q.isWindow(i) && ((s = i[c]) && (i[c] = null), Q.event.triggered = p, i[p](), Q.event.triggered = void 0, s && (i[c] = s)), t.result;
}
},
dispatch: function(e) {
e = Q.event.fix(e);
var t, n, i, r, o, a = [], s = V.call(arguments), l = (fe.get(this, "events") || {})[e.type] || [], c = Q.event.special[e.type] || {};
if (s[0] = e, e.delegateTarget = this, !c.preDispatch || !1 !== c.preDispatch.call(this, e)) {
for (a = Q.event.handlers.call(this, e, l), t = 0; (r = a[t++]) && !e.isPropagationStopped(); ) for (e.currentTarget = r.elem, n = 0; (o = r.handlers[n++]) && !e.isImmediatePropagationStopped(); ) e.namespace_re && !e.namespace_re.test(o.namespace) || (e.handleObj = o, e.data = o.data, void 0 !== (i = ((Q.event.special[o.origType] || {}).handle || o.handler).apply(r.elem, s)) && !1 === (e.result = i) && (e.preventDefault(), e.stopPropagation()));
return c.postDispatch && c.postDispatch.call(this, e), e.result;
}
},
handlers: function(e, t) {
var n, i, r, o, a = [], s = t.delegateCount, l = e.target;
if (s && l.nodeType && (!e.button || "click" !== e.type)) for (;l !== this; l = l.parentNode || this) if (!0 !== l.disabled || "click" !== e.type) {
for (i = [], n = 0; n < s; n++) void 0 === i[r = (o = t[n]).selector + " "] && (i[r] = o.needsContext ? Q(r, this).index(l) >= 0 : Q.find(r, this, null, [ l ]).length), i[r] && i.push(o);
i.length && a.push({
elem: l,
handlers: i
});
}
return s < t.length && a.push({
elem: this,
handlers: t.slice(s)
}), a;
},
props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks: {},
keyHooks: {
props: "char charCode key keyCode".split(" "),
filter: function(e, t) {
return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode), e;
}
},
mouseHooks: {
props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter: function(e, t) {
var n, i, r, o = t.button;
return null == e.pageX && null != t.clientX && (i = (n = e.target.ownerDocument || X).documentElement, r = n.body, e.pageX = t.clientX + (i && i.scrollLeft || r && r.scrollLeft || 0) - (i && i.clientLeft || r && r.clientLeft || 0), e.pageY = t.clientY + (i && i.scrollTop || r && r.scrollTop || 0) - (i && i.clientTop || r && r.clientTop || 0)), e.which || void 0 === o || (e.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0), e;
}
},
fix: function(e) {
if (e[Q.expando]) return e;
var t, n, i, r = e.type, o = e, a = this.fixHooks[r];
for (a || (this.fixHooks[r] = a = _e.test(r) ? this.mouseHooks : Ce.test(r) ? this.keyHooks : {}), i = a.props ? this.props.concat(a.props) : this.props, e = new Q.Event(o), t = i.length; t--; ) e[n = i[t]] = o[n];
return e.target || (e.target = X), 3 === e.target.nodeType && (e.target = e.target.parentNode), a.filter ? a.filter(e, o) : e;
},
special: {
load: {
noBubble: !0
},
focus: {
trigger: function() {
if (this !== d() && this.focus) return this.focus(), !1;
},
delegateType: "focusin"
},
blur: {
trigger: function() {
if (this === d() && this.blur) return this.blur(), !1;
},
delegateType: "focusout"
},
click: {
trigger: function() {
if ("checkbox" === this.type && this.click && Q.nodeName(this, "input")) return this.click(), !1;
},
_default: function(e) {
return Q.nodeName(e.target, "a");
}
},
beforeunload: {
postDispatch: function(e) {
void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result);
}
}
},
simulate: function(e, t, n, i) {
var r = Q.extend(new Q.Event(), n, {
type: e,
isSimulated: !0,
originalEvent: {}
});
i ? Q.event.trigger(r, null, t) : Q.event.dispatch.call(t, r), r.isDefaultPrevented() && n.preventDefault();
}
}, Q.removeEvent = function(e, t, n) {
e.removeEventListener && e.removeEventListener(t, n, !1);
}, Q.Event = function(e, t) {
if (!(this instanceof Q.Event)) return new Q.Event(e, t);
e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && !1 === e.returnValue ? c : u) : this.type = e, t && Q.extend(this, t), this.timeStamp = e && e.timeStamp || Q.now(), this[Q.expando] = !0;
}, Q.Event.prototype = {
isDefaultPrevented: u,
isPropagationStopped: u,
isImmediatePropagationStopped: u,
preventDefault: function() {
var e = this.originalEvent;
this.isDefaultPrevented = c, e && e.preventDefault && e.preventDefault();
},
stopPropagation: function() {
var e = this.originalEvent;
this.isPropagationStopped = c, e && e.stopPropagation && e.stopPropagation();
},
stopImmediatePropagation: function() {
var e = this.originalEvent;
this.isImmediatePropagationStopped = c, e && e.stopImmediatePropagation && e.stopImmediatePropagation(), this.stopPropagation();
}
}, Q.each({
mouseenter: "mouseover",
mouseleave: "mouseout",
pointerenter: "pointerover",
pointerleave: "pointerout"
}, function(e, t) {
Q.event.special[e] = {
delegateType: t,
bindType: t,
handle: function(e) {
var n, i = this, r = e.relatedTarget, o = e.handleObj;
return r && (r === i || Q.contains(i, r)) || (e.type = o.origType, n = o.handler.apply(this, arguments), e.type = t), n;
}
};
}), K.focusinBubbles || Q.each({
focus: "focusin",
blur: "focusout"
}, function(e, t) {
var n = function(e) {
Q.event.simulate(t, e.target, Q.event.fix(e), !0);
};
Q.event.special[t] = {
setup: function() {
var i = this.ownerDocument || this, r = fe.access(i, t);
r || i.addEventListener(e, n, !0), fe.access(i, t, (r || 0) + 1);
},
teardown: function() {
var i = this.ownerDocument || this, r = fe.access(i, t) - 1;
r ? fe.access(i, t, r) : (i.removeEventListener(e, n, !0), fe.remove(i, t));
}
};
}), Q.fn.extend({
on: function(e, t, n, i, r) {
var o, a;
if ("object" == typeof e) {
"string" != typeof t && (n = n || t, t = void 0);
for (a in e) this.on(a, t, n, e[a], r);
return this;
}
if (null == n && null == i ? (i = t, n = t = void 0) : null == i && ("string" == typeof t ? (i = n, n = void 0) : (i = n, n = t, t = void 0)), !1 === i) i = u; else if (!i) return this;
return 1 === r && (o = i, (i = function(e) {
return Q().off(e), o.apply(this, arguments);
}).guid = o.guid || (o.guid = Q.guid++)), this.each(function() {
Q.event.add(this, e, i, n, t);
});
},
one: function(e, t, n, i) {
return this.on(e, t, n, i, 1);
},
off: function(e, t, n) {
var i, r;
if (e && e.preventDefault && e.handleObj) return i = e.handleObj, Q(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
if ("object" == typeof e) {
for (r in e) this.off(r, t, e[r]);
return this;
}
return !1 !== t && "function" != typeof t || (n = t, t = void 0), !1 === n && (n = u), this.each(function() {
Q.event.remove(this, e, n, t);
});
},
trigger: function(e, t) {
return this.each(function() {
Q.event.trigger(e, t, this);
});
},
triggerHandler: function(e, t) {
var n = this[0];
if (n) return Q.event.trigger(e, t, n, !0);
}
});
var Ae = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, ke = /<([\w:]+)/, Ee = /<|&#?\w+;/, Te = /<(?:script|style|link)/i, De = /checked\s*(?:[^=]|=\s*.checked.)/i, Fe = /^$|\/(?:java|ecma)script/i, Me = /^true\/(.*)/, Ie = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, Le = {
option: [ 1, "<select multiple='multiple'>", "</select>" ],
thead: [ 1, "<table>", "</table>" ],
col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
tr: [ 2, "<table><tbody>", "</tbody></table>" ],
td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
_default: [ 0, "", "" ]
};
Le.optgroup = Le.option, Le.tbody = Le.tfoot = Le.colgroup = Le.caption = Le.thead, Le.th = Le.td, Q.extend({
clone: function(e, t, n) {
var i, r, o, a, s = e.cloneNode(!0), l = Q.contains(e.ownerDocument, e);
if (!(K.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || Q.isXMLDoc(e))) for (a = v(s), i = 0, r = (o = v(e)).length; i < r; i++) y(o[i], a[i]);
if (t) if (n) for (o = o || v(e), a = a || v(s), i = 0, r = o.length; i < r; i++) m(o[i], a[i]); else m(e, s);
return (a = v(s, "script")).length > 0 && g(a, !l && v(e, "script")), s;
},
buildFragment: function(e, t, n, i) {
for (var r, o, a, s, l, c, u = t.createDocumentFragment(), d = [], h = 0, p = e.length; h < p; h++) if ((r = e[h]) || 0 === r) if ("object" === Q.type(r)) Q.merge(d, r.nodeType ? [ r ] : r); else if (Ee.test(r)) {
for (o = o || u.appendChild(t.createElement("div")), a = (ke.exec(r) || [ "", "" ])[1].toLowerCase(), s = Le[a] || Le._default, o.innerHTML = s[1] + r.replace(Ae, "<$1></$2>") + s[2], c = s[0]; c--; ) o = o.lastChild;
Q.merge(d, o.childNodes), (o = u.firstChild).textContent = "";
} else d.push(t.createTextNode(r));
for (u.textContent = "", h = 0; r = d[h++]; ) if ((!i || -1 === Q.inArray(r, i)) && (l = Q.contains(r.ownerDocument, r), o = v(u.appendChild(r), "script"), l && g(o), n)) for (c = 0; r = o[c++]; ) Fe.test(r.type || "") && n.push(r);
return u;
},
cleanData: function(e) {
for (var t, n, i, r, o = Q.event.special, a = 0; void 0 !== (n = e[a]); a++) {
if (Q.acceptData(n) && (r = n[fe.expando]) && (t = fe.cache[r])) {
if (t.events) for (i in t.events) o[i] ? Q.event.remove(n, i) : Q.removeEvent(n, i, t.handle);
fe.cache[r] && delete fe.cache[r];
}
delete ge.cache[n[ge.expando]];
}
}
}), Q.fn.extend({
text: function(e) {
return pe(this, function(e) {
return void 0 === e ? Q.text(this) : this.empty().each(function() {
1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = e);
});
}, null, e, arguments.length);
},
append: function() {
return this.domManip(arguments, function(e) {
1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || h(this, e).appendChild(e);
});
},
prepend: function() {
return this.domManip(arguments, function(e) {
if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
var t = h(this, e);
t.insertBefore(e, t.firstChild);
}
});
},
before: function() {
return this.domManip(arguments, function(e) {
this.parentNode && this.parentNode.insertBefore(e, this);
});
},
after: function() {
return this.domManip(arguments, function(e) {
this.parentNode && this.parentNode.insertBefore(e, this.nextSibling);
});
},
remove: function(e, t) {
for (var n, i = e ? Q.filter(e, this) : this, r = 0; null != (n = i[r]); r++) t || 1 !== n.nodeType || Q.cleanData(v(n)), n.parentNode && (t && Q.contains(n.ownerDocument, n) && g(v(n, "script")), n.parentNode.removeChild(n));
return this;
},
empty: function() {
for (var e, t = 0; null != (e = this[t]); t++) 1 === e.nodeType && (Q.cleanData(v(e, !1)), e.textContent = "");
return this;
},
clone: function(e, t) {
return e = null != e && e, t = null == t ? e : t, this.map(function() {
return Q.clone(this, e, t);
});
},
html: function(e) {
return pe(this, function(e) {
var t = this[0] || {}, n = 0, i = this.length;
if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
if ("string" == typeof e && !Te.test(e) && !Le[(ke.exec(e) || [ "", "" ])[1].toLowerCase()]) {
e = e.replace(Ae, "<$1></$2>");
try {
for (;n < i; n++) 1 === (t = this[n] || {}).nodeType && (Q.cleanData(v(t, !1)), t.innerHTML = e);
t = 0;
} catch (e) {}
}
t && this.empty().append(e);
}, null, e, arguments.length);
},
replaceWith: function() {
var e = arguments[0];
return this.domManip(arguments, function(t) {
e = this.parentNode, Q.cleanData(v(this)), e && e.replaceChild(t, this);
}), e && (e.length || e.nodeType) ? this : this.remove();
},
detach: function(e) {
return this.remove(e, !0);
},
domManip: function(e, t) {
e = H.apply([], e);
var n, i, r, o, a, s, l = 0, c = this.length, u = this, d = c - 1, h = e[0], g = Q.isFunction(h);
if (g || c > 1 && "string" == typeof h && !K.checkClone && De.test(h)) return this.each(function(n) {
var i = u.eq(n);
g && (e[0] = h.call(this, n, i.html())), i.domManip(e, t);
});
if (c && (n = Q.buildFragment(e, this[0].ownerDocument, !1, this), i = n.firstChild, 1 === n.childNodes.length && (n = i), i)) {
for (o = (r = Q.map(v(n, "script"), p)).length; l < c; l++) a = n, l !== d && (a = Q.clone(a, !0, !0), o && Q.merge(r, v(a, "script"))), t.call(this[l], a, l);
if (o) for (s = r[r.length - 1].ownerDocument, Q.map(r, f), l = 0; l < o; l++) a = r[l], Fe.test(a.type || "") && !fe.access(a, "globalEval") && Q.contains(s, a) && (a.src ? Q._evalUrl && Q._evalUrl(a.src) : Q.globalEval(a.textContent.replace(Ie, "")));
}
return this;
}
}), Q.each({
appendTo: "append",
prependTo: "prepend",
insertBefore: "before",
insertAfter: "after",
replaceAll: "replaceWith"
}, function(e, t) {
Q.fn[e] = function(e) {
for (var n, i = [], r = Q(e), o = r.length - 1, a = 0; a <= o; a++) n = a === o ? this : this.clone(!0), Q(r[a])[t](n), z.apply(i, n.get());
return this.pushStack(i);
};
});
var Pe, Oe = {}, Re = /^margin/, Be = new RegExp("^(" + ye + ")(?!px)[a-z%]+$", "i"), Ne = function(t) {
return t.ownerDocument.defaultView.opener ? t.ownerDocument.defaultView.getComputedStyle(t, null) : e.getComputedStyle(t, null);
};
!function() {
function t() {
a.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", a.innerHTML = "", r.appendChild(o);
var t = e.getComputedStyle(a, null);
n = "1%" !== t.top, i = "4px" === t.width, r.removeChild(o);
}
var n, i, r = X.documentElement, o = X.createElement("div"), a = X.createElement("div");
a.style && (a.style.backgroundClip = "content-box", a.cloneNode(!0).style.backgroundClip = "", K.clearCloneStyle = "content-box" === a.style.backgroundClip, o.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute", o.appendChild(a), e.getComputedStyle && Q.extend(K, {
pixelPosition: function() {
return t(), n;
},
boxSizingReliable: function() {
return null == i && t(), i;
},
reliableMarginRight: function() {
var t, n = a.appendChild(X.createElement("div"));
return n.style.cssText = a.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", n.style.marginRight = n.style.width = "0", a.style.width = "1px", r.appendChild(o), t = !parseFloat(e.getComputedStyle(n, null).marginRight), r.removeChild(o), a.removeChild(n), t;
}
}));
}(), Q.swap = function(e, t, n, i) {
var r, o, a = {};
for (o in t) a[o] = e.style[o], e.style[o] = t[o];
r = n.apply(e, i || []);
for (o in t) e.style[o] = a[o];
return r;
};
var je = /^(none|table(?!-c[ea]).+)/, Ue = new RegExp("^(" + ye + ")(.*)$", "i"), Ve = new RegExp("^([+-])=(" + ye + ")", "i"), He = {
position: "absolute",
visibility: "hidden",
display: "block"
}, ze = {
letterSpacing: "0",
fontWeight: "400"
}, We = [ "Webkit", "O", "Moz", "ms" ];
Q.extend({
cssHooks: {
opacity: {
get: function(e, t) {
if (t) {
var n = x(e, "opacity");
return "" === n ? "1" : n;
}
}
}
},
cssNumber: {
columnCount: !0,
fillOpacity: !0,
flexGrow: !0,
flexShrink: !0,
fontWeight: !0,
lineHeight: !0,
opacity: !0,
order: !0,
orphans: !0,
widows: !0,
zIndex: !0,
zoom: !0
},
cssProps: {
float: "cssFloat"
},
style: function(e, t, n, i) {
if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
var r, o, a, s = Q.camelCase(t), l = e.style;
if (t = Q.cssProps[s] || (Q.cssProps[s] = _(l, s)), a = Q.cssHooks[t] || Q.cssHooks[s], void 0 === n) return a && "get" in a && void 0 !== (r = a.get(e, !1, i)) ? r : l[t];
"string" == (o = typeof n) && (r = Ve.exec(n)) && (n = (r[1] + 1) * r[2] + parseFloat(Q.css(e, t)), o = "number"), null != n && n === n && ("number" !== o || Q.cssNumber[s] || (n += "px"), K.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (l[t] = "inherit"), a && "set" in a && void 0 === (n = a.set(e, n, i)) || (l[t] = n));
}
},
css: function(e, t, n, i) {
var r, o, a, s = Q.camelCase(t);
return t = Q.cssProps[s] || (Q.cssProps[s] = _(e.style, s)), (a = Q.cssHooks[t] || Q.cssHooks[s]) && "get" in a && (r = a.get(e, !0, n)), void 0 === r && (r = x(e, t, i)), "normal" === r && t in ze && (r = ze[t]), "" === n || n ? (o = parseFloat(r), !0 === n || Q.isNumeric(o) ? o || 0 : r) : r;
}
}), Q.each([ "height", "width" ], function(e, t) {
Q.cssHooks[t] = {
get: function(e, n, i) {
if (n) return je.test(Q.css(e, "display")) && 0 === e.offsetWidth ? Q.swap(e, He, function() {
return A(e, t, i);
}) : A(e, t, i);
},
set: function(e, n, i) {
var r = i && Ne(e);
return S(0, n, i ? $(e, t, i, "border-box" === Q.css(e, "boxSizing", !1, r), r) : 0);
}
};
}), Q.cssHooks.marginRight = C(K.reliableMarginRight, function(e, t) {
if (t) return Q.swap(e, {
display: "inline-block"
}, x, [ e, "marginRight" ]);
}), Q.each({
margin: "",
padding: "",
border: "Width"
}, function(e, t) {
Q.cssHooks[e + t] = {
expand: function(n) {
for (var i = 0, r = {}, o = "string" == typeof n ? n.split(" ") : [ n ]; i < 4; i++) r[e + be[i] + t] = o[i] || o[i - 2] || o[0];
return r;
}
}, Re.test(e) || (Q.cssHooks[e + t].set = S);
}), Q.fn.extend({
css: function(e, t) {
return pe(this, function(e, t, n) {
var i, r, o = {}, a = 0;
if (Q.isArray(t)) {
for (i = Ne(e), r = t.length; a < r; a++) o[t[a]] = Q.css(e, t[a], !1, i);
return o;
}
return void 0 !== n ? Q.style(e, t, n) : Q.css(e, t);
}, e, t, arguments.length > 1);
},
show: function() {
return k(this, !0);
},
hide: function() {
return k(this);
},
toggle: function(e) {
return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function() {
we(this) ? Q(this).show() : Q(this).hide();
});
}
}), Q.Tween = E, E.prototype = {
constructor: E,
init: function(e, t, n, i, r, o) {
this.elem = e, this.prop = n, this.easing = r || "swing", this.options = t, this.start = this.now = this.cur(), this.end = i, this.unit = o || (Q.cssNumber[n] ? "" : "px");
},
cur: function() {
var e = E.propHooks[this.prop];
return e && e.get ? e.get(this) : E.propHooks._default.get(this);
},
run: function(e) {
var t, n = E.propHooks[this.prop];
return this.options.duration ? this.pos = t = Q.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : E.propHooks._default.set(this), this;
}
}, E.prototype.init.prototype = E.prototype, E.propHooks = {
_default: {
get: function(e) {
var t;
return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = Q.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0 : e.elem[e.prop];
},
set: function(e) {
Q.fx.step[e.prop] ? Q.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[Q.cssProps[e.prop]] || Q.cssHooks[e.prop]) ? Q.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now;
}
}
}, E.propHooks.scrollTop = E.propHooks.scrollLeft = {
set: function(e) {
e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now);
}
}, Q.easing = {
linear: function(e) {
return e;
},
swing: function(e) {
return .5 - Math.cos(e * Math.PI) / 2;
}
}, Q.fx = E.prototype.init, Q.fx.step = {};
var Ge, qe, Ye = /^(?:toggle|show|hide)$/, Ke = new RegExp("^(?:([+-])=|)(" + ye + ")([a-z%]*)$", "i"), Xe = /queueHooks$/, Qe = [ function(e, t, n) {
var i, r, o, a, s, l, c, u = this, d = {}, h = e.style, p = e.nodeType && we(e), f = fe.get(e, "fxshow");
n.queue || (null == (s = Q._queueHooks(e, "fx")).unqueued && (s.unqueued = 0, l = s.empty.fire, s.empty.fire = function() {
s.unqueued || l();
}), s.unqueued++, u.always(function() {
u.always(function() {
s.unqueued--, Q.queue(e, "fx").length || s.empty.fire();
});
})), 1 === e.nodeType && ("height" in t || "width" in t) && (n.overflow = [ h.overflow, h.overflowX, h.overflowY ], "inline" === ("none" === (c = Q.css(e, "display")) ? fe.get(e, "olddisplay") || w(e.nodeName) : c) && "none" === Q.css(e, "float") && (h.display = "inline-block")), n.overflow && (h.overflow = "hidden", u.always(function() {
h.overflow = n.overflow[0], h.overflowX = n.overflow[1], h.overflowY = n.overflow[2];
}));
for (i in t) if (r = t[i], Ye.exec(r)) {
if (delete t[i], o = o || "toggle" === r, r === (p ? "hide" : "show")) {
if ("show" !== r || !f || void 0 === f[i]) continue;
p = !0;
}
d[i] = f && f[i] || Q.style(e, i);
} else c = void 0;
if (Q.isEmptyObject(d)) "inline" === ("none" === c ? w(e.nodeName) : c) && (h.display = c); else {
f ? "hidden" in f && (p = f.hidden) : f = fe.access(e, "fxshow", {}), o && (f.hidden = !p), p ? Q(e).show() : u.done(function() {
Q(e).hide();
}), u.done(function() {
var t;
fe.remove(e, "fxshow");
for (t in d) Q.style(e, t, d[t]);
});
for (i in d) a = F(p ? f[i] : 0, i, u), i in f || (f[i] = a.start, p && (a.end = a.start, a.start = "width" === i || "height" === i ? 1 : 0));
}
} ], Je = {
"*": [ function(e, t) {
var n = this.createTween(e, t), i = n.cur(), r = Ke.exec(t), o = r && r[3] || (Q.cssNumber[e] ? "" : "px"), a = (Q.cssNumber[e] || "px" !== o && +i) && Ke.exec(Q.css(n.elem, e)), s = 1, l = 20;
if (a && a[3] !== o) {
o = o || a[3], r = r || [], a = +i || 1;
do {
a /= s = s || ".5", Q.style(n.elem, e, a + o);
} while (s !== (s = n.cur() / i) && 1 !== s && --l);
}
return r && (a = n.start = +a || +i || 0, n.unit = o, n.end = r[1] ? a + (r[1] + 1) * r[2] : +r[2]), n;
} ]
};
Q.Animation = Q.extend(I, {
tweener: function(e, t) {
Q.isFunction(e) ? (t = e, e = [ "*" ]) : e = e.split(" ");
for (var n, i = 0, r = e.length; i < r; i++) n = e[i], Je[n] = Je[n] || [], Je[n].unshift(t);
},
prefilter: function(e, t) {
t ? Qe.unshift(e) : Qe.push(e);
}
}), Q.speed = function(e, t, n) {
var i = e && "object" == typeof e ? Q.extend({}, e) : {
complete: n || !n && t || Q.isFunction(e) && e,
duration: e,
easing: n && t || t && !Q.isFunction(t) && t
};
return i.duration = Q.fx.off ? 0 : "number" == typeof i.duration ? i.duration : i.duration in Q.fx.speeds ? Q.fx.speeds[i.duration] : Q.fx.speeds._default, null != i.queue && !0 !== i.queue || (i.queue = "fx"), i.old = i.complete, i.complete = function() {
Q.isFunction(i.old) && i.old.call(this), i.queue && Q.dequeue(this, i.queue);
}, i;
}, Q.fn.extend({
fadeTo: function(e, t, n, i) {
return this.filter(we).css("opacity", 0).show().end().animate({
opacity: t
}, e, n, i);
},
animate: function(e, t, n, i) {
var r = Q.isEmptyObject(e), o = Q.speed(t, n, i), a = function() {
var t = I(this, Q.extend({}, e), o);
(r || fe.get(this, "finish")) && t.stop(!0);
};
return a.finish = a, r || !1 === o.queue ? this.each(a) : this.queue(o.queue, a);
},
stop: function(e, t, n) {
var i = function(e) {
var t = e.stop;
delete e.stop, t(n);
};
return "string" != typeof e && (n = t, t = e, e = void 0), t && !1 !== e && this.queue(e || "fx", []), this.each(function() {
var t = !0, r = null != e && e + "queueHooks", o = Q.timers, a = fe.get(this);
if (r) a[r] && a[r].stop && i(a[r]); else for (r in a) a[r] && a[r].stop && Xe.test(r) && i(a[r]);
for (r = o.length; r--; ) o[r].elem !== this || null != e && o[r].queue !== e || (o[r].anim.stop(n), t = !1, o.splice(r, 1));
!t && n || Q.dequeue(this, e);
});
},
finish: function(e) {
return !1 !== e && (e = e || "fx"), this.each(function() {
var t, n = fe.get(this), i = n[e + "queue"], r = n[e + "queueHooks"], o = Q.timers, a = i ? i.length : 0;
for (n.finish = !0, Q.queue(this, e, []), r && r.stop && r.stop.call(this, !0), t = o.length; t--; ) o[t].elem === this && o[t].queue === e && (o[t].anim.stop(!0), o.splice(t, 1));
for (t = 0; t < a; t++) i[t] && i[t].finish && i[t].finish.call(this);
delete n.finish;
});
}
}), Q.each([ "toggle", "show", "hide" ], function(e, t) {
var n = Q.fn[t];
Q.fn[t] = function(e, i, r) {
return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(D(t, !0), e, i, r);
};
}), Q.each({
slideDown: D("show"),
slideUp: D("hide"),
slideToggle: D("toggle"),
fadeIn: {
opacity: "show"
},
fadeOut: {
opacity: "hide"
},
fadeToggle: {
opacity: "toggle"
}
}, function(e, t) {
Q.fn[e] = function(e, n, i) {
return this.animate(t, e, n, i);
};
}), Q.timers = [], Q.fx.tick = function() {
var e, t = 0, n = Q.timers;
for (Ge = Q.now(); t < n.length; t++) (e = n[t])() || n[t] !== e || n.splice(t--, 1);
n.length || Q.fx.stop(), Ge = void 0;
}, Q.fx.timer = function(e) {
Q.timers.push(e), e() ? Q.fx.start() : Q.timers.pop();
}, Q.fx.interval = 13, Q.fx.start = function() {
qe || (qe = setInterval(Q.fx.tick, Q.fx.interval));
}, Q.fx.stop = function() {
clearInterval(qe), qe = null;
}, Q.fx.speeds = {
slow: 600,
fast: 200,
_default: 400
}, Q.fn.delay = function(e, t) {
return e = Q.fx ? Q.fx.speeds[e] || e : e, t = t || "fx", this.queue(t, function(t, n) {
var i = setTimeout(t, e);
n.stop = function() {
clearTimeout(i);
};
});
}, function() {
var e = X.createElement("input"), t = X.createElement("select"), n = t.appendChild(X.createElement("option"));
e.type = "checkbox", K.checkOn = "" !== e.value, K.optSelected = n.selected, t.disabled = !0, K.optDisabled = !n.disabled, (e = X.createElement("input")).value = "t", e.type = "radio", K.radioValue = "t" === e.value;
}();
var Ze, et = Q.expr.attrHandle;
Q.fn.extend({
attr: function(e, t) {
return pe(this, Q.attr, e, t, arguments.length > 1);
},
removeAttr: function(e) {
return this.each(function() {
Q.removeAttr(this, e);
});
}
}), Q.extend({
attr: function(e, t, n) {
var i, r, o = e.nodeType;
if (e && 3 !== o && 8 !== o && 2 !== o) return void 0 === e.getAttribute ? Q.prop(e, t, n) : (1 === o && Q.isXMLDoc(e) || (t = t.toLowerCase(), i = Q.attrHooks[t] || (Q.expr.match.bool.test(t) ? Ze : void 0)), void 0 === n ? i && "get" in i && null !== (r = i.get(e, t)) ? r : null == (r = Q.find.attr(e, t)) ? void 0 : r : null !== n ? i && "set" in i && void 0 !== (r = i.set(e, n, t)) ? r : (e.setAttribute(t, n + ""), n) : void Q.removeAttr(e, t));
},
removeAttr: function(e, t) {
var n, i, r = 0, o = t && t.match(ue);
if (o && 1 === e.nodeType) for (;n = o[r++]; ) i = Q.propFix[n] || n, Q.expr.match.bool.test(n) && (e[i] = !1), e.removeAttribute(n);
},
attrHooks: {
type: {
set: function(e, t) {
if (!K.radioValue && "radio" === t && Q.nodeName(e, "input")) {
var n = e.value;
return e.setAttribute("type", t), n && (e.value = n), t;
}
}
}
}
}), Ze = {
set: function(e, t, n) {
return !1 === t ? Q.removeAttr(e, n) : e.setAttribute(n, n), n;
}
}, Q.each(Q.expr.match.bool.source.match(/\w+/g), function(e, t) {
var n = et[t] || Q.find.attr;
et[t] = function(e, t, i) {
var r, o;
return i || (o = et[t], et[t] = r, r = null != n(e, t, i) ? t.toLowerCase() : null, et[t] = o), r;
};
});
var tt = /^(?:input|select|textarea|button)$/i;
Q.fn.extend({
prop: function(e, t) {
return pe(this, Q.prop, e, t, arguments.length > 1);
},
removeProp: function(e) {
return this.each(function() {
delete this[Q.propFix[e] || e];
});
}
}), Q.extend({
propFix: {
for: "htmlFor",
class: "className"
},
prop: function(e, t, n) {
var i, r, o = e.nodeType;
if (e && 3 !== o && 8 !== o && 2 !== o) return (1 !== o || !Q.isXMLDoc(e)) && (t = Q.propFix[t] || t, r = Q.propHooks[t]), void 0 !== n ? r && "set" in r && void 0 !== (i = r.set(e, n, t)) ? i : e[t] = n : r && "get" in r && null !== (i = r.get(e, t)) ? i : e[t];
},
propHooks: {
tabIndex: {
get: function(e) {
return e.hasAttribute("tabindex") || tt.test(e.nodeName) || e.href ? e.tabIndex : -1;
}
}
}
}), K.optSelected || (Q.propHooks.selected = {
get: function(e) {
var t = e.parentNode;
return t && t.parentNode && t.parentNode.selectedIndex, null;
}
}), Q.each([ "tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable" ], function() {
Q.propFix[this.toLowerCase()] = this;
});
var nt = /[\t\r\n\f]/g;
Q.fn.extend({
addClass: function(e) {
var t, n, i, r, o, a, s = "string" == typeof e && e, l = 0, c = this.length;
if (Q.isFunction(e)) return this.each(function(t) {
Q(this).addClass(e.call(this, t, this.className));
});
if (s) for (t = (e || "").match(ue) || []; l < c; l++) if (n = this[l], i = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(nt, " ") : " ")) {
for (o = 0; r = t[o++]; ) i.indexOf(" " + r + " ") < 0 && (i += r + " ");
a = Q.trim(i), n.className !== a && (n.className = a);
}
return this;
},
removeClass: function(e) {
var t, n, i, r, o, a, s = 0 === arguments.length || "string" == typeof e && e, l = 0, c = this.length;
if (Q.isFunction(e)) return this.each(function(t) {
Q(this).removeClass(e.call(this, t, this.className));
});
if (s) for (t = (e || "").match(ue) || []; l < c; l++) if (n = this[l], i = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(nt, " ") : "")) {
for (o = 0; r = t[o++]; ) for (;i.indexOf(" " + r + " ") >= 0; ) i = i.replace(" " + r + " ", " ");
a = e ? Q.trim(i) : "", n.className !== a && (n.className = a);
}
return this;
},
toggleClass: function(e, t) {
var n = typeof e;
return "boolean" == typeof t && "string" === n ? t ? this.addClass(e) : this.removeClass(e) : Q.isFunction(e) ? this.each(function(n) {
Q(this).toggleClass(e.call(this, n, this.className, t), t);
}) : this.each(function() {
if ("string" === n) for (var t, i = 0, r = Q(this), o = e.match(ue) || []; t = o[i++]; ) r.hasClass(t) ? r.removeClass(t) : r.addClass(t); else "undefined" !== n && "boolean" !== n || (this.className && fe.set(this, "__className__", this.className), this.className = this.className || !1 === e ? "" : fe.get(this, "__className__") || "");
});
},
hasClass: function(e) {
for (var t = " " + e + " ", n = 0, i = this.length; n < i; n++) if (1 === this[n].nodeType && (" " + this[n].className + " ").replace(nt, " ").indexOf(t) >= 0) return !0;
return !1;
}
});
var it = /\r/g;
Q.fn.extend({
val: function(e) {
var t, n, i, r = this[0];
{
if (arguments.length) return i = Q.isFunction(e), this.each(function(n) {
var r;
1 === this.nodeType && (null == (r = i ? e.call(this, n, Q(this).val()) : e) ? r = "" : "number" == typeof r ? r += "" : Q.isArray(r) && (r = Q.map(r, function(e) {
return null == e ? "" : e + "";
})), (t = Q.valHooks[this.type] || Q.valHooks[this.nodeName.toLowerCase()]) && "set" in t && void 0 !== t.set(this, r, "value") || (this.value = r));
});
if (r) return (t = Q.valHooks[r.type] || Q.valHooks[r.nodeName.toLowerCase()]) && "get" in t && void 0 !== (n = t.get(r, "value")) ? n : "string" == typeof (n = r.value) ? n.replace(it, "") : null == n ? "" : n;
}
}
}), Q.extend({
valHooks: {
option: {
get: function(e) {
var t = Q.find.attr(e, "value");
return null != t ? t : Q.trim(Q.text(e));
}
},
select: {
get: function(e) {
for (var t, n, i = e.options, r = e.selectedIndex, o = "select-one" === e.type || r < 0, a = o ? null : [], s = o ? r + 1 : i.length, l = r < 0 ? s : o ? r : 0; l < s; l++) if (((n = i[l]).selected || l === r) && (K.optDisabled ? !n.disabled : null === n.getAttribute("disabled")) && (!n.parentNode.disabled || !Q.nodeName(n.parentNode, "optgroup"))) {
if (t = Q(n).val(), o) return t;
a.push(t);
}
return a;
},
set: function(e, t) {
for (var n, i, r = e.options, o = Q.makeArray(t), a = r.length; a--; ) ((i = r[a]).selected = Q.inArray(i.value, o) >= 0) && (n = !0);
return n || (e.selectedIndex = -1), o;
}
}
}
}), Q.each([ "radio", "checkbox" ], function() {
Q.valHooks[this] = {
set: function(e, t) {
if (Q.isArray(t)) return e.checked = Q.inArray(Q(e).val(), t) >= 0;
}
}, K.checkOn || (Q.valHooks[this].get = function(e) {
return null === e.getAttribute("value") ? "on" : e.value;
});
}), Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(e, t) {
Q.fn[t] = function(e, n) {
return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t);
};
}), Q.fn.extend({
hover: function(e, t) {
return this.mouseenter(e).mouseleave(t || e);
},
bind: function(e, t, n) {
return this.on(e, null, t, n);
},
unbind: function(e, t) {
return this.off(e, null, t);
},
delegate: function(e, t, n, i) {
return this.on(t, e, n, i);
},
undelegate: function(e, t, n) {
return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n);
}
});
var rt = Q.now(), ot = /\?/;
Q.parseJSON = function(e) {
return JSON.parse(e + "");
}, Q.parseXML = function(e) {
var t, n;
if (!e || "string" != typeof e) return null;
try {
n = new DOMParser(), t = n.parseFromString(e, "text/xml");
} catch (e) {
t = void 0;
}
return t && !t.getElementsByTagName("parsererror").length || Q.error("Invalid XML: " + e), t;
};
var at = /#.*$/, st = /([?&])_=[^&]*/, lt = /^(.*?):[ \t]*([^\r\n]*)$/gm, ct = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, ut = /^(?:GET|HEAD)$/, dt = /^\/\//, ht = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, pt = {}, ft = {}, gt = "*/".concat("*"), mt = e.location.href, vt = ht.exec(mt.toLowerCase()) || [];
Q.extend({
active: 0,
lastModified: {},
etag: {},
ajaxSettings: {
url: mt,
type: "GET",
isLocal: ct.test(vt[1]),
global: !0,
processData: !0,
async: !0,
contentType: "application/x-www-form-urlencoded; charset=UTF-8",
accepts: {
"*": gt,
text: "text/plain",
html: "text/html",
xml: "application/xml, text/xml",
json: "application/json, text/javascript"
},
contents: {
xml: /xml/,
html: /html/,
json: /json/
},
responseFields: {
xml: "responseXML",
text: "responseText",
json: "responseJSON"
},
converters: {
"* text": String,
"text html": !0,
"text json": Q.parseJSON,
"text xml": Q.parseXML
},
flatOptions: {
url: !0,
context: !0
}
},
ajaxSetup: function(e, t) {
return t ? O(O(e, Q.ajaxSettings), t) : O(Q.ajaxSettings, e);
},
ajaxPrefilter: L(pt),
ajaxTransport: L(ft),
ajax: function(e, t) {
function n(e, t, n, a) {
var l, u, v, y, w, C = t;
2 !== b && (b = 2, s && clearTimeout(s), i = void 0, o = a || "", x.readyState = e > 0 ? 4 : 0, l = e >= 200 && e < 300 || 304 === e, n && (y = R(d, x, n)), y = B(d, y, x, l), l ? (d.ifModified && ((w = x.getResponseHeader("Last-Modified")) && (Q.lastModified[r] = w), (w = x.getResponseHeader("etag")) && (Q.etag[r] = w)), 204 === e || "HEAD" === d.type ? C = "nocontent" : 304 === e ? C = "notmodified" : (C = y.state, u = y.data, l = !(v = y.error))) : (v = C, !e && C || (C = "error", e < 0 && (e = 0))), x.status = e, x.statusText = (t || C) + "", l ? f.resolveWith(h, [ u, C, x ]) : f.rejectWith(h, [ x, C, v ]), x.statusCode(m), m = void 0, c && p.trigger(l ? "ajaxSuccess" : "ajaxError", [ x, d, l ? u : v ]), g.fireWith(h, [ x, C ]), c && (p.trigger("ajaxComplete", [ x, d ]), --Q.active || Q.event.trigger("ajaxStop")));
}
"object" == typeof e && (t = e, e = void 0), t = t || {};
var i, r, o, a, s, l, c, u, d = Q.ajaxSetup({}, t), h = d.context || d, p = d.context && (h.nodeType || h.jquery) ? Q(h) : Q.event, f = Q.Deferred(), g = Q.Callbacks("once memory"), m = d.statusCode || {}, v = {}, y = {}, b = 0, w = "canceled", x = {
readyState: 0,
getResponseHeader: function(e) {
var t;
if (2 === b) {
if (!a) for (a = {}; t = lt.exec(o); ) a[t[1].toLowerCase()] = t[2];
t = a[e.toLowerCase()];
}
return null == t ? null : t;
},
getAllResponseHeaders: function() {
return 2 === b ? o : null;
},
setRequestHeader: function(e, t) {
var n = e.toLowerCase();
return b || (e = y[n] = y[n] || e, v[e] = t), this;
},
overrideMimeType: function(e) {
return b || (d.mimeType = e), this;
},
statusCode: function(e) {
var t;
if (e) if (b < 2) for (t in e) m[t] = [ m[t], e[t] ]; else x.always(e[x.status]);
return this;
},
abort: function(e) {
var t = e || w;
return i && i.abort(t), n(0, t), this;
}
};
if (f.promise(x).complete = g.add, x.success = x.done, x.error = x.fail, d.url = ((e || d.url || mt) + "").replace(at, "").replace(dt, vt[1] + "//"), d.type = t.method || t.type || d.method || d.type, d.dataTypes = Q.trim(d.dataType || "*").toLowerCase().match(ue) || [ "" ], null == d.crossDomain && (l = ht.exec(d.url.toLowerCase()), d.crossDomain = !(!l || l[1] === vt[1] && l[2] === vt[2] && (l[3] || ("http:" === l[1] ? "80" : "443")) === (vt[3] || ("http:" === vt[1] ? "80" : "443")))), d.data && d.processData && "string" != typeof d.data && (d.data = Q.param(d.data, d.traditional)), P(pt, d, t, x), 2 === b) return x;
(c = Q.event && d.global) && 0 == Q.active++ && Q.event.trigger("ajaxStart"), d.type = d.type.toUpperCase(), d.hasContent = !ut.test(d.type), r = d.url, d.hasContent || (d.data && (r = d.url += (ot.test(r) ? "&" : "?") + d.data, delete d.data), !1 === d.cache && (d.url = st.test(r) ? r.replace(st, "$1_=" + rt++) : r + (ot.test(r) ? "&" : "?") + "_=" + rt++)), d.ifModified && (Q.lastModified[r] && x.setRequestHeader("If-Modified-Since", Q.lastModified[r]), Q.etag[r] && x.setRequestHeader("If-None-Match", Q.etag[r])), (d.data && d.hasContent && !1 !== d.contentType || t.contentType) && x.setRequestHeader("Content-Type", d.contentType), x.setRequestHeader("Accept", d.dataTypes[0] && d.accepts[d.dataTypes[0]] ? d.accepts[d.dataTypes[0]] + ("*" !== d.dataTypes[0] ? ", " + gt + "; q=0.01" : "") : d.accepts["*"]);
for (u in d.headers) x.setRequestHeader(u, d.headers[u]);
if (d.beforeSend && (!1 === d.beforeSend.call(h, x, d) || 2 === b)) return x.abort();
w = "abort";
for (u in {
success: 1,
error: 1,
complete: 1
}) x[u](d[u]);
if (i = P(ft, d, t, x)) {
x.readyState = 1, c && p.trigger("ajaxSend", [ x, d ]), d.async && d.timeout > 0 && (s = setTimeout(function() {
x.abort("timeout");
}, d.timeout));
try {
b = 1, i.send(v, n);
} catch (e) {
if (!(b < 2)) throw e;
n(-1, e);
}
} else n(-1, "No Transport");
return x;
},
getJSON: function(e, t, n) {
return Q.get(e, t, n, "json");
},
getScript: function(e, t) {
return Q.get(e, void 0, t, "script");
}
}), Q.each([ "get", "post" ], function(e, t) {
Q[t] = function(e, n, i, r) {
return Q.isFunction(n) && (r = r || i, i = n, n = void 0), Q.ajax({
url: e,
type: t,
dataType: r,
data: n,
success: i
});
};
}), Q._evalUrl = function(e) {
return Q.ajax({
url: e,
type: "GET",
dataType: "script",
async: !1,
global: !1,
throws: !0
});
}, Q.fn.extend({
wrapAll: function(e) {
var t;
return Q.isFunction(e) ? this.each(function(t) {
Q(this).wrapAll(e.call(this, t));
}) : (this[0] && (t = Q(e, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && t.insertBefore(this[0]), t.map(function() {
for (var e = this; e.firstElementChild; ) e = e.firstElementChild;
return e;
}).append(this)), this);
},
wrapInner: function(e) {
return Q.isFunction(e) ? this.each(function(t) {
Q(this).wrapInner(e.call(this, t));
}) : this.each(function() {
var t = Q(this), n = t.contents();
n.length ? n.wrapAll(e) : t.append(e);
});
},
wrap: function(e) {
var t = Q.isFunction(e);
return this.each(function(n) {
Q(this).wrapAll(t ? e.call(this, n) : e);
});
},
unwrap: function() {
return this.parent().each(function() {
Q.nodeName(this, "body") || Q(this).replaceWith(this.childNodes);
}).end();
}
}), Q.expr.filters.hidden = function(e) {
return e.offsetWidth <= 0 && e.offsetHeight <= 0;
}, Q.expr.filters.visible = function(e) {
return !Q.expr.filters.hidden(e);
};
var yt = /%20/g, bt = /\[\]$/, wt = /\r?\n/g, xt = /^(?:submit|button|image|reset|file)$/i, Ct = /^(?:input|select|textarea|keygen)/i;
Q.param = function(e, t) {
var n, i = [], r = function(e, t) {
t = Q.isFunction(t) ? t() : null == t ? "" : t, i[i.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t);
};
if (void 0 === t && (t = Q.ajaxSettings && Q.ajaxSettings.traditional), Q.isArray(e) || e.jquery && !Q.isPlainObject(e)) Q.each(e, function() {
r(this.name, this.value);
}); else for (n in e) N(n, e[n], t, r);
return i.join("&").replace(yt, "+");
}, Q.fn.extend({
serialize: function() {
return Q.param(this.serializeArray());
},
serializeArray: function() {
return this.map(function() {
var e = Q.prop(this, "elements");
return e ? Q.makeArray(e) : this;
}).filter(function() {
var e = this.type;
return this.name && !Q(this).is(":disabled") && Ct.test(this.nodeName) && !xt.test(e) && (this.checked || !xe.test(e));
}).map(function(e, t) {
var n = Q(this).val();
return null == n ? null : Q.isArray(n) ? Q.map(n, function(e) {
return {
name: t.name,
value: e.replace(wt, "\r\n")
};
}) : {
name: t.name,
value: n.replace(wt, "\r\n")
};
}).get();
}
}), Q.ajaxSettings.xhr = function() {
try {
return new XMLHttpRequest();
} catch (e) {}
};
var _t = 0, St = {}, $t = {
0: 200,
1223: 204
}, At = Q.ajaxSettings.xhr();
e.attachEvent && e.attachEvent("onunload", function() {
for (var e in St) St[e]();
}), K.cors = !!At && "withCredentials" in At, K.ajax = At = !!At, Q.ajaxTransport(function(e) {
var t;
if (K.cors || At && !e.crossDomain) return {
send: function(n, i) {
var r, o = e.xhr(), a = ++_t;
if (o.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields) for (r in e.xhrFields) o[r] = e.xhrFields[r];
e.mimeType && o.overrideMimeType && o.overrideMimeType(e.mimeType), e.crossDomain || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest");
for (r in n) o.setRequestHeader(r, n[r]);
t = function(e) {
return function() {
t && (delete St[a], t = o.onload = o.onerror = null, "abort" === e ? o.abort() : "error" === e ? i(o.status, o.statusText) : i($t[o.status] || o.status, o.statusText, "string" == typeof o.responseText ? {
text: o.responseText
} : void 0, o.getAllResponseHeaders()));
};
}, o.onload = t(), o.onerror = t("error"), t = St[a] = t("abort");
try {
o.send(e.hasContent && e.data || null);
} catch (e) {
if (t) throw e;
}
},
abort: function() {
t && t();
}
};
}), Q.ajaxSetup({
accepts: {
script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
},
contents: {
script: /(?:java|ecma)script/
},
converters: {
"text script": function(e) {
return Q.globalEval(e), e;
}
}
}), Q.ajaxPrefilter("script", function(e) {
void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET");
}), Q.ajaxTransport("script", function(e) {
if (e.crossDomain) {
var t, n;
return {
send: function(i, r) {
t = Q("<script>").prop({
async: !0,
charset: e.scriptCharset,
src: e.url
}).on("load error", n = function(e) {
t.remove(), n = null, e && r("error" === e.type ? 404 : 200, e.type);
}), X.head.appendChild(t[0]);
},
abort: function() {
n && n();
}
};
}
});
var kt = [], Et = /(=)\?(?=&|$)|\?\?/;
Q.ajaxSetup({
jsonp: "callback",
jsonpCallback: function() {
var e = kt.pop() || Q.expando + "_" + rt++;
return this[e] = !0, e;
}
}), Q.ajaxPrefilter("json jsonp", function(t, n, i) {
var r, o, a, s = !1 !== t.jsonp && (Et.test(t.url) ? "url" : "string" == typeof t.data && !(t.contentType || "").indexOf("application/x-www-form-urlencoded") && Et.test(t.data) && "data");
if (s || "jsonp" === t.dataTypes[0]) return r = t.jsonpCallback = Q.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, s ? t[s] = t[s].replace(Et, "$1" + r) : !1 !== t.jsonp && (t.url += (ot.test(t.url) ? "&" : "?") + t.jsonp + "=" + r), t.converters["script json"] = function() {
return a || Q.error(r + " was not called"), a[0];
}, t.dataTypes[0] = "json", o = e[r], e[r] = function() {
a = arguments;
}, i.always(function() {
e[r] = o, t[r] && (t.jsonpCallback = n.jsonpCallback, kt.push(r)), a && Q.isFunction(o) && o(a[0]), a = o = void 0;
}), "script";
}), Q.parseHTML = function(e, t, n) {
if (!e || "string" != typeof e) return null;
"boolean" == typeof t && (n = t, t = !1), t = t || X;
var i = re.exec(e), r = !n && [];
return i ? [ t.createElement(i[1]) ] : (i = Q.buildFragment([ e ], t, r), r && r.length && Q(r).remove(), Q.merge([], i.childNodes));
};
var Tt = Q.fn.load;
Q.fn.load = function(e, t, n) {
if ("string" != typeof e && Tt) return Tt.apply(this, arguments);
var i, r, o, a = this, s = e.indexOf(" ");
return s >= 0 && (i = Q.trim(e.slice(s)), e = e.slice(0, s)), Q.isFunction(t) ? (n = t, t = void 0) : t && "object" == typeof t && (r = "POST"), a.length > 0 && Q.ajax({
url: e,
type: r,
dataType: "html",
data: t
}).done(function(e) {
o = arguments, a.html(i ? Q("<div>").append(Q.parseHTML(e)).find(i) : e);
}).complete(n && function(e, t) {
a.each(n, o || [ e.responseText, t, e ]);
}), this;
}, Q.each([ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function(e, t) {
Q.fn[t] = function(e) {
return this.on(t, e);
};
}), Q.expr.filters.animated = function(e) {
return Q.grep(Q.timers, function(t) {
return e === t.elem;
}).length;
};
var Dt = e.document.documentElement;
Q.offset = {
setOffset: function(e, t, n) {
var i, r, o, a, s, l, c = Q.css(e, "position"), u = Q(e), d = {};
"static" === c && (e.style.position = "relative"), s = u.offset(), o = Q.css(e, "top"), l = Q.css(e, "left"), ("absolute" === c || "fixed" === c) && (o + l).indexOf("auto") > -1 ? (a = (i = u.position()).top, r = i.left) : (a = parseFloat(o) || 0, r = parseFloat(l) || 0), Q.isFunction(t) && (t = t.call(e, n, s)), null != t.top && (d.top = t.top - s.top + a), null != t.left && (d.left = t.left - s.left + r), "using" in t ? t.using.call(e, d) : u.css(d);
}
}, Q.fn.extend({
offset: function(e) {
if (arguments.length) return void 0 === e ? this : this.each(function(t) {
Q.offset.setOffset(this, e, t);
});
var t, n, i = this[0], r = {
top: 0,
left: 0
}, o = i && i.ownerDocument;
if (o) return t = o.documentElement, Q.contains(t, i) ? (void 0 !== i.getBoundingClientRect && (r = i.getBoundingClientRect()), n = j(o), {
top: r.top + n.pageYOffset - t.clientTop,
left: r.left + n.pageXOffset - t.clientLeft
}) : r;
},
position: function() {
if (this[0]) {
var e, t, n = this[0], i = {
top: 0,
left: 0
};
return "fixed" === Q.css(n, "position") ? t = n.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), Q.nodeName(e[0], "html") || (i = e.offset()), i.top += Q.css(e[0], "borderTopWidth", !0), i.left += Q.css(e[0], "borderLeftWidth", !0)), {
top: t.top - i.top - Q.css(n, "marginTop", !0),
left: t.left - i.left - Q.css(n, "marginLeft", !0)
};
}
},
offsetParent: function() {
return this.map(function() {
for (var e = this.offsetParent || Dt; e && !Q.nodeName(e, "html") && "static" === Q.css(e, "position"); ) e = e.offsetParent;
return e || Dt;
});
}
}), Q.each({
scrollLeft: "pageXOffset",
scrollTop: "pageYOffset"
}, function(t, n) {
var i = "pageYOffset" === n;
Q.fn[t] = function(r) {
return pe(this, function(t, r, o) {
var a = j(t);
if (void 0 === o) return a ? a[n] : t[r];
a ? a.scrollTo(i ? e.pageXOffset : o, i ? o : e.pageYOffset) : t[r] = o;
}, t, r, arguments.length, null);
};
}), Q.each([ "top", "left" ], function(e, t) {
Q.cssHooks[t] = C(K.pixelPosition, function(e, n) {
if (n) return n = x(e, t), Be.test(n) ? Q(e).position()[t] + "px" : n;
});
}), Q.each({
Height: "height",
Width: "width"
}, function(e, t) {
Q.each({
padding: "inner" + e,
content: t,
"": "outer" + e
}, function(n, i) {
Q.fn[i] = function(i, r) {
var o = arguments.length && (n || "boolean" != typeof i), a = n || (!0 === i || !0 === r ? "margin" : "border");
return pe(this, function(t, n, i) {
var r;
return Q.isWindow(t) ? t.document.documentElement["client" + e] : 9 === t.nodeType ? (r = t.documentElement, Math.max(t.body["scroll" + e], r["scroll" + e], t.body["offset" + e], r["offset" + e], r["client" + e])) : void 0 === i ? Q.css(t, n, a) : Q.style(t, n, i, a);
}, t, o ? i : void 0, o, null);
};
});
}), Q.fn.size = function() {
return this.length;
}, Q.fn.andSelf = Q.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function() {
return Q;
});
var Ft = e.jQuery, Mt = e.$;
return Q.noConflict = function(t) {
return e.$ === Q && (e.$ = Mt), t && e.jQuery === Q && (e.jQuery = Ft), Q;
}, void 0 === t && (e.jQuery = e.$ = Q), Q;
}), function(e) {
"use strict";
function t(e, t) {
return t = t || Error, function() {
var n, i, r = arguments, o = r[0], a = "[" + (e ? e + ":" : "") + o + "] ";
for (a += r[1].replace(/\{\d+\}/g, function(e) {
var t = +e.slice(1, -1) + 2;
return t < r.length ? ve(r[t]) : e;
}), a += "\nhttp://errors.angularjs.org/1.5.11/" + (e ? e + "/" : "") + o, i = 2, n = "?"; i < r.length; i++, n = "&") a += n + "p" + (i - 2) + "=" + encodeURIComponent(ve(r[i]));
return new t(a);
};
}
function n(e) {
if (null == e || A(e)) return !1;
if (Oi(e) || x(e) || Si && e instanceof Si) return !0;
var t = "length" in Object(e) && e.length;
return C(t) && (t >= 0 && (t - 1 in e || e instanceof Array) || "function" == typeof e.item);
}
function i(e, t, r) {
var o, a;
if (e) if (S(e)) for (o in e) "prototype" === o || "length" === o || "name" === o || e.hasOwnProperty && !e.hasOwnProperty(o) || t.call(r, e[o], o, e); else if (Oi(e) || n(e)) {
var s = "object" != typeof e;
for (o = 0, a = e.length; o < a; o++) (s || o in e) && t.call(r, e[o], o, e);
} else if (e.forEach && e.forEach !== i) e.forEach(t, r, e); else if (w(e)) for (o in e) t.call(r, e[o], o, e); else if ("function" == typeof e.hasOwnProperty) for (o in e) e.hasOwnProperty(o) && t.call(r, e[o], o, e); else for (o in e) wi.call(e, o) && t.call(r, e[o], o, e);
return e;
}
function r(e, t, n) {
for (var i = Object.keys(e).sort(), r = 0; r < i.length; r++) t.call(n, e[i[r]], i[r]);
return i;
}
function o(e) {
return function(t, n) {
e(n, t);
};
}
function a() {
return ++Li;
}
function s(e, t) {
t ? e.$$hashKey = t : delete e.$$hashKey;
}
function l(e, t, n) {
for (var i = e.$$hashKey, r = 0, o = t.length; r < o; ++r) {
var a = t[r];
if (b(a) || S(a)) for (var c = Object.keys(a), u = 0, d = c.length; u < d; u++) {
var h = c[u], p = a[h];
n && b(p) ? _(p) ? e[h] = new Date(p.valueOf()) : $(p) ? e[h] = new RegExp(p) : p.nodeName ? e[h] = p.cloneNode(!0) : P(p) ? e[h] = p.clone() : (b(e[h]) || (e[h] = Oi(p) ? [] : {}), l(e[h], [ p ], !0)) : e[h] = p;
}
}
return s(e, i), e;
}
function c(e) {
return l(e, ki.call(arguments, 1), !1);
}
function u(e) {
return l(e, ki.call(arguments, 1), !0);
}
function d(e) {
return parseInt(e, 10);
}
function h(e, t) {
return c(Object.create(e), t);
}
function p() {}
function f(e) {
return e;
}
function g(e) {
return function() {
return e;
};
}
function m(e) {
return S(e.toString) && e.toString !== Di;
}
function v(e) {
return void 0 === e;
}
function y(e) {
return void 0 !== e;
}
function b(e) {
return null !== e && "object" == typeof e;
}
function w(e) {
return null !== e && "object" == typeof e && !Fi(e);
}
function x(e) {
return "string" == typeof e;
}
function C(e) {
return "number" == typeof e;
}
function _(e) {
return "[object Date]" === Di.call(e);
}
function S(e) {
return "function" == typeof e;
}
function $(e) {
return "[object RegExp]" === Di.call(e);
}
function A(e) {
return e && e.window === e;
}
function k(e) {
return e && e.$evalAsync && e.$watch;
}
function E(e) {
return "[object File]" === Di.call(e);
}
function T(e) {
return "[object FormData]" === Di.call(e);
}
function D(e) {
return "[object Blob]" === Di.call(e);
}
function F(e) {
return "boolean" == typeof e;
}
function M(e) {
return e && S(e.then);
}
function I(e) {
return e && C(e.length) && Ri.test(Di.call(e));
}
function L(e) {
return "[object ArrayBuffer]" === Di.call(e);
}
function P(e) {
return !(!e || !(e.nodeName || e.prop && e.attr && e.find));
}
function O(e) {
var t, n = {}, i = e.split(",");
for (t = 0; t < i.length; t++) n[i[t]] = !0;
return n;
}
function R(e) {
return xi(e.nodeName || e[0] && e[0].nodeName);
}
function B(e, t) {
var n = e.indexOf(t);
return n >= 0 && e.splice(n, 1), n;
}
function N(e, t) {
function n(e, t) {
var n, i = t.$$hashKey;
if (Oi(e)) for (var o = 0, a = e.length; o < a; o++) t.push(r(e[o])); else if (w(e)) for (n in e) t[n] = r(e[n]); else if (e && "function" == typeof e.hasOwnProperty) for (n in e) e.hasOwnProperty(n) && (t[n] = r(e[n])); else for (n in e) wi.call(e, n) && (t[n] = r(e[n]));
return s(t, i), t;
}
function r(e) {
if (!b(e)) return e;
var t = a.indexOf(e);
if (-1 !== t) return l[t];
if (A(e) || k(e)) throw Mi("cpws", "Can't copy! Making copies of Window or Scope instances is not supported.");
var i = !1, r = o(e);
return void 0 === r && (r = Oi(e) ? [] : Object.create(Fi(e)), i = !0), a.push(e), l.push(r), i ? n(e, r) : r;
}
function o(e) {
switch (Di.call(e)) {
case "[object Int8Array]":
case "[object Int16Array]":
case "[object Int32Array]":
case "[object Float32Array]":
case "[object Float64Array]":
case "[object Uint8Array]":
case "[object Uint8ClampedArray]":
case "[object Uint16Array]":
case "[object Uint32Array]":
return new e.constructor(r(e.buffer), e.byteOffset, e.length);

case "[object ArrayBuffer]":
if (!e.slice) {
var t = new ArrayBuffer(e.byteLength);
return new Uint8Array(t).set(new Uint8Array(e)), t;
}
return e.slice(0);

case "[object Boolean]":
case "[object Number]":
case "[object String]":
case "[object Date]":
return new e.constructor(e.valueOf());

case "[object RegExp]":
var n = new RegExp(e.source, e.toString().match(/[^/]*$/)[0]);
return n.lastIndex = e.lastIndex, n;

case "[object Blob]":
return new e.constructor([ e ], {
type: e.type
});
}
if (S(e.cloneNode)) return e.cloneNode(!0);
}
var a = [], l = [];
if (t) {
if (I(t) || L(t)) throw Mi("cpta", "Can't copy! TypedArray destination cannot be mutated.");
if (e === t) throw Mi("cpi", "Can't copy! Source and destination are identical.");
return Oi(t) ? t.length = 0 : i(t, function(e, n) {
"$$hashKey" !== n && delete t[n];
}), a.push(e), l.push(t), n(e, t);
}
return r(e);
}
function j(e, t) {
if (e === t) return !0;
if (null === e || null === t) return !1;
if (e !== e && t !== t) return !0;
var n, i, r, o = typeof e;
if (o === typeof t && "object" === o) {
if (!Oi(e)) {
if (_(e)) return !!_(t) && j(e.getTime(), t.getTime());
if ($(e)) return !!$(t) && e.toString() === t.toString();
if (k(e) || k(t) || A(e) || A(t) || Oi(t) || _(t) || $(t)) return !1;
r = pe();
for (i in e) if ("$" !== i.charAt(0) && !S(e[i])) {
if (!j(e[i], t[i])) return !1;
r[i] = !0;
}
for (i in t) if (!(i in r) && "$" !== i.charAt(0) && y(t[i]) && !S(t[i])) return !1;
return !0;
}
if (!Oi(t)) return !1;
if ((n = e.length) === t.length) {
for (i = 0; i < n; i++) if (!j(e[i], t[i])) return !1;
return !0;
}
}
return !1;
}
function U(e, t, n) {
return e.concat(ki.call(t, n));
}
function V(e, t) {
return ki.call(e, t || 0);
}
function H(e, t) {
var n = arguments.length > 2 ? V(arguments, 2) : [];
return !S(t) || t instanceof RegExp ? t : n.length ? function() {
return arguments.length ? t.apply(e, U(n, arguments, 0)) : t.apply(e, n);
} : function() {
return arguments.length ? t.apply(e, arguments) : t.call(e);
};
}
function z(t, n) {
var i = n;
return "string" == typeof t && "$" === t.charAt(0) && "$" === t.charAt(1) ? i = void 0 : A(n) ? i = "$WINDOW" : n && e.document === n ? i = "$DOCUMENT" : k(n) && (i = "$SCOPE"), i;
}
function W(e, t) {
if (!v(e)) return C(t) || (t = t ? 2 : null), JSON.stringify(e, z, t);
}
function G(e) {
return x(e) ? JSON.parse(e) : e;
}
function q(e, t) {
e = e.replace(Vi, "");
var n = Date.parse("Jan 01, 1970 00:00:00 " + e) / 6e4;
return Pi(n) ? t : n;
}
function Y(e, t) {
return (e = new Date(e.getTime())).setMinutes(e.getMinutes() + t), e;
}
function K(e, t, n) {
n = n ? -1 : 1;
var i = e.getTimezoneOffset();
return Y(e, n * (q(t, i) - i));
}
function X(e) {
e = Si(e).clone();
try {
e.empty();
} catch (e) {}
var t = Si("<div>").append(e).html();
try {
return e[0].nodeType === Yi ? xi(t) : t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/, function(e, t) {
return "<" + xi(t);
});
} catch (e) {
return xi(t);
}
}
function Q(e) {
try {
return decodeURIComponent(e);
} catch (e) {}
}
function J(e) {
var t = {};
return i((e || "").split("&"), function(e) {
var n, i, r;
e && (i = e = e.replace(/\+/g, "%20"), -1 !== (n = e.indexOf("=")) && (i = e.substring(0, n), r = e.substring(n + 1)), y(i = Q(i)) && (r = !y(r) || Q(r), wi.call(t, i) ? Oi(t[i]) ? t[i].push(r) : t[i] = [ t[i], r ] : t[i] = r));
}), t;
}
function Z(e) {
var t = [];
return i(e, function(e, n) {
Oi(e) ? i(e, function(e) {
t.push(te(n, !0) + (!0 === e ? "" : "=" + te(e, !0)));
}) : t.push(te(n, !0) + (!0 === e ? "" : "=" + te(e, !0)));
}), t.length ? t.join("&") : "";
}
function ee(e) {
return te(e, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+");
}
function te(e, t) {
return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, t ? "%20" : "+");
}
function ne(e, t) {
var n, i, r = Hi.length;
for (i = 0; i < r; ++i) if (n = Hi[i] + t, x(n = e.getAttribute(n))) return n;
return null;
}
function ie(t, n) {
var r, o, a = {};
if (i(Hi, function(e) {
var n = e + "app";
!r && t.hasAttribute && t.hasAttribute(n) && (r = t, o = t.getAttribute(n));
}), i(Hi, function(e) {
var n, i = e + "app";
!r && (n = t.querySelector("[" + i.replace(":", "\\:") + "]")) && (r = n, o = n.getAttribute(i));
}), r) {
if (!zi) return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");
a.strictDi = null !== ne(r, "strict-di"), n(r, o ? [ o ] : [], a);
}
}
function re(t, n, r) {
b(r) || (r = {}), r = c({
strictDi: !1
}, r);
var o = function() {
if ((t = Si(t)).injector()) {
var i = t[0] === e.document ? "document" : X(t);
throw Mi("btstrpd", "App already bootstrapped with this element '{0}'", i.replace(/</, "&lt;").replace(/>/, "&gt;"));
}
(n = n || []).unshift([ "$provide", function(e) {
e.value("$rootElement", t);
} ]), r.debugInfoEnabled && n.push([ "$compileProvider", function(e) {
e.debugInfoEnabled(!0);
} ]), n.unshift("ng");
var o = Je(n, r.strictDi);
return o.invoke([ "$rootScope", "$rootElement", "$compile", "$injector", function(e, t, n, i) {
e.$apply(function() {
t.data("$injector", i), n(t)(e);
});
} ]), o;
}, a = /^NG_ENABLE_DEBUG_INFO!/, s = /^NG_DEFER_BOOTSTRAP!/;
if (e && a.test(e.name) && (r.debugInfoEnabled = !0, e.name = e.name.replace(a, "")), e && !s.test(e.name)) return o();
e.name = e.name.replace(s, ""), Ii.resumeBootstrap = function(e) {
return i(e, function(e) {
n.push(e);
}), o();
}, S(Ii.resumeDeferredBootstrap) && Ii.resumeDeferredBootstrap();
}
function oe() {
e.name = "NG_ENABLE_DEBUG_INFO!" + e.name, e.location.reload();
}
function ae(e) {
var t = Ii.element(e).injector();
if (!t) throw Mi("test", "no injector found for element argument to getTestability");
return t.get("$$testability");
}
function se(e, t) {
return t = t || "_", e.replace(Wi, function(e, n) {
return (n ? t : "") + e.toLowerCase();
});
}
function le(e, t, n) {
if (!e) throw Mi("areq", "Argument '{0}' is {1}", t || "?", n || "required");
return e;
}
function ce(e, t, n) {
return n && Oi(e) && (e = e[e.length - 1]), le(S(e), t, "not a function, got " + (e && "object" == typeof e ? e.constructor.name || "Object" : typeof e)), e;
}
function ue(e, t) {
if ("hasOwnProperty" === e) throw Mi("badname", "hasOwnProperty is not a valid {0} name", t);
}
function de(e, t, n) {
if (!t) return e;
for (var i, r = t.split("."), o = e, a = r.length, s = 0; s < a; s++) i = r[s], e && (e = (o = e)[i]);
return !n && S(e) ? H(o, e) : e;
}
function he(e) {
for (var t, n = e[0], i = e[e.length - 1], r = 1; n !== i && (n = n.nextSibling); r++) (t || e[r] !== n) && (t || (t = Si(ki.call(e, 0, r))), t.push(n));
return t || e;
}
function pe() {
return Object.create(null);
}
function fe(e) {
function n(e, t, n) {
return e[t] || (e[t] = n());
}
var i = t("$injector"), r = t("ng"), o = n(e, "angular", Object);
return o.$$minErr = o.$$minErr || t, n(o, "module", function() {
var e = {};
return function(t, o, a) {
return function(e, t) {
if ("hasOwnProperty" === e) throw r("badname", "hasOwnProperty is not a valid {0} name", t);
}(t, "module"), o && e.hasOwnProperty(t) && (e[t] = null), n(e, t, function() {
function e(e, t, n, i) {
return i || (i = r), function() {
return i[n || "push"]([ e, t, arguments ]), u;
};
}
function n(e, n) {
return function(i, o) {
return o && S(o) && (o.$$moduleName = t), r.push([ e, n, arguments ]), u;
};
}
if (!o) throw i("nomod", "Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.", t);
var r = [], s = [], l = [], c = e("$injector", "invoke", "push", s), u = {
_invokeQueue: r,
_configBlocks: s,
_runBlocks: l,
requires: o,
name: t,
provider: n("$provide", "provider"),
factory: n("$provide", "factory"),
service: n("$provide", "service"),
value: e("$provide", "value"),
constant: e("$provide", "constant", "unshift"),
decorator: n("$provide", "decorator"),
animation: n("$animateProvider", "register"),
filter: n("$filterProvider", "register"),
controller: n("$controllerProvider", "register"),
directive: n("$compileProvider", "directive"),
component: n("$compileProvider", "component"),
config: c,
run: function(e) {
return l.push(e), this;
}
};
return a && c(a), u;
});
};
});
}
function ge(e, t) {
if (Oi(e)) {
t = t || [];
for (var n = 0, i = e.length; n < i; n++) t[n] = e[n];
} else if (b(e)) {
t = t || {};
for (var r in e) "$" === r.charAt(0) && "$" === r.charAt(1) || (t[r] = e[r]);
}
return t || e;
}
function me(e) {
var t = [];
return JSON.stringify(e, function(e, n) {
if (n = z(e, n), b(n)) {
if (t.indexOf(n) >= 0) return "...";
t.push(n);
}
return n;
});
}
function ve(e) {
return "function" == typeof e ? e.toString().replace(/ \{[\s\S]*$/, "") : v(e) ? "undefined" : "string" != typeof e ? me(e) : e;
}
function ye() {
return ++er;
}
function be(e) {
return e.replace(ir, function(e, t, n, i) {
return i ? n.toUpperCase() : n;
}).replace(rr, "Moz$1");
}
function we(e) {
return !lr.test(e);
}
function xe(e) {
var t = e.nodeType;
return t === qi || !t || t === Xi;
}
function Ce(e, t) {
var n, r, o, a, s = t.createDocumentFragment(), l = [];
if (we(e)) l.push(t.createTextNode(e)); else {
for (n = s.appendChild(t.createElement("div")), r = (cr.exec(e) || [ "", "" ])[1].toLowerCase(), o = dr[r] || dr._default, n.innerHTML = o[1] + e.replace(ur, "<$1></$2>") + o[2], a = o[0]; a--; ) n = n.lastChild;
l = U(l, n.childNodes), (n = s.firstChild).textContent = "";
}
return s.textContent = "", s.innerHTML = "", i(l, function(e) {
s.appendChild(e);
}), s;
}
function _e(t, n) {
n = n || e.document;
var i;
return (i = sr.exec(t)) ? [ n.createElement(i[1]) ] : (i = Ce(t, n)) ? i.childNodes : [];
}
function Se(e, t) {
var n = e.parentNode;
n && n.replaceChild(t, e), t.appendChild(e);
}
function $e(e) {
if (e instanceof $e) return e;
var t;
if (x(e) && (e = Bi(e), t = !0), !(this instanceof $e)) {
if (t && "<" !== e.charAt(0)) throw ar("nosel", "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
return new $e(e);
}
t ? Pe(this, _e(e)) : Pe(this, e);
}
function Ae(e) {
return e.cloneNode(!0);
}
function ke(e, t) {
if (t || Te(e), e.querySelectorAll) for (var n = e.querySelectorAll("*"), i = 0, r = n.length; i < r; i++) Te(n[i]);
}
function Ee(e, t, n, r) {
if (y(r)) throw ar("offargs", "jqLite#off() does not support the `selector` argument");
var o = De(e), a = o && o.events, s = o && o.handle;
if (s) if (t) {
var l = function(t) {
var i = a[t];
y(n) && B(i || [], n), y(n) && i && i.length > 0 || (nr(e, t, s), delete a[t]);
};
i(t.split(" "), function(e) {
l(e), or[e] && l(or[e]);
});
} else for (t in a) "$destroy" !== t && nr(e, t, s), delete a[t];
}
function Te(e, t) {
var n = e.ng339, i = n && Zi[n];
if (i) {
if (t) return void delete i.data[t];
i.handle && (i.events.$destroy && i.handle({}, "$destroy"), Ee(e)), delete Zi[n], e.ng339 = void 0;
}
}
function De(e, t) {
var n = e.ng339, i = n && Zi[n];
return t && !i && (e.ng339 = n = ye(), i = Zi[n] = {
events: {},
data: {},
handle: void 0
}), i;
}
function Fe(e, t, n) {
if (xe(e)) {
var i = y(n), r = !i && t && !b(t), o = !t, a = De(e, !r), s = a && a.data;
if (i) s[t] = n; else {
if (o) return s;
if (r) return s && s[t];
c(s, t);
}
}
}
function Me(e, t) {
return !!e.getAttribute && (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + t + " ") > -1;
}
function Ie(e, t) {
t && e.setAttribute && i(t.split(" "), function(t) {
e.setAttribute("class", Bi((" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + Bi(t) + " ", " ")));
});
}
function Le(e, t) {
if (t && e.setAttribute) {
var n = (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
i(t.split(" "), function(e) {
e = Bi(e), -1 === n.indexOf(" " + e + " ") && (n += e + " ");
}), e.setAttribute("class", Bi(n));
}
}
function Pe(e, t) {
if (t) if (t.nodeType) e[e.length++] = t; else {
var n = t.length;
if ("number" == typeof n && t.window !== t) {
if (n) for (var i = 0; i < n; i++) e[e.length++] = t[i];
} else e[e.length++] = t;
}
}
function Oe(e, t) {
return Re(e, "$" + (t || "ngController") + "Controller");
}
function Re(e, t, n) {
e.nodeType === Xi && (e = e.documentElement);
for (var i = Oi(t) ? t : [ t ]; e; ) {
for (var r = 0, o = i.length; r < o; r++) if (y(n = Si.data(e, i[r]))) return n;
e = e.parentNode || e.nodeType === Qi && e.host;
}
}
function Be(e) {
for (ke(e, !0); e.firstChild; ) e.removeChild(e.firstChild);
}
function Ne(e, t) {
t || ke(e);
var n = e.parentNode;
n && n.removeChild(e);
}
function je(t, n) {
"complete" === (n = n || e).document.readyState ? n.setTimeout(t) : Si(n).on("load", t);
}
function Ue(e, t) {
var n = fr[t.toLowerCase()];
return n && gr[R(e)] && n;
}
function Ve(e) {
return mr[e];
}
function He(e, t) {
var n = function(n, i) {
n.isDefaultPrevented = function() {
return n.defaultPrevented;
};
var r = t[i || n.type], o = r ? r.length : 0;
if (o) {
if (v(n.immediatePropagationStopped)) {
var a = n.stopImmediatePropagation;
n.stopImmediatePropagation = function() {
n.immediatePropagationStopped = !0, n.stopPropagation && n.stopPropagation(), a && a.call(n);
};
}
n.isImmediatePropagationStopped = function() {
return !0 === n.immediatePropagationStopped;
};
var s = r.specialHandlerWrapper || ze;
o > 1 && (r = ge(r));
for (var l = 0; l < o; l++) n.isImmediatePropagationStopped() || s(e, n, r[l]);
}
};
return n.elem = e, n;
}
function ze(e, t, n) {
n.call(e, t);
}
function We(e, t, n) {
var i = t.relatedTarget;
i && (i === e || hr.call(e, i)) || n.call(e, t);
}
function Ge() {
this.$get = function() {
return c($e, {
hasClass: function(e, t) {
return e.attr && (e = e[0]), Me(e, t);
},
addClass: function(e, t) {
return e.attr && (e = e[0]), Le(e, t);
},
removeClass: function(e, t) {
return e.attr && (e = e[0]), Ie(e, t);
}
});
};
}
function qe(e, t) {
var n = e && e.$$hashKey;
if (n) return "function" == typeof n && (n = e.$$hashKey()), n;
var i = typeof e;
return n = "function" === i || "object" === i && null !== e ? e.$$hashKey = i + ":" + (t || a)() : i + ":" + e;
}
function Ye(e, t) {
if (t) {
var n = 0;
this.nextUid = function() {
return ++n;
};
}
i(e, this.put, this);
}
function Ke(e) {
return Function.prototype.toString.call(e) + " ";
}
function Xe(e) {
var t = Ke(e).replace(Cr, "");
return t.match(yr) || t.match(br);
}
function Qe(e) {
var t = Xe(e);
return t ? "function(" + (t[1] || "").replace(/[\s\r\n]+/, " ") + ")" : "fn";
}
function Je(e, t) {
function n(e) {
return function(t, n) {
if (!b(t)) return e(t, n);
i(t, o(e));
};
}
function r(e, t) {
if (ue(e, "service"), (S(t) || Oi(t)) && (t = m.instantiate(t)), !t.$get) throw _r("pget", "Provider '{0}' must define $get factory method.", e);
return f[e + d] = t;
}
function a(e, t) {
return function() {
var n = C.invoke(t, this);
if (v(n)) throw _r("undef", "Provider '{0}' must return a value from $get factory method.", e);
return n;
};
}
function s(e, t, n) {
return r(e, {
$get: !1 !== n ? a(e, t) : t
});
}
function l(e) {
le(v(e) || Oi(e), "modulesToLoad", "not an array");
var t, n = [];
return i(e, function(e) {
function i(e) {
var t, n;
for (t = 0, n = e.length; t < n; t++) {
var i = e[t], r = m.get(i[0]);
r[i[1]].apply(r, i[2]);
}
}
if (!p.get(e)) {
p.put(e, !0);
try {
x(e) ? (t = Ai(e), n = n.concat(l(t.requires)).concat(t._runBlocks), i(t._invokeQueue), i(t._configBlocks)) : S(e) ? n.push(m.invoke(e)) : Oi(e) ? n.push(m.invoke(e)) : ce(e, "module");
} catch (t) {
throw Oi(e) && (e = e[e.length - 1]), t.message && t.stack && -1 === t.stack.indexOf(t.message) && (t = t.message + "\n" + t.stack), _r("modulerr", "Failed to instantiate module {0} due to:\n{1}", e, t.stack || t.message || t);
}
}
}), n;
}
function c(e, n) {
function i(t, i) {
if (e.hasOwnProperty(t)) {
if (e[t] === u) throw _r("cdep", "Circular dependency found: {0}", t + " <- " + h.join(" <- "));
return e[t];
}
try {
return h.unshift(t), e[t] = u, e[t] = n(t, i), e[t];
} catch (n) {
throw e[t] === u && delete e[t], n;
} finally {
h.shift();
}
}
function r(e, n, r) {
for (var o = [], a = Je.$$annotate(e, t, r), s = 0, l = a.length; s < l; s++) {
var c = a[s];
if ("string" != typeof c) throw _r("itkn", "Incorrect injection token! Expected service name as string, got {0}", c);
o.push(n && n.hasOwnProperty(c) ? n[c] : i(c, r));
}
return o;
}
function o(e) {
return !(_i <= 11) && ("function" == typeof e && /^(?:class\b|constructor\()/.test(Ke(e)));
}
return {
invoke: function(e, t, n, i) {
"string" == typeof n && (i = n, n = null);
var a = r(e, n, i);
return Oi(e) && (e = e[e.length - 1]), o(e) ? (a.unshift(null), new (Function.prototype.bind.apply(e, a))()) : e.apply(t, a);
},
instantiate: function(e, t, n) {
var i = Oi(e) ? e[e.length - 1] : e, o = r(e, t, n);
return o.unshift(null), new (Function.prototype.bind.apply(i, o))();
},
get: i,
annotate: Je.$$annotate,
has: function(t) {
return f.hasOwnProperty(t + d) || e.hasOwnProperty(t);
}
};
}
t = !0 === t;
var u = {}, d = "Provider", h = [], p = new Ye([], !0), f = {
$provide: {
provider: n(r),
factory: n(s),
service: n(function(e, t) {
return s(e, [ "$injector", function(e) {
return e.instantiate(t);
} ]);
}),
value: n(function(e, t) {
return s(e, g(t), !1);
}),
constant: n(function(e, t) {
ue(e, "constant"), f[e] = t, y[e] = t;
}),
decorator: function(e, t) {
var n = m.get(e + d), i = n.$get;
n.$get = function() {
var e = C.invoke(i, n);
return C.invoke(t, null, {
$delegate: e
});
};
}
}
}, m = f.$injector = c(f, function(e, t) {
throw Ii.isString(t) && h.push(t), _r("unpr", "Unknown provider: {0}", h.join(" <- "));
}), y = {}, w = c(y, function(e, t) {
var n = m.get(e + d, t);
return C.invoke(n.$get, n, void 0, e);
}), C = w;
f["$injector" + d] = {
$get: g(w)
};
var _ = l(e);
return C = w.get("$injector"), C.strictDi = t, i(_, function(e) {
e && C.invoke(e);
}), C;
}
function Ze() {
var e = !0;
this.disableAutoScrolling = function() {
e = !1;
}, this.$get = [ "$window", "$location", "$rootScope", function(t, n, i) {
function r(e) {
var t = null;
return Array.prototype.some.call(e, function(e) {
if ("a" === R(e)) return t = e, !0;
}), t;
}
function o() {
var e = s.yOffset;
if (S(e)) e = e(); else if (P(e)) {
var n = e[0];
e = "fixed" !== t.getComputedStyle(n).position ? 0 : n.getBoundingClientRect().bottom;
} else C(e) || (e = 0);
return e;
}
function a(e) {
if (e) {
e.scrollIntoView();
var n = o();
if (n) {
var i = e.getBoundingClientRect().top;
t.scrollBy(0, i - n);
}
} else t.scrollTo(0, 0);
}
function s(e) {
var t;
(e = x(e) ? e : C(e) ? e.toString() : n.hash()) ? (t = l.getElementById(e)) ? a(t) : (t = r(l.getElementsByName(e))) ? a(t) : "top" === e && a(null) : a(null);
}
var l = t.document;
return e && i.$watch(function() {
return n.hash();
}, function(e, t) {
e === t && "" === e || je(function() {
i.$evalAsync(s);
});
}), s;
} ];
}
function et(e, t) {
return e || t ? e ? t ? (Oi(e) && (e = e.join(" ")), Oi(t) && (t = t.join(" ")), e + " " + t) : e : t : "";
}
function tt(e) {
for (var t = 0; t < e.length; t++) {
var n = e[t];
if (n.nodeType === $r) return n;
}
}
function nt(e) {
x(e) && (e = e.split(" "));
var t = pe();
return i(e, function(e) {
e.length && (t[e] = !0);
}), t;
}
function it(e) {
return b(e) ? e : {};
}
function rt(e, t, n, r) {
function o(e) {
try {
e.apply(null, V(arguments, 1));
} finally {
if (0 == --y) for (;b.length; ) try {
b.pop()();
} catch (e) {
n.error(e);
}
}
}
function a(e) {
var t = e.indexOf("#");
return -1 === t ? "" : e.substr(t);
}
function s() {
S = null, l(), c();
}
function l() {
w = $(), j(w = v(w) ? null : w, E) && (w = E), E = w;
}
function c() {
C === u.url() && x === w || (C = u.url(), x = w, i(A, function(e) {
e(u.url(), w);
}));
}
var u = this, d = e.location, h = e.history, f = e.setTimeout, g = e.clearTimeout, m = {};
u.isMock = !1;
var y = 0, b = [];
u.$$completeOutstandingRequest = o, u.$$incOutstandingRequestCount = function() {
y++;
}, u.notifyWhenNoOutstandingRequests = function(e) {
0 === y ? e() : b.push(e);
};
var w, x, C = d.href, _ = t.find("base"), S = null, $ = r.history ? function() {
try {
return h.state;
} catch (e) {}
} : p;
l(), x = w, u.url = function(t, n, i) {
if (v(i) && (i = null), d !== e.location && (d = e.location), h !== e.history && (h = e.history), t) {
var o = x === i;
if (C === t && (!r.history || o)) return u;
var s = C && Rt(C) === Rt(t);
return C = t, x = i, !r.history || s && o ? (s || (S = t), n ? d.replace(t) : s ? d.hash = a(t) : d.href = t, d.href !== t && (S = t)) : (h[n ? "replaceState" : "pushState"](i, "", t), l(), x = w), S && (S = t), u;
}
return S || d.href.replace(/%27/g, "'");
}, u.state = function() {
return w;
};
var A = [], k = !1, E = null;
u.onUrlChange = function(t) {
return k || (r.history && Si(e).on("popstate", s), Si(e).on("hashchange", s), k = !0), A.push(t), t;
}, u.$$applicationDestroyed = function() {
Si(e).off("hashchange popstate", s);
}, u.$$checkUrlChange = c, u.baseHref = function() {
var e = _.attr("href");
return e ? e.replace(/^(https?:)?\/\/[^/]*/, "") : "";
}, u.defer = function(e, t) {
var n;
return y++, n = f(function() {
delete m[n], o(e);
}, t || 0), m[n] = !0, n;
}, u.defer.cancel = function(e) {
return !!m[e] && (delete m[e], g(e), o(p), !0);
};
}
function ot() {
this.$get = [ "$window", "$log", "$sniffer", "$document", function(e, t, n, i) {
return new rt(e, i, t, n);
} ];
}
function at() {
this.$get = function() {
function e(e, i) {
function r(e) {
e !== h && (p ? p === e && (p = e.n) : p = e, o(e.n, e.p), o(e, h), (h = e).n = null);
}
function o(e, t) {
e !== t && (e && (e.p = t), t && (t.n = e));
}
if (e in n) throw t("$cacheFactory")("iid", "CacheId '{0}' is already taken!", e);
var a = 0, s = c({}, i, {
id: e
}), l = pe(), u = i && i.capacity || Number.MAX_VALUE, d = pe(), h = null, p = null;
return n[e] = {
put: function(e, t) {
if (!v(t)) return u < Number.MAX_VALUE && r(d[e] || (d[e] = {
key: e
})), e in l || a++, l[e] = t, a > u && this.remove(p.key), t;
},
get: function(e) {
if (u < Number.MAX_VALUE) {
var t = d[e];
if (!t) return;
r(t);
}
return l[e];
},
remove: function(e) {
if (u < Number.MAX_VALUE) {
var t = d[e];
if (!t) return;
t === h && (h = t.p), t === p && (p = t.n), o(t.n, t.p), delete d[e];
}
e in l && (delete l[e], a--);
},
removeAll: function() {
l = pe(), a = 0, d = pe(), h = p = null;
},
destroy: function() {
l = null, s = null, d = null, delete n[e];
},
info: function() {
return c({}, s, {
size: a
});
}
};
}
var n = {};
return e.info = function() {
var e = {};
return i(n, function(t, n) {
e[n] = t.info();
}), e;
}, e.get = function(e) {
return n[e];
}, e;
};
}
function st() {
this.$get = [ "$cacheFactory", function(e) {
return e("templates");
} ];
}
function lt(t, n) {
function r(e, t, n) {
var r = /^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/, o = pe();
return i(e, function(e, i) {
if (e in E) o[i] = E[e]; else {
var a = e.match(r);
if (!a) throw Mr("iscp", "Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}", t, i, e, n ? "controller bindings definition" : "isolate scope definition");
o[i] = {
mode: a[1][0],
collection: "*" === a[2],
optional: "?" === a[3],
attrName: a[4] || i
}, a[4] && (E[e] = o[i]);
}
}), o;
}
function a(e, t) {
var n = {
isolateScope: null,
bindToController: null
};
if (b(e.scope) && (!0 === e.bindToController ? (n.bindToController = r(e.scope, t, !0), n.isolateScope = {}) : n.isolateScope = r(e.scope, t, !1)), b(e.bindToController) && (n.bindToController = r(e.bindToController, t, !0)), n.bindToController && !e.controller) throw Mr("noctrl", "Cannot bind to controller without directive '{0}'s controller.", t);
return n;
}
function s(e) {
var t = e.charAt(0);
if (!t || t !== xi(t)) throw Mr("baddir", "Directive/Component name '{0}' is invalid. The first character must be a lowercase letter", e);
if (e !== e.trim()) throw Mr("baddir", "Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces", e);
}
function l(e) {
var t = e.require || e.controller && e.name;
return !Oi(t) && b(t) && i(t, function(e, n) {
var i = e.match($);
e.substring(i[0].length) || (t[n] = i[0] + n);
}), t;
}
function u(e, t) {
if (e && (!x(e) || !/[EACM]/.test(e))) throw Mr("badrestrict", "Restrict property '{0}' of directive '{1}' is invalid", e, t);
return e || "EA";
}
var d = {}, m = "Directive", w = /^\s*directive:\s*([\w-]+)\s+(.*)$/, C = /(([\w-]+)(?::([^;]+))?;?)/, _ = O("ngSrc,ngSrcset,src,srcset"), $ = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/, A = /^(on[a-z]+|formaction)$/, E = pe();
this.directive = function e(n, r) {
return le(n, "name"), ue(n, "directive"), x(n) ? (s(n), le(r, "directiveFactory"), d.hasOwnProperty(n) || (d[n] = [], t.factory(n + m, [ "$injector", "$exceptionHandler", function(e, t) {
var r = [];
return i(d[n], function(i, o) {
try {
var a = e.invoke(i);
S(a) ? a = {
compile: g(a)
} : !a.compile && a.link && (a.compile = g(a.link)), a.priority = a.priority || 0, a.index = o, a.name = a.name || n, a.require = l(a), a.restrict = u(a.restrict, n), a.$$moduleName = i.$$moduleName, r.push(a);
} catch (e) {
t(e);
}
}), r;
} ])), d[n].push(r)) : i(n, o(e)), this;
}, this.component = function(e, t) {
function n(e) {
function n(t) {
return S(t) || Oi(t) ? function(n, i) {
return e.invoke(t, this, {
$element: n,
$attrs: i
});
} : t;
}
var o = t.template || t.templateUrl ? t.template : "", a = {
controller: r,
controllerAs: pt(t.controller) || t.controllerAs || "$ctrl",
template: n(o),
templateUrl: n(t.templateUrl),
transclude: t.transclude,
scope: {},
bindToController: t.bindings || {},
restrict: "E",
require: t.require
};
return i(t, function(e, t) {
"$" === t.charAt(0) && (a[t] = e);
}), a;
}
var r = t.controller || function() {};
return i(t, function(e, t) {
"$" === t.charAt(0) && (n[t] = e, S(r) && (r[t] = e));
}), n.$inject = [ "$injector" ], this.directive(e, n);
}, this.aHrefSanitizationWhitelist = function(e) {
return y(e) ? (n.aHrefSanitizationWhitelist(e), this) : n.aHrefSanitizationWhitelist();
}, this.imgSrcSanitizationWhitelist = function(e) {
return y(e) ? (n.imgSrcSanitizationWhitelist(e), this) : n.imgSrcSanitizationWhitelist();
};
var T = !0;
this.debugInfoEnabled = function(e) {
return y(e) ? (T = e, this) : T;
};
var D = !0;
this.preAssignBindingsEnabled = function(e) {
return y(e) ? (D = e, this) : D;
};
var M = 10;
this.onChangesTtl = function(e) {
return arguments.length ? (M = e, this) : M;
};
var I = !0;
this.commentDirectivesEnabled = function(e) {
return arguments.length ? (I = e, this) : I;
};
var L = !0;
this.cssClassDirectivesEnabled = function(e) {
return arguments.length ? (L = e, this) : L;
}, this.$get = [ "$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$sce", "$animate", "$$sanitizeUri", function(t, n, r, o, s, l, u, g, E, P) {
function O() {
try {
if (!--De) throw _e = void 0, Mr("infchng", "{0} $onChanges() iterations reached. Aborting!\n", M);
u.$apply(function() {
for (var e = [], t = 0, n = _e.length; t < n; ++t) try {
_e[t]();
} catch (t) {
e.push(t);
}
if (_e = void 0, e.length) throw e;
});
} finally {
De++;
}
}
function N(e, t) {
if (t) {
var n, i, r, o = Object.keys(t);
for (n = 0, i = o.length; n < i; n++) this[r = o[n]] = t[r];
} else this.$attr = {};
this.$$element = e;
}
function U(e, t, n) {
ke.innerHTML = "<span " + t + ">";
var i = ke.firstChild.attributes, r = i[0];
i.removeNamedItem(r.name), r.value = n, e.attributes.setNamedItem(r);
}
function z(e, t) {
try {
e.addClass(t);
} catch (e) {}
}
function W(t, n, i, r, o) {
t instanceof Si || (t = Si(t));
for (var a = /\S+/, s = 0, l = t.length; s < l; s++) {
var c = t[s];
c.nodeType === Yi && c.nodeValue.match(a) && Se(c, t[s] = e.document.createElement("span"));
}
var u = q(t, n, t, i, r, o);
W.$$addScopeClass(t);
var d = null;
return function(e, n, i) {
le(e, "scope"), o && o.needsNewScope && (e = e.$parent.$new());
var r = (i = i || {}).parentBoundTranscludeFn, a = i.transcludeControllers, s = i.futureParentElement;
r && r.$$boundTransclude && (r = r.$$boundTransclude), d || (d = G(s));
var l;
if (l = "html" !== d ? Si(ge(d, Si("<div>").append(t).html())) : n ? pr.clone.call(t) : t, a) for (var c in a) l.data("$" + c + "Controller", a[c].instance);
return W.$$addScopeInfo(l, e), n && n(l, e), u && u(e, l, l, r), l;
};
}
function G(e) {
var t = e && e[0];
return t && "foreignobject" !== R(t) && Di.call(t).match(/SVG/) ? "svg" : "html";
}
function q(e, t, n, i, r, o) {
for (var a, s, l, c, u, d, h, p = [], f = 0; f < e.length; f++) a = new N(), (l = (s = K(e[f], [], a, 0 === f ? i : void 0, r)).length ? te(s, e[f], a, t, n, null, [], [], o) : null) && l.scope && W.$$addScopeClass(a.$$element), u = l && l.terminal || !(c = e[f].childNodes) || !c.length ? null : q(c, l ? (l.transcludeOnThisElement || !l.templateOnThisElement) && l.transclude : t), (l || u) && (p.push(f, l, u), d = !0, h = h || l), o = null;
return d ? function(e, n, i, r) {
var o, a, s, l, c, u, d, f;
if (h) {
var g = n.length;
for (f = new Array(g), c = 0; c < p.length; c += 3) f[d = p[c]] = n[d];
} else f = n;
for (c = 0, u = p.length; c < u; ) s = f[p[c++]], o = p[c++], a = p[c++], o ? (o.scope ? (l = e.$new(), W.$$addScopeInfo(Si(s), l)) : l = e, o(a, l, s, i, o.transcludeOnThisElement ? Y(e, o.transclude, r) : !o.templateOnThisElement && r ? r : !r && t ? Y(e, t) : null)) : a && a(e, s.childNodes, void 0, r);
} : null;
}
function Y(e, t, n) {
function i(i, r, o, a, s) {
return i || ((i = e.$new(!1, s)).$$transcluded = !0), t(i, r, {
parentBoundTranscludeFn: n,
transcludeControllers: o,
futureParentElement: a
});
}
var r = i.$$slots = pe();
for (var o in t.$$slots) t.$$slots[o] ? r[o] = Y(e, t.$$slots[o], n) : r[o] = null;
return i;
}
function K(e, t, n, i, r) {
var o, a, s, l = e.nodeType, c = n.$attr;
switch (l) {
case qi:
oe(t, ut(a = R(e)), "E", i, r);
for (var u, d, h, p, f, g, m = e.attributes, v = 0, y = m && m.length; v < y; v++) {
var w = !1, _ = !1;
d = (u = m[v]).name, f = Bi(u.value), p = ut(d), (g = Le.test(p)) && (d = d.replace(Lr, "").substr(8).replace(/_(.)/g, function(e, t) {
return t.toUpperCase();
}));
var S = p.match(Pe);
S && ae(S[1]) && (w = d, _ = d.substr(0, d.length - 5) + "end", d = d.substr(0, d.length - 6)), c[h = ut(d.toLowerCase())] = d, !g && n.hasOwnProperty(h) || (n[h] = f, Ue(e, h) && (n[h] = !0)), ve(e, t, f, h, g), oe(t, h, "A", i, r, w, _);
}
if ("input" === a && "hidden" === e.getAttribute("type") && e.setAttribute("autocomplete", "off"), !Te) break;
if (s = e.className, b(s) && (s = s.animVal), x(s) && "" !== s) for (;o = C.exec(s); ) oe(t, h = ut(o[2]), "C", i, r) && (n[h] = Bi(o[3])), s = s.substr(o.index + o[0].length);
break;

case Yi:
if (11 === _i) for (;e.parentNode && e.nextSibling && e.nextSibling.nodeType === Yi; ) e.nodeValue = e.nodeValue + e.nextSibling.nodeValue, e.parentNode.removeChild(e.nextSibling);
fe(t, e.nodeValue);
break;

case Ki:
if (!Ee) break;
Q(e, t, n, i, r);
}
return t.sort(de), t;
}
function Q(e, t, n, i, r) {
try {
var o = w.exec(e.nodeValue);
if (o) {
var a = ut(o[1]);
oe(t, a, "M", i, r) && (n[a] = Bi(o[2]));
}
} catch (e) {}
}
function J(e, t, n) {
var i = [], r = 0;
if (t && e.hasAttribute && e.hasAttribute(t)) do {
if (!e) throw Mr("uterdir", "Unterminated attribute, found '{0}' but no matching '{1}' found.", t, n);
e.nodeType === qi && (e.hasAttribute(t) && r++, e.hasAttribute(n) && r--), i.push(e), e = e.nextSibling;
} while (r > 0); else i.push(e);
return Si(i);
}
function Z(e, t, n) {
return function(i, r, o, a, s) {
return r = J(r[0], t, n), e(i, r, o, a, s);
};
}
function ee(e, t, n, i, r, o) {
var a;
return e ? W(t, n, i, r, o) : function() {
return a || (a = W(t, n, i, r, o), t = n = o = null), a.apply(this, arguments);
};
}
function te(e, t, n, o, a, s, l, u, d) {
function h(e, t, n, i) {
e && (n && (e = Z(e, n, i)), e.require = f.require, e.directiveName = g, ($ === f || f.$$isolateScope) && (e = be(e, {
isolateScope: !0
})), l.push(e)), t && (n && (t = Z(t, n, i)), t.require = f.require, t.directiveName = g, ($ === f || f.$$isolateScope) && (t = be(t, {
isolateScope: !0
})), u.push(t));
}
function p(e, o, a, s, d) {
var h, p, f, g, m, y, w, x, E, T;
t === a ? (E = n, x = n.$$element) : E = new N(x = Si(a), n), m = o, $ ? g = o.$new(!0) : C && (m = o.$parent), d && ((w = function(e, t, n, i) {
var r;
if (k(e) || (i = n, n = t, t = e, e = void 0), M && (r = y), n || (n = M ? x.parent() : x), !i) return d(e, t, r, n, R);
var o = d.$$slots[i];
if (o) return o(e, t, r, n, R);
if (v(o)) throw Mr("noslot", 'No parent directive that requires a transclusion with slot name "{0}". Element: {1}', i, X(x));
}).$$boundTransclude = d, w.isSlotFilled = function(e) {
return !!d.$$slots[e];
}), _ && (y = ie(x, E, w, _, g, o, $)), $ && (W.$$addScopeInfo(x, g, !0, !(A && (A === $ || A === $.$$originalDirective))), W.$$addScopeClass(x, !0), g.$$isolateBindings = $.$$isolateBindings, (T = Ce(o, E, g, g.$$isolateBindings, $)).removeWatches && g.$on("$destroy", T.removeWatches));
for (var F in y) {
var I = _[F], L = y[F], P = I.$$bindings.bindToController;
if (D) {
L.bindingInfo = P ? Ce(m, E, L.instance, P, I) : {};
var O = L();
O !== L.instance && (L.instance = O, x.data("$" + I.name + "Controller", O), L.bindingInfo.removeWatches && L.bindingInfo.removeWatches(), L.bindingInfo = Ce(m, E, L.instance, P, I));
} else L.instance = L(), x.data("$" + I.name + "Controller", L.instance), L.bindingInfo = Ce(m, E, L.instance, P, I);
}
for (i(_, function(e, t) {
var n = e.require;
e.bindToController && !Oi(n) && b(n) && c(y[t].instance, ne(t, n, x, y));
}), i(y, function(e) {
var t = e.instance;
if (S(t.$onChanges)) try {
t.$onChanges(e.bindingInfo.initialChanges);
} catch (e) {
r(e);
}
if (S(t.$onInit)) try {
t.$onInit();
} catch (e) {
r(e);
}
S(t.$doCheck) && (m.$watch(function() {
t.$doCheck();
}), t.$doCheck()), S(t.$onDestroy) && m.$on("$destroy", function() {
t.$onDestroy();
});
}), h = 0, p = l.length; h < p; h++) xe(f = l[h], f.isolateScope ? g : o, x, E, f.require && ne(f.directiveName, f.require, x, y), w);
var R = o;
for ($ && ($.template || null === $.templateUrl) && (R = g), e && e(R, a.childNodes, void 0, d), h = u.length - 1; h >= 0; h--) xe(f = u[h], f.isolateScope ? g : o, x, E, f.require && ne(f.directiveName, f.require, x, y), w);
i(y, function(e) {
var t = e.instance;
S(t.$postLink) && t.$postLink();
});
}
d = d || {};
for (var f, g, m, y, w, x = -Number.MAX_VALUE, C = d.newScopeDirective, _ = d.controllerDirectives, $ = d.newIsolateScopeDirective, A = d.templateDirective, E = d.nonTlbTranscludeDirective, T = !1, F = !1, M = d.hasElementTranscludeDirective, I = n.$$element = Si(t), L = s, P = o, O = !1, B = !1, j = 0, U = e.length; j < U; j++) {
var z = (f = e[j]).$$start, G = f.$$end;
if (z && (I = J(t, z, G)), m = void 0, x > f.priority) break;
if ((w = f.scope) && (f.templateUrl || (b(w) ? (he("new/isolated scope", $ || C, f, I), $ = f) : he("new/isolated scope", $, f, I)), C = C || f), g = f.name, !O && (f.replace && (f.templateUrl || f.template) || f.transclude && !f.$$tlb)) {
for (var q, Y = j + 1; q = e[Y++]; ) if (q.transclude && !q.$$tlb || q.replace && (q.templateUrl || q.template)) {
B = !0;
break;
}
O = !0;
}
if (!f.templateUrl && f.controller && (_ = _ || pe(), he("'" + g + "' controller", _[g], f, I), _[g] = f), w = f.transclude) if (T = !0, f.$$tlb || (he("transclusion", E, f, I), E = f), "element" === w) M = !0, x = f.priority, m = I, I = n.$$element = Si(W.$$createComment(g, n[g])), t = I[0], ye(a, V(m), t), m[0].$$parentNode = m[0].parentNode, P = ee(B, m, o, x, L && L.name, {
nonTlbTranscludeDirective: E
}); else {
var Q = pe();
if (m = Si(Ae(t)).contents(), b(w)) {
m = [];
var te = pe(), oe = pe();
i(w, function(e, t) {
var n = "?" === e.charAt(0);
e = n ? e.substring(1) : e, te[e] = t, Q[t] = null, oe[t] = n;
}), i(I.contents(), function(e) {
var t = te[ut(R(e))];
t ? (oe[t] = !0, Q[t] = Q[t] || [], Q[t].push(e)) : m.push(e);
}), i(oe, function(e, t) {
if (!e) throw Mr("reqslot", "Required transclusion slot `{0}` was not filled.", t);
});
for (var ae in Q) Q[ae] && (Q[ae] = ee(B, Q[ae], o));
}
I.empty(), (P = ee(B, m, o, void 0, void 0, {
needsNewScope: f.$$isolateScope || f.$$newScope
})).$$slots = Q;
}
if (f.template) if (F = !0, he("template", A, f, I), A = f, w = S(f.template) ? f.template(I, n) : f.template, w = Ie(w), f.replace) {
if (L = f, m = we(w) ? [] : ht(ge(f.templateNamespace, Bi(w))), t = m[0], 1 !== m.length || t.nodeType !== qi) throw Mr("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", g, "");
ye(a, I, t);
var se = {
$attr: {}
}, le = K(t, [], se), de = e.splice(j + 1, e.length - (j + 1));
($ || C) && re(le, $, C), e = e.concat(le).concat(de), ce(n, se), U = e.length;
} else I.html(w);
if (f.templateUrl) F = !0, he("template", A, f, I), A = f, f.replace && (L = f), p = ue(e.splice(j, e.length - j), I, n, a, T && P, l, u, {
controllerDirectives: _,
newScopeDirective: C !== f && C,
newIsolateScopeDirective: $,
templateDirective: A,
nonTlbTranscludeDirective: E
}), U = e.length; else if (f.compile) try {
y = f.compile(I, n, P);
var fe = f.$$originalDirective || f;
S(y) ? h(null, H(fe, y), z, G) : y && h(H(fe, y.pre), H(fe, y.post), z, G);
} catch (e) {
r(e, X(I));
}
f.terminal && (p.terminal = !0, x = Math.max(x, f.priority));
}
return p.scope = C && !0 === C.scope, p.transcludeOnThisElement = T, p.templateOnThisElement = F, p.transclude = P, d.hasElementTranscludeDirective = M, p;
}
function ne(e, t, n, r) {
var o;
if (x(t)) {
var a = t.match($), s = t.substring(a[0].length), l = a[1] || a[3], c = "?" === a[2];
if ("^^" === l ? n = n.parent() : (o = r && r[s], o = o && o.instance), !o) {
var u = "$" + s + "Controller";
o = l ? n.inheritedData(u) : n.data(u);
}
if (!o && !c) throw Mr("ctreq", "Controller '{0}', required by directive '{1}', can't be found!", s, e);
} else if (Oi(t)) {
o = [];
for (var d = 0, h = t.length; d < h; d++) o[d] = ne(e, t[d], n, r);
} else b(t) && (o = {}, i(t, function(t, i) {
o[i] = ne(e, t, n, r);
}));
return o || null;
}
function ie(e, t, n, i, r, o, a) {
var s = pe();
for (var c in i) {
var u = i[c], d = {
$scope: u === a || u.$$isolateScope ? r : o,
$element: e,
$attrs: t,
$transclude: n
}, h = u.controller;
"@" === h && (h = t[u.name]);
var p = l(h, d, !0, u.controllerAs);
s[u.name] = p, e.data("$" + u.name + "Controller", p.instance);
}
return s;
}
function re(e, t, n) {
for (var i = 0, r = e.length; i < r; i++) e[i] = h(e[i], {
$$isolateScope: t,
$$newScope: n
});
}
function oe(e, n, i, r, o, s, l) {
if (n === o) return null;
var c = null;
if (d.hasOwnProperty(n)) for (var u, p = t.get(n + m), f = 0, g = p.length; f < g; f++) if (u = p[f], (v(r) || r > u.priority) && -1 !== u.restrict.indexOf(i)) {
if (s && (u = h(u, {
$$start: s,
$$end: l
})), !u.$$bindings) {
var y = u.$$bindings = a(u, u.name);
b(y.isolateScope) && (u.$$isolateBindings = y.isolateScope);
}
e.push(u), c = u;
}
return c;
}
function ae(e) {
if (d.hasOwnProperty(e)) for (var n = t.get(e + m), i = 0, r = n.length; i < r; i++) if (n[i].multiElement) return !0;
return !1;
}
function ce(e, t) {
var n = t.$attr, r = e.$attr;
i(e, function(i, r) {
"$" !== r.charAt(0) && (t[r] && t[r] !== i && (i += ("style" === r ? ";" : " ") + t[r]), e.$set(r, i, !0, n[r]));
}), i(t, function(t, i) {
e.hasOwnProperty(i) || "$" === i.charAt(0) || (e[i] = t, "class" !== i && "style" !== i && (r[i] = n[i]));
});
}
function ue(e, t, n, r, a, s, l, c) {
var u, d, p = [], f = t[0], g = e.shift(), m = h(g, {
templateUrl: null,
transclude: null,
replace: null,
$$originalDirective: g
}), v = S(g.templateUrl) ? g.templateUrl(t, n) : g.templateUrl, y = g.templateNamespace;
return t.empty(), o(v).then(function(o) {
var h, w, x, C;
if (o = Ie(o), g.replace) {
if (x = we(o) ? [] : ht(ge(y, Bi(o))), h = x[0], 1 !== x.length || h.nodeType !== qi) throw Mr("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", g.name, v);
w = {
$attr: {}
}, ye(r, t, h);
var _ = K(h, [], w);
b(g.scope) && re(_, !0), e = _.concat(e), ce(n, w);
} else h = f, t.html(o);
for (e.unshift(m), u = te(e, h, n, a, t, g, s, l, c), i(r, function(e, n) {
e === h && (r[n] = t[0]);
}), d = q(t[0].childNodes, a); p.length; ) {
var S = p.shift(), $ = p.shift(), A = p.shift(), k = p.shift(), E = t[0];
if (!S.$$destroyed) {
if ($ !== f) {
var T = $.className;
c.hasElementTranscludeDirective && g.replace || (E = Ae(h)), ye(A, Si($), E), z(Si(E), T);
}
C = u.transcludeOnThisElement ? Y(S, u.transclude, k) : k, u(d, S, E, r, C);
}
}
p = null;
}), function(e, t, n, i, r) {
var o = r;
t.$$destroyed || (p ? p.push(t, n, i, o) : (u.transcludeOnThisElement && (o = Y(t, u.transclude, r)), u(d, t, n, i, o)));
};
}
function de(e, t) {
var n = t.priority - e.priority;
return 0 !== n ? n : e.name !== t.name ? e.name < t.name ? -1 : 1 : e.index - t.index;
}
function he(e, t, n, i) {
function r(e) {
return e ? " (module: " + e + ")" : "";
}
if (t) throw Mr("multidir", "Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}", t.name, r(t.$$moduleName), n.name, r(n.$$moduleName), e, X(i));
}
function fe(e, t) {
var i = n(t, !0);
i && e.push({
priority: 0,
compile: function(e) {
var t = e.parent(), n = !!t.length;
return n && W.$$addBindingClass(t), function(e, t) {
var r = t.parent();
n || W.$$addBindingClass(r), W.$$addBindingInfo(r, i.expressions), e.$watch(i, function(e) {
t[0].nodeValue = e;
});
};
}
});
}
function ge(t, n) {
switch (t = xi(t || "html")) {
case "svg":
case "math":
var i = e.document.createElement("div");
return i.innerHTML = "<" + t + ">" + n + "</" + t + ">", i.childNodes[0].childNodes;

default:
return n;
}
}
function me(e, t) {
if ("srcdoc" === t) return g.HTML;
var n = R(e);
if ("src" === t || "ngSrc" === t) {
if (-1 === [ "img", "video", "audio", "source", "track" ].indexOf(n)) return g.RESOURCE_URL;
} else if ("xlinkHref" === t || "form" === n && "action" === t) return g.RESOURCE_URL;
}
function ve(e, t, i, r, o) {
var a = me(e, r), s = !o, l = _[r] || o, c = n(i, s, a, l);
if (c) {
if ("multiple" === r && "select" === R(e)) throw Mr("selmulti", "Binding to the 'multiple' attribute is not supported. Element: {0}", X(e));
t.push({
priority: 100,
compile: function() {
return {
pre: function(e, t, o) {
var s = o.$$observers || (o.$$observers = pe());
if (A.test(r)) throw Mr("nodomevents", "Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");
var u = o[r];
u !== i && (c = u && n(u, !0, a, l), i = u), c && (o[r] = c(e), (s[r] || (s[r] = [])).$$inter = !0, (o.$$observers && o.$$observers[r].$$scope || e).$watch(c, function(e, t) {
"class" === r && e !== t ? o.$updateClass(e, t) : o.$set(r, e);
}));
}
};
}
});
}
}
function ye(t, n, i) {
var r, o, a = n[0], s = n.length, l = a.parentNode;
if (t) for (r = 0, o = t.length; r < o; r++) if (t[r] === a) {
t[r++] = i;
for (var c = r, u = c + s - 1, d = t.length; c < d; c++, u++) u < d ? t[c] = t[u] : delete t[c];
t.length -= s - 1, t.context === a && (t.context = i);
break;
}
l && l.replaceChild(i, a);
var h = e.document.createDocumentFragment();
for (r = 0; r < s; r++) h.appendChild(n[r]);
for (Si.hasData(a) && (Si.data(i, Si.data(a)), Si(a).off("$destroy")), Si.cleanData(h.querySelectorAll("*")), r = 1; r < s; r++) delete n[r];
n[0] = i, n.length = 1;
}
function be(e, t) {
return c(function() {
return e.apply(null, arguments);
}, e, t);
}
function xe(e, t, n, i, o, a) {
try {
e(t, n, i, o, a);
} catch (e) {
r(e, X(n));
}
}
function Ce(e, t, r, o, a) {
function l(t, n, i) {
!S(r.$onChanges) || n === i || n !== n && i !== i || (_e || (e.$$postDigest(O), _e = []), u || (u = {}, _e.push(c)), u[t] && (i = u[t].previousValue), u[t] = new ct(i, n));
}
function c() {
r.$onChanges(u), u = void 0;
}
var u, d = [], h = {};
return i(o, function(i, o) {
var c, u, f, g, m, v = i.attrName, y = i.optional;
switch (i.mode) {
case "@":
y || wi.call(t, v) || (r[o] = t[v] = void 0), m = t.$observe(v, function(e) {
if (x(e) || F(e)) {
var t = r[o];
l(o, e, t), r[o] = e;
}
}), t.$$observers[v].$$scope = e, x(c = t[v]) ? r[o] = n(c)(e) : F(c) && (r[o] = c), h[o] = new ct(Ir, r[o]), d.push(m);
break;

case "=":
if (!wi.call(t, v)) {
if (y) break;
t[v] = void 0;
}
if (y && !t[v]) break;
u = s(t[v]), g = u.literal ? j : function(e, t) {
return e === t || e !== e && t !== t;
}, f = u.assign || function() {
throw c = r[o] = u(e), Mr("nonassign", "Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!", t[v], v, a.name);
}, c = r[o] = u(e);
var b = function(t) {
return g(t, r[o]) || (g(t, c) ? f(e, t = r[o]) : r[o] = t), c = t;
};
b.$stateful = !0, m = i.collection ? e.$watchCollection(t[v], b) : e.$watch(s(t[v], b), null, u.literal), d.push(m);
break;

case "<":
if (!wi.call(t, v)) {
if (y) break;
t[v] = void 0;
}
if (y && !t[v]) break;
var w = (u = s(t[v])).literal, C = r[o] = u(e);
h[o] = new ct(Ir, r[o]), m = e.$watch(u, function(e, t) {
if (t === e) {
if (t === C || w && j(t, C)) return;
t = C;
}
l(o, e, t), r[o] = e;
}, w), d.push(m);
break;

case "&":
if ((u = t.hasOwnProperty(v) ? s(t[v]) : p) === p && y) break;
r[o] = function(t) {
return u(e, t);
};
}
}), {
initialChanges: h,
removeWatches: d.length && function() {
for (var e = 0, t = d.length; e < t; ++e) d[e]();
}
};
}
var _e, $e = /^\w/, ke = e.document.createElement("div"), Ee = I, Te = L, De = M;
N.prototype = {
$normalize: ut,
$addClass: function(e) {
e && e.length > 0 && E.addClass(this.$$element, e);
},
$removeClass: function(e) {
e && e.length > 0 && E.removeClass(this.$$element, e);
},
$updateClass: function(e, t) {
var n = dt(e, t);
n && n.length && E.addClass(this.$$element, n);
var i = dt(t, e);
i && i.length && E.removeClass(this.$$element, i);
},
$set: function(e, t, n, o) {
var a, s = Ue(this.$$element[0], e), l = Ve(e), c = e;
if (s ? (this.$$element.prop(e, t), o = s) : l && (this[l] = t, c = l), this[e] = t, o ? this.$attr[e] = o : (o = this.$attr[e]) || (this.$attr[e] = o = se(e, "-")), "a" === (a = R(this.$$element)) && ("href" === e || "xlinkHref" === e) || "img" === a && "src" === e) this[e] = t = P(t, "src" === e); else if ("img" === a && "srcset" === e && y(t)) {
for (var u = "", d = Bi(t), h = /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/, p = /\s/.test(d) ? h : /(,)/, f = d.split(p), g = Math.floor(f.length / 2), m = 0; m < g; m++) {
var b = 2 * m;
u += P(Bi(f[b]), !0), u += " " + Bi(f[b + 1]);
}
var w = Bi(f[2 * m]).split(/\s/);
u += P(Bi(w[0]), !0), 2 === w.length && (u += " " + Bi(w[1])), this[e] = t = u;
}
!1 !== n && (null === t || v(t) ? this.$$element.removeAttr(o) : $e.test(o) ? this.$$element.attr(o, t) : U(this.$$element[0], o, t));
var x = this.$$observers;
x && i(x[c], function(e) {
try {
e(t);
} catch (e) {
r(e);
}
});
},
$observe: function(e, t) {
var n = this, i = n.$$observers || (n.$$observers = pe()), r = i[e] || (i[e] = []);
return r.push(t), u.$evalAsync(function() {
r.$$inter || !n.hasOwnProperty(e) || v(n[e]) || t(n[e]);
}), function() {
B(r, t);
};
}
};
var Fe = n.startSymbol(), Me = n.endSymbol(), Ie = "{{" === Fe && "}}" === Me ? f : function(e) {
return e.replace(/\{\{/g, Fe).replace(/}}/g, Me);
}, Le = /^ngAttr[A-Z]/, Pe = /^(.+)Start$/;
return W.$$addBindingInfo = T ? function(e, t) {
var n = e.data("$binding") || [];
Oi(t) ? n = n.concat(t) : n.push(t), e.data("$binding", n);
} : p, W.$$addBindingClass = T ? function(e) {
z(e, "ng-binding");
} : p, W.$$addScopeInfo = T ? function(e, t, n, i) {
var r = n ? i ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope";
e.data(r, t);
} : p, W.$$addScopeClass = T ? function(e, t) {
z(e, t ? "ng-isolate-scope" : "ng-scope");
} : p, W.$$createComment = function(t, n) {
var i = "";
return T && (i = " " + (t || "") + ": ", n && (i += n + " ")), e.document.createComment(i);
}, W;
} ];
}
function ct(e, t) {
this.previousValue = e, this.currentValue = t;
}
function ut(e) {
return be(e.replace(Lr, ""));
}
function dt(e, t) {
var n = "", i = e.split(/\s+/), r = t.split(/\s+/);
e: for (var o = 0; o < i.length; o++) {
for (var a = i[o], s = 0; s < r.length; s++) if (a === r[s]) continue e;
n += (n.length > 0 ? " " : "") + a;
}
return n;
}
function ht(e) {
var t = (e = Si(e)).length;
if (t <= 1) return e;
for (;t--; ) {
var n = e[t];
(n.nodeType === Ki || n.nodeType === Yi && "" === n.nodeValue.trim()) && Ei.call(e, t, 1);
}
return e;
}
function pt(e, t) {
if (t && x(t)) return t;
if (x(e)) {
var n = Or.exec(e);
if (n) return n[3];
}
}
function ft() {
var e = {}, n = !1;
this.has = function(t) {
return e.hasOwnProperty(t);
}, this.register = function(t, n) {
ue(t, "controller"), b(t) ? c(e, t) : e[t] = n;
}, this.allowGlobals = function() {
n = !0;
}, this.$get = [ "$injector", "$window", function(i, r) {
function o(e, n, i, r) {
if (!e || !b(e.$scope)) throw t("$controller")("noscp", "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.", r, n);
e.$scope[n] = i;
}
return function(t, a, s, l) {
var u, d, h, p;
if (s = !0 === s, l && x(l) && (p = l), x(t)) {
if (!(d = t.match(Or))) throw Pr("ctrlfmt", "Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.", t);
if (h = d[1], p = p || d[3], !(t = e.hasOwnProperty(h) ? e[h] : de(a.$scope, h, !0) || (n ? de(r, h, !0) : void 0))) throw Pr("ctrlreg", "The controller with the name '{0}' is not registered.", h);
ce(t, h, !0);
}
if (s) {
var f = (Oi(t) ? t[t.length - 1] : t).prototype;
return u = Object.create(f || null), p && o(a, p, u, h || t.name), c(function() {
var e = i.invoke(t, u, a, h);
return e !== u && (b(e) || S(e)) && (u = e, p && o(a, p, u, h || t.name)), u;
}, {
instance: u,
identifier: p
});
}
return u = i.instantiate(t, a, h), p && o(a, p, u, h || t.name), u;
};
} ];
}
function gt() {
this.$get = [ "$window", function(e) {
return Si(e.document);
} ];
}
function mt() {
this.$get = [ "$log", function(e) {
return function(t, n) {
e.error.apply(e, arguments);
};
} ];
}
function vt(e) {
return b(e) ? _(e) ? e.toISOString() : W(e) : e;
}
function yt() {
this.$get = function() {
return function(e) {
if (!e) return "";
var t = [];
return r(e, function(e, n) {
null === e || v(e) || (Oi(e) ? i(e, function(e) {
t.push(te(n) + "=" + te(vt(e)));
}) : t.push(te(n) + "=" + te(vt(e))));
}), t.join("&");
};
};
}
function bt() {
this.$get = function() {
return function(e) {
function t(e, o, a) {
null === e || v(e) || (Oi(e) ? i(e, function(e, n) {
t(e, o + "[" + (b(e) ? n : "") + "]");
}) : b(e) && !_(e) ? r(e, function(e, n) {
t(e, o + (a ? "" : "[") + n + (a ? "" : "]"));
}) : n.push(te(o) + "=" + te(vt(e))));
}
if (!e) return "";
var n = [];
return t(e, "", !0), n.join("&");
};
};
}
function wt(e, t) {
if (x(e)) {
var n = e.replace(Vr, "").trim();
if (n) {
var i = t("Content-Type");
(i && 0 === i.indexOf(Br) || xt(n)) && (e = G(n));
}
}
return e;
}
function xt(e) {
var t = e.match(jr);
return t && Ur[t[0]].test(e);
}
function Ct(e) {
function t(e, t) {
e && (r[e] = r[e] ? r[e] + ", " + t : t);
}
var n, r = pe();
return x(e) ? i(e.split("\n"), function(e) {
n = e.indexOf(":"), t(xi(Bi(e.substr(0, n))), Bi(e.substr(n + 1)));
}) : b(e) && i(e, function(e, n) {
t(xi(n), Bi(e));
}), r;
}
function _t(e) {
var t;
return function(n) {
if (t || (t = Ct(e)), n) {
var i = t[xi(n)];
return void 0 === i && (i = null), i;
}
return t;
};
}
function St(e, t, n, r) {
return S(r) ? r(e, t, n) : (i(r, function(i) {
e = i(e, t, n);
}), e);
}
function $t(e) {
return 200 <= e && e < 300;
}
function At() {
var e = this.defaults = {
transformResponse: [ wt ],
transformRequest: [ function(e) {
return !b(e) || E(e) || D(e) || T(e) ? e : W(e);
} ],
headers: {
common: {
Accept: "application/json, text/plain, */*"
},
post: ge(Nr),
put: ge(Nr),
patch: ge(Nr)
},
xsrfCookieName: "XSRF-TOKEN",
xsrfHeaderName: "X-XSRF-TOKEN",
paramSerializer: "$httpParamSerializer"
}, n = !1;
this.useApplyAsync = function(e) {
return y(e) ? (n = !!e, this) : n;
};
var r = !0;
this.useLegacyPromiseExtensions = function(e) {
return y(e) ? (r = !!e, this) : r;
};
var o = this.interceptors = [];
this.$get = [ "$httpBackend", "$$cookieReader", "$cacheFactory", "$rootScope", "$q", "$injector", function(a, s, l, u, d, h) {
function p(n) {
function o(e, t) {
for (var n = 0, i = t.length; n < i; ) {
var r = t[n++], o = t[n++];
e = e.then(r, o);
}
return t.length = 0, e;
}
function a(e, t) {
var n, r = {};
return i(e, function(e, i) {
S(e) ? null != (n = e(t)) && (r[i] = n) : r[i] = e;
}), r;
}
function s(e) {
var t = c({}, e);
return t.data = St(e.data, e.headers, e.status, l.transformResponse), $t(e.status) ? t : d.reject(t);
}
if (!b(n)) throw t("$http")("badreq", "Http request configuration must be an object.  Received: {0}", n);
if (!x(n.url)) throw t("$http")("badreq", "Http request configuration url must be a string.  Received: {0}", n.url);
var l = c({
method: "get",
transformRequest: e.transformRequest,
transformResponse: e.transformResponse,
paramSerializer: e.paramSerializer
}, n);
l.headers = function(t) {
var n, i, r, o = e.headers, s = c({}, t.headers);
o = c({}, o.common, o[xi(t.method)]);
e: for (n in o) {
i = xi(n);
for (r in s) if (xi(r) === i) continue e;
s[n] = o[n];
}
return a(s, ge(t));
}(n), l.method = Ci(l.method), l.paramSerializer = x(l.paramSerializer) ? h.get(l.paramSerializer) : l.paramSerializer;
var u = [], p = [], g = d.when(l);
return i(w, function(e) {
(e.request || e.requestError) && u.unshift(e.request, e.requestError), (e.response || e.responseError) && p.push(e.response, e.responseError);
}), g = o(g, u), g = g.then(function(t) {
var n = t.headers, r = St(t.data, _t(n), void 0, t.transformRequest);
return v(r) && i(n, function(e, t) {
"content-type" === xi(t) && delete n[t];
}), v(t.withCredentials) && !v(e.withCredentials) && (t.withCredentials = e.withCredentials), f(t, r).then(s, s);
}), g = o(g, p), r ? (g.success = function(e) {
return ce(e, "fn"), g.then(function(t) {
e(t.data, t.status, t.headers, l);
}), g;
}, g.error = function(e) {
return ce(e, "fn"), g.then(null, function(t) {
e(t.data, t.status, t.headers, l);
}), g;
}) : (g.success = zr("success"), g.error = zr("error")), g;
}
function f(t, r) {
function o(e) {
if (e) {
var t = {};
return i(e, function(e, i) {
t[i] = function(t) {
function i() {
e(t);
}
n ? u.$applyAsync(i) : u.$$phase ? i() : u.$apply(i);
};
}), t;
}
}
function l(e, n, i, r) {
($t(n = n >= -1 ? n : 0) ? x.resolve : x.reject)({
data: e,
status: n,
headers: _t(i),
config: t,
statusText: r
});
}
function c(e) {
l(e.data, e.status, ge(e.headers()), e.statusText);
}
function h() {
var e = p.pendingRequests.indexOf(t);
-1 !== e && p.pendingRequests.splice(e, 1);
}
var f, w, x = d.defer(), C = x.promise, _ = t.headers, S = g(t.url, t.paramSerializer(t.params));
if (p.pendingRequests.push(t), C.then(h, h), !t.cache && !e.cache || !1 === t.cache || "GET" !== t.method && "JSONP" !== t.method || (f = b(t.cache) ? t.cache : b(e.cache) ? e.cache : m), f && (y(w = f.get(S)) ? M(w) ? w.then(c, c) : Oi(w) ? l(w[1], w[0], ge(w[2]), w[3]) : l(w, 200, {}, "OK") : f.put(S, C)), v(w)) {
var $ = Tn(t.url) ? s()[t.xsrfCookieName || e.xsrfCookieName] : void 0;
$ && (_[t.xsrfHeaderName || e.xsrfHeaderName] = $), a(t.method, S, r, function(e, t, i, r) {
function o() {
l(t, e, i, r);
}
f && ($t(e) ? f.put(S, [ e, t, Ct(i), r ]) : f.remove(S)), n ? u.$applyAsync(o) : (o(), u.$$phase || u.$apply());
}, _, t.timeout, t.withCredentials, t.responseType, o(t.eventHandlers), o(t.uploadEventHandlers));
}
return C;
}
function g(e, t) {
return t.length > 0 && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e;
}
var m = l("$http");
e.paramSerializer = x(e.paramSerializer) ? h.get(e.paramSerializer) : e.paramSerializer;
var w = [];
return i(o, function(e) {
w.unshift(x(e) ? h.get(e) : h.invoke(e));
}), p.pendingRequests = [], function(e) {
i(arguments, function(e) {
p[e] = function(t, n) {
return p(c({}, n || {}, {
method: e,
url: t
}));
};
});
}("get", "delete", "head", "jsonp"), function(e) {
i(arguments, function(e) {
p[e] = function(t, n, i) {
return p(c({}, i || {}, {
method: e,
url: t,
data: n
}));
};
});
}("post", "put", "patch"), p.defaults = e, p;
} ];
}
function kt() {
this.$get = function() {
return function() {
return new e.XMLHttpRequest();
};
};
}
function Et() {
this.$get = [ "$browser", "$jsonpCallbacks", "$document", "$xhrFactory", function(e, t, n, i) {
return Tt(e, i, e.defer, t, n[0]);
} ];
}
function Tt(e, t, n, r, o) {
function a(e, t, n) {
e = e.replace("JSON_CALLBACK", t);
var i = o.createElement("script"), a = null;
return i.type = "text/javascript", i.src = e, i.async = !0, a = function(e) {
nr(i, "load", a), nr(i, "error", a), o.body.removeChild(i), i = null;
var s = -1, l = "unknown";
e && ("load" !== e.type || r.wasCalled(t) || (e = {
type: "error"
}), l = e.type, s = "error" === e.type ? 404 : 200), n && n(s, l);
}, tr(i, "load", a), tr(i, "error", a), o.body.appendChild(i), a;
}
return function(o, s, l, c, u, d, h, f, g, m) {
function b() {
C && C(), _ && _.abort();
}
function w(t, i, r, o, a) {
y($) && n.cancel($), C = _ = null, t(i, r, o, a), e.$$completeOutstandingRequest(p);
}
if (e.$$incOutstandingRequestCount(), s = s || e.url(), "jsonp" === xi(o)) var x = r.createCallback(s), C = a(s, x, function(e, t) {
var n = 200 === e && r.getResponse(x);
w(c, e, n, "", t), r.removeCallback(x);
}); else {
var _ = t(o, s);
_.open(o, s, !0), i(u, function(e, t) {
y(e) && _.setRequestHeader(t, e);
}), _.onload = function() {
var e = _.statusText || "", t = "response" in _ ? _.response : _.responseText, n = 1223 === _.status ? 204 : _.status;
0 === n && (n = t ? 200 : "file" === En(s).protocol ? 404 : 0), w(c, n, t, _.getAllResponseHeaders(), e);
};
var S = function() {
w(c, -1, null, null, "");
};
if (_.onerror = S, _.onabort = S, _.ontimeout = S, i(g, function(e, t) {
_.addEventListener(t, e);
}), i(m, function(e, t) {
_.upload.addEventListener(t, e);
}), h && (_.withCredentials = !0), f) try {
_.responseType = f;
} catch (e) {
if ("json" !== f) throw e;
}
_.send(v(l) ? null : l);
}
if (d > 0) var $ = n(b, d); else M(d) && d.then(b);
};
}
function Dt() {
var e = "{{", t = "}}";
this.startSymbol = function(t) {
return t ? (e = t, this) : e;
}, this.endSymbol = function(e) {
return e ? (t = e, this) : t;
}, this.$get = [ "$parse", "$exceptionHandler", "$sce", function(n, i, r) {
function o(e) {
return "\\\\\\" + e;
}
function a(n) {
return n.replace(p, e).replace(f, t);
}
function s(e) {
if (null == e) return "";
switch (typeof e) {
case "string":
break;

case "number":
e = "" + e;
break;

default:
e = W(e);
}
return e;
}
function l(e, t, n, i) {
var r = e.$watch(function(e) {
return r(), i(e);
}, t, n);
return r;
}
function u(o, u, p, f) {
if (!o.length || -1 === o.indexOf(e)) {
var m;
return u || ((m = g(a(o))).exp = o, m.expressions = [], m.$$watchDelegate = l), m;
}
f = !!f;
for (var b, w, x, C = 0, _ = [], $ = [], A = o.length, k = [], E = []; C < A; ) {
if (-1 === (b = o.indexOf(e, C)) || -1 === (w = o.indexOf(t, b + d))) {
C !== A && k.push(a(o.substring(C)));
break;
}
C !== b && k.push(a(o.substring(C, b))), x = o.substring(b + d, w), _.push(x), $.push(n(x, function(e) {
try {
return e = D(e), f && !y(e) ? e : s(e);
} catch (e) {
i(Wr.interr(o, e));
}
})), C = w + h, E.push(k.length), k.push("");
}
if (p && k.length > 1 && Wr.throwNoconcat(o), !u || _.length) {
var T = function(e) {
for (var t = 0, n = _.length; t < n; t++) {
if (f && v(e[t])) return;
k[E[t]] = e[t];
}
return k.join("");
}, D = function(e) {
return p ? r.getTrusted(p, e) : r.valueOf(e);
};
return c(function(e) {
var t = 0, n = _.length, r = new Array(n);
try {
for (;t < n; t++) r[t] = $[t](e);
return T(r);
} catch (e) {
i(Wr.interr(o, e));
}
}, {
exp: o,
expressions: _,
$$watchDelegate: function(e, t) {
var n;
return e.$watchGroup($, function(i, r) {
var o = T(i);
S(t) && t.call(this, o, i !== r ? n : o, e), n = o;
});
}
});
}
}
var d = e.length, h = t.length, p = new RegExp(e.replace(/./g, o), "g"), f = new RegExp(t.replace(/./g, o), "g");
return u.startSymbol = function() {
return e;
}, u.endSymbol = function() {
return t;
}, u;
} ];
}
function Ft() {
this.$get = [ "$rootScope", "$window", "$q", "$$q", "$browser", function(e, t, n, i, r) {
function o(o, s, l, c) {
function u() {
d ? o.apply(null, h) : o(g);
}
var d = arguments.length > 4, h = d ? V(arguments, 4) : [], p = t.setInterval, f = t.clearInterval, g = 0, m = y(c) && !c, v = (m ? i : n).defer(), b = v.promise;
return l = y(l) ? l : 0, b.$$intervalId = p(function() {
m ? r.defer(u) : e.$evalAsync(u), v.notify(g++), l > 0 && g >= l && (v.resolve(g), f(b.$$intervalId), delete a[b.$$intervalId]), m || e.$apply();
}, s), a[b.$$intervalId] = v, b;
}
var a = {};
return o.cancel = function(e) {
return !!(e && e.$$intervalId in a) && (a[e.$$intervalId].reject("canceled"), t.clearInterval(e.$$intervalId), delete a[e.$$intervalId], !0);
}, o;
} ];
}
function Mt(e) {
for (var t = e.split("/"), n = t.length; n--; ) t[n] = ee(t[n]);
return t.join("/");
}
function It(e, t) {
var n = En(e);
t.$$protocol = n.protocol, t.$$host = n.hostname, t.$$port = d(n.port) || Yr[n.protocol] || null;
}
function Lt(e, t) {
if (Xr.test(e)) throw Kr("badpath", 'Invalid url "{0}".', e);
var n = "/" !== e.charAt(0);
n && (e = "/" + e);
var i = En(e);
t.$$path = decodeURIComponent(n && "/" === i.pathname.charAt(0) ? i.pathname.substring(1) : i.pathname), t.$$search = J(i.search), t.$$hash = decodeURIComponent(i.hash), t.$$path && "/" !== t.$$path.charAt(0) && (t.$$path = "/" + t.$$path);
}
function Pt(e, t) {
return e.slice(0, t.length) === t;
}
function Ot(e, t) {
if (Pt(t, e)) return t.substr(e.length);
}
function Rt(e) {
var t = e.indexOf("#");
return -1 === t ? e : e.substr(0, t);
}
function Bt(e) {
return e.replace(/(#.+)|#$/, "$1");
}
function Nt(e) {
return e.substr(0, Rt(e).lastIndexOf("/") + 1);
}
function jt(e) {
return e.substring(0, e.indexOf("/", e.indexOf("//") + 2));
}
function Ut(e, t, n) {
this.$$html5 = !0, n = n || "", It(e, this), this.$$parse = function(e) {
var n = Ot(t, e);
if (!x(n)) throw Kr("ipthprfx", 'Invalid url "{0}", missing path prefix "{1}".', e, t);
Lt(n, this), this.$$path || (this.$$path = "/"), this.$$compose();
}, this.$$compose = function() {
var e = Z(this.$$search), n = this.$$hash ? "#" + ee(this.$$hash) : "";
this.$$url = Mt(this.$$path) + (e ? "?" + e : "") + n, this.$$absUrl = t + this.$$url.substr(1);
}, this.$$parseLinkUrl = function(i, r) {
if (r && "#" === r[0]) return this.hash(r.slice(1)), !0;
var o, a, s;
return y(o = Ot(e, i)) ? (a = o, s = n && y(o = Ot(n, o)) ? t + (Ot("/", o) || o) : e + a) : y(o = Ot(t, i)) ? s = t + o : t === i + "/" && (s = t), s && this.$$parse(s), !!s;
};
}
function Vt(e, t, n) {
It(e, this), this.$$parse = function(i) {
var r, o = Ot(e, i) || Ot(t, i);
v(o) || "#" !== o.charAt(0) ? this.$$html5 ? r = o : (r = "", v(o) && (e = i, this.replace())) : v(r = Ot(n, o)) && (r = o), Lt(r, this), this.$$path = function(e, t, n) {
var i, r = /^\/[A-Z]:(\/.*)/;
return Pt(t, n) && (t = t.replace(n, "")), r.exec(t) ? e : (i = r.exec(e)) ? i[1] : e;
}(this.$$path, r, e), this.$$compose();
}, this.$$compose = function() {
var t = Z(this.$$search), i = this.$$hash ? "#" + ee(this.$$hash) : "";
this.$$url = Mt(this.$$path) + (t ? "?" + t : "") + i, this.$$absUrl = e + (this.$$url ? n + this.$$url : "");
}, this.$$parseLinkUrl = function(t, n) {
return Rt(e) === Rt(t) && (this.$$parse(t), !0);
};
}
function Ht(e, t, n) {
this.$$html5 = !0, Vt.apply(this, arguments), this.$$parseLinkUrl = function(i, r) {
if (r && "#" === r[0]) return this.hash(r.slice(1)), !0;
var o, a;
return e === Rt(i) ? o = i : (a = Ot(t, i)) ? o = e + n + a : t === i + "/" && (o = t), o && this.$$parse(o), !!o;
}, this.$$compose = function() {
var t = Z(this.$$search), i = this.$$hash ? "#" + ee(this.$$hash) : "";
this.$$url = Mt(this.$$path) + (t ? "?" + t : "") + i, this.$$absUrl = e + n + this.$$url;
};
}
function zt(e) {
return function() {
return this[e];
};
}
function Wt(e, t) {
return function(n) {
return v(n) ? this[e] : (this[e] = t(n), this.$$compose(), this);
};
}
function Gt() {
var e = "", t = {
enabled: !1,
requireBase: !0,
rewriteLinks: !0
};
this.hashPrefix = function(t) {
return y(t) ? (e = t, this) : e;
}, this.html5Mode = function(e) {
return F(e) ? (t.enabled = e, this) : b(e) ? (F(e.enabled) && (t.enabled = e.enabled), F(e.requireBase) && (t.requireBase = e.requireBase), (F(e.rewriteLinks) || x(e.rewriteLinks)) && (t.rewriteLinks = e.rewriteLinks), this) : t;
}, this.$get = [ "$rootScope", "$browser", "$sniffer", "$rootElement", "$window", function(n, i, r, o, a) {
function s(e, t, n) {
var r = c.url(), o = c.$$state;
try {
i.url(e, t, n), c.$$state = i.state();
} catch (e) {
throw c.url(r), c.$$state = o, e;
}
}
function l(e, t) {
n.$broadcast("$locationChangeSuccess", c.absUrl(), e, c.$$state, t);
}
var c, u, d, h = i.baseHref(), p = i.url();
if (t.enabled) {
if (!h && t.requireBase) throw Kr("nobase", "$location in HTML5 mode requires a <base> tag to be present!");
d = jt(p) + (h || "/"), u = r.history ? Ut : Ht;
} else d = Rt(p), u = Vt;
var f = Nt(d);
(c = new u(d, f, "#" + e)).$$parseLinkUrl(p, p), c.$$state = i.state();
var g = /^\s*(javascript|mailto):/i;
o.on("click", function(e) {
var r = t.rewriteLinks;
if (r && !e.ctrlKey && !e.metaKey && !e.shiftKey && 2 !== e.which && 2 !== e.button) {
for (var s = Si(e.target); "a" !== R(s[0]); ) if (s[0] === o[0] || !(s = s.parent())[0]) return;
if (!x(r) || !v(s.attr(r))) {
var l = s.prop("href"), u = s.attr("href") || s.attr("xlink:href");
b(l) && "[object SVGAnimatedString]" === l.toString() && (l = En(l.animVal).href), g.test(l) || !l || s.attr("target") || e.isDefaultPrevented() || c.$$parseLinkUrl(l, u) && (e.preventDefault(), c.absUrl() !== i.url() && (n.$apply(), a.angular["ff-684208-preventDefault"] = !0));
}
}
}), Bt(c.absUrl()) !== Bt(p) && i.url(c.absUrl(), !0);
var m = !0;
return i.onUrlChange(function(e, t) {
v(Ot(f, e)) ? a.location.href = e : (n.$evalAsync(function() {
var i, r = c.absUrl(), o = c.$$state;
e = Bt(e), c.$$parse(e), c.$$state = t, i = n.$broadcast("$locationChangeStart", e, r, t, o).defaultPrevented, c.absUrl() === e && (i ? (c.$$parse(r), c.$$state = o, s(r, !1, o)) : (m = !1, l(r, o)));
}), n.$$phase || n.$digest());
}), n.$watch(function() {
var e = Bt(i.url()), t = Bt(c.absUrl()), o = i.state(), a = c.$$replace, u = e !== t || c.$$html5 && r.history && o !== c.$$state;
(m || u) && (m = !1, n.$evalAsync(function() {
var t = c.absUrl(), i = n.$broadcast("$locationChangeStart", t, e, c.$$state, o).defaultPrevented;
c.absUrl() === t && (i ? (c.$$parse(e), c.$$state = o) : (u && s(t, a, o === c.$$state ? null : c.$$state), l(e, o)));
})), c.$$replace = !1;
}), c;
} ];
}
function qt() {
var e = !0, t = this;
this.debugEnabled = function(t) {
return y(t) ? (e = t, this) : e;
}, this.$get = [ "$window", function(n) {
function r(e) {
return e instanceof Error && (e.stack ? e = e.message && -1 === e.stack.indexOf(e.message) ? "Error: " + e.message + "\n" + e.stack : e.stack : e.sourceURL && (e = e.message + "\n" + e.sourceURL + ":" + e.line)), e;
}
function o(e) {
var t = n.console || {}, o = t[e] || t.log || p, a = !1;
try {
a = !!o.apply;
} catch (e) {}
return a ? function() {
var e = [];
return i(arguments, function(t) {
e.push(r(t));
}), o.apply(t, e);
} : function(e, t) {
o(e, null == t ? "" : t);
};
}
return {
log: o("log"),
info: o("info"),
warn: o("warn"),
error: o("error"),
debug: function() {
var n = o("debug");
return function() {
e && n.apply(t, arguments);
};
}()
};
} ];
}
function Yt(e, t) {
if ("__defineGetter__" === e || "__defineSetter__" === e || "__lookupGetter__" === e || "__lookupSetter__" === e || "__proto__" === e) throw Jr("isecfld", "Attempting to access a disallowed field in Angular expressions! Expression: {0}", t);
return e;
}
function Kt(e) {
return e + "";
}
function Xt(e, t) {
if (e) {
if (e.constructor === e) throw Jr("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
if (e.window === e) throw Jr("isecwindow", "Referencing the Window in Angular expressions is disallowed! Expression: {0}", t);
if (e.children && (e.nodeName || e.prop && e.attr && e.find)) throw Jr("isecdom", "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}", t);
if (e === Object) throw Jr("isecobj", "Referencing Object in Angular expressions is disallowed! Expression: {0}", t);
}
return e;
}
function Qt(e, t) {
if (e) {
if (e.constructor === e) throw Jr("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
if (e === ho || e === po || e === fo) throw Jr("isecff", "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}", t);
}
}
function Jt(e, t) {
if (e && (e === Zr || e === eo || e === to || e === no || e === io || e === ro || e === oo || e === ao || e === so || e === lo || e === co || e === uo)) throw Jr("isecaf", "Assigning to a constructor or its prototype is disallowed! Expression: {0}", t);
}
function Zt(e, t) {
return void 0 !== e ? e : t;
}
function en(e, t) {
return void 0 === e ? t : void 0 === t ? e : e + t;
}
function tn(e, t) {
return !e(t).$stateful;
}
function nn(e, t) {
var n, r, o;
switch (e.type) {
case bo.Program:
n = !0, i(e.body, function(e) {
nn(e.expression, t), n = n && e.expression.constant;
}), e.constant = n;
break;

case bo.Literal:
e.constant = !0, e.toWatch = [];
break;

case bo.UnaryExpression:
nn(e.argument, t), e.constant = e.argument.constant, e.toWatch = e.argument.toWatch;
break;

case bo.BinaryExpression:
nn(e.left, t), nn(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = e.left.toWatch.concat(e.right.toWatch);
break;

case bo.LogicalExpression:
nn(e.left, t), nn(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = e.constant ? [] : [ e ];
break;

case bo.ConditionalExpression:
nn(e.test, t), nn(e.alternate, t), nn(e.consequent, t), e.constant = e.test.constant && e.alternate.constant && e.consequent.constant, e.toWatch = e.constant ? [] : [ e ];
break;

case bo.Identifier:
e.constant = !1, e.toWatch = [ e ];
break;

case bo.MemberExpression:
nn(e.object, t), e.computed && nn(e.property, t), e.constant = e.object.constant && (!e.computed || e.property.constant), e.toWatch = [ e ];
break;

case bo.CallExpression:
o = !!e.filter && tn(t, e.callee.name), n = o, r = [], i(e.arguments, function(e) {
nn(e, t), n = n && e.constant, e.constant || r.push.apply(r, e.toWatch);
}), e.constant = n, e.toWatch = o ? r : [ e ];
break;

case bo.AssignmentExpression:
nn(e.left, t), nn(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = [ e ];
break;

case bo.ArrayExpression:
n = !0, r = [], i(e.elements, function(e) {
nn(e, t), n = n && e.constant, e.constant || r.push.apply(r, e.toWatch);
}), e.constant = n, e.toWatch = r;
break;

case bo.ObjectExpression:
n = !0, r = [], i(e.properties, function(e) {
nn(e.value, t), n = n && e.value.constant && !e.computed, e.value.constant || r.push.apply(r, e.value.toWatch);
}), e.constant = n, e.toWatch = r;
break;

case bo.ThisExpression:
case bo.LocalsExpression:
e.constant = !1, e.toWatch = [];
}
}
function rn(e) {
if (1 === e.length) {
var t = e[0].expression, n = t.toWatch;
return 1 !== n.length ? n : n[0] !== t ? n : void 0;
}
}
function on(e) {
return e.type === bo.Identifier || e.type === bo.MemberExpression;
}
function an(e) {
if (1 === e.body.length && on(e.body[0].expression)) return {
type: bo.AssignmentExpression,
left: e.body[0].expression,
right: {
type: bo.NGValueParameter
},
operator: "="
};
}
function sn(e) {
return 0 === e.body.length || 1 === e.body.length && (e.body[0].expression.type === bo.Literal || e.body[0].expression.type === bo.ArrayExpression || e.body[0].expression.type === bo.ObjectExpression);
}
function ln(e) {
return e.constant;
}
function cn(e, t) {
this.astBuilder = e, this.$filter = t;
}
function un(e, t) {
this.astBuilder = e, this.$filter = t;
}
function dn(e) {
return "constructor" === e;
}
function hn(e) {
return S(e.valueOf) ? e.valueOf() : go.call(e);
}
function pn() {
var e, t, n = pe(), r = pe(), o = {
true: !0,
false: !1,
null: null,
undefined: void 0
};
this.addLiteral = function(e, t) {
o[e] = t;
}, this.setIdentifierFns = function(n, i) {
return e = n, t = i, this;
}, this.$get = [ "$filter", function(a) {
function s(e, t, i) {
var o, s, c;
switch (i = i || w, typeof e) {
case "string":
c = e = e.trim();
var m = i ? r : n;
if (!(o = m[c])) {
":" === e.charAt(0) && ":" === e.charAt(1) && (s = !0, e = e.substring(2));
var y = i ? b : v, x = new yo(y);
(o = new wo(x, a, y).parse(e)).constant ? o.$$watchDelegate = f : s ? o.$$watchDelegate = o.literal ? h : d : o.inputs && (o.$$watchDelegate = u), i && (o = l(o)), m[c] = o;
}
return g(o, t);

case "function":
return g(e, t);

default:
return g(p, t);
}
}
function l(e) {
function t(t, n, i, r) {
var o = w;
w = !0;
try {
return e(t, n, i, r);
} finally {
w = o;
}
}
if (!e) return e;
t.$$watchDelegate = e.$$watchDelegate, t.assign = l(e.assign), t.constant = e.constant, t.literal = e.literal;
for (var n = 0; e.inputs && n < e.inputs.length; ++n) e.inputs[n] = l(e.inputs[n]);
return t.inputs = e.inputs, t;
}
function c(e, t) {
return null == e || null == t ? e === t : ("object" != typeof e || "object" != typeof (e = hn(e))) && (e === t || e !== e && t !== t);
}
function u(e, t, n, i, r) {
var o, a = i.inputs;
if (1 === a.length) {
var s = c;
return a = a[0], e.$watch(function(e) {
var t = a(e);
return c(t, s) || (o = i(e, void 0, void 0, [ t ]), s = t && hn(t)), o;
}, t, n, r);
}
for (var l = [], u = [], d = 0, h = a.length; d < h; d++) l[d] = c, u[d] = null;
return e.$watch(function(e) {
for (var t = !1, n = 0, r = a.length; n < r; n++) {
var s = a[n](e);
(t || (t = !c(s, l[n]))) && (u[n] = s, l[n] = s && hn(s));
}
return t && (o = i(e, void 0, void 0, u)), o;
}, t, n, r);
}
function d(e, t, n, i) {
var r, o;
return r = e.$watch(function(e) {
return i(e);
}, function(e, n, i) {
o = e, S(t) && t.apply(this, arguments), y(e) && i.$$postDigest(function() {
y(o) && r();
});
}, n);
}
function h(e, t, n, r) {
function o(e) {
var t = !0;
return i(e, function(e) {
y(e) || (t = !1);
}), t;
}
var a, s;
return a = e.$watch(function(e) {
return r(e);
}, function(e, n, i) {
s = e, S(t) && t.call(this, e, n, i), o(e) && i.$$postDigest(function() {
o(s) && a();
});
}, n);
}
function f(e, t, n, i) {
var r = e.$watch(function(e) {
return r(), i(e);
}, t, n);
return r;
}
function g(e, t) {
if (!t) return e;
var n = e.$$watchDelegate, i = !1, r = n !== h && n !== d ? function(n, r, o, a) {
var s = i && a ? a[0] : e(n, r, o, a);
return t(s, n, r);
} : function(n, i, r, o) {
var a = e(n, i, r, o), s = t(a, n, i);
return y(a) ? s : a;
};
return e.$$watchDelegate && e.$$watchDelegate !== u ? r.$$watchDelegate = e.$$watchDelegate : t.$stateful || (r.$$watchDelegate = u, i = !e.inputs, r.inputs = e.inputs ? e.inputs : [ e ]), r;
}
var m = ji().noUnsafeEval, v = {
csp: m,
expensiveChecks: !1,
literals: N(o),
isIdentifierStart: S(e) && e,
isIdentifierContinue: S(t) && t
}, b = {
csp: m,
expensiveChecks: !0,
literals: N(o),
isIdentifierStart: S(e) && e,
isIdentifierContinue: S(t) && t
}, w = !1;
return s.$$runningExpensiveChecks = function() {
return w;
}, s;
} ];
}
function fn() {
this.$get = [ "$rootScope", "$exceptionHandler", function(e, t) {
return mn(function(t) {
e.$evalAsync(t);
}, t);
} ];
}
function gn() {
this.$get = [ "$browser", "$exceptionHandler", function(e, t) {
return mn(function(t) {
e.defer(t);
}, t);
} ];
}
function mn(e, n) {
function r() {
var e = new u();
return e.resolve = a(e, e.resolve), e.reject = a(e, e.reject), e.notify = a(e, e.notify), e;
}
function o() {
this.$$state = {
status: 0
};
}
function a(e, t) {
return function(n) {
t.call(e, n);
};
}
function s(e) {
var t, i, r;
r = e.pending, e.processScheduled = !1, e.pending = void 0;
for (var o = 0, a = r.length; o < a; ++o) {
i = r[o][0], t = r[o][e.status];
try {
S(t) ? i.resolve(t(e.value)) : 1 === e.status ? i.resolve(e.value) : i.reject(e.value);
} catch (e) {
i.reject(e), n(e);
}
}
}
function l(t) {
!t.processScheduled && t.pending && (t.processScheduled = !0, e(function() {
s(t);
}));
}
function u() {
this.promise = new o();
}
function d(e) {
var t = new u();
return t.reject(e), t.promise;
}
function h(e, t, n) {
var i = null;
try {
S(n) && (i = n());
} catch (e) {
return d(e);
}
return M(i) ? i.then(function() {
return t(e);
}, d) : t(e);
}
function p(e, t, n, i) {
var r = new u();
return r.resolve(e), r.promise.then(t, n, i);
}
function f(e) {
if (!S(e)) throw g("norslvr", "Expected resolverFn, got '{0}'", e);
var t = new u();
return e(function(e) {
t.resolve(e);
}, function(e) {
t.reject(e);
}), t.promise;
}
var g = t("$q", TypeError);
c(o.prototype, {
then: function(e, t, n) {
if (v(e) && v(t) && v(n)) return this;
var i = new u();
return this.$$state.pending = this.$$state.pending || [], this.$$state.pending.push([ i, e, t, n ]), this.$$state.status > 0 && l(this.$$state), i.promise;
},
catch: function(e) {
return this.then(null, e);
},
finally: function(e, t) {
return this.then(function(t) {
return h(t, m, e);
}, function(t) {
return h(t, d, e);
}, t);
}
}), c(u.prototype, {
resolve: function(e) {
this.promise.$$state.status || (e === this.promise ? this.$$reject(g("qcycle", "Expected promise to be resolved with value other than itself '{0}'", e)) : this.$$resolve(e));
},
$$resolve: function(e) {
function t(e) {
o || (o = !0, r.$$reject(e));
}
var i, r = this, o = !1;
try {
(b(e) || S(e)) && (i = e && e.then), S(i) ? (this.promise.$$state.status = -1, i.call(e, function(e) {
o || (o = !0, r.$$resolve(e));
}, t, a(this, this.notify))) : (this.promise.$$state.value = e, this.promise.$$state.status = 1, l(this.promise.$$state));
} catch (e) {
t(e), n(e);
}
},
reject: function(e) {
this.promise.$$state.status || this.$$reject(e);
},
$$reject: function(e) {
this.promise.$$state.value = e, this.promise.$$state.status = 2, l(this.promise.$$state);
},
notify: function(t) {
var i = this.promise.$$state.pending;
this.promise.$$state.status <= 0 && i && i.length && e(function() {
for (var e, r, o = 0, a = i.length; o < a; o++) {
r = i[o][0], e = i[o][3];
try {
r.notify(S(e) ? e(t) : t);
} catch (e) {
n(e);
}
}
});
}
});
var m = p;
return f.prototype = o.prototype, f.defer = r, f.reject = d, f.when = p, f.resolve = m, f.all = function(e) {
var t = new u(), n = 0, r = Oi(e) ? [] : {};
return i(e, function(e, i) {
n++, p(e).then(function(e) {
r[i] = e, --n || t.resolve(r);
}, function(e) {
t.reject(e);
});
}), 0 === n && t.resolve(r), t.promise;
}, f.race = function(e) {
var t = r();
return i(e, function(e) {
p(e).then(t.resolve, t.reject);
}), t.promise;
}, f;
}
function vn() {
this.$get = [ "$window", "$timeout", function(e, t) {
var n = e.requestAnimationFrame || e.webkitRequestAnimationFrame, i = e.cancelAnimationFrame || e.webkitCancelAnimationFrame || e.webkitCancelRequestAnimationFrame, r = !!n, o = r ? function(e) {
var t = n(e);
return function() {
i(t);
};
} : function(e) {
var n = t(e, 16.66, !1);
return function() {
t.cancel(n);
};
};
return o.supported = r, o;
} ];
}
function yn() {
function e(e) {
function t() {
this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$id = a(), this.$$ChildScope = null;
}
return t.prototype = e, t;
}
var r = 10, o = t("$rootScope"), s = null, l = null;
this.digestTtl = function(e) {
return arguments.length && (r = e), r;
}, this.$get = [ "$exceptionHandler", "$parse", "$browser", function(t, c, u) {
function d(e) {
e.currentScope.$$destroyed = !0;
}
function h(e) {
9 === _i && (e.$$childHead && h(e.$$childHead), e.$$nextSibling && h(e.$$nextSibling)), e.$parent = e.$$nextSibling = e.$$prevSibling = e.$$childHead = e.$$childTail = e.$root = e.$$watchers = null;
}
function f() {
this.$id = a(), this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null, this.$root = this, this.$$destroyed = !1, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$$isolateBindings = null;
}
function g(e) {
if ($.$$phase) throw o("inprog", "{0} already in progress", $.$$phase);
$.$$phase = e;
}
function m() {
$.$$phase = null;
}
function y(e, t) {
do {
e.$$watchersCount += t;
} while (e = e.$parent);
}
function w(e, t, n) {
do {
e.$$listenerCount[n] -= t, 0 === e.$$listenerCount[n] && delete e.$$listenerCount[n];
} while (e = e.$parent);
}
function x() {}
function C() {
for (;E.length; ) try {
E.shift()();
} catch (e) {
t(e);
}
l = null;
}
function _() {
null === l && (l = u.defer(function() {
$.$apply(C);
}));
}
f.prototype = {
constructor: f,
$new: function(t, n) {
var i;
return n = n || this, t ? (i = new f()).$root = this.$root : (this.$$ChildScope || (this.$$ChildScope = e(this)), i = new this.$$ChildScope()), i.$parent = n, i.$$prevSibling = n.$$childTail, n.$$childHead ? (n.$$childTail.$$nextSibling = i, n.$$childTail = i) : n.$$childHead = n.$$childTail = i, (t || n !== this) && i.$on("$destroy", d), i;
},
$watch: function(e, t, n, i) {
var r = c(e);
if (r.$$watchDelegate) return r.$$watchDelegate(this, t, n, r, e);
var o = this, a = o.$$watchers, l = {
fn: t,
last: x,
get: r,
exp: i || e,
eq: !!n
};
return s = null, S(t) || (l.fn = p), a || ((a = o.$$watchers = []).$$digestWatchIndex = -1), a.unshift(l), a.$$digestWatchIndex++, y(this, 1), function() {
var e = B(a, l);
e >= 0 && (y(o, -1), e < a.$$digestWatchIndex && a.$$digestWatchIndex--), s = null;
};
},
$watchGroup: function(e, t) {
function n() {
l = !1, c ? (c = !1, t(o, o, s)) : t(o, r, s);
}
var r = new Array(e.length), o = new Array(e.length), a = [], s = this, l = !1, c = !0;
if (!e.length) {
var u = !0;
return s.$evalAsync(function() {
u && t(o, o, s);
}), function() {
u = !1;
};
}
return 1 === e.length ? this.$watch(e[0], function(e, n, i) {
o[0] = e, r[0] = n, t(o, e === n ? o : r, i);
}) : (i(e, function(e, t) {
var i = s.$watch(e, function(e, i) {
o[t] = e, r[t] = i, l || (l = !0, s.$evalAsync(n));
});
a.push(i);
}), function() {
for (;a.length; ) a.shift()();
});
},
$watchCollection: function(e, t) {
function i(e) {
var t, i, a, s;
if (!v(r = e)) {
if (b(r)) if (n(r)) {
o !== h && (g = (o = h).length = 0, u++), t = r.length, g !== t && (u++, o.length = g = t);
for (var l = 0; l < t; l++) s = o[l], a = r[l], s !== s && a !== a || s === a || (u++, o[l] = a);
} else {
o !== p && (o = p = {}, g = 0, u++), t = 0;
for (i in r) wi.call(r, i) && (t++, a = r[i], s = o[i], i in o ? s !== s && a !== a || s === a || (u++, o[i] = a) : (g++, o[i] = a, u++));
if (g > t) {
u++;
for (i in o) wi.call(r, i) || (g--, delete o[i]);
}
} else o !== r && (o = r, u++);
return u;
}
}
i.$stateful = !0;
var r, o, a, s = this, l = t.length > 1, u = 0, d = c(e, i), h = [], p = {}, f = !0, g = 0;
return this.$watch(d, function() {
if (f ? (f = !1, t(r, r, s)) : t(r, a, s), l) if (b(r)) if (n(r)) {
a = new Array(r.length);
for (var e = 0; e < r.length; e++) a[e] = r[e];
} else {
a = {};
for (var i in r) wi.call(r, i) && (a[i] = r[i]);
} else a = r;
});
},
$digest: function() {
var e, n, i, a, c, d, h, p, f, v, y = r, b = this, w = [];
g("$digest"), u.$$checkUrlChange(), this === $ && null !== l && (u.defer.cancel(l), C()), s = null;
do {
d = !1, p = b;
for (var _ = 0; _ < A.length; _++) {
try {
(v = A[_]).scope.$eval(v.expression, v.locals);
} catch (e) {
t(e);
}
s = null;
}
A.length = 0;
e: do {
if (c = p.$$watchers) for (c.$$digestWatchIndex = c.length; c.$$digestWatchIndex--; ) try {
if (e = c[c.$$digestWatchIndex]) if (a = e.get, (n = a(p)) === (i = e.last) || (e.eq ? j(n, i) : Pi(n) && Pi(i))) {
if (e === s) {
d = !1;
break e;
}
} else d = !0, s = e, e.last = e.eq ? N(n, null) : n, (0, e.fn)(n, i === x ? n : i, p), y < 5 && (w[f = 4 - y] || (w[f] = []), w[f].push({
msg: S(e.exp) ? "fn: " + (e.exp.name || e.exp.toString()) : e.exp,
newVal: n,
oldVal: i
}));
} catch (e) {
t(e);
}
if (!(h = p.$$watchersCount && p.$$childHead || p !== b && p.$$nextSibling)) for (;p !== b && !(h = p.$$nextSibling); ) p = p.$parent;
} while (p = h);
if ((d || A.length) && !y--) throw m(), o("infdig", "{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}", r, w);
} while (d || A.length);
for (m(); T < k.length; ) try {
k[T++]();
} catch (e) {
t(e);
}
k.length = T = 0;
},
$destroy: function() {
if (!this.$$destroyed) {
var e = this.$parent;
this.$broadcast("$destroy"), this.$$destroyed = !0, this === $ && u.$$applicationDestroyed(), y(this, -this.$$watchersCount);
for (var t in this.$$listenerCount) w(this, this.$$listenerCount[t], t);
e && e.$$childHead === this && (e.$$childHead = this.$$nextSibling), e && e.$$childTail === this && (e.$$childTail = this.$$prevSibling), this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = p, this.$on = this.$watch = this.$watchGroup = function() {
return p;
}, this.$$listeners = {}, this.$$nextSibling = null, h(this);
}
},
$eval: function(e, t) {
return c(e)(this, t);
},
$evalAsync: function(e, t) {
$.$$phase || A.length || u.defer(function() {
A.length && $.$digest();
}), A.push({
scope: this,
expression: c(e),
locals: t
});
},
$$postDigest: function(e) {
k.push(e);
},
$apply: function(e) {
try {
g("$apply");
try {
return this.$eval(e);
} finally {
m();
}
} catch (e) {
t(e);
} finally {
try {
$.$digest();
} catch (e) {
throw t(e), e;
}
}
},
$applyAsync: function(e) {
var t = this;
e && E.push(function() {
t.$eval(e);
}), e = c(e), _();
},
$on: function(e, t) {
var n = this.$$listeners[e];
n || (this.$$listeners[e] = n = []), n.push(t);
var i = this;
do {
i.$$listenerCount[e] || (i.$$listenerCount[e] = 0), i.$$listenerCount[e]++;
} while (i = i.$parent);
var r = this;
return function() {
var i = n.indexOf(t);
-1 !== i && (n[i] = null, w(r, 1, e));
};
},
$emit: function(e, n) {
var i, r, o, a = [], s = this, l = !1, c = {
name: e,
targetScope: s,
stopPropagation: function() {
l = !0;
},
preventDefault: function() {
c.defaultPrevented = !0;
},
defaultPrevented: !1
}, u = U([ c ], arguments, 1);
do {
for (i = s.$$listeners[e] || a, c.currentScope = s, r = 0, o = i.length; r < o; r++) if (i[r]) try {
i[r].apply(null, u);
} catch (e) {
t(e);
} else i.splice(r, 1), r--, o--;
if (l) return c.currentScope = null, c;
s = s.$parent;
} while (s);
return c.currentScope = null, c;
},
$broadcast: function(e, n) {
var i = this, r = i, o = i, a = {
name: e,
targetScope: i,
preventDefault: function() {
a.defaultPrevented = !0;
},
defaultPrevented: !1
};
if (!i.$$listenerCount[e]) return a;
for (var s, l, c, u = U([ a ], arguments, 1); r = o; ) {
for (a.currentScope = r, l = 0, c = (s = r.$$listeners[e] || []).length; l < c; l++) if (s[l]) try {
s[l].apply(null, u);
} catch (e) {
t(e);
} else s.splice(l, 1), l--, c--;
if (!(o = r.$$listenerCount[e] && r.$$childHead || r !== i && r.$$nextSibling)) for (;r !== i && !(o = r.$$nextSibling); ) r = r.$parent;
}
return a.currentScope = null, a;
}
};
var $ = new f(), A = $.$$asyncQueue = [], k = $.$$postDigestQueue = [], E = $.$$applyAsyncQueue = [], T = 0;
return $;
} ];
}
function bn() {
var e = /^\s*(https?|ftp|mailto|tel|file):/, t = /^\s*((https?|ftp|file|blob):|data:image\/)/;
this.aHrefSanitizationWhitelist = function(t) {
return y(t) ? (e = t, this) : e;
}, this.imgSrcSanitizationWhitelist = function(e) {
return y(e) ? (t = e, this) : t;
}, this.$get = function() {
return function(n, i) {
var r, o = i ? t : e;
return "" === (r = En(n).href) || r.match(o) ? n : "unsafe:" + r;
};
};
}
function wn(e) {
if ("self" === e) return e;
if (x(e)) {
if (e.indexOf("***") > -1) throw xo("iwcard", "Illegal sequence *** in string matcher.  String: {0}", e);
return e = Ni(e).replace(/\\\*\\\*/g, ".*").replace(/\\\*/g, "[^:/.?&;]*"), new RegExp("^" + e + "$");
}
if ($(e)) return new RegExp("^" + e.source + "$");
throw xo("imatcher", 'Matchers may only be "self", string patterns or RegExp objects');
}
function xn(e) {
var t = [];
return y(e) && i(e, function(e) {
t.push(wn(e));
}), t;
}
function Cn() {
this.SCE_CONTEXTS = Co;
var e = [ "self" ], t = [];
this.resourceUrlWhitelist = function(t) {
return arguments.length && (e = xn(t)), e;
}, this.resourceUrlBlacklist = function(e) {
return arguments.length && (t = xn(e)), t;
}, this.$get = [ "$injector", function(n) {
function i(e, t) {
return "self" === e ? Tn(t) : !!e.exec(t.href);
}
function r(n) {
var r, o, a = En(n.toString()), s = !1;
for (r = 0, o = e.length; r < o; r++) if (i(e[r], a)) {
s = !0;
break;
}
if (s) for (r = 0, o = t.length; r < o; r++) if (i(t[r], a)) {
s = !1;
break;
}
return s;
}
function o(e) {
var t = function(e) {
this.$$unwrapTrustedValue = function() {
return e;
};
};
return e && (t.prototype = new e()), t.prototype.valueOf = function() {
return this.$$unwrapTrustedValue();
}, t.prototype.toString = function() {
return this.$$unwrapTrustedValue().toString();
}, t;
}
var a = function(e) {
throw xo("unsafe", "Attempting to use an unsafe value in a safe context.");
};
n.has("$sanitize") && (a = n.get("$sanitize"));
var s = o(), l = {};
return l[Co.HTML] = o(s), l[Co.CSS] = o(s), l[Co.URL] = o(s), l[Co.JS] = o(s), l[Co.RESOURCE_URL] = o(l[Co.URL]), {
trustAs: function(e, t) {
var n = l.hasOwnProperty(e) ? l[e] : null;
if (!n) throw xo("icontext", "Attempted to trust a value in invalid context. Context: {0}; Value: {1}", e, t);
if (null === t || v(t) || "" === t) return t;
if ("string" != typeof t) throw xo("itype", "Attempted to trust a non-string value in a content requiring a string: Context: {0}", e);
return new n(t);
},
getTrusted: function(e, t) {
if (null === t || v(t) || "" === t) return t;
var n = l.hasOwnProperty(e) ? l[e] : null;
if (n && t instanceof n) return t.$$unwrapTrustedValue();
if (e === Co.RESOURCE_URL) {
if (r(t)) return t;
throw xo("insecurl", "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}", t.toString());
}
if (e === Co.HTML) return a(t);
throw xo("unsafe", "Attempting to use an unsafe value in a safe context.");
},
valueOf: function(e) {
return e instanceof s ? e.$$unwrapTrustedValue() : e;
}
};
} ];
}
function _n() {
var e = !0;
this.enabled = function(t) {
return arguments.length && (e = !!t), e;
}, this.$get = [ "$parse", "$sceDelegate", function(t, n) {
if (e && _i < 8) throw xo("iequirks", "Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
var r = ge(Co);
r.isEnabled = function() {
return e;
}, r.trustAs = n.trustAs, r.getTrusted = n.getTrusted, r.valueOf = n.valueOf, e || (r.trustAs = r.getTrusted = function(e, t) {
return t;
}, r.valueOf = f), r.parseAs = function(e, n) {
var i = t(n);
return i.literal && i.constant ? i : t(n, function(t) {
return r.getTrusted(e, t);
});
};
var o = r.parseAs, a = r.getTrusted, s = r.trustAs;
return i(Co, function(e, t) {
var n = xi(t);
r[be("parse_as_" + n)] = function(t) {
return o(e, t);
}, r[be("get_trusted_" + n)] = function(t) {
return a(e, t);
}, r[be("trust_as_" + n)] = function(t) {
return s(e, t);
};
}), r;
} ];
}
function Sn() {
this.$get = [ "$window", "$document", function(e, t) {
var n, i, r = {}, o = !(e.chrome && (e.chrome.app && e.chrome.app.runtime || !e.chrome.app && e.chrome.runtime && e.chrome.runtime.id)) && e.history && e.history.pushState, a = d((/android (\d+)/.exec(xi((e.navigator || {}).userAgent)) || [])[1]), s = /Boxee/i.test((e.navigator || {}).userAgent), l = t[0] || {}, c = /^(Moz|webkit|ms)(?=[A-Z])/, u = l.body && l.body.style, h = !1, p = !1;
if (u) {
for (var f in u) if (i = c.exec(f)) {
n = (n = i[0])[0].toUpperCase() + n.substr(1);
break;
}
n || (n = "WebkitOpacity" in u && "webkit"), h = !!("transition" in u || n + "Transition" in u), p = !!("animation" in u || n + "Animation" in u), !a || h && p || (h = x(u.webkitTransition), p = x(u.webkitAnimation));
}
return {
history: !(!o || a < 4 || s),
hasEvent: function(e) {
if ("input" === e && _i <= 11) return !1;
if (v(r[e])) {
var t = l.createElement("div");
r[e] = "on" + e in t;
}
return r[e];
},
csp: ji(),
vendorPrefix: n,
transitions: h,
animations: p,
android: a
};
} ];
}
function $n() {
var e;
this.httpOptions = function(t) {
return t ? (e = t, this) : e;
}, this.$get = [ "$templateCache", "$http", "$q", "$sce", function(t, n, i, r) {
function o(a, s) {
o.totalPendingRequests++, x(a) && !v(t.get(a)) || (a = r.getTrustedResourceUrl(a));
var l = n.defaults && n.defaults.transformResponse;
return Oi(l) ? l = l.filter(function(e) {
return e !== wt;
}) : l === wt && (l = null), n.get(a, c({
cache: t,
transformResponse: l
}, e)).finally(function() {
o.totalPendingRequests--;
}).then(function(e) {
return t.put(a, e.data), e.data;
}, function(e) {
if (!s) throw _o("tpload", "Failed to load template: {0} (HTTP status: {1} {2})", a, e.status, e.statusText);
return i.reject(e);
});
}
return o.totalPendingRequests = 0, o;
} ];
}
function An() {
this.$get = [ "$rootScope", "$browser", "$location", function(e, t, n) {
var r = {};
return r.findBindings = function(e, t, n) {
var r = [];
return i(e.getElementsByClassName("ng-binding"), function(e) {
var o = Ii.element(e).data("$binding");
o && i(o, function(i) {
n ? new RegExp("(^|\\s)" + Ni(t) + "(\\s|\\||$)").test(i) && r.push(e) : -1 !== i.indexOf(t) && r.push(e);
});
}), r;
}, r.findModels = function(e, t, n) {
for (var i = [ "ng-", "data-ng-", "ng\\:" ], r = 0; r < i.length; ++r) {
var o = n ? "=" : "*=", a = "[" + i[r] + "model" + o + '"' + t + '"]', s = e.querySelectorAll(a);
if (s.length) return s;
}
}, r.getLocation = function() {
return n.url();
}, r.setLocation = function(t) {
t !== n.url() && (n.url(t), e.$digest());
}, r.whenStable = function(e) {
t.notifyWhenNoOutstandingRequests(e);
}, r;
} ];
}
function kn() {
this.$get = [ "$rootScope", "$browser", "$q", "$$q", "$exceptionHandler", function(e, t, n, i, r) {
function o(o, s, l) {
S(o) || (l = s, s = o, o = p);
var c, u = V(arguments, 3), d = y(l) && !l, h = (d ? i : n).defer(), f = h.promise;
return c = t.defer(function() {
try {
h.resolve(o.apply(null, u));
} catch (e) {
h.reject(e), r(e);
} finally {
delete a[f.$$timeoutId];
}
d || e.$apply();
}, s), f.$$timeoutId = c, a[c] = h, f;
}
var a = {};
return o.cancel = function(e) {
return !!(e && e.$$timeoutId in a) && (a[e.$$timeoutId].reject("canceled"), delete a[e.$$timeoutId], t.defer.cancel(e.$$timeoutId));
}, o;
} ];
}
function En(e) {
var t = e;
return _i && (So.setAttribute("href", t), t = So.href), So.setAttribute("href", t), {
href: So.href,
protocol: So.protocol ? So.protocol.replace(/:$/, "") : "",
host: So.host,
search: So.search ? So.search.replace(/^\?/, "") : "",
hash: So.hash ? So.hash.replace(/^#/, "") : "",
hostname: So.hostname,
port: So.port,
pathname: "/" === So.pathname.charAt(0) ? So.pathname : "/" + So.pathname
};
}
function Tn(e) {
var t = x(e) ? En(e) : e;
return t.protocol === $o.protocol && t.host === $o.host;
}
function Dn() {
this.$get = g(e);
}
function Fn(e) {
function t(e) {
try {
return e.cookie || "";
} catch (e) {
return "";
}
}
function n(e) {
try {
return decodeURIComponent(e);
} catch (t) {
return e;
}
}
var i = e[0] || {}, r = {}, o = "";
return function() {
var e, a, s, l, c, u = t(i);
if (u !== o) for (e = (o = u).split("; "), r = {}, s = 0; s < e.length; s++) (l = (a = e[s]).indexOf("=")) > 0 && (c = n(a.substring(0, l)), v(r[c]) && (r[c] = n(a.substring(l + 1))));
return r;
};
}
function Mn() {
this.$get = Fn;
}
function In(e) {
function t(r, o) {
if (b(r)) {
var a = {};
return i(r, function(e, n) {
a[n] = t(n, e);
}), a;
}
return e.factory(r + n, o);
}
var n = "Filter";
this.register = t, this.$get = [ "$injector", function(e) {
return function(t) {
return e.get(t + n);
};
} ], t("currency", Bn), t("date", Xn), t("filter", Ln), t("json", Qn), t("limitTo", Jn), t("lowercase", Mo), t("number", Nn), t("orderBy", ei), t("uppercase", Io);
}
function Ln() {
return function(e, i, r, o) {
if (!n(e)) {
if (null == e) return e;
throw t("filter")("notarray", "Expected array but received: {0}", e);
}
o = o || "$";
var a, s;
switch (Rn(i)) {
case "function":
a = i;
break;

case "boolean":
case "null":
case "number":
case "string":
s = !0;

case "object":
a = Pn(i, r, o, s);
break;

default:
return e;
}
return Array.prototype.filter.call(e, a);
};
}
function Pn(e, t, n, i) {
var r = b(e) && n in e;
return !0 === t ? t = j : S(t) || (t = function(e, t) {
return !v(e) && (null === e || null === t ? e === t : !(b(t) || b(e) && !m(e)) && (e = xi("" + e), t = xi("" + t), -1 !== e.indexOf(t)));
}), function(o) {
return r && !b(o) ? On(o, e[n], t, n, !1) : On(o, e, t, n, i);
};
}
function On(e, t, n, i, r, o) {
var a = Rn(e), s = Rn(t);
if ("string" === s && "!" === t.charAt(0)) return !On(e, t.substring(1), n, i, r);
if (Oi(e)) return e.some(function(e) {
return On(e, t, n, i, r);
});
switch (a) {
case "object":
var l;
if (r) {
for (l in e) if ("$" !== l.charAt(0) && On(e[l], t, n, i, !0)) return !0;
return !o && On(e, t, n, i, !1);
}
if ("object" === s) {
for (l in t) {
var c = t[l];
if (!S(c) && !v(c)) {
var u = l === i;
if (!On(u ? e : e[l], c, n, i, u, u)) return !1;
}
}
return !0;
}
return n(e, t);

case "function":
return !1;

default:
return n(e, t);
}
}
function Rn(e) {
return null === e ? "null" : typeof e;
}
function Bn(e) {
var t = e.NUMBER_FORMATS;
return function(e, n, i) {
return v(n) && (n = t.CURRENCY_SYM), v(i) && (i = t.PATTERNS[1].maxFrac), null == e ? e : Vn(e, t.PATTERNS[1], t.GROUP_SEP, t.DECIMAL_SEP, i).replace(/\u00A4/g, n);
};
}
function Nn(e) {
var t = e.NUMBER_FORMATS;
return function(e, n) {
return null == e ? e : Vn(e, t.PATTERNS[0], t.GROUP_SEP, t.DECIMAL_SEP, n);
};
}
function jn(e) {
var t, n, i, r, o, a = 0;
for ((n = e.indexOf(ko)) > -1 && (e = e.replace(ko, "")), (i = e.search(/e/i)) > 0 ? (n < 0 && (n = i), n += +e.slice(i + 1), e = e.substring(0, i)) : n < 0 && (n = e.length), i = 0; e.charAt(i) === Eo; i++) ;
if (i === (o = e.length)) t = [ 0 ], n = 1; else {
for (o--; e.charAt(o) === Eo; ) o--;
for (n -= i, t = [], r = 0; i <= o; i++, r++) t[r] = +e.charAt(i);
}
return n > Ao && (t = t.splice(0, Ao - 1), a = n - 1, n = 1), {
d: t,
e: a,
i: n
};
}
function Un(e, t, n, i) {
var r = e.d, o = r.length - e.i, a = (t = v(t) ? Math.min(Math.max(n, o), i) : +t) + e.i, s = r[a];
if (a > 0) {
r.splice(Math.max(e.i, a));
for (var l = a; l < r.length; l++) r[l] = 0;
} else {
o = Math.max(0, o), e.i = 1, r.length = Math.max(1, a = t + 1), r[0] = 0;
for (var c = 1; c < a; c++) r[c] = 0;
}
if (s >= 5) if (a - 1 < 0) {
for (var u = 0; u > a; u--) r.unshift(0), e.i++;
r.unshift(1), e.i++;
} else r[a - 1]++;
for (;o < Math.max(0, t); o++) r.push(0);
var d = r.reduceRight(function(e, t, n, i) {
return t += e, i[n] = t % 10, Math.floor(t / 10);
}, 0);
d && (r.unshift(d), e.i++);
}
function Vn(e, t, n, i, r) {
if (!x(e) && !C(e) || isNaN(e)) return "";
var o, a = !isFinite(e), s = !1, l = Math.abs(e) + "", c = "";
if (a) c = "∞"; else {
Un(o = jn(l), r, t.minFrac, t.maxFrac);
var u = o.d, d = o.i, h = o.e, p = [];
for (s = u.reduce(function(e, t) {
return e && !t;
}, !0); d < 0; ) u.unshift(0), d++;
d > 0 ? p = u.splice(d, u.length) : (p = u, u = [ 0 ]);
var f = [];
for (u.length >= t.lgSize && f.unshift(u.splice(-t.lgSize, u.length).join("")); u.length > t.gSize; ) f.unshift(u.splice(-t.gSize, u.length).join(""));
u.length && f.unshift(u.join("")), c = f.join(n), p.length && (c += i + p.join("")), h && (c += "e+" + h);
}
return e < 0 && !s ? t.negPre + c + t.negSuf : t.posPre + c + t.posSuf;
}
function Hn(e, t, n, i) {
var r = "";
for ((e < 0 || i && e <= 0) && (i ? e = 1 - e : (e = -e, r = "-")), e = "" + e; e.length < t; ) e = Eo + e;
return n && (e = e.substr(e.length - t)), r + e;
}
function zn(e, t, n, i, r) {
return n = n || 0, function(o) {
var a = o["get" + e]();
return (n > 0 || a > -n) && (a += n), 0 === a && -12 === n && (a = 12), Hn(a, t, i, r);
};
}
function Wn(e, t, n) {
return function(i, r) {
var o = i["get" + e]();
return r[Ci((n ? "STANDALONE" : "") + (t ? "SHORT" : "") + e)][o];
};
}
function Gn(e) {
var t = new Date(e, 0, 1).getDay();
return new Date(e, 0, (t <= 4 ? 5 : 12) - t);
}
function qn(e) {
return new Date(e.getFullYear(), e.getMonth(), e.getDate() + (4 - e.getDay()));
}
function Yn(e) {
return function(t) {
var n = Gn(t.getFullYear()), i = +qn(t) - +n;
return Hn(1 + Math.round(i / 6048e5), e);
};
}
function Kn(e, t) {
return e.getFullYear() <= 0 ? t.ERAS[0] : t.ERAS[1];
}
function Xn(e) {
function t(e) {
var t;
if (t = e.match(n)) {
var i = new Date(0), r = 0, o = 0, a = t[8] ? i.setUTCFullYear : i.setFullYear, s = t[8] ? i.setUTCHours : i.setHours;
t[9] && (r = d(t[9] + t[10]), o = d(t[9] + t[11])), a.call(i, d(t[1]), d(t[2]) - 1, d(t[3]));
var l = d(t[4] || 0) - r, c = d(t[5] || 0) - o, u = d(t[6] || 0), h = Math.round(1e3 * parseFloat("0." + (t[7] || 0)));
return s.call(i, l, c, u, h), i;
}
return e;
}
var n = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
return function(n, r, o) {
var a, s, l = "", c = [];
if (r = r || "mediumDate", r = e.DATETIME_FORMATS[r] || r, x(n) && (n = Fo.test(n) ? d(n) : t(n)), C(n) && (n = new Date(n)), !_(n) || !isFinite(n.getTime())) return n;
for (;r; ) (s = Do.exec(r)) ? r = (c = U(c, s, 1)).pop() : (c.push(r), r = null);
var u = n.getTimezoneOffset();
return o && (u = q(o, u), n = K(n, o, !0)), i(c, function(t) {
a = To[t], l += a ? a(n, e.DATETIME_FORMATS, u) : "''" === t ? "'" : t.replace(/(^'|'$)/g, "").replace(/''/g, "'");
}), l;
};
}
function Qn() {
return function(e, t) {
return v(t) && (t = 2), W(e, t);
};
}
function Jn() {
return function(e, t, i) {
return t = Math.abs(Number(t)) === 1 / 0 ? Number(t) : d(t), Pi(t) ? e : (C(e) && (e = e.toString()), n(e) ? (i = !i || isNaN(i) ? 0 : d(i), i = i < 0 ? Math.max(0, e.length + i) : i, t >= 0 ? Zn(e, i, i + t) : 0 === i ? Zn(e, t, e.length) : Zn(e, Math.max(0, i + t), i)) : e);
};
}
function Zn(e, t, n) {
return x(e) ? e.slice(t, n) : ki.call(e, t, n);
}
function ei(e) {
function i(t) {
return t.map(function(t) {
var n = 1, i = f;
if (S(t)) i = t; else if (x(t) && ("+" !== t.charAt(0) && "-" !== t.charAt(0) || (n = "-" === t.charAt(0) ? -1 : 1, t = t.substring(1)), "" !== t && (i = e(t)).constant)) {
var r = i();
i = function(e) {
return e[r];
};
}
return {
get: i,
descending: n
};
});
}
function r(e) {
switch (typeof e) {
case "number":
case "boolean":
case "string":
return !0;

default:
return !1;
}
}
function o(e) {
return S(e.valueOf) && (e = e.valueOf(), r(e)) ? e : (m(e) && (e = e.toString(), r(e)), e);
}
function a(e, t) {
var n = typeof e;
return null === e ? (n = "string", e = "null") : "object" === n && (e = o(e)), {
value: e,
type: n,
index: t
};
}
function s(e, t) {
var n = 0, i = e.type, r = t.type;
if (i === r) {
var o = e.value, a = t.value;
"string" === i ? (o = o.toLowerCase(), a = a.toLowerCase()) : "object" === i && (b(o) && (o = e.index), b(a) && (a = t.index)), o !== a && (n = o < a ? -1 : 1);
} else n = i < r ? -1 : 1;
return n;
}
return function(e, r, o, l) {
if (null == e) return e;
if (!n(e)) throw t("orderBy")("notarray", "Expected array but received: {0}", e);
Oi(r) || (r = [ r ]), 0 === r.length && (r = [ "+" ]);
var c = i(r), u = o ? -1 : 1, d = S(l) ? l : s, h = Array.prototype.map.call(e, function(e, t) {
return {
value: e,
tieBreaker: {
value: t,
type: "number",
index: t
},
predicateValues: c.map(function(n) {
return a(n.get(e), t);
})
};
});
return h.sort(function(e, t) {
for (var n = 0, i = c.length; n < i; n++) {
var r = d(e.predicateValues[n], t.predicateValues[n]);
if (r) return r * c[n].descending * u;
}
return d(e.tieBreaker, t.tieBreaker) * u;
}), e = h.map(function(e) {
return e.value;
});
};
}
function ti(e) {
return S(e) && (e = {
link: e
}), e.restrict = e.restrict || "AC", g(e);
}
function ni(e, t, n, r, o) {
var a = this, s = [];
a.$error = {}, a.$$success = {}, a.$pending = void 0, a.$name = o(t.name || t.ngForm || "")(n), a.$dirty = !1, a.$pristine = !0, a.$valid = !0, a.$invalid = !1, a.$submitted = !1, a.$$parentForm = Oo, a.$rollbackViewValue = function() {
i(s, function(e) {
e.$rollbackViewValue();
});
}, a.$commitViewValue = function() {
i(s, function(e) {
e.$commitViewValue();
});
}, a.$addControl = function(e) {
ue(e.$name, "input"), s.push(e), e.$name && (a[e.$name] = e), e.$$parentForm = a;
}, a.$$renameControl = function(e, t) {
var n = e.$name;
a[n] === e && delete a[n], a[t] = e, e.$name = t;
}, a.$removeControl = function(e) {
e.$name && a[e.$name] === e && delete a[e.$name], i(a.$pending, function(t, n) {
a.$setValidity(n, null, e);
}), i(a.$error, function(t, n) {
a.$setValidity(n, null, e);
}), i(a.$$success, function(t, n) {
a.$setValidity(n, null, e);
}), B(s, e), e.$$parentForm = Oo;
}, gi({
ctrl: this,
$element: e,
set: function(e, t, n) {
var i = e[t];
i ? -1 === i.indexOf(n) && i.push(n) : e[t] = [ n ];
},
unset: function(e, t, n) {
var i = e[t];
i && (B(i, n), 0 === i.length && delete e[t]);
},
$animate: r
}), a.$setDirty = function() {
r.removeClass(e, wa), r.addClass(e, xa), a.$dirty = !0, a.$pristine = !1, a.$$parentForm.$setDirty();
}, a.$setPristine = function() {
r.setClass(e, wa, xa + " " + Ro), a.$dirty = !1, a.$pristine = !0, a.$submitted = !1, i(s, function(e) {
e.$setPristine();
});
}, a.$setUntouched = function() {
i(s, function(e) {
e.$setUntouched();
});
}, a.$setSubmitted = function() {
r.addClass(e, Ro), a.$submitted = !0, a.$$parentForm.$setSubmitted();
};
}
function ii(e) {
e.$formatters.push(function(t) {
return e.$isEmpty(t) ? t : t.toString();
});
}
function ri(e, t, n, i, r, o) {
var a = xi(t[0].type);
if (!r.android) {
var s = !1;
t.on("compositionstart", function() {
s = !0;
}), t.on("compositionend", function() {
s = !1, c();
});
}
var l, c = function(e) {
if (l && (o.defer.cancel(l), l = null), !s) {
var r = t.val(), c = e && e.type;
"password" === a || n.ngTrim && "false" === n.ngTrim || (r = Bi(r)), (i.$viewValue !== r || "" === r && i.$$hasNativeValidators) && i.$setViewValue(r, c);
}
};
if (r.hasEvent("input")) t.on("input", c); else {
var u = function(e, t, n) {
l || (l = o.defer(function() {
l = null, t && t.value === n || c(e);
}));
};
t.on("keydown", function(e) {
var t = e.keyCode;
91 === t || 15 < t && t < 19 || 37 <= t && t <= 40 || u(e, this, this.value);
}), r.hasEvent("paste") && t.on("paste cut", u);
}
t.on("change", c), Qo[a] && i.$$hasNativeValidators && a === n.type && t.on(Xo, function(e) {
if (!l) {
var t = this[bi], n = t.badInput, i = t.typeMismatch;
l = o.defer(function() {
l = null, t.badInput === n && t.typeMismatch === i || c(e);
});
}
}), i.$render = function() {
var e = i.$isEmpty(i.$viewValue) ? "" : i.$viewValue;
t.val() !== e && t.val(e);
};
}
function oi(e, t) {
return function(n, r) {
var o, a;
if (_(n)) return n;
if (x(n)) {
if ('"' === n.charAt(0) && '"' === n.charAt(n.length - 1) && (n = n.substring(1, n.length - 1)), Uo.test(n)) return new Date(n);
if (e.lastIndex = 0, o = e.exec(n)) return o.shift(), a = r ? {
yyyy: r.getFullYear(),
MM: r.getMonth() + 1,
dd: r.getDate(),
HH: r.getHours(),
mm: r.getMinutes(),
ss: r.getSeconds(),
sss: r.getMilliseconds() / 1e3
} : {
yyyy: 1970,
MM: 1,
dd: 1,
HH: 0,
mm: 0,
ss: 0,
sss: 0
}, i(o, function(e, n) {
n < t.length && (a[t[n]] = +e);
}), new Date(a.yyyy, a.MM - 1, a.dd, a.HH, a.mm, a.ss || 0, 1e3 * a.sss || 0);
}
return NaN;
};
}
function ai(e, t, n, i) {
return function(r, o, a, s, l, c, u) {
function d(e) {
return e && !(e.getTime && e.getTime() !== e.getTime());
}
function h(e) {
return y(e) && !_(e) ? n(e) || void 0 : e;
}
si(r, o, a, s), ri(r, o, a, s, l, c);
var p, f = s && s.$options && s.$options.timezone;
if (s.$$parserName = e, s.$parsers.push(function(e) {
if (s.$isEmpty(e)) return null;
if (t.test(e)) {
var i = n(e, p);
return f && (i = K(i, f)), i;
}
}), s.$formatters.push(function(e) {
if (e && !_(e)) throw _a("datefmt", "Expected `{0}` to be a date", e);
return d(e) ? ((p = e) && f && (p = K(p, f, !0)), u("date")(e, i, f)) : (p = null, "");
}), y(a.min) || a.ngMin) {
var g;
s.$validators.min = function(e) {
return !d(e) || v(g) || n(e) >= g;
}, a.$observe("min", function(e) {
g = h(e), s.$validate();
});
}
if (y(a.max) || a.ngMax) {
var m;
s.$validators.max = function(e) {
return !d(e) || v(m) || n(e) <= m;
}, a.$observe("max", function(e) {
m = h(e), s.$validate();
});
}
};
}
function si(e, t, n, i) {
var r = t[0];
(i.$$hasNativeValidators = b(r.validity)) && i.$parsers.push(function(e) {
var n = t.prop(bi) || {};
return n.badInput || n.typeMismatch ? void 0 : e;
});
}
function li(e) {
e.$$parserName = "number", e.$parsers.push(function(t) {
return e.$isEmpty(t) ? null : zo.test(t) ? parseFloat(t) : void 0;
}), e.$formatters.push(function(t) {
if (!e.$isEmpty(t)) {
if (!C(t)) throw _a("numfmt", "Expected `{0}` to be a number", t);
t = t.toString();
}
return t;
});
}
function ci(e) {
return y(e) && !C(e) && (e = parseFloat(e)), Pi(e) ? void 0 : e;
}
function ui(e) {
return (0 | e) === e;
}
function di(e) {
var t = e.toString(), n = t.indexOf(".");
if (-1 === n) {
if (-1 < e && e < 1) {
var i = /e-(\d+)$/.exec(t);
if (i) return Number(i[1]);
}
return 0;
}
return t.length - n - 1;
}
function hi(e, t, n) {
var i = Number(e);
if (!ui(i) || !ui(t) || !ui(n)) {
var r = Math.max(di(i), di(t), di(n)), o = Math.pow(10, r);
i *= o, t *= o, n *= o;
}
return (i - t) % n == 0;
}
function pi(e, t, n, i, r) {
var o;
if (y(i)) {
if (!(o = e(i)).constant) throw _a("constexpr", "Expected constant expression for `{0}`, but saw `{1}`.", n, i);
return o(t);
}
return r;
}
function fi(e, t) {
return e = "ngClass" + e, [ "$animate", function(n) {
function r(e, t) {
var n = [];
e: for (var i = 0; i < e.length; i++) {
for (var r = e[i], o = 0; o < t.length; o++) if (r === t[o]) continue e;
n.push(r);
}
return n;
}
function o(e) {
var t = [];
return Oi(e) ? (i(e, function(e) {
t = t.concat(o(e));
}), t) : x(e) ? e.split(" ") : b(e) ? (i(e, function(e, n) {
e && (t = t.concat(n.split(" ")));
}), t) : e;
}
return {
restrict: "AC",
link: function(a, s, l) {
function c(e) {
var t = d(e, 1);
l.$addClass(t);
}
function u(e) {
var t = d(e, -1);
l.$removeClass(t);
}
function d(e, t) {
var n = s.data("$classCounts") || pe(), r = [];
return i(e, function(e) {
(t > 0 || n[e]) && (n[e] = (n[e] || 0) + t, n[e] === +(t > 0) && r.push(e));
}), s.data("$classCounts", n), r.join(" ");
}
function h(e, t) {
var i = r(t, e), o = r(e, t);
i = d(i, 1), o = d(o, -1), i && i.length && n.addClass(s, i), o && o.length && n.removeClass(s, o);
}
function p(e) {
if (!0 === t || (1 & a.$index) === t) {
var n = o(e || []);
f ? j(e, f) || h(o(f), n) : c(n);
}
f = Oi(e) ? e.map(function(e) {
return ge(e);
}) : ge(e);
}
var f;
l.$observe("class", function(t) {
p(a.$eval(l[e]));
}), "ngClass" !== e && a.$watch("$index", function(e, n) {
var i = 1 & e;
if (i !== (1 & n)) {
var r = o(f);
i === t ? c(r) : u(r);
}
}), a.$watch(l[e], p, !0);
}
};
} ];
}
function gi(e) {
function t(e, t, n) {
o[e] || (o[e] = {}), l(o[e], t, n);
}
function n(e, t, n) {
o[e] && c(o[e], t, n), mi(o[e]) && (o[e] = void 0);
}
function i(e, t) {
t && !s[e] ? (u.addClass(a, e), s[e] = !0) : !t && s[e] && (u.removeClass(a, e), s[e] = !1);
}
function r(e, t) {
e = e ? "-" + se(e, "-") : "", i(ya + e, !0 === t), i(ba + e, !1 === t);
}
var o = e.ctrl, a = e.$element, s = {}, l = e.set, c = e.unset, u = e.$animate;
s[ba] = !(s[ya] = a.hasClass(ya)), o.$setValidity = function(e, a, s) {
v(a) ? t("$pending", e, s) : n("$pending", e, s), F(a) ? a ? (c(o.$error, e, s), l(o.$$success, e, s)) : (l(o.$error, e, s), c(o.$$success, e, s)) : (c(o.$error, e, s), c(o.$$success, e, s)), o.$pending ? (i(Ca, !0), o.$valid = o.$invalid = void 0, r("", null)) : (i(Ca, !1), o.$valid = mi(o.$error), o.$invalid = !o.$valid, r("", o.$valid));
var u;
r(e, u = o.$pending && o.$pending[e] ? void 0 : !o.$error[e] && (!!o.$$success[e] || null)), o.$$parentForm.$setValidity(e, u, o);
};
}
function mi(e) {
if (e) for (var t in e) if (e.hasOwnProperty(t)) return !1;
return !0;
}
function vi(e) {
e[0].hasAttribute("selected") && (e[0].selected = !0);
}
var yi = /^\/(.+)\/([a-z]*)$/, bi = "validity", wi = Object.prototype.hasOwnProperty, xi = function(e) {
return x(e) ? e.toLowerCase() : e;
}, Ci = function(e) {
return x(e) ? e.toUpperCase() : e;
};
"i" !== "I".toLowerCase() && (xi = function(e) {
return x(e) ? e.replace(/[A-Z]/g, function(e) {
return String.fromCharCode(32 | e.charCodeAt(0));
}) : e;
}, Ci = function(e) {
return x(e) ? e.replace(/[a-z]/g, function(e) {
return String.fromCharCode(-33 & e.charCodeAt(0));
}) : e;
});
var _i, Si, $i, Ai, ki = [].slice, Ei = [].splice, Ti = [].push, Di = Object.prototype.toString, Fi = Object.getPrototypeOf, Mi = t("ng"), Ii = e.angular || (e.angular = {}), Li = 0;
_i = e.document.documentMode;
var Pi = Number.isNaN || function(e) {
return e !== e;
};
p.$inject = [], f.$inject = [];
var Oi = Array.isArray, Ri = /^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/, Bi = function(e) {
return x(e) ? e.trim() : e;
}, Ni = function(e) {
return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
}, ji = function() {
if (!y(ji.rules)) {
var t = e.document.querySelector("[ng-csp]") || e.document.querySelector("[data-ng-csp]");
if (t) {
var n = t.getAttribute("ng-csp") || t.getAttribute("data-ng-csp");
ji.rules = {
noUnsafeEval: !n || -1 !== n.indexOf("no-unsafe-eval"),
noInlineStyle: !n || -1 !== n.indexOf("no-inline-style")
};
} else ji.rules = {
noUnsafeEval: function() {
try {
return new Function(""), !1;
} catch (e) {
return !0;
}
}(),
noInlineStyle: !1
};
}
return ji.rules;
}, Ui = function() {
if (y(Ui.name_)) return Ui.name_;
var t, n, i, r, o = Hi.length;
for (n = 0; n < o; ++n) if (i = Hi[n], t = e.document.querySelector("[" + i.replace(":", "\\:") + "jq]")) {
r = t.getAttribute(i + "jq");
break;
}
return Ui.name_ = r;
}, Vi = /:/g, Hi = [ "ng-", "data-ng-", "ng:", "x-ng-" ], zi = function(e) {
var t = e.currentScript, n = t && t.getAttribute("src");
if (!n) return !0;
var i = e.createElement("a");
if (i.href = n, e.location.origin === i.origin) return !0;
switch (i.protocol) {
case "http:":
case "https:":
case "ftp:":
case "blob:":
case "file:":
case "data:":
return !0;

default:
return !1;
}
}(e.document), Wi = /[A-Z]/g, Gi = !1, qi = 1, Yi = 3, Ki = 8, Xi = 9, Qi = 11, Ji = {
full: "1.5.11",
major: 1,
minor: 5,
dot: 11,
codeName: "princely-quest"
};
$e.expando = "ng339";
var Zi = $e.cache = {}, er = 1, tr = function(e, t, n) {
e.addEventListener(t, n, !1);
}, nr = function(e, t, n) {
e.removeEventListener(t, n, !1);
};
$e._data = function(e) {
return this.cache[e[this.expando]] || {};
};
var ir = /([:\-_]+(.))/g, rr = /^moz([A-Z])/, or = {
mouseleave: "mouseout",
mouseenter: "mouseover"
}, ar = t("jqLite"), sr = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/, lr = /<|&#?\w+;/, cr = /<([\w:-]+)/, ur = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi, dr = {
option: [ 1, '<select multiple="multiple">', "</select>" ],
thead: [ 1, "<table>", "</table>" ],
col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
tr: [ 2, "<table><tbody>", "</tbody></table>" ],
td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
_default: [ 0, "", "" ]
};
dr.optgroup = dr.option, dr.tbody = dr.tfoot = dr.colgroup = dr.caption = dr.thead, dr.th = dr.td;
var hr = e.Node.prototype.contains || function(e) {
return !!(16 & this.compareDocumentPosition(e));
}, pr = $e.prototype = {
ready: function(t) {
function n() {
i || (i = !0, t());
}
var i = !1;
"complete" === e.document.readyState ? e.setTimeout(n) : (this.on("DOMContentLoaded", n), $e(e).on("load", n));
},
toString: function() {
var e = [];
return i(this, function(t) {
e.push("" + t);
}), "[" + e.join(", ") + "]";
},
eq: function(e) {
return Si(e >= 0 ? this[e] : this[this.length + e]);
},
length: 0,
push: Ti,
sort: [].sort,
splice: [].splice
}, fr = {};
i("multiple,selected,checked,disabled,readOnly,required,open".split(","), function(e) {
fr[xi(e)] = e;
});
var gr = {};
i("input,select,option,textarea,button,form,details".split(","), function(e) {
gr[e] = !0;
});
var mr = {
ngMinlength: "minlength",
ngMaxlength: "maxlength",
ngMin: "min",
ngMax: "max",
ngPattern: "pattern"
};
i({
data: Fe,
removeData: Te,
hasData: function(e) {
for (var t in Zi[e.ng339]) return !0;
return !1;
},
cleanData: function(e) {
for (var t = 0, n = e.length; t < n; t++) Te(e[t]);
}
}, function(e, t) {
$e[t] = e;
}), i({
data: Fe,
inheritedData: Re,
scope: function(e) {
return Si.data(e, "$scope") || Re(e.parentNode || e, [ "$isolateScope", "$scope" ]);
},
isolateScope: function(e) {
return Si.data(e, "$isolateScope") || Si.data(e, "$isolateScopeNoTemplate");
},
controller: Oe,
injector: function(e) {
return Re(e, "$injector");
},
removeAttr: function(e, t) {
e.removeAttribute(t);
},
hasClass: Me,
css: function(e, t, n) {
if (t = be(t), !y(n)) return e.style[t];
e.style[t] = n;
},
attr: function(e, t, n) {
var i = e.nodeType;
if (i !== Yi && 2 !== i && i !== Ki) {
var r = xi(t);
if (fr[r]) {
if (!y(n)) return e[t] || (e.attributes.getNamedItem(t) || p).specified ? r : void 0;
n ? (e[t] = !0, e.setAttribute(t, r)) : (e[t] = !1, e.removeAttribute(r));
} else if (y(n)) e.setAttribute(t, n); else if (e.getAttribute) {
var o = e.getAttribute(t, 2);
return null === o ? void 0 : o;
}
}
},
prop: function(e, t, n) {
if (!y(n)) return e[t];
e[t] = n;
},
text: function() {
function e(e, t) {
if (v(t)) {
var n = e.nodeType;
return n === qi || n === Yi ? e.textContent : "";
}
e.textContent = t;
}
return e.$dv = "", e;
}(),
val: function(e, t) {
if (v(t)) {
if (e.multiple && "select" === R(e)) {
var n = [];
return i(e.options, function(e) {
e.selected && n.push(e.value || e.text);
}), 0 === n.length ? null : n;
}
return e.value;
}
e.value = t;
},
html: function(e, t) {
if (v(t)) return e.innerHTML;
ke(e, !0), e.innerHTML = t;
},
empty: Be
}, function(e, t) {
$e.prototype[t] = function(t, n) {
var i, r, o = this.length;
if (e !== Be && v(2 === e.length && e !== Me && e !== Oe ? t : n)) {
if (b(t)) {
for (i = 0; i < o; i++) if (e === Fe) e(this[i], t); else for (r in t) e(this[i], r, t[r]);
return this;
}
for (var a = e.$dv, s = v(a) ? Math.min(o, 1) : o, l = 0; l < s; l++) {
var c = e(this[l], t, n);
a = a ? a + c : c;
}
return a;
}
for (i = 0; i < o; i++) e(this[i], t, n);
return this;
};
}), i({
removeData: Te,
on: function(e, t, n, i) {
if (y(i)) throw ar("onargs", "jqLite#on() does not support the `selector` or `eventData` parameters");
if (xe(e)) {
var r = De(e, !0), o = r.events, a = r.handle;
a || (a = r.handle = He(e, o));
for (var s = t.indexOf(" ") >= 0 ? t.split(" ") : [ t ], l = s.length, c = function(t, i, r) {
var s = o[t];
s || ((s = o[t] = []).specialHandlerWrapper = i, "$destroy" === t || r || tr(e, t, a)), s.push(n);
}; l--; ) t = s[l], or[t] ? (c(or[t], We), c(t, void 0, !0)) : c(t);
}
},
off: Ee,
one: function(e, t, n) {
(e = Si(e)).on(t, function i() {
e.off(t, n), e.off(t, i);
}), e.on(t, n);
},
replaceWith: function(e, t) {
var n, r = e.parentNode;
ke(e), i(new $e(t), function(t) {
n ? r.insertBefore(t, n.nextSibling) : r.replaceChild(t, e), n = t;
});
},
children: function(e) {
var t = [];
return i(e.childNodes, function(e) {
e.nodeType === qi && t.push(e);
}), t;
},
contents: function(e) {
return e.contentDocument || e.childNodes || [];
},
append: function(e, t) {
var n = e.nodeType;
if (n === qi || n === Qi) for (var i = 0, r = (t = new $e(t)).length; i < r; i++) {
var o = t[i];
e.appendChild(o);
}
},
prepend: function(e, t) {
if (e.nodeType === qi) {
var n = e.firstChild;
i(new $e(t), function(t) {
e.insertBefore(t, n);
});
}
},
wrap: function(e, t) {
Se(e, Si(t).eq(0).clone()[0]);
},
remove: Ne,
detach: function(e) {
Ne(e, !0);
},
after: function(e, t) {
var n = e, i = e.parentNode;
if (i) for (var r = 0, o = (t = new $e(t)).length; r < o; r++) {
var a = t[r];
i.insertBefore(a, n.nextSibling), n = a;
}
},
addClass: Le,
removeClass: Ie,
toggleClass: function(e, t, n) {
t && i(t.split(" "), function(t) {
var i = n;
v(i) && (i = !Me(e, t)), (i ? Le : Ie)(e, t);
});
},
parent: function(e) {
var t = e.parentNode;
return t && t.nodeType !== Qi ? t : null;
},
next: function(e) {
return e.nextElementSibling;
},
find: function(e, t) {
return e.getElementsByTagName ? e.getElementsByTagName(t) : [];
},
clone: Ae,
triggerHandler: function(e, t, n) {
var r, o, a, s = t.type || t, l = De(e), u = l && l.events, d = u && u[s];
d && (r = {
preventDefault: function() {
this.defaultPrevented = !0;
},
isDefaultPrevented: function() {
return !0 === this.defaultPrevented;
},
stopImmediatePropagation: function() {
this.immediatePropagationStopped = !0;
},
isImmediatePropagationStopped: function() {
return !0 === this.immediatePropagationStopped;
},
stopPropagation: p,
type: s,
target: e
}, t.type && (r = c(r, t)), o = ge(d), a = n ? [ r ].concat(n) : [ r ], i(o, function(t) {
r.isImmediatePropagationStopped() || t.apply(e, a);
}));
}
}, function(e, t) {
$e.prototype[t] = function(t, n, i) {
for (var r, o = 0, a = this.length; o < a; o++) v(r) ? y(r = e(this[o], t, n, i)) && (r = Si(r)) : Pe(r, e(this[o], t, n, i));
return y(r) ? r : this;
};
}), $e.prototype.bind = $e.prototype.on, $e.prototype.unbind = $e.prototype.off, Ye.prototype = {
put: function(e, t) {
this[qe(e, this.nextUid)] = t;
},
get: function(e) {
return this[qe(e, this.nextUid)];
},
remove: function(e) {
var t = this[e = qe(e, this.nextUid)];
return delete this[e], t;
}
};
var vr = [ function() {
this.$get = [ function() {
return Ye;
} ];
} ], yr = /^([^(]+?)=>/, br = /^[^(]*\(\s*([^)]*)\)/m, wr = /,/, xr = /^\s*(_?)(\S+?)\1\s*$/, Cr = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm, _r = t("$injector");
Je.$$annotate = function(e, t, n) {
var r, o;
if ("function" == typeof e) {
if (!(r = e.$inject)) {
if (r = [], e.length) {
if (t) throw x(n) && n || (n = e.name || Qe(e)), _r("strictdi", "{0} is not using explicit annotation and cannot be invoked in strict mode", n);
i(Xe(e)[1].split(wr), function(e) {
e.replace(xr, function(e, t, n) {
r.push(n);
});
});
}
e.$inject = r;
}
} else Oi(e) ? (ce(e[o = e.length - 1], "fn"), r = e.slice(0, o)) : ce(e, "fn", !0);
return r;
};
var Sr = t("$animate"), $r = 1, Ar = function() {
this.$get = p;
}, kr = function() {
var e = new Ye(), t = [];
this.$get = [ "$$AnimateRunner", "$rootScope", function(n, r) {
function o(e, t, n) {
var r = !1;
return t && i(t = x(t) ? t.split(" ") : Oi(t) ? t : [], function(t) {
t && (r = !0, e[t] = n);
}), r;
}
function a() {
i(t, function(t) {
var n = e.get(t);
if (n) {
var r = nt(t.attr("class")), o = "", a = "";
i(n, function(e, t) {
e !== !!r[t] && (e ? o += (o.length ? " " : "") + t : a += (a.length ? " " : "") + t);
}), i(t, function(e) {
o && Le(e, o), a && Ie(e, a);
}), e.remove(t);
}
}), t.length = 0;
}
function s(n, i, s) {
var l = e.get(n) || {}, c = o(l, i, !0), u = o(l, s, !1);
(c || u) && (e.put(n, l), t.push(n), 1 === t.length && r.$$postDigest(a));
}
return {
enabled: p,
on: p,
off: p,
pin: p,
push: function(e, t, i, r) {
r && r(), (i = i || {}).from && e.css(i.from), i.to && e.css(i.to), (i.addClass || i.removeClass) && s(e, i.addClass, i.removeClass);
var o = new n();
return o.complete(), o;
}
};
} ];
}, Er = [ "$provide", function(e) {
var t = this;
this.$$registeredAnimations = Object.create(null), this.register = function(n, i) {
if (n && "." !== n.charAt(0)) throw Sr("notcsel", "Expecting class selector starting with '.' got '{0}'.", n);
var r = n + "-animation";
t.$$registeredAnimations[n.substr(1)] = r, e.factory(r, i);
}, this.classNameFilter = function(e) {
if (1 === arguments.length && (this.$$classNameFilter = e instanceof RegExp ? e : null, this.$$classNameFilter && new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)").test(this.$$classNameFilter.toString()))) throw Sr("nongcls", '$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.', "ng-animate");
return this.$$classNameFilter;
}, this.$get = [ "$$animateQueue", function(e) {
function t(e, t, n) {
if (n) {
var i = tt(n);
!i || i.parentNode || i.previousElementSibling || (n = null);
}
n ? n.after(e) : t.prepend(e);
}
return {
on: e.on,
off: e.off,
pin: e.pin,
enabled: e.enabled,
cancel: function(e) {
e.end && e.end();
},
enter: function(n, i, r, o) {
return i = i && Si(i), r = r && Si(r), i = i || r.parent(), t(n, i, r), e.push(n, "enter", it(o));
},
move: function(n, i, r, o) {
return i = i && Si(i), r = r && Si(r), i = i || r.parent(), t(n, i, r), e.push(n, "move", it(o));
},
leave: function(t, n) {
return e.push(t, "leave", it(n), function() {
t.remove();
});
},
addClass: function(t, n, i) {
return i = it(i), i.addClass = et(i.addclass, n), e.push(t, "addClass", i);
},
removeClass: function(t, n, i) {
return i = it(i), i.removeClass = et(i.removeClass, n), e.push(t, "removeClass", i);
},
setClass: function(t, n, i, r) {
return r = it(r), r.addClass = et(r.addClass, n), r.removeClass = et(r.removeClass, i), e.push(t, "setClass", r);
},
animate: function(t, n, i, r, o) {
return o = it(o), o.from = o.from ? c(o.from, n) : n, o.to = o.to ? c(o.to, i) : i, r = r || "ng-inline-animate", o.tempClasses = et(o.tempClasses, r), e.push(t, "animate", o);
}
};
} ];
} ], Tr = function() {
this.$get = [ "$$rAF", function(e) {
function t(t) {
n.push(t), n.length > 1 || e(function() {
for (var e = 0; e < n.length; e++) n[e]();
n = [];
});
}
var n = [];
return function() {
var e = !1;
return t(function() {
e = !0;
}), function(n) {
e ? n() : t(n);
};
};
} ];
}, Dr = function() {
this.$get = [ "$q", "$sniffer", "$$animateAsyncRun", "$document", "$timeout", function(e, t, n, r, o) {
function a(e) {
this.setHost(e);
var t = n(), i = function(e) {
o(e, 0, !1);
};
this._doneCallbacks = [], this._tick = function(e) {
var n = r[0];
n && n.hidden ? i(e) : t(e);
}, this._state = 0;
}
return a.chain = function(e, t) {
function n() {
i !== e.length ? e[i](function(e) {
!1 !== e ? (i++, n()) : t(!1);
}) : t(!0);
}
var i = 0;
n();
}, a.all = function(e, t) {
function n(n) {
o = o && n, ++r === e.length && t(o);
}
var r = 0, o = !0;
i(e, function(e) {
e.done(n);
});
}, a.prototype = {
setHost: function(e) {
this.host = e || {};
},
done: function(e) {
2 === this._state ? e() : this._doneCallbacks.push(e);
},
progress: p,
getPromise: function() {
if (!this.promise) {
var t = this;
this.promise = e(function(e, n) {
t.done(function(t) {
!1 === t ? n() : e();
});
});
}
return this.promise;
},
then: function(e, t) {
return this.getPromise().then(e, t);
},
catch: function(e) {
return this.getPromise().catch(e);
},
finally: function(e) {
return this.getPromise().finally(e);
},
pause: function() {
this.host.pause && this.host.pause();
},
resume: function() {
this.host.resume && this.host.resume();
},
end: function() {
this.host.end && this.host.end(), this._resolve(!0);
},
cancel: function() {
this.host.cancel && this.host.cancel(), this._resolve(!1);
},
complete: function(e) {
var t = this;
0 === t._state && (t._state = 1, t._tick(function() {
t._resolve(e);
}));
},
_resolve: function(e) {
2 !== this._state && (i(this._doneCallbacks, function(t) {
t(e);
}), this._doneCallbacks.length = 0, this._state = 2);
}
}, a;
} ];
}, Fr = function() {
this.$get = [ "$$rAF", "$q", "$$AnimateRunner", function(e, t, n) {
return function(t, i) {
function r() {
return e(function() {
o(), s || l.complete(), s = !0;
}), l;
}
function o() {
a.addClass && (t.addClass(a.addClass), a.addClass = null), a.removeClass && (t.removeClass(a.removeClass), a.removeClass = null), a.to && (t.css(a.to), a.to = null);
}
var a = i || {};
a.$$prepared || (a = N(a)), a.cleanupStyles && (a.from = a.to = null), a.from && (t.css(a.from), a.from = null);
var s, l = new n();
return {
start: r,
end: r
};
};
} ];
}, Mr = t("$compile"), Ir = new function() {}();
lt.$inject = [ "$provide", "$$sanitizeUriProvider" ], ct.prototype.isFirstChange = function() {
return this.previousValue === Ir;
};
var Lr = /^((?:x|data)[:\-_])/i, Pr = t("$controller"), Or = /^(\S+)(\s+as\s+([\w$]+))?$/, Rr = function() {
this.$get = [ "$document", function(e) {
return function(t) {
return t ? !t.nodeType && t instanceof Si && (t = t[0]) : t = e[0].body, t.offsetWidth + 1;
};
} ];
}, Br = "application/json", Nr = {
"Content-Type": Br + ";charset=utf-8"
}, jr = /^\[|^\{(?!\{)/, Ur = {
"[": /]$/,
"{": /}$/
}, Vr = /^\)]\}',?\n/, Hr = t("$http"), zr = function(e) {
return function() {
throw Hr("legacy", "The method `{0}` on the promise returned from `$http` has been disabled.", e);
};
}, Wr = Ii.$interpolateMinErr = t("$interpolate");
Wr.throwNoconcat = function(e) {
throw Wr("noconcat", "Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce", e);
}, Wr.interr = function(e, t) {
return Wr("interr", "Can't interpolate: {0}\n{1}", e, t.toString());
};
var Gr = function() {
this.$get = [ "$window", function(e) {
function t(e) {
var t = function(e) {
t.data = e, t.called = !0;
};
return t.id = e, t;
}
var n = e.angular.callbacks, i = {};
return {
createCallback: function(e) {
var r = "_" + (n.$$counter++).toString(36), o = "angular.callbacks." + r, a = t(r);
return i[o] = n[r] = a, o;
},
wasCalled: function(e) {
return i[e].called;
},
getResponse: function(e) {
return i[e].data;
},
removeCallback: function(e) {
var t = i[e];
delete n[t.id], delete i[e];
}
};
} ];
}, qr = /^([^?#]*)(\?([^#]*))?(#(.*))?$/, Yr = {
http: 80,
https: 443,
ftp: 21
}, Kr = t("$location"), Xr = /^\s*[\\/]{2,}/, Qr = {
$$absUrl: "",
$$html5: !1,
$$replace: !1,
absUrl: zt("$$absUrl"),
url: function(e) {
if (v(e)) return this.$$url;
var t = qr.exec(e);
return (t[1] || "" === e) && this.path(decodeURIComponent(t[1])), (t[2] || t[1] || "" === e) && this.search(t[3] || ""), this.hash(t[5] || ""), this;
},
protocol: zt("$$protocol"),
host: zt("$$host"),
port: zt("$$port"),
path: Wt("$$path", function(e) {
return "/" === (e = null !== e ? e.toString() : "").charAt(0) ? e : "/" + e;
}),
search: function(e, t) {
switch (arguments.length) {
case 0:
return this.$$search;

case 1:
if (x(e) || C(e)) e = e.toString(), this.$$search = J(e); else {
if (!b(e)) throw Kr("isrcharg", "The first argument of the `$location#search()` call must be a string or an object.");
i(e = N(e, {}), function(t, n) {
null == t && delete e[n];
}), this.$$search = e;
}
break;

default:
v(t) || null === t ? delete this.$$search[e] : this.$$search[e] = t;
}
return this.$$compose(), this;
},
hash: Wt("$$hash", function(e) {
return null !== e ? e.toString() : "";
}),
replace: function() {
return this.$$replace = !0, this;
}
};
i([ Ht, Vt, Ut ], function(e) {
e.prototype = Object.create(Qr), e.prototype.state = function(t) {
if (!arguments.length) return this.$$state;
if (e !== Ut || !this.$$html5) throw Kr("nostate", "History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");
return this.$$state = v(t) ? null : t, this;
};
});
var Jr = t("$parse"), Zr = [].constructor, eo = (!1).constructor, to = Function.constructor, no = (0).constructor, io = {}.constructor, ro = "".constructor, oo = Zr.prototype, ao = eo.prototype, so = to.prototype, lo = no.prototype, co = io.prototype, uo = ro.prototype, ho = so.call, po = so.apply, fo = so.bind, go = co.valueOf, mo = pe();
i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "), function(e) {
mo[e] = !0;
});
var vo = {
n: "\n",
f: "\f",
r: "\r",
t: "\t",
v: "\v",
"'": "'",
'"': '"'
}, yo = function(e) {
this.options = e;
};
yo.prototype = {
constructor: yo,
lex: function(e) {
for (this.text = e, this.index = 0, this.tokens = []; this.index < this.text.length; ) {
var t = this.text.charAt(this.index);
if ('"' === t || "'" === t) this.readString(t); else if (this.isNumber(t) || "." === t && this.isNumber(this.peek())) this.readNumber(); else if (this.isIdentifierStart(this.peekMultichar())) this.readIdent(); else if (this.is(t, "(){}[].,;:?")) this.tokens.push({
index: this.index,
text: t
}), this.index++; else if (this.isWhitespace(t)) this.index++; else {
var n = t + this.peek(), i = n + this.peek(2), r = mo[t], o = mo[n], a = mo[i];
if (r || o || a) {
var s = a ? i : o ? n : t;
this.tokens.push({
index: this.index,
text: s,
operator: !0
}), this.index += s.length;
} else this.throwError("Unexpected next character ", this.index, this.index + 1);
}
}
return this.tokens;
},
is: function(e, t) {
return -1 !== t.indexOf(e);
},
peek: function(e) {
var t = e || 1;
return this.index + t < this.text.length && this.text.charAt(this.index + t);
},
isNumber: function(e) {
return "0" <= e && e <= "9" && "string" == typeof e;
},
isWhitespace: function(e) {
return " " === e || "\r" === e || "\t" === e || "\n" === e || "\v" === e || " " === e;
},
isIdentifierStart: function(e) {
return this.options.isIdentifierStart ? this.options.isIdentifierStart(e, this.codePointAt(e)) : this.isValidIdentifierStart(e);
},
isValidIdentifierStart: function(e) {
return "a" <= e && e <= "z" || "A" <= e && e <= "Z" || "_" === e || "$" === e;
},
isIdentifierContinue: function(e) {
return this.options.isIdentifierContinue ? this.options.isIdentifierContinue(e, this.codePointAt(e)) : this.isValidIdentifierContinue(e);
},
isValidIdentifierContinue: function(e, t) {
return this.isValidIdentifierStart(e, t) || this.isNumber(e);
},
codePointAt: function(e) {
return 1 === e.length ? e.charCodeAt(0) : (e.charCodeAt(0) << 10) + e.charCodeAt(1) - 56613888;
},
peekMultichar: function() {
var e = this.text.charAt(this.index), t = this.peek();
if (!t) return e;
var n = e.charCodeAt(0), i = t.charCodeAt(0);
return n >= 55296 && n <= 56319 && i >= 56320 && i <= 57343 ? e + t : e;
},
isExpOperator: function(e) {
return "-" === e || "+" === e || this.isNumber(e);
},
throwError: function(e, t, n) {
n = n || this.index;
var i = y(t) ? "s " + t + "-" + this.index + " [" + this.text.substring(t, n) + "]" : " " + n;
throw Jr("lexerr", "Lexer Error: {0} at column{1} in expression [{2}].", e, i, this.text);
},
readNumber: function() {
for (var e = "", t = this.index; this.index < this.text.length; ) {
var n = xi(this.text.charAt(this.index));
if ("." === n || this.isNumber(n)) e += n; else {
var i = this.peek();
if ("e" === n && this.isExpOperator(i)) e += n; else if (this.isExpOperator(n) && i && this.isNumber(i) && "e" === e.charAt(e.length - 1)) e += n; else {
if (!this.isExpOperator(n) || i && this.isNumber(i) || "e" !== e.charAt(e.length - 1)) break;
this.throwError("Invalid exponent");
}
}
this.index++;
}
this.tokens.push({
index: t,
text: e,
constant: !0,
value: Number(e)
});
},
readIdent: function() {
var e = this.index;
for (this.index += this.peekMultichar().length; this.index < this.text.length; ) {
var t = this.peekMultichar();
if (!this.isIdentifierContinue(t)) break;
this.index += t.length;
}
this.tokens.push({
index: e,
text: this.text.slice(e, this.index),
identifier: !0
});
},
readString: function(e) {
var t = this.index;
this.index++;
for (var n = "", i = e, r = !1; this.index < this.text.length; ) {
var o = this.text.charAt(this.index);
if (i += o, r) {
if ("u" === o) {
var a = this.text.substring(this.index + 1, this.index + 5);
a.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + a + "]"), this.index += 4, n += String.fromCharCode(parseInt(a, 16));
} else n += vo[o] || o;
r = !1;
} else if ("\\" === o) r = !0; else {
if (o === e) return this.index++, void this.tokens.push({
index: t,
text: i,
constant: !0,
value: n
});
n += o;
}
this.index++;
}
this.throwError("Unterminated quote", t);
}
};
var bo = function(e, t) {
this.lexer = e, this.options = t;
};
bo.Program = "Program", bo.ExpressionStatement = "ExpressionStatement", bo.AssignmentExpression = "AssignmentExpression", bo.ConditionalExpression = "ConditionalExpression", bo.LogicalExpression = "LogicalExpression", bo.BinaryExpression = "BinaryExpression", bo.UnaryExpression = "UnaryExpression", bo.CallExpression = "CallExpression", bo.MemberExpression = "MemberExpression", bo.Identifier = "Identifier", bo.Literal = "Literal", bo.ArrayExpression = "ArrayExpression", bo.Property = "Property", bo.ObjectExpression = "ObjectExpression", bo.ThisExpression = "ThisExpression", bo.LocalsExpression = "LocalsExpression", bo.NGValueParameter = "NGValueParameter", bo.prototype = {
ast: function(e) {
this.text = e, this.tokens = this.lexer.lex(e);
var t = this.program();
return 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), t;
},
program: function() {
for (var e = []; ;) if (this.tokens.length > 0 && !this.peek("}", ")", ";", "]") && e.push(this.expressionStatement()), !this.expect(";")) return {
type: bo.Program,
body: e
};
},
expressionStatement: function() {
return {
type: bo.ExpressionStatement,
expression: this.filterChain()
};
},
filterChain: function() {
for (var e = this.expression(); this.expect("|"); ) e = this.filter(e);
return e;
},
expression: function() {
return this.assignment();
},
assignment: function() {
var e = this.ternary();
if (this.expect("=")) {
if (!on(e)) throw Jr("lval", "Trying to assign a value to a non l-value");
e = {
type: bo.AssignmentExpression,
left: e,
right: this.assignment(),
operator: "="
};
}
return e;
},
ternary: function() {
var e, t, n = this.logicalOR();
return this.expect("?") && (e = this.expression(), this.consume(":")) ? (t = this.expression(), {
type: bo.ConditionalExpression,
test: n,
alternate: e,
consequent: t
}) : n;
},
logicalOR: function() {
for (var e = this.logicalAND(); this.expect("||"); ) e = {
type: bo.LogicalExpression,
operator: "||",
left: e,
right: this.logicalAND()
};
return e;
},
logicalAND: function() {
for (var e = this.equality(); this.expect("&&"); ) e = {
type: bo.LogicalExpression,
operator: "&&",
left: e,
right: this.equality()
};
return e;
},
equality: function() {
for (var e, t = this.relational(); e = this.expect("==", "!=", "===", "!=="); ) t = {
type: bo.BinaryExpression,
operator: e.text,
left: t,
right: this.relational()
};
return t;
},
relational: function() {
for (var e, t = this.additive(); e = this.expect("<", ">", "<=", ">="); ) t = {
type: bo.BinaryExpression,
operator: e.text,
left: t,
right: this.additive()
};
return t;
},
additive: function() {
for (var e, t = this.multiplicative(); e = this.expect("+", "-"); ) t = {
type: bo.BinaryExpression,
operator: e.text,
left: t,
right: this.multiplicative()
};
return t;
},
multiplicative: function() {
for (var e, t = this.unary(); e = this.expect("*", "/", "%"); ) t = {
type: bo.BinaryExpression,
operator: e.text,
left: t,
right: this.unary()
};
return t;
},
unary: function() {
var e;
return (e = this.expect("+", "-", "!")) ? {
type: bo.UnaryExpression,
operator: e.text,
prefix: !0,
argument: this.unary()
} : this.primary();
},
primary: function() {
var e;
this.expect("(") ? (e = this.filterChain(), this.consume(")")) : this.expect("[") ? e = this.arrayDeclaration() : this.expect("{") ? e = this.object() : this.selfReferential.hasOwnProperty(this.peek().text) ? e = N(this.selfReferential[this.consume().text]) : this.options.literals.hasOwnProperty(this.peek().text) ? e = {
type: bo.Literal,
value: this.options.literals[this.consume().text]
} : this.peek().identifier ? e = this.identifier() : this.peek().constant ? e = this.constant() : this.throwError("not a primary expression", this.peek());
for (var t; t = this.expect("(", "[", "."); ) "(" === t.text ? (e = {
type: bo.CallExpression,
callee: e,
arguments: this.parseArguments()
}, this.consume(")")) : "[" === t.text ? (e = {
type: bo.MemberExpression,
object: e,
property: this.expression(),
computed: !0
}, this.consume("]")) : "." === t.text ? e = {
type: bo.MemberExpression,
object: e,
property: this.identifier(),
computed: !1
} : this.throwError("IMPOSSIBLE");
return e;
},
filter: function(e) {
for (var t = [ e ], n = {
type: bo.CallExpression,
callee: this.identifier(),
arguments: t,
filter: !0
}; this.expect(":"); ) t.push(this.expression());
return n;
},
parseArguments: function() {
var e = [];
if (")" !== this.peekToken().text) do {
e.push(this.filterChain());
} while (this.expect(","));
return e;
},
identifier: function() {
var e = this.consume();
return e.identifier || this.throwError("is not a valid identifier", e), {
type: bo.Identifier,
name: e.text
};
},
constant: function() {
return {
type: bo.Literal,
value: this.consume().value
};
},
arrayDeclaration: function() {
var e = [];
if ("]" !== this.peekToken().text) do {
if (this.peek("]")) break;
e.push(this.expression());
} while (this.expect(","));
return this.consume("]"), {
type: bo.ArrayExpression,
elements: e
};
},
object: function() {
var e, t = [];
if ("}" !== this.peekToken().text) do {
if (this.peek("}")) break;
e = {
type: bo.Property,
kind: "init"
}, this.peek().constant ? (e.key = this.constant(), e.computed = !1, this.consume(":"), e.value = this.expression()) : this.peek().identifier ? (e.key = this.identifier(), e.computed = !1, this.peek(":") ? (this.consume(":"), e.value = this.expression()) : e.value = e.key) : this.peek("[") ? (this.consume("["), e.key = this.expression(), this.consume("]"), e.computed = !0, this.consume(":"), e.value = this.expression()) : this.throwError("invalid key", this.peek()), t.push(e);
} while (this.expect(","));
return this.consume("}"), {
type: bo.ObjectExpression,
properties: t
};
},
throwError: function(e, t) {
throw Jr("syntax", "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].", t.text, e, t.index + 1, this.text, this.text.substring(t.index));
},
consume: function(e) {
if (0 === this.tokens.length) throw Jr("ueoe", "Unexpected end of expression: {0}", this.text);
var t = this.expect(e);
return t || this.throwError("is unexpected, expecting [" + e + "]", this.peek()), t;
},
peekToken: function() {
if (0 === this.tokens.length) throw Jr("ueoe", "Unexpected end of expression: {0}", this.text);
return this.tokens[0];
},
peek: function(e, t, n, i) {
return this.peekAhead(0, e, t, n, i);
},
peekAhead: function(e, t, n, i, r) {
if (this.tokens.length > e) {
var o = this.tokens[e], a = o.text;
if (a === t || a === n || a === i || a === r || !t && !n && !i && !r) return o;
}
return !1;
},
expect: function(e, t, n, i) {
var r = this.peek(e, t, n, i);
return !!r && (this.tokens.shift(), r);
},
selfReferential: {
this: {
type: bo.ThisExpression
},
$locals: {
type: bo.LocalsExpression
}
}
}, cn.prototype = {
compile: function(e, t) {
var n = this, r = this.astBuilder.ast(e);
this.state = {
nextId: 0,
filters: {},
expensiveChecks: t,
fn: {
vars: [],
body: [],
own: {}
},
assign: {
vars: [],
body: [],
own: {}
},
inputs: []
}, nn(r, n.$filter);
var o, a = "";
if (this.stage = "assign", o = an(r)) {
this.state.computing = "assign";
var s = this.nextId();
this.recurse(o, s), this.return_(s), a = "fn.assign=" + this.generateFunction("assign", "s,v,l");
}
var l = rn(r.body);
n.stage = "inputs", i(l, function(e, t) {
var i = "fn" + t;
n.state[i] = {
vars: [],
body: [],
own: {}
}, n.state.computing = i;
var r = n.nextId();
n.recurse(e, r), n.return_(r), n.state.inputs.push(i), e.watchId = t;
}), this.state.computing = "fn", this.stage = "main", this.recurse(r);
var c = '"' + this.USE + " " + this.STRICT + '";\n' + this.filterPrefix() + "var fn=" + this.generateFunction("fn", "s,l,a,i") + a + this.watchFns() + "return fn;", u = new Function("$filter", "ensureSafeMemberName", "ensureSafeObject", "ensureSafeFunction", "getStringValue", "ensureSafeAssignContext", "ifDefined", "plus", "text", c)(this.$filter, Yt, Xt, Qt, Kt, Jt, Zt, en, e);
return this.state = this.stage = void 0, u.literal = sn(r), u.constant = ln(r), u;
},
USE: "use",
STRICT: "strict",
watchFns: function() {
var e = [], t = this.state.inputs, n = this;
return i(t, function(t) {
e.push("var " + t + "=" + n.generateFunction(t, "s"));
}), t.length && e.push("fn.inputs=[" + t.join(",") + "];"), e.join("");
},
generateFunction: function(e, t) {
return "function(" + t + "){" + this.varsPrefix(e) + this.body(e) + "};";
},
filterPrefix: function() {
var e = [], t = this;
return i(this.state.filters, function(n, i) {
e.push(n + "=$filter(" + t.escape(i) + ")");
}), e.length ? "var " + e.join(",") + ";" : "";
},
varsPrefix: function(e) {
return this.state[e].vars.length ? "var " + this.state[e].vars.join(",") + ";" : "";
},
body: function(e) {
return this.state[e].body.join("");
},
recurse: function(e, t, n, r, o, a) {
var s, l, c, u, d, h = this;
if (r = r || p, !a && y(e.watchId)) return t = t || this.nextId(), void this.if_("i", this.lazyAssign(t, this.computedMember("i", e.watchId)), this.lazyRecurse(e, t, n, r, o, !0));
switch (e.type) {
case bo.Program:
i(e.body, function(t, n) {
h.recurse(t.expression, void 0, void 0, function(e) {
l = e;
}), n !== e.body.length - 1 ? h.current().body.push(l, ";") : h.return_(l);
});
break;

case bo.Literal:
u = this.escape(e.value), this.assign(t, u), r(u);
break;

case bo.UnaryExpression:
this.recurse(e.argument, void 0, void 0, function(e) {
l = e;
}), u = e.operator + "(" + this.ifDefined(l, 0) + ")", this.assign(t, u), r(u);
break;

case bo.BinaryExpression:
this.recurse(e.left, void 0, void 0, function(e) {
s = e;
}), this.recurse(e.right, void 0, void 0, function(e) {
l = e;
}), u = "+" === e.operator ? this.plus(s, l) : "-" === e.operator ? this.ifDefined(s, 0) + e.operator + this.ifDefined(l, 0) : "(" + s + ")" + e.operator + "(" + l + ")", this.assign(t, u), r(u);
break;

case bo.LogicalExpression:
t = t || this.nextId(), h.recurse(e.left, t), h.if_("&&" === e.operator ? t : h.not(t), h.lazyRecurse(e.right, t)), r(t);
break;

case bo.ConditionalExpression:
t = t || this.nextId(), h.recurse(e.test, t), h.if_(t, h.lazyRecurse(e.alternate, t), h.lazyRecurse(e.consequent, t)), r(t);
break;

case bo.Identifier:
t = t || this.nextId(), n && (n.context = "inputs" === h.stage ? "s" : this.assign(this.nextId(), this.getHasOwnProperty("l", e.name) + "?l:s"), n.computed = !1, n.name = e.name), Yt(e.name), h.if_("inputs" === h.stage || h.not(h.getHasOwnProperty("l", e.name)), function() {
h.if_("inputs" === h.stage || "s", function() {
o && 1 !== o && h.if_(h.not(h.nonComputedMember("s", e.name)), h.lazyAssign(h.nonComputedMember("s", e.name), "{}")), h.assign(t, h.nonComputedMember("s", e.name));
});
}, t && h.lazyAssign(t, h.nonComputedMember("l", e.name))), (h.state.expensiveChecks || dn(e.name)) && h.addEnsureSafeObject(t), r(t);
break;

case bo.MemberExpression:
s = n && (n.context = this.nextId()) || this.nextId(), t = t || this.nextId(), h.recurse(e.object, s, void 0, function() {
h.if_(h.notNull(s), function() {
o && 1 !== o && h.addEnsureSafeAssignContext(s), e.computed ? (l = h.nextId(), h.recurse(e.property, l), h.getStringValue(l), h.addEnsureSafeMemberName(l), o && 1 !== o && h.if_(h.not(h.computedMember(s, l)), h.lazyAssign(h.computedMember(s, l), "{}")), u = h.ensureSafeObject(h.computedMember(s, l)), h.assign(t, u), n && (n.computed = !0, n.name = l)) : (Yt(e.property.name), o && 1 !== o && h.if_(h.not(h.nonComputedMember(s, e.property.name)), h.lazyAssign(h.nonComputedMember(s, e.property.name), "{}")), u = h.nonComputedMember(s, e.property.name), (h.state.expensiveChecks || dn(e.property.name)) && (u = h.ensureSafeObject(u)), h.assign(t, u), n && (n.computed = !1, n.name = e.property.name));
}, function() {
h.assign(t, "undefined");
}), r(t);
}, !!o);
break;

case bo.CallExpression:
t = t || this.nextId(), e.filter ? (l = h.filter(e.callee.name), c = [], i(e.arguments, function(e) {
var t = h.nextId();
h.recurse(e, t), c.push(t);
}), u = l + "(" + c.join(",") + ")", h.assign(t, u), r(t)) : (l = h.nextId(), s = {}, c = [], h.recurse(e.callee, l, s, function() {
h.if_(h.notNull(l), function() {
h.addEnsureSafeFunction(l), i(e.arguments, function(e) {
h.recurse(e, h.nextId(), void 0, function(e) {
c.push(h.ensureSafeObject(e));
});
}), s.name ? (h.state.expensiveChecks || h.addEnsureSafeObject(s.context), u = h.member(s.context, s.name, s.computed) + "(" + c.join(",") + ")") : u = l + "(" + c.join(",") + ")", u = h.ensureSafeObject(u), h.assign(t, u);
}, function() {
h.assign(t, "undefined");
}), r(t);
}));
break;

case bo.AssignmentExpression:
l = this.nextId(), s = {}, this.recurse(e.left, void 0, s, function() {
h.if_(h.notNull(s.context), function() {
h.recurse(e.right, l), h.addEnsureSafeObject(h.member(s.context, s.name, s.computed)), h.addEnsureSafeAssignContext(s.context), u = h.member(s.context, s.name, s.computed) + e.operator + l, h.assign(t, u), r(t || u);
});
}, 1);
break;

case bo.ArrayExpression:
c = [], i(e.elements, function(e) {
h.recurse(e, h.nextId(), void 0, function(e) {
c.push(e);
});
}), u = "[" + c.join(",") + "]", this.assign(t, u), r(u);
break;

case bo.ObjectExpression:
c = [], d = !1, i(e.properties, function(e) {
e.computed && (d = !0);
}), d ? (t = t || this.nextId(), this.assign(t, "{}"), i(e.properties, function(e) {
e.computed ? (s = h.nextId(), h.recurse(e.key, s)) : s = e.key.type === bo.Identifier ? e.key.name : "" + e.key.value, l = h.nextId(), h.recurse(e.value, l), h.assign(h.member(t, s, e.computed), l);
})) : (i(e.properties, function(t) {
h.recurse(t.value, e.constant ? void 0 : h.nextId(), void 0, function(e) {
c.push(h.escape(t.key.type === bo.Identifier ? t.key.name : "" + t.key.value) + ":" + e);
});
}), u = "{" + c.join(",") + "}", this.assign(t, u)), r(t || u);
break;

case bo.ThisExpression:
this.assign(t, "s"), r("s");
break;

case bo.LocalsExpression:
this.assign(t, "l"), r("l");
break;

case bo.NGValueParameter:
this.assign(t, "v"), r("v");
}
},
getHasOwnProperty: function(e, t) {
var n = e + "." + t, i = this.current().own;
return i.hasOwnProperty(n) || (i[n] = this.nextId(!1, e + "&&(" + this.escape(t) + " in " + e + ")")), i[n];
},
assign: function(e, t) {
if (e) return this.current().body.push(e, "=", t, ";"), e;
},
filter: function(e) {
return this.state.filters.hasOwnProperty(e) || (this.state.filters[e] = this.nextId(!0)), this.state.filters[e];
},
ifDefined: function(e, t) {
return "ifDefined(" + e + "," + this.escape(t) + ")";
},
plus: function(e, t) {
return "plus(" + e + "," + t + ")";
},
return_: function(e) {
this.current().body.push("return ", e, ";");
},
if_: function(e, t, n) {
if (!0 === e) t(); else {
var i = this.current().body;
i.push("if(", e, "){"), t(), i.push("}"), n && (i.push("else{"), n(), i.push("}"));
}
},
not: function(e) {
return "!(" + e + ")";
},
notNull: function(e) {
return e + "!=null";
},
nonComputedMember: function(e, t) {
var n = /[^$_a-zA-Z0-9]/g;
return /^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t) ? e + "." + t : e + '["' + t.replace(n, this.stringEscapeFn) + '"]';
},
computedMember: function(e, t) {
return e + "[" + t + "]";
},
member: function(e, t, n) {
return n ? this.computedMember(e, t) : this.nonComputedMember(e, t);
},
addEnsureSafeObject: function(e) {
this.current().body.push(this.ensureSafeObject(e), ";");
},
addEnsureSafeMemberName: function(e) {
this.current().body.push(this.ensureSafeMemberName(e), ";");
},
addEnsureSafeFunction: function(e) {
this.current().body.push(this.ensureSafeFunction(e), ";");
},
addEnsureSafeAssignContext: function(e) {
this.current().body.push(this.ensureSafeAssignContext(e), ";");
},
ensureSafeObject: function(e) {
return "ensureSafeObject(" + e + ",text)";
},
ensureSafeMemberName: function(e) {
return "ensureSafeMemberName(" + e + ",text)";
},
ensureSafeFunction: function(e) {
return "ensureSafeFunction(" + e + ",text)";
},
getStringValue: function(e) {
this.assign(e, "getStringValue(" + e + ")");
},
ensureSafeAssignContext: function(e) {
return "ensureSafeAssignContext(" + e + ",text)";
},
lazyRecurse: function(e, t, n, i, r, o) {
var a = this;
return function() {
a.recurse(e, t, n, i, r, o);
};
},
lazyAssign: function(e, t) {
var n = this;
return function() {
n.assign(e, t);
};
},
stringEscapeRegex: /[^ a-zA-Z0-9]/g,
stringEscapeFn: function(e) {
return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4);
},
escape: function(e) {
if (x(e)) return "'" + e.replace(this.stringEscapeRegex, this.stringEscapeFn) + "'";
if (C(e)) return e.toString();
if (!0 === e) return "true";
if (!1 === e) return "false";
if (null === e) return "null";
if (void 0 === e) return "undefined";
throw Jr("esc", "IMPOSSIBLE");
},
nextId: function(e, t) {
var n = "v" + this.state.nextId++;
return e || this.current().vars.push(n + (t ? "=" + t : "")), n;
},
current: function() {
return this.state[this.state.computing];
}
}, un.prototype = {
compile: function(e, t) {
var n = this, r = this.astBuilder.ast(e);
this.expression = e, this.expensiveChecks = t, nn(r, n.$filter);
var o, a;
(o = an(r)) && (a = this.recurse(o));
var s, l = rn(r.body);
l && (s = [], i(l, function(e, t) {
var i = n.recurse(e);
e.input = i, s.push(i), e.watchId = t;
}));
var c = [];
i(r.body, function(e) {
c.push(n.recurse(e.expression));
});
var u = 0 === r.body.length ? p : 1 === r.body.length ? c[0] : function(e, t) {
var n;
return i(c, function(i) {
n = i(e, t);
}), n;
};
return a && (u.assign = function(e, t, n) {
return a(e, n, t);
}), s && (u.inputs = s), u.literal = sn(r), u.constant = ln(r), u;
},
recurse: function(e, t, n) {
var r, o, a, s = this;
if (e.input) return this.inputs(e.input, e.watchId);
switch (e.type) {
case bo.Literal:
return this.value(e.value, t);

case bo.UnaryExpression:
return o = this.recurse(e.argument), this["unary" + e.operator](o, t);

case bo.BinaryExpression:
case bo.LogicalExpression:
return r = this.recurse(e.left), o = this.recurse(e.right), this["binary" + e.operator](r, o, t);

case bo.ConditionalExpression:
return this["ternary?:"](this.recurse(e.test), this.recurse(e.alternate), this.recurse(e.consequent), t);

case bo.Identifier:
return Yt(e.name, s.expression), s.identifier(e.name, s.expensiveChecks || dn(e.name), t, n, s.expression);

case bo.MemberExpression:
return r = this.recurse(e.object, !1, !!n), e.computed || (Yt(e.property.name, s.expression), o = e.property.name), e.computed && (o = this.recurse(e.property)), e.computed ? this.computedMember(r, o, t, n, s.expression) : this.nonComputedMember(r, o, s.expensiveChecks, t, n, s.expression);

case bo.CallExpression:
return a = [], i(e.arguments, function(e) {
a.push(s.recurse(e));
}), e.filter && (o = this.$filter(e.callee.name)), e.filter || (o = this.recurse(e.callee, !0)), e.filter ? function(e, n, i, r) {
for (var s = [], l = 0; l < a.length; ++l) s.push(a[l](e, n, i, r));
var c = o.apply(void 0, s, r);
return t ? {
context: void 0,
name: void 0,
value: c
} : c;
} : function(e, n, i, r) {
var l, c = o(e, n, i, r);
if (null != c.value) {
Xt(c.context, s.expression), Qt(c.value, s.expression);
for (var u = [], d = 0; d < a.length; ++d) u.push(Xt(a[d](e, n, i, r), s.expression));
l = Xt(c.value.apply(c.context, u), s.expression);
}
return t ? {
value: l
} : l;
};

case bo.AssignmentExpression:
return r = this.recurse(e.left, !0, 1), o = this.recurse(e.right), function(e, n, i, a) {
var l = r(e, n, i, a), c = o(e, n, i, a);
return Xt(l.value, s.expression), Jt(l.context), l.context[l.name] = c, t ? {
value: c
} : c;
};

case bo.ArrayExpression:
return a = [], i(e.elements, function(e) {
a.push(s.recurse(e));
}), function(e, n, i, r) {
for (var o = [], s = 0; s < a.length; ++s) o.push(a[s](e, n, i, r));
return t ? {
value: o
} : o;
};

case bo.ObjectExpression:
return a = [], i(e.properties, function(e) {
e.computed ? a.push({
key: s.recurse(e.key),
computed: !0,
value: s.recurse(e.value)
}) : a.push({
key: e.key.type === bo.Identifier ? e.key.name : "" + e.key.value,
computed: !1,
value: s.recurse(e.value)
});
}), function(e, n, i, r) {
for (var o = {}, s = 0; s < a.length; ++s) a[s].computed ? o[a[s].key(e, n, i, r)] = a[s].value(e, n, i, r) : o[a[s].key] = a[s].value(e, n, i, r);
return t ? {
value: o
} : o;
};

case bo.ThisExpression:
return function(e) {
return t ? {
value: e
} : e;
};

case bo.LocalsExpression:
return function(e, n) {
return t ? {
value: n
} : n;
};

case bo.NGValueParameter:
return function(e, n, i) {
return t ? {
value: i
} : i;
};
}
},
"unary+": function(e, t) {
return function(n, i, r, o) {
var a = e(n, i, r, o);
return a = y(a) ? +a : 0, t ? {
value: a
} : a;
};
},
"unary-": function(e, t) {
return function(n, i, r, o) {
var a = e(n, i, r, o);
return a = y(a) ? -a : 0, t ? {
value: a
} : a;
};
},
"unary!": function(e, t) {
return function(n, i, r, o) {
var a = !e(n, i, r, o);
return t ? {
value: a
} : a;
};
},
"binary+": function(e, t, n) {
return function(i, r, o, a) {
var s = en(e(i, r, o, a), t(i, r, o, a));
return n ? {
value: s
} : s;
};
},
"binary-": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a), l = t(i, r, o, a), c = (y(s) ? s : 0) - (y(l) ? l : 0);
return n ? {
value: c
} : c;
};
},
"binary*": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) * t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary/": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) / t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary%": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) % t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary===": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) === t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary!==": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) !== t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary==": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) == t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary!=": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) != t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary<": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) < t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary>": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) > t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary<=": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) <= t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary>=": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) >= t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary&&": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) && t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"binary||": function(e, t, n) {
return function(i, r, o, a) {
var s = e(i, r, o, a) || t(i, r, o, a);
return n ? {
value: s
} : s;
};
},
"ternary?:": function(e, t, n, i) {
return function(r, o, a, s) {
var l = e(r, o, a, s) ? t(r, o, a, s) : n(r, o, a, s);
return i ? {
value: l
} : l;
};
},
value: function(e, t) {
return function() {
return t ? {
context: void 0,
name: void 0,
value: e
} : e;
};
},
identifier: function(e, t, n, i, r) {
return function(o, a, s, l) {
var c = a && e in a ? a : o;
i && 1 !== i && c && !c[e] && (c[e] = {});
var u = c ? c[e] : void 0;
return t && Xt(u, r), n ? {
context: c,
name: e,
value: u
} : u;
};
},
computedMember: function(e, t, n, i, r) {
return function(o, a, s, l) {
var c, u, d = e(o, a, s, l);
return null != d && (Yt(c = Kt(c = t(o, a, s, l)), r), i && 1 !== i && (Jt(d), d && !d[c] && (d[c] = {})), Xt(u = d[c], r)), n ? {
context: d,
name: c,
value: u
} : u;
};
},
nonComputedMember: function(e, t, n, i, r, o) {
return function(a, s, l, c) {
var u = e(a, s, l, c);
r && 1 !== r && (Jt(u), u && !u[t] && (u[t] = {}));
var d = null != u ? u[t] : void 0;
return (n || dn(t)) && Xt(d, o), i ? {
context: u,
name: t,
value: d
} : d;
};
},
inputs: function(e, t) {
return function(n, i, r, o) {
return o ? o[t] : e(n, i, r);
};
}
};
var wo = function(e, t, n) {
this.lexer = e, this.$filter = t, this.options = n, this.ast = new bo(e, n), this.astCompiler = n.csp ? new un(this.ast, t) : new cn(this.ast, t);
};
wo.prototype = {
constructor: wo,
parse: function(e) {
return this.astCompiler.compile(e, this.options.expensiveChecks);
}
};
var xo = t("$sce"), Co = {
HTML: "html",
CSS: "css",
URL: "url",
RESOURCE_URL: "resourceUrl",
JS: "js"
}, _o = t("$compile"), So = e.document.createElement("a"), $o = En(e.location.href);
Fn.$inject = [ "$document" ], In.$inject = [ "$provide" ];
var Ao = 22, ko = ".", Eo = "0";
Bn.$inject = [ "$locale" ], Nn.$inject = [ "$locale" ];
var To = {
yyyy: zn("FullYear", 4, 0, !1, !0),
yy: zn("FullYear", 2, 0, !0, !0),
y: zn("FullYear", 1, 0, !1, !0),
MMMM: Wn("Month"),
MMM: Wn("Month", !0),
MM: zn("Month", 2, 1),
M: zn("Month", 1, 1),
LLLL: Wn("Month", !1, !0),
dd: zn("Date", 2),
d: zn("Date", 1),
HH: zn("Hours", 2),
H: zn("Hours", 1),
hh: zn("Hours", 2, -12),
h: zn("Hours", 1, -12),
mm: zn("Minutes", 2),
m: zn("Minutes", 1),
ss: zn("Seconds", 2),
s: zn("Seconds", 1),
sss: zn("Milliseconds", 3),
EEEE: Wn("Day"),
EEE: Wn("Day", !0),
a: function(e, t) {
return e.getHours() < 12 ? t.AMPMS[0] : t.AMPMS[1];
},
Z: function(e, t, n) {
var i = -1 * n, r = i >= 0 ? "+" : "";
return r += Hn(Math[i > 0 ? "floor" : "ceil"](i / 60), 2) + Hn(Math.abs(i % 60), 2);
},
ww: Yn(2),
w: Yn(1),
G: Kn,
GG: Kn,
GGG: Kn,
GGGG: function(e, t) {
return e.getFullYear() <= 0 ? t.ERANAMES[0] : t.ERANAMES[1];
}
}, Do = /((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/, Fo = /^-?\d+$/;
Xn.$inject = [ "$locale" ];
var Mo = g(xi), Io = g(Ci);
ei.$inject = [ "$parse" ];
var Lo = g({
restrict: "E",
compile: function(e, t) {
if (!t.href && !t.xlinkHref) return function(e, t) {
if ("a" === t[0].nodeName.toLowerCase()) {
var n = "[object SVGAnimatedString]" === Di.call(t.prop("href")) ? "xlink:href" : "href";
t.on("click", function(e) {
t.attr(n) || e.preventDefault();
});
}
};
}
}), Po = {};
i(fr, function(e, t) {
function n(e, n, r) {
e.$watch(r[i], function(e) {
r.$set(t, !!e);
});
}
if ("multiple" !== e) {
var i = ut("ng-" + t), r = n;
"checked" === e && (r = function(e, t, r) {
r.ngModel !== r[i] && n(e, 0, r);
}), Po[i] = function() {
return {
restrict: "A",
priority: 100,
link: r
};
};
}
}), i(mr, function(e, t) {
Po[t] = function() {
return {
priority: 100,
link: function(e, n, i) {
if ("ngPattern" === t && "/" === i.ngPattern.charAt(0)) {
var r = i.ngPattern.match(yi);
if (r) return void i.$set("ngPattern", new RegExp(r[1], r[2]));
}
e.$watch(i[t], function(e) {
i.$set(t, e);
});
}
};
};
}), i([ "src", "srcset", "href" ], function(e) {
var t = ut("ng-" + e);
Po[t] = function() {
return {
priority: 99,
link: function(n, i, r) {
var o = e, a = e;
"href" === e && "[object SVGAnimatedString]" === Di.call(i.prop("href")) && (a = "xlinkHref", r.$attr[a] = "xlink:href", o = null), r.$observe(t, function(t) {
t ? (r.$set(a, t), _i && o && i.prop(o, r[a])) : "href" === e && r.$set(a, null);
});
}
};
};
});
var Oo = {
$addControl: p,
$$renameControl: function(e, t) {
e.$name = t;
},
$removeControl: p,
$setValidity: p,
$setDirty: p,
$setPristine: p,
$setSubmitted: p
}, Ro = "ng-submitted";
ni.$inject = [ "$element", "$attrs", "$scope", "$animate", "$interpolate" ];
var Bo = function(e) {
return [ "$timeout", "$parse", function(t, n) {
function i(e) {
return "" === e ? n('this[""]').assign : n(e).assign || p;
}
return {
name: "form",
restrict: e ? "EAC" : "E",
require: [ "form", "^^?form" ],
controller: ni,
compile: function(n, r) {
n.addClass(wa).addClass(ya);
var o = r.name ? "name" : !(!e || !r.ngForm) && "ngForm";
return {
pre: function(e, n, r, a) {
var s = a[0];
if (!("action" in r)) {
var l = function(t) {
e.$apply(function() {
s.$commitViewValue(), s.$setSubmitted();
}), t.preventDefault();
};
tr(n[0], "submit", l), n.on("$destroy", function() {
t(function() {
nr(n[0], "submit", l);
}, 0, !1);
});
}
(a[1] || s.$$parentForm).$addControl(s);
var u = o ? i(s.$name) : p;
o && (u(e, s), r.$observe(o, function(t) {
s.$name !== t && (u(e, void 0), s.$$parentForm.$$renameControl(s, t), (u = i(s.$name))(e, s));
})), n.on("$destroy", function() {
s.$$parentForm.$removeControl(s), u(e, void 0), c(s, Oo);
});
}
};
}
};
} ];
}, No = Bo(), jo = Bo(!0), Uo = /^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/, Vo = /^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i, Ho = /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/, zo = /^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/, Wo = /^(\d{4,})-(\d{2})-(\d{2})$/, Go = /^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, qo = /^(\d{4,})-W(\d\d)$/, Yo = /^(\d{4,})-(\d\d)$/, Ko = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, Xo = "keydown wheel mousedown", Qo = pe();
i("date,datetime-local,month,time,week".split(","), function(e) {
Qo[e] = !0;
});
var Jo = {
text: function(e, t, n, i, r, o) {
ri(e, t, n, i, r, o), ii(i);
},
date: ai("date", Wo, oi(Wo, [ "yyyy", "MM", "dd" ]), "yyyy-MM-dd"),
"datetime-local": ai("datetimelocal", Go, oi(Go, [ "yyyy", "MM", "dd", "HH", "mm", "ss", "sss" ]), "yyyy-MM-ddTHH:mm:ss.sss"),
time: ai("time", Ko, oi(Ko, [ "HH", "mm", "ss", "sss" ]), "HH:mm:ss.sss"),
week: ai("week", qo, function(e, t) {
if (_(e)) return e;
if (x(e)) {
qo.lastIndex = 0;
var n = qo.exec(e);
if (n) {
var i = +n[1], r = +n[2], o = 0, a = 0, s = 0, l = 0, c = Gn(i), u = 7 * (r - 1);
return t && (o = t.getHours(), a = t.getMinutes(), s = t.getSeconds(), l = t.getMilliseconds()), new Date(i, 0, c.getDate() + u, o, a, s, l);
}
}
return NaN;
}, "yyyy-Www"),
month: ai("month", Yo, oi(Yo, [ "yyyy", "MM" ]), "yyyy-MM"),
number: function(e, t, n, i, r, o) {
si(e, t, n, i), ri(e, t, n, i, r, o), li(i);
var a, s;
(y(n.min) || n.ngMin) && (i.$validators.min = function(e) {
return i.$isEmpty(e) || v(a) || e >= a;
}, n.$observe("min", function(e) {
a = ci(e), i.$validate();
})), (y(n.max) || n.ngMax) && (i.$validators.max = function(e) {
return i.$isEmpty(e) || v(s) || e <= s;
}, n.$observe("max", function(e) {
s = ci(e), i.$validate();
}));
},
url: function(e, t, n, i, r, o) {
ri(e, t, n, i, r, o), ii(i), i.$$parserName = "url", i.$validators.url = function(e, t) {
var n = e || t;
return i.$isEmpty(n) || Vo.test(n);
};
},
email: function(e, t, n, i, r, o) {
ri(e, t, n, i, r, o), ii(i), i.$$parserName = "email", i.$validators.email = function(e, t) {
var n = e || t;
return i.$isEmpty(n) || Ho.test(n);
};
},
radio: function(e, t, n, i) {
v(n.name) && t.attr("name", a());
t.on("click", function(e) {
t[0].checked && i.$setViewValue(n.value, e && e.type);
}), i.$render = function() {
var e = n.value;
t[0].checked = e == i.$viewValue;
}, n.$observe("value", i.$render);
},
range: function(e, t, n, i, r, o) {
function a(e, i) {
t.attr(e, n[e]), n.$observe(e, i);
}
si(e, t, n, i), li(i), ri(e, t, n, i, r, o);
var s = i.$$hasNativeValidators && "range" === t[0].type, l = s ? 0 : void 0, c = s ? 100 : void 0, u = s ? 1 : void 0, d = t[0].validity, h = y(n.min), p = y(n.max), f = y(n.step), g = i.$render;
i.$render = s && y(d.rangeUnderflow) && y(d.rangeOverflow) ? function() {
g(), i.$setViewValue(t.val());
} : g, h && (i.$validators.min = s ? function() {
return !0;
} : function(e, t) {
return i.$isEmpty(t) || v(l) || t >= l;
}, a("min", function(e) {
if (l = ci(e), !Pi(i.$modelValue)) if (s) {
var n = t.val();
l > n && (n = l, t.val(n)), i.$setViewValue(n);
} else i.$validate();
})), p && (i.$validators.max = s ? function() {
return !0;
} : function(e, t) {
return i.$isEmpty(t) || v(c) || t <= c;
}, a("max", function(e) {
if (c = ci(e), !Pi(i.$modelValue)) if (s) {
var n = t.val();
c < n && (t.val(c), n = c < l ? l : c), i.$setViewValue(n);
} else i.$validate();
})), f && (i.$validators.step = s ? function() {
return !d.stepMismatch;
} : function(e, t) {
return i.$isEmpty(t) || v(u) || hi(t, l || 0, u);
}, a("step", function(e) {
u = ci(e), Pi(i.$modelValue) || (s && i.$viewValue !== t.val() ? i.$setViewValue(t.val()) : i.$validate());
}));
},
checkbox: function(e, t, n, i, r, o, a, s) {
var l = pi(s, e, "ngTrueValue", n.ngTrueValue, !0), c = pi(s, e, "ngFalseValue", n.ngFalseValue, !1);
t.on("click", function(e) {
i.$setViewValue(t[0].checked, e && e.type);
}), i.$render = function() {
t[0].checked = i.$viewValue;
}, i.$isEmpty = function(e) {
return !1 === e;
}, i.$formatters.push(function(e) {
return j(e, l);
}), i.$parsers.push(function(e) {
return e ? l : c;
});
},
hidden: p,
button: p,
submit: p,
reset: p,
file: p
}, Zo = [ "$browser", "$sniffer", "$filter", "$parse", function(e, t, n, i) {
return {
restrict: "E",
require: [ "?ngModel" ],
link: {
pre: function(r, o, a, s) {
if (s[0]) {
var l = xi(a.type);
"range" !== l || a.hasOwnProperty("ngInputRange") || (l = "text"), (Jo[l] || Jo.text)(r, o, a, s[0], t, e, n, i);
}
}
}
};
} ], ea = /^(true|false|\d+)$/, ta = function() {
return {
restrict: "A",
priority: 100,
compile: function(e, t) {
return ea.test(t.ngValue) ? function(e, t, n) {
n.$set("value", e.$eval(n.ngValue));
} : function(e, t, n) {
e.$watch(n.ngValue, function(e) {
n.$set("value", e);
});
};
}
};
}, na = [ "$compile", function(e) {
return {
restrict: "AC",
compile: function(t) {
return e.$$addBindingClass(t), function(t, n, i) {
e.$$addBindingInfo(n, i.ngBind), n = n[0], t.$watch(i.ngBind, function(e) {
n.textContent = v(e) ? "" : e;
});
};
}
};
} ], ia = [ "$interpolate", "$compile", function(e, t) {
return {
compile: function(n) {
return t.$$addBindingClass(n), function(n, i, r) {
var o = e(i.attr(r.$attr.ngBindTemplate));
t.$$addBindingInfo(i, o.expressions), i = i[0], r.$observe("ngBindTemplate", function(e) {
i.textContent = v(e) ? "" : e;
});
};
}
};
} ], ra = [ "$sce", "$parse", "$compile", function(e, t, n) {
return {
restrict: "A",
compile: function(i, r) {
var o = t(r.ngBindHtml), a = t(r.ngBindHtml, function(t) {
return e.valueOf(t);
});
return n.$$addBindingClass(i), function(t, i, r) {
n.$$addBindingInfo(i, r.ngBindHtml), t.$watch(a, function() {
var n = o(t);
i.html(e.getTrustedHtml(n) || "");
});
};
}
};
} ], oa = g({
restrict: "A",
require: "ngModel",
link: function(e, t, n, i) {
i.$viewChangeListeners.push(function() {
e.$eval(n.ngChange);
});
}
}), aa = fi("", !0), sa = fi("Odd", 0), la = fi("Even", 1), ca = ti({
compile: function(e, t) {
t.$set("ngCloak", void 0), e.removeClass("ng-cloak");
}
}), ua = [ function() {
return {
restrict: "A",
scope: !0,
controller: "@",
priority: 500
};
} ], da = {}, ha = {
blur: !0,
focus: !0
};
i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function(e) {
var t = ut("ng-" + e);
da[t] = [ "$parse", "$rootScope", function(n, i) {
return {
restrict: "A",
compile: function(r, o) {
var a = n(o[t], null, !0);
return function(t, n) {
n.on(e, function(n) {
var r = function() {
a(t, {
$event: n
});
};
ha[e] && i.$$phase ? t.$evalAsync(r) : t.$apply(r);
});
};
}
};
} ];
});
var pa = [ "$animate", "$compile", function(e, t) {
return {
multiElement: !0,
transclude: "element",
priority: 600,
terminal: !0,
restrict: "A",
$$tlb: !0,
link: function(n, i, r, o, a) {
var s, l, c;
n.$watch(r.ngIf, function(n) {
n ? l || a(function(n, o) {
l = o, n[n.length++] = t.$$createComment("end ngIf", r.ngIf), s = {
clone: n
}, e.enter(n, i.parent(), i);
}) : (c && (c.remove(), c = null), l && (l.$destroy(), l = null), s && (c = he(s.clone), e.leave(c).done(function(e) {
!1 !== e && (c = null);
}), s = null));
});
}
};
} ], fa = [ "$templateRequest", "$anchorScroll", "$animate", function(e, t, n) {
return {
restrict: "ECA",
priority: 400,
terminal: !0,
transclude: "element",
controller: Ii.noop,
compile: function(i, r) {
var o = r.ngInclude || r.src, a = r.onload || "", s = r.autoscroll;
return function(i, r, l, c, u) {
var d, h, p, f = 0, g = function() {
h && (h.remove(), h = null), d && (d.$destroy(), d = null), p && (n.leave(p).done(function(e) {
!1 !== e && (h = null);
}), h = p, p = null);
};
i.$watch(o, function(o) {
var l = function(e) {
!1 === e || !y(s) || s && !i.$eval(s) || t();
}, h = ++f;
o ? (e(o, !0).then(function(e) {
if (!i.$$destroyed && h === f) {
var t = i.$new();
c.template = e;
var s = u(t, function(e) {
g(), n.enter(e, null, r).done(l);
});
p = s, (d = t).$emit("$includeContentLoaded", o), i.$eval(a);
}
}, function() {
i.$$destroyed || h === f && (g(), i.$emit("$includeContentError", o));
}), i.$emit("$includeContentRequested", o)) : (g(), c.template = null);
});
};
}
};
} ], ga = [ "$compile", function(t) {
return {
restrict: "ECA",
priority: -400,
require: "ngInclude",
link: function(n, i, r, o) {
if (Di.call(i[0]).match(/SVG/)) return i.empty(), void t(Ce(o.template, e.document).childNodes)(n, function(e) {
i.append(e);
}, {
futureParentElement: i
});
i.html(o.template), t(i.contents())(n);
}
};
} ], ma = ti({
priority: 450,
compile: function() {
return {
pre: function(e, t, n) {
e.$eval(n.ngInit);
}
};
}
}), va = function() {
return {
restrict: "A",
priority: 100,
require: "ngModel",
link: function(e, t, n, r) {
var o = t.attr(n.$attr.ngList) || ", ", a = "false" !== n.ngTrim, s = a ? Bi(o) : o;
r.$parsers.push(function(e) {
if (!v(e)) {
var t = [];
return e && i(e.split(s), function(e) {
e && t.push(a ? Bi(e) : e);
}), t;
}
}), r.$formatters.push(function(e) {
if (Oi(e)) return e.join(o);
}), r.$isEmpty = function(e) {
return !e || !e.length;
};
}
};
}, ya = "ng-valid", ba = "ng-invalid", wa = "ng-pristine", xa = "ng-dirty", Ca = "ng-pending", _a = t("ngModel"), Sa = [ "$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", "$timeout", "$rootScope", "$q", "$interpolate", function(e, t, n, r, o, a, s, l, c, u) {
this.$viewValue = Number.NaN, this.$modelValue = Number.NaN, this.$$rawModelValue = void 0, this.$validators = {}, this.$asyncValidators = {}, this.$parsers = [], this.$formatters = [], this.$viewChangeListeners = [], this.$untouched = !0, this.$touched = !1, this.$pristine = !0, this.$dirty = !1, this.$valid = !0, this.$invalid = !1, this.$error = {}, this.$$success = {}, this.$pending = void 0, this.$name = u(n.name || "", !1)(e), this.$$parentForm = Oo;
var d, h = o(n.ngModel), f = h.assign, g = h, m = f, b = null, w = this;
this.$$setOptions = function(e) {
if (w.$options = e, e && e.getterSetter) {
var t = o(n.ngModel + "()"), i = o(n.ngModel + "($$$p)");
g = function(e) {
var n = h(e);
return S(n) && (n = t(e)), n;
}, m = function(e, t) {
S(h(e)) ? i(e, {
$$$p: t
}) : f(e, t);
};
} else if (!h.assign) throw _a("nonassign", "Expression '{0}' is non-assignable. Element: {1}", n.ngModel, X(r));
}, this.$render = p, this.$isEmpty = function(e) {
return v(e) || "" === e || null === e || e !== e;
}, this.$$updateEmptyClasses = function(e) {
w.$isEmpty(e) ? (a.removeClass(r, "ng-not-empty"), a.addClass(r, "ng-empty")) : (a.removeClass(r, "ng-empty"), a.addClass(r, "ng-not-empty"));
};
var x = 0;
gi({
ctrl: this,
$element: r,
set: function(e, t) {
e[t] = !0;
},
unset: function(e, t) {
delete e[t];
},
$animate: a
}), this.$setPristine = function() {
w.$dirty = !1, w.$pristine = !0, a.removeClass(r, xa), a.addClass(r, wa);
}, this.$setDirty = function() {
w.$dirty = !0, w.$pristine = !1, a.removeClass(r, wa), a.addClass(r, xa), w.$$parentForm.$setDirty();
}, this.$setUntouched = function() {
w.$touched = !1, w.$untouched = !0, a.setClass(r, "ng-untouched", "ng-touched");
}, this.$setTouched = function() {
w.$touched = !0, w.$untouched = !1, a.setClass(r, "ng-touched", "ng-untouched");
}, this.$rollbackViewValue = function() {
s.cancel(b), w.$viewValue = w.$$lastCommittedViewValue, w.$render();
}, this.$validate = function() {
if (!Pi(w.$modelValue)) {
var e = w.$$lastCommittedViewValue, t = w.$$rawModelValue, n = w.$valid, i = w.$modelValue, r = w.$options && w.$options.allowInvalid;
w.$$runValidators(t, e, function(e) {
r || n === e || (w.$modelValue = e ? t : void 0, w.$modelValue !== i && w.$$writeModelToScope());
});
}
}, this.$$runValidators = function(e, t, n) {
function r(e, t) {
a === x && w.$setValidity(e, t);
}
function o(e) {
a === x && n(e);
}
var a = ++x;
!function() {
var e = w.$$parserName || "parse";
return v(d) ? (r(e, null), !0) : (d || (i(w.$validators, function(e, t) {
r(t, null);
}), i(w.$asyncValidators, function(e, t) {
r(t, null);
})), r(e, d), d);
}() ? o(!1) : function() {
var n = !0;
return i(w.$validators, function(i, o) {
var a = i(e, t);
n = n && a, r(o, a);
}), !!n || (i(w.$asyncValidators, function(e, t) {
r(t, null);
}), !1);
}() ? function() {
var n = [], a = !0;
i(w.$asyncValidators, function(i, o) {
var s = i(e, t);
if (!M(s)) throw _a("nopromise", "Expected asynchronous validator to return a promise but got '{0}' instead.", s);
r(o, void 0), n.push(s.then(function() {
r(o, !0);
}, function() {
a = !1, r(o, !1);
}));
}), n.length ? c.all(n).then(function() {
o(a);
}, p) : o(!0);
}() : o(!1);
}, this.$commitViewValue = function() {
var e = w.$viewValue;
s.cancel(b), (w.$$lastCommittedViewValue !== e || "" === e && w.$$hasNativeValidators) && (w.$$updateEmptyClasses(e), w.$$lastCommittedViewValue = e, w.$pristine && this.$setDirty(), this.$$parseAndValidate());
}, this.$$parseAndValidate = function() {
function t() {
w.$modelValue !== r && w.$$writeModelToScope();
}
var n = w.$$lastCommittedViewValue;
if (d = !v(n) || void 0) for (var i = 0; i < w.$parsers.length; i++) if (n = w.$parsers[i](n), v(n)) {
d = !1;
break;
}
Pi(w.$modelValue) && (w.$modelValue = g(e));
var r = w.$modelValue, o = w.$options && w.$options.allowInvalid;
w.$$rawModelValue = n, o && (w.$modelValue = n, t()), w.$$runValidators(n, w.$$lastCommittedViewValue, function(e) {
o || (w.$modelValue = e ? n : void 0, t());
});
}, this.$$writeModelToScope = function() {
m(e, w.$modelValue), i(w.$viewChangeListeners, function(e) {
try {
e();
} catch (e) {
t(e);
}
});
}, this.$setViewValue = function(e, t) {
w.$viewValue = e, w.$options && !w.$options.updateOnDefault || w.$$debounceViewValueCommit(t);
}, this.$$debounceViewValueCommit = function(t) {
var n, i = 0, r = w.$options;
r && y(r.debounce) && (C(n = r.debounce) ? i = n : C(n[t]) ? i = n[t] : C(n.default) && (i = n.default)), s.cancel(b), i ? b = s(function() {
w.$commitViewValue();
}, i) : l.$$phase ? w.$commitViewValue() : e.$apply(function() {
w.$commitViewValue();
});
}, e.$watch(function() {
var t = g(e);
if (t !== w.$modelValue && (w.$modelValue === w.$modelValue || t === t)) {
w.$modelValue = w.$$rawModelValue = t, d = void 0;
for (var n = w.$formatters, i = n.length, r = t; i--; ) r = n[i](r);
w.$viewValue !== r && (w.$$updateEmptyClasses(r), w.$viewValue = w.$$lastCommittedViewValue = r, w.$render(), w.$$runValidators(w.$modelValue, w.$viewValue, p));
}
return t;
});
} ], $a = [ "$rootScope", function(e) {
return {
restrict: "A",
require: [ "ngModel", "^?form", "^?ngModelOptions" ],
controller: Sa,
priority: 1,
compile: function(t) {
return t.addClass(wa).addClass("ng-untouched").addClass(ya), {
pre: function(e, t, n, i) {
var r = i[0], o = i[1] || r.$$parentForm;
r.$$setOptions(i[2] && i[2].$options), o.$addControl(r), n.$observe("name", function(e) {
r.$name !== e && r.$$parentForm.$$renameControl(r, e);
}), e.$on("$destroy", function() {
r.$$parentForm.$removeControl(r);
});
},
post: function(t, n, i, r) {
var o = r[0];
o.$options && o.$options.updateOn && n.on(o.$options.updateOn, function(e) {
o.$$debounceViewValueCommit(e && e.type);
}), n.on("blur", function() {
o.$touched || (e.$$phase ? t.$evalAsync(o.$setTouched) : t.$apply(o.$setTouched));
});
}
};
}
};
} ], Aa = /(\s+|^)default(\s+|$)/, ka = function() {
return {
restrict: "A",
controller: [ "$scope", "$attrs", function(e, t) {
var n = this;
this.$options = N(e.$eval(t.ngModelOptions)), y(this.$options.updateOn) ? (this.$options.updateOnDefault = !1, this.$options.updateOn = Bi(this.$options.updateOn.replace(Aa, function() {
return n.$options.updateOnDefault = !0, " ";
}))) : this.$options.updateOnDefault = !0;
} ]
};
}, Ea = ti({
terminal: !0,
priority: 1e3
}), Ta = t("ngOptions"), Da = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/, Fa = [ "$compile", "$document", "$parse", function(t, r, o) {
function a(e, t, i) {
function r(e, t, n, i, r) {
this.selectValue = e, this.viewValue = t, this.label = n, this.group = i, this.disabled = r;
}
function a(e) {
var t;
if (!c && n(e)) t = e; else {
t = [];
for (var i in e) e.hasOwnProperty(i) && "$" !== i.charAt(0) && t.push(i);
}
return t;
}
var s = e.match(Da);
if (!s) throw Ta("iexp", "Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}", e, X(t));
var l = s[5] || s[7], c = s[6], u = / as /.test(s[0]) && s[1], d = s[9], h = o(s[2] ? s[1] : l), p = u && o(u) || h, f = d && o(d), g = d ? function(e, t) {
return f(i, t);
} : function(e) {
return qe(e);
}, m = function(e, t) {
return g(e, C(e, t));
}, v = o(s[2] || s[1]), y = o(s[3] || ""), b = o(s[4] || ""), w = o(s[8]), x = {}, C = c ? function(e, t) {
return x[c] = t, x[l] = e, x;
} : function(e) {
return x[l] = e, x;
};
return {
trackBy: d,
getTrackByValue: m,
getWatchables: o(w, function(e) {
for (var t = [], n = a(e = e || []), r = n.length, o = 0; o < r; o++) {
var l = e === n ? o : n[o], c = e[l], u = C(c, l), d = g(c, u);
if (t.push(d), s[2] || s[1]) {
var h = v(i, u);
t.push(h);
}
if (s[4]) {
var p = b(i, u);
t.push(p);
}
}
return t;
}),
getOptions: function() {
for (var e = [], t = {}, n = w(i) || [], o = a(n), s = o.length, l = 0; l < s; l++) {
var c = n === o ? l : o[l], u = C(n[c], c), h = p(i, u), f = g(h, u), x = new r(f, h, v(i, u), y(i, u), b(i, u));
e.push(x), t[f] = x;
}
return {
items: e,
selectValueMap: t,
getOptionFromViewValue: function(e) {
return t[m(e)];
},
getViewValueFromOption: function(e) {
return d ? N(e.viewValue) : e.viewValue;
}
};
}
};
}
var s = e.document.createElement("option"), l = e.document.createElement("optgroup");
return {
restrict: "A",
terminal: !0,
require: [ "select", "ngModel" ],
link: {
pre: function(e, t, n, i) {
i[0].registerOption = p;
},
post: function(e, n, o, c) {
function u(e, t) {
var n = s.cloneNode(!1);
t.appendChild(n), d(e, n);
}
function d(e, t) {
e.element = t, t.disabled = e.disabled, e.label !== t.label && (t.label = e.label, t.textContent = e.label), t.value = e.selectValue;
}
function h() {
var e = S && f.readValue();
if (S) for (var t = S.items.length - 1; t >= 0; t--) {
var i = S.items[t];
Ne(y(i.group) ? i.element.parentNode : i.element);
}
S = $.getOptions();
var r = {};
if (x && n.prepend(p), S.items.forEach(function(e) {
var t;
y(e.group) ? ((t = r[e.group]) || (t = l.cloneNode(!1), A.appendChild(t), t.label = null === e.group ? "null" : e.group, r[e.group] = t), u(e, t)) : u(e, A);
}), n[0].appendChild(A), g.$render(), !g.$isEmpty(e)) {
var o = f.readValue();
($.trackBy || m ? j(e, o) : e === o) || (g.$setViewValue(o), g.$render());
}
}
for (var p, f = c[0], g = c[1], m = o.multiple, v = 0, b = n.children(), w = b.length; v < w; v++) if ("" === b[v].value) {
p = b.eq(v);
break;
}
var x = !!p, C = !1, _ = Si(s.cloneNode(!1));
_.val("?");
var S, $ = a(o.ngOptions, n, e), A = r[0].createDocumentFragment(), k = function() {
x || n.prepend(p), n.val(""), C && (p.prop("selected", !0), p.attr("selected", !0));
}, E = function() {
x ? C && p.removeAttr("selected") : p.remove();
}, T = function() {
n.prepend(_), n.val("?"), _.prop("selected", !0), _.attr("selected", !0);
}, D = function() {
_.remove();
};
m ? (g.$isEmpty = function(e) {
return !e || 0 === e.length;
}, f.writeValue = function(e) {
S.items.forEach(function(e) {
e.element.selected = !1;
}), e && e.forEach(function(e) {
var t = S.getOptionFromViewValue(e);
t && (t.element.selected = !0);
});
}, f.readValue = function() {
var e = [];
return i(n.val() || [], function(t) {
var n = S.selectValueMap[t];
n && !n.disabled && e.push(S.getViewValueFromOption(n));
}), e;
}, $.trackBy && e.$watchCollection(function() {
if (Oi(g.$viewValue)) return g.$viewValue.map(function(e) {
return $.getTrackByValue(e);
});
}, function() {
g.$render();
})) : (f.writeValue = function(e) {
var t = S.selectValueMap[n.val()], i = S.getOptionFromViewValue(e);
t && t.element.removeAttribute("selected"), i ? (n[0].value !== i.selectValue && (D(), E(), n[0].value = i.selectValue, i.element.selected = !0), i.element.setAttribute("selected", "selected")) : null === e || x ? (D(), k()) : (E(), T());
}, f.readValue = function() {
var e = S.selectValueMap[n.val()];
return e && !e.disabled ? (E(), D(), S.getViewValueFromOption(e)) : null;
}, $.trackBy && e.$watch(function() {
return $.getTrackByValue(g.$viewValue);
}, function() {
g.$render();
})), x ? (p.remove(), t(p)(e), p[0].nodeType === Ki ? (C = !1, f.registerOption = function(e, t) {
"" === t.val() && (C = !0, (p = t).removeClass("ng-scope"), g.$render(), t.on("$destroy", function() {
p = void 0, C = !1;
}));
}) : (p.removeClass("ng-scope"), C = !0)) : p = Si(s.cloneNode(!1)), n.empty(), h(), e.$watchCollection($.getWatchables, h);
}
}
};
} ], Ma = [ "$locale", "$interpolate", "$log", function(e, t, n) {
var r = /{}/g, o = /^when(Minus)?(.+)$/;
return {
link: function(a, s, l) {
function c(e) {
s.text(e || "");
}
var u, d = l.count, h = l.$attr.when && s.attr(l.$attr.when), f = l.offset || 0, g = a.$eval(h) || {}, m = {}, y = t.startSymbol(), b = t.endSymbol(), w = y + d + "-" + f + b, x = Ii.noop;
i(l, function(e, t) {
var n = o.exec(t);
if (n) {
var i = (n[1] ? "-" : "") + xi(n[2]);
g[i] = s.attr(l.$attr[t]);
}
}), i(g, function(e, n) {
m[n] = t(e.replace(r, w));
}), a.$watch(d, function(t) {
var i = parseFloat(t), r = Pi(i);
if (r || i in g || (i = e.pluralCat(i - f)), !(i === u || r && Pi(u))) {
x();
var o = m[i];
v(o) ? (null != t && n.debug("ngPluralize: no rule defined for '" + i + "' in " + h), x = p, c()) : x = a.$watch(o, c), u = i;
}
});
}
};
} ], Ia = [ "$parse", "$animate", "$compile", function(e, r, o) {
var a = t("ngRepeat"), s = function(e, t, n, i, r, o, a) {
e[n] = i, r && (e[r] = o), e.$index = t, e.$first = 0 === t, e.$last = t === a - 1, e.$middle = !(e.$first || e.$last), e.$odd = !(e.$even = 0 == (1 & t));
}, l = function(e) {
return e.clone[0];
}, c = function(e) {
return e.clone[e.clone.length - 1];
};
return {
restrict: "A",
multiElement: !0,
transclude: "element",
priority: 1e3,
terminal: !0,
$$tlb: !0,
compile: function(t, u) {
var d = u.ngRepeat, h = o.$$createComment("end ngRepeat", d), p = d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
if (!p) throw a("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", d);
var f = p[1], g = p[2], m = p[3], v = p[4];
if (!(p = f.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/))) throw a("iidexp", "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.", f);
var y = p[3] || p[1], b = p[2];
if (m && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m))) throw a("badident", "alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.", m);
var w, x, C, _, S = {
$id: qe
};
return v ? w = e(v) : (C = function(e, t) {
return qe(t);
}, _ = function(e) {
return e;
}), function(e, t, o, u, p) {
w && (x = function(t, n, i) {
return b && (S[b] = t), S[y] = n, S.$index = i, w(e, S);
});
var f = pe();
e.$watchCollection(g, function(o) {
var u, g, v, w, S, $, A, k, E, T, D, F, M = t[0], I = pe();
if (m && (e[m] = o), n(o)) E = o, k = x || C; else {
k = x || _, E = [];
for (var L in o) wi.call(o, L) && "$" !== L.charAt(0) && E.push(L);
}
for (w = E.length, D = new Array(w), u = 0; u < w; u++) if (S = o === E ? u : E[u], $ = o[S], A = k(S, $, u), f[A]) T = f[A], delete f[A], I[A] = T, D[u] = T; else {
if (I[A]) throw i(D, function(e) {
e && e.scope && (f[e.id] = e);
}), a("dupes", "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}", d, A, $);
D[u] = {
id: A,
scope: void 0,
clone: void 0
}, I[A] = !0;
}
for (var P in f) {
if (T = f[P], F = he(T.clone), r.leave(F), F[0].parentNode) for (u = 0, g = F.length; u < g; u++) F[u].$$NG_REMOVED = !0;
T.scope.$destroy();
}
for (u = 0; u < w; u++) if (S = o === E ? u : E[u], $ = o[S], (T = D[u]).scope) {
v = M;
do {
v = v.nextSibling;
} while (v && v.$$NG_REMOVED);
l(T) !== v && r.move(he(T.clone), null, M), M = c(T), s(T.scope, u, y, $, b, S, w);
} else p(function(e, t) {
T.scope = t;
var n = h.cloneNode(!1);
e[e.length++] = n, r.enter(e, null, M), M = n, T.clone = e, I[T.id] = T, s(T.scope, u, y, $, b, S, w);
});
f = I;
});
};
}
};
} ], La = [ "$animate", function(e) {
return {
restrict: "A",
multiElement: !0,
link: function(t, n, i) {
t.$watch(i.ngShow, function(t) {
e[t ? "removeClass" : "addClass"](n, "ng-hide", {
tempClasses: "ng-hide-animate"
});
});
}
};
} ], Pa = [ "$animate", function(e) {
return {
restrict: "A",
multiElement: !0,
link: function(t, n, i) {
t.$watch(i.ngHide, function(t) {
e[t ? "addClass" : "removeClass"](n, "ng-hide", {
tempClasses: "ng-hide-animate"
});
});
}
};
} ], Oa = ti(function(e, t, n) {
e.$watch(n.ngStyle, function(e, n) {
n && e !== n && i(n, function(e, n) {
t.css(n, "");
}), e && t.css(e);
}, !0);
}), Ra = [ "$animate", "$compile", function(e, t) {
return {
require: "ngSwitch",
controller: [ "$scope", function() {
this.cases = {};
} ],
link: function(n, r, o, a) {
var s = o.ngSwitch || o.on, l = [], c = [], u = [], d = [], h = function(e, t) {
return function(n) {
!1 !== n && e.splice(t, 1);
};
};
n.$watch(s, function(n) {
for (var r, o; u.length; ) e.cancel(u.pop());
for (r = 0, o = d.length; r < o; ++r) {
var s = he(c[r].clone);
d[r].$destroy(), (u[r] = e.leave(s)).done(h(u, r));
}
c.length = 0, d.length = 0, (l = a.cases["!" + n] || a.cases["?"]) && i(l, function(n) {
n.transclude(function(i, r) {
d.push(r);
var o = n.element;
i[i.length++] = t.$$createComment("end ngSwitchWhen");
var a = {
clone: i
};
c.push(a), e.enter(i, o.parent(), o);
});
});
});
}
};
} ], Ba = ti({
transclude: "element",
priority: 1200,
require: "^ngSwitch",
multiElement: !0,
link: function(e, t, n, r, o) {
i(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e, t, n) {
return n[t - 1] !== e;
}), function(e) {
r.cases["!" + e] = r.cases["!" + e] || [], r.cases["!" + e].push({
transclude: o,
element: t
});
});
}
}), Na = ti({
transclude: "element",
priority: 1200,
require: "^ngSwitch",
multiElement: !0,
link: function(e, t, n, i, r) {
i.cases["?"] = i.cases["?"] || [], i.cases["?"].push({
transclude: r,
element: t
});
}
}), ja = t("ngTransclude"), Ua = [ "$compile", function(e) {
return {
restrict: "EAC",
terminal: !0,
compile: function(t) {
var n = e(t.contents());
return t.empty(), function(e, t, i, r, o) {
function a() {
n(e, function(e) {
t.append(e);
});
}
if (!o) throw ja("orphan", "Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}", X(t));
i.ngTransclude === i.$attr.ngTransclude && (i.ngTransclude = "");
var s = i.ngTransclude || i.ngTranscludeSlot;
o(function(e, n) {
e.length ? t.append(e) : (a(), n.$destroy());
}, null, s), s && !o.isSlotFilled(s) && a();
};
}
};
} ], Va = [ "$templateCache", function(e) {
return {
restrict: "E",
terminal: !0,
compile: function(t, n) {
if ("text/ng-template" === n.type) {
var i = n.id, r = t[0].text;
e.put(i, r);
}
}
};
} ], Ha = {
$setViewValue: p,
$render: p
}, za = [ "$element", "$scope", function(t, n) {
var i = this, r = new Ye();
i.ngModelCtrl = Ha, i.unknownOption = Si(e.document.createElement("option")), i.renderUnknownOption = function(e) {
var n = "? " + qe(e) + " ?";
i.unknownOption.val(n), t.prepend(i.unknownOption), t.val(n);
}, n.$on("$destroy", function() {
i.renderUnknownOption = p;
}), i.removeUnknownOption = function() {
i.unknownOption.parent() && i.unknownOption.remove();
}, i.readValue = function() {
return i.removeUnknownOption(), t.val();
}, i.writeValue = function(e) {
i.hasOption(e) ? (i.removeUnknownOption(), t.val(e), "" === e && i.emptyOption.prop("selected", !0)) : null == e && i.emptyOption ? (i.removeUnknownOption(), t.val("")) : i.renderUnknownOption(e);
}, i.addOption = function(e, t) {
if (t[0].nodeType !== Ki) {
ue(e, '"option value"'), "" === e && (i.emptyOption = t);
var n = r.get(e) || 0;
r.put(e, n + 1), i.ngModelCtrl.$render(), vi(t);
}
}, i.removeOption = function(e) {
var t = r.get(e);
t && (1 === t ? (r.remove(e), "" === e && (i.emptyOption = void 0)) : r.put(e, t - 1));
}, i.hasOption = function(e) {
return !!r.get(e);
}, i.registerOption = function(e, t, n, r, o) {
if (r) {
var a;
n.$observe("value", function(e) {
y(a) && i.removeOption(a), a = e, i.addOption(e, t);
});
} else o ? e.$watch(o, function(e, r) {
n.$set("value", e), r !== e && i.removeOption(r), i.addOption(e, t);
}) : i.addOption(n.value, t);
t.on("$destroy", function() {
i.removeOption(n.value), i.ngModelCtrl.$render();
});
};
} ], Wa = function() {
return {
restrict: "E",
require: [ "select", "?ngModel" ],
controller: za,
priority: 1,
link: {
pre: function(e, t, n, r) {
var o = r[1];
if (o) {
var a = r[0];
if (a.ngModelCtrl = o, t.on("change", function() {
e.$apply(function() {
o.$setViewValue(a.readValue());
});
}), n.multiple) {
a.readValue = function() {
var e = [];
return i(t.find("option"), function(t) {
t.selected && e.push(t.value);
}), e;
}, a.writeValue = function(e) {
var n = new Ye(e);
i(t.find("option"), function(e) {
e.selected = y(n.get(e.value));
});
};
var s, l = NaN;
e.$watch(function() {
l !== o.$viewValue || j(s, o.$viewValue) || (s = ge(o.$viewValue), o.$render()), l = o.$viewValue;
}), o.$isEmpty = function(e) {
return !e || 0 === e.length;
};
}
}
},
post: function(e, t, n, i) {
var r = i[1];
if (r) {
var o = i[0];
r.$render = function() {
o.writeValue(r.$viewValue);
};
}
}
}
};
}, Ga = [ "$interpolate", function(e) {
return {
restrict: "E",
priority: 100,
compile: function(t, n) {
var i, r;
return y(n.ngValue) ? i = !0 : y(n.value) ? i = e(n.value, !0) : (r = e(t.text(), !0)) || n.$set("value", t.text()), function(e, t, n) {
var o = t.parent(), a = o.data("$selectController") || o.parent().data("$selectController");
a && a.registerOption(e, t, n, i, r);
};
}
};
} ], qa = function() {
return {
restrict: "A",
require: "?ngModel",
link: function(e, t, n, i) {
i && (n.required = !0, i.$validators.required = function(e, t) {
return !n.required || !i.$isEmpty(t);
}, n.$observe("required", function() {
i.$validate();
}));
}
};
}, Ya = function() {
return {
restrict: "A",
require: "?ngModel",
link: function(e, n, i, r) {
if (r) {
var o, a = i.ngPattern || i.pattern;
i.$observe("pattern", function(e) {
if (x(e) && e.length > 0 && (e = new RegExp("^" + e + "$")), e && !e.test) throw t("ngPattern")("noregexp", "Expected {0} to be a RegExp but was {1}. Element: {2}", a, e, X(n));
o = e || void 0, r.$validate();
}), r.$validators.pattern = function(e, t) {
return r.$isEmpty(t) || v(o) || o.test(t);
};
}
}
};
}, Ka = function() {
return {
restrict: "A",
require: "?ngModel",
link: function(e, t, n, i) {
if (i) {
var r = -1;
n.$observe("maxlength", function(e) {
var t = d(e);
r = Pi(t) ? -1 : t, i.$validate();
}), i.$validators.maxlength = function(e, t) {
return r < 0 || i.$isEmpty(t) || t.length <= r;
};
}
}
};
}, Xa = function() {
return {
restrict: "A",
require: "?ngModel",
link: function(e, t, n, i) {
if (i) {
var r = 0;
n.$observe("minlength", function(e) {
r = d(e) || 0, i.$validate();
}), i.$validators.minlength = function(e, t) {
return i.$isEmpty(t) || t.length >= r;
};
}
}
};
};
e.angular.bootstrap ? e.console && console.log("WARNING: Tried to load angular more than once.") : (!function() {
var t;
if (!Gi) {
var n = Ui();
($i = v(n) ? e.jQuery : n ? e[n] : void 0) && $i.fn.on ? (Si = $i, c($i.fn, {
scope: pr.scope,
isolateScope: pr.isolateScope,
controller: pr.controller,
injector: pr.injector,
inheritedData: pr.inheritedData
}), t = $i.cleanData, $i.cleanData = function(e) {
for (var n, i, r = 0; null != (i = e[r]); r++) (n = $i._data(i, "events")) && n.$destroy && $i(i).triggerHandler("$destroy");
t(e);
}) : Si = $e, Ii.element = Si, Gi = !0;
}
}(), function(n) {
c(n, {
bootstrap: re,
copy: N,
extend: c,
merge: u,
equals: j,
element: Si,
forEach: i,
injector: Je,
noop: p,
bind: H,
toJson: W,
fromJson: G,
identity: f,
isUndefined: v,
isDefined: y,
isString: x,
isFunction: S,
isObject: b,
isNumber: C,
isElement: P,
isArray: Oi,
version: Ji,
isDate: _,
lowercase: xi,
uppercase: Ci,
callbacks: {
$$counter: 0
},
getTestability: ae,
$$minErr: t,
$$csp: ji,
reloadWithDebugInfo: oe
}), (Ai = fe(e))("ng", [ "ngLocale" ], [ "$provide", function(e) {
e.provider({
$$sanitizeUri: bn
}), e.provider("$compile", lt).directive({
a: Lo,
input: Zo,
textarea: Zo,
form: No,
script: Va,
select: Wa,
option: Ga,
ngBind: na,
ngBindHtml: ra,
ngBindTemplate: ia,
ngClass: aa,
ngClassEven: la,
ngClassOdd: sa,
ngCloak: ca,
ngController: ua,
ngForm: jo,
ngHide: Pa,
ngIf: pa,
ngInclude: fa,
ngInit: ma,
ngNonBindable: Ea,
ngPluralize: Ma,
ngRepeat: Ia,
ngShow: La,
ngStyle: Oa,
ngSwitch: Ra,
ngSwitchWhen: Ba,
ngSwitchDefault: Na,
ngOptions: Fa,
ngTransclude: Ua,
ngModel: $a,
ngList: va,
ngChange: oa,
pattern: Ya,
ngPattern: Ya,
required: qa,
ngRequired: qa,
minlength: Xa,
ngMinlength: Xa,
maxlength: Ka,
ngMaxlength: Ka,
ngValue: ta,
ngModelOptions: ka
}).directive({
ngInclude: ga
}).directive(Po).directive(da), e.provider({
$anchorScroll: Ze,
$animate: Er,
$animateCss: Fr,
$$animateJs: Ar,
$$animateQueue: kr,
$$AnimateRunner: Dr,
$$animateAsyncRun: Tr,
$browser: ot,
$cacheFactory: at,
$controller: ft,
$document: gt,
$exceptionHandler: mt,
$filter: In,
$$forceReflow: Rr,
$interpolate: Dt,
$interval: Ft,
$http: At,
$httpParamSerializer: yt,
$httpParamSerializerJQLike: bt,
$httpBackend: Et,
$xhrFactory: kt,
$jsonpCallbacks: Gr,
$location: Gt,
$log: qt,
$parse: pn,
$rootScope: yn,
$q: fn,
$$q: gn,
$sce: _n,
$sceDelegate: Cn,
$sniffer: Sn,
$templateCache: st,
$templateRequest: $n,
$$testability: An,
$timeout: kn,
$window: Dn,
$$rAF: vn,
$$jqLite: Ge,
$$HashMap: vr,
$$cookieReader: Mn
});
} ]);
}(Ii), Ii.module("ngLocale", [], [ "$provide", function(e) {
function t(e) {
var t = (e += "").indexOf(".");
return -1 == t ? 0 : e.length - t - 1;
}
function n(e, n) {
var i = n;
void 0 === i && (i = Math.min(t(e), 3));
var r = Math.pow(10, i);
return {
v: i,
f: (e * r | 0) % r
};
}
var i = {
ZERO: "zero",
ONE: "one",
TWO: "two",
FEW: "few",
MANY: "many",
OTHER: "other"
};
e.value("$locale", {
DATETIME_FORMATS: {
AMPMS: [ "AM", "PM" ],
DAY: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
ERANAMES: [ "Before Christ", "Anno Domini" ],
ERAS: [ "BC", "AD" ],
FIRSTDAYOFWEEK: 6,
MONTH: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
SHORTDAY: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
SHORTMONTH: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ],
STANDALONEMONTH: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
WEEKENDRANGE: [ 5, 6 ],
fullDate: "EEEE, MMMM d, y",
longDate: "MMMM d, y",
medium: "MMM d, y h:mm:ss a",
mediumDate: "MMM d, y",
mediumTime: "h:mm:ss a",
short: "M/d/yy h:mm a",
shortDate: "M/d/yy",
shortTime: "h:mm a"
},
NUMBER_FORMATS: {
CURRENCY_SYM: "$",
DECIMAL_SEP: ".",
GROUP_SEP: ",",
PATTERNS: [ {
gSize: 3,
lgSize: 3,
maxFrac: 3,
minFrac: 0,
minInt: 1,
negPre: "-",
negSuf: "",
posPre: "",
posSuf: ""
}, {
gSize: 3,
lgSize: 3,
maxFrac: 2,
minFrac: 2,
minInt: 1,
negPre: "-¤",
negSuf: "",
posPre: "¤",
posSuf: ""
} ]
},
id: "en-us",
localeID: "en_US",
pluralCat: function(e, t) {
var r = 0 | e, o = n(e, t);
return 1 == r && 0 == o.v ? i.ONE : i.OTHER;
}
});
} ]), Si(e.document).ready(function() {
ie(e.document, re);
}));
}(window), !window.angular.$$csp().noInlineStyle && window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'), function() {
function e(t, i) {
function o(e) {
if (o[e] !== m) return o[e];
var t;
if ("bug-string-char-index" == e) t = "a" != "a"[0]; else if ("json" == e) t = o("json-stringify") && o("json-parse"); else {
var n, r = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';
if ("json-stringify" == e) {
var l = i.stringify, u = "function" == typeof l && b;
if (u) {
(n = function() {
return 1;
}).toJSON = n;
try {
u = "0" === l(0) && "0" === l(new a()) && '""' == l(new s()) && l(y) === m && l(m) === m && l() === m && "1" === l(n) && "[1]" == l([ n ]) && "[null]" == l([ m ]) && "null" == l(null) && "[null,null,null]" == l([ m, y, null ]) && l({
a: [ n, !0, !1, null, "\0\b\n\f\r\t" ]
}) == r && "1" === l(null, n) && "[\n 1,\n 2\n]" == l([ 1, 2 ], null, 1) && '"-271821-04-20T00:00:00.000Z"' == l(new c(-864e13)) && '"+275760-09-13T00:00:00.000Z"' == l(new c(864e13)) && '"-000001-01-01T00:00:00.000Z"' == l(new c(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == l(new c(-1));
} catch (e) {
u = !1;
}
}
t = u;
}
if ("json-parse" == e) {
var d = i.parse;
if ("function" == typeof d) try {
if (0 === d("0") && !d(!1)) {
var h = 5 == (n = d(r)).a.length && 1 === n.a[0];
if (h) {
try {
h = !d('"\t"');
} catch (e) {}
if (h) try {
h = 1 !== d("01");
} catch (e) {}
if (h) try {
h = 1 !== d("1.");
} catch (e) {}
}
}
} catch (e) {
h = !1;
}
t = h;
}
}
return o[e] = !!t;
}
t || (t = r.Object()), i || (i = r.Object());
var a = t.Number || r.Number, s = t.String || r.String, l = t.Object || r.Object, c = t.Date || r.Date, u = t.SyntaxError || r.SyntaxError, d = t.TypeError || r.TypeError, h = t.Math || r.Math, p = t.JSON || r.JSON;
"object" == typeof p && p && (i.stringify = p.stringify, i.parse = p.parse);
var f, g, m, v = l.prototype, y = v.toString, b = new c(-0xc782b5b800cec);
try {
b = -109252 == b.getUTCFullYear() && 0 === b.getUTCMonth() && 1 === b.getUTCDate() && 10 == b.getUTCHours() && 37 == b.getUTCMinutes() && 6 == b.getUTCSeconds() && 708 == b.getUTCMilliseconds();
} catch (e) {}
if (!o("json")) {
var w = o("bug-string-char-index");
if (!b) var x = h.floor, C = [ 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334 ], _ = function(e, t) {
return C[t] + 365 * (e - 1970) + x((e - 1969 + (t = +(t > 1))) / 4) - x((e - 1901 + t) / 100) + x((e - 1601 + t) / 400);
};
if ((f = v.hasOwnProperty) || (f = function(e) {
var t, n = {};
return (n.__proto__ = null, n.__proto__ = {
toString: 1
}, n).toString != y ? f = function(e) {
var t = this.__proto__, n = e in (this.__proto__ = null, this);
return this.__proto__ = t, n;
} : (t = n.constructor, f = function(e) {
var n = (this.constructor || t).prototype;
return e in this && !(e in n && this[e] === n[e]);
}), n = null, f.call(this, e);
}), g = function(e, t) {
var i, r, o, a = 0;
(i = function() {
this.valueOf = 0;
}).prototype.valueOf = 0, r = new i();
for (o in r) f.call(r, o) && a++;
return i = r = null, a ? g = 2 == a ? function(e, t) {
var n, i = {}, r = "[object Function]" == y.call(e);
for (n in e) r && "prototype" == n || f.call(i, n) || !(i[n] = 1) || !f.call(e, n) || t(n);
} : function(e, t) {
var n, i, r = "[object Function]" == y.call(e);
for (n in e) r && "prototype" == n || !f.call(e, n) || (i = "constructor" === n) || t(n);
(i || f.call(e, n = "constructor")) && t(n);
} : (r = [ "valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor" ], g = function(e, t) {
var i, o, a = "[object Function]" == y.call(e), s = !a && "function" != typeof e.constructor && n[typeof e.hasOwnProperty] && e.hasOwnProperty || f;
for (i in e) a && "prototype" == i || !s.call(e, i) || t(i);
for (o = r.length; i = r[--o]; s.call(e, i) && t(i)) ;
}), g(e, t);
}, !o("json-stringify")) {
var S = {
92: "\\\\",
34: '\\"',
8: "\\b",
12: "\\f",
10: "\\n",
13: "\\r",
9: "\\t"
}, $ = function(e, t) {
return ("000000" + (t || 0)).slice(-e);
}, A = function(e) {
for (var t = '"', n = 0, i = e.length, r = !w || i > 10, o = r && (w ? e.split("") : e); n < i; n++) {
var a = e.charCodeAt(n);
switch (a) {
case 8:
case 9:
case 10:
case 12:
case 13:
case 34:
case 92:
t += S[a];
break;

default:
if (a < 32) {
t += "\\u00" + $(2, a.toString(16));
break;
}
t += r ? o[n] : e.charAt(n);
}
}
return t + '"';
}, k = function(e, t, n, i, r, o, a) {
var s, l, c, u, h, p, v, b, w, C, S, E, T, D, F, M;
try {
s = t[e];
} catch (e) {}
if ("object" == typeof s && s) if ("[object Date]" != (l = y.call(s)) || f.call(s, "toJSON")) "function" == typeof s.toJSON && ("[object Number]" != l && "[object String]" != l && "[object Array]" != l || f.call(s, "toJSON")) && (s = s.toJSON(e)); else if (s > -1 / 0 && s < 1 / 0) {
if (_) {
for (h = x(s / 864e5), c = x(h / 365.2425) + 1970 - 1; _(c + 1, 0) <= h; c++) ;
for (u = x((h - _(c, 0)) / 30.42); _(c, u + 1) <= h; u++) ;
h = 1 + h - _(c, u), v = x((p = (s % 864e5 + 864e5) % 864e5) / 36e5) % 24, b = x(p / 6e4) % 60, w = x(p / 1e3) % 60, C = p % 1e3;
} else c = s.getUTCFullYear(), u = s.getUTCMonth(), h = s.getUTCDate(), v = s.getUTCHours(), b = s.getUTCMinutes(), w = s.getUTCSeconds(), C = s.getUTCMilliseconds();
s = (c <= 0 || c >= 1e4 ? (c < 0 ? "-" : "+") + $(6, c < 0 ? -c : c) : $(4, c)) + "-" + $(2, u + 1) + "-" + $(2, h) + "T" + $(2, v) + ":" + $(2, b) + ":" + $(2, w) + "." + $(3, C) + "Z";
} else s = null;
if (n && (s = n.call(t, e, s)), null === s) return "null";
if ("[object Boolean]" == (l = y.call(s))) return "" + s;
if ("[object Number]" == l) return s > -1 / 0 && s < 1 / 0 ? "" + s : "null";
if ("[object String]" == l) return A("" + s);
if ("object" == typeof s) {
for (D = a.length; D--; ) if (a[D] === s) throw d();
if (a.push(s), S = [], F = o, o += r, "[object Array]" == l) {
for (T = 0, D = s.length; T < D; T++) E = k(T, s, n, i, r, o, a), S.push(E === m ? "null" : E);
M = S.length ? r ? "[\n" + o + S.join(",\n" + o) + "\n" + F + "]" : "[" + S.join(",") + "]" : "[]";
} else g(i || s, function(e) {
var t = k(e, s, n, i, r, o, a);
t !== m && S.push(A(e) + ":" + (r ? " " : "") + t);
}), M = S.length ? r ? "{\n" + o + S.join(",\n" + o) + "\n" + F + "}" : "{" + S.join(",") + "}" : "{}";
return a.pop(), M;
}
};
i.stringify = function(e, t, i) {
var r, o, a, s;
if (n[typeof t] && t) if ("[object Function]" == (s = y.call(t))) o = t; else if ("[object Array]" == s) {
a = {};
for (var l, c = 0, u = t.length; c < u; l = t[c++], ("[object String]" == (s = y.call(l)) || "[object Number]" == s) && (a[l] = 1)) ;
}
if (i) if ("[object Number]" == (s = y.call(i))) {
if ((i -= i % 1) > 0) for (r = "", i > 10 && (i = 10); r.length < i; r += " ") ;
} else "[object String]" == s && (r = i.length <= 10 ? i : i.slice(0, 10));
return k("", (l = {}, l[""] = e, l), o, a, r, "", []);
};
}
if (!o("json-parse")) {
var E, T, D = s.fromCharCode, F = {
92: "\\",
34: '"',
47: "/",
98: "\b",
116: "\t",
110: "\n",
102: "\f",
114: "\r"
}, M = function() {
throw E = T = null, u();
}, I = function() {
for (var e, t, n, i, r, o = T, a = o.length; E < a; ) switch (r = o.charCodeAt(E)) {
case 9:
case 10:
case 13:
case 32:
E++;
break;

case 123:
case 125:
case 91:
case 93:
case 58:
case 44:
return e = w ? o.charAt(E) : o[E], E++, e;

case 34:
for (e = "@", E++; E < a; ) if ((r = o.charCodeAt(E)) < 32) M(); else if (92 == r) switch (r = o.charCodeAt(++E)) {
case 92:
case 34:
case 47:
case 98:
case 116:
case 110:
case 102:
case 114:
e += F[r], E++;
break;

case 117:
for (t = ++E, n = E + 4; E < n; E++) (r = o.charCodeAt(E)) >= 48 && r <= 57 || r >= 97 && r <= 102 || r >= 65 && r <= 70 || M();
e += D("0x" + o.slice(t, E));
break;

default:
M();
} else {
if (34 == r) break;
for (r = o.charCodeAt(E), t = E; r >= 32 && 92 != r && 34 != r; ) r = o.charCodeAt(++E);
e += o.slice(t, E);
}
if (34 == o.charCodeAt(E)) return E++, e;
M();

default:
if (t = E, 45 == r && (i = !0, r = o.charCodeAt(++E)), r >= 48 && r <= 57) {
for (48 == r && (r = o.charCodeAt(E + 1)) >= 48 && r <= 57 && M(), i = !1; E < a && (r = o.charCodeAt(E)) >= 48 && r <= 57; E++) ;
if (46 == o.charCodeAt(E)) {
for (n = ++E; n < a && (r = o.charCodeAt(n)) >= 48 && r <= 57; n++) ;
n == E && M(), E = n;
}
if (101 == (r = o.charCodeAt(E)) || 69 == r) {
for (43 != (r = o.charCodeAt(++E)) && 45 != r || E++, n = E; n < a && (r = o.charCodeAt(n)) >= 48 && r <= 57; n++) ;
n == E && M(), E = n;
}
return +o.slice(t, E);
}
if (i && M(), "true" == o.slice(E, E + 4)) return E += 4, !0;
if ("false" == o.slice(E, E + 5)) return E += 5, !1;
if ("null" == o.slice(E, E + 4)) return E += 4, null;
M();
}
return "$";
}, L = function(e) {
var t, n;
if ("$" == e && M(), "string" == typeof e) {
if ("@" == (w ? e.charAt(0) : e[0])) return e.slice(1);
if ("[" == e) {
for (t = []; "]" != (e = I()); n || (n = !0)) n && ("," == e ? "]" == (e = I()) && M() : M()), "," == e && M(), t.push(L(e));
return t;
}
if ("{" == e) {
for (t = {}; "}" != (e = I()); n || (n = !0)) n && ("," == e ? "}" == (e = I()) && M() : M()), "," != e && "string" == typeof e && "@" == (w ? e.charAt(0) : e[0]) && ":" == I() || M(), t[e.slice(1)] = L(I());
return t;
}
M();
}
return e;
}, P = function(e, t, n) {
var i = O(e, t, n);
i === m ? delete e[t] : e[t] = i;
}, O = function(e, t, n) {
var i, r = e[t];
if ("object" == typeof r && r) if ("[object Array]" == y.call(r)) for (i = r.length; i--; ) P(r, i, n); else g(r, function(e) {
P(r, e, n);
});
return n.call(e, t, r);
};
i.parse = function(e, t) {
var n, i;
return E = 0, T = "" + e, n = L(I()), "$" != I() && M(), E = T = null, t && "[object Function]" == y.call(t) ? O((i = {}, i[""] = n, i), "", t) : n;
};
}
}
return i.runInContext = e, i;
}
var t = "function" == typeof define && define.amd, n = {
function: !0,
object: !0
}, i = n[typeof exports] && exports && !exports.nodeType && exports, r = n[typeof window] && window || this, o = i && n[typeof module] && module && !module.nodeType && "object" == typeof global && global;
if (!o || o.global !== o && o.window !== o && o.self !== o || (r = o), i && !t) e(r, i); else {
var a = r.JSON, s = r.JSON3, l = !1, c = e(r, r.JSON3 = {
noConflict: function() {
return l || (l = !0, r.JSON = a, r.JSON3 = s, a = s = null), c;
}
});
r.JSON = {
parse: c.parse,
stringify: c.stringify
};
}
t && define(function() {
return c;
});
}.call(this), function(e, t) {
"function" == typeof define && define.amd ? define(t) : "object" == typeof exports ? module.exports = t() : e.returnExports = t();
}(this, function() {
function e() {}
function t(e) {
return (e = +e) !== e ? e = 0 : 0 !== e && e !== 1 / 0 && e !== -1 / 0 && (e = (e > 0 || -1) * Math.floor(Math.abs(e))), e;
}
function n(e) {
var t = typeof e;
return null === e || "undefined" === t || "boolean" === t || "number" === t || "string" === t;
}
function i(e) {
var t, i, r;
if (n(e)) return e;
if (i = e.valueOf, d(i) && (t = i.call(e), n(t))) return t;
if (r = e.toString, d(r) && (t = r.call(e), n(t))) return t;
throw new TypeError();
}
var r = Function.prototype.call, o = Array.prototype, a = Object.prototype, s = o.slice, l = Array.prototype.splice, c = Array.prototype.push, u = Array.prototype.unshift, d = function(e) {
return "[object Function]" === a.toString.call(e);
}, h = function(e) {
return "[object RegExp]" === a.toString.call(e);
};
Function.prototype.bind || (Function.prototype.bind = function(t) {
var n = this;
if (!d(n)) throw new TypeError("Function.prototype.bind called on incompatible " + n);
for (var i = s.call(arguments, 1), r = Math.max(0, n.length - i.length), o = [], a = 0; a < r; a++) o.push("$" + a);
var l = Function("binder", "return function(" + o.join(",") + "){return binder.apply(this,arguments)}")(function() {
if (this instanceof l) {
var e = n.apply(this, i.concat(s.call(arguments)));
return Object(e) === e ? e : this;
}
return n.apply(t, i.concat(s.call(arguments)));
});
return n.prototype && (e.prototype = n.prototype, l.prototype = new e(), e.prototype = null), l;
});
var p = r.bind(a.hasOwnProperty), f = r.bind(a.toString);
p(a, "__defineGetter__") && (r.bind(a.__defineGetter__), r.bind(a.__defineSetter__), r.bind(a.__lookupGetter__), r.bind(a.__lookupSetter__)), 2 !== [ 1, 2 ].splice(0).length && (!function() {
function e(e) {
for (var t = []; e--; ) t.unshift(e);
return t;
}
var t, n = [];
if (n.splice.bind(n, 0, 0).apply(null, e(20)), n.splice.bind(n, 0, 0).apply(null, e(26)), t = n.length, n.splice(5, 0, "XXX"), t + 1 === n.length) return !0;
}() ? Array.prototype.splice = function(e, t) {
var n, i = s.call(arguments, 2), r = i.length;
if (!arguments.length) return [];
if (void 0 === e && (e = 0), void 0 === t && (t = this.length - e), r > 0) {
if (t <= 0) {
if (e === this.length) return c.apply(this, i), [];
if (0 === e) return u.apply(this, i), [];
}
return n = s.call(this, e, e + t), i.push.apply(i, s.call(this, e + t, this.length)), i.unshift.apply(i, s.call(this, 0, e)), i.unshift(0, this.length), l.apply(this, i), n;
}
return l.call(this, e, t);
} : Array.prototype.splice = function(e, t) {
return arguments.length ? l.apply(this, [ void 0 === e ? 0 : e, void 0 === t ? this.length - e : t ].concat(s.call(arguments, 2))) : [];
}), 1 !== [].unshift(0) && (Array.prototype.unshift = function() {
return u.apply(this, arguments), this.length;
}), Array.isArray || (Array.isArray = function(e) {
return "[object Array]" === f(e);
});
var g = Object("a"), m = "a" !== g[0] || !(0 in g), v = function(e) {
var t = !0;
return e && e.call("foo", function(e, n, i) {
"object" != typeof i && (t = !1);
}), !!e && t;
};
Array.prototype.forEach && v(Array.prototype.forEach) || (Array.prototype.forEach = function(e) {
var t = L(this), n = m && "[object String]" === f(this) ? this.split("") : t, i = arguments[1], r = -1, o = n.length >>> 0;
if (!d(e)) throw new TypeError();
for (;++r < o; ) r in n && e.call(i, n[r], r, t);
}), Array.prototype.map && v(Array.prototype.map) || (Array.prototype.map = function(e) {
var t = L(this), n = m && "[object String]" === f(this) ? this.split("") : t, i = n.length >>> 0, r = Array(i), o = arguments[1];
if (!d(e)) throw new TypeError(e + " is not a function");
for (var a = 0; a < i; a++) a in n && (r[a] = e.call(o, n[a], a, t));
return r;
}), Array.prototype.filter && v(Array.prototype.filter) || (Array.prototype.filter = function(e) {
var t, n = L(this), i = m && "[object String]" === f(this) ? this.split("") : n, r = i.length >>> 0, o = [], a = arguments[1];
if (!d(e)) throw new TypeError(e + " is not a function");
for (var s = 0; s < r; s++) s in i && (t = i[s], e.call(a, t, s, n) && o.push(t));
return o;
}), Array.prototype.every && v(Array.prototype.every) || (Array.prototype.every = function(e) {
var t = L(this), n = m && "[object String]" === f(this) ? this.split("") : t, i = n.length >>> 0, r = arguments[1];
if (!d(e)) throw new TypeError(e + " is not a function");
for (var o = 0; o < i; o++) if (o in n && !e.call(r, n[o], o, t)) return !1;
return !0;
}), Array.prototype.some && v(Array.prototype.some) || (Array.prototype.some = function(e) {
var t = L(this), n = m && "[object String]" === f(this) ? this.split("") : t, i = n.length >>> 0, r = arguments[1];
if (!d(e)) throw new TypeError(e + " is not a function");
for (var o = 0; o < i; o++) if (o in n && e.call(r, n[o], o, t)) return !0;
return !1;
});
var y = !1;
if (Array.prototype.reduce && (y = "object" == typeof Array.prototype.reduce.call("a", function(e, t, n, i) {
return i;
})), Array.prototype.reduce && y || (Array.prototype.reduce = function(e) {
var t = L(this), n = m && "[object String]" === f(this) ? this.split("") : t, i = n.length >>> 0;
if (!d(e)) throw new TypeError(e + " is not a function");
if (!i && 1 === arguments.length) throw new TypeError("reduce of empty array with no initial value");
var r, o = 0;
if (arguments.length >= 2) r = arguments[1]; else for (;;) {
if (o in n) {
r = n[o++];
break;
}
if (++o >= i) throw new TypeError("reduce of empty array with no initial value");
}
for (;o < i; o++) o in n && (r = e.call(void 0, r, n[o], o, t));
return r;
}), Array.prototype.reduceRight || (Array.prototype.reduceRight = function(e) {
var t = L(this), n = m && "[object String]" === f(this) ? this.split("") : t, i = n.length >>> 0;
if (!d(e)) throw new TypeError(e + " is not a function");
if (!i && 1 === arguments.length) throw new TypeError("reduceRight of empty array with no initial value");
var r, o = i - 1;
if (arguments.length >= 2) r = arguments[1]; else for (;;) {
if (o in n) {
r = n[o--];
break;
}
if (--o < 0) throw new TypeError("reduceRight of empty array with no initial value");
}
if (o < 0) return r;
do {
o in this && (r = e.call(void 0, r, n[o], o, t));
} while (o--);
return r;
}), Array.prototype.indexOf && -1 === [ 0, 1 ].indexOf(1, 2) || (Array.prototype.indexOf = function(e) {
var n = m && "[object String]" === f(this) ? this.split("") : L(this), i = n.length >>> 0;
if (!i) return -1;
var r = 0;
for (arguments.length > 1 && (r = t(arguments[1])), r = r >= 0 ? r : Math.max(0, i + r); r < i; r++) if (r in n && n[r] === e) return r;
return -1;
}), Array.prototype.lastIndexOf && -1 === [ 0, 1 ].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function(e) {
var n = m && "[object String]" === f(this) ? this.split("") : L(this), i = n.length >>> 0;
if (!i) return -1;
var r = i - 1;
for (arguments.length > 1 && (r = Math.min(r, t(arguments[1]))), r = r >= 0 ? r : i - Math.abs(r); r >= 0; r--) if (r in n && e === n[r]) return r;
return -1;
}), !Object.keys) {
var b = !{
toString: null
}.propertyIsEnumerable("toString"), w = function() {}.propertyIsEnumerable("prototype"), x = [ "toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor" ], C = x.length, _ = function(e) {
var t = f(e), n = "[object Arguments]" === t;
return n || (n = !Array.isArray(t) && null !== e && "object" == typeof e && "number" == typeof e.length && e.length >= 0 && d(e.callee)), n;
};
Object.keys = function(e) {
var t = d(e), n = _(e), i = null !== e && "object" == typeof e, r = i && "[object String]" === f(e);
if (!i && !t && !n) throw new TypeError("Object.keys called on a non-object");
var o = [], a = w && t;
if (r || n) for (var s = 0; s < e.length; ++s) o.push(String(s)); else for (var l in e) a && "prototype" === l || !p(e, l) || o.push(String(l));
if (b) for (var c = e.constructor, u = c && c.prototype === e, h = 0; h < C; h++) {
var g = x[h];
u && "constructor" === g || !p(e, g) || o.push(g);
}
return o;
};
}
Date.prototype.toISOString && -1 !== new Date(-621987552e5).toISOString().indexOf("-000001") || (Date.prototype.toISOString = function() {
var e, t, n, i, r;
if (!isFinite(this)) throw new RangeError("Date.prototype.toISOString called on non-finite value.");
for (i = this.getUTCFullYear(), r = this.getUTCMonth(), i += Math.floor(r / 12), e = [ (r = (r % 12 + 12) % 12) + 1, this.getUTCDate(), this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds() ], i = (i < 0 ? "-" : i > 9999 ? "+" : "") + ("00000" + Math.abs(i)).slice(0 <= i && i <= 9999 ? -4 : -6), t = e.length; t--; ) (n = e[t]) < 10 && (e[t] = "0" + n);
return i + "-" + e.slice(0, 2).join("-") + "T" + e.slice(2).join(":") + "." + ("000" + this.getUTCMilliseconds()).slice(-3) + "Z";
});
var S = !1;
try {
S = Date.prototype.toJSON && null === new Date(NaN).toJSON() && -1 !== new Date(-621987552e5).toJSON().indexOf("-000001") && Date.prototype.toJSON.call({
toISOString: function() {
return !0;
}
});
} catch (e) {}
S || (Date.prototype.toJSON = function(e) {
var t, n = Object(this), r = i(n);
if ("number" == typeof r && !isFinite(r)) return null;
if ("function" != typeof (t = n.toISOString)) throw new TypeError("toISOString property is not callable");
return t.call(n);
});
var $ = 1e15 === Date.parse("+033658-09-27T01:46:40.000Z"), A = !isNaN(Date.parse("2012-04-04T24:00:00.500Z")) || !isNaN(Date.parse("2012-11-31T23:59:59.000Z")), k = isNaN(Date.parse("2000-01-01T00:00:00.000Z"));
Date.parse && !k && !A && $ || (Date = function(e) {
function t(n, i, r, o, a, s, l) {
var c = arguments.length;
if (this instanceof e) {
var u = 1 === c && String(n) === n ? new e(t.parse(n)) : c >= 7 ? new e(n, i, r, o, a, s, l) : c >= 6 ? new e(n, i, r, o, a, s) : c >= 5 ? new e(n, i, r, o, a) : c >= 4 ? new e(n, i, r, o) : c >= 3 ? new e(n, i, r) : c >= 2 ? new e(n, i) : c >= 1 ? new e(n) : new e();
return u.constructor = t, u;
}
return e.apply(this, arguments);
}
function n(e, t) {
var n = t > 1 ? 1 : 0;
return o[t] + Math.floor((e - 1969 + n) / 4) - Math.floor((e - 1901 + n) / 100) + Math.floor((e - 1601 + n) / 400) + 365 * (e - 1970);
}
function i(t) {
return Number(new e(1970, 0, 1, 0, 0, 0, t));
}
var r = new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"), o = [ 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365 ];
for (var a in e) t[a] = e[a];
return t.now = e.now, t.UTC = e.UTC, t.prototype = e.prototype, t.prototype.constructor = t, t.parse = function(t) {
var o = r.exec(t);
if (o) {
var a, s = Number(o[1]), l = Number(o[2] || 1) - 1, c = Number(o[3] || 1) - 1, u = Number(o[4] || 0), d = Number(o[5] || 0), h = Number(o[6] || 0), p = Math.floor(1e3 * Number(o[7] || 0)), f = Boolean(o[4] && !o[8]), g = "-" === o[9] ? 1 : -1, m = Number(o[10] || 0), v = Number(o[11] || 0);
return u < (d > 0 || h > 0 || p > 0 ? 24 : 25) && d < 60 && h < 60 && p < 1e3 && l > -1 && l < 12 && m < 24 && v < 60 && c > -1 && c < n(s, l + 1) - n(s, l) && (a = 60 * (24 * (n(s, l) + c) + u + m * g), a = 1e3 * (60 * (a + d + v * g) + h) + p, f && (a = i(a)), -864e13 <= a && a <= 864e13) ? a : NaN;
}
return e.parse.apply(this, arguments);
}, t;
}(Date)), Date.now || (Date.now = function() {
return new Date().getTime();
}), Number.prototype.toFixed && "0.000" === 8e-5.toFixed(3) && "0" !== .9.toFixed(0) && "1.25" === 1.255.toFixed(2) && "1000000000000000128" === (0xde0b6b3a7640080).toFixed(0) || function() {
function e(e, t) {
for (var n = -1; ++n < a; ) t += e * s[n], s[n] = t % o, t = Math.floor(t / o);
}
function t(e) {
for (var t = a, n = 0; --t >= 0; ) n += s[t], s[t] = Math.floor(n / e), n = n % e * o;
}
function n() {
for (var e = a, t = ""; --e >= 0; ) if ("" !== t || 0 === e || 0 !== s[e]) {
var n = String(s[e]);
"" === t ? t = n : t += "0000000".slice(0, 7 - n.length) + n;
}
return t;
}
function i(e, t, n) {
return 0 === t ? n : t % 2 == 1 ? i(e, t - 1, n * e) : i(e * e, t / 2, n);
}
function r(e) {
for (var t = 0; e >= 4096; ) t += 12, e /= 4096;
for (;e >= 2; ) t += 1, e /= 2;
return t;
}
var o, a, s;
o = 1e7, a = 6, s = [ 0, 0, 0, 0, 0, 0 ], Number.prototype.toFixed = function(o) {
var a, s, l, c, u, d, h, p;
if (a = Number(o), (a = a !== a ? 0 : Math.floor(a)) < 0 || a > 20) throw new RangeError("Number.toFixed called with invalid number of decimals");
if ((s = Number(this)) !== s) return "NaN";
if (s <= -1e21 || s >= 1e21) return String(s);
if (l = "", s < 0 && (l = "-", s = -s), c = "0", s > 1e-21) if (u = r(s * i(2, 69, 1)) - 69, d = u < 0 ? s * i(2, -u, 1) : s / i(2, u, 1), d *= 4503599627370496, (u = 52 - u) > 0) {
for (e(0, d), h = a; h >= 7; ) e(1e7, 0), h -= 7;
for (e(i(10, h, 1), 0), h = u - 1; h >= 23; ) t(1 << 23), h -= 23;
t(1 << h), e(1, 1), t(2), c = n();
} else e(0, d), e(1 << -u, 0), c = n() + "0.00000000000000000000".slice(2, 2 + a);
return c = a > 0 ? (p = c.length) <= a ? l + "0.0000000000000000000".slice(0, a - p + 2) + c : l + c.slice(0, p - a) + "." + c.slice(p - a) : l + c;
};
}();
var E = String.prototype.split;
2 !== "ab".split(/(?:ab)*/).length || 4 !== ".".split(/(.?)(.?)/).length || "t" === "tesst".split(/(s)*/)[1] || "".split(/.?/).length || ".".split(/()()/).length > 1 ? function() {
var e = void 0 === /()??/.exec("")[1];
String.prototype.split = function(t, n) {
var i = this;
if (void 0 === t && 0 === n) return [];
if ("[object RegExp]" !== Object.prototype.toString.call(t)) return E.apply(this, arguments);
var r, o, a, s, l = [], c = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.extended ? "x" : "") + (t.sticky ? "y" : ""), u = 0;
for (t = new RegExp(t.source, c + "g"), i += "", e || (r = new RegExp("^" + t.source + "$(?!\\s)", c)), n = void 0 === n ? -1 >>> 0 : n >>> 0; (o = t.exec(i)) && !((a = o.index + o[0].length) > u && (l.push(i.slice(u, o.index)), !e && o.length > 1 && o[0].replace(r, function() {
for (var e = 1; e < arguments.length - 2; e++) void 0 === arguments[e] && (o[e] = void 0);
}), o.length > 1 && o.index < i.length && Array.prototype.push.apply(l, o.slice(1)), s = o[0].length, u = a, l.length >= n)); ) t.lastIndex === o.index && t.lastIndex++;
return u === i.length ? !s && t.test("") || l.push("") : l.push(i.slice(u)), l.length > n ? l.slice(0, n) : l;
};
}() : "0".split(void 0, 0).length && (String.prototype.split = function(e, t) {
return void 0 === e && 0 === t ? [] : E.apply(this, arguments);
});
var T = String.prototype.replace;
if (function() {
var e = [];
return "x".replace(/x(.)?/g, function(t, n) {
e.push(n);
}), 1 === e.length && void 0 === e[0];
}() || (String.prototype.replace = function(e, t) {
var n = d(t), i = h(e) && /\)[*?]/.test(e.source);
if (n && i) {
return T.call(this, e, function(n) {
var i = arguments.length, r = e.lastIndex;
e.lastIndex = 0;
var o = e.exec(n);
return e.lastIndex = r, o.push(arguments[i - 2], arguments[i - 1]), t.apply(this, o);
});
}
return T.apply(this, arguments);
}), "".substr && "b" !== "0b".substr(-1)) {
var D = String.prototype.substr;
String.prototype.substr = function(e, t) {
return D.call(this, e < 0 && (e = this.length + e) < 0 ? 0 : e, t);
};
}
var F = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";
if (!String.prototype.trim || F.trim() || !"​".trim()) {
F = "[" + F + "]";
var M = new RegExp("^" + F + F + "*"), I = new RegExp(F + F + "*$");
String.prototype.trim = function() {
if (void 0 === this || null === this) throw new TypeError("can't convert " + this + " to object");
return String(this).replace(M, "").replace(I, "");
};
}
8 === parseInt(F + "08") && 22 === parseInt(F + "0x16") || (parseInt = function(e) {
var t = /^0[xX]/;
return function(n, i) {
return n = String(n).trim(), Number(i) || (i = t.test(n) ? 16 : 10), e(n, i);
};
}(parseInt));
var L = function(e) {
if (null == e) throw new TypeError("can't convert " + e + " to object");
return Object(e);
};
}), function(e, t) {
"use strict";
function n(e) {
return null != e && "" !== e && "hasOwnProperty" !== e && a.test("." + e);
}
function i(e, i) {
if (!n(i)) throw o("badmember", 'Dotted member path "@{0}" is invalid.', i);
for (var r = i.split("."), a = 0, s = r.length; a < s && t.isDefined(e); a++) {
var l = r[a];
e = null !== e ? e[l] : void 0;
}
return e;
}
function r(e, n) {
n = n || {}, t.forEach(n, function(e, t) {
delete n[t];
});
for (var i in e) !e.hasOwnProperty(i) || "$" === i.charAt(0) && "$" === i.charAt(1) || (n[i] = e[i]);
return n;
}
var o = t.$$minErr("$resource"), a = /^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;
t.module("ngResource", [ "ng" ]).provider("$resource", function() {
var e = /^https?:\/\/[^/]*/, n = this;
this.defaults = {
stripTrailingSlashes: !0,
cancellable: !1,
actions: {
get: {
method: "GET"
},
save: {
method: "POST"
},
query: {
method: "GET",
isArray: !0
},
remove: {
method: "DELETE"
},
delete: {
method: "DELETE"
}
}
}, this.$get = [ "$http", "$log", "$q", "$timeout", function(a, s, l, c) {
function u(e) {
return d(e, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+");
}
function d(e, t) {
return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, t ? "%20" : "+");
}
function h(e, t) {
this.template = e, this.defaults = m({}, n.defaults, t), this.urlParams = {};
}
function p(e, t, u, d) {
function C(e, n) {
var r = {};
return n = m({}, t, n), g(n, function(t, n) {
w(t) && (t = t(e)), r[n] = t && t.charAt && "@" === t.charAt(0) ? i(e, t.substr(1)) : t;
}), r;
}
function _(e) {
return e.resource;
}
function S(e) {
r(e || {}, this);
}
var $ = new h(e, d);
return u = m({}, n.defaults.actions, u), S.prototype.toJSON = function() {
var e = m({}, this);
return delete e.$promise, delete e.$resolved, delete e.$cancelRequest, e;
}, g(u, function(e, t) {
var n = /^(POST|PUT|PATCH)$/i.test(e.method), i = e.timeout, u = b(e.cancellable) ? e.cancellable : $.defaults.cancellable;
i && !x(i) && (s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."), delete e.timeout, i = null), S[t] = function(s, d, h, p) {
var b, x, A, k = {};
switch (arguments.length) {
case 4:
A = p, x = h;

case 3:
case 2:
if (!w(d)) {
k = s, b = d, x = h;
break;
}
if (w(s)) {
x = s, A = d;
break;
}
x = d, A = h;

case 1:
w(s) ? x = s : n ? b = s : k = s;
break;

case 0:
break;

default:
throw o("badargs", "Expected up to 4 arguments [params, data, success, error], got {0} arguments", arguments.length);
}
var E, T, D = this instanceof S, F = D ? b : e.isArray ? [] : new S(b), M = {}, I = e.interceptor && e.interceptor.response || _, L = e.interceptor && e.interceptor.responseError || void 0;
g(e, function(e, t) {
switch (t) {
default:
M[t] = v(e);
break;

case "params":
case "isArray":
case "interceptor":
case "cancellable":
}
}), !D && u && (E = l.defer(), M.timeout = E.promise, i && (T = c(E.resolve, i))), n && (M.data = b), $.setUrlParams(M, m({}, C(b, e.params || {}), k), e.url);
var P = a(M).then(function(n) {
var i = n.data;
if (i) {
if (y(i) !== !!e.isArray) throw o("badcfg", "Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})", t, e.isArray ? "array" : "object", y(i) ? "array" : "object", M.method, M.url);
if (e.isArray) F.length = 0, g(i, function(e) {
"object" == typeof e ? F.push(new S(e)) : F.push(e);
}); else {
var a = F.$promise;
r(i, F), F.$promise = a;
}
}
return n.resource = F, n;
}, function(e) {
return (A || f)(e), l.reject(e);
});
return P.finally(function() {
F.$resolved = !0, !D && u && (F.$cancelRequest = f, c.cancel(T), E = T = M.timeout = null);
}), P = P.then(function(e) {
var t = I(e);
return (x || f)(t, e.headers, e.status, e.statusText), t;
}, L), D ? P : (F.$promise = P, F.$resolved = !1, u && (F.$cancelRequest = E.resolve), F);
}, S.prototype["$" + t] = function(e, n, i) {
w(e) && (i = n, n = e, e = {});
var r = S[t].call(this, e, this, n, i);
return r.$promise || r;
};
}), S.bind = function(n) {
var i = m({}, t, n);
return p(e, i, u, d);
}, S;
}
var f = t.noop, g = t.forEach, m = t.extend, v = t.copy, y = t.isArray, b = t.isDefined, w = t.isFunction, x = t.isNumber;
return h.prototype = {
setUrlParams: function(t, n, i) {
var r, a, s = this, l = i || s.template, c = "", h = s.urlParams = {};
g(l.split(/\W/), function(e) {
if ("hasOwnProperty" === e) throw o("badname", "hasOwnProperty is not a valid parameter name.");
!new RegExp("^\\d+$").test(e) && e && new RegExp("(^|[^\\\\]):" + e + "(\\W|$)").test(l) && (h[e] = {
isQueryParamValue: new RegExp("\\?.*=:" + e + "(?:\\W|$)").test(l)
});
}), l = l.replace(/\\:/g, ":"), l = l.replace(e, function(e) {
return c = e, "";
}), n = n || {}, g(s.urlParams, function(e, t) {
r = n.hasOwnProperty(t) ? n[t] : s.defaults[t], b(r) && null !== r ? (a = e.isQueryParamValue ? d(r, !0) : u(r), l = l.replace(new RegExp(":" + t + "(\\W|$)", "g"), function(e, t) {
return a + t;
})) : l = l.replace(new RegExp("(/?):" + t + "(\\W|$)", "g"), function(e, t, n) {
return "/" === n.charAt(0) ? n : t + n;
});
}), s.defaults.stripTrailingSlashes && (l = l.replace(/\/+$/, "") || "/"), l = l.replace(/\/\.(?=\w+($|\?))/, "."), t.url = c + l.replace(/\/\\\./, "/."), g(n, function(e, n) {
s.urlParams[n] || (t.params = t.params || {}, t.params[n] = e);
});
}
}, p;
} ];
});
}(window, window.angular), function(e, t) {
"use strict";
function n(e, n, i) {
function r(e, i, r) {
var a, s;
s = (r = r || {}).expires, a = t.isDefined(r.path) ? r.path : o, t.isUndefined(i) && (s = "Thu, 01 Jan 1970 00:00:00 GMT", i = ""), t.isString(s) && (s = new Date(s));
var l = encodeURIComponent(e) + "=" + encodeURIComponent(i);
l += a ? ";path=" + a : "", l += r.domain ? ";domain=" + r.domain : "", l += s ? ";expires=" + s.toUTCString() : "";
var c = (l += r.secure ? ";secure" : "").length + 1;
return c > 4096 && n.warn("Cookie '" + e + "' possibly not set or overflowed because it was too large (" + c + " > 4096 bytes)!"), l;
}
var o = i.baseHref(), a = e[0];
return function(e, t, n) {
a.cookie = r(e, t, n);
};
}
t.module("ngCookies", [ "ng" ]).provider("$cookies", [ function() {
function e(e) {
return e ? t.extend({}, n, e) : n;
}
var n = this.defaults = {};
this.$get = [ "$$cookieReader", "$$cookieWriter", function(n, i) {
return {
get: function(e) {
return n()[e];
},
getObject: function(e) {
var n = this.get(e);
return n ? t.fromJson(n) : n;
},
getAll: function() {
return n();
},
put: function(t, n, r) {
i(t, n, e(r));
},
putObject: function(e, n, i) {
this.put(e, t.toJson(n), i);
},
remove: function(t, n) {
i(t, void 0, e(n));
}
};
} ];
} ]), t.module("ngCookies").factory("$cookieStore", [ "$cookies", function(e) {
return {
get: function(t) {
return e.getObject(t);
},
put: function(t, n) {
e.putObject(t, n);
},
remove: function(t) {
e.remove(t);
}
};
} ]), n.$inject = [ "$document", "$log", "$browser" ], t.module("ngCookies").provider("$$cookieWriter", function() {
this.$get = n;
});
}(window, window.angular), function(e, t) {
"use strict";
function n(e) {
var t = [];
return u(t, l).chars(e), t.join("");
}
var i, r, o, a, s, l, c, u, d = t.$$minErr("$sanitize");
t.module("ngSanitize", []).provider("$sanitize", function() {
function n(e, t) {
var n, i = {}, r = e.split(",");
for (n = 0; n < r.length; n++) i[t ? s(r[n]) : r[n]] = !0;
return i;
}
function h(e) {
for (var t = {}, n = 0, i = e.length; n < i; n++) {
var r = e[n];
t[r.name] = r.value;
}
return t;
}
function p(e) {
return e.replace(/&/g, "&amp;").replace(v, function(e) {
return "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";";
}).replace(y, function(e) {
return "&#" + e.charCodeAt(0) + ";";
}).replace(/</g, "&lt;").replace(/>/g, "&gt;");
}
function f(t) {
for (;t; ) {
if (t.nodeType === e.Node.ELEMENT_NODE) for (var n = t.attributes, i = 0, r = n.length; i < r; i++) {
var o = n[i], a = o.name.toLowerCase();
"xmlns:ns1" !== a && 0 !== a.lastIndexOf("ns1:", 0) || (t.removeAttributeNode(o), i--, r--);
}
var s = t.firstChild;
s && f(s), t = t.nextSibling;
}
}
var g = !1;
this.$get = [ "$$sanitizeUri", function(e) {
return g && r(k, $), function(t) {
var n = [];
return c(t, u(n, function(t, n) {
return !/^unsafe:/.test(e(t, n));
})), n.join("");
};
} ], this.enableSvg = function(e) {
return a(e) ? (g = e, this) : g;
}, i = t.bind, r = t.extend, o = t.forEach, a = t.isDefined, s = t.lowercase, l = t.noop, c = function(t, n) {
null === t || void 0 === t ? t = "" : "string" != typeof t && (t = "" + t), m.innerHTML = t;
var i = 5;
do {
if (0 === i) throw d("uinput", "Failed to sanitize html because the input is unstable");
i--, e.document.documentMode && f(m), t = m.innerHTML, m.innerHTML = t;
} while (t !== m.innerHTML);
for (var r = m.firstChild; r; ) {
switch (r.nodeType) {
case 1:
n.start(r.nodeName.toLowerCase(), h(r.attributes));
break;

case 3:
n.chars(r.textContent);
}
var o;
if (!((o = r.firstChild) || (1 === r.nodeType && n.end(r.nodeName.toLowerCase()), o = r.nextSibling))) for (;null == o && (r = r.parentNode) !== m; ) o = r.nextSibling, 1 === r.nodeType && n.end(r.nodeName.toLowerCase());
r = o;
}
for (;r = m.firstChild; ) m.removeChild(r);
}, u = function(e, t) {
var n = !1, r = i(e, e.push);
return {
start: function(e, i) {
e = s(e), !n && A[e] && (n = e), n || !0 !== k[e] || (r("<"), r(e), o(i, function(n, i) {
var o = s(i), a = "img" === e && "src" === o || "background" === o;
!0 !== F[o] || !0 === E[o] && !t(n, a) || (r(" "), r(i), r('="'), r(p(n)), r('"'));
}), r(">"));
},
end: function(e) {
e = s(e), n || !0 !== k[e] || !0 === b[e] || (r("</"), r(e), r(">")), e == n && (n = !1);
},
chars: function(e) {
n || r(p(e));
}
};
};
var m, v = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, y = /([^#-~ |!])/g, b = n("area,br,col,hr,img,wbr"), w = n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"), x = n("rp,rt"), C = r({}, x, w), _ = r({}, w, n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")), S = r({}, x, n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")), $ = n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"), A = n("script,style"), k = r({}, b, _, S, C), E = n("background,cite,href,longdesc,src,xlink:href"), T = n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"), D = n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan", !0), F = r({}, E, D, T);
!function(e) {
var t;
if (!e.document || !e.document.implementation) throw d("noinert", "Can't create an inert html document");
var n = ((t = e.document.implementation.createHTMLDocument("inert")).documentElement || t.getDocumentElement()).getElementsByTagName("body");
if (1 === n.length) m = n[0]; else {
var i = t.createElement("html");
m = t.createElement("body"), i.appendChild(m), t.appendChild(i);
}
}(e);
}), t.module("ngSanitize").filter("linky", [ "$sanitize", function(e) {
var i = /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i, r = /^mailto:/i, o = t.$$minErr("linky"), a = t.isDefined, s = t.isFunction, l = t.isObject, c = t.isString;
return function(t, u, d) {
function h(e) {
e && y.push(n(e));
}
if (null == t || "" === t) return t;
if (!c(t)) throw o("notstring", "Expected string but received: {0}", t);
for (var p, f, g, m = s(d) ? d : l(d) ? function() {
return d;
} : function() {
return {};
}, v = t, y = []; p = v.match(i); ) f = p[0], p[2] || p[4] || (f = (p[3] ? "http://" : "mailto:") + f), g = p.index, h(v.substr(0, g)), function(e, t) {
var n, i = m(e);
y.push("<a ");
for (n in i) y.push(n + '="' + i[n] + '" ');
!a(u) || "target" in i || y.push('target="', u, '" '), y.push('href="', e.replace(/"/g, "&quot;"), '">'), h(t), y.push("</a>");
}(f, p[0].replace(r, "")), v = v.substring(g + p[0].length);
return h(v), e(y.join(""));
};
} ]);
}(window, window.angular), function(e, t) {
"use strict";
function n(e, t, n) {
if (!e) throw le("areq", "Argument '{0}' is {1}", t || "?", n || "required");
return e;
}
function i(e, t) {
return e || t ? e ? t ? (G(e) && (e = e.join(" ")), G(t) && (t = t.join(" ")), e + " " + t) : e : t : "";
}
function r(e) {
var t = {};
return e && (e.to || e.from) && (t.to = e.to, t.from = e.from), t;
}
function o(e, t, n) {
var i = "";
return e = G(e) ? e : e && Q(e) && e.length ? e.split(/\s+/) : [], W(e, function(e, r) {
e && e.length > 0 && (i += r > 0 ? " " : "", i += n ? t + e : e + t);
}), i;
}
function a(e, t) {
var n = e.indexOf(t);
t >= 0 && e.splice(n, 1);
}
function s(e) {
if (e instanceof Z) switch (e.length) {
case 0:
return e;

case 1:
if (e[0].nodeType === R) return e;
break;

default:
return Z(l(e));
}
if (e.nodeType === R) return Z(e);
}
function l(e) {
if (!e[0]) return e;
for (var t = 0; t < e.length; t++) {
var n = e[t];
if (n.nodeType === R) return n;
}
}
function c(e, t, n) {
W(t, function(t) {
e.addClass(t, n);
});
}
function u(e, t, n) {
W(t, function(t) {
e.removeClass(t, n);
});
}
function d(e) {
return function(t, n) {
n.addClass && (c(e, t, n.addClass), n.addClass = null), n.removeClass && (u(e, t, n.removeClass), n.removeClass = null);
};
}
function h(e) {
if (!(e = e || {}).$$prepared) {
var t = e.domOperation || ee;
e.domOperation = function() {
e.$$domOperationFired = !0, t(), t = ee;
}, e.$$prepared = !0;
}
return e;
}
function p(e, t) {
f(e, t), g(e, t);
}
function f(e, t) {
t.from && (e.css(t.from), t.from = null);
}
function g(e, t) {
t.to && (e.css(t.to), t.to = null);
}
function m(e, t, n) {
var i = t.options || {}, r = n.options || {}, o = (i.addClass || "") + " " + (r.addClass || ""), a = (i.removeClass || "") + " " + (r.removeClass || ""), s = v(e.attr("class"), o, a);
r.preparationClasses && (i.preparationClasses = S(r.preparationClasses, i.preparationClasses), delete r.preparationClasses);
var l = i.domOperation !== ee ? i.domOperation : null;
return z(i, r), l && (i.domOperation = l), s.addClass ? i.addClass = s.addClass : i.addClass = null, s.removeClass ? i.removeClass = s.removeClass : i.removeClass = null, t.addClass = i.addClass, t.removeClass = i.removeClass, i;
}
function v(e, t, n) {
function i(e) {
Q(e) && (e = e.split(" "));
var t = {};
return W(e, function(e) {
e.length && (t[e] = !0);
}), t;
}
var r = {};
e = i(e), t = i(t), W(t, function(e, t) {
r[t] = 1;
}), n = i(n), W(n, function(e, t) {
r[t] = 1 === r[t] ? null : -1;
});
var o = {
addClass: "",
removeClass: ""
};
return W(r, function(t, n) {
var i, r;
1 === t ? (i = "addClass", r = !e[n] || e[n + N]) : -1 === t && (i = "removeClass", r = e[n] || e[n + B]), r && (o[i].length && (o[i] += " "), o[i] += n);
}), o;
}
function y(e) {
return e instanceof Z ? e[0] : e;
}
function b(e, t, n) {
var i = "";
t && (i = o(t, j, !0)), n.addClass && (i = S(i, o(n.addClass, B))), n.removeClass && (i = S(i, o(n.removeClass, N))), i.length && (n.preparationClasses = i, e.addClass(i));
}
function w(e, t) {
t.preparationClasses && (e.removeClass(t.preparationClasses), t.preparationClasses = null), t.activeClasses && (e.removeClass(t.activeClasses), t.activeClasses = null);
}
function x(e, t) {
var n = t ? "-" + t + "s" : "";
return _(e, [ ae, n ]), [ ae, n ];
}
function C(e, t) {
var n = t ? "paused" : "", i = P + ie;
return _(e, [ i, n ]), [ i, n ];
}
function _(e, t) {
var n = t[0], i = t[1];
e.style[n] = i;
}
function S(e, t) {
return e ? t ? e + " " + t : e : t;
}
function $(e) {
return [ oe, e + "s" ];
}
function A(e, t) {
return [ t ? re : ae, e + "s" ];
}
function k(e, t, n) {
var i = Object.create(null), r = e.getComputedStyle(t) || {};
return W(n, function(e, t) {
var n = r[e];
if (n) {
var o = n.charAt(0);
("-" === o || "+" === o || o >= 0) && (n = E(n)), 0 === n && (n = null), i[t] = n;
}
}), i;
}
function E(e) {
var t = 0, n = e.split(/\s*,\s*/);
return W(n, function(e) {
"s" === e.charAt(e.length - 1) && (e = e.substring(0, e.length - 1)), e = parseFloat(e) || 0, t = t ? Math.max(e, t) : e;
}), t;
}
function T(e) {
return 0 === e || null != e;
}
function D(e, t) {
var n = I, i = e + "s";
return t ? n += te : i += " linear all", [ n, i ];
}
function F() {
var e = Object.create(null);
return {
flush: function() {
e = Object.create(null);
},
count: function(t) {
var n = e[t];
return n ? n.total : 0;
},
get: function(t) {
var n = e[t];
return n && n.value;
},
put: function(t, n) {
e[t] ? e[t].total++ : e[t] = {
total: 1,
value: n
};
}
};
}
function M(e, t, n) {
W(n, function(n) {
e[n] = q(e[n]) ? e[n] : t.style.getPropertyValue(n);
});
}
var I, L, P, O, R = 1, B = "-add", N = "-remove", j = "ng-", U = "ng-animate", V = "$$ngAnimateChildren";
void 0 === e.ontransitionend && void 0 !== e.onwebkittransitionend ? ("-webkit-", I = "WebkitTransition", L = "webkitTransitionEnd transitionend") : (I = "transition", L = "transitionend"), void 0 === e.onanimationend && void 0 !== e.onwebkitanimationend ? ("-webkit-", P = "WebkitAnimation", O = "webkitAnimationEnd animationend") : (P = "animation", O = "animationend");
var H, z, W, G, q, Y, K, X, Q, J, Z, ee, te = "Duration", ne = "TimingFunction", ie = "PlayState", re = P + "Delay", oe = P + te, ae = I + "Delay", se = I + te, le = t.$$minErr("ng"), ce = [ "$$rAF", function(e) {
function t(e) {
i = i.concat(e), n();
}
function n() {
if (i.length) {
for (var t = i.shift(), o = 0; o < t.length; o++) t[o]();
r || e(function() {
r || n();
});
}
}
var i, r;
return i = t.queue = [], t.waitUntilQuiet = function(t) {
r && r(), r = e(function() {
r = null, t(), n();
});
}, t;
} ], ue = [ "$interpolate", function(e) {
return {
link: function(t, n, i) {
function r(e) {
e = "on" === e || "true" === e, n.data(V, e);
}
var o = i.ngAnimateChildren;
Q(o) && 0 === o.length ? n.data(V, !0) : (r(e(o)(t)), i.$observe("ngAnimateChildren", r));
}
};
} ], de = "$$animateCss", he = 1e3, pe = 3, fe = 1.5, ge = {
transitionDuration: se,
transitionDelay: ae,
transitionProperty: I + "Property",
animationDuration: oe,
animationDelay: re,
animationIterationCount: P + "IterationCount"
}, me = {
transitionDuration: se,
transitionDelay: ae,
animationDuration: oe,
animationDelay: re
}, ve = [ "$animateProvider", function(e) {
var t = F(), n = F();
this.$get = [ "$window", "$$jqLite", "$$AnimateRunner", "$timeout", "$$forceReflow", "$sniffer", "$$rAFScheduler", "$$animateQueue", function(e, i, s, l, c, u, m, v) {
function b(e, t) {
var n = "$$ngAnimateParentKey", i = e.parentNode;
return (i[n] || (i[n] = ++U)) + "-" + e.getAttribute("class") + "-" + t;
}
function w(n, i, r, o) {
var a = t.get(r);
return a || "infinite" === (a = k(e, n, o)).animationIterationCount && (a.animationIterationCount = 1), t.put(r, a), a;
}
function S(r, a, s, l) {
var c;
if (t.count(s) > 0 && !(c = n.get(s))) {
var u = o(a, "-stagger");
i.addClass(r, u), (c = k(e, r, l)).animationDuration = Math.max(c.animationDuration, 0), c.transitionDuration = Math.max(c.transitionDuration, 0), i.removeClass(r, u), n.put(s, c);
}
return c || {};
}
function E(e) {
V.push(e), m.waitUntilQuiet(function() {
t.flush(), n.flush();
for (var e = c(), i = 0; i < V.length; i++) V[i](e);
V.length = 0;
});
}
function F(e, t, n) {
var i = w(e, t, n, ge), r = i.animationDelay, o = i.transitionDelay;
return i.maxDelay = r && o ? Math.max(r, o) : r || o, i.maxDuration = Math.max(i.animationDuration * i.animationIterationCount, i.transitionDuration), i;
}
var R = d(i), U = 0, V = [];
return function(e, n) {
function c() {
m();
}
function d() {
m(!0);
}
function m(t) {
if (!(K || Q && X)) {
K = !0, X = !1, z.$$skipPreparationClasses || i.removeClass(e, be), i.removeClass(e, xe), C(Y, !1), x(Y, !1), W(se, function(e) {
Y.style[e[0]] = "";
}), R(e, z), p(e, z), Object.keys(q).length && W(q, function(e, t) {
e ? Y.style.setProperty(t, e) : Y.style.removeProperty(t);
}), z.onDone && z.onDone(), ue && ue.length && e.off(ue.join(" "), U);
var n = e.data(de);
n && (l.cancel(n[0].timer), e.removeData(de)), J && J.complete(!t);
}
}
function w(e) {
Le.blockTransition && x(Y, e), Le.blockKeyframeAnimation && C(Y, !!e);
}
function k() {
return J = new s({
end: c,
cancel: d
}), E(ee), m(), {
$$willAnimate: !1,
start: function() {
return J;
},
end: c
};
}
function U(e) {
e.stopPropagation();
var t = e.originalEvent || e, n = t.$manualTimeStamp || Date.now(), i = parseFloat(t.elapsedTime.toFixed(pe));
Math.max(n - ae, 0) >= ie && i >= re && (Q = !0, m());
}
function V() {
function t() {
if (!K) {
if (w(!1), W(se, function(e) {
var t = e[0], n = e[1];
Y.style[t] = n;
}), R(e, z), i.addClass(e, xe), Le.recalculateTimingStyles) {
if (we = Y.className + " " + be, _e = b(Y, we), Me = F(Y, we, _e), Ie = Me.maxDelay, te = Math.max(Ie, 0), 0 === (re = Me.maxDuration)) return void m();
Le.hasTransitions = Me.transitionDuration > 0, Le.hasAnimations = Me.animationDuration > 0;
}
if (Le.applyAnimationDelay && (Ie = "boolean" != typeof z.delay && T(z.delay) ? parseFloat(z.delay) : Ie, te = Math.max(Ie, 0), Me.animationDelay = Ie, Pe = A(Ie, !0), se.push(Pe), Y.style[Pe[0]] = Pe[1]), ie = te * he, oe = re * he, z.easing) {
var t, r = z.easing;
Le.hasTransitions && (t = I + ne, se.push([ t, r ]), Y.style[t] = r), Le.hasAnimations && (t = P + ne, se.push([ t, r ]), Y.style[t] = r);
}
Me.transitionDuration && ue.push(L), Me.animationDuration && ue.push(O), ae = Date.now();
var o = ie + fe * oe, a = ae + o, s = e.data(de) || [], c = !0;
if (s.length) {
var u = s[0];
(c = a > u.expectedEndTime) ? l.cancel(u.timer) : s.push(m);
}
if (c) {
var d = l(n, o, !1);
s[0] = {
timer: d,
expectedEndTime: a
}, s.push(m), e.data(de, s);
}
ue.length && e.on(ue.join(" "), U), z.to && (z.cleanupStyles && M(q, Y, Object.keys(z.to)), g(e, z));
}
}
function n() {
var t = e.data(de);
if (t) {
for (var n = 1; n < t.length; n++) t[n]();
e.removeData(de);
}
}
if (!K) if (Y.parentNode) {
var r = function(e) {
if (Q) X && e && (X = !1, m()); else if (X = !e, Me.animationDuration) {
var t = C(Y, X);
X ? se.push(t) : a(se, t);
}
}, o = De > 0 && (Me.transitionDuration && 0 === Se.transitionDuration || Me.animationDuration && 0 === Se.animationDuration) && Math.max(Se.animationDelay, Se.transitionDelay);
o ? l(t, Math.floor(o * De * he), !1) : t(), Z.resume = function() {
r(!0);
}, Z.pause = function() {
r(!1);
};
} else m();
}
var z = n || {};
z.$$prepared || (z = h(H(z)));
var q = {}, Y = y(e);
if (!Y || !Y.parentNode || !v.enabled()) return k();
var K, X, Q, J, Z, te, ie, re, oe, ae, se = [], le = e.attr("class"), ce = r(z), ue = [];
if (0 === z.duration || !u.animations && !u.transitions) return k();
var ge = z.event && G(z.event) ? z.event.join(" ") : z.event, ve = "", ye = "";
ge && z.structural ? ve = o(ge, j, !0) : ge && (ve = ge), z.addClass && (ye += o(z.addClass, B)), z.removeClass && (ye.length && (ye += " "), ye += o(z.removeClass, N)), z.applyClassesEarly && ye.length && R(e, z);
var be = [ ve, ye ].join(" ").trim(), we = le + " " + be, xe = o(be, "-active"), Ce = ce.to && Object.keys(ce.to).length > 0;
if (!((z.keyframeStyle || "").length > 0) && !Ce && !be) return k();
var _e, Se;
if (z.stagger > 0) {
var $e = parseFloat(z.stagger);
Se = {
transitionDelay: $e,
animationDelay: $e,
transitionDuration: 0,
animationDuration: 0
};
} else _e = b(Y, we), Se = S(Y, be, _e, me);
z.$$skipPreparationClasses || i.addClass(e, be);
var Ae;
if (z.transitionStyle) {
var ke = [ I, z.transitionStyle ];
_(Y, ke), se.push(ke);
}
if (z.duration >= 0) {
Ae = Y.style[I].length > 0;
var Ee = D(z.duration, Ae);
_(Y, Ee), se.push(Ee);
}
if (z.keyframeStyle) {
var Te = [ P, z.keyframeStyle ];
_(Y, Te), se.push(Te);
}
var De = Se ? z.staggerIndex >= 0 ? z.staggerIndex : t.count(_e) : 0, Fe = 0 === De;
Fe && !z.skipBlocking && x(Y, 9999);
var Me = F(Y, we, _e), Ie = Me.maxDelay;
te = Math.max(Ie, 0), re = Me.maxDuration;
var Le = {};
if (Le.hasTransitions = Me.transitionDuration > 0, Le.hasAnimations = Me.animationDuration > 0, Le.hasTransitionAll = Le.hasTransitions && "all" === Me.transitionProperty, Le.applyTransitionDuration = Ce && (Le.hasTransitions && !Le.hasTransitionAll || Le.hasAnimations && !Le.hasTransitions), Le.applyAnimationDuration = z.duration && Le.hasAnimations, Le.applyTransitionDelay = T(z.delay) && (Le.applyTransitionDuration || Le.hasTransitions), Le.applyAnimationDelay = T(z.delay) && Le.hasAnimations, Le.recalculateTimingStyles = ye.length > 0, (Le.applyTransitionDuration || Le.applyAnimationDuration) && (re = z.duration ? parseFloat(z.duration) : re, Le.applyTransitionDuration && (Le.hasTransitions = !0, Me.transitionDuration = re, Ae = Y.style[I + "Property"].length > 0, se.push(D(re, Ae))), Le.applyAnimationDuration && (Le.hasAnimations = !0, Me.animationDuration = re, se.push($(re)))), 0 === re && !Le.recalculateTimingStyles) return k();
if (null != z.delay) {
var Pe;
"boolean" != typeof z.delay && (Pe = parseFloat(z.delay), te = Math.max(Pe, 0)), Le.applyTransitionDelay && se.push(A(Pe)), Le.applyAnimationDelay && se.push(A(Pe, !0));
}
return null == z.duration && Me.transitionDuration > 0 && (Le.recalculateTimingStyles = Le.recalculateTimingStyles || Fe), ie = te * he, oe = re * he, z.skipBlocking || (Le.blockTransition = Me.transitionDuration > 0, Le.blockKeyframeAnimation = Me.animationDuration > 0 && Se.animationDelay > 0 && 0 === Se.animationDuration), z.from && (z.cleanupStyles && M(q, Y, Object.keys(z.from)), f(e, z)), Le.blockTransition || Le.blockKeyframeAnimation ? w(re) : z.skipBlocking || x(Y, !1), {
$$willAnimate: !0,
end: c,
start: function() {
if (!K) return Z = {
end: c,
cancel: d,
resume: null,
pause: null
}, J = new s(Z), E(V), J;
}
};
};
} ];
} ], ye = [ "$$animationProvider", function(e) {
function t(e) {
return e.parentNode && 11 === e.parentNode.nodeType;
}
e.drivers.push("$$animateCssDriver");
var n = "ng-animate-shim", i = "ng-anchor", r = "ng-anchor-out", o = "ng-anchor-in";
this.$get = [ "$animateCss", "$rootScope", "$$AnimateRunner", "$rootElement", "$sniffer", "$$jqLite", "$document", function(e, a, s, l, c, u, d) {
function h(e) {
return e.replace(/\bng-\S+\b/g, "");
}
function p(e, t) {
return Q(e) && (e = e.split(" ")), Q(t) && (t = t.split(" ")), e.filter(function(e) {
return -1 === t.indexOf(e);
}).join(" ");
}
function f(t, a, l) {
function c(e) {
var t = {}, n = y(e).getBoundingClientRect();
return W([ "width", "height", "top", "left" ], function(e) {
var i = n[e];
switch (e) {
case "top":
i += v.scrollTop;
break;

case "left":
i += v.scrollLeft;
}
t[e] = Math.floor(i) + "px";
}), t;
}
function u(e) {
return e.attr("class") || "";
}
function d() {
var t = h(u(l)), n = p(t, m), i = p(m, t), a = e(g, {
to: c(l),
addClass: o + " " + n,
removeClass: r + " " + i,
delay: !0
});
return a.$$willAnimate ? a : null;
}
function f() {
g.remove(), a.removeClass(n), l.removeClass(n);
}
var g = Z(y(a).cloneNode(!0)), m = h(u(g));
a.addClass(n), l.addClass(n), g.addClass(i), w.append(g);
var b, x = function() {
var t = e(g, {
addClass: r,
delay: !0,
from: c(a)
});
return t.$$willAnimate ? t : null;
}();
if (!x && !(b = d())) return f();
var C = x || b;
return {
start: function() {
function e() {
n && n.end();
}
var t, n = C.start();
return n.done(function() {
if (n = null, !b && (b = d())) return (n = b.start()).done(function() {
n = null, f(), t.complete();
}), n;
f(), t.complete();
}), t = new s({
end: e,
cancel: e
});
}
};
}
function g(e, t, n, i) {
var r = m(e), o = m(t), a = [];
if (W(i, function(e) {
var t = e.out, i = e.in, r = f(n, t, i);
r && a.push(r);
}), r || o || 0 !== a.length) return {
start: function() {
function e() {
W(t, function(e) {
e.end();
});
}
var t = [];
r && t.push(r.start()), o && t.push(o.start()), W(a, function(e) {
t.push(e.start());
});
var n = new s({
end: e,
cancel: e
});
return s.all(t, function(e) {
n.complete(e);
}), n;
}
};
}
function m(t) {
var n = t.element, i = t.options || {};
t.structural && (i.event = t.event, i.structural = !0, i.applyClassesEarly = !0, "leave" === t.event && (i.onDone = i.domOperation)), i.preparationClasses && (i.event = S(i.event, i.preparationClasses));
var r = e(n, i);
return r.$$willAnimate ? r : null;
}
if (!c.animations && !c.transitions) return ee;
var v = d[0].body, b = y(l), w = Z(t(b) || v.contains(b) ? b : v);
return function(e) {
return e.from && e.to ? g(e.from, e.to, e.classes, e.anchors) : m(e);
};
} ];
} ], be = [ "$animateProvider", function(e) {
this.$get = [ "$injector", "$$AnimateRunner", "$$jqLite", function(t, n, i) {
function r(n) {
n = G(n) ? n : n.split(" ");
for (var i = [], r = {}, o = 0; o < n.length; o++) {
var a = n[o], s = e.$$registeredAnimations[a];
s && !r[a] && (i.push(t.get(s)), r[a] = !0);
}
return i;
}
var o = d(i);
return function(e, t, i, a) {
function s() {
a.domOperation(), o(e, a);
}
function l() {
f = !0, s(), p(e, a);
}
function c(e, t, i, r, o) {
var a;
switch (i) {
case "animate":
a = [ t, r.from, r.to, o ];
break;

case "setClass":
a = [ t, v, y, o ];
break;

case "addClass":
a = [ t, v, o ];
break;

case "removeClass":
a = [ t, y, o ];
break;

default:
a = [ t, o ];
}
a.push(r);
var s = e.apply(e, a);
if (s) if (K(s.start) && (s = s.start()), s instanceof n) s.done(o); else if (K(s)) return s;
return ee;
}
function u(e, t, i, r, o) {
var a = [];
return W(r, function(r) {
var s = r[o];
s && a.push(function() {
var r, o, a = !1, l = function(e) {
a || (a = !0, (o || ee)(e), r.complete(!e));
};
return r = new n({
end: function() {
l();
},
cancel: function() {
l(!0);
}
}), o = c(s, e, t, i, function(e) {
l(!1 === e);
}), r;
});
}), a;
}
function d(e, t, i, r, o) {
var a = u(e, t, i, r, o);
if (0 === a.length) {
var s, l;
"beforeSetClass" === o ? (s = u(e, "removeClass", i, r, "beforeRemoveClass"), l = u(e, "addClass", i, r, "beforeAddClass")) : "setClass" === o && (s = u(e, "removeClass", i, r, "removeClass"), l = u(e, "addClass", i, r, "addClass")), s && (a = a.concat(s)), l && (a = a.concat(l));
}
if (0 !== a.length) return function(e) {
var t = [];
return a.length && W(a, function(e) {
t.push(e());
}), t.length ? n.all(t, e) : e(), function(e) {
W(t, function(t) {
e ? t.cancel() : t.end();
});
};
};
}
var f = !1;
3 === arguments.length && X(i) && (a = i, i = null), a = h(a), i || (i = e.attr("class") || "", a.addClass && (i += " " + a.addClass), a.removeClass && (i += " " + a.removeClass));
var g, m, v = a.addClass, y = a.removeClass, b = r(i);
if (b.length) {
var w, x;
"leave" === t ? (x = "leave", w = "afterLeave") : (x = "before" + t.charAt(0).toUpperCase() + t.substr(1), w = t), "enter" !== t && "move" !== t && (g = d(e, t, a, b, x)), m = d(e, t, a, b, w);
}
if (g || m) {
var C;
return {
$$willAnimate: !0,
end: function() {
return C ? C.end() : (l(), (C = new n()).complete(!0)), C;
},
start: function() {
function e(e) {
l(e), C.complete(e);
}
function t(t) {
f || ((i || ee)(t), e(t));
}
if (C) return C;
C = new n();
var i, r = [];
return g && r.push(function(e) {
i = g(e);
}), r.length ? r.push(function(e) {
s(), e(!0);
}) : s(), m && r.push(function(e) {
i = m(e);
}), C.setHost({
end: function() {
t();
},
cancel: function() {
t(!0);
}
}), n.chain(r, e), C;
}
};
}
};
} ];
} ], we = [ "$$animationProvider", function(e) {
e.drivers.push("$$animateJsDriver"), this.$get = [ "$$animateJs", "$$AnimateRunner", function(e, t) {
function n(t) {
var n = t.element, i = t.event, r = t.options, o = t.classes;
return e(n, i, o, r);
}
return function(e) {
if (e.from && e.to) {
var i = n(e.from), r = n(e.to);
if (!i && !r) return;
return {
start: function() {
function e() {
return function() {
W(n, function(e) {
e.end();
});
};
}
var n = [];
i && n.push(i.start()), r && n.push(r.start()), t.all(n, function(e) {
o.complete(e);
});
var o = new t({
end: e(),
cancel: e()
});
return o;
}
};
}
return n(e);
};
} ];
} ], xe = "data-ng-animate", Ce = "$ngAnimatePin", _e = [ "$animateProvider", function(t) {
function i(e) {
if (!e) return null;
var t = e.split(f), n = Object.create(null);
return W(t, function(e) {
n[e] = !0;
}), n;
}
function r(e, t) {
if (e && t) {
var n = i(t);
return e.split(f).some(function(e) {
return n[e];
});
}
}
function o(e, t, n, i) {
return g[e].some(function(e) {
return e(t, n, i);
});
}
function a(e, t) {
var n = (e.addClass || "").length > 0, i = (e.removeClass || "").length > 0;
return t ? n && i : n || i;
}
var c = 1, u = 2, f = " ", g = this.rules = {
skip: [],
cancel: [],
join: []
};
g.join.push(function(e, t, n) {
return !t.structural && a(t);
}), g.skip.push(function(e, t, n) {
return !t.structural && !a(t);
}), g.skip.push(function(e, t, n) {
return "leave" === n.event && t.structural;
}), g.skip.push(function(e, t, n) {
return n.structural && n.state === u && !t.structural;
}), g.cancel.push(function(e, t, n) {
return n.structural && t.structural;
}), g.cancel.push(function(e, t, n) {
return n.state === u && t.structural;
}), g.cancel.push(function(e, t, n) {
if (n.structural) return !1;
var i = t.addClass, o = t.removeClass, a = n.addClass, s = n.removeClass;
return !(J(i) && J(o) || J(a) && J(s)) && (r(i, s) || r(o, a));
}), this.$get = [ "$$rAF", "$rootScope", "$rootElement", "$document", "$$HashMap", "$$animation", "$$AnimateRunner", "$templateRequest", "$$jqLite", "$$forceReflow", function(i, r, f, g, v, x, C, _, S, $) {
function A() {
var e = !1;
return function(t) {
e ? t() : r.$$postDigest(function() {
e = !0, t();
});
};
}
function k(e, t) {
return m(e, t, {});
}
function E(e, t, n) {
var i = y(t), r = y(e), o = [], a = K[n];
return a && W(a, function(e) {
ie.call(e.node, i) ? o.push(e.callback) : "leave" === n && ie.call(e.node, r) && o.push(e.callback);
}), o;
}
function T(e, t, n) {
var i = l(t);
return e.filter(function(e) {
return !(e.node === i && (!n || e.callback === n));
});
}
function D(e, t) {
"close" !== e || t[0].parentNode || re.off(t);
}
function F(e, t, n) {
function l(t, n, r, o) {
$(function() {
var t = E(v, e, n);
t.length ? i(function() {
W(t, function(t) {
t(e, r, o);
}), D(r, e);
}) : D(r, e);
}), t.progress(n, r, o);
}
function d(t) {
w(e, _), ne(e, _), p(e, _), _.domOperation(), S.complete(!t);
}
var f, v, _ = H(n);
(e = s(e)) && (f = y(e), v = e.parent()), _ = h(_);
var S = new C(), $ = A();
if (G(_.addClass) && (_.addClass = _.addClass.join(" ")), _.addClass && !Q(_.addClass) && (_.addClass = null), G(_.removeClass) && (_.removeClass = _.removeClass.join(" ")), _.removeClass && !Q(_.removeClass) && (_.removeClass = null), _.from && !X(_.from) && (_.from = null), _.to && !X(_.to) && (_.to = null), !f) return d(), S;
var T = [ f.className, _.addClass, _.removeClass ].join(" ");
if (!te(T)) return d(), S;
var F = [ "enter", "move", "leave" ].indexOf(t) >= 0, L = g[0].hidden, R = !j || L || N.get(f), U = !R && B.get(f) || {}, V = !!U.state;
if (R || V && U.state === c || (R = !P(e, v, t)), R) return L && l(S, t, "start"), d(), L && l(S, t, "close"), S;
F && M(e);
var z = {
structural: F,
element: e,
event: t,
addClass: _.addClass,
removeClass: _.removeClass,
close: d,
options: _,
runner: S
};
if (V) {
if (o("skip", e, z, U)) return U.state === u ? (d(), S) : (m(e, U, z), U.runner);
if (o("cancel", e, z, U)) if (U.state === u) U.runner.end(); else {
if (!U.structural) return m(e, U, z), U.runner;
U.close();
} else if (o("join", e, z, U)) {
if (U.state !== u) return b(e, F ? t : null, _), t = z.event = U.event, _ = m(e, U, z), U.runner;
k(e, z);
}
} else k(e, z);
var q = z.structural;
if (q || (q = "animate" === z.event && Object.keys(z.options.to || {}).length > 0 || a(z)), !q) return d(), I(e), S;
var Y = (U.counter || 0) + 1;
return z.counter = Y, O(e, c, z), r.$$postDigest(function() {
var n = B.get(f), i = !n;
n = n || {};
var r = (e.parent() || []).length > 0 && ("animate" === n.event || n.structural || a(n));
if (i || n.counter !== Y || !r) return i && (ne(e, _), p(e, _)), (i || F && n.event !== t) && (_.domOperation(), S.end()), void (r || I(e));
t = !n.structural && a(n, !0) ? "setClass" : n.event, O(e, u);
var o = x(e, t, n.options);
S.setHost(o), l(S, t, "start", {}), o.done(function(n) {
d(!n);
var i = B.get(f);
i && i.counter === Y && I(y(e)), l(S, t, "close", {});
});
}), S;
}
function M(e) {
var t = y(e).querySelectorAll("[" + xe + "]");
W(t, function(e) {
var t = parseInt(e.getAttribute(xe), 10), n = B.get(e);
if (n) switch (t) {
case u:
n.runner.end();

case c:
B.remove(e);
}
});
}
function I(e) {
var t = y(e);
t.removeAttribute(xe), B.remove(t);
}
function L(e, t) {
return y(e) === y(t);
}
function P(e, t, n) {
var i, r = Z(g[0].body), o = L(e, r) || "HTML" === e[0].nodeName, a = L(e, f), s = !1, l = N.get(y(e)), c = Z.data(e[0], Ce);
for (c && (t = c), t = y(t); t && (a || (a = L(t, f)), t.nodeType === R); ) {
var u = B.get(t) || {};
if (!s) {
var d = N.get(t);
if (!0 === d && !1 !== l) {
l = !0;
break;
}
!1 === d && (l = !1), s = u.structural;
}
if (J(i) || !0 === i) {
var h = Z.data(t, V);
q(h) && (i = h);
}
if (s && !1 === i) break;
if (o || (o = L(t, r)), o && a) break;
t = a || !(c = Z.data(t, Ce)) ? t.parentNode : y(c);
}
return (!s || i) && !0 !== l && a && o;
}
function O(e, t, n) {
(n = n || {}).state = t;
var i = y(e);
i.setAttribute(xe, t);
var r = B.get(i), o = r ? z(r, n) : n;
B.put(i, o);
}
var B = new v(), N = new v(), j = null, U = r.$watch(function() {
return 0 === _.totalPendingRequests;
}, function(e) {
e && (U(), r.$$postDigest(function() {
r.$$postDigest(function() {
null === j && (j = !0);
});
}));
}), K = Object.create(null), ee = t.classNameFilter(), te = ee ? function(e) {
return ee.test(e);
} : function() {
return !0;
}, ne = d(S), ie = e.Node.prototype.contains || function(e) {
return this === e || !!(16 & this.compareDocumentPosition(e));
}, re = {
on: function(e, t, n) {
var i = l(t);
K[e] = K[e] || [], K[e].push({
node: i,
callback: n
}), Z(t).on("$destroy", function() {
B.get(i) || re.off(e, t, n);
});
},
off: function(e, t, n) {
if (1 !== arguments.length || Q(arguments[0])) {
var i = K[e];
i && (K[e] = 1 === arguments.length ? null : T(i, t, n));
} else {
t = arguments[0];
for (var r in K) K[r] = T(K[r], t);
}
},
pin: function(e, t) {
n(Y(e), "element", "not an element"), n(Y(t), "parentElement", "not an element"), e.data(Ce, t);
},
push: function(e, t, n, i) {
return n = n || {}, n.domOperation = i, F(e, t, n);
},
enabled: function(e, t) {
var n = arguments.length;
if (0 === n) t = !!j; else if (Y(e)) {
var i = y(e);
1 === n ? t = !N.get(i) : N.put(i, !t);
} else t = j = !!e;
return t;
}
};
return re;
} ];
} ], Se = [ "$animateProvider", function(e) {
function t(e, t) {
e.data(s, t);
}
function n(e) {
e.removeData(s);
}
function r(e) {
return e.data(s);
}
var o = "ng-animate-ref", a = this.drivers = [], s = "$$animationRunner";
this.$get = [ "$$jqLite", "$rootScope", "$injector", "$$AnimateRunner", "$$HashMap", "$$rAFScheduler", function(e, s, l, c, u, f) {
function g(e) {
function t(e) {
if (e.processed) return e;
e.processed = !0;
var n = e.domNode, o = n.parentNode;
r.put(n, e);
for (var a; o; ) {
if (a = r.get(o)) {
a.processed || (a = t(a));
break;
}
o = o.parentNode;
}
return (a || i).children.push(e), e;
}
var n, i = {
children: []
}, r = new u();
for (n = 0; n < e.length; n++) {
var o = e[n];
r.put(o.domNode, e[n] = {
domNode: o.domNode,
fn: o.fn,
children: []
});
}
for (n = 0; n < e.length; n++) t(e[n]);
return function(e) {
var t, n = [], i = [];
for (t = 0; t < e.children.length; t++) i.push(e.children[t]);
var r = i.length, o = 0, a = [];
for (t = 0; t < i.length; t++) {
var s = i[t];
r <= 0 && (r = o, o = 0, n.push(a), a = []), a.push(s.fn), s.children.forEach(function(e) {
o++, i.push(e);
}), r--;
}
return a.length && n.push(a), n;
}(i);
}
var m = [], v = d(e);
return function(u, d, b) {
function w(e) {
var t = "[" + o + "]", n = e.hasAttribute(o) ? [ e ] : e.querySelectorAll(t), i = [];
return W(n, function(e) {
var t = e.getAttribute(o);
t && t.length && i.push(e);
}), i;
}
function x(e) {
var t = [], n = {};
W(e, function(e, i) {
var r = y(e.element), a = e.event, s = [ "enter", "move" ].indexOf(a) >= 0, l = e.structural ? w(r) : [];
if (l.length) {
var c = s ? "to" : "from";
W(l, function(e) {
var t = e.getAttribute(o);
n[t] = n[t] || {}, n[t][c] = {
animationID: i,
element: Z(e)
};
});
} else t.push(e);
});
var i = {}, r = {};
return W(n, function(n, o) {
var a = n.from, s = n.to;
if (a && s) {
var l = e[a.animationID], c = e[s.animationID], u = a.animationID.toString();
if (!r[u]) {
var d = r[u] = {
structural: !0,
beforeStart: function() {
l.beforeStart(), c.beforeStart();
},
close: function() {
l.close(), c.close();
},
classes: C(l.classes, c.classes),
from: l,
to: c,
anchors: []
};
d.classes.length ? t.push(d) : (t.push(l), t.push(c));
}
r[u].anchors.push({
out: a.element,
in: s.element
});
} else {
var h = a ? a.animationID : s.animationID, p = h.toString();
i[p] || (i[p] = !0, t.push(e[h]));
}
}), t;
}
function C(e, t) {
e = e.split(" "), t = t.split(" ");
for (var n = [], i = 0; i < e.length; i++) {
var r = e[i];
if ("ng-" !== r.substring(0, 3)) for (var o = 0; o < t.length; o++) if (r === t[o]) {
n.push(r);
break;
}
}
return n.join(" ");
}
function _(e) {
for (var t = a.length - 1; t >= 0; t--) {
var n = a[t], i = l.get(n)(e);
if (i) return i;
}
}
function S(e, t) {
function n(e) {
var n = r(e);
n && n.setHost(t);
}
e.from && e.to ? (n(e.from.element), n(e.to.element)) : n(e.element);
}
function $() {
var e = r(u);
!e || "leave" === d && b.$$domOperationFired || e.end();
}
function A(t) {
u.off("$destroy", $), n(u), v(u, b), p(u, b), b.domOperation(), D && e.removeClass(u, D), u.removeClass(U), E.complete(!t);
}
b = h(b);
var k = [ "enter", "move", "leave" ].indexOf(d) >= 0, E = new c({
end: function() {
A();
},
cancel: function() {
A(!0);
}
});
if (!a.length) return A(), E;
t(u, E);
var T = i(u.attr("class"), i(b.addClass, b.removeClass)), D = b.tempClasses;
D && (T += " " + D, b.tempClasses = null);
var F;
return k && (F = "ng-" + d + "-prepare", e.addClass(u, F)), m.push({
element: u,
classes: T,
event: d,
structural: k,
options: b,
beforeStart: function() {
u.addClass(U), D && e.addClass(u, D), F && (e.removeClass(u, F), F = null);
},
close: A
}), u.on("$destroy", $), m.length > 1 ? E : (s.$$postDigest(function() {
var e = [];
W(m, function(t) {
r(t.element) ? e.push(t) : t.close();
}), m.length = 0;
var t = x(e), n = [];
W(t, function(e) {
n.push({
domNode: y(e.from ? e.from.element : e.element),
fn: function() {
e.beforeStart();
var t, n = e.close;
if (r(e.anchors ? e.from.element || e.to.element : e.element)) {
var i = _(e);
i && (t = i.start);
}
if (t) {
var o = t();
o.done(function(e) {
n(!e);
}), S(e, o);
} else n();
}
});
}), f(g(n));
}), E);
};
} ];
} ], $e = [ "$animate", "$rootScope", function(e, t) {
return {
restrict: "A",
transclude: "element",
terminal: !0,
priority: 600,
link: function(t, n, i, r, o) {
var a, s;
t.$watchCollection(i.ngAnimateSwap || i.for, function(i) {
a && e.leave(a), s && (s.$destroy(), s = null), (i || 0 === i) && (s = t.$new(), o(s, function(t) {
a = t, e.enter(t, null, n);
}));
});
}
};
} ];
t.module("ngAnimate", [], function() {
ee = t.noop, H = t.copy, z = t.extend, Z = t.element, W = t.forEach, G = t.isArray, Q = t.isString, X = t.isObject, J = t.isUndefined, q = t.isDefined, K = t.isFunction, Y = t.isElement;
}).directive("ngAnimateSwap", $e).directive("ngAnimateChildren", ue).factory("$$rAFScheduler", ce).provider("$$animateQueue", _e).provider("$$animation", Se).provider("$animateCss", ve).provider("$$animateCssDriver", ye).provider("$$animateJs", be).provider("$$animateJsDriver", we);
}(window, window.angular), function(e, t) {
"use strict";
function n(e) {
return t.lowercase(e.nodeName || e[0] && e[0].nodeName);
}
function i(e, n) {
var i = !1, r = !1;
this.ngClickOverrideEnabled = function(o) {
return t.isDefined(o) ? (o && !r && (r = !0, a.$$moduleName = "ngTouch", n.directive("ngClick", a), e.decorator("ngClickDirective", [ "$delegate", function(e) {
if (i) e.shift(); else for (var t = e.length - 1; t >= 0; ) {
if ("ngTouch" === e[t].$$moduleName) {
e.splice(t, 1);
break;
}
t--;
}
return e;
} ])), i = o, this) : i;
}, this.$get = function() {
return {
ngClickOverrideEnabled: function() {
return i;
}
};
};
}
function r(e, n, i) {
o.directive(e, [ "$parse", "$swipe", function(r, o) {
var a = 75, s = .3, l = 30;
return function(c, u, d) {
function h(e) {
if (!p) return !1;
var t = Math.abs(e.y - p.y), i = (e.x - p.x) * n;
return f && t < a && i > 0 && i > l && t / i < s;
}
var p, f, g = r(d[e]), m = [ "touch" ];
t.isDefined(d.ngSwipeDisableMouse) || m.push("mouse"), o.bind(u, {
start: function(e, t) {
p = e, f = !0;
},
cancel: function(e) {
f = !1;
},
end: function(e, t) {
h(e) && c.$apply(function() {
u.triggerHandler(i), g(c, {
$event: t
});
});
}
}, m);
};
} ]);
}
var o = t.module("ngTouch", []);
o.provider("$touch", i), i.$inject = [ "$provide", "$compileProvider" ], o.factory("$swipe", [ function() {
function e(e) {
var t = e.originalEvent || e, n = t.touches && t.touches.length ? t.touches : [ t ], i = t.changedTouches && t.changedTouches[0] || n[0];
return {
x: i.clientX,
y: i.clientY
};
}
function n(e, n) {
var r = [];
return t.forEach(e, function(e) {
var t = i[e][n];
t && r.push(t);
}), r.join(" ");
}
var i = {
mouse: {
start: "mousedown",
move: "mousemove",
end: "mouseup"
},
touch: {
start: "touchstart",
move: "touchmove",
end: "touchend",
cancel: "touchcancel"
},
pointer: {
start: "pointerdown",
move: "pointermove",
end: "pointerup",
cancel: "pointercancel"
}
};
return {
bind: function(t, i, r) {
var o, a, s, l, c = !1;
r = r || [ "mouse", "touch", "pointer" ], t.on(n(r, "start"), function(t) {
s = e(t), c = !0, o = 0, a = 0, l = s, i.start && i.start(s, t);
});
var u = n(r, "cancel");
u && t.on(u, function(e) {
c = !1, i.cancel && i.cancel(e);
}), t.on(n(r, "move"), function(t) {
if (c && s) {
var n = e(t);
if (o += Math.abs(n.x - l.x), a += Math.abs(n.y - l.y), l = n, !(o < 10 && a < 10)) return a > o ? (c = !1, void (i.cancel && i.cancel(t))) : (t.preventDefault(), void (i.move && i.move(n, t)));
}
}), t.on(n(r, "end"), function(t) {
c && (c = !1, i.end && i.end(e(t), t));
});
}
};
} ]);
var a = [ "$parse", "$timeout", "$rootElement", function(e, i, r) {
function o(e, t, n, i) {
return Math.abs(e - n) < f && Math.abs(t - i) < f;
}
function a(e, t, n) {
for (var i = 0; i < e.length; i += 2) if (o(e[i], e[i + 1], t, n)) return e.splice(i, i + 2), !0;
return !1;
}
function s(e) {
if (!(Date.now() - u > p)) {
var t = e.touches && e.touches.length ? e.touches : [ e ], i = t[0].clientX, r = t[0].clientY;
i < 1 && r < 1 || h && h[0] === i && h[1] === r || (h && (h = null), "label" === n(e.target) && (h = [ i, r ]), a(d, i, r) || (e.stopPropagation(), e.preventDefault(), e.target && e.target.blur && e.target.blur()));
}
}
function l(e) {
var t = e.touches && e.touches.length ? e.touches : [ e ], n = t[0].clientX, r = t[0].clientY;
d.push(n, r), i(function() {
for (var e = 0; e < d.length; e += 2) if (d[e] === n && d[e + 1] === r) return void d.splice(e, e + 2);
}, p, !1);
}
function c(e, t) {
d || (r[0].addEventListener("click", s, !0), r[0].addEventListener("touchstart", l, !0), d = []), u = Date.now(), a(d, e, t);
}
var u, d, h, p = 2500, f = 25, g = "ng-click-active";
return function(n, i, r) {
function o() {
h = !1, i.removeClass(g);
}
var a, s, l, u, d = e(r.ngClick), h = !1;
i.on("touchstart", function(e) {
h = !0, 3 === (a = e.target ? e.target : e.srcElement).nodeType && (a = a.parentNode), i.addClass(g), s = Date.now();
var t = e.originalEvent || e, n = (t.touches && t.touches.length ? t.touches : [ t ])[0];
l = n.clientX, u = n.clientY;
}), i.on("touchcancel", function(e) {
o();
}), i.on("touchend", function(e) {
var n = Date.now() - s, d = e.originalEvent || e, p = (d.changedTouches && d.changedTouches.length ? d.changedTouches : d.touches && d.touches.length ? d.touches : [ d ])[0], f = p.clientX, g = p.clientY, m = Math.sqrt(Math.pow(f - l, 2) + Math.pow(g - u, 2));
h && n < 750 && m < 12 && (c(f, g), a && a.blur(), t.isDefined(r.disabled) && !1 !== r.disabled || i.triggerHandler("click", [ e ])), o();
}), i.onclick = function(e) {}, i.on("click", function(e, t) {
n.$apply(function() {
d(n, {
$event: t || e
});
});
}), i.on("mousedown", function(e) {
i.addClass(g);
}), i.on("mousemove mouseup", function(e) {
i.removeClass(g);
});
};
} ];
r("ngSwipeLeft", -1, "swipeleft"), r("ngSwipeRight", 1, "swiperight");
}(window, window.angular), function(e, t) {
"use strict";
function n(e, t) {
if (o(e)) {
t = t || [];
for (var n = 0, i = e.length; n < i; n++) t[n] = e[n];
} else if (a(e)) {
t = t || {};
for (var r in e) "$" === r.charAt(0) && "$" === r.charAt(1) || (t[r] = e[r]);
}
return t || e;
}
function i(e, n, i) {
return {
restrict: "ECA",
terminal: !0,
priority: 400,
transclude: "element",
link: function(r, o, a, s, l) {
function c() {
p && (i.cancel(p), p = null), d && (d.$destroy(), d = null), h && ((p = i.leave(h)).done(function(e) {
!1 !== e && (p = null);
}), h = null);
}
function u() {
var a = e.current && e.current.locals, s = a && a.$template;
if (t.isDefined(s)) {
var u = r.$new(), p = e.current, m = l(u, function(e) {
i.enter(e, null, h || o).done(function(e) {
!1 === e || !t.isDefined(f) || f && !r.$eval(f) || n();
}), c();
});
h = m, (d = p.scope = u).$emit("$viewContentLoaded"), d.$eval(g);
} else c();
}
var d, h, p, f = a.autoscroll, g = a.onload || "";
r.$on("$routeChangeSuccess", u), u();
}
};
}
function r(e, t, n) {
return {
restrict: "ECA",
priority: -400,
link: function(i, r) {
var o = n.current, a = o.locals;
r.html(a.$template);
var s = e(r.contents());
if (o.controller) {
a.$scope = i;
var l = t(o.controller, a);
o.controllerAs && (i[o.controllerAs] = l), r.data("$ngControllerController", l), r.children().data("$ngControllerController", l);
}
i[o.resolveAs || "$resolve"] = a, s(i);
}
};
}
var o, a, s = t.module("ngRoute", [ "ng" ]).provider("$route", function() {
function e(e, n) {
return t.extend(Object.create(e), n);
}
function i(e, t) {
var n = t.caseInsensitiveMatch, i = {
originalPath: e,
regexp: e
}, r = i.keys = [];
return e = e.replace(/([().])/g, "\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g, function(e, t, n, i) {
var o = "?" === i || "*?" === i ? "?" : null, a = "*" === i || "*?" === i ? "*" : null;
return r.push({
name: n,
optional: !!o
}), t = t || "", (o ? "" : t) + "(?:" + (o ? t : "") + (a && "(.+?)" || "([^/]+)") + (o || "") + ")" + (o || "");
}).replace(/([/$*])/g, "\\$1"), i.regexp = new RegExp("^" + e + "$", n ? "i" : ""), i;
}
o = t.isArray, a = t.isObject;
var r = {};
this.when = function(e, o) {
var a = n(o);
if (t.isUndefined(a.reloadOnSearch) && (a.reloadOnSearch = !0), t.isUndefined(a.caseInsensitiveMatch) && (a.caseInsensitiveMatch = this.caseInsensitiveMatch), r[e] = t.extend(a, e && i(e, a)), e) {
var s = "/" === e[e.length - 1] ? e.substr(0, e.length - 1) : e + "/";
r[s] = t.extend({
redirectTo: e
}, i(s, a));
}
return this;
}, this.caseInsensitiveMatch = !1, this.otherwise = function(e) {
return "string" == typeof e && (e = {
redirectTo: e
}), this.when(null, e), this;
}, this.$get = [ "$rootScope", "$location", "$routeParams", "$q", "$injector", "$templateRequest", "$sce", function(n, i, o, a, s, c, u) {
function d(e, t) {
var n = t.keys, i = {};
if (!t.regexp) return null;
var r = t.regexp.exec(e);
if (!r) return null;
for (var o = 1, a = r.length; o < a; ++o) {
var s = n[o - 1], l = r[o];
s && l && (i[s.name] = l);
}
return i;
}
function h(e) {
var i = x.current;
y = m(), (b = y && i && y.$$route === i.$$route && t.equals(y.pathParams, i.pathParams) && !y.reloadOnSearch && !w) || !i && !y || n.$broadcast("$routeChangeStart", y, i).defaultPrevented && e && e.preventDefault();
}
function p() {
var e = x.current, r = y;
b ? (e.params = r.params, t.copy(e.params, o), n.$broadcast("$routeUpdate", e)) : (r || e) && (w = !1, x.current = r, r && r.redirectTo && (t.isString(r.redirectTo) ? i.path(v(r.redirectTo, r.params)).search(r.params).replace() : i.url(r.redirectTo(r.pathParams, i.path(), i.search())).replace()), a.when(r).then(f).then(function(i) {
r === x.current && (r && (r.locals = i, t.copy(r.params, o)), n.$broadcast("$routeChangeSuccess", r, e));
}, function(t) {
r === x.current && n.$broadcast("$routeChangeError", r, e, t);
}));
}
function f(e) {
if (e) {
var n = t.extend({}, e.resolve);
t.forEach(n, function(e, i) {
n[i] = t.isString(e) ? s.get(e) : s.invoke(e, null, null, i);
});
var i = g(e);
return t.isDefined(i) && (n.$template = i), a.all(n);
}
}
function g(e) {
var n, i;
return t.isDefined(n = e.template) ? t.isFunction(n) && (n = n(e.params)) : t.isDefined(i = e.templateUrl) && (t.isFunction(i) && (i = i(e.params)), t.isDefined(i) && (e.loadedTemplateUrl = u.valueOf(i), n = c(i))), n;
}
function m() {
var n, o;
return t.forEach(r, function(r, a) {
!o && (n = d(i.path(), r)) && ((o = e(r, {
params: t.extend({}, i.search(), n),
pathParams: n
})).$$route = r);
}), o || r[null] && e(r[null], {
params: {},
pathParams: {}
});
}
function v(e, n) {
var i = [];
return t.forEach((e || "").split(":"), function(e, t) {
if (0 === t) i.push(e); else {
var r = e.match(/(\w+)(?:[?*])?(.*)/), o = r[1];
i.push(n[o]), i.push(r[2] || ""), delete n[o];
}
}), i.join("");
}
var y, b, w = !1, x = {
routes: r,
reload: function() {
w = !0;
var e = {
defaultPrevented: !1,
preventDefault: function() {
this.defaultPrevented = !0, w = !1;
}
};
n.$evalAsync(function() {
h(e), e.defaultPrevented || p();
});
},
updateParams: function(e) {
if (!this.current || !this.current.$$route) throw l("norout", "Tried updating route when with no current route");
e = t.extend({}, this.current.params, e), i.path(v(this.current.$$route.originalPath, e)), i.search(e);
}
};
return n.$on("$locationChangeStart", h), n.$on("$locationChangeSuccess", p), x;
} ];
}), l = t.$$minErr("ngRoute");
s.provider("$routeParams", function() {
this.$get = function() {
return {};
};
}), s.directive("ngView", i), s.directive("ngView", r), i.$inject = [ "$route", "$anchorScroll", "$animate" ], r.$inject = [ "$compile", "$controller", "$route" ];
}(window, window.angular), angular.module("ui.bootstrap", [ "ui.bootstrap.tpls", "ui.bootstrap.collapse", "ui.bootstrap.accordion", "ui.bootstrap.alert", "ui.bootstrap.buttons", "ui.bootstrap.carousel", "ui.bootstrap.dateparser", "ui.bootstrap.position", "ui.bootstrap.datepicker", "ui.bootstrap.dropdown", "ui.bootstrap.stackedMap", "ui.bootstrap.modal", "ui.bootstrap.pagination", "ui.bootstrap.tooltip", "ui.bootstrap.popover", "ui.bootstrap.progressbar", "ui.bootstrap.rating", "ui.bootstrap.tabs", "ui.bootstrap.timepicker", "ui.bootstrap.typeahead" ]), angular.module("ui.bootstrap.tpls", [ "template/accordion/accordion-group.html", "template/accordion/accordion.html", "template/alert/alert.html", "template/carousel/carousel.html", "template/carousel/slide.html", "template/datepicker/datepicker.html", "template/datepicker/day.html", "template/datepicker/month.html", "template/datepicker/popup.html", "template/datepicker/year.html", "template/modal/backdrop.html", "template/modal/window.html", "template/pagination/pager.html", "template/pagination/pagination.html", "template/tooltip/tooltip-html-popup.html", "template/tooltip/tooltip-popup.html", "template/tooltip/tooltip-template-popup.html", "template/popover/popover-html.html", "template/popover/popover-template.html", "template/popover/popover.html", "template/progressbar/bar.html", "template/progressbar/progress.html", "template/progressbar/progressbar.html", "template/rating/rating.html", "template/tabs/tab.html", "template/tabs/tabset.html", "template/timepicker/timepicker.html", "template/typeahead/typeahead-match.html", "template/typeahead/typeahead-popup.html" ]), 
angular.module("ui.bootstrap.collapse", []).directive("uibCollapse", [ "$animate", "$injector", function(e, t) {
var n = t.has("$animateCss") ? t.get("$animateCss") : null;
return {
link: function(t, i, r) {
function o() {
i.removeClass("collapse").addClass("collapsing").attr("aria-expanded", !0).attr("aria-hidden", !1), n ? n(i, {
addClass: "in",
easing: "ease",
to: {
height: i[0].scrollHeight + "px"
}
}).start().finally(a) : e.addClass(i, "in", {
to: {
height: i[0].scrollHeight + "px"
}
}).then(a);
}
function a() {
i.removeClass("collapsing").addClass("collapse").css({
height: "auto"
});
}
function s() {
if (!i.hasClass("collapse") && !i.hasClass("in")) return l();
i.css({
height: i[0].scrollHeight + "px"
}).removeClass("collapse").addClass("collapsing").attr("aria-expanded", !1).attr("aria-hidden", !0), n ? n(i, {
removeClass: "in",
to: {
height: "0"
}
}).start().finally(l) : e.removeClass(i, "in", {
to: {
height: "0"
}
}).then(l);
}
function l() {
i.css({
height: "0"
}), i.removeClass("collapsing").addClass("collapse");
}
t.$watch(r.uibCollapse, function(e) {
e ? s() : o();
});
}
};
} ]), angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning", !1).directive("collapse", [ "$animate", "$injector", "$log", "$collapseSuppressWarning", function(e, t, n, i) {
var r = t.has("$animateCss") ? t.get("$animateCss") : null;
return {
link: function(t, o, a) {
function s() {
o.removeClass("collapse").addClass("collapsing").attr("aria-expanded", !0).attr("aria-hidden", !1), r ? r(o, {
easing: "ease",
to: {
height: o[0].scrollHeight + "px"
}
}).start().done(l) : e.animate(o, {}, {
height: o[0].scrollHeight + "px"
}).then(l);
}
function l() {
o.removeClass("collapsing").addClass("collapse in").css({
height: "auto"
});
}
function c() {
if (!o.hasClass("collapse") && !o.hasClass("in")) return u();
o.css({
height: o[0].scrollHeight + "px"
}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded", !1).attr("aria-hidden", !0), r ? r(o, {
to: {
height: "0"
}
}).start().done(u) : e.animate(o, {}, {
height: "0"
}).then(u);
}
function u() {
o.css({
height: "0"
}), o.removeClass("collapsing").addClass("collapse");
}
i || n.warn("collapse is now deprecated. Use uib-collapse instead."), t.$watch(a.collapse, function(e) {
e ? c() : s();
});
}
};
} ]), angular.module("ui.bootstrap.accordion", [ "ui.bootstrap.collapse" ]).constant("uibAccordionConfig", {
closeOthers: !0
}).controller("UibAccordionController", [ "$scope", "$attrs", "uibAccordionConfig", function(e, t, n) {
this.groups = [], this.closeOthers = function(i) {
(angular.isDefined(t.closeOthers) ? e.$eval(t.closeOthers) : n.closeOthers) && angular.forEach(this.groups, function(e) {
e !== i && (e.isOpen = !1);
});
}, this.addGroup = function(e) {
var t = this;
this.groups.push(e), e.$on("$destroy", function(n) {
t.removeGroup(e);
});
}, this.removeGroup = function(e) {
var t = this.groups.indexOf(e);
-1 !== t && this.groups.splice(t, 1);
};
} ]).directive("uibAccordion", function() {
return {
controller: "UibAccordionController",
controllerAs: "accordion",
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/accordion/accordion.html";
}
};
}).directive("uibAccordionGroup", function() {
return {
require: "^uibAccordion",
transclude: !0,
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/accordion/accordion-group.html";
},
scope: {
heading: "@",
isOpen: "=?",
isDisabled: "=?"
},
controller: function() {
this.setHeading = function(e) {
this.heading = e;
};
},
link: function(e, t, n, i) {
i.addGroup(e), e.openClass = n.openClass || "panel-open", e.panelClass = n.panelClass, e.$watch("isOpen", function(n) {
t.toggleClass(e.openClass, !!n), n && i.closeOthers(e);
}), e.toggleOpen = function(t) {
e.isDisabled || t && 32 !== t.which || (e.isOpen = !e.isOpen);
};
}
};
}).directive("uibAccordionHeading", function() {
return {
transclude: !0,
template: "",
replace: !0,
require: "^uibAccordionGroup",
link: function(e, t, n, i, r) {
i.setHeading(r(e, angular.noop));
}
};
}).directive("uibAccordionTransclude", function() {
return {
require: [ "?^uibAccordionGroup", "?^accordionGroup" ],
link: function(e, t, n, i) {
i = i[0] ? i[0] : i[1], e.$watch(function() {
return i[n.uibAccordionTransclude];
}, function(e) {
e && (t.find("span").html(""), t.find("span").append(e));
});
}
};
}), angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning", !1).controller("AccordionController", [ "$scope", "$attrs", "$controller", "$log", "$accordionSuppressWarning", function(e, t, n, i, r) {
r || i.warn("AccordionController is now deprecated. Use UibAccordionController instead."), angular.extend(this, n("UibAccordionController", {
$scope: e,
$attrs: t
}));
} ]).directive("accordion", [ "$log", "$accordionSuppressWarning", function(e, t) {
return {
restrict: "EA",
controller: "AccordionController",
controllerAs: "accordion",
transclude: !0,
replace: !1,
templateUrl: function(e, t) {
return t.templateUrl || "template/accordion/accordion.html";
},
link: function() {
t || e.warn("accordion is now deprecated. Use uib-accordion instead.");
}
};
} ]).directive("accordionGroup", [ "$log", "$accordionSuppressWarning", function(e, t) {
return {
require: "^accordion",
restrict: "EA",
transclude: !0,
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/accordion/accordion-group.html";
},
scope: {
heading: "@",
isOpen: "=?",
isDisabled: "=?"
},
controller: function() {
this.setHeading = function(e) {
this.heading = e;
};
},
link: function(n, i, r, o) {
t || e.warn("accordion-group is now deprecated. Use uib-accordion-group instead."), o.addGroup(n), n.openClass = r.openClass || "panel-open", n.panelClass = r.panelClass, n.$watch("isOpen", function(e) {
i.toggleClass(n.openClass, !!e), e && o.closeOthers(n);
}), n.toggleOpen = function(e) {
n.isDisabled || e && 32 !== e.which || (n.isOpen = !n.isOpen);
};
}
};
} ]).directive("accordionHeading", [ "$log", "$accordionSuppressWarning", function(e, t) {
return {
restrict: "EA",
transclude: !0,
template: "",
replace: !0,
require: "^accordionGroup",
link: function(n, i, r, o, a) {
t || e.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."), o.setHeading(a(n, angular.noop));
}
};
} ]).directive("accordionTransclude", [ "$log", "$accordionSuppressWarning", function(e, t) {
return {
require: "^accordionGroup",
link: function(n, i, r, o) {
t || e.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."), n.$watch(function() {
return o[r.accordionTransclude];
}, function(e) {
e && (i.find("span").html(""), i.find("span").append(e));
});
}
};
} ]), angular.module("ui.bootstrap.alert", []).controller("UibAlertController", [ "$scope", "$attrs", "$interpolate", "$timeout", function(e, t, n, i) {
e.closeable = !!t.close;
var r = angular.isDefined(t.dismissOnTimeout) ? n(t.dismissOnTimeout)(e.$parent) : null;
r && i(function() {
e.close();
}, parseInt(r, 10));
} ]).directive("uibAlert", function() {
return {
controller: "UibAlertController",
controllerAs: "alert",
templateUrl: function(e, t) {
return t.templateUrl || "template/alert/alert.html";
},
transclude: !0,
replace: !0,
scope: {
type: "@",
close: "&"
}
};
}), angular.module("ui.bootstrap.alert").value("$alertSuppressWarning", !1).controller("AlertController", [ "$scope", "$attrs", "$controller", "$log", "$alertSuppressWarning", function(e, t, n, i, r) {
r || i.warn("AlertController is now deprecated. Use UibAlertController instead."), angular.extend(this, n("UibAlertController", {
$scope: e,
$attrs: t
}));
} ]).directive("alert", [ "$log", "$alertSuppressWarning", function(e, t) {
return {
controller: "AlertController",
controllerAs: "alert",
templateUrl: function(e, t) {
return t.templateUrl || "template/alert/alert.html";
},
transclude: !0,
replace: !0,
scope: {
type: "@",
close: "&"
},
link: function() {
t || e.warn("alert is now deprecated. Use uib-alert instead.");
}
};
} ]), angular.module("ui.bootstrap.buttons", []).constant("uibButtonConfig", {
activeClass: "active",
toggleEvent: "click"
}).controller("UibButtonsController", [ "uibButtonConfig", function(e) {
this.activeClass = e.activeClass || "active", this.toggleEvent = e.toggleEvent || "click";
} ]).directive("uibBtnRadio", function() {
return {
require: [ "uibBtnRadio", "ngModel" ],
controller: "UibButtonsController",
controllerAs: "buttons",
link: function(e, t, n, i) {
var r = i[0], o = i[1];
t.find("input").css({
display: "none"
}), o.$render = function() {
t.toggleClass(r.activeClass, angular.equals(o.$modelValue, e.$eval(n.uibBtnRadio)));
}, t.on(r.toggleEvent, function() {
if (!n.disabled) {
var i = t.hasClass(r.activeClass);
i && !angular.isDefined(n.uncheckable) || e.$apply(function() {
o.$setViewValue(i ? null : e.$eval(n.uibBtnRadio)), o.$render();
});
}
});
}
};
}).directive("uibBtnCheckbox", function() {
return {
require: [ "uibBtnCheckbox", "ngModel" ],
controller: "UibButtonsController",
controllerAs: "button",
link: function(e, t, n, i) {
function r() {
return a(n.btnCheckboxTrue, !0);
}
function o() {
return a(n.btnCheckboxFalse, !1);
}
function a(t, n) {
return angular.isDefined(t) ? e.$eval(t) : n;
}
var s = i[0], l = i[1];
t.find("input").css({
display: "none"
}), l.$render = function() {
t.toggleClass(s.activeClass, angular.equals(l.$modelValue, r()));
}, t.on(s.toggleEvent, function() {
n.disabled || e.$apply(function() {
l.$setViewValue(t.hasClass(s.activeClass) ? o() : r()), l.$render();
});
});
}
};
}), angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning", !1).controller("ButtonsController", [ "$controller", "$log", "$buttonsSuppressWarning", function(e, t, n) {
n || t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."), angular.extend(this, e("UibButtonsController"));
} ]).directive("btnRadio", [ "$log", "$buttonsSuppressWarning", function(e, t) {
return {
require: [ "btnRadio", "ngModel" ],
controller: "ButtonsController",
controllerAs: "buttons",
link: function(n, i, r, o) {
t || e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");
var a = o[0], s = o[1];
i.find("input").css({
display: "none"
}), s.$render = function() {
i.toggleClass(a.activeClass, angular.equals(s.$modelValue, n.$eval(r.btnRadio)));
}, i.bind(a.toggleEvent, function() {
if (!r.disabled) {
var e = i.hasClass(a.activeClass);
e && !angular.isDefined(r.uncheckable) || n.$apply(function() {
s.$setViewValue(e ? null : n.$eval(r.btnRadio)), s.$render();
});
}
});
}
};
} ]).directive("btnCheckbox", [ "$document", "$log", "$buttonsSuppressWarning", function(e, t, n) {
return {
require: [ "btnCheckbox", "ngModel" ],
controller: "ButtonsController",
controllerAs: "button",
link: function(i, r, o, a) {
function s() {
return c(o.btnCheckboxTrue, !0);
}
function l() {
return c(o.btnCheckboxFalse, !1);
}
function c(e, t) {
var n = i.$eval(e);
return angular.isDefined(n) ? n : t;
}
n || t.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");
var u = a[0], d = a[1];
r.find("input").css({
display: "none"
}), d.$render = function() {
r.toggleClass(u.activeClass, angular.equals(d.$modelValue, s()));
}, r.bind(u.toggleEvent, function() {
o.disabled || i.$apply(function() {
d.$setViewValue(r.hasClass(u.activeClass) ? l() : s()), d.$render();
});
}), r.on("keypress", function(t) {
o.disabled || 32 !== t.which || e[0].activeElement !== r[0] || i.$apply(function() {
d.$setViewValue(r.hasClass(u.activeClass) ? l() : s()), d.$render();
});
});
}
};
} ]), angular.module("ui.bootstrap.carousel", []).controller("UibCarouselController", [ "$scope", "$element", "$interval", "$animate", function(e, t, n, i) {
function r(t, n, r) {
m || (angular.extend(t, {
direction: r,
active: !0
}), angular.extend(d.currentSlide || {}, {
direction: r,
active: !1
}), i.enabled() && !e.noTransition && !e.$currentTransition && t.$element && d.slides.length > 1 && (t.$element.data(f, t.direction), d.currentSlide && d.currentSlide.$element && d.currentSlide.$element.data(f, t.direction), e.$currentTransition = !0, p ? i.on("addClass", t.$element, function(t, n) {
"close" === n && (e.$currentTransition = null, i.off("addClass", t));
}) : t.$element.one("$animate:close", function() {
e.$currentTransition = null;
})), d.currentSlide = t, g = n, a());
}
function o(e) {
if (angular.isUndefined(h[e].index)) return h[e];
var t;
h.length;
for (t = 0; t < h.length; ++t) if (h[t].index == e) return h[t];
}
function a() {
s();
var t = +e.interval;
!isNaN(t) && t > 0 && (c = n(l, t));
}
function s() {
c && (n.cancel(c), c = null);
}
function l() {
var t = +e.interval;
u && !isNaN(t) && t > 0 && h.length ? e.next() : e.pause();
}
var c, u, d = this, h = d.slides = e.slides = [], p = angular.version.minor >= 4, f = "uib-slideDirection", g = -1;
d.currentSlide = null;
var m = !1;
d.select = e.select = function(t, n) {
var i = e.indexOfSlide(t);
void 0 === n && (n = i > d.getCurrentIndex() ? "next" : "prev"), t && t !== d.currentSlide && !e.$currentTransition && r(t, i, n);
}, e.$on("$destroy", function() {
m = !0;
}), d.getCurrentIndex = function() {
return d.currentSlide && angular.isDefined(d.currentSlide.index) ? +d.currentSlide.index : g;
}, e.indexOfSlide = function(e) {
return angular.isDefined(e.index) ? +e.index : h.indexOf(e);
}, e.next = function() {
var t = (d.getCurrentIndex() + 1) % h.length;
{
if (0 !== t || !e.noWrap()) return d.select(o(t), "next");
e.pause();
}
}, e.prev = function() {
var t = d.getCurrentIndex() - 1 < 0 ? h.length - 1 : d.getCurrentIndex() - 1;
{
if (!e.noWrap() || t !== h.length - 1) return d.select(o(t), "prev");
e.pause();
}
}, e.isActive = function(e) {
return d.currentSlide === e;
}, e.$watch("interval", a), e.$watchCollection("slides", function(t) {
t.length || (e.$currentTransition = null);
}), e.$on("$destroy", s), e.play = function() {
u || (u = !0, a());
}, e.pause = function() {
e.noPause || (u = !1, s());
}, d.addSlide = function(t, n) {
t.$element = n, h.push(t), 1 === h.length || t.active ? (d.select(h[h.length - 1]), 1 === h.length && e.play()) : t.active = !1;
}, d.removeSlide = function(e) {
angular.isDefined(e.index) && h.sort(function(e, t) {
return +e.index > +t.index;
});
var t = h.indexOf(e);
h.splice(t, 1), h.length > 0 && e.active ? t >= h.length ? d.select(h[t - 1]) : d.select(h[t]) : g > t && g--, 0 === h.length && (d.currentSlide = null);
}, e.$watch("noTransition", function(e) {
t.data("uib-noTransition", e);
});
} ]).directive("uibCarousel", [ function() {
return {
transclude: !0,
replace: !0,
controller: "UibCarouselController",
controllerAs: "carousel",
require: "carousel",
templateUrl: function(e, t) {
return t.templateUrl || "template/carousel/carousel.html";
},
scope: {
interval: "=",
noTransition: "=",
noPause: "=",
noWrap: "&"
}
};
} ]).directive("uibSlide", function() {
return {
require: "^uibCarousel",
restrict: "EA",
transclude: !0,
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/carousel/slide.html";
},
scope: {
active: "=?",
actual: "=?",
index: "=?"
},
link: function(e, t, n, i) {
i.addSlide(e, t), e.$on("$destroy", function() {
i.removeSlide(e);
}), e.$watch("active", function(t) {
t && i.select(e);
});
}
};
}).animation(".item", [ "$injector", "$animate", function(e, t) {
function n(e, t, n) {
e.removeClass(t), n && n();
}
var i = null;
return e.has("$animateCss") && (i = e.get("$animateCss")), {
beforeAddClass: function(e, r, o) {
if ("active" == r && e.parent() && e.parent().parent() && !e.parent().parent().data("uib-noTransition")) {
var a = !1, s = e.data("uib-slideDirection"), l = "next" == s ? "left" : "right", c = n.bind(this, e, l + " " + s, o);
return e.addClass(s), i ? i(e, {
addClass: l
}).start().done(c) : t.addClass(e, l).then(function() {
a || c(), o();
}), function() {
a = !0;
};
}
o();
},
beforeRemoveClass: function(e, r, o) {
if ("active" === r && e.parent() && e.parent().parent() && !e.parent().parent().data("uib-noTransition")) {
var a = !1, s = "next" == e.data("uib-slideDirection") ? "left" : "right", l = n.bind(this, e, s, o);
return i ? i(e, {
addClass: s
}).start().done(l) : t.addClass(e, s).then(function() {
a || l(), o();
}), function() {
a = !0;
};
}
o();
}
};
} ]), angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning", !1).controller("CarouselController", [ "$scope", "$element", "$controller", "$log", "$carouselSuppressWarning", function(e, t, n, i, r) {
r || i.warn("CarouselController is now deprecated. Use UibCarouselController instead."), angular.extend(this, n("UibCarouselController", {
$scope: e,
$element: t
}));
} ]).directive("carousel", [ "$log", "$carouselSuppressWarning", function(e, t) {
return {
transclude: !0,
replace: !0,
controller: "CarouselController",
controllerAs: "carousel",
require: "carousel",
templateUrl: function(e, t) {
return t.templateUrl || "template/carousel/carousel.html";
},
scope: {
interval: "=",
noTransition: "=",
noPause: "=",
noWrap: "&"
},
link: function() {
t || e.warn("carousel is now deprecated. Use uib-carousel instead.");
}
};
} ]).directive("slide", [ "$log", "$carouselSuppressWarning", function(e, t) {
return {
require: "^carousel",
transclude: !0,
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/carousel/slide.html";
},
scope: {
active: "=?",
actual: "=?",
index: "=?"
},
link: function(n, i, r, o) {
t || e.warn("slide is now deprecated. Use uib-slide instead."), o.addSlide(n, i), n.$on("$destroy", function() {
o.removeSlide(n);
}), n.$watch("active", function(e) {
e && o.select(n);
});
}
};
} ]), angular.module("ui.bootstrap.dateparser", []).service("uibDateParser", [ "$log", "$locale", "orderByFilter", function(e, t, n) {
function i(e) {
var t = [], i = e.split("");
return angular.forEach(a, function(n, r) {
var o = e.indexOf(r);
if (o > -1) {
e = e.split(""), i[o] = "(" + n.regex + ")", e[o] = "$";
for (var a = o + 1, s = o + r.length; a < s; a++) i[a] = "", e[a] = "$";
e = e.join(""), t.push({
index: o,
apply: n.apply
});
}
}), {
regex: new RegExp("^" + i.join("") + "$"),
map: n(t, "index")
};
}
function r(e, t, n) {
return !(n < 1) && (1 === t && n > 28 ? 29 === n && (e % 4 == 0 && e % 100 != 0 || e % 400 == 0) : 3 !== t && 5 !== t && 8 !== t && 10 !== t || n < 31);
}
var o, a, s = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
this.init = function() {
o = t.id, this.parsers = {}, a = {
yyyy: {
regex: "\\d{4}",
apply: function(e) {
this.year = +e;
}
},
yy: {
regex: "\\d{2}",
apply: function(e) {
this.year = +e + 2e3;
}
},
y: {
regex: "\\d{1,4}",
apply: function(e) {
this.year = +e;
}
},
MMMM: {
regex: t.DATETIME_FORMATS.MONTH.join("|"),
apply: function(e) {
this.month = t.DATETIME_FORMATS.MONTH.indexOf(e);
}
},
MMM: {
regex: t.DATETIME_FORMATS.SHORTMONTH.join("|"),
apply: function(e) {
this.month = t.DATETIME_FORMATS.SHORTMONTH.indexOf(e);
}
},
MM: {
regex: "0[1-9]|1[0-2]",
apply: function(e) {
this.month = e - 1;
}
},
M: {
regex: "[1-9]|1[0-2]",
apply: function(e) {
this.month = e - 1;
}
},
dd: {
regex: "[0-2][0-9]{1}|3[0-1]{1}",
apply: function(e) {
this.date = +e;
}
},
d: {
regex: "[1-2]?[0-9]{1}|3[0-1]{1}",
apply: function(e) {
this.date = +e;
}
},
EEEE: {
regex: t.DATETIME_FORMATS.DAY.join("|")
},
EEE: {
regex: t.DATETIME_FORMATS.SHORTDAY.join("|")
},
HH: {
regex: "(?:0|1)[0-9]|2[0-3]",
apply: function(e) {
this.hours = +e;
}
},
hh: {
regex: "0[0-9]|1[0-2]",
apply: function(e) {
this.hours = +e;
}
},
H: {
regex: "1?[0-9]|2[0-3]",
apply: function(e) {
this.hours = +e;
}
},
h: {
regex: "[0-9]|1[0-2]",
apply: function(e) {
this.hours = +e;
}
},
mm: {
regex: "[0-5][0-9]",
apply: function(e) {
this.minutes = +e;
}
},
m: {
regex: "[0-9]|[1-5][0-9]",
apply: function(e) {
this.minutes = +e;
}
},
sss: {
regex: "[0-9][0-9][0-9]",
apply: function(e) {
this.milliseconds = +e;
}
},
ss: {
regex: "[0-5][0-9]",
apply: function(e) {
this.seconds = +e;
}
},
s: {
regex: "[0-9]|[1-5][0-9]",
apply: function(e) {
this.seconds = +e;
}
},
a: {
regex: t.DATETIME_FORMATS.AMPMS.join("|"),
apply: function(e) {
12 === this.hours && (this.hours = 0), "PM" === e && (this.hours += 12);
}
}
};
}, this.init(), this.parse = function(n, a, l) {
if (!angular.isString(n) || !a) return n;
a = (a = t.DATETIME_FORMATS[a] || a).replace(s, "\\$&"), t.id !== o && this.init(), this.parsers[a] || (this.parsers[a] = i(a));
var c = this.parsers[a], u = c.regex, d = c.map, h = n.match(u);
if (h && h.length) {
var p, f;
angular.isDate(l) && !isNaN(l.getTime()) ? p = {
year: l.getFullYear(),
month: l.getMonth(),
date: l.getDate(),
hours: l.getHours(),
minutes: l.getMinutes(),
seconds: l.getSeconds(),
milliseconds: l.getMilliseconds()
} : (l && e.warn("dateparser:", "baseDate is not a valid date"), p = {
year: 1900,
month: 0,
date: 1,
hours: 0,
minutes: 0,
seconds: 0,
milliseconds: 0
});
for (var g = 1, m = h.length; g < m; g++) {
var v = d[g - 1];
v.apply && v.apply.call(p, h[g]);
}
return r(p.year, p.month, p.date) && (angular.isDate(l) && !isNaN(l.getTime()) ? (f = new Date(l)).setFullYear(p.year, p.month, p.date, p.hours, p.minutes, p.seconds, p.milliseconds || 0) : f = new Date(p.year, p.month, p.date, p.hours, p.minutes, p.seconds, p.milliseconds || 0)), f;
}
};
} ]), angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning", !1).service("dateParser", [ "$log", "$dateParserSuppressWarning", "uibDateParser", function(e, t, n) {
t || e.warn("dateParser is now deprecated. Use uibDateParser instead."), angular.extend(this, n);
} ]), angular.module("ui.bootstrap.position", []).factory("$uibPosition", [ "$document", "$window", function(e, t) {
function n(e, n) {
return e.currentStyle ? e.currentStyle[n] : t.getComputedStyle ? t.getComputedStyle(e)[n] : e.style[n];
}
function i(e) {
return "static" === (n(e, "position") || "static");
}
var r = function(t) {
for (var n = e[0], r = t.offsetParent || n; r && r !== n && i(r); ) r = r.offsetParent;
return r || n;
};
return {
position: function(t) {
var n = this.offset(t), i = {
top: 0,
left: 0
}, o = r(t[0]);
o != e[0] && ((i = this.offset(angular.element(o))).top += o.clientTop - o.scrollTop, i.left += o.clientLeft - o.scrollLeft);
var a = t[0].getBoundingClientRect();
return {
width: a.width || t.prop("offsetWidth"),
height: a.height || t.prop("offsetHeight"),
top: n.top - i.top,
left: n.left - i.left
};
},
offset: function(n) {
var i = n[0].getBoundingClientRect();
return {
width: i.width || n.prop("offsetWidth"),
height: i.height || n.prop("offsetHeight"),
top: i.top + (t.pageYOffset || e[0].documentElement.scrollTop),
left: i.left + (t.pageXOffset || e[0].documentElement.scrollLeft)
};
},
positionElements: function(e, t, n, i) {
var r, o, a, s, l = n.split("-"), c = l[0], u = l[1] || "center";
r = i ? this.offset(e) : this.position(e), o = t.prop("offsetWidth"), a = t.prop("offsetHeight");
var d = {
center: function() {
return r.left + r.width / 2 - o / 2;
},
left: function() {
return r.left;
},
right: function() {
return r.left + r.width;
}
}, h = {
center: function() {
return r.top + r.height / 2 - a / 2;
},
top: function() {
return r.top;
},
bottom: function() {
return r.top + r.height;
}
};
switch (c) {
case "right":
s = {
top: h[u](),
left: d[c]()
};
break;

case "left":
s = {
top: h[u](),
left: r.left - o
};
break;

case "bottom":
s = {
top: h[c](),
left: d[u]()
};
break;

default:
s = {
top: r.top - a,
left: d[u]()
};
}
return s;
}
};
} ]), angular.module("ui.bootstrap.position").value("$positionSuppressWarning", !1).service("$position", [ "$log", "$positionSuppressWarning", "$uibPosition", function(e, t, n) {
t || e.warn("$position is now deprecated. Use $uibPosition instead."), angular.extend(this, n);
} ]), angular.module("ui.bootstrap.datepicker", [ "ui.bootstrap.dateparser", "ui.bootstrap.position" ]).value("$datepickerSuppressError", !1).constant("uibDatepickerConfig", {
formatDay: "dd",
formatMonth: "MMMM",
formatYear: "yyyy",
formatDayHeader: "EEE",
formatDayTitle: "MMMM yyyy",
formatMonthTitle: "yyyy",
datepickerMode: "day",
minMode: "day",
maxMode: "year",
showWeeks: !0,
startingDay: 0,
yearRange: 20,
minDate: null,
maxDate: null,
shortcutPropagation: !1
}).controller("UibDatepickerController", [ "$scope", "$attrs", "$parse", "$interpolate", "$log", "dateFilter", "uibDatepickerConfig", "$datepickerSuppressError", function(e, t, n, i, r, o, a, s) {
var l = this, c = {
$setViewValue: angular.noop
};
this.modes = [ "day", "month", "year" ], angular.forEach([ "formatDay", "formatMonth", "formatYear", "formatDayHeader", "formatDayTitle", "formatMonthTitle", "showWeeks", "startingDay", "yearRange", "shortcutPropagation" ], function(n, r) {
l[n] = angular.isDefined(t[n]) ? r < 6 ? i(t[n])(e.$parent) : e.$parent.$eval(t[n]) : a[n];
}), angular.forEach([ "minDate", "maxDate" ], function(i) {
t[i] ? e.$parent.$watch(n(t[i]), function(e) {
l[i] = e ? new Date(e) : null, l.refreshView();
}) : l[i] = a[i] ? new Date(a[i]) : null;
}), angular.forEach([ "minMode", "maxMode" ], function(i) {
t[i] ? e.$parent.$watch(n(t[i]), function(n) {
l[i] = angular.isDefined(n) ? n : t[i], e[i] = l[i], ("minMode" == i && l.modes.indexOf(e.datepickerMode) < l.modes.indexOf(l[i]) || "maxMode" == i && l.modes.indexOf(e.datepickerMode) > l.modes.indexOf(l[i])) && (e.datepickerMode = l[i]);
}) : (l[i] = a[i] || null, e[i] = l[i]);
}), e.datepickerMode = e.datepickerMode || a.datepickerMode, e.uniqueId = "datepicker-" + e.$id + "-" + Math.floor(1e4 * Math.random()), angular.isDefined(t.initDate) ? (this.activeDate = e.$parent.$eval(t.initDate) || new Date(), e.$parent.$watch(t.initDate, function(e) {
e && (c.$isEmpty(c.$modelValue) || c.$invalid) && (l.activeDate = e, l.refreshView());
})) : this.activeDate = new Date(), e.isActive = function(t) {
return 0 === l.compare(t.date, l.activeDate) && (e.activeDateId = t.uid, !0);
}, this.init = function(e) {
(c = e).$render = function() {
l.render();
};
}, this.render = function() {
if (c.$viewValue) {
var e = new Date(c.$viewValue);
!isNaN(e) ? this.activeDate = e : s || r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
}
this.refreshView();
}, this.refreshView = function() {
if (this.element) {
this._refreshView();
var e = c.$viewValue ? new Date(c.$viewValue) : null;
c.$setValidity("dateDisabled", !e || this.element && !this.isDisabled(e));
}
}, this.createDateObject = function(e, t) {
var n = c.$viewValue ? new Date(c.$viewValue) : null;
return {
date: e,
label: o(e, t),
selected: n && 0 === this.compare(e, n),
disabled: this.isDisabled(e),
current: 0 === this.compare(e, new Date()),
customClass: this.customClass(e)
};
}, this.isDisabled = function(n) {
return this.minDate && this.compare(n, this.minDate) < 0 || this.maxDate && this.compare(n, this.maxDate) > 0 || t.dateDisabled && e.dateDisabled({
date: n,
mode: e.datepickerMode
});
}, this.customClass = function(t) {
return e.customClass({
date: t,
mode: e.datepickerMode
});
}, this.split = function(e, t) {
for (var n = []; e.length > 0; ) n.push(e.splice(0, t));
return n;
}, e.select = function(t) {
if (e.datepickerMode === l.minMode) {
var n = c.$viewValue ? new Date(c.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);
n.setFullYear(t.getFullYear(), t.getMonth(), t.getDate()), c.$setViewValue(n), c.$render();
} else l.activeDate = t, e.datepickerMode = l.modes[l.modes.indexOf(e.datepickerMode) - 1];
}, e.move = function(e) {
var t = l.activeDate.getFullYear() + e * (l.step.years || 0), n = l.activeDate.getMonth() + e * (l.step.months || 0);
l.activeDate.setFullYear(t, n, 1), l.refreshView();
}, e.toggleMode = function(t) {
t = t || 1, e.datepickerMode === l.maxMode && 1 === t || e.datepickerMode === l.minMode && -1 === t || (e.datepickerMode = l.modes[l.modes.indexOf(e.datepickerMode) + t]);
}, e.keys = {
13: "enter",
32: "space",
33: "pageup",
34: "pagedown",
35: "end",
36: "home",
37: "left",
38: "up",
39: "right",
40: "down"
};
e.$on("uib:datepicker.focus", function() {
l.element[0].focus();
}), e.keydown = function(t) {
var n = e.keys[t.which];
if (n && !t.shiftKey && !t.altKey) if (t.preventDefault(), l.shortcutPropagation || t.stopPropagation(), "enter" === n || "space" === n) {
if (l.isDisabled(l.activeDate)) return;
e.select(l.activeDate);
} else !t.ctrlKey || "up" !== n && "down" !== n ? (l.handleKeyDown(n, t), l.refreshView()) : e.toggleMode("up" === n ? 1 : -1);
};
} ]).controller("UibDaypickerController", [ "$scope", "$element", "dateFilter", function(e, t, n) {
function i(e, t) {
return 1 !== t || e % 4 != 0 || e % 100 == 0 && e % 400 != 0 ? o[t] : 29;
}
function r(e) {
var t = new Date(e);
t.setDate(t.getDate() + 4 - (t.getDay() || 7));
var n = t.getTime();
return t.setMonth(0), t.setDate(1), Math.floor(Math.round((n - t) / 864e5) / 7) + 1;
}
var o = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];
this.step = {
months: 1
}, this.element = t, this.init = function(t) {
angular.extend(t, this), e.showWeeks = t.showWeeks, t.refreshView();
}, this.getDates = function(e, t) {
for (var n, i = new Array(t), r = new Date(e), o = 0; o < t; ) n = new Date(r), i[o++] = n, r.setDate(r.getDate() + 1);
return i;
}, this._refreshView = function() {
var t = this.activeDate.getFullYear(), i = this.activeDate.getMonth(), o = new Date(this.activeDate);
o.setFullYear(t, i, 1);
var a = this.startingDay - o.getDay(), s = a > 0 ? 7 - a : -a, l = new Date(o);
s > 0 && l.setDate(1 - s);
for (var c = this.getDates(l, 42), u = 0; u < 42; u++) c[u] = angular.extend(this.createDateObject(c[u], this.formatDay), {
secondary: c[u].getMonth() !== i,
uid: e.uniqueId + "-" + u
});
e.labels = new Array(7);
for (var d = 0; d < 7; d++) e.labels[d] = {
abbr: n(c[d].date, this.formatDayHeader),
full: n(c[d].date, "EEEE")
};
if (e.title = n(this.activeDate, this.formatDayTitle), e.rows = this.split(c, 7), e.showWeeks) {
e.weekNumbers = [];
for (var h = (11 - this.startingDay) % 7, p = e.rows.length, f = 0; f < p; f++) e.weekNumbers.push(r(e.rows[f][h].date));
}
}, this.compare = function(e, t) {
return new Date(e.getFullYear(), e.getMonth(), e.getDate()) - new Date(t.getFullYear(), t.getMonth(), t.getDate());
}, this.handleKeyDown = function(e, t) {
var n = this.activeDate.getDate();
if ("left" === e) n -= 1; else if ("up" === e) n -= 7; else if ("right" === e) n += 1; else if ("down" === e) n += 7; else if ("pageup" === e || "pagedown" === e) {
var r = this.activeDate.getMonth() + ("pageup" === e ? -1 : 1);
this.activeDate.setMonth(r, 1), n = Math.min(i(this.activeDate.getFullYear(), this.activeDate.getMonth()), n);
} else "home" === e ? n = 1 : "end" === e && (n = i(this.activeDate.getFullYear(), this.activeDate.getMonth()));
this.activeDate.setDate(n);
};
} ]).controller("UibMonthpickerController", [ "$scope", "$element", "dateFilter", function(e, t, n) {
this.step = {
years: 1
}, this.element = t, this.init = function(e) {
angular.extend(e, this), e.refreshView();
}, this._refreshView = function() {
for (var t, i = new Array(12), r = this.activeDate.getFullYear(), o = 0; o < 12; o++) (t = new Date(this.activeDate)).setFullYear(r, o, 1), i[o] = angular.extend(this.createDateObject(t, this.formatMonth), {
uid: e.uniqueId + "-" + o
});
e.title = n(this.activeDate, this.formatMonthTitle), e.rows = this.split(i, 3);
}, this.compare = function(e, t) {
return new Date(e.getFullYear(), e.getMonth()) - new Date(t.getFullYear(), t.getMonth());
}, this.handleKeyDown = function(e, t) {
var n = this.activeDate.getMonth();
if ("left" === e) n -= 1; else if ("up" === e) n -= 3; else if ("right" === e) n += 1; else if ("down" === e) n += 3; else if ("pageup" === e || "pagedown" === e) {
var i = this.activeDate.getFullYear() + ("pageup" === e ? -1 : 1);
this.activeDate.setFullYear(i);
} else "home" === e ? n = 0 : "end" === e && (n = 11);
this.activeDate.setMonth(n);
};
} ]).controller("UibYearpickerController", [ "$scope", "$element", "dateFilter", function(e, t, n) {
function i(e) {
return parseInt((e - 1) / r, 10) * r + 1;
}
var r;
this.element = t, this.yearpickerInit = function() {
r = this.yearRange, this.step = {
years: r
};
}, this._refreshView = function() {
for (var t, n = new Array(r), o = 0, a = i(this.activeDate.getFullYear()); o < r; o++) (t = new Date(this.activeDate)).setFullYear(a + o, 0, 1), n[o] = angular.extend(this.createDateObject(t, this.formatYear), {
uid: e.uniqueId + "-" + o
});
e.title = [ n[0].label, n[r - 1].label ].join(" - "), e.rows = this.split(n, 5);
}, this.compare = function(e, t) {
return e.getFullYear() - t.getFullYear();
}, this.handleKeyDown = function(e, t) {
var n = this.activeDate.getFullYear();
"left" === e ? n -= 1 : "up" === e ? n -= 5 : "right" === e ? n += 1 : "down" === e ? n += 5 : "pageup" === e || "pagedown" === e ? n += ("pageup" === e ? -1 : 1) * this.step.years : "home" === e ? n = i(this.activeDate.getFullYear()) : "end" === e && (n = i(this.activeDate.getFullYear()) + r - 1), this.activeDate.setFullYear(n);
};
} ]).directive("uibDatepicker", function() {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/datepicker.html";
},
scope: {
datepickerMode: "=?",
dateDisabled: "&",
customClass: "&",
shortcutPropagation: "&?"
},
require: [ "uibDatepicker", "^ngModel" ],
controller: "UibDatepickerController",
controllerAs: "datepicker",
link: function(e, t, n, i) {
var r = i[0], o = i[1];
r.init(o);
}
};
}).directive("uibDaypicker", function() {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/day.html";
},
require: [ "^?uibDatepicker", "uibDaypicker", "^?datepicker" ],
controller: "UibDaypickerController",
link: function(e, t, n, i) {
var r = i[0] || i[2];
i[1].init(r);
}
};
}).directive("uibMonthpicker", function() {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/month.html";
},
require: [ "^?uibDatepicker", "uibMonthpicker", "^?datepicker" ],
controller: "UibMonthpickerController",
link: function(e, t, n, i) {
var r = i[0] || i[2];
i[1].init(r);
}
};
}).directive("uibYearpicker", function() {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/year.html";
},
require: [ "^?uibDatepicker", "uibYearpicker", "^?datepicker" ],
controller: "UibYearpickerController",
link: function(e, t, n, i) {
var r = i[0] || i[2];
angular.extend(r, i[1]), r.yearpickerInit(), r.refreshView();
}
};
}).constant("uibDatepickerPopupConfig", {
datepickerPopup: "yyyy-MM-dd",
datepickerPopupTemplateUrl: "template/datepicker/popup.html",
datepickerTemplateUrl: "template/datepicker/datepicker.html",
html5Types: {
date: "yyyy-MM-dd",
"datetime-local": "yyyy-MM-ddTHH:mm:ss.sss",
month: "yyyy-MM"
},
currentText: "Today",
clearText: "Clear",
closeText: "Done",
closeOnDateSelection: !0,
appendToBody: !1,
showButtonBar: !0,
onOpenFocus: !0
}).controller("UibDatepickerPopupController", [ "$scope", "$element", "$attrs", "$compile", "$parse", "$document", "$rootScope", "$uibPosition", "dateFilter", "uibDateParser", "uibDatepickerPopupConfig", "$timeout", function(e, t, n, i, r, o, a, s, l, c, u, d) {
function h(e) {
return e.replace(/([A-Z])/g, function(e) {
return "-" + e.toLowerCase();
});
}
function p(t) {
angular.isNumber(t) && (t = new Date(t));
{
if (!t) return null;
if (angular.isDate(t) && !isNaN(t)) return t;
if (angular.isString(t)) {
var n = c.parse(t, v, e.date);
return isNaN(n) ? void 0 : n;
}
}
}
function f(e, t) {
var i = e || t;
if (!n.ngRequired && !i) return !0;
if (angular.isNumber(i) && (i = new Date(i)), i) {
if (angular.isDate(i) && !isNaN(i)) return !0;
if (angular.isString(i)) {
var r = c.parse(i, v);
return !isNaN(r);
}
return !1;
}
return !0;
}
function g(n) {
var i = A[0], r = t[0].contains(n.target), o = void 0 !== i.contains && i.contains(n.target);
!e.isOpen || r || o || e.$apply(function() {
e.isOpen = !1;
});
}
function m(n) {
27 === n.which && e.isOpen ? (n.preventDefault(), n.stopPropagation(), e.$apply(function() {
e.isOpen = !1;
}), t[0].focus()) : 40 !== n.which || e.isOpen || (n.preventDefault(), n.stopPropagation(), e.$apply(function() {
e.isOpen = !0;
}));
}
var v, y, b, w, x, C, _, S, $, A, k = {}, E = !1;
e.watchData = {}, this.init = function(s) {
if ($ = s, y = angular.isDefined(n.closeOnDateSelection) ? e.$parent.$eval(n.closeOnDateSelection) : u.closeOnDateSelection, b = angular.isDefined(n.datepickerAppendToBody) ? e.$parent.$eval(n.datepickerAppendToBody) : u.appendToBody, w = angular.isDefined(n.onOpenFocus) ? e.$parent.$eval(n.onOpenFocus) : u.onOpenFocus, x = angular.isDefined(n.datepickerPopupTemplateUrl) ? n.datepickerPopupTemplateUrl : u.datepickerPopupTemplateUrl, C = angular.isDefined(n.datepickerTemplateUrl) ? n.datepickerTemplateUrl : u.datepickerTemplateUrl, e.showButtonBar = angular.isDefined(n.showButtonBar) ? e.$parent.$eval(n.showButtonBar) : u.showButtonBar, u.html5Types[n.type] ? (v = u.html5Types[n.type], E = !0) : (v = n.datepickerPopup || n.uibDatepickerPopup || u.datepickerPopup, n.$observe("uibDatepickerPopup", function(e, t) {
var n = e || u.datepickerPopup;
if (n !== v && (v = n, $.$modelValue = null, !v)) throw new Error("uibDatepickerPopup must have a date format specified.");
})), !v) throw new Error("uibDatepickerPopup must have a date format specified.");
if (E && n.datepickerPopup) throw new Error("HTML5 date input types do not support custom formats.");
if ((_ = angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({
"ng-model": "date",
"ng-change": "dateSelection(date)",
"template-url": x
}), (S = angular.element(_.children()[0])).attr("template-url", C), E && "month" === n.type && (S.attr("datepicker-mode", '"month"'), S.attr("min-mode", "month")), n.datepickerOptions) {
var d = e.$parent.$eval(n.datepickerOptions);
d && d.initDate && (e.initDate = d.initDate, S.attr("init-date", "initDate"), delete d.initDate), angular.forEach(d, function(e, t) {
S.attr(h(t), e);
});
}
angular.forEach([ "minMode", "maxMode", "minDate", "maxDate", "datepickerMode", "initDate", "shortcutPropagation" ], function(t) {
if (n[t]) {
var i = r(n[t]);
if (e.$parent.$watch(i, function(n) {
e.watchData[t] = n, "minDate" !== t && "maxDate" !== t || (k[t] = new Date(n));
}), S.attr(h(t), "watchData." + t), "datepickerMode" === t) {
var o = i.assign;
e.$watch("watchData." + t, function(t, n) {
angular.isFunction(o) && t !== n && o(e.$parent, t);
});
}
}
}), n.dateDisabled && S.attr("date-disabled", "dateDisabled({ date: date, mode: mode })"), n.showWeeks && S.attr("show-weeks", n.showWeeks), n.customClass && S.attr("custom-class", "customClass({ date: date, mode: mode })"), E ? $.$formatters.push(function(t) {
return e.date = t, t;
}) : ($.$$parserName = "date", $.$validators.date = f, $.$parsers.unshift(p), $.$formatters.push(function(t) {
return e.date = t, $.$isEmpty(t) ? t : l(t, v);
})), $.$viewChangeListeners.push(function() {
e.date = c.parse($.$viewValue, v, e.date);
}), t.bind("keydown", m), A = i(_)(e), _.remove(), b ? o.find("body").append(A) : t.after(A), e.$on("$destroy", function() {
!0 === e.isOpen && (a.$$phase || e.$apply(function() {
e.isOpen = !1;
})), A.remove(), t.unbind("keydown", m), o.unbind("click", g);
});
}, e.getText = function(t) {
return e[t + "Text"] || u[t + "Text"];
}, e.isDisabled = function(t) {
return "today" === t && (t = new Date()), e.watchData.minDate && e.compare(t, k.minDate) < 0 || e.watchData.maxDate && e.compare(t, k.maxDate) > 0;
}, e.compare = function(e, t) {
return new Date(e.getFullYear(), e.getMonth(), e.getDate()) - new Date(t.getFullYear(), t.getMonth(), t.getDate());
}, e.dateSelection = function(n) {
angular.isDefined(n) && (e.date = n);
var i = e.date ? l(e.date, v) : null;
t.val(i), $.$setViewValue(i), y && (e.isOpen = !1, t[0].focus());
}, e.keydown = function(n) {
27 === n.which && (e.isOpen = !1, t[0].focus());
}, e.select = function(t) {
if ("today" === t) {
var n = new Date();
angular.isDate(e.date) ? (t = new Date(e.date)).setFullYear(n.getFullYear(), n.getMonth(), n.getDate()) : t = new Date(n.setHours(0, 0, 0, 0));
}
e.dateSelection(t);
}, e.close = function() {
e.isOpen = !1, t[0].focus();
}, e.$watch("isOpen", function(n) {
n ? (e.position = b ? s.offset(t) : s.position(t), e.position.top = e.position.top + t.prop("offsetHeight"), d(function() {
w && e.$broadcast("uib:datepicker.focus"), o.bind("click", g);
}, 0, !1)) : o.unbind("click", g);
});
} ]).directive("uibDatepickerPopup", function() {
return {
require: [ "ngModel", "uibDatepickerPopup" ],
controller: "UibDatepickerPopupController",
scope: {
isOpen: "=?",
currentText: "@",
clearText: "@",
closeText: "@",
dateDisabled: "&",
customClass: "&"
},
link: function(e, t, n, i) {
var r = i[0];
i[1].init(r);
}
};
}).directive("uibDatepickerPopupWrap", function() {
return {
replace: !0,
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/popup.html";
}
};
}), angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning", !1).controller("DatepickerController", [ "$scope", "$attrs", "$parse", "$interpolate", "$log", "dateFilter", "uibDatepickerConfig", "$datepickerSuppressError", "$datepickerSuppressWarning", function(e, t, n, i, r, o, a, s, l) {
l || r.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");
var c = this, u = {
$setViewValue: angular.noop
};
this.modes = [ "day", "month", "year" ], angular.forEach([ "formatDay", "formatMonth", "formatYear", "formatDayHeader", "formatDayTitle", "formatMonthTitle", "showWeeks", "startingDay", "yearRange", "shortcutPropagation" ], function(n, r) {
c[n] = angular.isDefined(t[n]) ? r < 6 ? i(t[n])(e.$parent) : e.$parent.$eval(t[n]) : a[n];
}), angular.forEach([ "minDate", "maxDate" ], function(i) {
t[i] ? e.$parent.$watch(n(t[i]), function(e) {
c[i] = e ? new Date(e) : null, c.refreshView();
}) : c[i] = a[i] ? new Date(a[i]) : null;
}), angular.forEach([ "minMode", "maxMode" ], function(i) {
t[i] ? e.$parent.$watch(n(t[i]), function(n) {
c[i] = angular.isDefined(n) ? n : t[i], e[i] = c[i], ("minMode" == i && c.modes.indexOf(e.datepickerMode) < c.modes.indexOf(c[i]) || "maxMode" == i && c.modes.indexOf(e.datepickerMode) > c.modes.indexOf(c[i])) && (e.datepickerMode = c[i]);
}) : (c[i] = a[i] || null, e[i] = c[i]);
}), e.datepickerMode = e.datepickerMode || a.datepickerMode, e.uniqueId = "datepicker-" + e.$id + "-" + Math.floor(1e4 * Math.random()), angular.isDefined(t.initDate) ? (this.activeDate = e.$parent.$eval(t.initDate) || new Date(), e.$parent.$watch(t.initDate, function(e) {
e && (u.$isEmpty(u.$modelValue) || u.$invalid) && (c.activeDate = e, c.refreshView());
})) : this.activeDate = new Date(), e.isActive = function(t) {
return 0 === c.compare(t.date, c.activeDate) && (e.activeDateId = t.uid, !0);
}, this.init = function(e) {
(u = e).$render = function() {
c.render();
};
}, this.render = function() {
if (u.$viewValue) {
var e = new Date(u.$viewValue);
!isNaN(e) ? this.activeDate = e : s || r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
}
this.refreshView();
}, this.refreshView = function() {
if (this.element) {
this._refreshView();
var e = u.$viewValue ? new Date(u.$viewValue) : null;
u.$setValidity("dateDisabled", !e || this.element && !this.isDisabled(e));
}
}, this.createDateObject = function(e, t) {
var n = u.$viewValue ? new Date(u.$viewValue) : null;
return {
date: e,
label: o(e, t),
selected: n && 0 === this.compare(e, n),
disabled: this.isDisabled(e),
current: 0 === this.compare(e, new Date()),
customClass: this.customClass(e)
};
}, this.isDisabled = function(n) {
return this.minDate && this.compare(n, this.minDate) < 0 || this.maxDate && this.compare(n, this.maxDate) > 0 || t.dateDisabled && e.dateDisabled({
date: n,
mode: e.datepickerMode
});
}, this.customClass = function(t) {
return e.customClass({
date: t,
mode: e.datepickerMode
});
}, this.split = function(e, t) {
for (var n = []; e.length > 0; ) n.push(e.splice(0, t));
return n;
}, this.fixTimeZone = function(e) {
var t = e.getHours();
e.setHours(23 === t ? t + 2 : 0);
}, e.select = function(t) {
if (e.datepickerMode === c.minMode) {
var n = u.$viewValue ? new Date(u.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);
n.setFullYear(t.getFullYear(), t.getMonth(), t.getDate()), u.$setViewValue(n), u.$render();
} else c.activeDate = t, e.datepickerMode = c.modes[c.modes.indexOf(e.datepickerMode) - 1];
}, e.move = function(e) {
var t = c.activeDate.getFullYear() + e * (c.step.years || 0), n = c.activeDate.getMonth() + e * (c.step.months || 0);
c.activeDate.setFullYear(t, n, 1), c.refreshView();
}, e.toggleMode = function(t) {
t = t || 1, e.datepickerMode === c.maxMode && 1 === t || e.datepickerMode === c.minMode && -1 === t || (e.datepickerMode = c.modes[c.modes.indexOf(e.datepickerMode) + t]);
}, e.keys = {
13: "enter",
32: "space",
33: "pageup",
34: "pagedown",
35: "end",
36: "home",
37: "left",
38: "up",
39: "right",
40: "down"
};
e.$on("uib:datepicker.focus", function() {
c.element[0].focus();
}), e.keydown = function(t) {
var n = e.keys[t.which];
if (n && !t.shiftKey && !t.altKey) if (t.preventDefault(), c.shortcutPropagation || t.stopPropagation(), "enter" === n || "space" === n) {
if (c.isDisabled(c.activeDate)) return;
e.select(c.activeDate);
} else !t.ctrlKey || "up" !== n && "down" !== n ? (c.handleKeyDown(n, t), c.refreshView()) : e.toggleMode("up" === n ? 1 : -1);
};
} ]).directive("datepicker", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/datepicker.html";
},
scope: {
datepickerMode: "=?",
dateDisabled: "&",
customClass: "&",
shortcutPropagation: "&?"
},
require: [ "datepicker", "^ngModel" ],
controller: "DatepickerController",
controllerAs: "datepicker",
link: function(n, i, r, o) {
t || e.warn("datepicker is now deprecated. Use uib-datepicker instead.");
var a = o[0], s = o[1];
a.init(s);
}
};
} ]).directive("daypicker", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
templateUrl: "template/datepicker/day.html",
require: [ "^datepicker", "daypicker" ],
controller: "UibDaypickerController",
link: function(n, i, r, o) {
t || e.warn("daypicker is now deprecated. Use uib-daypicker instead.");
var a = o[0];
o[1].init(a);
}
};
} ]).directive("monthpicker", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
templateUrl: "template/datepicker/month.html",
require: [ "^datepicker", "monthpicker" ],
controller: "UibMonthpickerController",
link: function(n, i, r, o) {
t || e.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");
var a = o[0];
o[1].init(a);
}
};
} ]).directive("yearpicker", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
templateUrl: "template/datepicker/year.html",
require: [ "^datepicker", "yearpicker" ],
controller: "UibYearpickerController",
link: function(n, i, r, o) {
t || e.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");
var a = o[0];
angular.extend(a, o[1]), a.yearpickerInit(), a.refreshView();
}
};
} ]).directive("datepickerPopup", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
require: [ "ngModel", "datepickerPopup" ],
controller: "UibDatepickerPopupController",
scope: {
isOpen: "=?",
currentText: "@",
clearText: "@",
closeText: "@",
dateDisabled: "&",
customClass: "&"
},
link: function(n, i, r, o) {
t || e.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");
var a = o[0];
o[1].init(a);
}
};
} ]).directive("datepickerPopupWrap", [ "$log", "$datepickerSuppressWarning", function(e, t) {
return {
replace: !0,
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/datepicker/popup.html";
},
link: function() {
t || e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.");
}
};
} ]), angular.module("ui.bootstrap.dropdown", [ "ui.bootstrap.position" ]).constant("uibDropdownConfig", {
openClass: "open"
}).service("uibDropdownService", [ "$document", "$rootScope", function(e, t) {
var n = null;
this.open = function(t) {
n || (e.bind("click", i), e.bind("keydown", r)), n && n !== t && (n.isOpen = !1), n = t;
}, this.close = function(t) {
n === t && (n = null, e.unbind("click", i), e.unbind("keydown", r));
};
var i = function(e) {
if (n && (!e || "disabled" !== n.getAutoClose())) {
var i = n.getToggleElement();
if (!(e && i && i[0].contains(e.target))) {
var r = n.getDropdownElement();
e && "outsideClick" === n.getAutoClose() && r && r[0].contains(e.target) || (n.isOpen = !1, t.$$phase || n.$apply());
}
}
}, r = function(e) {
27 === e.which ? (n.focusToggleElement(), i()) : n.isKeynavEnabled() && /(38|40)/.test(e.which) && n.isOpen && (e.preventDefault(), e.stopPropagation(), n.focusDropdownEntry(e.which));
};
} ]).controller("UibDropdownController", [ "$scope", "$element", "$attrs", "$parse", "uibDropdownConfig", "uibDropdownService", "$animate", "$uibPosition", "$document", "$compile", "$templateRequest", function(e, t, n, i, r, o, a, s, l, c, u) {
var d, h, p = this, f = e.$new(), g = r.openClass, m = angular.noop, v = n.onToggle ? i(n.onToggle) : angular.noop, y = !1, b = !1;
t.addClass("dropdown"), this.init = function() {
n.isOpen && (h = i(n.isOpen), m = h.assign, e.$watch(h, function(e) {
f.isOpen = !!e;
})), y = angular.isDefined(n.dropdownAppendToBody), b = angular.isDefined(n.uibKeyboardNav), y && p.dropdownMenu && (l.find("body").append(p.dropdownMenu), t.on("$destroy", function() {
p.dropdownMenu.remove();
}));
}, this.toggle = function(e) {
return f.isOpen = arguments.length ? !!e : !f.isOpen;
}, this.isOpen = function() {
return f.isOpen;
}, f.getToggleElement = function() {
return p.toggleElement;
}, f.getAutoClose = function() {
return n.autoClose || "always";
}, f.getElement = function() {
return t;
}, f.isKeynavEnabled = function() {
return b;
}, f.focusDropdownEntry = function(e) {
var n = p.dropdownMenu ? angular.element(p.dropdownMenu).find("a") : angular.element(t).find("ul").eq(0).find("a");
switch (e) {
case 40:
angular.isNumber(p.selectedOption) ? p.selectedOption = p.selectedOption === n.length - 1 ? p.selectedOption : p.selectedOption + 1 : p.selectedOption = 0;
break;

case 38:
angular.isNumber(p.selectedOption) ? p.selectedOption = 0 === p.selectedOption ? 0 : p.selectedOption - 1 : p.selectedOption = n.length - 1;
}
n[p.selectedOption].focus();
}, f.getDropdownElement = function() {
return p.dropdownMenu;
}, f.focusToggleElement = function() {
p.toggleElement && p.toggleElement[0].focus();
}, f.$watch("isOpen", function(n, i) {
if (y && p.dropdownMenu) {
var r = s.positionElements(t, p.dropdownMenu, "bottom-left", !0), l = {
top: r.top + "px",
display: n ? "block" : "none"
};
p.dropdownMenu.hasClass("dropdown-menu-right") ? (l.left = "auto", l.right = window.innerWidth - (r.left + t.prop("offsetWidth")) + "px") : (l.left = r.left + "px", l.right = "auto"), p.dropdownMenu.css(l);
}
if (a[n ? "addClass" : "removeClass"](t, g).then(function() {
angular.isDefined(n) && n !== i && v(e, {
open: !!n
});
}), n) p.dropdownMenuTemplateUrl && u(p.dropdownMenuTemplateUrl).then(function(e) {
d = f.$new(), c(e.trim())(d, function(e) {
var t = e;
p.dropdownMenu.replaceWith(t), p.dropdownMenu = t;
});
}), f.focusToggleElement(), o.open(f); else {
if (p.dropdownMenuTemplateUrl) {
d && d.$destroy();
var h = angular.element('<ul class="dropdown-menu"></ul>');
p.dropdownMenu.replaceWith(h), p.dropdownMenu = h;
}
o.close(f), p.selectedOption = null;
}
angular.isFunction(m) && m(e, n);
}), e.$on("$locationChangeSuccess", function() {
"disabled" !== f.getAutoClose() && (f.isOpen = !1);
});
var w = e.$on("$destroy", function() {
f.$destroy();
});
f.$on("$destroy", w);
} ]).directive("uibDropdown", function() {
return {
controller: "UibDropdownController",
link: function(e, t, n, i) {
i.init();
}
};
}).directive("uibDropdownMenu", function() {
return {
restrict: "AC",
require: "?^uibDropdown",
link: function(e, t, n, i) {
if (i && !angular.isDefined(n.dropdownNested)) {
t.addClass("dropdown-menu");
var r = n.templateUrl;
r && (i.dropdownMenuTemplateUrl = r), i.dropdownMenu || (i.dropdownMenu = t);
}
}
};
}).directive("uibKeyboardNav", function() {
return {
restrict: "A",
require: "?^uibDropdown",
link: function(e, t, n, i) {
t.bind("keydown", function(e) {
if (-1 !== [ 38, 40 ].indexOf(e.which)) {
e.preventDefault(), e.stopPropagation();
var t = i.dropdownMenu.find("a");
switch (e.which) {
case 40:
angular.isNumber(i.selectedOption) ? i.selectedOption = i.selectedOption === t.length - 1 ? i.selectedOption : i.selectedOption + 1 : i.selectedOption = 0;
break;

case 38:
angular.isNumber(i.selectedOption) ? i.selectedOption = 0 === i.selectedOption ? 0 : i.selectedOption - 1 : i.selectedOption = t.length - 1;
}
t[i.selectedOption].focus();
}
});
}
};
}).directive("uibDropdownToggle", function() {
return {
require: "?^uibDropdown",
link: function(e, t, n, i) {
if (i) {
t.addClass("dropdown-toggle"), i.toggleElement = t;
var r = function(r) {
r.preventDefault(), t.hasClass("disabled") || n.disabled || e.$apply(function() {
i.toggle();
});
};
t.bind("click", r), t.attr({
"aria-haspopup": !0,
"aria-expanded": !1
}), e.$watch(i.isOpen, function(e) {
t.attr("aria-expanded", !!e);
}), e.$on("$destroy", function() {
t.unbind("click", r);
});
}
}
};
}), angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning", !1).service("dropdownService", [ "$log", "$dropdownSuppressWarning", "uibDropdownService", function(e, t, n) {
t || e.warn("dropdownService is now deprecated. Use uibDropdownService instead."), angular.extend(this, n);
} ]).controller("DropdownController", [ "$scope", "$element", "$attrs", "$parse", "uibDropdownConfig", "uibDropdownService", "$animate", "$uibPosition", "$document", "$compile", "$templateRequest", "$log", "$dropdownSuppressWarning", function(e, t, n, i, r, o, a, s, l, c, u, d, h) {
h || d.warn("DropdownController is now deprecated. Use UibDropdownController instead.");
var p, f, g = this, m = e.$new(), v = r.openClass, y = angular.noop, b = n.onToggle ? i(n.onToggle) : angular.noop, w = !1, x = !1;
t.addClass("dropdown"), this.init = function() {
n.isOpen && (f = i(n.isOpen), y = f.assign, e.$watch(f, function(e) {
m.isOpen = !!e;
})), w = angular.isDefined(n.dropdownAppendToBody), x = angular.isDefined(n.uibKeyboardNav), w && g.dropdownMenu && (l.find("body").append(g.dropdownMenu), t.on("$destroy", function() {
g.dropdownMenu.remove();
}));
}, this.toggle = function(e) {
return m.isOpen = arguments.length ? !!e : !m.isOpen;
}, this.isOpen = function() {
return m.isOpen;
}, m.getToggleElement = function() {
return g.toggleElement;
}, m.getAutoClose = function() {
return n.autoClose || "always";
}, m.getElement = function() {
return t;
}, m.isKeynavEnabled = function() {
return x;
}, m.focusDropdownEntry = function(e) {
var n = g.dropdownMenu ? angular.element(g.dropdownMenu).find("a") : angular.element(t).find("ul").eq(0).find("a");
switch (e) {
case 40:
angular.isNumber(g.selectedOption) ? g.selectedOption = g.selectedOption === n.length - 1 ? g.selectedOption : g.selectedOption + 1 : g.selectedOption = 0;
break;

case 38:
angular.isNumber(g.selectedOption) ? g.selectedOption = 0 === g.selectedOption ? 0 : g.selectedOption - 1 : g.selectedOption = n.length - 1;
}
n[g.selectedOption].focus();
}, m.getDropdownElement = function() {
return g.dropdownMenu;
}, m.focusToggleElement = function() {
g.toggleElement && g.toggleElement[0].focus();
}, m.$watch("isOpen", function(n, i) {
if (w && g.dropdownMenu) {
var r = s.positionElements(t, g.dropdownMenu, "bottom-left", !0), l = {
top: r.top + "px",
display: n ? "block" : "none"
};
g.dropdownMenu.hasClass("dropdown-menu-right") ? (l.left = "auto", l.right = window.innerWidth - (r.left + t.prop("offsetWidth")) + "px") : (l.left = r.left + "px", l.right = "auto"), g.dropdownMenu.css(l);
}
if (a[n ? "addClass" : "removeClass"](t, v).then(function() {
angular.isDefined(n) && n !== i && b(e, {
open: !!n
});
}), n) g.dropdownMenuTemplateUrl && u(g.dropdownMenuTemplateUrl).then(function(e) {
p = m.$new(), c(e.trim())(p, function(e) {
var t = e;
g.dropdownMenu.replaceWith(t), g.dropdownMenu = t;
});
}), m.focusToggleElement(), o.open(m); else {
if (g.dropdownMenuTemplateUrl) {
p && p.$destroy();
var d = angular.element('<ul class="dropdown-menu"></ul>');
g.dropdownMenu.replaceWith(d), g.dropdownMenu = d;
}
o.close(m), g.selectedOption = null;
}
angular.isFunction(y) && y(e, n);
}), e.$on("$locationChangeSuccess", function() {
"disabled" !== m.getAutoClose() && (m.isOpen = !1);
});
var C = e.$on("$destroy", function() {
m.$destroy();
});
m.$on("$destroy", C);
} ]).directive("dropdown", [ "$log", "$dropdownSuppressWarning", function(e, t) {
return {
controller: "DropdownController",
link: function(n, i, r, o) {
t || e.warn("dropdown is now deprecated. Use uib-dropdown instead."), o.init();
}
};
} ]).directive("dropdownMenu", [ "$log", "$dropdownSuppressWarning", function(e, t) {
return {
restrict: "AC",
require: "?^dropdown",
link: function(n, i, r, o) {
if (o && !angular.isDefined(r.dropdownNested)) {
t || e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."), i.addClass("dropdown-menu");
var a = r.templateUrl;
a && (o.dropdownMenuTemplateUrl = a), o.dropdownMenu || (o.dropdownMenu = i);
}
}
};
} ]).directive("keyboardNav", [ "$log", "$dropdownSuppressWarning", function(e, t) {
return {
restrict: "A",
require: "?^dropdown",
link: function(n, i, r, o) {
t || e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."), i.bind("keydown", function(e) {
if (-1 !== [ 38, 40 ].indexOf(e.which)) {
e.preventDefault(), e.stopPropagation();
var t = o.dropdownMenu.find("a");
switch (e.which) {
case 40:
angular.isNumber(o.selectedOption) ? o.selectedOption = o.selectedOption === t.length - 1 ? o.selectedOption : o.selectedOption + 1 : o.selectedOption = 0;
break;

case 38:
angular.isNumber(o.selectedOption) ? o.selectedOption = 0 === o.selectedOption ? 0 : o.selectedOption - 1 : o.selectedOption = t.length - 1;
}
t[o.selectedOption].focus();
}
});
}
};
} ]).directive("dropdownToggle", [ "$log", "$dropdownSuppressWarning", function(e, t) {
return {
require: "?^dropdown",
link: function(n, i, r, o) {
if (t || e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."), o) {
i.addClass("dropdown-toggle"), o.toggleElement = i;
var a = function(e) {
e.preventDefault(), i.hasClass("disabled") || r.disabled || n.$apply(function() {
o.toggle();
});
};
i.bind("click", a), i.attr({
"aria-haspopup": !0,
"aria-expanded": !1
}), n.$watch(o.isOpen, function(e) {
i.attr("aria-expanded", !!e);
}), n.$on("$destroy", function() {
i.unbind("click", a);
});
}
}
};
} ]), angular.module("ui.bootstrap.stackedMap", []).factory("$$stackedMap", function() {
return {
createNew: function() {
var e = [];
return {
add: function(t, n) {
e.push({
key: t,
value: n
});
},
get: function(t) {
for (var n = 0; n < e.length; n++) if (t == e[n].key) return e[n];
},
keys: function() {
for (var t = [], n = 0; n < e.length; n++) t.push(e[n].key);
return t;
},
top: function() {
return e[e.length - 1];
},
remove: function(t) {
for (var n = -1, i = 0; i < e.length; i++) if (t == e[i].key) {
n = i;
break;
}
return e.splice(n, 1)[0];
},
removeTop: function() {
return e.splice(e.length - 1, 1)[0];
},
length: function() {
return e.length;
}
};
}
};
}), angular.module("ui.bootstrap.modal", [ "ui.bootstrap.stackedMap" ]).factory("$$multiMap", function() {
return {
createNew: function() {
var e = {};
return {
entries: function() {
return Object.keys(e).map(function(t) {
return {
key: t,
value: e[t]
};
});
},
get: function(t) {
return e[t];
},
hasKey: function(t) {
return !!e[t];
},
keys: function() {
return Object.keys(e);
},
put: function(t, n) {
e[t] || (e[t] = []), e[t].push(n);
},
remove: function(t, n) {
var i = e[t];
if (i) {
var r = i.indexOf(n);
-1 !== r && i.splice(r, 1), i.length || delete e[t];
}
}
};
}
};
}).directive("uibModalBackdrop", [ "$animate", "$injector", "$uibModalStack", function(e, t, n) {
function i(t, i, o) {
i.addClass("modal-backdrop"), o.modalInClass && (r ? r(i, {
addClass: o.modalInClass
}).start() : e.addClass(i, o.modalInClass), t.$on(n.NOW_CLOSING_EVENT, function(t, n) {
var a = n();
r ? r(i, {
removeClass: o.modalInClass
}).start().then(a) : e.removeClass(i, o.modalInClass).then(a);
}));
}
var r = null;
return t.has("$animateCss") && (r = t.get("$animateCss")), {
replace: !0,
templateUrl: "template/modal/backdrop.html",
compile: function(e, t) {
return e.addClass(t.backdropClass), i;
}
};
} ]).directive("uibModalWindow", [ "$uibModalStack", "$q", "$animate", "$injector", function(e, t, n, i) {
var r = null;
return i.has("$animateCss") && (r = i.get("$animateCss")), {
scope: {
index: "@"
},
replace: !0,
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/modal/window.html";
},
link: function(i, o, a) {
o.addClass(a.windowClass || ""), o.addClass(a.windowTopClass || ""), i.size = a.size, i.close = function(t) {
var n = e.getTop();
n && n.value.backdrop && "static" !== n.value.backdrop && t.target === t.currentTarget && (t.preventDefault(), t.stopPropagation(), e.dismiss(n.key, "backdrop click"));
}, o.on("click", i.close), i.$isRendered = !0;
var s = t.defer();
a.$observe("modalRender", function(e) {
"true" == e && s.resolve();
}), s.promise.then(function() {
var s = null;
a.modalInClass && (s = r ? r(o, {
addClass: a.modalInClass
}).start() : n.addClass(o, a.modalInClass), i.$on(e.NOW_CLOSING_EVENT, function(e, t) {
var i = t();
r ? r(o, {
removeClass: a.modalInClass
}).start().then(i) : n.removeClass(o, a.modalInClass).then(i);
})), t.when(s).then(function() {
var e = o[0].querySelector("[autofocus]");
e ? e.focus() : o[0].focus();
});
var l = e.getTop();
l && e.modalRendered(l.key);
});
}
};
} ]).directive("uibModalAnimationClass", function() {
return {
compile: function(e, t) {
t.modalAnimation && e.addClass(t.uibModalAnimationClass);
}
};
}).directive("uibModalTransclude", function() {
return {
link: function(e, t, n, i, r) {
r(e.$parent, function(e) {
t.empty(), t.append(e);
});
}
};
}).factory("$uibModalStack", [ "$animate", "$timeout", "$document", "$compile", "$rootScope", "$q", "$injector", "$$multiMap", "$$stackedMap", function(e, t, n, i, r, o, a, s, l) {
function c() {
for (var e = -1, t = w.keys(), n = 0; n < t.length; n++) w.get(t[n]).value.backdrop && (e = n);
return e;
}
function u(e, t) {
var i = n.find("body").eq(0), r = w.get(e).value;
w.remove(e), p(r.modalDomEl, r.modalScope, function() {
var t = r.openedClass || b;
x.remove(t, e), i.toggleClass(t, x.hasKey(t)), d(!0);
}), h(), t && t.focus ? t.focus() : i.focus();
}
function d(e) {
var t;
w.length() > 0 && (t = w.top().value).modalDomEl.toggleClass(t.windowTopClass || "", e);
}
function h() {
if (m && -1 == c()) {
var e = v;
p(m, v, function() {
e = null;
}), m = void 0, v = void 0;
}
}
function p(t, n, i) {
function r() {
r.done || (r.done = !0, g ? g(t, {
event: "leave"
}).start().then(function() {
t.remove();
}) : e.leave(t), n.$destroy(), i && i());
}
var a, s = null;
return n.$broadcast(C.NOW_CLOSING_EVENT, function() {
return a || (a = o.defer(), s = a.promise), function() {
a.resolve();
};
}), o.when(s).then(r);
}
function f(e, t, n) {
return !e.value.modalScope.$broadcast("modal.closing", t, n).defaultPrevented;
}
var g = null;
a.has("$animateCss") && (g = a.get("$animateCss"));
var m, v, y, b = "modal-open", w = l.createNew(), x = s.createNew(), C = {
NOW_CLOSING_EVENT: "modal.stack.now-closing"
}, _ = 0;
return r.$watch(c, function(e) {
v && (v.index = e);
}), n.bind("keydown", function(e) {
if (e.isDefaultPrevented()) return e;
var t = w.top();
if (t && t.value.keyboard) switch (e.which) {
case 27:
e.preventDefault(), r.$apply(function() {
C.dismiss(t.key, "escape key press");
});
break;

case 9:
C.loadFocusElementList(t);
var n = !1;
e.shiftKey ? C.isFocusInFirstItem(e) && (n = C.focusLastFocusableElement()) : C.isFocusInLastItem(e) && (n = C.focusFirstFocusableElement()), n && (e.preventDefault(), e.stopPropagation());
}
}), C.open = function(e, t) {
var o = n[0].activeElement, a = t.openedClass || b;
d(!1), w.add(e, {
deferred: t.deferred,
renderDeferred: t.renderDeferred,
modalScope: t.scope,
backdrop: t.backdrop,
keyboard: t.keyboard,
openedClass: t.openedClass,
windowTopClass: t.windowTopClass
}), x.put(a, e);
var s = n.find("body").eq(0), l = c();
if (l >= 0 && !m) {
(v = r.$new(!0)).index = l;
var u = angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');
u.attr("backdrop-class", t.backdropClass), t.animation && u.attr("modal-animation", "true"), m = i(u)(v), s.append(m);
}
var h = angular.element('<div uib-modal-window="modal-window"></div>');
h.attr({
"template-url": t.windowTemplateUrl,
"window-class": t.windowClass,
"window-top-class": t.windowTopClass,
size: t.size,
index: w.length() - 1,
animate: "animate"
}).html(t.content), t.animation && h.attr("modal-animation", "true");
var p = i(h)(t.scope);
w.top().value.modalDomEl = p, w.top().value.modalOpener = o, s.append(p), s.addClass(a), C.clearFocusListCache();
}, C.close = function(e, t) {
var n = w.get(e);
return n && f(n, t, !0) ? (n.value.modalScope.$$uibDestructionScheduled = !0, n.value.deferred.resolve(t), u(e, n.value.modalOpener), !0) : !n;
}, C.dismiss = function(e, t) {
var n = w.get(e);
return n && f(n, t, !1) ? (n.value.modalScope.$$uibDestructionScheduled = !0, n.value.deferred.reject(t), u(e, n.value.modalOpener), !0) : !n;
}, C.dismissAll = function(e) {
for (var t = this.getTop(); t && this.dismiss(t.key, e); ) t = this.getTop();
}, C.getTop = function() {
return w.top();
}, C.modalRendered = function(e) {
var t = w.get(e);
t && t.value.renderDeferred.resolve();
}, C.focusFirstFocusableElement = function() {
return y.length > 0 && (y[0].focus(), !0);
}, C.focusLastFocusableElement = function() {
return y.length > 0 && (y[y.length - 1].focus(), !0);
}, C.isFocusInFirstItem = function(e) {
return y.length > 0 && (e.target || e.srcElement) == y[0];
}, C.isFocusInLastItem = function(e) {
return y.length > 0 && (e.target || e.srcElement) == y[y.length - 1];
}, C.clearFocusListCache = function() {
y = [], _ = 0;
}, C.loadFocusElementList = function(e) {
if ((void 0 === y || !y.length) && e) {
var t = e.value.modalDomEl;
t && t.length && (y = t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"));
}
}, C;
} ]).provider("$uibModal", function() {
var e = {
options: {
animation: !0,
backdrop: !0,
keyboard: !0
},
$get: [ "$injector", "$rootScope", "$q", "$templateRequest", "$controller", "$uibModalStack", "$modalSuppressWarning", "$log", function(t, n, i, r, o, a, s, l) {
function c(e) {
return e.template ? i.when(e.template) : r(angular.isFunction(e.templateUrl) ? e.templateUrl() : e.templateUrl);
}
function u(e) {
var n = [];
return angular.forEach(e, function(e) {
angular.isFunction(e) || angular.isArray(e) ? n.push(i.when(t.invoke(e))) : angular.isString(e) ? n.push(i.when(t.get(e))) : n.push(i.when(e));
}), n;
}
var d = {}, h = null;
return d.getPromiseChain = function() {
return h;
}, d.open = function(t) {
function r() {
return v;
}
var d = i.defer(), p = i.defer(), f = i.defer(), g = {
result: d.promise,
opened: p.promise,
rendered: f.promise,
close: function(e) {
return a.close(g, e);
},
dismiss: function(e) {
return a.dismiss(g, e);
}
};
if (t = angular.extend({}, e.options, t), t.resolve = t.resolve || {}, !t.template && !t.templateUrl) throw new Error("One of template or templateUrl options is required.");
var m, v = i.all([ c(t) ].concat(u(t.resolve)));
return m = h = i.all([ h ]).then(r, r).then(function(e) {
var i = (t.scope || n).$new();
i.$close = g.close, i.$dismiss = g.dismiss, i.$on("$destroy", function() {
i.$$uibDestructionScheduled || i.$dismiss("$uibUnscheduledDestruction");
});
var r, c = {}, u = 1;
t.controller && (c.$scope = i, c.$uibModalInstance = g, Object.defineProperty(c, "$modalInstance", {
get: function() {
return s || l.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."), g;
}
}), angular.forEach(t.resolve, function(t, n) {
c[n] = e[u++];
}), r = o(t.controller, c), t.controllerAs && (t.bindToController && angular.extend(r, i), i[t.controllerAs] = r)), a.open(g, {
scope: i,
deferred: d,
renderDeferred: f,
content: e[0],
animation: t.animation,
backdrop: t.backdrop,
keyboard: t.keyboard,
backdropClass: t.backdropClass,
windowTopClass: t.windowTopClass,
windowClass: t.windowClass,
windowTemplateUrl: t.windowTemplateUrl,
size: t.size,
openedClass: t.openedClass
}), p.resolve(!0);
}, function(e) {
p.reject(e), d.reject(e);
}).finally(function() {
h === m && (h = null);
}), g;
}, d;
} ]
};
return e;
}), angular.module("ui.bootstrap.modal").value("$modalSuppressWarning", !1).directive("modalBackdrop", [ "$animate", "$injector", "$modalStack", "$log", "$modalSuppressWarning", function(e, t, n, i, r) {
function o(t, o, s) {
r || i.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."), o.addClass("modal-backdrop"), s.modalInClass && (a ? a(o, {
addClass: s.modalInClass
}).start() : e.addClass(o, s.modalInClass), t.$on(n.NOW_CLOSING_EVENT, function(t, n) {
var i = n();
a ? a(o, {
removeClass: s.modalInClass
}).start().then(i) : e.removeClass(o, s.modalInClass).then(i);
}));
}
var a = null;
return t.has("$animateCss") && (a = t.get("$animateCss")), {
replace: !0,
templateUrl: "template/modal/backdrop.html",
compile: function(e, t) {
return e.addClass(t.backdropClass), o;
}
};
} ]).directive("modalWindow", [ "$modalStack", "$q", "$animate", "$injector", "$log", "$modalSuppressWarning", function(e, t, n, i, r, o) {
var a = null;
return i.has("$animateCss") && (a = i.get("$animateCss")), {
scope: {
index: "@"
},
replace: !0,
transclude: !0,
templateUrl: function(e, t) {
return t.templateUrl || "template/modal/window.html";
},
link: function(i, s, l) {
o || r.warn("modal-window is now deprecated. Use uib-modal-window instead."), s.addClass(l.windowClass || ""), s.addClass(l.windowTopClass || ""), i.size = l.size, i.close = function(t) {
var n = e.getTop();
n && n.value.backdrop && "static" !== n.value.backdrop && t.target === t.currentTarget && (t.preventDefault(), t.stopPropagation(), e.dismiss(n.key, "backdrop click"));
}, s.on("click", i.close), i.$isRendered = !0;
var c = t.defer();
l.$observe("modalRender", function(e) {
"true" == e && c.resolve();
}), c.promise.then(function() {
var r = null;
l.modalInClass && (r = a ? a(s, {
addClass: l.modalInClass
}).start() : n.addClass(s, l.modalInClass), i.$on(e.NOW_CLOSING_EVENT, function(e, t) {
var i = t();
a ? a(s, {
removeClass: l.modalInClass
}).start().then(i) : n.removeClass(s, l.modalInClass).then(i);
})), t.when(r).then(function() {
var e = s[0].querySelector("[autofocus]");
e ? e.focus() : s[0].focus();
});
var o = e.getTop();
o && e.modalRendered(o.key);
});
}
};
} ]).directive("modalAnimationClass", [ "$log", "$modalSuppressWarning", function(e, t) {
return {
compile: function(n, i) {
t || e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."), i.modalAnimation && n.addClass(i.modalAnimationClass);
}
};
} ]).directive("modalTransclude", [ "$log", "$modalSuppressWarning", function(e, t) {
return {
link: function(n, i, r, o, a) {
t || e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."), a(n.$parent, function(e) {
i.empty(), i.append(e);
});
}
};
} ]).service("$modalStack", [ "$animate", "$timeout", "$document", "$compile", "$rootScope", "$q", "$injector", "$$multiMap", "$$stackedMap", "$uibModalStack", "$log", "$modalSuppressWarning", function(e, t, n, i, r, o, a, s, l, c, u, d) {
d || u.warn("$modalStack is now deprecated. Use $uibModalStack instead."), angular.extend(this, c);
} ]).provider("$modal", [ "$uibModalProvider", function(e) {
angular.extend(this, e), this.$get = [ "$injector", "$log", "$modalSuppressWarning", function(t, n, i) {
return i || n.warn("$modal is now deprecated. Use $uibModal instead."), t.invoke(e.$get);
} ];
} ]), angular.module("ui.bootstrap.pagination", []).controller("UibPaginationController", [ "$scope", "$attrs", "$parse", function(e, t, n) {
var i = this, r = {
$setViewValue: angular.noop
}, o = t.numPages ? n(t.numPages).assign : angular.noop;
this.init = function(a, s) {
r = a, this.config = s, r.$render = function() {
i.render();
}, t.itemsPerPage ? e.$parent.$watch(n(t.itemsPerPage), function(t) {
i.itemsPerPage = parseInt(t, 10), e.totalPages = i.calculateTotalPages();
}) : this.itemsPerPage = s.itemsPerPage, e.$watch("totalItems", function() {
e.totalPages = i.calculateTotalPages();
}), e.$watch("totalPages", function(t) {
o(e.$parent, t), e.page > t ? e.selectPage(t) : r.$render();
});
}, this.calculateTotalPages = function() {
var t = this.itemsPerPage < 1 ? 1 : Math.ceil(e.totalItems / this.itemsPerPage);
return Math.max(t || 0, 1);
}, this.render = function() {
e.page = parseInt(r.$viewValue, 10) || 1;
}, e.selectPage = function(t, n) {
n && n.preventDefault(), (!e.ngDisabled || !n) && e.page !== t && t > 0 && t <= e.totalPages && (n && n.target && n.target.blur(), r.$setViewValue(t), r.$render());
}, e.getText = function(t) {
return e[t + "Text"] || i.config[t + "Text"];
}, e.noPrevious = function() {
return 1 === e.page;
}, e.noNext = function() {
return e.page === e.totalPages;
};
} ]).constant("uibPaginationConfig", {
itemsPerPage: 10,
boundaryLinks: !1,
directionLinks: !0,
firstText: "First",
previousText: "Previous",
nextText: "Next",
lastText: "Last",
rotate: !0
}).directive("uibPagination", [ "$parse", "uibPaginationConfig", function(e, t) {
return {
restrict: "EA",
scope: {
totalItems: "=",
firstText: "@",
previousText: "@",
nextText: "@",
lastText: "@",
ngDisabled: "="
},
require: [ "uibPagination", "?ngModel" ],
controller: "UibPaginationController",
controllerAs: "pagination",
templateUrl: function(e, t) {
return t.templateUrl || "template/pagination/pagination.html";
},
replace: !0,
link: function(n, i, r, o) {
function a(e, t, n) {
return {
number: e,
text: t,
active: n
};
}
function s(e, t) {
var n = [], i = 1, r = t, o = angular.isDefined(u) && u < t;
o && (d ? (r = (i = Math.max(e - Math.floor(u / 2), 1)) + u - 1) > t && (i = (r = t) - u + 1) : (i = (Math.ceil(e / u) - 1) * u + 1, r = Math.min(i + u - 1, t)));
for (var s = i; s <= r; s++) {
var l = a(s, s, s === e);
n.push(l);
}
if (o && !d) {
if (i > 1) {
var c = a(i - 1, "...", !1);
n.unshift(c);
}
if (r < t) {
var h = a(r + 1, "...", !1);
n.push(h);
}
}
return n;
}
var l = o[0], c = o[1];
if (c) {
var u = angular.isDefined(r.maxSize) ? n.$parent.$eval(r.maxSize) : t.maxSize, d = angular.isDefined(r.rotate) ? n.$parent.$eval(r.rotate) : t.rotate;
n.boundaryLinks = angular.isDefined(r.boundaryLinks) ? n.$parent.$eval(r.boundaryLinks) : t.boundaryLinks, n.directionLinks = angular.isDefined(r.directionLinks) ? n.$parent.$eval(r.directionLinks) : t.directionLinks, l.init(c, t), r.maxSize && n.$parent.$watch(e(r.maxSize), function(e) {
u = parseInt(e, 10), l.render();
});
var h = l.render;
l.render = function() {
h(), n.page > 0 && n.page <= n.totalPages && (n.pages = s(n.page, n.totalPages));
};
}
}
};
} ]).constant("uibPagerConfig", {
itemsPerPage: 10,
previousText: "« Previous",
nextText: "Next »",
align: !0
}).directive("uibPager", [ "uibPagerConfig", function(e) {
return {
restrict: "EA",
scope: {
totalItems: "=",
previousText: "@",
nextText: "@",
ngDisabled: "="
},
require: [ "uibPager", "?ngModel" ],
controller: "UibPaginationController",
controllerAs: "pagination",
templateUrl: function(e, t) {
return t.templateUrl || "template/pagination/pager.html";
},
replace: !0,
link: function(t, n, i, r) {
var o = r[0], a = r[1];
a && (t.align = angular.isDefined(i.align) ? t.$parent.$eval(i.align) : e.align, o.init(a, e));
}
};
} ]), angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning", !1).controller("PaginationController", [ "$scope", "$attrs", "$parse", "$log", "$paginationSuppressWarning", function(e, t, n, i, r) {
r || i.warn("PaginationController is now deprecated. Use UibPaginationController instead.");
var o = this, a = {
$setViewValue: angular.noop
}, s = t.numPages ? n(t.numPages).assign : angular.noop;
this.init = function(i, r) {
a = i, this.config = r, a.$render = function() {
o.render();
}, t.itemsPerPage ? e.$parent.$watch(n(t.itemsPerPage), function(t) {
o.itemsPerPage = parseInt(t, 10), e.totalPages = o.calculateTotalPages();
}) : this.itemsPerPage = r.itemsPerPage, e.$watch("totalItems", function() {
e.totalPages = o.calculateTotalPages();
}), e.$watch("totalPages", function(t) {
s(e.$parent, t), e.page > t ? e.selectPage(t) : a.$render();
});
}, this.calculateTotalPages = function() {
var t = this.itemsPerPage < 1 ? 1 : Math.ceil(e.totalItems / this.itemsPerPage);
return Math.max(t || 0, 1);
}, this.render = function() {
e.page = parseInt(a.$viewValue, 10) || 1;
}, e.selectPage = function(t, n) {
n && n.preventDefault(), (!e.ngDisabled || !n) && e.page !== t && t > 0 && t <= e.totalPages && (n && n.target && n.target.blur(), a.$setViewValue(t), a.$render());
}, e.getText = function(t) {
return e[t + "Text"] || o.config[t + "Text"];
}, e.noPrevious = function() {
return 1 === e.page;
}, e.noNext = function() {
return e.page === e.totalPages;
};
} ]).directive("pagination", [ "$parse", "uibPaginationConfig", "$log", "$paginationSuppressWarning", function(e, t, n, i) {
return {
restrict: "EA",
scope: {
totalItems: "=",
firstText: "@",
previousText: "@",
nextText: "@",
lastText: "@",
ngDisabled: "="
},
require: [ "pagination", "?ngModel" ],
controller: "PaginationController",
controllerAs: "pagination",
templateUrl: function(e, t) {
return t.templateUrl || "template/pagination/pagination.html";
},
replace: !0,
link: function(r, o, a, s) {
function l(e, t, n) {
return {
number: e,
text: t,
active: n
};
}
function c(e, t) {
var n = [], i = 1, r = t, o = angular.isDefined(h) && h < t;
o && (p ? (r = (i = Math.max(e - Math.floor(h / 2), 1)) + h - 1) > t && (i = (r = t) - h + 1) : (i = (Math.ceil(e / h) - 1) * h + 1, r = Math.min(i + h - 1, t)));
for (var a = i; a <= r; a++) {
var s = l(a, a, a === e);
n.push(s);
}
if (o && !p) {
if (i > 1) {
var c = l(i - 1, "...", !1);
n.unshift(c);
}
if (r < t) {
var u = l(r + 1, "...", !1);
n.push(u);
}
}
return n;
}
i || n.warn("pagination is now deprecated. Use uib-pagination instead.");
var u = s[0], d = s[1];
if (d) {
var h = angular.isDefined(a.maxSize) ? r.$parent.$eval(a.maxSize) : t.maxSize, p = angular.isDefined(a.rotate) ? r.$parent.$eval(a.rotate) : t.rotate;
r.boundaryLinks = angular.isDefined(a.boundaryLinks) ? r.$parent.$eval(a.boundaryLinks) : t.boundaryLinks, r.directionLinks = angular.isDefined(a.directionLinks) ? r.$parent.$eval(a.directionLinks) : t.directionLinks, u.init(d, t), a.maxSize && r.$parent.$watch(e(a.maxSize), function(e) {
h = parseInt(e, 10), u.render();
});
var f = u.render;
u.render = function() {
f(), r.page > 0 && r.page <= r.totalPages && (r.pages = c(r.page, r.totalPages));
};
}
}
};
} ]).directive("pager", [ "uibPagerConfig", "$log", "$paginationSuppressWarning", function(e, t, n) {
return {
restrict: "EA",
scope: {
totalItems: "=",
previousText: "@",
nextText: "@",
ngDisabled: "="
},
require: [ "pager", "?ngModel" ],
controller: "PaginationController",
controllerAs: "pagination",
templateUrl: function(e, t) {
return t.templateUrl || "template/pagination/pager.html";
},
replace: !0,
link: function(i, r, o, a) {
n || t.warn("pager is now deprecated. Use uib-pager instead.");
var s = a[0], l = a[1];
l && (i.align = angular.isDefined(o.align) ? i.$parent.$eval(o.align) : e.align, s.init(l, e));
}
};
} ]), angular.module("ui.bootstrap.tooltip", [ "ui.bootstrap.position", "ui.bootstrap.stackedMap" ]).provider("$uibTooltip", function() {
function e(e) {
var t = /[A-Z]/g;
return e.replace(t, function(e, t) {
return (t ? "-" : "") + e.toLowerCase();
});
}
var t = {
placement: "top",
animation: !0,
popupDelay: 0,
popupCloseDelay: 0,
useContentExp: !1
}, n = {
mouseenter: "mouseleave",
click: "click",
focus: "blur",
none: ""
}, i = {};
this.options = function(e) {
angular.extend(i, e);
}, this.setTriggers = function(e) {
angular.extend(n, e);
}, this.$get = [ "$window", "$compile", "$timeout", "$document", "$uibPosition", "$interpolate", "$rootScope", "$parse", "$$stackedMap", function(r, o, a, s, l, c, u, d, h) {
var p = h.createNew();
return s.on("keypress", function(e) {
if (27 === e.which) {
var t = p.top();
t && (t.value.close(), p.removeTop(), t = null);
}
}), function(r, u, h, f) {
function g(e) {
var t = (e || f.trigger || h).split(" ");
return {
show: t,
hide: t.map(function(e) {
return n[e] || e;
})
};
}
f = angular.extend({}, t, i, f);
var m = e(r), v = c.startSymbol(), y = c.endSymbol(), b = "<div " + m + '-popup title="' + v + "title" + y + '" ' + (f.useContentExp ? 'content-exp="contentExp()" ' : 'content="' + v + "content" + y + '" ') + 'placement="' + v + "placement" + y + '" popup-class="' + v + "popupClass" + y + '" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';
return {
compile: function(e, t) {
var n = o(b);
return function(e, t, i, o) {
function c() {
O.isOpen ? m() : h();
}
function h() {
P && !e.$eval(i[u + "Enable"]) || (w(), _(), O.popupDelay ? D || (D = a(v, O.popupDelay, !1)) : v());
}
function m() {
y(), O.popupCloseDelay ? F || (F = a(b, O.popupCloseDelay, !1)) : b();
}
function v() {
if (y(), w(), !O.content) return angular.noop;
x(), O.$evalAsync(function() {
O.isOpen = !0, S(!0), U();
});
}
function y() {
D && (a.cancel(D), D = null), M && (a.cancel(M), M = null);
}
function b() {
y(), w(), O && O.$evalAsync(function() {
O.isOpen = !1, S(!1), O.animation ? T || (T = a(C, 150, !1)) : C();
});
}
function w() {
F && (a.cancel(F), F = null), T && (a.cancel(T), T = null);
}
function x() {
k || (E = O.$new(), k = n(E, function(e) {
I ? s.find("body").append(e) : t.after(e);
}), $());
}
function C() {
A(), T = null, k && (k.remove(), k = null), E && (E.$destroy(), E = null);
}
function _() {
O.title = i[u + "Title"], O.content = N ? N(e) : i[r], O.popupClass = i[u + "Class"], O.placement = angular.isDefined(i[u + "Placement"]) ? i[u + "Placement"] : f.placement;
var t = parseInt(i[u + "PopupDelay"], 10), n = parseInt(i[u + "PopupCloseDelay"], 10);
O.popupDelay = isNaN(t) ? f.popupDelay : t, O.popupCloseDelay = isNaN(n) ? f.popupCloseDelay : n;
}
function S(t) {
B && angular.isFunction(B.assign) && B.assign(e, t);
}
function $() {
j.length = 0, N ? (j.push(e.$watch(N, function(e) {
O.content = e, !e && O.isOpen && b();
})), j.push(E.$watch(function() {
R || (R = !0, E.$$postDigest(function() {
R = !1, O && O.isOpen && U();
}));
}))) : j.push(i.$observe(r, function(e) {
O.content = e, !e && O.isOpen ? b() : U();
})), j.push(i.$observe(u + "Title", function(e) {
O.title = e, O.isOpen && U();
})), j.push(i.$observe(u + "Placement", function(e) {
O.placement = e || f.placement, O.isOpen && U();
}));
}
function A() {
j.length && (angular.forEach(j, function(e) {
e();
}), j.length = 0);
}
var k, E, T, D, F, M, I = !!angular.isDefined(f.appendToBody) && f.appendToBody, L = g(void 0), P = angular.isDefined(i[u + "Enable"]), O = e.$new(!0), R = !1, B = !!angular.isDefined(i[u + "IsOpen"]) && d(i[u + "IsOpen"]), N = !!f.useContentExp && d(i[r]), j = [], U = function() {
k && k.html() && (M || (M = a(function() {
k.css({
top: 0,
left: 0
});
var e = l.positionElements(t, k, O.placement, I);
e.top += "px", e.left += "px", e.visibility = "visible", k.css(e), M = null;
}, 0, !1)));
};
O.origScope = e, O.isOpen = !1, p.add(O, {
close: b
}), O.contentExp = function() {
return O.content;
}, i.$observe("disabled", function(e) {
e && y(), e && O.isOpen && b();
}), B && e.$watch(B, function(e) {
O && !e === O.isOpen && c();
});
var V = function() {
L.show.forEach(function(e) {
t.unbind(e, h);
}), L.hide.forEach(function(e) {
e.split(" ").forEach(function(e) {
t[0].removeEventListener(e, m);
});
});
};
!function() {
var e = i[u + "Trigger"];
V(), "none" !== (L = g(e)).show && L.show.forEach(function(e, n) {
e === L.hide[n] ? t[0].addEventListener(e, c) : e && (t[0].addEventListener(e, h), L.hide[n].split(" ").forEach(function(e) {
t[0].addEventListener(e, m);
})), t.on("keypress", function(e) {
27 === e.which && m();
});
});
}();
var H = e.$eval(i[u + "Animation"]);
O.animation = angular.isDefined(H) ? !!H : f.animation;
var z = e.$eval(i[u + "AppendToBody"]);
(I = angular.isDefined(z) ? z : I) && e.$on("$locationChangeSuccess", function() {
O.isOpen && b();
}), e.$on("$destroy", function() {
y(), w(), V(), C(), p.remove(O), O = null;
});
};
}
};
};
} ];
}).directive("uibTooltipTemplateTransclude", [ "$animate", "$sce", "$compile", "$templateRequest", function(e, t, n, i) {
return {
link: function(r, o, a) {
var s, l, c, u = r.$eval(a.tooltipTemplateTranscludeScope), d = 0, h = function() {
l && (l.remove(), l = null), s && (s.$destroy(), s = null), c && (e.leave(c).then(function() {
l = null;
}), l = c, c = null);
};
r.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude), function(t) {
var a = ++d;
t ? (i(t, !0).then(function(i) {
if (a === d) {
var r = u.$new(), l = n(i)(r, function(t) {
h(), e.enter(t, o);
});
c = l, (s = r).$emit("$includeContentLoaded", t);
}
}, function() {
a === d && (h(), r.$emit("$includeContentError", t));
}), r.$emit("$includeContentRequested", t)) : h();
}), r.$on("$destroy", h);
}
};
} ]).directive("uibTooltipClasses", function() {
return {
restrict: "A",
link: function(e, t, n) {
e.placement && t.addClass(e.placement), e.popupClass && t.addClass(e.popupClass), e.animation() && t.addClass(n.tooltipAnimationClass);
}
};
}).directive("uibTooltipPopup", function() {
return {
replace: !0,
scope: {
content: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/tooltip/tooltip-popup.html",
link: function(e, t) {
t.addClass("tooltip");
}
};
}).directive("uibTooltip", [ "$uibTooltip", function(e) {
return e("uibTooltip", "tooltip", "mouseenter");
} ]).directive("uibTooltipTemplatePopup", function() {
return {
replace: !0,
scope: {
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&",
originScope: "&"
},
templateUrl: "template/tooltip/tooltip-template-popup.html",
link: function(e, t) {
t.addClass("tooltip");
}
};
}).directive("uibTooltipTemplate", [ "$uibTooltip", function(e) {
return e("uibTooltipTemplate", "tooltip", "mouseenter", {
useContentExp: !0
});
} ]).directive("uibTooltipHtmlPopup", function() {
return {
replace: !0,
scope: {
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/tooltip/tooltip-html-popup.html",
link: function(e, t) {
t.addClass("tooltip");
}
};
}).directive("uibTooltipHtml", [ "$uibTooltip", function(e) {
return e("uibTooltipHtml", "tooltip", "mouseenter", {
useContentExp: !0
});
} ]), angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning", !1).provider("$tooltip", [ "$uibTooltipProvider", function(e) {
angular.extend(this, e), this.$get = [ "$log", "$tooltipSuppressWarning", "$injector", function(t, n, i) {
return n || t.warn("$tooltip is now deprecated. Use $uibTooltip instead."), i.invoke(e.$get);
} ];
} ]).directive("tooltipTemplateTransclude", [ "$animate", "$sce", "$compile", "$templateRequest", "$log", "$tooltipSuppressWarning", function(e, t, n, i, r, o) {
return {
link: function(a, s, l) {
o || r.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");
var c, u, d, h = a.$eval(l.tooltipTemplateTranscludeScope), p = 0, f = function() {
u && (u.remove(), u = null), c && (c.$destroy(), c = null), d && (e.leave(d).then(function() {
u = null;
}), u = d, d = null);
};
a.$watch(t.parseAsResourceUrl(l.tooltipTemplateTransclude), function(t) {
var r = ++p;
t ? (i(t, !0).then(function(i) {
if (r === p) {
var o = h.$new(), a = n(i)(o, function(t) {
f(), e.enter(t, s);
});
d = a, (c = o).$emit("$includeContentLoaded", t);
}
}, function() {
r === p && (f(), a.$emit("$includeContentError", t));
}), a.$emit("$includeContentRequested", t)) : f();
}), a.$on("$destroy", f);
}
};
} ]).directive("tooltipClasses", [ "$log", "$tooltipSuppressWarning", function(e, t) {
return {
restrict: "A",
link: function(n, i, r) {
t || e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."), n.placement && i.addClass(n.placement), n.popupClass && i.addClass(n.popupClass), n.animation() && i.addClass(r.tooltipAnimationClass);
}
};
} ]).directive("tooltipPopup", [ "$log", "$tooltipSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
content: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/tooltip/tooltip-popup.html",
link: function(n, i) {
t || e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."), i.addClass("tooltip");
}
};
} ]).directive("tooltip", [ "$tooltip", function(e) {
return e("tooltip", "tooltip", "mouseenter");
} ]).directive("tooltipTemplatePopup", [ "$log", "$tooltipSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&",
originScope: "&"
},
templateUrl: "template/tooltip/tooltip-template-popup.html",
link: function(n, i) {
t || e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."), i.addClass("tooltip");
}
};
} ]).directive("tooltipTemplate", [ "$tooltip", function(e) {
return e("tooltipTemplate", "tooltip", "mouseenter", {
useContentExp: !0
});
} ]).directive("tooltipHtmlPopup", [ "$log", "$tooltipSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/tooltip/tooltip-html-popup.html",
link: function(n, i) {
t || e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."), i.addClass("tooltip");
}
};
} ]).directive("tooltipHtml", [ "$tooltip", function(e) {
return e("tooltipHtml", "tooltip", "mouseenter", {
useContentExp: !0
});
} ]), angular.module("ui.bootstrap.popover", [ "ui.bootstrap.tooltip" ]).directive("uibPopoverTemplatePopup", function() {
return {
replace: !0,
scope: {
title: "@",
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&",
originScope: "&"
},
templateUrl: "template/popover/popover-template.html",
link: function(e, t) {
t.addClass("popover");
}
};
}).directive("uibPopoverTemplate", [ "$uibTooltip", function(e) {
return e("uibPopoverTemplate", "popover", "click", {
useContentExp: !0
});
} ]).directive("uibPopoverHtmlPopup", function() {
return {
replace: !0,
scope: {
contentExp: "&",
title: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/popover/popover-html.html",
link: function(e, t) {
t.addClass("popover");
}
};
}).directive("uibPopoverHtml", [ "$uibTooltip", function(e) {
return e("uibPopoverHtml", "popover", "click", {
useContentExp: !0
});
} ]).directive("uibPopoverPopup", function() {
return {
replace: !0,
scope: {
title: "@",
content: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/popover/popover.html",
link: function(e, t) {
t.addClass("popover");
}
};
}).directive("uibPopover", [ "$uibTooltip", function(e) {
return e("uibPopover", "popover", "click");
} ]), angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning", !1).directive("popoverTemplatePopup", [ "$log", "$popoverSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
title: "@",
contentExp: "&",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&",
originScope: "&"
},
templateUrl: "template/popover/popover-template.html",
link: function(n, i) {
t || e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."), i.addClass("popover");
}
};
} ]).directive("popoverTemplate", [ "$tooltip", function(e) {
return e("popoverTemplate", "popover", "click", {
useContentExp: !0
});
} ]).directive("popoverHtmlPopup", [ "$log", "$popoverSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
contentExp: "&",
title: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/popover/popover-html.html",
link: function(n, i) {
t || e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."), i.addClass("popover");
}
};
} ]).directive("popoverHtml", [ "$tooltip", function(e) {
return e("popoverHtml", "popover", "click", {
useContentExp: !0
});
} ]).directive("popoverPopup", [ "$log", "$popoverSuppressWarning", function(e, t) {
return {
replace: !0,
scope: {
title: "@",
content: "@",
placement: "@",
popupClass: "@",
animation: "&",
isOpen: "&"
},
templateUrl: "template/popover/popover.html",
link: function(n, i) {
t || e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."), i.addClass("popover");
}
};
} ]).directive("popover", [ "$tooltip", function(e) {
return e("popover", "popover", "click");
} ]), angular.module("ui.bootstrap.progressbar", []).constant("uibProgressConfig", {
animate: !0,
max: 100
}).controller("UibProgressController", [ "$scope", "$attrs", "uibProgressConfig", function(e, t, n) {
var i = this, r = angular.isDefined(t.animate) ? e.$parent.$eval(t.animate) : n.animate;
this.bars = [], e.max = angular.isDefined(e.max) ? e.max : n.max, this.addBar = function(t, n, o) {
r || n.css({
transition: "none"
}), this.bars.push(t), t.max = e.max, t.title = o && angular.isDefined(o.title) ? o.title : "progressbar", t.$watch("value", function(e) {
t.recalculatePercentage();
}), t.recalculatePercentage = function() {
var e = i.bars.reduce(function(e, t) {
return t.percent = +(100 * t.value / t.max).toFixed(2), e + t.percent;
}, 0);
e > 100 && (t.percent -= e - 100);
}, t.$on("$destroy", function() {
n = null, i.removeBar(t);
});
}, this.removeBar = function(e) {
this.bars.splice(this.bars.indexOf(e), 1), this.bars.forEach(function(e) {
e.recalculatePercentage();
});
}, e.$watch("max", function(t) {
i.bars.forEach(function(t) {
t.max = e.max, t.recalculatePercentage();
});
});
} ]).directive("uibProgress", function() {
return {
replace: !0,
transclude: !0,
controller: "UibProgressController",
require: "uibProgress",
scope: {
max: "=?"
},
templateUrl: "template/progressbar/progress.html"
};
}).directive("uibBar", function() {
return {
replace: !0,
transclude: !0,
require: "^uibProgress",
scope: {
value: "=",
type: "@"
},
templateUrl: "template/progressbar/bar.html",
link: function(e, t, n, i) {
i.addBar(e, t, n);
}
};
}).directive("uibProgressbar", function() {
return {
replace: !0,
transclude: !0,
controller: "UibProgressController",
scope: {
value: "=",
max: "=?",
type: "@"
},
templateUrl: "template/progressbar/progressbar.html",
link: function(e, t, n, i) {
i.addBar(e, angular.element(t.children()[0]), {
title: n.title
});
}
};
}), angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning", !1).controller("ProgressController", [ "$scope", "$attrs", "uibProgressConfig", "$log", "$progressSuppressWarning", function(e, t, n, i, r) {
r || i.warn("ProgressController is now deprecated. Use UibProgressController instead.");
var o = this, a = angular.isDefined(t.animate) ? e.$parent.$eval(t.animate) : n.animate;
this.bars = [], e.max = angular.isDefined(e.max) ? e.max : n.max, this.addBar = function(t, n, i) {
a || n.css({
transition: "none"
}), this.bars.push(t), t.max = e.max, t.title = i && angular.isDefined(i.title) ? i.title : "progressbar", t.$watch("value", function(e) {
t.recalculatePercentage();
}), t.recalculatePercentage = function() {
t.percent = +(100 * t.value / t.max).toFixed(2);
var e = o.bars.reduce(function(e, t) {
return e + t.percent;
}, 0);
e > 100 && (t.percent -= e - 100);
}, t.$on("$destroy", function() {
n = null, o.removeBar(t);
});
}, this.removeBar = function(e) {
this.bars.splice(this.bars.indexOf(e), 1);
}, e.$watch("max", function(t) {
o.bars.forEach(function(t) {
t.max = e.max, t.recalculatePercentage();
});
});
} ]).directive("progress", [ "$log", "$progressSuppressWarning", function(e, t) {
return {
replace: !0,
transclude: !0,
controller: "ProgressController",
require: "progress",
scope: {
max: "=?",
title: "@?"
},
templateUrl: "template/progressbar/progress.html",
link: function() {
t || e.warn("progress is now deprecated. Use uib-progress instead.");
}
};
} ]).directive("bar", [ "$log", "$progressSuppressWarning", function(e, t) {
return {
replace: !0,
transclude: !0,
require: "^progress",
scope: {
value: "=",
type: "@"
},
templateUrl: "template/progressbar/bar.html",
link: function(n, i, r, o) {
t || e.warn("bar is now deprecated. Use uib-bar instead."), o.addBar(n, i);
}
};
} ]).directive("progressbar", [ "$log", "$progressSuppressWarning", function(e, t) {
return {
replace: !0,
transclude: !0,
controller: "ProgressController",
scope: {
value: "=",
max: "=?",
type: "@"
},
templateUrl: "template/progressbar/progressbar.html",
link: function(n, i, r, o) {
t || e.warn("progressbar is now deprecated. Use uib-progressbar instead."), o.addBar(n, angular.element(i.children()[0]), {
title: r.title
});
}
};
} ]), angular.module("ui.bootstrap.rating", []).constant("uibRatingConfig", {
max: 5,
stateOn: null,
stateOff: null,
titles: [ "one", "two", "three", "four", "five" ]
}).controller("UibRatingController", [ "$scope", "$attrs", "uibRatingConfig", function(e, t, n) {
var i = {
$setViewValue: angular.noop
};
this.init = function(r) {
(i = r).$render = this.render, i.$formatters.push(function(e) {
return angular.isNumber(e) && e << 0 !== e && (e = Math.round(e)), e;
}), this.stateOn = angular.isDefined(t.stateOn) ? e.$parent.$eval(t.stateOn) : n.stateOn, this.stateOff = angular.isDefined(t.stateOff) ? e.$parent.$eval(t.stateOff) : n.stateOff;
var o = angular.isDefined(t.titles) ? e.$parent.$eval(t.titles) : n.titles;
this.titles = angular.isArray(o) && o.length > 0 ? o : n.titles;
var a = angular.isDefined(t.ratingStates) ? e.$parent.$eval(t.ratingStates) : new Array(angular.isDefined(t.max) ? e.$parent.$eval(t.max) : n.max);
e.range = this.buildTemplateObjects(a);
}, this.buildTemplateObjects = function(e) {
for (var t = 0, n = e.length; t < n; t++) e[t] = angular.extend({
index: t
}, {
stateOn: this.stateOn,
stateOff: this.stateOff,
title: this.getTitle(t)
}, e[t]);
return e;
}, this.getTitle = function(e) {
return e >= this.titles.length ? e + 1 : this.titles[e];
}, e.rate = function(t) {
!e.readonly && t >= 0 && t <= e.range.length && (i.$setViewValue(i.$viewValue === t ? 0 : t), i.$render());
}, e.enter = function(t) {
e.readonly || (e.value = t), e.onHover({
value: t
});
}, e.reset = function() {
e.value = i.$viewValue, e.onLeave();
}, e.onKeydown = function(t) {
/(37|38|39|40)/.test(t.which) && (t.preventDefault(), t.stopPropagation(), e.rate(e.value + (38 === t.which || 39 === t.which ? 1 : -1)));
}, this.render = function() {
e.value = i.$viewValue;
};
} ]).directive("uibRating", function() {
return {
require: [ "uibRating", "ngModel" ],
scope: {
readonly: "=?",
onHover: "&",
onLeave: "&"
},
controller: "UibRatingController",
templateUrl: "template/rating/rating.html",
replace: !0,
link: function(e, t, n, i) {
var r = i[0], o = i[1];
r.init(o);
}
};
}), angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning", !1).controller("RatingController", [ "$scope", "$attrs", "$controller", "$log", "$ratingSuppressWarning", function(e, t, n, i, r) {
r || i.warn("RatingController is now deprecated. Use UibRatingController instead."), angular.extend(this, n("UibRatingController", {
$scope: e,
$attrs: t
}));
} ]).directive("rating", [ "$log", "$ratingSuppressWarning", function(e, t) {
return {
require: [ "rating", "ngModel" ],
scope: {
readonly: "=?",
onHover: "&",
onLeave: "&"
},
controller: "RatingController",
templateUrl: "template/rating/rating.html",
replace: !0,
link: function(n, i, r, o) {
t || e.warn("rating is now deprecated. Use uib-rating instead.");
var a = o[0], s = o[1];
a.init(s);
}
};
} ]), angular.module("ui.bootstrap.tabs", []).controller("UibTabsetController", [ "$scope", function(e) {
var t = this, n = t.tabs = e.tabs = [];
t.select = function(e) {
angular.forEach(n, function(t) {
t.active && t !== e && (t.active = !1, t.onDeselect(), e.selectCalled = !1);
}), e.active = !0, e.selectCalled || (e.onSelect(), e.selectCalled = !0);
}, t.addTab = function(e) {
n.push(e), 1 === n.length && !1 !== e.active ? e.active = !0 : e.active ? t.select(e) : e.active = !1;
}, t.removeTab = function(e) {
var r = n.indexOf(e);
if (e.active && n.length > 1 && !i) {
var o = r == n.length - 1 ? r - 1 : r + 1;
t.select(n[o]);
}
n.splice(r, 1);
};
var i;
e.$on("$destroy", function() {
i = !0;
});
} ]).directive("uibTabset", function() {
return {
restrict: "EA",
transclude: !0,
replace: !0,
scope: {
type: "@"
},
controller: "UibTabsetController",
templateUrl: "template/tabs/tabset.html",
link: function(e, t, n) {
e.vertical = !!angular.isDefined(n.vertical) && e.$parent.$eval(n.vertical), e.justified = !!angular.isDefined(n.justified) && e.$parent.$eval(n.justified);
}
};
}).directive("uibTab", [ "$parse", function(e) {
return {
require: "^uibTabset",
restrict: "EA",
replace: !0,
templateUrl: "template/tabs/tab.html",
transclude: !0,
scope: {
active: "=?",
heading: "@",
onSelect: "&select",
onDeselect: "&deselect"
},
controller: function() {},
link: function(t, n, i, r, o) {
t.$watch("active", function(e) {
e && r.select(t);
}), t.disabled = !1, i.disable && t.$parent.$watch(e(i.disable), function(e) {
t.disabled = !!e;
}), t.select = function() {
t.disabled || (t.active = !0);
}, r.addTab(t), t.$on("$destroy", function() {
r.removeTab(t);
}), t.$transcludeFn = o;
}
};
} ]).directive("uibTabHeadingTransclude", function() {
return {
restrict: "A",
require: [ "?^uibTab", "?^tab" ],
link: function(e, t) {
e.$watch("headingElement", function(e) {
e && (t.html(""), t.append(e));
});
}
};
}).directive("uibTabContentTransclude", function() {
function e(e) {
return e.tagName && (e.hasAttribute("tab-heading") || e.hasAttribute("data-tab-heading") || e.hasAttribute("x-tab-heading") || e.hasAttribute("uib-tab-heading") || e.hasAttribute("data-uib-tab-heading") || e.hasAttribute("x-uib-tab-heading") || "tab-heading" === e.tagName.toLowerCase() || "data-tab-heading" === e.tagName.toLowerCase() || "x-tab-heading" === e.tagName.toLowerCase() || "uib-tab-heading" === e.tagName.toLowerCase() || "data-uib-tab-heading" === e.tagName.toLowerCase() || "x-uib-tab-heading" === e.tagName.toLowerCase());
}
return {
restrict: "A",
require: [ "?^uibTabset", "?^tabset" ],
link: function(t, n, i) {
var r = t.$eval(i.uibTabContentTransclude);
r.$transcludeFn(r.$parent, function(t) {
angular.forEach(t, function(t) {
e(t) ? r.headingElement = t : n.append(t);
});
});
}
};
}), angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning", !1).controller("TabsetController", [ "$scope", "$controller", "$log", "$tabsSuppressWarning", function(e, t, n, i) {
i || n.warn("TabsetController is now deprecated. Use UibTabsetController instead."), angular.extend(this, t("UibTabsetController", {
$scope: e
}));
} ]).directive("tabset", [ "$log", "$tabsSuppressWarning", function(e, t) {
return {
restrict: "EA",
transclude: !0,
replace: !0,
scope: {
type: "@"
},
controller: "TabsetController",
templateUrl: "template/tabs/tabset.html",
link: function(n, i, r) {
t || e.warn("tabset is now deprecated. Use uib-tabset instead."), n.vertical = !!angular.isDefined(r.vertical) && n.$parent.$eval(r.vertical), n.justified = !!angular.isDefined(r.justified) && n.$parent.$eval(r.justified);
}
};
} ]).directive("tab", [ "$parse", "$log", "$tabsSuppressWarning", function(e, t, n) {
return {
require: "^tabset",
restrict: "EA",
replace: !0,
templateUrl: "template/tabs/tab.html",
transclude: !0,
scope: {
active: "=?",
heading: "@",
onSelect: "&select",
onDeselect: "&deselect"
},
controller: function() {},
link: function(i, r, o, a, s) {
n || t.warn("tab is now deprecated. Use uib-tab instead."), i.$watch("active", function(e) {
e && a.select(i);
}), i.disabled = !1, o.disable && i.$parent.$watch(e(o.disable), function(e) {
i.disabled = !!e;
}), i.select = function() {
i.disabled || (i.active = !0);
}, a.addTab(i), i.$on("$destroy", function() {
a.removeTab(i);
}), i.$transcludeFn = s;
}
};
} ]).directive("tabHeadingTransclude", [ "$log", "$tabsSuppressWarning", function(e, t) {
return {
restrict: "A",
require: "^tab",
link: function(n, i) {
t || e.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."), n.$watch("headingElement", function(e) {
e && (i.html(""), i.append(e));
});
}
};
} ]).directive("tabContentTransclude", [ "$log", "$tabsSuppressWarning", function(e, t) {
function n(e) {
return e.tagName && (e.hasAttribute("tab-heading") || e.hasAttribute("data-tab-heading") || e.hasAttribute("x-tab-heading") || "tab-heading" === e.tagName.toLowerCase() || "data-tab-heading" === e.tagName.toLowerCase() || "x-tab-heading" === e.tagName.toLowerCase());
}
return {
restrict: "A",
require: "^tabset",
link: function(i, r, o) {
t || e.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");
var a = i.$eval(o.tabContentTransclude);
a.$transcludeFn(a.$parent, function(e) {
angular.forEach(e, function(e) {
n(e) ? a.headingElement = e : r.append(e);
});
});
}
};
} ]), angular.module("ui.bootstrap.timepicker", []).constant("uibTimepickerConfig", {
hourStep: 1,
minuteStep: 1,
showMeridian: !0,
meridians: null,
readonlyInput: !1,
mousewheel: !0,
arrowkeys: !0,
showSpinners: !0
}).controller("UibTimepickerController", [ "$scope", "$element", "$attrs", "$parse", "$log", "$locale", "uibTimepickerConfig", function(e, t, n, i, r, o, a) {
function s() {
var t = parseInt(e.hours, 10);
if (e.showMeridian ? t > 0 && t < 13 : t >= 0 && t < 24) return e.showMeridian && (12 === t && (t = 0), e.meridian === v[1] && (t += 12)), t;
}
function l() {
var t = parseInt(e.minutes, 10);
return t >= 0 && t < 60 ? t : void 0;
}
function c(e) {
return angular.isDefined(e) && e.toString().length < 2 ? "0" + e : e.toString();
}
function u(e) {
d(), m.$setViewValue(new Date(g)), h(e);
}
function d() {
m.$setValidity("time", !0), e.invalidHours = !1, e.invalidMinutes = !1;
}
function h(t) {
var n = g.getHours(), i = g.getMinutes();
e.showMeridian && (n = 0 === n || 12 === n ? 12 : n % 12), e.hours = "h" === t ? n : c(n), "m" !== t && (e.minutes = c(i)), e.meridian = g.getHours() < 12 ? v[0] : v[1];
}
function p(e, t) {
var n = new Date(e.getTime() + 6e4 * t), i = new Date(e);
return i.setHours(n.getHours(), n.getMinutes()), i;
}
function f(e) {
g = p(g, e), u();
}
var g = new Date(), m = {
$setViewValue: angular.noop
}, v = angular.isDefined(n.meridians) ? e.$parent.$eval(n.meridians) : a.meridians || o.DATETIME_FORMATS.AMPMS;
e.tabindex = angular.isDefined(n.tabindex) ? n.tabindex : 0, t.removeAttr("tabindex"), this.init = function(t, i) {
(m = t).$render = this.render, m.$formatters.unshift(function(e) {
return e ? new Date(e) : null;
});
var r = i.eq(0), o = i.eq(1);
(angular.isDefined(n.mousewheel) ? e.$parent.$eval(n.mousewheel) : a.mousewheel) && this.setupMousewheelEvents(r, o), (angular.isDefined(n.arrowkeys) ? e.$parent.$eval(n.arrowkeys) : a.arrowkeys) && this.setupArrowkeyEvents(r, o), e.readonlyInput = angular.isDefined(n.readonlyInput) ? e.$parent.$eval(n.readonlyInput) : a.readonlyInput, this.setupInputEvents(r, o);
};
var y = a.hourStep;
n.hourStep && e.$parent.$watch(i(n.hourStep), function(e) {
y = parseInt(e, 10);
});
var b = a.minuteStep;
n.minuteStep && e.$parent.$watch(i(n.minuteStep), function(e) {
b = parseInt(e, 10);
});
var w;
e.$parent.$watch(i(n.min), function(e) {
var t = new Date(e);
w = isNaN(t) ? void 0 : t;
});
var x;
e.$parent.$watch(i(n.max), function(e) {
var t = new Date(e);
x = isNaN(t) ? void 0 : t;
}), e.noIncrementHours = function() {
var e = p(g, 60 * y);
return e > x || e < g && e < w;
}, e.noDecrementHours = function() {
var e = p(g, 60 * -y);
return e < w || e > g && e > x;
}, e.noIncrementMinutes = function() {
var e = p(g, b);
return e > x || e < g && e < w;
}, e.noDecrementMinutes = function() {
var e = p(g, -b);
return e < w || e > g && e > x;
}, e.noToggleMeridian = function() {
return g.getHours() < 13 ? p(g, 720) > x : p(g, -720) < w;
}, e.showMeridian = a.showMeridian, n.showMeridian && e.$parent.$watch(i(n.showMeridian), function(t) {
if (e.showMeridian = !!t, m.$error.time) {
var n = s(), i = l();
angular.isDefined(n) && angular.isDefined(i) && (g.setHours(n), u());
} else h();
}), this.setupMousewheelEvents = function(t, n) {
var i = function(e) {
e.originalEvent && (e = e.originalEvent);
var t = e.wheelDelta ? e.wheelDelta : -e.deltaY;
return e.detail || t > 0;
};
t.bind("mousewheel wheel", function(t) {
e.$apply(i(t) ? e.incrementHours() : e.decrementHours()), t.preventDefault();
}), n.bind("mousewheel wheel", function(t) {
e.$apply(i(t) ? e.incrementMinutes() : e.decrementMinutes()), t.preventDefault();
});
}, this.setupArrowkeyEvents = function(t, n) {
t.bind("keydown", function(t) {
38 === t.which ? (t.preventDefault(), e.incrementHours(), e.$apply()) : 40 === t.which && (t.preventDefault(), e.decrementHours(), e.$apply());
}), n.bind("keydown", function(t) {
38 === t.which ? (t.preventDefault(), e.incrementMinutes(), e.$apply()) : 40 === t.which && (t.preventDefault(), e.decrementMinutes(), e.$apply());
});
}, this.setupInputEvents = function(t, n) {
if (e.readonlyInput) return e.updateHours = angular.noop, void (e.updateMinutes = angular.noop);
var i = function(t, n) {
m.$setViewValue(null), m.$setValidity("time", !1), angular.isDefined(t) && (e.invalidHours = t), angular.isDefined(n) && (e.invalidMinutes = n);
};
e.updateHours = function() {
var e = s(), t = l();
angular.isDefined(e) && angular.isDefined(t) ? (g.setHours(e), g < w || g > x ? i(!0) : u("h")) : i(!0);
}, t.bind("blur", function(t) {
!e.invalidHours && e.hours < 10 && e.$apply(function() {
e.hours = c(e.hours);
});
}), e.updateMinutes = function() {
var e = l(), t = s();
angular.isDefined(e) && angular.isDefined(t) ? (g.setMinutes(e), g < w || g > x ? i(void 0, !0) : u("m")) : i(void 0, !0);
}, n.bind("blur", function(t) {
!e.invalidMinutes && e.minutes < 10 && e.$apply(function() {
e.minutes = c(e.minutes);
});
});
}, this.render = function() {
var t = m.$viewValue;
isNaN(t) ? (m.$setValidity("time", !1), r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')) : (t && (g = t), g < w || g > x ? (m.$setValidity("time", !1), e.invalidHours = !0, e.invalidMinutes = !0) : d(), h());
}, e.showSpinners = angular.isDefined(n.showSpinners) ? e.$parent.$eval(n.showSpinners) : a.showSpinners, e.incrementHours = function() {
e.noIncrementHours() || f(60 * y);
}, e.decrementHours = function() {
e.noDecrementHours() || f(60 * -y);
}, e.incrementMinutes = function() {
e.noIncrementMinutes() || f(b);
}, e.decrementMinutes = function() {
e.noDecrementMinutes() || f(-b);
}, e.toggleMeridian = function() {
e.noToggleMeridian() || f(720 * (g.getHours() < 12 ? 1 : -1));
};
} ]).directive("uibTimepicker", function() {
return {
restrict: "EA",
require: [ "uibTimepicker", "?^ngModel" ],
controller: "UibTimepickerController",
controllerAs: "timepicker",
replace: !0,
scope: {},
templateUrl: function(e, t) {
return t.templateUrl || "template/timepicker/timepicker.html";
},
link: function(e, t, n, i) {
var r = i[0], o = i[1];
o && r.init(o, t.find("input"));
}
};
}), angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning", !1).controller("TimepickerController", [ "$scope", "$element", "$attrs", "$controller", "$log", "$timepickerSuppressWarning", function(e, t, n, i, r, o) {
o || r.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."), angular.extend(this, i("UibTimepickerController", {
$scope: e,
$element: t,
$attrs: n
}));
} ]).directive("timepicker", [ "$log", "$timepickerSuppressWarning", function(e, t) {
return {
restrict: "EA",
require: [ "timepicker", "?^ngModel" ],
controller: "TimepickerController",
controllerAs: "timepicker",
replace: !0,
scope: {},
templateUrl: function(e, t) {
return t.templateUrl || "template/timepicker/timepicker.html";
},
link: function(n, i, r, o) {
t || e.warn("timepicker is now deprecated. Use uib-timepicker instead.");
var a = o[0], s = o[1];
s && a.init(s, i.find("input"));
}
};
} ]), angular.module("ui.bootstrap.typeahead", [ "ui.bootstrap.position" ]).factory("uibTypeaheadParser", [ "$parse", function(e) {
var t = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;
return {
parse: function(n) {
var i = n.match(t);
if (!i) throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "' + n + '".');
return {
itemName: i[3],
source: e(i[4]),
viewMapper: e(i[2] || i[1]),
modelMapper: e(i[1])
};
}
};
} ]).controller("UibTypeaheadController", [ "$scope", "$element", "$attrs", "$compile", "$parse", "$q", "$timeout", "$document", "$window", "$rootScope", "$uibPosition", "uibTypeaheadParser", function(e, t, n, i, r, o, a, s, l, c, u, d) {
function h() {
O.moveInProgress || (O.moveInProgress = !0, O.$digest()), z && a.cancel(z), z = a(function() {
O.matches.length && p(), O.moveInProgress = !1;
}, v);
}
function p() {
O.position = E ? u.offset(t) : u.position(t), O.position.top += t.prop("offsetHeight");
}
var f, g, m = [ 9, 13, 27, 38, 40 ], v = 200, y = e.$eval(n.typeaheadMinLength);
y || 0 === y || (y = 1);
var b, w, x = e.$eval(n.typeaheadWaitMs) || 0, C = !1 !== e.$eval(n.typeaheadEditable), _ = r(n.typeaheadLoading).assign || angular.noop, S = r(n.typeaheadOnSelect), $ = !!angular.isDefined(n.typeaheadSelectOnBlur) && e.$eval(n.typeaheadSelectOnBlur), A = r(n.typeaheadNoResults).assign || angular.noop, k = n.typeaheadInputFormatter ? r(n.typeaheadInputFormatter) : void 0, E = !!n.typeaheadAppendToBody && e.$eval(n.typeaheadAppendToBody), T = n.typeaheadAppendToElementId || !1, D = !1 !== e.$eval(n.typeaheadFocusFirst), F = !!n.typeaheadSelectOnExact && e.$eval(n.typeaheadSelectOnExact), M = r(n.ngModel), I = r(n.ngModel + "($$$p)"), L = function(t, n) {
return angular.isFunction(M(e)) && g && g.$options && g.$options.getterSetter ? I(t, {
$$$p: n
}) : M.assign(t, n);
}, P = d.parse(n.uibTypeahead), O = e.$new(), R = e.$on("$destroy", function() {
O.$destroy();
});
O.$on("$destroy", R);
var B = "typeahead-" + O.$id + "-" + Math.floor(1e4 * Math.random());
t.attr({
"aria-autocomplete": "list",
"aria-expanded": !1,
"aria-owns": B
});
var N = angular.element("<div uib-typeahead-popup></div>");
N.attr({
id: B,
matches: "matches",
active: "activeIdx",
select: "select(activeIdx)",
"move-in-progress": "moveInProgress",
query: "query",
position: "position"
}), angular.isDefined(n.typeaheadTemplateUrl) && N.attr("template-url", n.typeaheadTemplateUrl), angular.isDefined(n.typeaheadPopupTemplateUrl) && N.attr("popup-template-url", n.typeaheadPopupTemplateUrl);
var j = function() {
O.matches = [], O.activeIdx = -1, t.attr("aria-expanded", !1);
}, U = function(e) {
return B + "-option-" + e;
};
O.$watch("activeIdx", function(e) {
e < 0 ? t.removeAttr("aria-activedescendant") : t.attr("aria-activedescendant", U(e));
});
var V = function(e, t) {
return !!(O.matches.length > t && e) && e.toUpperCase() === O.matches[t].label.toUpperCase();
}, H = function(n) {
var i = {
$viewValue: n
};
_(e, !0), A(e, !1), o.when(P.source(e, i)).then(function(r) {
var o = n === f.$viewValue;
if (o && b) if (r && r.length > 0) {
O.activeIdx = D ? 0 : -1, A(e, !1), O.matches.length = 0;
for (var a = 0; a < r.length; a++) i[P.itemName] = r[a], O.matches.push({
id: U(a),
label: P.viewMapper(O, i),
model: r[a]
});
O.query = n, p(), t.attr("aria-expanded", !0), F && 1 === O.matches.length && V(n, 0) && O.select(0);
} else j(), A(e, !0);
o && _(e, !1);
}, function() {
j(), _(e, !1), A(e, !0);
});
};
E && (angular.element(l).bind("resize", h), s.find("body").bind("scroll", h));
var z;
O.moveInProgress = !1, O.query = void 0;
var W, G = function(e) {
W = a(function() {
H(e);
}, x);
}, q = function() {
W && a.cancel(W);
};
j(), O.select = function(i) {
var r, o, s = {};
w = !0, s[P.itemName] = o = O.matches[i].model, r = P.modelMapper(e, s), L(e, r), f.$setValidity("editable", !0), f.$setValidity("parse", !0), S(e, {
$item: o,
$model: r,
$label: P.viewMapper(e, s)
}), j(), !1 !== O.$eval(n.typeaheadFocusOnSelect) && a(function() {
t[0].focus();
}, 0, !1);
}, t.bind("keydown", function(e) {
if (0 !== O.matches.length && -1 !== m.indexOf(e.which)) {
if (-1 === O.activeIdx && (9 === e.which || 13 === e.which)) return j(), void O.$digest();
e.preventDefault(), 40 === e.which ? (O.activeIdx = (O.activeIdx + 1) % O.matches.length, O.$digest()) : 38 === e.which ? (O.activeIdx = (O.activeIdx > 0 ? O.activeIdx : O.matches.length) - 1, O.$digest()) : 13 === e.which || 9 === e.which ? O.$apply(function() {
O.select(O.activeIdx);
}) : 27 === e.which && (e.stopPropagation(), j(), O.$digest());
}
}), t.bind("blur", function() {
$ && O.matches.length && -1 !== O.activeIdx && !w && (w = !0, O.$apply(function() {
O.select(O.activeIdx);
})), b = !1, w = !1;
});
var Y = function(e) {
t[0] !== e.target && 3 !== e.which && 0 !== O.matches.length && (j(), c.$$phase || O.$digest());
};
s.bind("click", Y), e.$on("$destroy", function() {
s.unbind("click", Y), (E || T) && K.remove(), E && (angular.element(l).unbind("resize", h), s.find("body").unbind("scroll", h)), N.remove();
});
var K = i(N)(O);
E ? s.find("body").append(K) : !1 !== T ? angular.element(s[0].getElementById(T)).append(K) : t.after(K), this.init = function(t, n) {
g = n, (f = t).$parsers.unshift(function(t) {
return b = !0, 0 === y || t && t.length >= y ? x > 0 ? (q(), G(t)) : H(t) : (_(e, !1), q(), j()), C ? t : t ? void f.$setValidity("editable", !1) : (f.$setValidity("editable", !0), null);
}), f.$formatters.push(function(t) {
var n, i, r = {};
return C || f.$setValidity("editable", !0), k ? (r.$model = t, k(e, r)) : (r[P.itemName] = t, n = P.viewMapper(e, r), r[P.itemName] = void 0, i = P.viewMapper(e, r), n !== i ? n : t);
});
};
} ]).directive("uibTypeahead", function() {
return {
controller: "UibTypeaheadController",
require: [ "ngModel", "^?ngModelOptions", "uibTypeahead" ],
link: function(e, t, n, i) {
i[2].init(i[0], i[1]);
}
};
}).directive("uibTypeaheadPopup", function() {
return {
scope: {
matches: "=",
query: "=",
active: "=",
position: "&",
moveInProgress: "=",
select: "&"
},
replace: !0,
templateUrl: function(e, t) {
return t.popupTemplateUrl || "template/typeahead/typeahead-popup.html";
},
link: function(e, t, n) {
e.templateUrl = n.templateUrl, e.isOpen = function() {
return e.matches.length > 0;
}, e.isActive = function(t) {
return e.active == t;
}, e.selectActive = function(t) {
e.active = t;
}, e.selectMatch = function(t) {
e.select({
activeIdx: t
});
};
}
};
}).directive("uibTypeaheadMatch", [ "$templateRequest", "$compile", "$parse", function(e, t, n) {
return {
scope: {
index: "=",
match: "=",
query: "="
},
link: function(i, r, o) {
var a = n(o.templateUrl)(i.$parent) || "template/typeahead/typeahead-match.html";
e(a).then(function(e) {
t(e.trim())(i, function(e) {
r.replaceWith(e);
});
});
}
};
} ]).filter("uibTypeaheadHighlight", [ "$sce", "$injector", "$log", function(e, t, n) {
function i(e) {
return e.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
}
function r(e) {
return /<.*>/g.test(e);
}
var o;
return o = t.has("$sanitize"), function(t, a) {
return !o && r(t) && n.warn("Unsafe use of typeahead please use ngSanitize"), t = a ? ("" + t).replace(new RegExp(i(a), "gi"), "<strong>$&</strong>") : t, o || (t = e.trustAsHtml(t)), t;
};
} ]), angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning", !1).service("typeaheadParser", [ "$parse", "uibTypeaheadParser", "$log", "$typeaheadSuppressWarning", function(e, t, n, i) {
return i || n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."), t;
} ]).directive("typeahead", [ "$compile", "$parse", "$q", "$timeout", "$document", "$window", "$rootScope", "$uibPosition", "typeaheadParser", "$log", "$typeaheadSuppressWarning", function(e, t, n, i, r, o, a, s, l, c, u) {
var d = [ 9, 13, 27, 38, 40 ], h = 200;
return {
require: [ "ngModel", "^?ngModelOptions" ],
link: function(p, f, g, m) {
function v() {
N.moveInProgress || (N.moveInProgress = !0, N.$digest()), q && i.cancel(q), q = i(function() {
N.matches.length && y(), N.moveInProgress = !1;
}, h);
}
function y() {
N.position = F ? s.offset(f) : s.position(f), N.position.top += f.prop("offsetHeight");
}
u || c.warn("typeahead is now deprecated. Use uib-typeahead instead.");
var b = m[0], w = m[1], x = p.$eval(g.typeaheadMinLength);
x || 0 === x || (x = 1);
var C, _, S = p.$eval(g.typeaheadWaitMs) || 0, $ = !1 !== p.$eval(g.typeaheadEditable), A = t(g.typeaheadLoading).assign || angular.noop, k = t(g.typeaheadOnSelect), E = !!angular.isDefined(g.typeaheadSelectOnBlur) && p.$eval(g.typeaheadSelectOnBlur), T = t(g.typeaheadNoResults).assign || angular.noop, D = g.typeaheadInputFormatter ? t(g.typeaheadInputFormatter) : void 0, F = !!g.typeaheadAppendToBody && p.$eval(g.typeaheadAppendToBody), M = g.typeaheadAppendToElementId || !1, I = !1 !== p.$eval(g.typeaheadFocusFirst), L = !!g.typeaheadSelectOnExact && p.$eval(g.typeaheadSelectOnExact), P = t(g.ngModel), O = t(g.ngModel + "($$$p)"), R = function(e, t) {
return angular.isFunction(P(p)) && w && w.$options && w.$options.getterSetter ? O(e, {
$$$p: t
}) : P.assign(e, t);
}, B = l.parse(g.typeahead), N = p.$new(), j = p.$on("$destroy", function() {
N.$destroy();
});
N.$on("$destroy", j);
var U = "typeahead-" + N.$id + "-" + Math.floor(1e4 * Math.random());
f.attr({
"aria-autocomplete": "list",
"aria-expanded": !1,
"aria-owns": U
});
var V = angular.element("<div typeahead-popup></div>");
V.attr({
id: U,
matches: "matches",
active: "activeIdx",
select: "select(activeIdx)",
"move-in-progress": "moveInProgress",
query: "query",
position: "position"
}), angular.isDefined(g.typeaheadTemplateUrl) && V.attr("template-url", g.typeaheadTemplateUrl), angular.isDefined(g.typeaheadPopupTemplateUrl) && V.attr("popup-template-url", g.typeaheadPopupTemplateUrl);
var H = function() {
N.matches = [], N.activeIdx = -1, f.attr("aria-expanded", !1);
}, z = function(e) {
return U + "-option-" + e;
};
N.$watch("activeIdx", function(e) {
e < 0 ? f.removeAttr("aria-activedescendant") : f.attr("aria-activedescendant", z(e));
});
var W = function(e, t) {
return !!(N.matches.length > t && e) && e.toUpperCase() === N.matches[t].label.toUpperCase();
}, G = function(e) {
var t = {
$viewValue: e
};
A(p, !0), T(p, !1), n.when(B.source(p, t)).then(function(n) {
var i = e === b.$viewValue;
if (i && C) if (n && n.length > 0) {
N.activeIdx = I ? 0 : -1, T(p, !1), N.matches.length = 0;
for (var r = 0; r < n.length; r++) t[B.itemName] = n[r], N.matches.push({
id: z(r),
label: B.viewMapper(N, t),
model: n[r]
});
N.query = e, y(), f.attr("aria-expanded", !0), L && 1 === N.matches.length && W(e, 0) && N.select(0);
} else H(), T(p, !0);
i && A(p, !1);
}, function() {
H(), A(p, !1), T(p, !0);
});
};
F && (angular.element(o).bind("resize", v), r.find("body").bind("scroll", v));
var q;
N.moveInProgress = !1, H(), N.query = void 0;
var Y, K = function(e) {
Y = i(function() {
G(e);
}, S);
}, X = function() {
Y && i.cancel(Y);
};
b.$parsers.unshift(function(e) {
return C = !0, 0 === x || e && e.length >= x ? S > 0 ? (X(), K(e)) : G(e) : (A(p, !1), X(), H()), $ ? e : e ? void b.$setValidity("editable", !1) : (b.$setValidity("editable", !0), null);
}), b.$formatters.push(function(e) {
var t, n, i = {};
return $ || b.$setValidity("editable", !0), D ? (i.$model = e, D(p, i)) : (i[B.itemName] = e, t = B.viewMapper(p, i), i[B.itemName] = void 0, n = B.viewMapper(p, i), t !== n ? t : e);
}), N.select = function(e) {
var t, n, r = {};
_ = !0, r[B.itemName] = n = N.matches[e].model, t = B.modelMapper(p, r), R(p, t), b.$setValidity("editable", !0), b.$setValidity("parse", !0), k(p, {
$item: n,
$model: t,
$label: B.viewMapper(p, r)
}), H(), !1 !== N.$eval(g.typeaheadFocusOnSelect) && i(function() {
f[0].focus();
}, 0, !1);
}, f.bind("keydown", function(e) {
if (0 !== N.matches.length && -1 !== d.indexOf(e.which)) {
if (-1 === N.activeIdx && (9 === e.which || 13 === e.which)) return H(), void N.$digest();
e.preventDefault(), 40 === e.which ? (N.activeIdx = (N.activeIdx + 1) % N.matches.length, N.$digest()) : 38 === e.which ? (N.activeIdx = (N.activeIdx > 0 ? N.activeIdx : N.matches.length) - 1, N.$digest()) : 13 === e.which || 9 === e.which ? N.$apply(function() {
N.select(N.activeIdx);
}) : 27 === e.which && (e.stopPropagation(), H(), N.$digest());
}
}), f.bind("blur", function() {
E && N.matches.length && -1 !== N.activeIdx && !_ && (_ = !0, N.$apply(function() {
N.select(N.activeIdx);
})), C = !1, _ = !1;
});
var Q = function(e) {
f[0] !== e.target && 3 !== e.which && 0 !== N.matches.length && (H(), a.$$phase || N.$digest());
};
r.bind("click", Q), p.$on("$destroy", function() {
r.unbind("click", Q), (F || M) && J.remove(), F && (angular.element(o).unbind("resize", v), r.find("body").unbind("scroll", v)), V.remove();
});
var J = e(V)(N);
F ? r.find("body").append(J) : !1 !== M ? angular.element(r[0].getElementById(M)).append(J) : f.after(J);
}
};
} ]).directive("typeaheadPopup", [ "$typeaheadSuppressWarning", "$log", function(e, t) {
return {
scope: {
matches: "=",
query: "=",
active: "=",
position: "&",
moveInProgress: "=",
select: "&"
},
replace: !0,
templateUrl: function(e, t) {
return t.popupTemplateUrl || "template/typeahead/typeahead-popup.html";
},
link: function(n, i, r) {
e || t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."), n.templateUrl = r.templateUrl, n.isOpen = function() {
return n.matches.length > 0;
}, n.isActive = function(e) {
return n.active == e;
}, n.selectActive = function(e) {
n.active = e;
}, n.selectMatch = function(e) {
n.select({
activeIdx: e
});
};
}
};
} ]).directive("typeaheadMatch", [ "$templateRequest", "$compile", "$parse", "$typeaheadSuppressWarning", "$log", function(e, t, n, i, r) {
return {
restrict: "EA",
scope: {
index: "=",
match: "=",
query: "="
},
link: function(o, a, s) {
i || r.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");
var l = n(s.templateUrl)(o.$parent) || "template/typeahead/typeahead-match.html";
e(l).then(function(e) {
t(e.trim())(o, function(e) {
a.replaceWith(e);
});
});
}
};
} ]).filter("typeaheadHighlight", [ "$sce", "$injector", "$log", "$typeaheadSuppressWarning", function(e, t, n, i) {
function r(e) {
return e.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
}
function o(e) {
return /<.*>/g.test(e);
}
var a;
return a = t.has("$sanitize"), function(t, s) {
return i || n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."), !a && o(t) && n.warn("Unsafe use of typeahead please use ngSanitize"), t = s ? ("" + t).replace(new RegExp(r(s), "gi"), "<strong>$&</strong>") : t, a || (t = e.trustAsHtml(t)), t;
};
} ]), angular.module("template/accordion/accordion-group.html", []).run([ "$templateCache", function(e) {
e.put("template/accordion/accordion-group.html", '<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n');
} ]), angular.module("template/accordion/accordion.html", []).run([ "$templateCache", function(e) {
e.put("template/accordion/accordion.html", '<div class="panel-group" ng-transclude></div>');
} ]), angular.module("template/alert/alert.html", []).run([ "$templateCache", function(e) {
e.put("template/alert/alert.html", '<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n');
} ]), angular.module("template/carousel/carousel.html", []).run([ "$templateCache", function(e) {
e.put("template/carousel/carousel.html", '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>');
} ]), angular.module("template/carousel/slide.html", []).run([ "$templateCache", function(e) {
e.put("template/carousel/slide.html", '<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n');
} ]), angular.module("template/datepicker/datepicker.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/datepicker.html", '<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>');
} ]), angular.module("template/datepicker/day.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/day.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
} ]), angular.module("template/datepicker/month.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/month.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
} ]), angular.module("template/datepicker/popup.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/popup.html", '<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n');
} ]), angular.module("template/datepicker/year.html", []).run([ "$templateCache", function(e) {
e.put("template/datepicker/year.html", '<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
} ]), angular.module("template/modal/backdrop.html", []).run([ "$templateCache", function(e) {
e.put("template/modal/backdrop.html", '<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n');
} ]), angular.module("template/modal/window.html", []).run([ "$templateCache", function(e) {
e.put("template/modal/window.html", '<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n');
} ]), angular.module("template/pagination/pager.html", []).run([ "$templateCache", function(e) {
e.put("template/pagination/pager.html", '<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n');
} ]), angular.module("template/pagination/pagination.html", []).run([ "$templateCache", function(e) {
e.put("template/pagination/pagination.html", '<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n');
} ]), angular.module("template/tooltip/tooltip-html-popup.html", []).run([ "$templateCache", function(e) {
e.put("template/tooltip/tooltip-html-popup.html", '<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n');
} ]), angular.module("template/tooltip/tooltip-popup.html", []).run([ "$templateCache", function(e) {
e.put("template/tooltip/tooltip-popup.html", '<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n');
} ]), angular.module("template/tooltip/tooltip-template-popup.html", []).run([ "$templateCache", function(e) {
e.put("template/tooltip/tooltip-template-popup.html", '<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n');
} ]), angular.module("template/popover/popover-html.html", []).run([ "$templateCache", function(e) {
e.put("template/popover/popover-html.html", '<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n');
} ]), angular.module("template/popover/popover-template.html", []).run([ "$templateCache", function(e) {
e.put("template/popover/popover-template.html", '<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n');
} ]), angular.module("template/popover/popover.html", []).run([ "$templateCache", function(e) {
e.put("template/popover/popover.html", '<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n');
} ]), angular.module("template/progressbar/bar.html", []).run([ "$templateCache", function(e) {
e.put("template/progressbar/bar.html", '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n');
} ]), angular.module("template/progressbar/progress.html", []).run([ "$templateCache", function(e) {
e.put("template/progressbar/progress.html", '<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>');
} ]), angular.module("template/progressbar/progressbar.html", []).run([ "$templateCache", function(e) {
e.put("template/progressbar/progressbar.html", '<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n');
} ]), angular.module("template/rating/rating.html", []).run([ "$templateCache", function(e) {
e.put("template/rating/rating.html", '<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n');
} ]), angular.module("template/tabs/tab.html", []).run([ "$templateCache", function(e) {
e.put("template/tabs/tab.html", '<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n');
} ]), angular.module("template/tabs/tabset.html", []).run([ "$templateCache", function(e) {
e.put("template/tabs/tabset.html", '<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n');
} ]), angular.module("template/timepicker/timepicker.html", []).run([ "$templateCache", function(e) {
e.put("template/timepicker/timepicker.html", '<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n');
} ]), angular.module("template/typeahead/typeahead-match.html", []).run([ "$templateCache", function(e) {
e.put("template/typeahead/typeahead-match.html", '<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n');
} ]), angular.module("template/typeahead/typeahead-popup.html", []).run([ "$templateCache", function(e) {
e.put("template/typeahead/typeahead-popup.html", '<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n');
} ]), !angular.$$csp() && angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'), function(e) {
var t = "application/x-dnd", n = "application/json", i = "Text";
e.directive("dndDraggable", [ "$parse", "$timeout", function(e, o) {
return function(a, s, l) {
s.attr("draggable", "true"), l.dndDisableIf && a.$watch(l.dndDisableIf, function(e) {
s.attr("draggable", !e);
}), s.on("dragstart", function(c) {
if (c = c.originalEvent || c, "false" == s.attr("draggable")) return !0;
r.dropEffect = "none", r.isDragging = !0, r.itemType = l.dndType && a.$eval(l.dndType).toLowerCase();
var u = a.$eval(l.dndDraggable), d = t + (r.itemType ? "-" + r.itemType : "");
try {
c.dataTransfer.setData(d, angular.toJson(u));
} catch (e) {
var h = angular.toJson({
item: u,
type: r.itemType
});
try {
c.dataTransfer.setData(n, h);
} catch (e) {
c.dataTransfer.setData(i, h);
}
}
c.dataTransfer.effectAllowed = l.dndEffectAllowed || "move", s.addClass("dndDragging"), o(function() {
s.addClass("dndDraggingSource");
}, 0), c._dndHandle && c.dataTransfer.setDragImage && c.dataTransfer.setDragImage(s[0], 0, 0), e(l.dndDragstart)(a, {
event: c
}), c.stopPropagation();
}), s.on("dragend", function(t) {
t = t.originalEvent || t;
var n = r.dropEffect;
a.$apply(function() {
switch (n) {
case "move":
e(l.dndMoved)(a, {
event: t
});
break;

case "copy":
e(l.dndCopied)(a, {
event: t
});
break;

case "none":
e(l.dndCanceled)(a, {
event: t
});
}
e(l.dndDragend)(a, {
event: t,
dropEffect: n
});
}), s.removeClass("dndDragging"), o(function() {
s.removeClass("dndDraggingSource");
}, 0), r.isDragging = !1, t.stopPropagation();
}), s.on("click", function(t) {
l.dndSelected && (t = t.originalEvent || t, a.$apply(function() {
e(l.dndSelected)(a, {
event: t
});
}), t.stopPropagation());
}), s.on("selectstart", function() {
this.dragDrop && this.dragDrop();
});
};
} ]), e.directive("dndList", [ "$parse", "$timeout", function(e, o) {
return function(a, s, l) {
function c(e) {
if (!e) return i;
for (var r = 0; r < e.length; r++) if (e[r] == i || e[r] == n || e[r].substr(0, t.length) == t) return e[r];
return null;
}
function u(e) {
return r.isDragging ? r.itemType || void 0 : e == i || e == n ? null : e && e.substr(t.length + 1) || void 0;
}
function d(e) {
return !y.disabled && (!(!y.externalSources && !r.isDragging) && (!y.allowedTypes || null === e || e && -1 != y.allowedTypes.indexOf(e)));
}
function h() {
return g.remove(), s.removeClass("dndDragover"), !0;
}
function p(t, n, i, o, s) {
return e(t)(a, {
event: n,
index: void 0 !== o ? o : f(),
item: s || void 0,
external: !r.isDragging,
type: i
});
}
function f() {
return Array.prototype.indexOf.call(v.children, m);
}
var g = function() {
var e;
return angular.forEach(s.children(), function(t) {
var n = angular.element(t);
n.hasClass("dndPlaceholder") && (e = n);
}), e || angular.element("<li class='dndPlaceholder'></li>");
}();
g.remove();
var m = g[0], v = s[0], y = {};
s.on("dragenter", function(e) {
e = e.originalEvent || e;
var t = l.dndAllowedTypes && a.$eval(l.dndAllowedTypes);
y = {
allowedTypes: angular.isArray(t) && t.join("|").toLowerCase().split("|"),
disabled: l.dndDisableIf && a.$eval(l.dndDisableIf),
externalSources: l.dndExternalSources && a.$eval(l.dndExternalSources),
horizontal: l.dndHorizontalList && a.$eval(l.dndHorizontalList)
};
var n = c(e.dataTransfer.types);
if (!n || !d(u(n))) return !0;
e.preventDefault();
}), s.on("dragover", function(e) {
var t = c((e = e.originalEvent || e).dataTransfer.types), n = u(t);
if (!t || !d(n)) return !0;
if (m.parentNode != v && s.append(g), e.target != v) {
for (var i = e.target; i.parentNode != v && i.parentNode; ) i = i.parentNode;
if (i.parentNode == v && i != m) {
var r = i.getBoundingClientRect();
if (y.horizontal) o = e.clientX < r.left + r.width / 2; else var o = e.clientY < r.top + r.height / 2;
v.insertBefore(m, o ? i : i.nextSibling);
}
}
return l.dndDragover && !p(l.dndDragover, e, n) ? h() : (s.addClass("dndDragover"), e.preventDefault(), e.stopPropagation(), !1);
}), s.on("drop", function(e) {
var t = c((e = e.originalEvent || e).dataTransfer.types), o = u(t);
if (!t || !d(o)) return !0;
e.preventDefault();
try {
var s = JSON.parse(e.dataTransfer.getData(t));
} catch (e) {
return h();
}
if ((t == i || t == n) && (o = s.type || void 0, s = s.item, !d(o))) return h();
var g = f();
return l.dndDrop && !(s = p(l.dndDrop, e, o, g, s)) ? h() : (!0 !== s && a.$apply(function() {
a.$eval(l.dndList).splice(g, 0, s);
}), p(l.dndInserted, e, o, g, s), "none" === e.dataTransfer.dropEffect ? "copy" === e.dataTransfer.effectAllowed || "move" === e.dataTransfer.effectAllowed ? r.dropEffect = e.dataTransfer.effectAllowed : r.dropEffect = e.ctrlKey ? "copy" : "move" : r.dropEffect = e.dataTransfer.dropEffect, h(), e.stopPropagation(), !1);
}), s.on("dragleave", function(e) {
e = e.originalEvent || e, s.removeClass("dndDragover"), o(function() {
s.hasClass("dndDragover") || g.remove();
}, 100);
});
};
} ]), e.directive("dndNodrag", function() {
return function(e, t, n) {
t.attr("draggable", "true"), t.on("dragstart", function(e) {
(e = e.originalEvent || e)._dndHandle || (e.dataTransfer.types && e.dataTransfer.types.length || e.preventDefault(), e.stopPropagation());
}), t.on("dragend", function(e) {
(e = e.originalEvent || e)._dndHandle || e.stopPropagation();
});
};
}), e.directive("dndHandle", function() {
return function(e, t, n) {
t.attr("draggable", "true"), t.on("dragstart dragend", function(e) {
(e = e.originalEvent || e)._dndHandle = !0;
});
};
});
var r = {};
}(angular.module("dndLists", [])), function() {
function e(e, t) {
if (e !== t) {
var n = null === e, i = e === C, r = e === e, o = null === t, a = t === C, s = t === t;
if (e > t && !o || !r || n && !a && s || i && s) return 1;
if (e < t && !n || !s || o && !i && r || a && r) return -1;
}
return 0;
}
function t(e, t, n) {
for (var i = e.length, r = n ? i : -1; n ? r-- : ++r < i; ) if (t(e[r], r, e)) return r;
return -1;
}
function n(e, t, n) {
if (t !== t) return p(e, n);
for (var i = n - 1, r = e.length; ++i < r; ) if (e[i] === t) return i;
return -1;
}
function i(e) {
return "function" == typeof e || !1;
}
function r(e) {
return null == e ? "" : e + "";
}
function o(e, t) {
for (var n = -1, i = e.length; ++n < i && t.indexOf(e.charAt(n)) > -1; ) ;
return n;
}
function a(e, t) {
for (var n = e.length; n-- && t.indexOf(e.charAt(n)) > -1; ) ;
return n;
}
function s(t, n) {
return e(t.criteria, n.criteria) || t.index - n.index;
}
function l(t, n, i) {
for (var r = -1, o = t.criteria, a = n.criteria, s = o.length, l = i.length; ++r < s; ) {
var c = e(o[r], a[r]);
if (c) {
if (r >= l) return c;
var u = i[r];
return c * ("asc" === u || !0 === u ? 1 : -1);
}
}
return t.index - n.index;
}
function c(e) {
return Be[e];
}
function u(e) {
return Ne[e];
}
function d(e, t, n) {
return t ? e = Ve[e] : n && (e = He[e]), "\\" + e;
}
function h(e) {
return "\\" + He[e];
}
function p(e, t, n) {
for (var i = e.length, r = t + (n ? 0 : -1); n ? r-- : ++r < i; ) {
var o = e[r];
if (o !== o) return r;
}
return -1;
}
function f(e) {
return !!e && "object" == typeof e;
}
function g(e) {
return e <= 160 && e >= 9 && e <= 13 || 32 == e || 160 == e || 5760 == e || 6158 == e || e >= 8192 && (e <= 8202 || 8232 == e || 8233 == e || 8239 == e || 8287 == e || 12288 == e || 65279 == e);
}
function m(e, t) {
for (var n = -1, i = e.length, r = -1, o = []; ++n < i; ) e[n] === t && (e[n] = U, o[++r] = n);
return o;
}
function v(e, t) {
for (var n, i = -1, r = e.length, o = -1, a = []; ++i < r; ) {
var s = e[i], l = t ? t(s, i, e) : s;
i && n === l || (n = l, a[++o] = s);
}
return a;
}
function y(e) {
for (var t = -1, n = e.length; ++t < n && g(e.charCodeAt(t)); ) ;
return t;
}
function b(e) {
for (var t = e.length; t-- && g(e.charCodeAt(t)); ) ;
return t;
}
function w(e) {
return je[e];
}
function x(g) {
function Be(e) {
if (f(e) && !Ho(e) && !(e instanceof Ue)) {
if (e instanceof je) return e;
if (fr.call(e, "__chain__") && fr.call(e, "__wrapped__")) return ni(e);
}
return new je(e);
}
function Ne() {}
function je(e, t, n) {
this.__wrapped__ = e, this.__actions__ = n || [], this.__chain__ = !!t;
}
function Ue(e) {
this.__wrapped__ = e, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = Ur, this.__views__ = [];
}
function Ve() {
this.__data__ = {};
}
function He(e) {
var t = e ? e.length : 0;
for (this.data = {
hash: Dr(null),
set: new Sr()
}; t--; ) this.push(e[t]);
}
function ze(e, t) {
var n = e.data;
return ("string" == typeof t || Di(t) ? n.set.has(t) : n.hash[t]) ? 0 : -1;
}
function We(e, t) {
for (var n = -1, i = e.length, r = -1, o = t.length, a = er(i + o); ++n < i; ) a[n] = e[n];
for (;++r < o; ) a[n++] = t[r];
return a;
}
function Ge(e, t) {
var n = -1, i = e.length;
for (t || (t = er(i)); ++n < i; ) t[n] = e[n];
return t;
}
function qe(e, t) {
for (var n = -1, i = e.length; ++n < i && !1 !== t(e[n], n, e); ) ;
return e;
}
function Ye(e, t) {
for (var n = -1, i = e.length; ++n < i; ) if (!t(e[n], n, e)) return !1;
return !0;
}
function Ke(e, t, n, i) {
for (var r = -1, o = e.length, a = i, s = a; ++r < o; ) {
var l = e[r], c = +t(l);
n(c, a) && (a = c, s = l);
}
return s;
}
function Je(e, t) {
for (var n = -1, i = e.length, r = -1, o = []; ++n < i; ) {
var a = e[n];
t(a, n, e) && (o[++r] = a);
}
return o;
}
function Ze(e, t) {
for (var n = -1, i = e.length, r = er(i); ++n < i; ) r[n] = t(e[n], n, e);
return r;
}
function et(e, t) {
for (var n = -1, i = t.length, r = e.length; ++n < i; ) e[r + n] = t[n];
return e;
}
function tt(e, t, n, i) {
var r = -1, o = e.length;
for (i && o && (n = e[++r]); ++r < o; ) n = t(n, e[r], r, e);
return n;
}
function nt(e, t) {
for (var n = -1, i = e.length; ++n < i; ) if (t(e[n], n, e)) return !0;
return !1;
}
function it(e, t) {
for (var n = e.length, i = 0; n--; ) i += +t(e[n]) || 0;
return i;
}
function rt(e, t, n, i) {
return e !== C && fr.call(i, n) ? e : t;
}
function ot(e, t, n) {
for (var i = -1, r = ea(t), o = r.length; ++i < o; ) {
var a = r[i], s = e[a], l = n(s, t[a], a, e, t);
(l === l ? l === s : s !== s) && (s !== C || a in e) || (e[a] = l);
}
return e;
}
function at(e, t) {
return null == t ? e : lt(t, ea(t), e);
}
function st(e, t) {
for (var n = -1, i = null == e, r = !i && jn(e), o = r ? e.length : 0, a = t.length, s = er(a); ++n < a; ) {
var l = t[n];
s[n] = r ? Un(l, o) ? e[l] : C : i ? C : e[l];
}
return s;
}
function lt(e, t, n) {
n || (n = {});
for (var i = -1, r = t.length; ++i < r; ) {
var o = t[i];
n[o] = e[o];
}
return n;
}
function ct(e, t, n) {
var i = typeof e;
return "function" == i ? t === C ? e : Yt(e, t, n) : null == e ? Ki : "object" == i ? Et(e) : t === C ? Zi(e) : Tt(e, t);
}
function ut(e, t, n, i, r, o, a) {
var s;
if (n && (s = r ? n(e, i, r) : n(e)), s !== C) return s;
if (!Di(e)) return e;
var l = Ho(e);
if (l) {
if (s = On(e), !t) return Ge(e, s);
} else {
var c = mr.call(e), u = c == q;
if (c != K && c != V && (!u || r)) return Re[c] ? Bn(e, c, t) : r ? e : {};
if (s = Rn(u ? {} : e), !t) return at(s, e);
}
o || (o = []), a || (a = []);
for (var d = o.length; d--; ) if (o[d] == e) return a[d];
return o.push(e), a.push(s), (l ? qe : wt)(e, function(i, r) {
s[r] = ut(i, t, n, r, e, o, a);
}), s;
}
function dt(e, t, n) {
if ("function" != typeof e) throw new cr(j);
return $r(function() {
e.apply(C, n);
}, t);
}
function ht(e, t) {
var i = e ? e.length : 0, r = [];
if (!i) return r;
var o = -1, a = Mn(), s = a === n, l = s && t.length >= R ? rn(t) : null, c = t.length;
l && (a = ze, s = !1, t = l);
e: for (;++o < i; ) {
var u = e[o];
if (s && u === u) {
for (var d = c; d--; ) if (t[d] === u) continue e;
r.push(u);
} else a(t, u, 0) < 0 && r.push(u);
}
return r;
}
function pt(e, t) {
var n = !0;
return Kr(e, function(e, i, r) {
return n = !!t(e, i, r);
}), n;
}
function ft(e, t, n, i) {
var r = i, o = r;
return Kr(e, function(e, a, s) {
var l = +t(e, a, s);
(n(l, r) || l === i && l === o) && (r = l, o = e);
}), o;
}
function gt(e, t, n, i) {
var r = e.length;
for ((n = null == n ? 0 : +n || 0) < 0 && (n = -n > r ? 0 : r + n), (i = i === C || i > r ? r : +i || 0) < 0 && (i += r), r = n > i ? 0 : i >>> 0, n >>>= 0; n < r; ) e[n++] = t;
return e;
}
function mt(e, t) {
var n = [];
return Kr(e, function(e, i, r) {
t(e, i, r) && n.push(e);
}), n;
}
function vt(e, t, n, i) {
var r;
return n(e, function(e, n, o) {
if (t(e, n, o)) return r = i ? n : e, !1;
}), r;
}
function yt(e, t, n, i) {
i || (i = []);
for (var r = -1, o = e.length; ++r < o; ) {
var a = e[r];
f(a) && jn(a) && (n || Ho(a) || Ai(a)) ? t ? yt(a, t, n, i) : et(i, a) : n || (i[i.length] = a);
}
return i;
}
function bt(e, t) {
return Qr(e, t, Ui);
}
function wt(e, t) {
return Qr(e, t, ea);
}
function xt(e, t) {
return Jr(e, t, ea);
}
function Ct(e, t) {
for (var n = -1, i = t.length, r = -1, o = []; ++n < i; ) {
var a = t[n];
Ti(e[a]) && (o[++r] = a);
}
return o;
}
function _t(e, t, n) {
if (null != e) {
n !== C && n in ei(e) && (t = [ n ]);
for (var i = 0, r = t.length; null != e && i < r; ) e = e[t[i++]];
return i && i == r ? e : C;
}
}
function St(e, t, n, i, r, o) {
return e === t || (null == e || null == t || !Di(e) && !f(t) ? e !== e && t !== t : $t(e, t, St, n, i, r, o));
}
function $t(e, t, n, i, r, o, a) {
var s = Ho(e), l = Ho(t), c = H, u = H;
s || ((c = mr.call(e)) == V ? c = K : c != K && (s = Oi(e))), l || ((u = mr.call(t)) == V ? u = K : u != K && (l = Oi(t)));
var d = c == K, h = u == K, p = c == u;
if (p && !s && !d) return En(e, t, c);
if (!r) {
var f = d && fr.call(e, "__wrapped__"), g = h && fr.call(t, "__wrapped__");
if (f || g) return n(f ? e.value() : e, g ? t.value() : t, i, r, o, a);
}
if (!p) return !1;
o || (o = []), a || (a = []);
for (var m = o.length; m--; ) if (o[m] == e) return a[m] == t;
o.push(e), a.push(t);
var v = (s ? kn : Tn)(e, t, n, i, r, o, a);
return o.pop(), a.pop(), v;
}
function At(e, t, n) {
var i = t.length, r = i, o = !n;
if (null == e) return !r;
for (e = ei(e); i--; ) {
var a = t[i];
if (o && a[2] ? a[1] !== e[a[0]] : !(a[0] in e)) return !1;
}
for (;++i < r; ) {
var s = (a = t[i])[0], l = e[s], c = a[1];
if (o && a[2]) {
if (l === C && !(s in e)) return !1;
} else {
var u = n ? n(l, c, s) : C;
if (!(u === C ? St(c, l, n, !0) : u)) return !1;
}
}
return !0;
}
function kt(e, t) {
var n = -1, i = jn(e) ? er(e.length) : [];
return Kr(e, function(e, r, o) {
i[++n] = t(e, r, o);
}), i;
}
function Et(e) {
var t = In(e);
if (1 == t.length && t[0][2]) {
var n = t[0][0], i = t[0][1];
return function(e) {
return null != e && (e[n] === i && (i !== C || n in ei(e)));
};
}
return function(e) {
return At(e, t);
};
}
function Tt(e, t) {
var n = Ho(e), i = Hn(e) && Gn(t), r = e + "";
return e = ti(e), function(o) {
if (null == o) return !1;
var a = r;
if (o = ei(o), (n || !i) && !(a in o)) {
if (null == (o = 1 == e.length ? o : _t(o, Rt(e, 0, -1)))) return !1;
a = si(e), o = ei(o);
}
return o[a] === t ? t !== C || a in o : St(t, o[a], C, !0);
};
}
function Dt(e, t, n, i, r) {
if (!Di(e)) return e;
var o = jn(t) && (Ho(t) || Oi(t)), a = o ? C : ea(t);
return qe(a || t, function(s, l) {
if (a && (s = t[l = s]), f(s)) i || (i = []), r || (r = []), Ft(e, t, l, Dt, n, i, r); else {
var c = e[l], u = n ? n(c, s, l, e, t) : C, d = u === C;
d && (u = s), u === C && (!o || l in e) || !d && (u === u ? u === c : c !== c) || (e[l] = u);
}
}), e;
}
function Ft(e, t, n, i, r, o, a) {
for (var s = o.length, l = t[n]; s--; ) if (o[s] == l) return void (e[n] = a[s]);
var c = e[n], u = r ? r(c, l, n, e, t) : C, d = u === C;
d && (u = l, jn(l) && (Ho(l) || Oi(l)) ? u = Ho(c) ? c : jn(c) ? Ge(c) : [] : Ii(l) || Ai(l) ? u = Ai(c) ? Ni(c) : Ii(c) ? c : {} : d = !1), o.push(l), a.push(u), d ? e[n] = i(u, l, r, o, a) : (u === u ? u !== c : c === c) && (e[n] = u);
}
function Mt(e) {
return function(t) {
return null == t ? C : t[e];
};
}
function It(e) {
var t = e + "";
return e = ti(e), function(n) {
return _t(n, e, t);
};
}
function Lt(e, t) {
for (var n = e ? t.length : 0; n--; ) {
var i = t[n];
if (i != r && Un(i)) {
var r = i;
Ar.call(e, i, 1);
}
}
return e;
}
function Pt(e, t) {
return e + Fr(Nr() * (t - e + 1));
}
function Ot(e, t, n, i, r) {
return r(e, function(e, r, o) {
n = i ? (i = !1, e) : t(n, e, r, o);
}), n;
}
function Rt(e, t, n) {
var i = -1, r = e.length;
(t = null == t ? 0 : +t || 0) < 0 && (t = -t > r ? 0 : r + t), (n = n === C || n > r ? r : +n || 0) < 0 && (n += r), r = t > n ? 0 : n - t >>> 0, t >>>= 0;
for (var o = er(r); ++i < r; ) o[i] = e[i + t];
return o;
}
function Bt(e, t) {
var n;
return Kr(e, function(e, i, r) {
return !(n = t(e, i, r));
}), !!n;
}
function Nt(e, t) {
var n = e.length;
for (e.sort(t); n--; ) e[n] = e[n].value;
return e;
}
function jt(e, t, n) {
var i = Dn(), r = -1;
return t = Ze(t, function(e) {
return i(e);
}), Nt(kt(e, function(e) {
return {
criteria: Ze(t, function(t) {
return t(e);
}),
index: ++r,
value: e
};
}), function(e, t) {
return l(e, t, n);
});
}
function Ut(e, t) {
var n = 0;
return Kr(e, function(e, i, r) {
n += +t(e, i, r) || 0;
}), n;
}
function Vt(e, t) {
var i = -1, r = Mn(), o = e.length, a = r === n, s = a && o >= R, l = s ? rn() : null, c = [];
l ? (r = ze, a = !1) : (s = !1, l = t ? [] : c);
e: for (;++i < o; ) {
var u = e[i], d = t ? t(u, i, e) : u;
if (a && u === u) {
for (var h = l.length; h--; ) if (l[h] === d) continue e;
t && l.push(d), c.push(u);
} else r(l, d, 0) < 0 && ((t || s) && l.push(d), c.push(u));
}
return c;
}
function Ht(e, t) {
for (var n = -1, i = t.length, r = er(i); ++n < i; ) r[n] = e[t[n]];
return r;
}
function zt(e, t, n, i) {
for (var r = e.length, o = i ? r : -1; (i ? o-- : ++o < r) && t(e[o], o, e); ) ;
return n ? Rt(e, i ? 0 : o, i ? o + 1 : r) : Rt(e, i ? o + 1 : 0, i ? r : o);
}
function Wt(e, t) {
var n = e;
n instanceof Ue && (n = n.value());
for (var i = -1, r = t.length; ++i < r; ) {
var o = t[i];
n = o.func.apply(o.thisArg, et([ n ], o.args));
}
return n;
}
function Gt(e, t, n) {
var i = 0, r = e ? e.length : i;
if ("number" == typeof t && t === t && r <= zr) {
for (;i < r; ) {
var o = i + r >>> 1, a = e[o];
(n ? a <= t : a < t) && null !== a ? i = o + 1 : r = o;
}
return r;
}
return qt(e, t, Ki, n);
}
function qt(e, t, n, i) {
t = n(t);
for (var r = 0, o = e ? e.length : 0, a = t !== t, s = null === t, l = t === C; r < o; ) {
var c = Fr((r + o) / 2), u = n(e[c]), d = u !== C, h = u === u;
if (a) var p = h || i; else p = s ? h && d && (i || null != u) : l ? h && (i || d) : null != u && (i ? u <= t : u < t);
p ? r = c + 1 : o = c;
}
return Or(o, Hr);
}
function Yt(e, t, n) {
if ("function" != typeof e) return Ki;
if (t === C) return e;
switch (n) {
case 1:
return function(n) {
return e.call(t, n);
};

case 3:
return function(n, i, r) {
return e.call(t, n, i, r);
};

case 4:
return function(n, i, r, o) {
return e.call(t, n, i, r, o);
};

case 5:
return function(n, i, r, o, a) {
return e.call(t, n, i, r, o, a);
};
}
return function() {
return e.apply(t, arguments);
};
}
function Kt(e) {
var t = new br(e.byteLength);
return new kr(t).set(new kr(e)), t;
}
function Xt(e, t, n) {
for (var i = n.length, r = -1, o = Pr(e.length - i, 0), a = -1, s = t.length, l = er(s + o); ++a < s; ) l[a] = t[a];
for (;++r < i; ) l[n[r]] = e[r];
for (;o--; ) l[a++] = e[r++];
return l;
}
function Qt(e, t, n) {
for (var i = -1, r = n.length, o = -1, a = Pr(e.length - r, 0), s = -1, l = t.length, c = er(a + l); ++o < a; ) c[o] = e[o];
for (var u = o; ++s < l; ) c[u + s] = t[s];
for (;++i < r; ) c[u + n[i]] = e[o++];
return c;
}
function Jt(e, t) {
return function(n, i, r) {
var o = t ? t() : {};
if (i = Dn(i, r, 3), Ho(n)) for (var a = -1, s = n.length; ++a < s; ) {
var l = n[a];
e(o, l, i(l, a, n), n);
} else Kr(n, function(t, n, r) {
e(o, t, i(t, n, r), r);
});
return o;
};
}
function Zt(e) {
return Si(function(t, n) {
var i = -1, r = null == t ? 0 : n.length, o = r > 2 ? n[r - 2] : C, a = r > 2 ? n[2] : C, s = r > 1 ? n[r - 1] : C;
for ("function" == typeof o ? (o = Yt(o, s, 5), r -= 2) : r -= (o = "function" == typeof s ? s : C) ? 1 : 0, a && Vn(n[0], n[1], a) && (o = r < 3 ? C : o, r = 1); ++i < r; ) {
var l = n[i];
l && e(t, l, o);
}
return t;
});
}
function en(e, t) {
return function(n, i) {
var r = n ? to(n) : 0;
if (!Wn(r)) return e(n, i);
for (var o = t ? r : -1, a = ei(n); (t ? o-- : ++o < r) && !1 !== i(a[o], o, a); ) ;
return n;
};
}
function tn(e) {
return function(t, n, i) {
for (var r = ei(t), o = i(t), a = o.length, s = e ? a : -1; e ? s-- : ++s < a; ) {
var l = o[s];
if (!1 === n(r[l], l, r)) break;
}
return t;
};
}
function nn(e, t) {
function n() {
return (this && this !== Xe && this instanceof n ? i : e).apply(t, arguments);
}
var i = an(e);
return n;
}
function rn(e) {
return Dr && Sr ? new He(e) : null;
}
function on(e) {
return function(t) {
for (var n = -1, i = qi(zi(t)), r = i.length, o = ""; ++n < r; ) o = e(o, i[n], n);
return o;
};
}
function an(e) {
return function() {
var t = arguments;
switch (t.length) {
case 0:
return new e();

case 1:
return new e(t[0]);

case 2:
return new e(t[0], t[1]);

case 3:
return new e(t[0], t[1], t[2]);

case 4:
return new e(t[0], t[1], t[2], t[3]);

case 5:
return new e(t[0], t[1], t[2], t[3], t[4]);

case 6:
return new e(t[0], t[1], t[2], t[3], t[4], t[5]);

case 7:
return new e(t[0], t[1], t[2], t[3], t[4], t[5], t[6]);
}
var n = Yr(e.prototype), i = e.apply(n, t);
return Di(i) ? i : n;
};
}
function sn(e) {
function t(n, i, r) {
r && Vn(n, i, r) && (i = C);
var o = An(n, e, C, C, C, C, C, i);
return o.placeholder = t.placeholder, o;
}
return t;
}
function ln(e, t) {
return Si(function(n) {
var i = n[0];
return null == i ? i : (n.push(t), e.apply(C, n));
});
}
function cn(e, t) {
return function(n, i, r) {
if (r && Vn(n, i, r) && (i = C), 1 == (i = Dn(i, r, 3)).length) {
var o = Ke(n = Ho(n) ? n : Zn(n), i, e, t);
if (!n.length || o !== t) return o;
}
return ft(n, i, e, t);
};
}
function un(e, n) {
return function(i, r, o) {
if (r = Dn(r, o, 3), Ho(i)) {
var a = t(i, r, n);
return a > -1 ? i[a] : C;
}
return vt(i, r, e);
};
}
function dn(e) {
return function(n, i, r) {
return n && n.length ? (i = Dn(i, r, 3), t(n, i, e)) : -1;
};
}
function hn(e) {
return function(t, n, i) {
return n = Dn(n, i, 3), vt(t, n, e, !0);
};
}
function pn(e) {
return function() {
for (var t, n = arguments.length, i = e ? n : -1, r = 0, o = er(n); e ? i-- : ++i < n; ) {
var a = o[r++] = arguments[i];
if ("function" != typeof a) throw new cr(j);
!t && je.prototype.thru && "wrapper" == Fn(a) && (t = new je([], !0));
}
for (i = t ? -1 : n; ++i < n; ) {
var s = Fn(a = o[i]), l = "wrapper" == s ? eo(a) : C;
t = l && zn(l[0]) && l[1] == (F | k | T | M) && !l[4].length && 1 == l[9] ? t[Fn(l[0])].apply(t, l[3]) : 1 == a.length && zn(a) ? t[s]() : t.thru(a);
}
return function() {
var e = arguments, i = e[0];
if (t && 1 == e.length && Ho(i) && i.length >= R) return t.plant(i).value();
for (var r = 0, a = n ? o[r].apply(this, e) : i; ++r < n; ) a = o[r].call(this, a);
return a;
};
};
}
function fn(e, t) {
return function(n, i, r) {
return "function" == typeof i && r === C && Ho(n) ? e(n, i) : t(n, Yt(i, r, 3));
};
}
function gn(e) {
return function(t, n, i) {
return "function" == typeof n && i === C || (n = Yt(n, i, 3)), e(t, n, Ui);
};
}
function mn(e) {
return function(t, n, i) {
return "function" == typeof n && i === C || (n = Yt(n, i, 3)), e(t, n);
};
}
function vn(e) {
return function(t, n, i) {
var r = {};
return n = Dn(n, i, 3), wt(t, function(t, i, o) {
var a = n(t, i, o);
i = e ? a : i, t = e ? t : a, r[i] = t;
}), r;
};
}
function yn(e) {
return function(t, n, i) {
return t = r(t), (e ? t : "") + Cn(t, n, i) + (e ? "" : t);
};
}
function bn(e) {
var t = Si(function(n, i) {
var r = m(i, t.placeholder);
return An(n, e, C, i, r);
});
return t;
}
function wn(e, t) {
return function(n, i, r, o) {
var a = arguments.length < 3;
return "function" == typeof i && o === C && Ho(n) ? e(n, i, r, a) : Ot(n, Dn(i, o, 4), r, a, t);
};
}
function xn(e, t, n, i, r, o, a, s, l, c) {
function u() {
for (var b = arguments.length, w = b, x = er(b); w--; ) x[w] = arguments[w];
if (i && (x = Xt(x, i, r)), o && (x = Qt(x, o, a)), f || v) {
var _ = u.placeholder, A = m(x, _);
if ((b -= A.length) < c) {
var k = s ? Ge(s) : C, E = Pr(c - b, 0), F = f ? A : C, M = f ? C : A, I = f ? x : C, L = f ? C : x;
t |= f ? T : D, t &= ~(f ? D : T), g || (t &= ~(S | $));
var P = [ e, t, n, I, F, L, M, k, l, E ], O = xn.apply(C, P);
return zn(e) && no(O, P), O.placeholder = _, O;
}
}
var R = h ? n : this, B = p ? R[e] : e;
return s && (x = Qn(x, s)), d && l < x.length && (x.length = l), this && this !== Xe && this instanceof u && (B = y || an(e)), B.apply(R, x);
}
var d = t & F, h = t & S, p = t & $, f = t & k, g = t & A, v = t & E, y = p ? C : an(e);
return u;
}
function Cn(e, t, n) {
var i = e.length;
if (t = +t, i >= t || !Ir(t)) return "";
var r = t - i;
return n = null == n ? " " : n + "", Wi(n, Tr(r / n.length)).slice(0, r);
}
function _n(e, t, n, i) {
function r() {
for (var t = -1, s = arguments.length, l = -1, c = i.length, u = er(c + s); ++l < c; ) u[l] = i[l];
for (;s--; ) u[l++] = arguments[++t];
return (this && this !== Xe && this instanceof r ? a : e).apply(o ? n : this, u);
}
var o = t & S, a = an(e);
return r;
}
function Sn(e) {
var t = rr[e];
return function(e, n) {
return (n = n === C ? 0 : +n || 0) ? (n = Cr(10, n), t(e * n) / n) : t(e);
};
}
function $n(e) {
return function(t, n, i, r) {
var o = Dn(i);
return null == i && o === ct ? Gt(t, n, e) : qt(t, n, o(i, r, 1), e);
};
}
function An(e, t, n, i, r, o, a, s) {
var l = t & $;
if (!l && "function" != typeof e) throw new cr(j);
var c = i ? i.length : 0;
if (c || (t &= ~(T | D), i = r = C), c -= r ? r.length : 0, t & D) {
var u = i, d = r;
i = r = C;
}
var h = l ? C : eo(e), p = [ e, t, n, i, r, u, d, o, a, s ];
if (h && (qn(p, h), t = p[1], s = p[9]), p[9] = null == s ? l ? 0 : e.length : Pr(s - c, 0) || 0, t == S) var f = nn(p[0], p[2]); else f = t != T && t != (S | T) || p[4].length ? xn.apply(C, p) : _n.apply(C, p);
return (h ? Zr : no)(f, p);
}
function kn(e, t, n, i, r, o, a) {
var s = -1, l = e.length, c = t.length;
if (l != c && !(r && c > l)) return !1;
for (;++s < l; ) {
var u = e[s], d = t[s], h = i ? i(r ? d : u, r ? u : d, s) : C;
if (h !== C) {
if (h) continue;
return !1;
}
if (r) {
if (!nt(t, function(e) {
return u === e || n(u, e, i, r, o, a);
})) return !1;
} else if (u !== d && !n(u, d, i, r, o, a)) return !1;
}
return !0;
}
function En(e, t, n) {
switch (n) {
case z:
case W:
return +e == +t;

case G:
return e.name == t.name && e.message == t.message;

case Y:
return e != +e ? t != +t : e == +t;

case X:
case Q:
return e == t + "";
}
return !1;
}
function Tn(e, t, n, i, r, o, a) {
var s = ea(e), l = s.length;
if (l != ea(t).length && !r) return !1;
for (var c = l; c--; ) {
var u = s[c];
if (!(r ? u in t : fr.call(t, u))) return !1;
}
for (var d = r; ++c < l; ) {
var h = e[u = s[c]], p = t[u], f = i ? i(r ? p : h, r ? h : p, u) : C;
if (!(f === C ? n(h, p, i, r, o, a) : f)) return !1;
d || (d = "constructor" == u);
}
if (!d) {
var g = e.constructor, m = t.constructor;
if (g != m && "constructor" in e && "constructor" in t && !("function" == typeof g && g instanceof g && "function" == typeof m && m instanceof m)) return !1;
}
return !0;
}
function Dn(e, t, n) {
var i = Be.callback || Yi;
return i = i === Yi ? ct : i, n ? i(e, t, n) : i;
}
function Fn(e) {
for (var t = e.name + "", n = qr[t], i = n ? n.length : 0; i--; ) {
var r = n[i], o = r.func;
if (null == o || o == e) return r.name;
}
return t;
}
function Mn(e, t, i) {
var r = Be.indexOf || ai;
return r = r === ai ? n : r, e ? r(e, t, i) : r;
}
function In(e) {
for (var t = Vi(e), n = t.length; n--; ) t[n][2] = Gn(t[n][1]);
return t;
}
function Ln(e, t) {
var n = null == e ? C : e[t];
return Fi(n) ? n : C;
}
function Pn(e, t, n) {
for (var i = -1, r = n.length; ++i < r; ) {
var o = n[i], a = o.size;
switch (o.type) {
case "drop":
e += a;
break;

case "dropRight":
t -= a;
break;

case "take":
t = Or(t, e + a);
break;

case "takeRight":
e = Pr(e, t - a);
}
}
return {
start: e,
end: t
};
}
function On(e) {
var t = e.length, n = new e.constructor(t);
return t && "string" == typeof e[0] && fr.call(e, "index") && (n.index = e.index, n.input = e.input), n;
}
function Rn(e) {
var t = e.constructor;
return "function" == typeof t && t instanceof t || (t = ar), new t();
}
function Bn(e, t, n) {
var i = e.constructor;
switch (t) {
case J:
return Kt(e);

case z:
case W:
return new i(+e);

case Z:
case ee:
case te:
case ne:
case ie:
case re:
case oe:
case ae:
case se:
var r = e.buffer;
return new i(n ? Kt(r) : r, e.byteOffset, e.length);

case Y:
case Q:
return new i(e);

case X:
var o = new i(e.source, Ae.exec(e));
o.lastIndex = e.lastIndex;
}
return o;
}
function Nn(e, t, n) {
null == e || Hn(t, e) || (e = 1 == (t = ti(t)).length ? e : _t(e, Rt(t, 0, -1)), t = si(t));
var i = null == e ? e : e[t];
return null == i ? C : i.apply(e, n);
}
function jn(e) {
return null != e && Wn(to(e));
}
function Un(e, t) {
return e = "number" == typeof e || Te.test(e) ? +e : -1, t = null == t ? Wr : t, e > -1 && e % 1 == 0 && e < t;
}
function Vn(e, t, n) {
if (!Di(n)) return !1;
var i = typeof t;
if ("number" == i ? jn(n) && Un(t, n.length) : "string" == i && t in n) {
var r = n[t];
return e === e ? e === r : r !== r;
}
return !1;
}
function Hn(e, t) {
var n = typeof e;
return !!("string" == n && be.test(e) || "number" == n) || !Ho(e) && (!ye.test(e) || null != t && e in ei(t));
}
function zn(e) {
var t = Fn(e), n = Be[t];
if ("function" != typeof n || !(t in Ue.prototype)) return !1;
if (e === n) return !0;
var i = eo(n);
return !!i && e === i[0];
}
function Wn(e) {
return "number" == typeof e && e > -1 && e % 1 == 0 && e <= Wr;
}
function Gn(e) {
return e === e && !Di(e);
}
function qn(e, t) {
var n = e[1], i = t[1], r = n | i, o = r < F, a = i == F && n == k || i == F && n == M && e[7].length <= t[8] || i == (F | M) && n == k;
if (!o && !a) return e;
i & S && (e[2] = t[2], r |= n & S ? 0 : A);
var s = t[3];
if (s) {
var l = e[3];
e[3] = l ? Xt(l, s, t[4]) : Ge(s), e[4] = l ? m(e[3], U) : Ge(t[4]);
}
return (s = t[5]) && (l = e[5], e[5] = l ? Qt(l, s, t[6]) : Ge(s), e[6] = l ? m(e[5], U) : Ge(t[6])), (s = t[7]) && (e[7] = Ge(s)), i & F && (e[8] = null == e[8] ? t[8] : Or(e[8], t[8])), null == e[9] && (e[9] = t[9]), e[0] = t[0], e[1] = r, e;
}
function Yn(e, t) {
return e === C ? t : zo(e, t, Yn);
}
function Kn(e, t) {
e = ei(e);
for (var n = -1, i = t.length, r = {}; ++n < i; ) {
var o = t[n];
o in e && (r[o] = e[o]);
}
return r;
}
function Xn(e, t) {
var n = {};
return bt(e, function(e, i, r) {
t(e, i, r) && (n[i] = e);
}), n;
}
function Qn(e, t) {
for (var n = e.length, i = Or(t.length, n), r = Ge(e); i--; ) {
var o = t[i];
e[i] = Un(o, n) ? r[o] : C;
}
return e;
}
function Jn(e) {
for (var t = Ui(e), n = t.length, i = n && e.length, r = !!i && Wn(i) && (Ho(e) || Ai(e)), o = -1, a = []; ++o < n; ) {
var s = t[o];
(r && Un(s, i) || fr.call(e, s)) && a.push(s);
}
return a;
}
function Zn(e) {
return null == e ? [] : jn(e) ? Di(e) ? e : ar(e) : Hi(e);
}
function ei(e) {
return Di(e) ? e : ar(e);
}
function ti(e) {
if (Ho(e)) return e;
var t = [];
return r(e).replace(we, function(e, n, i, r) {
t.push(i ? r.replace(Se, "$1") : n || e);
}), t;
}
function ni(e) {
return e instanceof Ue ? e.clone() : new je(e.__wrapped__, e.__chain__, Ge(e.__actions__));
}
function ii(e, t, n) {
return (e ? e.length : 0) ? ((n ? Vn(e, t, n) : null == t) && (t = 1), Rt(e, t < 0 ? 0 : t)) : [];
}
function ri(e, t, n) {
var i = e ? e.length : 0;
return i ? ((n ? Vn(e, t, n) : null == t) && (t = 1), t = i - (+t || 0), Rt(e, 0, t < 0 ? 0 : t)) : [];
}
function oi(e) {
return e ? e[0] : C;
}
function ai(e, t, i) {
var r = e ? e.length : 0;
if (!r) return -1;
if ("number" == typeof i) i = i < 0 ? Pr(r + i, 0) : i; else if (i) {
var o = Gt(e, t);
return o < r && (t === t ? t === e[o] : e[o] !== e[o]) ? o : -1;
}
return n(e, t, i || 0);
}
function si(e) {
var t = e ? e.length : 0;
return t ? e[t - 1] : C;
}
function li(e) {
return ii(e, 1);
}
function ci(e, t, i, r) {
if (!(e ? e.length : 0)) return [];
null != t && "boolean" != typeof t && (i = Vn(e, t, r = i) ? C : t, t = !1);
var o = Dn();
return null == i && o === ct || (i = o(i, r, 3)), t && Mn() === n ? v(e, i) : Vt(e, i);
}
function ui(e) {
if (!e || !e.length) return [];
var t = -1, n = 0;
e = Je(e, function(e) {
if (jn(e)) return n = Pr(e.length, n), !0;
});
for (var i = er(n); ++t < n; ) i[t] = Ze(e, Mt(t));
return i;
}
function di(e, t, n) {
if (!(e ? e.length : 0)) return [];
var i = ui(e);
return null == t ? i : (t = Yt(t, n, 4), Ze(i, function(e) {
return tt(e, t, C, !0);
}));
}
function hi(e, t) {
var n = -1, i = e ? e.length : 0, r = {};
for (!i || t || Ho(e[0]) || (t = []); ++n < i; ) {
var o = e[n];
t ? r[o] = t[n] : o && (r[o[0]] = o[1]);
}
return r;
}
function pi(e) {
var t = Be(e);
return t.__chain__ = !0, t;
}
function fi(e, t, n) {
return t.call(n, e);
}
function gi(e, t, n) {
var i = Ho(e) ? Ye : pt;
return n && Vn(e, t, n) && (t = C), "function" == typeof t && n === C || (t = Dn(t, n, 3)), i(e, t);
}
function mi(e, t, n) {
var i = Ho(e) ? Je : mt;
return t = Dn(t, n, 3), i(e, t);
}
function vi(e, t, n, i) {
var r = e ? to(e) : 0;
return Wn(r) || (r = (e = Hi(e)).length), n = "number" != typeof n || i && Vn(t, n, i) ? 0 : n < 0 ? Pr(r + n, 0) : n || 0, "string" == typeof e || !Ho(e) && Pi(e) ? n <= r && e.indexOf(t, n) > -1 : !!r && Mn(e, t, n) > -1;
}
function yi(e, t, n) {
var i = Ho(e) ? Ze : kt;
return t = Dn(t, n, 3), i(e, t);
}
function bi(e, t, n) {
if (n ? Vn(e, t, n) : null == t) return (o = (e = Zn(e)).length) > 0 ? e[Pt(0, o - 1)] : C;
var i = -1, r = Bi(e), o = r.length, a = o - 1;
for (t = Or(t < 0 ? 0 : +t || 0, o); ++i < t; ) {
var s = Pt(i, a), l = r[s];
r[s] = r[i], r[i] = l;
}
return r.length = t, r;
}
function wi(e, t, n) {
var i = Ho(e) ? nt : Bt;
return n && Vn(e, t, n) && (t = C), "function" == typeof t && n === C || (t = Dn(t, n, 3)), i(e, t);
}
function xi(e, t) {
var n;
if ("function" != typeof t) {
if ("function" != typeof e) throw new cr(j);
var i = e;
e = t, t = i;
}
return function() {
return --e > 0 && (n = t.apply(this, arguments)), e <= 1 && (t = C), n;
};
}
function Ci(e, t, n) {
function i(t, n) {
n && wr(n), l = h = p = C, t && (f = To(), c = e.apply(d, s), h || l || (s = d = C));
}
function r() {
var e = t - (To() - u);
e <= 0 || e > t ? i(p, l) : h = $r(r, e);
}
function o() {
i(m, h);
}
function a() {
if (s = arguments, u = To(), d = this, p = m && (h || !v), !1 === g) var n = v && !h; else {
l || v || (f = u);
var i = g - (u - f), a = i <= 0 || i > g;
a ? (l && (l = wr(l)), f = u, c = e.apply(d, s)) : l || (l = $r(o, i));
}
return a && h ? h = wr(h) : h || t === g || (h = $r(r, t)), n && (a = !0, c = e.apply(d, s)), !a || h || l || (s = d = C), c;
}
var s, l, c, u, d, h, p, f = 0, g = !1, m = !0;
if ("function" != typeof e) throw new cr(j);
if (t = t < 0 ? 0 : +t || 0, !0 === n) {
var v = !0;
m = !1;
} else Di(n) && (v = !!n.leading, g = "maxWait" in n && Pr(+n.maxWait || 0, t), m = "trailing" in n ? !!n.trailing : m);
return a.cancel = function() {
h && wr(h), l && wr(l), f = 0, l = h = p = C;
}, a;
}
function _i(e, t) {
if ("function" != typeof e || t && "function" != typeof t) throw new cr(j);
var n = function() {
var i = arguments, r = t ? t.apply(this, i) : i[0], o = n.cache;
if (o.has(r)) return o.get(r);
var a = e.apply(this, i);
return n.cache = o.set(r, a), a;
};
return n.cache = new _i.Cache(), n;
}
function Si(e, t) {
if ("function" != typeof e) throw new cr(j);
return t = Pr(t === C ? e.length - 1 : +t || 0, 0), function() {
for (var n = arguments, i = -1, r = Pr(n.length - t, 0), o = er(r); ++i < r; ) o[i] = n[t + i];
switch (t) {
case 0:
return e.call(this, o);

case 1:
return e.call(this, n[0], o);

case 2:
return e.call(this, n[0], n[1], o);
}
var a = er(t + 1);
for (i = -1; ++i < t; ) a[i] = n[i];
return a[t] = o, e.apply(this, a);
};
}
function $i(e, t) {
return e > t;
}
function Ai(e) {
return f(e) && jn(e) && fr.call(e, "callee") && !_r.call(e, "callee");
}
function ki(e, t, n, i) {
var r = (n = "function" == typeof n ? Yt(n, i, 3) : C) ? n(e, t) : C;
return r === C ? St(e, t, n) : !!r;
}
function Ei(e) {
return f(e) && "string" == typeof e.message && mr.call(e) == G;
}
function Ti(e) {
return Di(e) && mr.call(e) == q;
}
function Di(e) {
var t = typeof e;
return !!e && ("object" == t || "function" == t);
}
function Fi(e) {
return null != e && (Ti(e) ? yr.test(pr.call(e)) : f(e) && Ee.test(e));
}
function Mi(e) {
return "number" == typeof e || f(e) && mr.call(e) == Y;
}
function Ii(e) {
var t;
if (!f(e) || mr.call(e) != K || Ai(e) || !fr.call(e, "constructor") && "function" == typeof (t = e.constructor) && !(t instanceof t)) return !1;
var n;
return bt(e, function(e, t) {
n = t;
}), n === C || fr.call(e, n);
}
function Li(e) {
return Di(e) && mr.call(e) == X;
}
function Pi(e) {
return "string" == typeof e || f(e) && mr.call(e) == Q;
}
function Oi(e) {
return f(e) && Wn(e.length) && !!Oe[mr.call(e)];
}
function Ri(e, t) {
return e < t;
}
function Bi(e) {
var t = e ? to(e) : 0;
return Wn(t) ? t ? Ge(e) : [] : Hi(e);
}
function Ni(e) {
return lt(e, Ui(e));
}
function ji(e) {
return Ct(e, Ui(e));
}
function Ui(e) {
if (null == e) return [];
Di(e) || (e = ar(e));
var t = e.length;
t = t && Wn(t) && (Ho(e) || Ai(e)) && t || 0;
for (var n = e.constructor, i = -1, r = "function" == typeof n && n.prototype === e, o = er(t), a = t > 0; ++i < t; ) o[i] = i + "";
for (var s in e) a && Un(s, t) || "constructor" == s && (r || !fr.call(e, s)) || o.push(s);
return o;
}
function Vi(e) {
e = ei(e);
for (var t = -1, n = ea(e), i = n.length, r = er(i); ++t < i; ) {
var o = n[t];
r[t] = [ o, e[o] ];
}
return r;
}
function Hi(e) {
return Ht(e, ea(e));
}
function zi(e) {
return (e = r(e)) && e.replace(De, c).replace(_e, "");
}
function Wi(e, t) {
var n = "";
if (e = r(e), (t = +t) < 1 || !e || !Ir(t)) return n;
do {
t % 2 && (n += e), t = Fr(t / 2), e += e;
} while (t);
return n;
}
function Gi(e, t, n) {
var i = e;
return (e = r(e)) ? (n ? Vn(i, t, n) : null == t) ? e.slice(y(e), b(e) + 1) : (t += "", e.slice(o(e, t), a(e, t) + 1)) : e;
}
function qi(e, t, n) {
return n && Vn(e, t, n) && (t = C), (e = r(e)).match(t || Ie) || [];
}
function Yi(e, t, n) {
return n && Vn(e, t, n) && (t = C), f(e) ? Xi(e) : ct(e, t);
}
function Ki(e) {
return e;
}
function Xi(e) {
return Et(ut(e, !0));
}
function Qi(e, t, n) {
if (null == n) {
var i = Di(t), r = i ? ea(t) : C, o = r && r.length ? Ct(t, r) : C;
(o ? o.length : i) || (o = !1, n = t, t = e, e = this);
}
o || (o = Ct(t, ea(t)));
var a = !0, s = -1, l = Ti(e), c = o.length;
!1 === n ? a = !1 : Di(n) && "chain" in n && (a = n.chain);
for (;++s < c; ) {
var u = o[s], d = t[u];
e[u] = d, l && (e.prototype[u] = function(t) {
return function() {
var n = this.__chain__;
if (a || n) {
var i = e(this.__wrapped__);
return (i.__actions__ = Ge(this.__actions__)).push({
func: t,
args: arguments,
thisArg: e
}), i.__chain__ = n, i;
}
return t.apply(e, et([ this.value() ], arguments));
};
}(d));
}
return e;
}
function Ji() {}
function Zi(e) {
return Hn(e) ? Mt(e) : It(e);
}
var er = (g = g ? Qe.defaults(Xe.Object(), g, Qe.pick(Xe, Le)) : Xe).Array, tr = g.Date, nr = g.Error, ir = g.Function, rr = g.Math, or = g.Number, ar = g.Object, sr = g.RegExp, lr = g.String, cr = g.TypeError, ur = er.prototype, dr = ar.prototype, hr = lr.prototype, pr = ir.prototype.toString, fr = dr.hasOwnProperty, gr = 0, mr = dr.toString, vr = Xe._, yr = sr("^" + pr.call(fr).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), br = g.ArrayBuffer, wr = g.clearTimeout, xr = g.parseFloat, Cr = rr.pow, _r = dr.propertyIsEnumerable, Sr = Ln(g, "Set"), $r = g.setTimeout, Ar = ur.splice, kr = g.Uint8Array, Er = Ln(g, "WeakMap"), Tr = rr.ceil, Dr = Ln(ar, "create"), Fr = rr.floor, Mr = Ln(er, "isArray"), Ir = g.isFinite, Lr = Ln(ar, "keys"), Pr = rr.max, Or = rr.min, Rr = Ln(tr, "now"), Br = g.parseInt, Nr = rr.random, jr = or.NEGATIVE_INFINITY, Ur = or.POSITIVE_INFINITY, Vr = 4294967295, Hr = Vr - 1, zr = Vr >>> 1, Wr = 9007199254740991, Gr = Er && new Er(), qr = {};
Be.support = {};
Be.templateSettings = {
escape: ge,
evaluate: me,
interpolate: ve,
variable: "",
imports: {
_: Be
}
};
var Yr = function() {
function e() {}
return function(t) {
if (Di(t)) {
e.prototype = t;
var n = new e();
e.prototype = C;
}
return n || {};
};
}(), Kr = en(wt), Xr = en(xt, !0), Qr = tn(), Jr = tn(!0), Zr = Gr ? function(e, t) {
return Gr.set(e, t), e;
} : Ki, eo = Gr ? function(e) {
return Gr.get(e);
} : Ji, to = Mt("length"), no = function() {
var e = 0, t = 0;
return function(n, i) {
var r = To(), o = O - (r - t);
if (t = r, o > 0) {
if (++e >= P) return n;
} else e = 0;
return Zr(n, i);
};
}(), io = Si(function(e, t) {
return f(e) && jn(e) ? ht(e, yt(t, !1, !0)) : [];
}), ro = dn(), oo = dn(!0), ao = Si(function(e) {
for (var t = e.length, i = t, r = er(d), o = Mn(), a = o === n, s = []; i--; ) {
var l = e[i] = jn(l = e[i]) ? l : [];
r[i] = a && l.length >= 120 ? rn(i && l) : null;
}
var c = e[0], u = -1, d = c ? c.length : 0, h = r[0];
e: for (;++u < d; ) if (l = c[u], (h ? ze(h, l) : o(s, l, 0)) < 0) {
for (i = t; --i; ) {
var p = r[i];
if ((p ? ze(p, l) : o(e[i], l, 0)) < 0) continue e;
}
h && h.push(l), s.push(l);
}
return s;
}), so = Si(function(t, n) {
var i = st(t, n = yt(n));
return Lt(t, n.sort(e)), i;
}), lo = $n(), co = $n(!0), uo = Si(function(e) {
return Vt(yt(e, !1, !0));
}), ho = Si(function(e, t) {
return jn(e) ? ht(e, t) : [];
}), po = Si(ui), fo = Si(function(e) {
var t = e.length, n = t > 2 ? e[t - 2] : C, i = t > 1 ? e[t - 1] : C;
return t > 2 && "function" == typeof n ? t -= 2 : (n = t > 1 && "function" == typeof i ? (--t, i) : C, i = C), e.length = t, di(e, n, i);
}), go = Si(function(e) {
return e = yt(e), this.thru(function(t) {
return We(Ho(t) ? t : [ ei(t) ], e);
});
}), mo = Si(function(e, t) {
return st(e, yt(t));
}), vo = Jt(function(e, t, n) {
fr.call(e, n) ? ++e[n] : e[n] = 1;
}), yo = un(Kr), bo = un(Xr, !0), wo = fn(qe, Kr), xo = fn(function(e, t) {
for (var n = e.length; n-- && !1 !== t(e[n], n, e); ) ;
return e;
}, Xr), Co = Jt(function(e, t, n) {
fr.call(e, n) ? e[n].push(t) : e[n] = [ t ];
}), _o = Jt(function(e, t, n) {
e[n] = t;
}), So = Si(function(e, t, n) {
var i = -1, r = "function" == typeof t, o = Hn(t), a = jn(e) ? er(e.length) : [];
return Kr(e, function(e) {
var s = r ? t : o && null != e ? e[t] : C;
a[++i] = s ? s.apply(e, n) : Nn(e, t, n);
}), a;
}), $o = Jt(function(e, t, n) {
e[n ? 0 : 1].push(t);
}, function() {
return [ [], [] ];
}), Ao = wn(tt, Kr), ko = wn(function(e, t, n, i) {
var r = e.length;
for (i && r && (n = e[--r]); r--; ) n = t(n, e[r], r, e);
return n;
}, Xr), Eo = Si(function(e, t) {
if (null == e) return [];
var n = t[2];
return n && Vn(t[0], t[1], n) && (t.length = 1), jt(e, yt(t), []);
}), To = Rr || function() {
return new tr().getTime();
}, Do = Si(function(e, t, n) {
var i = S;
if (n.length) {
var r = m(n, Do.placeholder);
i |= T;
}
return An(e, i, t, n, r);
}), Fo = Si(function(e, t) {
for (var n = -1, i = (t = t.length ? yt(t) : ji(e)).length; ++n < i; ) {
var r = t[n];
e[r] = An(e[r], S, e);
}
return e;
}), Mo = Si(function(e, t, n) {
var i = S | $;
if (n.length) {
var r = m(n, Mo.placeholder);
i |= T;
}
return An(t, i, e, n, r);
}), Io = sn(k), Lo = sn(E), Po = Si(function(e, t) {
return dt(e, 1, t);
}), Oo = Si(function(e, t, n) {
return dt(e, t, n);
}), Ro = pn(), Bo = pn(!0), No = Si(function(e, t) {
if (t = yt(t), "function" != typeof e || !Ye(t, i)) throw new cr(j);
var n = t.length;
return Si(function(i) {
for (var r = Or(i.length, n); r--; ) i[r] = t[r](i[r]);
return e.apply(this, i);
});
}), jo = bn(T), Uo = bn(D), Vo = Si(function(e, t) {
return An(e, M, C, C, C, yt(t));
}), Ho = Mr || function(e) {
return f(e) && Wn(e.length) && mr.call(e) == H;
}, zo = Zt(Dt), Wo = Zt(function(e, t, n) {
return n ? ot(e, t, n) : at(e, t);
}), Go = ln(Wo, function(e, t) {
return e === C ? t : e;
}), qo = ln(zo, Yn), Yo = hn(wt), Ko = hn(xt), Xo = gn(Qr), Qo = gn(Jr), Jo = mn(wt), Zo = mn(xt), ea = Lr ? function(e) {
var t = null == e ? C : e.constructor;
return "function" == typeof t && t.prototype === e || "function" != typeof e && jn(e) ? Jn(e) : Di(e) ? Lr(e) : [];
} : Jn, ta = vn(!0), na = vn(), ia = Si(function(e, t) {
if (null == e) return {};
if ("function" != typeof t[0]) {
var t = Ze(yt(t), lr);
return Kn(e, ht(Ui(e), t));
}
var n = Yt(t[0], t[1], 3);
return Xn(e, function(e, t, i) {
return !n(e, t, i);
});
}), ra = Si(function(e, t) {
return null == e ? {} : "function" == typeof t[0] ? Xn(e, Yt(t[0], t[1], 3)) : Kn(e, yt(t));
}), oa = on(function(e, t, n) {
return t = t.toLowerCase(), e + (n ? t.charAt(0).toUpperCase() + t.slice(1) : t);
}), aa = on(function(e, t, n) {
return e + (n ? "-" : "") + t.toLowerCase();
}), sa = yn(), la = yn(!0), ca = on(function(e, t, n) {
return e + (n ? "_" : "") + t.toLowerCase();
}), ua = on(function(e, t, n) {
return e + (n ? " " : "") + (t.charAt(0).toUpperCase() + t.slice(1));
}), da = Si(function(e, t) {
try {
return e.apply(C, t);
} catch (e) {
return Ei(e) ? e : new nr(e);
}
}), ha = Si(function(e, t) {
return function(n) {
return Nn(n, e, t);
};
}), pa = Si(function(e, t) {
return function(n) {
return Nn(e, n, t);
};
}), fa = Sn("ceil"), ga = Sn("floor"), ma = cn($i, jr), va = cn(Ri, Ur), ya = Sn("round");
return Be.prototype = Ne.prototype, je.prototype = Yr(Ne.prototype), je.prototype.constructor = je, Ue.prototype = Yr(Ne.prototype), Ue.prototype.constructor = Ue, Ve.prototype.delete = function(e) {
return this.has(e) && delete this.__data__[e];
}, Ve.prototype.get = function(e) {
return "__proto__" == e ? C : this.__data__[e];
}, Ve.prototype.has = function(e) {
return "__proto__" != e && fr.call(this.__data__, e);
}, Ve.prototype.set = function(e, t) {
return "__proto__" != e && (this.__data__[e] = t), this;
}, He.prototype.push = function(e) {
var t = this.data;
"string" == typeof e || Di(e) ? t.set.add(e) : t.hash[e] = !0;
}, _i.Cache = Ve, Be.after = function(e, t) {
if ("function" != typeof t) {
if ("function" != typeof e) throw new cr(j);
var n = e;
e = t, t = n;
}
return e = Ir(e = +e) ? e : 0, function() {
if (--e < 1) return t.apply(this, arguments);
};
}, Be.ary = function(e, t, n) {
return n && Vn(e, t, n) && (t = C), t = e && null == t ? e.length : Pr(+t || 0, 0), An(e, F, C, C, C, C, t);
}, Be.assign = Wo, Be.at = mo, Be.before = xi, Be.bind = Do, Be.bindAll = Fo, Be.bindKey = Mo, Be.callback = Yi, Be.chain = pi, Be.chunk = function(e, t, n) {
t = (n ? Vn(e, t, n) : null == t) ? 1 : Pr(Fr(t) || 1, 1);
for (var i = 0, r = e ? e.length : 0, o = -1, a = er(Tr(r / t)); i < r; ) a[++o] = Rt(e, i, i += t);
return a;
}, Be.compact = function(e) {
for (var t = -1, n = e ? e.length : 0, i = -1, r = []; ++t < n; ) {
var o = e[t];
o && (r[++i] = o);
}
return r;
}, Be.constant = function(e) {
return function() {
return e;
};
}, Be.countBy = vo, Be.create = function(e, t, n) {
var i = Yr(e);
return n && Vn(e, t, n) && (t = C), t ? at(i, t) : i;
}, Be.curry = Io, Be.curryRight = Lo, Be.debounce = Ci, Be.defaults = Go, Be.defaultsDeep = qo, Be.defer = Po, Be.delay = Oo, Be.difference = io, Be.drop = ii, Be.dropRight = ri, Be.dropRightWhile = function(e, t, n) {
return e && e.length ? zt(e, Dn(t, n, 3), !0, !0) : [];
}, Be.dropWhile = function(e, t, n) {
return e && e.length ? zt(e, Dn(t, n, 3), !0) : [];
}, Be.fill = function(e, t, n, i) {
var r = e ? e.length : 0;
return r ? (n && "number" != typeof n && Vn(e, t, n) && (n = 0, i = r), gt(e, t, n, i)) : [];
}, Be.filter = mi, Be.flatten = function(e, t, n) {
var i = e ? e.length : 0;
return n && Vn(e, t, n) && (t = !1), i ? yt(e, t) : [];
}, Be.flattenDeep = function(e) {
return (e ? e.length : 0) ? yt(e, !0) : [];
}, Be.flow = Ro, Be.flowRight = Bo, Be.forEach = wo, Be.forEachRight = xo, Be.forIn = Xo, Be.forInRight = Qo, Be.forOwn = Jo, Be.forOwnRight = Zo, Be.functions = ji, Be.groupBy = Co, Be.indexBy = _o, Be.initial = function(e) {
return ri(e, 1);
}, Be.intersection = ao, Be.invert = function(e, t, n) {
n && Vn(e, t, n) && (t = C);
for (var i = -1, r = ea(e), o = r.length, a = {}; ++i < o; ) {
var s = r[i], l = e[s];
t ? fr.call(a, l) ? a[l].push(s) : a[l] = [ s ] : a[l] = s;
}
return a;
}, Be.invoke = So, Be.keys = ea, Be.keysIn = Ui, Be.map = yi, Be.mapKeys = ta, Be.mapValues = na, Be.matches = Xi, Be.matchesProperty = function(e, t) {
return Tt(e, ut(t, !0));
}, Be.memoize = _i, Be.merge = zo, Be.method = ha, Be.methodOf = pa, Be.mixin = Qi, Be.modArgs = No, Be.negate = function(e) {
if ("function" != typeof e) throw new cr(j);
return function() {
return !e.apply(this, arguments);
};
}, Be.omit = ia, Be.once = function(e) {
return xi(2, e);
}, Be.pairs = Vi, Be.partial = jo, Be.partialRight = Uo, Be.partition = $o, Be.pick = ra, Be.pluck = function(e, t) {
return yi(e, Zi(t));
}, Be.property = Zi, Be.propertyOf = function(e) {
return function(t) {
return _t(e, ti(t), t + "");
};
}, Be.pull = function() {
var e = arguments, t = e[0];
if (!t || !t.length) return t;
for (var n = 0, i = Mn(), r = e.length; ++n < r; ) for (var o = 0, a = e[n]; (o = i(t, a, o)) > -1; ) Ar.call(t, o, 1);
return t;
}, Be.pullAt = so, Be.range = function(e, t, n) {
n && Vn(e, t, n) && (t = n = C), e = +e || 0, n = null == n ? 1 : +n || 0, null == t ? (t = e, e = 0) : t = +t || 0;
for (var i = -1, r = Pr(Tr((t - e) / (n || 1)), 0), o = er(r); ++i < r; ) o[i] = e, e += n;
return o;
}, Be.rearg = Vo, Be.reject = function(e, t, n) {
var i = Ho(e) ? Je : mt;
return t = Dn(t, n, 3), i(e, function(e, n, i) {
return !t(e, n, i);
});
}, Be.remove = function(e, t, n) {
var i = [];
if (!e || !e.length) return i;
var r = -1, o = [], a = e.length;
for (t = Dn(t, n, 3); ++r < a; ) {
var s = e[r];
t(s, r, e) && (i.push(s), o.push(r));
}
return Lt(e, o), i;
}, Be.rest = li, Be.restParam = Si, Be.set = function(e, t, n) {
if (null == e) return e;
for (var i = t + "", r = -1, o = (t = null != e[i] || Hn(t, e) ? [ i ] : ti(t)).length, a = o - 1, s = e; null != s && ++r < o; ) {
var l = t[r];
Di(s) && (r == a ? s[l] = n : null == s[l] && (s[l] = Un(t[r + 1]) ? [] : {})), s = s[l];
}
return e;
}, Be.shuffle = function(e) {
return bi(e, Ur);
}, Be.slice = function(e, t, n) {
var i = e ? e.length : 0;
return i ? (n && "number" != typeof n && Vn(e, t, n) && (t = 0, n = i), Rt(e, t, n)) : [];
}, Be.sortBy = function(e, t, n) {
if (null == e) return [];
n && Vn(e, t, n) && (t = C);
var i = -1;
return t = Dn(t, n, 3), Nt(kt(e, function(e, n, r) {
return {
criteria: t(e, n, r),
index: ++i,
value: e
};
}), s);
}, Be.sortByAll = Eo, Be.sortByOrder = function(e, t, n, i) {
return null == e ? [] : (i && Vn(t, n, i) && (n = C), Ho(t) || (t = null == t ? [] : [ t ]), Ho(n) || (n = null == n ? [] : [ n ]), jt(e, t, n));
}, Be.spread = function(e) {
if ("function" != typeof e) throw new cr(j);
return function(t) {
return e.apply(this, t);
};
}, Be.take = function(e, t, n) {
return (e ? e.length : 0) ? ((n ? Vn(e, t, n) : null == t) && (t = 1), Rt(e, 0, t < 0 ? 0 : t)) : [];
}, Be.takeRight = function(e, t, n) {
var i = e ? e.length : 0;
return i ? ((n ? Vn(e, t, n) : null == t) && (t = 1), t = i - (+t || 0), Rt(e, t < 0 ? 0 : t)) : [];
}, Be.takeRightWhile = function(e, t, n) {
return e && e.length ? zt(e, Dn(t, n, 3), !1, !0) : [];
}, Be.takeWhile = function(e, t, n) {
return e && e.length ? zt(e, Dn(t, n, 3)) : [];
}, Be.tap = function(e, t, n) {
return t.call(n, e), e;
}, Be.throttle = function(e, t, n) {
var i = !0, r = !0;
if ("function" != typeof e) throw new cr(j);
return !1 === n ? i = !1 : Di(n) && (i = "leading" in n ? !!n.leading : i, r = "trailing" in n ? !!n.trailing : r), Ci(e, t, {
leading: i,
maxWait: +t,
trailing: r
});
}, Be.thru = fi, Be.times = function(e, t, n) {
if ((e = Fr(e)) < 1 || !Ir(e)) return [];
var i = -1, r = er(Or(e, Vr));
for (t = Yt(t, n, 1); ++i < e; ) i < Vr ? r[i] = t(i) : t(i);
return r;
}, Be.toArray = Bi, Be.toPlainObject = Ni, Be.transform = function(e, t, n, i) {
var r = Ho(e) || Oi(e);
if (t = Dn(t, i, 4), null == n) if (r || Di(e)) {
var o = e.constructor;
n = r ? Ho(e) ? new o() : [] : Yr(Ti(o) ? o.prototype : C);
} else n = {};
return (r ? qe : wt)(e, function(e, i, r) {
return t(n, e, i, r);
}), n;
}, Be.union = uo, Be.uniq = ci, Be.unzip = ui, Be.unzipWith = di, Be.values = Hi, Be.valuesIn = function(e) {
return Ht(e, Ui(e));
}, Be.where = function(e, t) {
return mi(e, Et(t));
}, Be.without = ho, Be.wrap = function(e, t) {
return t = null == t ? Ki : t, An(t, T, C, [ e ], []);
}, Be.xor = function() {
for (var e = -1, t = arguments.length; ++e < t; ) {
var n = arguments[e];
if (jn(n)) var i = i ? et(ht(i, n), ht(n, i)) : n;
}
return i ? Vt(i) : [];
}, Be.zip = po, Be.zipObject = hi, Be.zipWith = fo, Be.backflow = Bo, Be.collect = yi, Be.compose = Bo, Be.each = wo, Be.eachRight = xo, Be.extend = Wo, Be.iteratee = Yi, Be.methods = ji, Be.object = hi, Be.select = mi, Be.tail = li, Be.unique = ci, Qi(Be, Be), Be.add = function(e, t) {
return (+e || 0) + (+t || 0);
}, Be.attempt = da, Be.camelCase = oa, Be.capitalize = function(e) {
return (e = r(e)) && e.charAt(0).toUpperCase() + e.slice(1);
}, Be.ceil = fa, Be.clone = function(e, t, n, i) {
return t && "boolean" != typeof t && Vn(e, t, n) ? t = !1 : "function" == typeof t && (i = n, n = t, t = !1), "function" == typeof n ? ut(e, t, Yt(n, i, 3)) : ut(e, t);
}, Be.cloneDeep = function(e, t, n) {
return "function" == typeof t ? ut(e, !0, Yt(t, n, 3)) : ut(e, !0);
}, Be.deburr = zi, Be.endsWith = function(e, t, n) {
t += "";
var i = (e = r(e)).length;
return n = n === C ? i : Or(n < 0 ? 0 : +n || 0, i), (n -= t.length) >= 0 && e.indexOf(t, n) == n;
}, Be.escape = function(e) {
return (e = r(e)) && fe.test(e) ? e.replace(he, u) : e;
}, Be.escapeRegExp = function(e) {
return (e = r(e)) && Ce.test(e) ? e.replace(xe, d) : e || "(?:)";
}, Be.every = gi, Be.find = yo, Be.findIndex = ro, Be.findKey = Yo, Be.findLast = bo, Be.findLastIndex = oo, Be.findLastKey = Ko, Be.findWhere = function(e, t) {
return yo(e, Et(t));
}, Be.first = oi, Be.floor = ga, Be.get = function(e, t, n) {
var i = null == e ? C : _t(e, ti(t), t + "");
return i === C ? n : i;
}, Be.gt = $i, Be.gte = function(e, t) {
return e >= t;
}, Be.has = function(e, t) {
if (null == e) return !1;
var n = fr.call(e, t);
if (!n && !Hn(t)) {
if (t = ti(t), null == (e = 1 == t.length ? e : _t(e, Rt(t, 0, -1)))) return !1;
t = si(t), n = fr.call(e, t);
}
return n || Wn(e.length) && Un(t, e.length) && (Ho(e) || Ai(e));
}, Be.identity = Ki, Be.includes = vi, Be.indexOf = ai, Be.inRange = function(e, t, n) {
return t = +t || 0, n === C ? (n = t, t = 0) : n = +n || 0, e >= Or(t, n) && e < Pr(t, n);
}, Be.isArguments = Ai, Be.isArray = Ho, Be.isBoolean = function(e) {
return !0 === e || !1 === e || f(e) && mr.call(e) == z;
}, Be.isDate = function(e) {
return f(e) && mr.call(e) == W;
}, Be.isElement = function(e) {
return !!e && 1 === e.nodeType && f(e) && !Ii(e);
}, Be.isEmpty = function(e) {
return null == e || (jn(e) && (Ho(e) || Pi(e) || Ai(e) || f(e) && Ti(e.splice)) ? !e.length : !ea(e).length);
}, Be.isEqual = ki, Be.isError = Ei, Be.isFinite = function(e) {
return "number" == typeof e && Ir(e);
}, Be.isFunction = Ti, Be.isMatch = function(e, t, n, i) {
return n = "function" == typeof n ? Yt(n, i, 3) : C, At(e, In(t), n);
}, Be.isNaN = function(e) {
return Mi(e) && e != +e;
}, Be.isNative = Fi, Be.isNull = function(e) {
return null === e;
}, Be.isNumber = Mi, Be.isObject = Di, Be.isPlainObject = Ii, Be.isRegExp = Li, Be.isString = Pi, Be.isTypedArray = Oi, Be.isUndefined = function(e) {
return e === C;
}, Be.kebabCase = aa, Be.last = si, Be.lastIndexOf = function(e, t, n) {
var i = e ? e.length : 0;
if (!i) return -1;
var r = i;
if ("number" == typeof n) r = (n < 0 ? Pr(i + n, 0) : Or(n || 0, i - 1)) + 1; else if (n) {
var o = e[r = Gt(e, t, !0) - 1];
return (t === t ? t === o : o !== o) ? r : -1;
}
if (t !== t) return p(e, r, !0);
for (;r--; ) if (e[r] === t) return r;
return -1;
}, Be.lt = Ri, Be.lte = function(e, t) {
return e <= t;
}, Be.max = ma, Be.min = va, Be.noConflict = function() {
return Xe._ = vr, this;
}, Be.noop = Ji, Be.now = To, Be.pad = function(e, t, n) {
t = +t;
var i = (e = r(e)).length;
if (i >= t || !Ir(t)) return e;
var o = (t - i) / 2, a = Fr(o);
return (n = Cn("", Tr(o), n)).slice(0, a) + e + n;
}, Be.padLeft = sa, Be.padRight = la, Be.parseInt = function(e, t, n) {
return (n ? Vn(e, t, n) : null == t) ? t = 0 : t && (t = +t), e = Gi(e), Br(e, t || (ke.test(e) ? 16 : 10));
}, Be.random = function(e, t, n) {
n && Vn(e, t, n) && (t = n = C);
var i = null == e, r = null == t;
if (null == n && (r && "boolean" == typeof e ? (n = e, e = 1) : "boolean" == typeof t && (n = t, r = !0)), i && r && (t = 1, r = !1), e = +e || 0, r ? (t = e, e = 0) : t = +t || 0, n || e % 1 || t % 1) {
var o = Nr();
return Or(e + o * (t - e + xr("1e-" + ((o + "").length - 1))), t);
}
return Pt(e, t);
}, Be.reduce = Ao, Be.reduceRight = ko, Be.repeat = Wi, Be.result = function(e, t, n) {
var i = null == e ? C : e[t];
return i === C && (null == e || Hn(t, e) || (i = null == (e = 1 == (t = ti(t)).length ? e : _t(e, Rt(t, 0, -1))) ? C : e[si(t)]), i = i === C ? n : i), Ti(i) ? i.call(e) : i;
}, Be.round = ya, Be.runInContext = x, Be.size = function(e) {
var t = e ? to(e) : 0;
return Wn(t) ? t : ea(e).length;
}, Be.snakeCase = ca, Be.some = wi, Be.sortedIndex = lo, Be.sortedLastIndex = co, Be.startCase = ua, Be.startsWith = function(e, t, n) {
return e = r(e), n = null == n ? 0 : Or(n < 0 ? 0 : +n || 0, e.length), e.lastIndexOf(t, n) == n;
}, Be.sum = function(e, t, n) {
return n && Vn(e, t, n) && (t = C), 1 == (t = Dn(t, n, 3)).length ? it(Ho(e) ? e : Zn(e), t) : Ut(e, t);
}, Be.template = function(e, t, n) {
var i = Be.templateSettings;
n && Vn(e, t, n) && (t = n = C), e = r(e);
var o, a, s = ot(at({}, (t = ot(at({}, n || t), i, rt)).imports), i.imports, rt), l = ea(s), c = Ht(s, l), u = 0, d = t.interpolate || Fe, p = "__p += '", f = sr((t.escape || Fe).source + "|" + d.source + "|" + (d === ve ? $e : Fe).source + "|" + (t.evaluate || Fe).source + "|$", "g"), g = "//# sourceURL=" + ("sourceURL" in t ? t.sourceURL : "lodash.templateSources[" + ++Pe + "]") + "\n";
e.replace(f, function(t, n, i, r, s, l) {
return i || (i = r), p += e.slice(u, l).replace(Me, h), n && (o = !0, p += "' +\n__e(" + n + ") +\n'"), s && (a = !0, p += "';\n" + s + ";\n__p += '"), i && (p += "' +\n((__t = (" + i + ")) == null ? '' : __t) +\n'"), u = l + t.length, t;
}), p += "';\n";
var m = t.variable;
m || (p = "with (obj) {\n" + p + "\n}\n"), p = (a ? p.replace(le, "") : p).replace(ce, "$1").replace(ue, "$1;"), p = "function(" + (m || "obj") + ") {\n" + (m ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (o ? ", __e = _.escape" : "") + (a ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + p + "return __p\n}";
var v = da(function() {
return ir(l, g + "return " + p).apply(C, c);
});
if (v.source = p, Ei(v)) throw v;
return v;
}, Be.trim = Gi, Be.trimLeft = function(e, t, n) {
var i = e;
return (e = r(e)) ? (n ? Vn(i, t, n) : null == t) ? e.slice(y(e)) : e.slice(o(e, t + "")) : e;
}, Be.trimRight = function(e, t, n) {
var i = e;
return (e = r(e)) ? (n ? Vn(i, t, n) : null == t) ? e.slice(0, b(e) + 1) : e.slice(0, a(e, t + "") + 1) : e;
}, Be.trunc = function(e, t, n) {
n && Vn(e, t, n) && (t = C);
var i = I, o = L;
if (null != t) if (Di(t)) {
var a = "separator" in t ? t.separator : a;
i = "length" in t ? +t.length || 0 : i, o = "omission" in t ? r(t.omission) : o;
} else i = +t || 0;
if (e = r(e), i >= e.length) return e;
var s = i - o.length;
if (s < 1) return o;
var l = e.slice(0, s);
if (null == a) return l + o;
if (Li(a)) {
if (e.slice(s).search(a)) {
var c, u, d = e.slice(0, s);
for (a.global || (a = sr(a.source, (Ae.exec(a) || "") + "g")), a.lastIndex = 0; c = a.exec(d); ) u = c.index;
l = l.slice(0, null == u ? s : u);
}
} else if (e.indexOf(a, s) != s) {
var h = l.lastIndexOf(a);
h > -1 && (l = l.slice(0, h));
}
return l + o;
}, Be.unescape = function(e) {
return (e = r(e)) && pe.test(e) ? e.replace(de, w) : e;
}, Be.uniqueId = function(e) {
var t = ++gr;
return r(e) + t;
}, Be.words = qi, Be.all = gi, Be.any = wi, Be.contains = vi, Be.eq = ki, Be.detect = yo, Be.foldl = Ao, Be.foldr = ko, Be.head = oi, Be.include = vi, Be.inject = Ao, Qi(Be, function() {
var e = {};
return wt(Be, function(t, n) {
Be.prototype[n] || (e[n] = t);
}), e;
}(), !1), Be.sample = bi, Be.prototype.sample = function(e) {
return this.__chain__ || null != e ? this.thru(function(t) {
return bi(t, e);
}) : bi(this.value());
}, Be.VERSION = _, qe([ "bind", "bindKey", "curry", "curryRight", "partial", "partialRight" ], function(e) {
Be[e].placeholder = Be;
}), qe([ "drop", "take" ], function(e, t) {
Ue.prototype[e] = function(n) {
var i = this.__filtered__;
if (i && !t) return new Ue(this);
n = null == n ? 1 : Pr(Fr(n) || 0, 0);
var r = this.clone();
return i ? r.__takeCount__ = Or(r.__takeCount__, n) : r.__views__.push({
size: n,
type: e + (r.__dir__ < 0 ? "Right" : "")
}), r;
}, Ue.prototype[e + "Right"] = function(t) {
return this.reverse()[e](t).reverse();
};
}), qe([ "filter", "map", "takeWhile" ], function(e, t) {
var n = t + 1, i = n != N;
Ue.prototype[e] = function(e, t) {
var r = this.clone();
return r.__iteratees__.push({
iteratee: Dn(e, t, 1),
type: n
}), r.__filtered__ = r.__filtered__ || i, r;
};
}), qe([ "first", "last" ], function(e, t) {
var n = "take" + (t ? "Right" : "");
Ue.prototype[e] = function() {
return this[n](1).value()[0];
};
}), qe([ "initial", "rest" ], function(e, t) {
var n = "drop" + (t ? "" : "Right");
Ue.prototype[e] = function() {
return this.__filtered__ ? new Ue(this) : this[n](1);
};
}), qe([ "pluck", "where" ], function(e, t) {
var n = t ? "filter" : "map", i = t ? Et : Zi;
Ue.prototype[e] = function(e) {
return this[n](i(e));
};
}), Ue.prototype.compact = function() {
return this.filter(Ki);
}, Ue.prototype.reject = function(e, t) {
return e = Dn(e, t, 1), this.filter(function(t) {
return !e(t);
});
}, Ue.prototype.slice = function(e, t) {
e = null == e ? 0 : +e || 0;
var n = this;
return n.__filtered__ && (e > 0 || t < 0) ? new Ue(n) : (e < 0 ? n = n.takeRight(-e) : e && (n = n.drop(e)), t !== C && (n = (t = +t || 0) < 0 ? n.dropRight(-t) : n.take(t - e)), n);
}, Ue.prototype.takeRightWhile = function(e, t) {
return this.reverse().takeWhile(e, t).reverse();
}, Ue.prototype.toArray = function() {
return this.take(Ur);
}, wt(Ue.prototype, function(e, t) {
var n = /^(?:filter|map|reject)|While$/.test(t), i = /^(?:first|last)$/.test(t), r = Be[i ? "take" + ("last" == t ? "Right" : "") : t];
r && (Be.prototype[t] = function() {
var t = i ? [ 1 ] : arguments, o = this.__chain__, a = this.__wrapped__, s = !!this.__actions__.length, l = a instanceof Ue, c = t[0], u = l || Ho(a);
u && n && "function" == typeof c && 1 != c.length && (l = u = !1);
var d = function(e) {
return i && o ? r(e, 1)[0] : r.apply(C, et([ e ], t));
}, h = {
func: fi,
args: [ d ],
thisArg: C
}, p = l && !s;
if (i && !o) return p ? ((a = a.clone()).__actions__.push(h), e.call(a)) : r.call(C, this.value())[0];
if (!i && u) {
a = p ? a : new Ue(this);
var f = e.apply(a, t);
return f.__actions__.push(h), new je(f, o);
}
return this.thru(d);
});
}), qe([ "join", "pop", "push", "replace", "shift", "sort", "splice", "split", "unshift" ], function(e) {
var t = (/^(?:replace|split)$/.test(e) ? hr : ur)[e], n = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru", i = /^(?:join|pop|replace|shift)$/.test(e);
Be.prototype[e] = function() {
var e = arguments;
return i && !this.__chain__ ? t.apply(this.value(), e) : this[n](function(n) {
return t.apply(n, e);
});
};
}), wt(Ue.prototype, function(e, t) {
var n = Be[t];
if (n) {
var i = n.name + "";
(qr[i] || (qr[i] = [])).push({
name: t,
func: n
});
}
}), qr[xn(C, $).name] = [ {
name: "wrapper",
func: C
} ], Ue.prototype.clone = function() {
var e = new Ue(this.__wrapped__);
return e.__actions__ = Ge(this.__actions__), e.__dir__ = this.__dir__, e.__filtered__ = this.__filtered__, e.__iteratees__ = Ge(this.__iteratees__), e.__takeCount__ = this.__takeCount__, e.__views__ = Ge(this.__views__), e;
}, Ue.prototype.reverse = function() {
if (this.__filtered__) {
var e = new Ue(this);
e.__dir__ = -1, e.__filtered__ = !0;
} else (e = this.clone()).__dir__ *= -1;
return e;
}, Ue.prototype.value = function() {
var e = this.__wrapped__.value(), t = this.__dir__, n = Ho(e), i = t < 0, r = n ? e.length : 0, o = Pn(0, r, this.__views__), a = o.start, s = o.end, l = s - a, c = i ? s : a - 1, u = this.__iteratees__, d = u.length, h = 0, p = Or(l, this.__takeCount__);
if (!n || r < R || r == l && p == l) return Wt(e, this.__actions__);
var f = [];
e: for (;l-- && h < p; ) {
for (var g = -1, m = e[c += t]; ++g < d; ) {
var v = u[g], y = v.iteratee, b = v.type, w = y(m);
if (b == N) m = w; else if (!w) {
if (b == B) continue e;
break e;
}
}
f[h++] = m;
}
return f;
}, Be.prototype.chain = function() {
return pi(this);
}, Be.prototype.commit = function() {
return new je(this.value(), this.__chain__);
}, Be.prototype.concat = go, Be.prototype.plant = function(e) {
for (var t, n = this; n instanceof Ne; ) {
var i = ni(n);
t ? r.__wrapped__ = i : t = i;
var r = i;
n = n.__wrapped__;
}
return r.__wrapped__ = e, t;
}, Be.prototype.reverse = function() {
var e = this.__wrapped__, t = function(e) {
return e.reverse();
};
if (e instanceof Ue) {
var n = e;
return this.__actions__.length && (n = new Ue(this)), (n = n.reverse()).__actions__.push({
func: fi,
args: [ t ],
thisArg: C
}), new je(n, this.__chain__);
}
return this.thru(t);
}, Be.prototype.toString = function() {
return this.value() + "";
}, Be.prototype.run = Be.prototype.toJSON = Be.prototype.valueOf = Be.prototype.value = function() {
return Wt(this.__wrapped__, this.__actions__);
}, Be.prototype.collect = Be.prototype.map, Be.prototype.head = Be.prototype.first, Be.prototype.select = Be.prototype.filter, Be.prototype.tail = Be.prototype.rest, Be;
}
var C, _ = "3.10.1", S = 1, $ = 2, A = 4, k = 8, E = 16, T = 32, D = 64, F = 128, M = 256, I = 30, L = "...", P = 150, O = 16, R = 200, B = 1, N = 2, j = "Expected a function", U = "__lodash_placeholder__", V = "[object Arguments]", H = "[object Array]", z = "[object Boolean]", W = "[object Date]", G = "[object Error]", q = "[object Function]", Y = "[object Number]", K = "[object Object]", X = "[object RegExp]", Q = "[object String]", J = "[object ArrayBuffer]", Z = "[object Float32Array]", ee = "[object Float64Array]", te = "[object Int8Array]", ne = "[object Int16Array]", ie = "[object Int32Array]", re = "[object Uint8Array]", oe = "[object Uint8ClampedArray]", ae = "[object Uint16Array]", se = "[object Uint32Array]", le = /\b__p \+= '';/g, ce = /\b(__p \+=) '' \+/g, ue = /(__e\(.*?\)|\b__t\)) \+\n'';/g, de = /&(?:amp|lt|gt|quot|#39|#96);/g, he = /[&<>"'`]/g, pe = RegExp(de.source), fe = RegExp(he.source), ge = /<%-([\s\S]+?)%>/g, me = /<%([\s\S]+?)%>/g, ve = /<%=([\s\S]+?)%>/g, ye = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/, be = /^\w*$/, we = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g, xe = /^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g, Ce = RegExp(xe.source), _e = /[\u0300-\u036f\ufe20-\ufe23]/g, Se = /\\(\\)?/g, $e = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Ae = /\w*$/, ke = /^0[xX]/, Ee = /^\[object .+?Constructor\]$/, Te = /^\d+$/, De = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g, Fe = /($^)/, Me = /['\n\r\u2028\u2029\\]/g, Ie = function() {
var e = "[A-Z\\xc0-\\xd6\\xd8-\\xde]", t = "[a-z\\xdf-\\xf6\\xf8-\\xff]+";
return RegExp(e + "+(?=" + e + t + ")|" + e + "?" + t + "|" + e + "+|[0-9]+", "g");
}(), Le = [ "Array", "ArrayBuffer", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Math", "Number", "Object", "RegExp", "Set", "String", "_", "clearTimeout", "isFinite", "parseFloat", "parseInt", "setTimeout", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap" ], Pe = -1, Oe = {};
Oe[Z] = Oe[ee] = Oe[te] = Oe[ne] = Oe[ie] = Oe[re] = Oe[oe] = Oe[ae] = Oe[se] = !0, Oe[V] = Oe[H] = Oe[J] = Oe[z] = Oe[W] = Oe[G] = Oe[q] = Oe["[object Map]"] = Oe[Y] = Oe[K] = Oe[X] = Oe["[object Set]"] = Oe[Q] = Oe["[object WeakMap]"] = !1;
var Re = {};
Re[V] = Re[H] = Re[J] = Re[z] = Re[W] = Re[Z] = Re[ee] = Re[te] = Re[ne] = Re[ie] = Re[Y] = Re[K] = Re[X] = Re[Q] = Re[re] = Re[oe] = Re[ae] = Re[se] = !0, Re[G] = Re[q] = Re["[object Map]"] = Re["[object Set]"] = Re["[object WeakMap]"] = !1;
var Be = {
"À": "A",
"Á": "A",
"Â": "A",
"Ã": "A",
"Ä": "A",
"Å": "A",
"à": "a",
"á": "a",
"â": "a",
"ã": "a",
"ä": "a",
"å": "a",
"Ç": "C",
"ç": "c",
"Ð": "D",
"ð": "d",
"È": "E",
"É": "E",
"Ê": "E",
"Ë": "E",
"è": "e",
"é": "e",
"ê": "e",
"ë": "e",
"Ì": "I",
"Í": "I",
"Î": "I",
"Ï": "I",
"ì": "i",
"í": "i",
"î": "i",
"ï": "i",
"Ñ": "N",
"ñ": "n",
"Ò": "O",
"Ó": "O",
"Ô": "O",
"Õ": "O",
"Ö": "O",
"Ø": "O",
"ò": "o",
"ó": "o",
"ô": "o",
"õ": "o",
"ö": "o",
"ø": "o",
"Ù": "U",
"Ú": "U",
"Û": "U",
"Ü": "U",
"ù": "u",
"ú": "u",
"û": "u",
"ü": "u",
"Ý": "Y",
"ý": "y",
"ÿ": "y",
"Æ": "Ae",
"æ": "ae",
"Þ": "Th",
"þ": "th",
"ß": "ss"
}, Ne = {
"&": "&amp;",
"<": "&lt;",
">": "&gt;",
'"': "&quot;",
"'": "&#39;",
"`": "&#96;"
}, je = {
"&amp;": "&",
"&lt;": "<",
"&gt;": ">",
"&quot;": '"',
"&#39;": "'",
"&#96;": "`"
}, Ue = {
function: !0,
object: !0
}, Ve = {
"0": "x30",
"1": "x31",
"2": "x32",
"3": "x33",
"4": "x34",
"5": "x35",
"6": "x36",
"7": "x37",
"8": "x38",
"9": "x39",
A: "x41",
B: "x42",
C: "x43",
D: "x44",
E: "x45",
F: "x46",
a: "x61",
b: "x62",
c: "x63",
d: "x64",
e: "x65",
f: "x66",
n: "x6e",
r: "x72",
t: "x74",
u: "x75",
v: "x76",
x: "x78"
}, He = {
"\\": "\\",
"'": "'",
"\n": "n",
"\r": "r",
"\u2028": "u2028",
"\u2029": "u2029"
}, ze = Ue[typeof exports] && exports && !exports.nodeType && exports, We = Ue[typeof module] && module && !module.nodeType && module, Ge = ze && We && "object" == typeof global && global && global.Object && global, qe = Ue[typeof self] && self && self.Object && self, Ye = Ue[typeof window] && window && window.Object && window, Ke = We && We.exports === ze && ze, Xe = Ge || Ye !== (this && this.window) && Ye || qe || this, Qe = x();
"function" == typeof define && "object" == typeof define.amd && define.amd ? (Xe._ = Qe, define(function() {
return Qe;
})) : ze && We ? Ke ? (We.exports = Qe)._ = Qe : ze._ = Qe : Xe._ = Qe;
}.call(this), "undefined" == typeof jQuery) throw new Error("Bootstrap's JavaScript requires jQuery");

+function(e) {
"use strict";
var t = jQuery.fn.jquery.split(" ")[0].split(".");
if (t[0] < 2 && t[1] < 9 || 1 == t[0] && 9 == t[1] && t[2] < 1 || t[0] > 3) throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");
}(), function(e) {
"use strict";
function t() {
var e = document.createElement("bootstrap"), t = {
WebkitTransition: "webkitTransitionEnd",
MozTransition: "transitionend",
OTransition: "oTransitionEnd otransitionend",
transition: "transitionend"
};
for (var n in t) if (void 0 !== e.style[n]) return {
end: t[n]
};
return !1;
}
e.fn.emulateTransitionEnd = function(t) {
var n = !1, i = this;
e(this).one("bsTransitionEnd", function() {
n = !0;
});
return setTimeout(function() {
n || e(i).trigger(e.support.transition.end);
}, t), this;
}, e(function() {
e.support.transition = t(), e.support.transition && (e.event.special.bsTransitionEnd = {
bindType: e.support.transition.end,
delegateType: e.support.transition.end,
handle: function(t) {
if (e(t.target).is(this)) return t.handleObj.handler.apply(this, arguments);
}
});
});
}(jQuery), function(e) {
"use strict";
var t = '[data-dismiss="alert"]', n = function(n) {
e(n).on("click", t, this.close);
};
n.VERSION = "3.3.7", n.TRANSITION_DURATION = 150, n.prototype.close = function(t) {
function i() {
a.detach().trigger("closed.bs.alert").remove();
}
var r = e(this), o = r.attr("data-target");
o || (o = (o = r.attr("href")) && o.replace(/.*(?=#[^\s]*$)/, ""));
var a = e("#" === o ? [] : o);
t && t.preventDefault(), a.length || (a = r.closest(".alert")), a.trigger(t = e.Event("close.bs.alert")), t.isDefaultPrevented() || (a.removeClass("in"), e.support.transition && a.hasClass("fade") ? a.one("bsTransitionEnd", i).emulateTransitionEnd(n.TRANSITION_DURATION) : i());
};
var i = e.fn.alert;
e.fn.alert = function(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.alert");
r || i.data("bs.alert", r = new n(this)), "string" == typeof t && r[t].call(i);
});
}, e.fn.alert.Constructor = n, e.fn.alert.noConflict = function() {
return e.fn.alert = i, this;
}, e(document).on("click.bs.alert.data-api", t, n.prototype.close);
}(jQuery), function(e) {
"use strict";
function t(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.button"), o = "object" == typeof t && t;
r || i.data("bs.button", r = new n(this, o)), "toggle" == t ? r.toggle() : t && r.setState(t);
});
}
var n = function(t, i) {
this.$element = e(t), this.options = e.extend({}, n.DEFAULTS, i), this.isLoading = !1;
};
n.VERSION = "3.3.7", n.DEFAULTS = {
loadingText: "loading..."
}, n.prototype.setState = function(t) {
var n = "disabled", i = this.$element, r = i.is("input") ? "val" : "html", o = i.data();
t += "Text", null == o.resetText && i.data("resetText", i[r]()), setTimeout(e.proxy(function() {
i[r](null == o[t] ? this.options[t] : o[t]), "loadingText" == t ? (this.isLoading = !0, i.addClass(n).attr(n, n).prop(n, !0)) : this.isLoading && (this.isLoading = !1, i.removeClass(n).removeAttr(n).prop(n, !1));
}, this), 0);
}, n.prototype.toggle = function() {
var e = !0, t = this.$element.closest('[data-toggle="buttons"]');
if (t.length) {
var n = this.$element.find("input");
"radio" == n.prop("type") ? (n.prop("checked") && (e = !1), t.find(".active").removeClass("active"), this.$element.addClass("active")) : "checkbox" == n.prop("type") && (n.prop("checked") !== this.$element.hasClass("active") && (e = !1), this.$element.toggleClass("active")), n.prop("checked", this.$element.hasClass("active")), e && n.trigger("change");
} else this.$element.attr("aria-pressed", !this.$element.hasClass("active")), this.$element.toggleClass("active");
};
var i = e.fn.button;
e.fn.button = t, e.fn.button.Constructor = n, e.fn.button.noConflict = function() {
return e.fn.button = i, this;
}, e(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function(n) {
var i = e(n.target).closest(".btn");
t.call(i, "toggle"), e(n.target).is('input[type="radio"], input[type="checkbox"]') || (n.preventDefault(), i.is("input,button") ? i.trigger("focus") : i.find("input:visible,button:visible").first().trigger("focus"));
}).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', function(t) {
e(t.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(t.type));
});
}(jQuery), function(e) {
"use strict";
function t(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.carousel"), o = e.extend({}, n.DEFAULTS, i.data(), "object" == typeof t && t), a = "string" == typeof t ? t : o.slide;
r || i.data("bs.carousel", r = new n(this, o)), "number" == typeof t ? r.to(t) : a ? r[a]() : o.interval && r.pause().cycle();
});
}
var n = function(t, n) {
this.$element = e(t), this.$indicators = this.$element.find(".carousel-indicators"), this.options = n, this.paused = null, this.sliding = null, this.interval = null, this.$active = null, this.$items = null, this.options.keyboard && this.$element.on("keydown.bs.carousel", e.proxy(this.keydown, this)), "hover" == this.options.pause && !("ontouchstart" in document.documentElement) && this.$element.on("mouseenter.bs.carousel", e.proxy(this.pause, this)).on("mouseleave.bs.carousel", e.proxy(this.cycle, this));
};
n.VERSION = "3.3.7", n.TRANSITION_DURATION = 600, n.DEFAULTS = {
interval: 5e3,
pause: "hover",
wrap: !0,
keyboard: !0
}, n.prototype.keydown = function(e) {
if (!/input|textarea/i.test(e.target.tagName)) {
switch (e.which) {
case 37:
this.prev();
break;

case 39:
this.next();
break;

default:
return;
}
e.preventDefault();
}
}, n.prototype.cycle = function(t) {
return t || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(e.proxy(this.next, this), this.options.interval)), this;
}, n.prototype.getItemIndex = function(e) {
return this.$items = e.parent().children(".item"), this.$items.index(e || this.$active);
}, n.prototype.getItemForDirection = function(e, t) {
var n = this.getItemIndex(t);
if (("prev" == e && 0 === n || "next" == e && n == this.$items.length - 1) && !this.options.wrap) return t;
var i = (n + ("prev" == e ? -1 : 1)) % this.$items.length;
return this.$items.eq(i);
}, n.prototype.to = function(e) {
var t = this, n = this.getItemIndex(this.$active = this.$element.find(".item.active"));
if (!(e > this.$items.length - 1 || e < 0)) return this.sliding ? this.$element.one("slid.bs.carousel", function() {
t.to(e);
}) : n == e ? this.pause().cycle() : this.slide(e > n ? "next" : "prev", this.$items.eq(e));
}, n.prototype.pause = function(t) {
return t || (this.paused = !0), this.$element.find(".next, .prev").length && e.support.transition && (this.$element.trigger(e.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this;
}, n.prototype.next = function() {
if (!this.sliding) return this.slide("next");
}, n.prototype.prev = function() {
if (!this.sliding) return this.slide("prev");
}, n.prototype.slide = function(t, i) {
var r = this.$element.find(".item.active"), o = i || this.getItemForDirection(t, r), a = this.interval, s = "next" == t ? "left" : "right", l = this;
if (o.hasClass("active")) return this.sliding = !1;
var c = o[0], u = e.Event("slide.bs.carousel", {
relatedTarget: c,
direction: s
});
if (this.$element.trigger(u), !u.isDefaultPrevented()) {
if (this.sliding = !0, a && this.pause(), this.$indicators.length) {
this.$indicators.find(".active").removeClass("active");
var d = e(this.$indicators.children()[this.getItemIndex(o)]);
d && d.addClass("active");
}
var h = e.Event("slid.bs.carousel", {
relatedTarget: c,
direction: s
});
return e.support.transition && this.$element.hasClass("slide") ? (o.addClass(t), o[0].offsetWidth, r.addClass(s), o.addClass(s), r.one("bsTransitionEnd", function() {
o.removeClass([ t, s ].join(" ")).addClass("active"), r.removeClass([ "active", s ].join(" ")), l.sliding = !1, setTimeout(function() {
l.$element.trigger(h);
}, 0);
}).emulateTransitionEnd(n.TRANSITION_DURATION)) : (r.removeClass("active"), o.addClass("active"), this.sliding = !1, this.$element.trigger(h)), a && this.cycle(), this;
}
};
var i = e.fn.carousel;
e.fn.carousel = t, e.fn.carousel.Constructor = n, e.fn.carousel.noConflict = function() {
return e.fn.carousel = i, this;
};
var r = function(n) {
var i, r = e(this), o = e(r.attr("data-target") || (i = r.attr("href")) && i.replace(/.*(?=#[^\s]+$)/, ""));
if (o.hasClass("carousel")) {
var a = e.extend({}, o.data(), r.data()), s = r.attr("data-slide-to");
s && (a.interval = !1), t.call(o, a), s && o.data("bs.carousel").to(s), n.preventDefault();
}
};
e(document).on("click.bs.carousel.data-api", "[data-slide]", r).on("click.bs.carousel.data-api", "[data-slide-to]", r), e(window).on("load", function() {
e('[data-ride="carousel"]').each(function() {
var n = e(this);
t.call(n, n.data());
});
});
}(jQuery), function(e) {
"use strict";
function t(t) {
var n, i = t.attr("data-target") || (n = t.attr("href")) && n.replace(/.*(?=#[^\s]+$)/, "");
return e(i);
}
function n(t) {
return this.each(function() {
var n = e(this), r = n.data("bs.collapse"), o = e.extend({}, i.DEFAULTS, n.data(), "object" == typeof t && t);
!r && o.toggle && /show|hide/.test(t) && (o.toggle = !1), r || n.data("bs.collapse", r = new i(this, o)), "string" == typeof t && r[t]();
});
}
var i = function(t, n) {
this.$element = e(t), this.options = e.extend({}, i.DEFAULTS, n), this.$trigger = e('[data-toggle="collapse"][href="#' + t.id + '"],[data-toggle="collapse"][data-target="#' + t.id + '"]'), this.transitioning = null, this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger), this.options.toggle && this.toggle();
};
i.VERSION = "3.3.7", i.TRANSITION_DURATION = 350, i.DEFAULTS = {
toggle: !0
}, i.prototype.dimension = function() {
return this.$element.hasClass("width") ? "width" : "height";
}, i.prototype.show = function() {
if (!this.transitioning && !this.$element.hasClass("in")) {
var t, r = this.$parent && this.$parent.children(".panel").children(".in, .collapsing");
if (!(r && r.length && (t = r.data("bs.collapse")) && t.transitioning)) {
var o = e.Event("show.bs.collapse");
if (this.$element.trigger(o), !o.isDefaultPrevented()) {
r && r.length && (n.call(r, "hide"), t || r.data("bs.collapse", null));
var a = this.dimension();
this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded", !0), this.$trigger.removeClass("collapsed").attr("aria-expanded", !0), this.transitioning = 1;
var s = function() {
this.$element.removeClass("collapsing").addClass("collapse in")[a](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse");
};
if (!e.support.transition) return s.call(this);
var l = e.camelCase([ "scroll", a ].join("-"));
this.$element.one("bsTransitionEnd", e.proxy(s, this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l]);
}
}
}
}, i.prototype.hide = function() {
if (!this.transitioning && this.$element.hasClass("in")) {
var t = e.Event("hide.bs.collapse");
if (this.$element.trigger(t), !t.isDefaultPrevented()) {
var n = this.dimension();
this.$element[n](this.$element[n]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1), this.$trigger.addClass("collapsed").attr("aria-expanded", !1), this.transitioning = 1;
var r = function() {
this.transitioning = 0, this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse");
};
if (!e.support.transition) return r.call(this);
this.$element[n](0).one("bsTransitionEnd", e.proxy(r, this)).emulateTransitionEnd(i.TRANSITION_DURATION);
}
}
}, i.prototype.toggle = function() {
this[this.$element.hasClass("in") ? "hide" : "show"]();
}, i.prototype.getParent = function() {
return e(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(e.proxy(function(n, i) {
var r = e(i);
this.addAriaAndCollapsedClass(t(r), r);
}, this)).end();
}, i.prototype.addAriaAndCollapsedClass = function(e, t) {
var n = e.hasClass("in");
e.attr("aria-expanded", n), t.toggleClass("collapsed", !n).attr("aria-expanded", n);
};
var r = e.fn.collapse;
e.fn.collapse = n, e.fn.collapse.Constructor = i, e.fn.collapse.noConflict = function() {
return e.fn.collapse = r, this;
}, e(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(i) {
var r = e(this);
r.attr("data-target") || i.preventDefault();
var o = t(r), a = o.data("bs.collapse") ? "toggle" : r.data();
n.call(o, a);
});
}(jQuery), function(e) {
"use strict";
function t(t) {
var n = t.attr("data-target");
n || (n = (n = t.attr("href")) && /#[A-Za-z]/.test(n) && n.replace(/.*(?=#[^\s]*$)/, ""));
var i = n && e(n);
return i && i.length ? i : t.parent();
}
function n(n) {
n && 3 === n.which || (e(i).remove(), e(r).each(function() {
var i = e(this), r = t(i), o = {
relatedTarget: this
};
r.hasClass("open") && (n && "click" == n.type && /input|textarea/i.test(n.target.tagName) && e.contains(r[0], n.target) || (r.trigger(n = e.Event("hide.bs.dropdown", o)), n.isDefaultPrevented() || (i.attr("aria-expanded", "false"), r.removeClass("open").trigger(e.Event("hidden.bs.dropdown", o)))));
}));
}
var i = ".dropdown-backdrop", r = '[data-toggle="dropdown"]', o = function(t) {
e(t).on("click.bs.dropdown", this.toggle);
};
o.VERSION = "3.3.7", o.prototype.toggle = function(i) {
var r = e(this);
if (!r.is(".disabled, :disabled")) {
var o = t(r), a = o.hasClass("open");
if (n(), !a) {
"ontouchstart" in document.documentElement && !o.closest(".navbar-nav").length && e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click", n);
var s = {
relatedTarget: this
};
if (o.trigger(i = e.Event("show.bs.dropdown", s)), i.isDefaultPrevented()) return;
r.trigger("focus").attr("aria-expanded", "true"), o.toggleClass("open").trigger(e.Event("shown.bs.dropdown", s));
}
return !1;
}
}, o.prototype.keydown = function(n) {
if (/(38|40|27|32)/.test(n.which) && !/input|textarea/i.test(n.target.tagName)) {
var i = e(this);
if (n.preventDefault(), n.stopPropagation(), !i.is(".disabled, :disabled")) {
var o = t(i), a = o.hasClass("open");
if (!a && 27 != n.which || a && 27 == n.which) return 27 == n.which && o.find(r).trigger("focus"), i.trigger("click");
var s = o.find(".dropdown-menu li:not(.disabled):visible a");
if (s.length) {
var l = s.index(n.target);
38 == n.which && l > 0 && l--, 40 == n.which && l < s.length - 1 && l++, ~l || (l = 0), s.eq(l).trigger("focus");
}
}
}
};
var a = e.fn.dropdown;
e.fn.dropdown = function(t) {
return this.each(function() {
var n = e(this), i = n.data("bs.dropdown");
i || n.data("bs.dropdown", i = new o(this)), "string" == typeof t && i[t].call(n);
});
}, e.fn.dropdown.Constructor = o, e.fn.dropdown.noConflict = function() {
return e.fn.dropdown = a, this;
}, e(document).on("click.bs.dropdown.data-api", n).on("click.bs.dropdown.data-api", ".dropdown form", function(e) {
e.stopPropagation();
}).on("click.bs.dropdown.data-api", r, o.prototype.toggle).on("keydown.bs.dropdown.data-api", r, o.prototype.keydown).on("keydown.bs.dropdown.data-api", ".dropdown-menu", o.prototype.keydown);
}(jQuery), function(e) {
"use strict";
function t(t, i) {
return this.each(function() {
var r = e(this), o = r.data("bs.modal"), a = e.extend({}, n.DEFAULTS, r.data(), "object" == typeof t && t);
o || r.data("bs.modal", o = new n(this, a)), "string" == typeof t ? o[t](i) : a.show && o.show(i);
});
}
var n = function(t, n) {
this.options = n, this.$body = e(document.body), this.$element = e(t), this.$dialog = this.$element.find(".modal-dialog"), this.$backdrop = null, this.isShown = null, this.originalBodyPad = null, this.scrollbarWidth = 0, this.ignoreBackdropClick = !1, this.options.remote && this.$element.find(".modal-content").load(this.options.remote, e.proxy(function() {
this.$element.trigger("loaded.bs.modal");
}, this));
};
n.VERSION = "3.3.7", n.TRANSITION_DURATION = 300, n.BACKDROP_TRANSITION_DURATION = 150, n.DEFAULTS = {
backdrop: !0,
keyboard: !0,
show: !0
}, n.prototype.toggle = function(e) {
return this.isShown ? this.hide() : this.show(e);
}, n.prototype.show = function(t) {
var i = this, r = e.Event("show.bs.modal", {
relatedTarget: t
});
this.$element.trigger(r), this.isShown || r.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.setScrollbar(), this.$body.addClass("modal-open"), this.escape(), this.resize(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', e.proxy(this.hide, this)), this.$dialog.on("mousedown.dismiss.bs.modal", function() {
i.$element.one("mouseup.dismiss.bs.modal", function(t) {
e(t.target).is(i.$element) && (i.ignoreBackdropClick = !0);
});
}), this.backdrop(function() {
var r = e.support.transition && i.$element.hasClass("fade");
i.$element.parent().length || i.$element.appendTo(i.$body), i.$element.show().scrollTop(0), i.adjustDialog(), r && i.$element[0].offsetWidth, i.$element.addClass("in"), i.enforceFocus();
var o = e.Event("shown.bs.modal", {
relatedTarget: t
});
r ? i.$dialog.one("bsTransitionEnd", function() {
i.$element.trigger("focus").trigger(o);
}).emulateTransitionEnd(n.TRANSITION_DURATION) : i.$element.trigger("focus").trigger(o);
}));
}, n.prototype.hide = function(t) {
t && t.preventDefault(), t = e.Event("hide.bs.modal"), this.$element.trigger(t), this.isShown && !t.isDefaultPrevented() && (this.isShown = !1, this.escape(), this.resize(), e(document).off("focusin.bs.modal"), this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"), this.$dialog.off("mousedown.dismiss.bs.modal"), e.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", e.proxy(this.hideModal, this)).emulateTransitionEnd(n.TRANSITION_DURATION) : this.hideModal());
}, n.prototype.enforceFocus = function() {
e(document).off("focusin.bs.modal").on("focusin.bs.modal", e.proxy(function(e) {
document === e.target || this.$element[0] === e.target || this.$element.has(e.target).length || this.$element.trigger("focus");
}, this));
}, n.prototype.escape = function() {
this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", e.proxy(function(e) {
27 == e.which && this.hide();
}, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal");
}, n.prototype.resize = function() {
this.isShown ? e(window).on("resize.bs.modal", e.proxy(this.handleUpdate, this)) : e(window).off("resize.bs.modal");
}, n.prototype.hideModal = function() {
var e = this;
this.$element.hide(), this.backdrop(function() {
e.$body.removeClass("modal-open"), e.resetAdjustments(), e.resetScrollbar(), e.$element.trigger("hidden.bs.modal");
});
}, n.prototype.removeBackdrop = function() {
this.$backdrop && this.$backdrop.remove(), this.$backdrop = null;
}, n.prototype.backdrop = function(t) {
var i = this, r = this.$element.hasClass("fade") ? "fade" : "";
if (this.isShown && this.options.backdrop) {
var o = e.support.transition && r;
if (this.$backdrop = e(document.createElement("div")).addClass("modal-backdrop " + r).appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", e.proxy(function(e) {
this.ignoreBackdropClick ? this.ignoreBackdropClick = !1 : e.target === e.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus() : this.hide());
}, this)), o && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !t) return;
o ? this.$backdrop.one("bsTransitionEnd", t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION) : t();
} else if (!this.isShown && this.$backdrop) {
this.$backdrop.removeClass("in");
var a = function() {
i.removeBackdrop(), t && t();
};
e.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION) : a();
} else t && t();
}, n.prototype.handleUpdate = function() {
this.adjustDialog();
}, n.prototype.adjustDialog = function() {
var e = this.$element[0].scrollHeight > document.documentElement.clientHeight;
this.$element.css({
paddingLeft: !this.bodyIsOverflowing && e ? this.scrollbarWidth : "",
paddingRight: this.bodyIsOverflowing && !e ? this.scrollbarWidth : ""
});
}, n.prototype.resetAdjustments = function() {
this.$element.css({
paddingLeft: "",
paddingRight: ""
});
}, n.prototype.checkScrollbar = function() {
var e = window.innerWidth;
if (!e) {
var t = document.documentElement.getBoundingClientRect();
e = t.right - Math.abs(t.left);
}
this.bodyIsOverflowing = document.body.clientWidth < e, this.scrollbarWidth = this.measureScrollbar();
}, n.prototype.setScrollbar = function() {
var e = parseInt(this.$body.css("padding-right") || 0, 10);
this.originalBodyPad = document.body.style.paddingRight || "", this.bodyIsOverflowing && this.$body.css("padding-right", e + this.scrollbarWidth);
}, n.prototype.resetScrollbar = function() {
this.$body.css("padding-right", this.originalBodyPad);
}, n.prototype.measureScrollbar = function() {
var e = document.createElement("div");
e.className = "modal-scrollbar-measure", this.$body.append(e);
var t = e.offsetWidth - e.clientWidth;
return this.$body[0].removeChild(e), t;
};
var i = e.fn.modal;
e.fn.modal = t, e.fn.modal.Constructor = n, e.fn.modal.noConflict = function() {
return e.fn.modal = i, this;
}, e(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(n) {
var i = e(this), r = i.attr("href"), o = e(i.attr("data-target") || r && r.replace(/.*(?=#[^\s]+$)/, "")), a = o.data("bs.modal") ? "toggle" : e.extend({
remote: !/#/.test(r) && r
}, o.data(), i.data());
i.is("a") && n.preventDefault(), o.one("show.bs.modal", function(e) {
e.isDefaultPrevented() || o.one("hidden.bs.modal", function() {
i.is(":visible") && i.trigger("focus");
});
}), t.call(o, a, this);
});
}(jQuery), function(e) {
"use strict";
var t = function(e, t) {
this.type = null, this.options = null, this.enabled = null, this.timeout = null, this.hoverState = null, this.$element = null, this.inState = null, this.init("tooltip", e, t);
};
t.VERSION = "3.3.7", t.TRANSITION_DURATION = 150, t.DEFAULTS = {
animation: !0,
placement: "top",
selector: !1,
template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
trigger: "hover focus",
title: "",
delay: 0,
html: !1,
container: !1,
viewport: {
selector: "body",
padding: 0
}
}, t.prototype.init = function(t, n, i) {
if (this.enabled = !0, this.type = t, this.$element = e(n), this.options = this.getOptions(i), this.$viewport = this.options.viewport && e(e.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport), this.inState = {
click: !1,
hover: !1,
focus: !1
}, this.$element[0] instanceof document.constructor && !this.options.selector) throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!");
for (var r = this.options.trigger.split(" "), o = r.length; o--; ) {
var a = r[o];
if ("click" == a) this.$element.on("click." + this.type, this.options.selector, e.proxy(this.toggle, this)); else if ("manual" != a) {
var s = "hover" == a ? "mouseenter" : "focusin", l = "hover" == a ? "mouseleave" : "focusout";
this.$element.on(s + "." + this.type, this.options.selector, e.proxy(this.enter, this)), this.$element.on(l + "." + this.type, this.options.selector, e.proxy(this.leave, this));
}
}
this.options.selector ? this._options = e.extend({}, this.options, {
trigger: "manual",
selector: ""
}) : this.fixTitle();
}, t.prototype.getDefaults = function() {
return t.DEFAULTS;
}, t.prototype.getOptions = function(t) {
return (t = e.extend({}, this.getDefaults(), this.$element.data(), t)).delay && "number" == typeof t.delay && (t.delay = {
show: t.delay,
hide: t.delay
}), t;
}, t.prototype.getDelegateOptions = function() {
var t = {}, n = this.getDefaults();
return this._options && e.each(this._options, function(e, i) {
n[e] != i && (t[e] = i);
}), t;
}, t.prototype.enter = function(t) {
var n = t instanceof this.constructor ? t : e(t.currentTarget).data("bs." + this.type);
if (n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n)), t instanceof e.Event && (n.inState["focusin" == t.type ? "focus" : "hover"] = !0), n.tip().hasClass("in") || "in" == n.hoverState) n.hoverState = "in"; else {
if (clearTimeout(n.timeout), n.hoverState = "in", !n.options.delay || !n.options.delay.show) return n.show();
n.timeout = setTimeout(function() {
"in" == n.hoverState && n.show();
}, n.options.delay.show);
}
}, t.prototype.isInStateTrue = function() {
for (var e in this.inState) if (this.inState[e]) return !0;
return !1;
}, t.prototype.leave = function(t) {
var n = t instanceof this.constructor ? t : e(t.currentTarget).data("bs." + this.type);
if (n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n)), t instanceof e.Event && (n.inState["focusout" == t.type ? "focus" : "hover"] = !1), !n.isInStateTrue()) {
if (clearTimeout(n.timeout), n.hoverState = "out", !n.options.delay || !n.options.delay.hide) return n.hide();
n.timeout = setTimeout(function() {
"out" == n.hoverState && n.hide();
}, n.options.delay.hide);
}
}, t.prototype.show = function() {
var n = e.Event("show.bs." + this.type);
if (this.hasContent() && this.enabled) {
this.$element.trigger(n);
var i = e.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);
if (n.isDefaultPrevented() || !i) return;
var r = this, o = this.tip(), a = this.getUID(this.type);
this.setContent(), o.attr("id", a), this.$element.attr("aria-describedby", a), this.options.animation && o.addClass("fade");
var s = "function" == typeof this.options.placement ? this.options.placement.call(this, o[0], this.$element[0]) : this.options.placement, l = /\s?auto?\s?/i, c = l.test(s);
c && (s = s.replace(l, "") || "top"), o.detach().css({
top: 0,
left: 0,
display: "block"
}).addClass(s).data("bs." + this.type, this), this.options.container ? o.appendTo(this.options.container) : o.insertAfter(this.$element), this.$element.trigger("inserted.bs." + this.type);
var u = this.getPosition(), d = o[0].offsetWidth, h = o[0].offsetHeight;
if (c) {
var p = s, f = this.getPosition(this.$viewport);
s = "bottom" == s && u.bottom + h > f.bottom ? "top" : "top" == s && u.top - h < f.top ? "bottom" : "right" == s && u.right + d > f.width ? "left" : "left" == s && u.left - d < f.left ? "right" : s, o.removeClass(p).addClass(s);
}
var g = this.getCalculatedOffset(s, u, d, h);
this.applyPlacement(g, s);
var m = function() {
var e = r.hoverState;
r.$element.trigger("shown.bs." + r.type), r.hoverState = null, "out" == e && r.leave(r);
};
e.support.transition && this.$tip.hasClass("fade") ? o.one("bsTransitionEnd", m).emulateTransitionEnd(t.TRANSITION_DURATION) : m();
}
}, t.prototype.applyPlacement = function(t, n) {
var i = this.tip(), r = i[0].offsetWidth, o = i[0].offsetHeight, a = parseInt(i.css("margin-top"), 10), s = parseInt(i.css("margin-left"), 10);
isNaN(a) && (a = 0), isNaN(s) && (s = 0), t.top += a, t.left += s, e.offset.setOffset(i[0], e.extend({
using: function(e) {
i.css({
top: Math.round(e.top),
left: Math.round(e.left)
});
}
}, t), 0), i.addClass("in");
var l = i[0].offsetWidth, c = i[0].offsetHeight;
"top" == n && c != o && (t.top = t.top + o - c);
var u = this.getViewportAdjustedDelta(n, t, l, c);
u.left ? t.left += u.left : t.top += u.top;
var d = /top|bottom/.test(n), h = d ? 2 * u.left - r + l : 2 * u.top - o + c, p = d ? "offsetWidth" : "offsetHeight";
i.offset(t), this.replaceArrow(h, i[0][p], d);
}, t.prototype.replaceArrow = function(e, t, n) {
this.arrow().css(n ? "left" : "top", 50 * (1 - e / t) + "%").css(n ? "top" : "left", "");
}, t.prototype.setContent = function() {
var e = this.tip(), t = this.getTitle();
e.find(".tooltip-inner")[this.options.html ? "html" : "text"](t), e.removeClass("fade in top bottom left right");
}, t.prototype.hide = function(n) {
function i() {
"in" != r.hoverState && o.detach(), r.$element && r.$element.removeAttr("aria-describedby").trigger("hidden.bs." + r.type), n && n();
}
var r = this, o = e(this.$tip), a = e.Event("hide.bs." + this.type);
if (this.$element.trigger(a), !a.isDefaultPrevented()) return o.removeClass("in"), e.support.transition && o.hasClass("fade") ? o.one("bsTransitionEnd", i).emulateTransitionEnd(t.TRANSITION_DURATION) : i(), this.hoverState = null, this;
}, t.prototype.fixTitle = function() {
var e = this.$element;
(e.attr("title") || "string" != typeof e.attr("data-original-title")) && e.attr("data-original-title", e.attr("title") || "").attr("title", "");
}, t.prototype.hasContent = function() {
return this.getTitle();
}, t.prototype.getPosition = function(t) {
var n = (t = t || this.$element)[0], i = "BODY" == n.tagName, r = n.getBoundingClientRect();
null == r.width && (r = e.extend({}, r, {
width: r.right - r.left,
height: r.bottom - r.top
}));
var o = window.SVGElement && n instanceof window.SVGElement, a = i ? {
top: 0,
left: 0
} : o ? null : t.offset(), s = {
scroll: i ? document.documentElement.scrollTop || document.body.scrollTop : t.scrollTop()
}, l = i ? {
width: e(window).width(),
height: e(window).height()
} : null;
return e.extend({}, r, s, l, a);
}, t.prototype.getCalculatedOffset = function(e, t, n, i) {
return "bottom" == e ? {
top: t.top + t.height,
left: t.left + t.width / 2 - n / 2
} : "top" == e ? {
top: t.top - i,
left: t.left + t.width / 2 - n / 2
} : "left" == e ? {
top: t.top + t.height / 2 - i / 2,
left: t.left - n
} : {
top: t.top + t.height / 2 - i / 2,
left: t.left + t.width
};
}, t.prototype.getViewportAdjustedDelta = function(e, t, n, i) {
var r = {
top: 0,
left: 0
};
if (!this.$viewport) return r;
var o = this.options.viewport && this.options.viewport.padding || 0, a = this.getPosition(this.$viewport);
if (/right|left/.test(e)) {
var s = t.top - o - a.scroll, l = t.top + o - a.scroll + i;
s < a.top ? r.top = a.top - s : l > a.top + a.height && (r.top = a.top + a.height - l);
} else {
var c = t.left - o, u = t.left + o + n;
c < a.left ? r.left = a.left - c : u > a.right && (r.left = a.left + a.width - u);
}
return r;
}, t.prototype.getTitle = function() {
var e = this.$element, t = this.options;
return e.attr("data-original-title") || ("function" == typeof t.title ? t.title.call(e[0]) : t.title);
}, t.prototype.getUID = function(e) {
do {
e += ~~(1e6 * Math.random());
} while (document.getElementById(e));
return e;
}, t.prototype.tip = function() {
if (!this.$tip && (this.$tip = e(this.options.template), 1 != this.$tip.length)) throw new Error(this.type + " `template` option must consist of exactly 1 top-level element!");
return this.$tip;
}, t.prototype.arrow = function() {
return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow");
}, t.prototype.enable = function() {
this.enabled = !0;
}, t.prototype.disable = function() {
this.enabled = !1;
}, t.prototype.toggleEnabled = function() {
this.enabled = !this.enabled;
}, t.prototype.toggle = function(t) {
var n = this;
t && ((n = e(t.currentTarget).data("bs." + this.type)) || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n))), t ? (n.inState.click = !n.inState.click, n.isInStateTrue() ? n.enter(n) : n.leave(n)) : n.tip().hasClass("in") ? n.leave(n) : n.enter(n);
}, t.prototype.destroy = function() {
var e = this;
clearTimeout(this.timeout), this.hide(function() {
e.$element.off("." + e.type).removeData("bs." + e.type), e.$tip && e.$tip.detach(), e.$tip = null, e.$arrow = null, e.$viewport = null, e.$element = null;
});
};
var n = e.fn.tooltip;
e.fn.tooltip = function(n) {
return this.each(function() {
var i = e(this), r = i.data("bs.tooltip"), o = "object" == typeof n && n;
!r && /destroy|hide/.test(n) || (r || i.data("bs.tooltip", r = new t(this, o)), "string" == typeof n && r[n]());
});
}, e.fn.tooltip.Constructor = t, e.fn.tooltip.noConflict = function() {
return e.fn.tooltip = n, this;
};
}(jQuery), function(e) {
"use strict";
var t = function(e, t) {
this.init("popover", e, t);
};
if (!e.fn.tooltip) throw new Error("Popover requires tooltip.js");
t.VERSION = "3.3.7", t.DEFAULTS = e.extend({}, e.fn.tooltip.Constructor.DEFAULTS, {
placement: "right",
trigger: "click",
content: "",
template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
}), t.prototype = e.extend({}, e.fn.tooltip.Constructor.prototype), t.prototype.constructor = t, t.prototype.getDefaults = function() {
return t.DEFAULTS;
}, t.prototype.setContent = function() {
var e = this.tip(), t = this.getTitle(), n = this.getContent();
e.find(".popover-title")[this.options.html ? "html" : "text"](t), e.find(".popover-content").children().detach().end()[this.options.html ? "string" == typeof n ? "html" : "append" : "text"](n), e.removeClass("fade top bottom left right in"), e.find(".popover-title").html() || e.find(".popover-title").hide();
}, t.prototype.hasContent = function() {
return this.getTitle() || this.getContent();
}, t.prototype.getContent = function() {
var e = this.$element, t = this.options;
return e.attr("data-content") || ("function" == typeof t.content ? t.content.call(e[0]) : t.content);
}, t.prototype.arrow = function() {
return this.$arrow = this.$arrow || this.tip().find(".arrow");
};
var n = e.fn.popover;
e.fn.popover = function(n) {
return this.each(function() {
var i = e(this), r = i.data("bs.popover"), o = "object" == typeof n && n;
!r && /destroy|hide/.test(n) || (r || i.data("bs.popover", r = new t(this, o)), "string" == typeof n && r[n]());
});
}, e.fn.popover.Constructor = t, e.fn.popover.noConflict = function() {
return e.fn.popover = n, this;
};
}(jQuery), function(e) {
"use strict";
function t(n, i) {
this.$body = e(document.body), this.$scrollElement = e(e(n).is(document.body) ? window : n), this.options = e.extend({}, t.DEFAULTS, i), this.selector = (this.options.target || "") + " .nav li > a", this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on("scroll.bs.scrollspy", e.proxy(this.process, this)), this.refresh(), this.process();
}
function n(n) {
return this.each(function() {
var i = e(this), r = i.data("bs.scrollspy"), o = "object" == typeof n && n;
r || i.data("bs.scrollspy", r = new t(this, o)), "string" == typeof n && r[n]();
});
}
t.VERSION = "3.3.7", t.DEFAULTS = {
offset: 10
}, t.prototype.getScrollHeight = function() {
return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight);
}, t.prototype.refresh = function() {
var t = this, n = "offset", i = 0;
this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight(), e.isWindow(this.$scrollElement[0]) || (n = "position", i = this.$scrollElement.scrollTop()), this.$body.find(this.selector).map(function() {
var t = e(this), r = t.data("target") || t.attr("href"), o = /^#./.test(r) && e(r);
return o && o.length && o.is(":visible") && [ [ o[n]().top + i, r ] ] || null;
}).sort(function(e, t) {
return e[0] - t[0];
}).each(function() {
t.offsets.push(this[0]), t.targets.push(this[1]);
});
}, t.prototype.process = function() {
var e, t = this.$scrollElement.scrollTop() + this.options.offset, n = this.getScrollHeight(), i = this.options.offset + n - this.$scrollElement.height(), r = this.offsets, o = this.targets, a = this.activeTarget;
if (this.scrollHeight != n && this.refresh(), t >= i) return a != (e = o[o.length - 1]) && this.activate(e);
if (a && t < r[0]) return this.activeTarget = null, this.clear();
for (e = r.length; e--; ) a != o[e] && t >= r[e] && (void 0 === r[e + 1] || t < r[e + 1]) && this.activate(o[e]);
}, t.prototype.activate = function(t) {
this.activeTarget = t, this.clear();
var n = this.selector + '[data-target="' + t + '"],' + this.selector + '[href="' + t + '"]', i = e(n).parents("li").addClass("active");
i.parent(".dropdown-menu").length && (i = i.closest("li.dropdown").addClass("active")), i.trigger("activate.bs.scrollspy");
}, t.prototype.clear = function() {
e(this.selector).parentsUntil(this.options.target, ".active").removeClass("active");
};
var i = e.fn.scrollspy;
e.fn.scrollspy = n, e.fn.scrollspy.Constructor = t, e.fn.scrollspy.noConflict = function() {
return e.fn.scrollspy = i, this;
}, e(window).on("load.bs.scrollspy.data-api", function() {
e('[data-spy="scroll"]').each(function() {
var t = e(this);
n.call(t, t.data());
});
});
}(jQuery), function(e) {
"use strict";
function t(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.tab");
r || i.data("bs.tab", r = new n(this)), "string" == typeof t && r[t]();
});
}
var n = function(t) {
this.element = e(t);
};
n.VERSION = "3.3.7", n.TRANSITION_DURATION = 150, n.prototype.show = function() {
var t = this.element, n = t.closest("ul:not(.dropdown-menu)"), i = t.data("target");
if (i || (i = (i = t.attr("href")) && i.replace(/.*(?=#[^\s]*$)/, "")), !t.parent("li").hasClass("active")) {
var r = n.find(".active:last a"), o = e.Event("hide.bs.tab", {
relatedTarget: t[0]
}), a = e.Event("show.bs.tab", {
relatedTarget: r[0]
});
if (r.trigger(o), t.trigger(a), !a.isDefaultPrevented() && !o.isDefaultPrevented()) {
var s = e(i);
this.activate(t.closest("li"), n), this.activate(s, s.parent(), function() {
r.trigger({
type: "hidden.bs.tab",
relatedTarget: t[0]
}), t.trigger({
type: "shown.bs.tab",
relatedTarget: r[0]
});
});
}
}
}, n.prototype.activate = function(t, i, r) {
function o() {
a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), s ? (t[0].offsetWidth, t.addClass("in")) : t.removeClass("fade"), t.parent(".dropdown-menu").length && t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), r && r();
}
var a = i.find("> .active"), s = r && e.support.transition && (a.length && a.hasClass("fade") || !!i.find("> .fade").length);
a.length && s ? a.one("bsTransitionEnd", o).emulateTransitionEnd(n.TRANSITION_DURATION) : o(), a.removeClass("in");
};
var i = e.fn.tab;
e.fn.tab = t, e.fn.tab.Constructor = n, e.fn.tab.noConflict = function() {
return e.fn.tab = i, this;
};
var r = function(n) {
n.preventDefault(), t.call(e(this), "show");
};
e(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', r).on("click.bs.tab.data-api", '[data-toggle="pill"]', r);
}(jQuery), function(e) {
"use strict";
function t(t) {
return this.each(function() {
var i = e(this), r = i.data("bs.affix"), o = "object" == typeof t && t;
r || i.data("bs.affix", r = new n(this, o)), "string" == typeof t && r[t]();
});
}
var n = function(t, i) {
this.options = e.extend({}, n.DEFAULTS, i), this.$target = e(this.options.target).on("scroll.bs.affix.data-api", e.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", e.proxy(this.checkPositionWithEventLoop, this)), this.$element = e(t), this.affixed = null, this.unpin = null, this.pinnedOffset = null, this.checkPosition();
};
n.VERSION = "3.3.7", n.RESET = "affix affix-top affix-bottom", n.DEFAULTS = {
offset: 0,
target: window
}, n.prototype.getState = function(e, t, n, i) {
var r = this.$target.scrollTop(), o = this.$element.offset(), a = this.$target.height();
if (null != n && "top" == this.affixed) return r < n && "top";
if ("bottom" == this.affixed) return null != n ? !(r + this.unpin <= o.top) && "bottom" : !(r + a <= e - i) && "bottom";
var s = null == this.affixed, l = s ? r : o.top, c = s ? a : t;
return null != n && r <= n ? "top" : null != i && l + c >= e - i && "bottom";
}, n.prototype.getPinnedOffset = function() {
if (this.pinnedOffset) return this.pinnedOffset;
this.$element.removeClass(n.RESET).addClass("affix");
var e = this.$target.scrollTop(), t = this.$element.offset();
return this.pinnedOffset = t.top - e;
}, n.prototype.checkPositionWithEventLoop = function() {
setTimeout(e.proxy(this.checkPosition, this), 1);
}, n.prototype.checkPosition = function() {
if (this.$element.is(":visible")) {
var t = this.$element.height(), i = this.options.offset, r = i.top, o = i.bottom, a = Math.max(e(document).height(), e(document.body).height());
"object" != typeof i && (o = r = i), "function" == typeof r && (r = i.top(this.$element)), "function" == typeof o && (o = i.bottom(this.$element));
var s = this.getState(a, t, r, o);
if (this.affixed != s) {
null != this.unpin && this.$element.css("top", "");
var l = "affix" + (s ? "-" + s : ""), c = e.Event(l + ".bs.affix");
if (this.$element.trigger(c), c.isDefaultPrevented()) return;
this.affixed = s, this.unpin = "bottom" == s ? this.getPinnedOffset() : null, this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix", "affixed") + ".bs.affix");
}
"bottom" == s && this.$element.offset({
top: a - t - o
});
}
};
var i = e.fn.affix;
e.fn.affix = t, e.fn.affix.Constructor = n, e.fn.affix.noConflict = function() {
return e.fn.affix = i, this;
}, e(window).on("load", function() {
e('[data-spy="affix"]').each(function() {
var n = e(this), i = n.data();
i.offset = i.offset || {}, null != i.offsetBottom && (i.offset.bottom = i.offsetBottom), null != i.offsetTop && (i.offset.top = i.offsetTop), t.call(n, i);
});
});
}(jQuery), function(e) {
"function" == typeof define && define.amd ? define([ "jquery" ], e) : e("object" == typeof exports ? require("jquery") : jQuery);
}(function(e, t) {
function n() {
return new Date(Date.UTC.apply(Date, arguments));
}
function i() {
var e = new Date();
return n(e.getFullYear(), e.getMonth(), e.getDate());
}
function r(e, t) {
return e.getUTCFullYear() === t.getUTCFullYear() && e.getUTCMonth() === t.getUTCMonth() && e.getUTCDate() === t.getUTCDate();
}
function o(e) {
return function() {
return this[e].apply(this, arguments);
};
}
function a(e) {
return e && !isNaN(e.getTime());
}
function s(t, n) {
var i, r = e(t).data(), o = {}, a = new RegExp("^" + n.toLowerCase() + "([A-Z])");
n = new RegExp("^" + n.toLowerCase());
for (var s in r) n.test(s) && (i = s.replace(a, function(e, t) {
return t.toLowerCase();
}), o[i] = r[s]);
return o;
}
function l(t) {
var n = {};
if (m[t] || (t = t.split("-")[0], m[t])) {
var i = m[t];
return e.each(g, function(e, t) {
t in i && (n[t] = i[t]);
}), n;
}
}
var c = function() {
var t = {
get: function(e) {
return this.slice(e)[0];
},
contains: function(e) {
for (var t = e && e.valueOf(), n = 0, i = this.length; i > n; n++) if (this[n].valueOf() === t) return n;
return -1;
},
remove: function(e) {
this.splice(e, 1);
},
replace: function(t) {
t && (e.isArray(t) || (t = [ t ]), this.clear(), this.push.apply(this, t));
},
clear: function() {
this.length = 0;
},
copy: function() {
var e = new c();
return e.replace(this), e;
}
};
return function() {
var n = [];
return n.push.apply(n, arguments), e.extend(n, t), n;
};
}(), u = function(t, n) {
e(t).data("datepicker", this), this._process_options(n), this.dates = new c(), this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = e(t), this.isInput = this.element.is("input"), this.inputField = this.isInput ? this.element : this.element.find("input"), this.component = !!this.element.hasClass("date") && this.element.find(".add-on, .input-group-addon, .btn"), this.hasInput = this.component && this.inputField.length, this.component && 0 === this.component.length && (this.component = !1), this.isInline = !this.component && this.element.is("div"), this.picker = e(v.template), this._check_template(this.o.templates.leftArrow) && this.picker.find(".prev").html(this.o.templates.leftArrow), this._check_template(this.o.templates.rightArrow) && this.picker.find(".next").html(this.o.templates.rightArrow), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), 
this.o.rtl && this.picker.addClass("datepicker-rtl"), this.viewMode = this.o.startView, this.o.calendarWeeks && this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan", function(e, t) {
return parseInt(t) + 1;
}), this._allow_update = !1, this.setStartDate(this._o.startDate), this.setEndDate(this._o.endDate), this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled), this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted), this.setDatesDisabled(this.o.datesDisabled), this.fillDow(), this.fillMonths(), this._allow_update = !0, this.update(), this.showMode(), this.isInline && this.show();
};
u.prototype = {
constructor: u,
_resolveViewName: function(e, n) {
return 0 === e || "days" === e || "month" === e ? 0 : 1 === e || "months" === e || "year" === e ? 1 : 2 === e || "years" === e || "decade" === e ? 2 : 3 === e || "decades" === e || "century" === e ? 3 : 4 === e || "centuries" === e || "millennium" === e ? 4 : n !== t && n;
},
_check_template: function(n) {
try {
return n !== t && "" !== n && ((n.match(/[<>]/g) || []).length <= 0 || e(n).length > 0);
} catch (e) {
return !1;
}
},
_process_options: function(t) {
this._o = e.extend({}, this._o, t);
var r = this.o = e.extend({}, this._o), o = r.language;
m[o] || (o = o.split("-")[0], m[o] || (o = f.language)), r.language = o, r.startView = this._resolveViewName(r.startView, 0), r.minViewMode = this._resolveViewName(r.minViewMode, 0), r.maxViewMode = this._resolveViewName(r.maxViewMode, 4), r.startView = Math.min(r.startView, r.maxViewMode), r.startView = Math.max(r.startView, r.minViewMode), !0 !== r.multidate && (r.multidate = Number(r.multidate) || !1, !1 !== r.multidate && (r.multidate = Math.max(0, r.multidate))), r.multidateSeparator = String(r.multidateSeparator), r.weekStart %= 7, r.weekEnd = (r.weekStart + 6) % 7;
var a = v.parseFormat(r.format);
r.startDate !== -1 / 0 && (r.startDate ? r.startDate instanceof Date ? r.startDate = this._local_to_utc(this._zero_time(r.startDate)) : r.startDate = v.parseDate(r.startDate, a, r.language, r.assumeNearbyYear) : r.startDate = -1 / 0), r.endDate !== 1 / 0 && (r.endDate ? r.endDate instanceof Date ? r.endDate = this._local_to_utc(this._zero_time(r.endDate)) : r.endDate = v.parseDate(r.endDate, a, r.language, r.assumeNearbyYear) : r.endDate = 1 / 0), r.daysOfWeekDisabled = r.daysOfWeekDisabled || [], e.isArray(r.daysOfWeekDisabled) || (r.daysOfWeekDisabled = r.daysOfWeekDisabled.split(/[,\s]*/)), r.daysOfWeekDisabled = e.map(r.daysOfWeekDisabled, function(e) {
return parseInt(e, 10);
}), r.daysOfWeekHighlighted = r.daysOfWeekHighlighted || [], e.isArray(r.daysOfWeekHighlighted) || (r.daysOfWeekHighlighted = r.daysOfWeekHighlighted.split(/[,\s]*/)), r.daysOfWeekHighlighted = e.map(r.daysOfWeekHighlighted, function(e) {
return parseInt(e, 10);
}), r.datesDisabled = r.datesDisabled || [], e.isArray(r.datesDisabled) || (r.datesDisabled = [ r.datesDisabled ]), r.datesDisabled = e.map(r.datesDisabled, function(e) {
return v.parseDate(e, a, r.language, r.assumeNearbyYear);
});
var s = String(r.orientation).toLowerCase().split(/\s+/g), l = r.orientation.toLowerCase();
if (s = e.grep(s, function(e) {
return /^auto|left|right|top|bottom$/.test(e);
}), r.orientation = {
x: "auto",
y: "auto"
}, l && "auto" !== l) if (1 === s.length) switch (s[0]) {
case "top":
case "bottom":
r.orientation.y = s[0];
break;

case "left":
case "right":
r.orientation.x = s[0];
} else l = e.grep(s, function(e) {
return /^left|right$/.test(e);
}), r.orientation.x = l[0] || "auto", l = e.grep(s, function(e) {
return /^top|bottom$/.test(e);
}), r.orientation.y = l[0] || "auto";
if (r.defaultViewDate) {
var c = r.defaultViewDate.year || new Date().getFullYear(), u = r.defaultViewDate.month || 0, d = r.defaultViewDate.day || 1;
r.defaultViewDate = n(c, u, d);
} else r.defaultViewDate = i();
},
_events: [],
_secondaryEvents: [],
_applyEvents: function(e) {
for (var n, i, r, o = 0; o < e.length; o++) n = e[o][0], 2 === e[o].length ? (i = t, r = e[o][1]) : 3 === e[o].length && (i = e[o][1], r = e[o][2]), n.on(r, i);
},
_unapplyEvents: function(e) {
for (var n, i, r, o = 0; o < e.length; o++) n = e[o][0], 2 === e[o].length ? (r = t, i = e[o][1]) : 3 === e[o].length && (r = e[o][1], i = e[o][2]), n.off(i, r);
},
_buildEvents: function() {
var t = {
keyup: e.proxy(function(t) {
-1 === e.inArray(t.keyCode, [ 27, 37, 39, 38, 40, 32, 13, 9 ]) && this.update();
}, this),
keydown: e.proxy(this.keydown, this),
paste: e.proxy(this.paste, this)
};
!0 === this.o.showOnFocus && (t.focus = e.proxy(this.show, this)), this.isInput ? this._events = [ [ this.element, t ] ] : this.component && this.hasInput ? this._events = [ [ this.inputField, t ], [ this.component, {
click: e.proxy(this.show, this)
} ] ] : this._events = [ [ this.element, {
click: e.proxy(this.show, this),
keydown: e.proxy(this.keydown, this)
} ] ], this._events.push([ this.element, "*", {
blur: e.proxy(function(e) {
this._focused_from = e.target;
}, this)
} ], [ this.element, {
blur: e.proxy(function(e) {
this._focused_from = e.target;
}, this)
} ]), this.o.immediateUpdates && this._events.push([ this.element, {
"changeYear changeMonth": e.proxy(function(e) {
this.update(e.date);
}, this)
} ]), this._secondaryEvents = [ [ this.picker, {
click: e.proxy(this.click, this)
} ], [ e(window), {
resize: e.proxy(this.place, this)
} ], [ e(document), {
mousedown: e.proxy(function(e) {
this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length || this.isInline || this.hide();
}, this)
} ] ];
},
_attachEvents: function() {
this._detachEvents(), this._applyEvents(this._events);
},
_detachEvents: function() {
this._unapplyEvents(this._events);
},
_attachSecondaryEvents: function() {
this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents);
},
_detachSecondaryEvents: function() {
this._unapplyEvents(this._secondaryEvents);
},
_trigger: function(t, n) {
var i = n || this.dates.get(-1), r = this._utc_to_local(i);
this.element.trigger({
type: t,
date: r,
dates: e.map(this.dates, this._utc_to_local),
format: e.proxy(function(e, t) {
0 === arguments.length ? (e = this.dates.length - 1, t = this.o.format) : "string" == typeof e && (t = e, e = this.dates.length - 1), t = t || this.o.format;
var n = this.dates.get(e);
return v.formatDate(n, t, this.o.language);
}, this)
});
},
show: function() {
return this.inputField.prop("disabled") || this.inputField.prop("readonly") && !1 === this.o.enableOnReadonly ? void 0 : (this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && e(this.element).blur(), this);
},
hide: function() {
return this.isInline || !this.picker.is(":visible") ? this : (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.viewMode = this.o.startView, this.showMode(), this.o.forceParse && this.inputField.val() && this.setValue(), this._trigger("hide"), this);
},
destroy: function() {
return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this;
},
paste: function(t) {
var n;
if (t.originalEvent.clipboardData && t.originalEvent.clipboardData.types && -1 !== e.inArray("text/plain", t.originalEvent.clipboardData.types)) n = t.originalEvent.clipboardData.getData("text/plain"); else {
if (!window.clipboardData) return;
n = window.clipboardData.getData("Text");
}
this.setDate(n), this.update(), t.preventDefault();
},
_utc_to_local: function(e) {
return e && new Date(e.getTime() + 6e4 * e.getTimezoneOffset());
},
_local_to_utc: function(e) {
return e && new Date(e.getTime() - 6e4 * e.getTimezoneOffset());
},
_zero_time: function(e) {
return e && new Date(e.getFullYear(), e.getMonth(), e.getDate());
},
_zero_utc_time: function(e) {
return e && new Date(Date.UTC(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()));
},
getDates: function() {
return e.map(this.dates, this._utc_to_local);
},
getUTCDates: function() {
return e.map(this.dates, function(e) {
return new Date(e);
});
},
getDate: function() {
return this._utc_to_local(this.getUTCDate());
},
getUTCDate: function() {
var e = this.dates.get(-1);
return void 0 !== e ? new Date(e) : null;
},
clearDates: function() {
this.inputField && this.inputField.val(""), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide();
},
setDates: function() {
var t = e.isArray(arguments[0]) ? arguments[0] : arguments;
return this.update.apply(this, t), this._trigger("changeDate"), this.setValue(), this;
},
setUTCDates: function() {
var t = e.isArray(arguments[0]) ? arguments[0] : arguments;
return this.update.apply(this, e.map(t, this._utc_to_local)), this._trigger("changeDate"), this.setValue(), this;
},
setDate: o("setDates"),
setUTCDate: o("setUTCDates"),
remove: o("destroy"),
setValue: function() {
var e = this.getFormattedDate();
return this.inputField.val(e), this;
},
getFormattedDate: function(n) {
n === t && (n = this.o.format);
var i = this.o.language;
return e.map(this.dates, function(e) {
return v.formatDate(e, n, i);
}).join(this.o.multidateSeparator);
},
getStartDate: function() {
return this.o.startDate;
},
setStartDate: function(e) {
return this._process_options({
startDate: e
}), this.update(), this.updateNavArrows(), this;
},
getEndDate: function() {
return this.o.endDate;
},
setEndDate: function(e) {
return this._process_options({
endDate: e
}), this.update(), this.updateNavArrows(), this;
},
setDaysOfWeekDisabled: function(e) {
return this._process_options({
daysOfWeekDisabled: e
}), this.update(), this.updateNavArrows(), this;
},
setDaysOfWeekHighlighted: function(e) {
return this._process_options({
daysOfWeekHighlighted: e
}), this.update(), this;
},
setDatesDisabled: function(e) {
this._process_options({
datesDisabled: e
}), this.update(), this.updateNavArrows();
},
place: function() {
if (this.isInline) return this;
var t = this.picker.outerWidth(), n = this.picker.outerHeight(), i = e(this.o.container), r = i.width(), o = "body" === this.o.container ? e(document).scrollTop() : i.scrollTop(), a = i.offset(), s = [];
this.element.parents().each(function() {
var t = e(this).css("z-index");
"auto" !== t && 0 !== t && s.push(parseInt(t));
});
var l = Math.max.apply(Math, s) + this.o.zIndexOffset, c = this.component ? this.component.parent().offset() : this.element.offset(), u = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1), d = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1), h = c.left - a.left, p = c.top - a.top;
"body" !== this.o.container && (p += o), this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (h -= t - d)) : c.left < 0 ? (this.picker.addClass("datepicker-orient-left"), h -= c.left - 10) : h + t > r ? (this.picker.addClass("datepicker-orient-right"), h += d - t) : this.picker.addClass("datepicker-orient-left");
var f, g = this.o.orientation.y;
if ("auto" === g && (f = -o + p - n, g = 0 > f ? "bottom" : "top"), this.picker.addClass("datepicker-orient-" + g), "top" === g ? p -= n + parseInt(this.picker.css("padding-top")) : p += u, this.o.rtl) {
var m = r - (h + d);
this.picker.css({
top: p,
right: m,
zIndex: l
});
} else this.picker.css({
top: p,
left: h,
zIndex: l
});
return this;
},
_allow_update: !0,
update: function() {
if (!this._allow_update) return this;
var t = this.dates.copy(), n = [], i = !1;
return arguments.length ? (e.each(arguments, e.proxy(function(e, t) {
t instanceof Date && (t = this._local_to_utc(t)), n.push(t);
}, this)), i = !0) : (n = this.isInput ? this.element.val() : this.element.data("date") || this.inputField.val(), n = n && this.o.multidate ? n.split(this.o.multidateSeparator) : [ n ], delete this.element.data().date), n = e.map(n, e.proxy(function(e) {
return v.parseDate(e, this.o.format, this.o.language, this.o.assumeNearbyYear);
}, this)), n = e.grep(n, e.proxy(function(e) {
return !this.dateWithinRange(e) || !e;
}, this), !0), this.dates.replace(n), this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate ? this.viewDate = new Date(this.o.endDate) : this.viewDate = this.o.defaultViewDate, i ? this.setValue() : n.length && String(t) !== String(this.dates) && this._trigger("changeDate"), !this.dates.length && t.length && this._trigger("clearDate"), this.fill(), this.element.change(), this;
},
fillDow: function() {
var t = this.o.weekStart, n = "<tr>";
for (this.o.calendarWeeks && (this.picker.find(".datepicker-days .datepicker-switch").attr("colspan", function(e, t) {
return parseInt(t) + 1;
}), n += '<th class="cw">&#160;</th>'); t < this.o.weekStart + 7; ) n += '<th class="dow', e.inArray(t, this.o.daysOfWeekDisabled) > -1 && (n += " disabled"), n += '">' + m[this.o.language].daysMin[t++ % 7] + "</th>";
n += "</tr>", this.picker.find(".datepicker-days thead").append(n);
},
fillMonths: function() {
for (var e = this._utc_to_local(this.viewDate), t = "", n = 0; 12 > n; ) t += '<span class="month' + (e && e.getMonth() === n ? " focused" : "") + '">' + m[this.o.language].monthsShort[n++] + "</span>";
this.picker.find(".datepicker-months td").html(t);
},
setRange: function(t) {
t && t.length ? this.range = e.map(t, function(e) {
return e.valueOf();
}) : delete this.range, this.fill();
},
getClassNames: function(t) {
var n = [], i = this.viewDate.getUTCFullYear(), r = this.viewDate.getUTCMonth(), o = new Date();
return t.getUTCFullYear() < i || t.getUTCFullYear() === i && t.getUTCMonth() < r ? n.push("old") : (t.getUTCFullYear() > i || t.getUTCFullYear() === i && t.getUTCMonth() > r) && n.push("new"), this.focusDate && t.valueOf() === this.focusDate.valueOf() && n.push("focused"), this.o.todayHighlight && t.getUTCFullYear() === o.getFullYear() && t.getUTCMonth() === o.getMonth() && t.getUTCDate() === o.getDate() && n.push("today"), -1 !== this.dates.contains(t) && n.push("active"), this.dateWithinRange(t) || n.push("disabled"), this.dateIsDisabled(t) && n.push("disabled", "disabled-date"), -1 !== e.inArray(t.getUTCDay(), this.o.daysOfWeekHighlighted) && n.push("highlighted"), this.range && (t > this.range[0] && t < this.range[this.range.length - 1] && n.push("range"), -1 !== e.inArray(t.valueOf(), this.range) && n.push("selected"), t.valueOf() === this.range[0] && n.push("range-start"), t.valueOf() === this.range[this.range.length - 1] && n.push("range-end")), n;
},
_fill_yearsView: function(n, i, r, o, a, s, l, c) {
var u, d, h, p, f, g, m, v, y, b, w;
for (u = "", d = this.picker.find(n), h = parseInt(a / r, 10) * r, f = parseInt(s / o, 10) * o, g = parseInt(l / o, 10) * o, p = e.map(this.dates, function(e) {
return parseInt(e.getUTCFullYear() / o, 10) * o;
}), d.find(".datepicker-switch").text(h + "-" + (h + 9 * o)), m = h - o, v = -1; 11 > v; v += 1) y = [ i ], b = null, -1 === v ? y.push("old") : 10 === v && y.push("new"), -1 !== e.inArray(m, p) && y.push("active"), (f > m || m > g) && y.push("disabled"), m === this.viewDate.getFullYear() && y.push("focused"), c !== e.noop && ((w = c(new Date(m, 0, 1))) === t ? w = {} : "boolean" == typeof w ? w = {
enabled: w
} : "string" == typeof w && (w = {
classes: w
}), !1 === w.enabled && y.push("disabled"), w.classes && (y = y.concat(w.classes.split(/\s+/))), w.tooltip && (b = w.tooltip)), u += '<span class="' + y.join(" ") + '"' + (b ? ' title="' + b + '"' : "") + ">" + m + "</span>", m += o;
d.find("td").html(u);
},
fill: function() {
var i, r, o = new Date(this.viewDate), a = o.getUTCFullYear(), s = o.getUTCMonth(), l = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0, c = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0, u = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, d = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, h = m[this.o.language].today || m.en.today || "", p = m[this.o.language].clear || m.en.clear || "", f = m[this.o.language].titleFormat || m.en.titleFormat;
if (!isNaN(a) && !isNaN(s)) {
this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(o, f, this.o.language)), this.picker.find("tfoot .today").text(h).toggle(!1 !== this.o.todayBtn), this.picker.find("tfoot .clear").text(p).toggle(!1 !== this.o.clearBtn), this.picker.find("thead .datepicker-title").text(this.o.title).toggle("" !== this.o.title), this.updateNavArrows(), this.fillMonths();
var g = n(a, s - 1, 28), y = v.getDaysInMonth(g.getUTCFullYear(), g.getUTCMonth());
g.setUTCDate(y), g.setUTCDate(y - (g.getUTCDay() - this.o.weekStart + 7) % 7);
var b = new Date(g);
g.getUTCFullYear() < 100 && b.setUTCFullYear(g.getUTCFullYear()), b.setUTCDate(b.getUTCDate() + 42), b = b.valueOf();
for (var w, x = []; g.valueOf() < b; ) {
if (g.getUTCDay() === this.o.weekStart && (x.push("<tr>"), this.o.calendarWeeks)) {
var C = new Date(+g + (this.o.weekStart - g.getUTCDay() - 7) % 7 * 864e5), _ = new Date(Number(C) + (11 - C.getUTCDay()) % 7 * 864e5), S = new Date(Number(S = n(_.getUTCFullYear(), 0, 1)) + (11 - S.getUTCDay()) % 7 * 864e5), $ = (_ - S) / 864e5 / 7 + 1;
x.push('<td class="cw">' + $ + "</td>");
}
(w = this.getClassNames(g)).push("day"), this.o.beforeShowDay !== e.noop && ((r = this.o.beforeShowDay(this._utc_to_local(g))) === t ? r = {} : "boolean" == typeof r ? r = {
enabled: r
} : "string" == typeof r && (r = {
classes: r
}), !1 === r.enabled && w.push("disabled"), r.classes && (w = w.concat(r.classes.split(/\s+/))), r.tooltip && (i = r.tooltip)), w = e.isFunction(e.uniqueSort) ? e.uniqueSort(w) : e.unique(w), x.push('<td class="' + w.join(" ") + '"' + (i ? ' title="' + i + '"' : "") + ">" + g.getUTCDate() + "</td>"), i = null, g.getUTCDay() === this.o.weekEnd && x.push("</tr>"), g.setUTCDate(g.getUTCDate() + 1);
}
this.picker.find(".datepicker-days tbody").empty().append(x.join(""));
var A = m[this.o.language].monthsTitle || m.en.monthsTitle || "Months", k = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? A : a).end().find("span").removeClass("active");
if (e.each(this.dates, function(e, t) {
t.getUTCFullYear() === a && k.eq(t.getUTCMonth()).addClass("active");
}), (l > a || a > u) && k.addClass("disabled"), a === l && k.slice(0, c).addClass("disabled"), a === u && k.slice(d + 1).addClass("disabled"), this.o.beforeShowMonth !== e.noop) {
var E = this;
e.each(k, function(n, i) {
var r = new Date(a, n, 1), o = E.o.beforeShowMonth(r);
o === t ? o = {} : "boolean" == typeof o ? o = {
enabled: o
} : "string" == typeof o && (o = {
classes: o
}), !1 !== o.enabled || e(i).hasClass("disabled") || e(i).addClass("disabled"), o.classes && e(i).addClass(o.classes), o.tooltip && e(i).prop("title", o.tooltip);
});
}
this._fill_yearsView(".datepicker-years", "year", 10, 1, a, l, u, this.o.beforeShowYear), this._fill_yearsView(".datepicker-decades", "decade", 100, 10, a, l, u, this.o.beforeShowDecade), this._fill_yearsView(".datepicker-centuries", "century", 1e3, 100, a, l, u, this.o.beforeShowCentury);
}
},
updateNavArrows: function() {
if (this._allow_update) {
var e = new Date(this.viewDate), t = e.getUTCFullYear(), n = e.getUTCMonth();
switch (this.viewMode) {
case 0:
this.o.startDate !== -1 / 0 && t <= this.o.startDate.getUTCFullYear() && n <= this.o.startDate.getUTCMonth() ? this.picker.find(".prev").css({
visibility: "hidden"
}) : this.picker.find(".prev").css({
visibility: "visible"
}), this.o.endDate !== 1 / 0 && t >= this.o.endDate.getUTCFullYear() && n >= this.o.endDate.getUTCMonth() ? this.picker.find(".next").css({
visibility: "hidden"
}) : this.picker.find(".next").css({
visibility: "visible"
});
break;

case 1:
case 2:
case 3:
case 4:
this.o.startDate !== -1 / 0 && t <= this.o.startDate.getUTCFullYear() || this.o.maxViewMode < 2 ? this.picker.find(".prev").css({
visibility: "hidden"
}) : this.picker.find(".prev").css({
visibility: "visible"
}), this.o.endDate !== 1 / 0 && t >= this.o.endDate.getUTCFullYear() || this.o.maxViewMode < 2 ? this.picker.find(".next").css({
visibility: "hidden"
}) : this.picker.find(".next").css({
visibility: "visible"
});
}
}
},
click: function(t) {
t.preventDefault(), t.stopPropagation();
var r, o, a, s, l, c, u;
(r = e(t.target)).hasClass("datepicker-switch") && this.showMode(1);
var d = r.closest(".prev, .next");
d.length > 0 && (o = v.modes[this.viewMode].navStep * (d.hasClass("prev") ? -1 : 1), 0 === this.viewMode ? (this.viewDate = this.moveMonth(this.viewDate, o), this._trigger("changeMonth", this.viewDate)) : (this.viewDate = this.moveYear(this.viewDate, o), 1 === this.viewMode && this._trigger("changeYear", this.viewDate)), this.fill()), r.hasClass("today") && !r.hasClass("day") && (this.showMode(-2), this._setDate(i(), "linked" === this.o.todayBtn ? null : "view")), r.hasClass("clear") && this.clearDates(), r.hasClass("disabled") || (r.hasClass("day") && (a = parseInt(r.text(), 10) || 1, s = this.viewDate.getUTCFullYear(), l = this.viewDate.getUTCMonth(), r.hasClass("old") && (0 === l ? (l = 11, s -= 1, c = !0, u = !0) : (l -= 1, c = !0)), r.hasClass("new") && (11 === l ? (l = 0, s += 1, c = !0, u = !0) : (l += 1, c = !0)), this._setDate(n(s, l, a)), u && this._trigger("changeYear", this.viewDate), c && this._trigger("changeMonth", this.viewDate)), r.hasClass("month") && (this.viewDate.setUTCDate(1), 
a = 1, l = r.parent().find("span").index(r), s = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(l), this._trigger("changeMonth", this.viewDate), 1 === this.o.minViewMode ? (this._setDate(n(s, l, a)), this.showMode()) : this.showMode(-1), this.fill()), (r.hasClass("year") || r.hasClass("decade") || r.hasClass("century")) && (this.viewDate.setUTCDate(1), a = 1, l = 0, s = parseInt(r.text(), 10) || 0, this.viewDate.setUTCFullYear(s), r.hasClass("year") && (this._trigger("changeYear", this.viewDate), 2 === this.o.minViewMode && this._setDate(n(s, l, a))), r.hasClass("decade") && (this._trigger("changeDecade", this.viewDate), 3 === this.o.minViewMode && this._setDate(n(s, l, a))), r.hasClass("century") && (this._trigger("changeCentury", this.viewDate), 4 === this.o.minViewMode && this._setDate(n(s, l, a))), this.showMode(-1), this.fill())), this.picker.is(":visible") && this._focused_from && e(this._focused_from).focus(), delete this._focused_from;
},
_toggle_multidate: function(e) {
var t = this.dates.contains(e);
if (e || this.dates.clear(), -1 !== t ? (!0 === this.o.multidate || this.o.multidate > 1 || this.o.toggleActive) && this.dates.remove(t) : !1 === this.o.multidate ? (this.dates.clear(), this.dates.push(e)) : this.dates.push(e), "number" == typeof this.o.multidate) for (;this.dates.length > this.o.multidate; ) this.dates.remove(0);
},
_setDate: function(e, t) {
t && "date" !== t || this._toggle_multidate(e && new Date(e)), t && "view" !== t || (this.viewDate = e && new Date(e)), this.fill(), this.setValue(), t && "view" === t || this._trigger("changeDate"), this.inputField && this.inputField.change(), !this.o.autoclose || t && "date" !== t || this.hide();
},
moveDay: function(e, t) {
var n = new Date(e);
return n.setUTCDate(e.getUTCDate() + t), n;
},
moveWeek: function(e, t) {
return this.moveDay(e, 7 * t);
},
moveMonth: function(e, t) {
if (!a(e)) return this.o.defaultViewDate;
if (!t) return e;
var n, i, r = new Date(e.valueOf()), o = r.getUTCDate(), s = r.getUTCMonth(), l = Math.abs(t);
if (t = t > 0 ? 1 : -1, 1 === l) i = -1 === t ? function() {
return r.getUTCMonth() === s;
} : function() {
return r.getUTCMonth() !== n;
}, n = s + t, r.setUTCMonth(n), (0 > n || n > 11) && (n = (n + 12) % 12); else {
for (var c = 0; l > c; c++) r = this.moveMonth(r, t);
n = r.getUTCMonth(), r.setUTCDate(o), i = function() {
return n !== r.getUTCMonth();
};
}
for (;i(); ) r.setUTCDate(--o), r.setUTCMonth(n);
return r;
},
moveYear: function(e, t) {
return this.moveMonth(e, 12 * t);
},
moveAvailableDate: function(e, t, n) {
do {
if (e = this[n](e, t), !this.dateWithinRange(e)) return !1;
n = "moveDay";
} while (this.dateIsDisabled(e));
return e;
},
weekOfDateIsDisabled: function(t) {
return -1 !== e.inArray(t.getUTCDay(), this.o.daysOfWeekDisabled);
},
dateIsDisabled: function(t) {
return this.weekOfDateIsDisabled(t) || e.grep(this.o.datesDisabled, function(e) {
return r(t, e);
}).length > 0;
},
dateWithinRange: function(e) {
return e >= this.o.startDate && e <= this.o.endDate;
},
keydown: function(e) {
if (this.picker.is(":visible")) {
var t, n, i = !1, r = this.focusDate || this.viewDate;
switch (e.keyCode) {
case 27:
this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), e.preventDefault(), e.stopPropagation();
break;

case 37:
case 38:
case 39:
case 40:
if (!this.o.keyboardNavigation || 7 === this.o.daysOfWeekDisabled.length) break;
t = 37 === e.keyCode || 38 === e.keyCode ? -1 : 1, 0 === this.viewMode ? e.ctrlKey ? (n = this.moveAvailableDate(r, t, "moveYear")) && this._trigger("changeYear", this.viewDate) : e.shiftKey ? (n = this.moveAvailableDate(r, t, "moveMonth")) && this._trigger("changeMonth", this.viewDate) : 37 === e.keyCode || 39 === e.keyCode ? n = this.moveAvailableDate(r, t, "moveDay") : this.weekOfDateIsDisabled(r) || (n = this.moveAvailableDate(r, t, "moveWeek")) : 1 === this.viewMode ? ((38 === e.keyCode || 40 === e.keyCode) && (t *= 4), n = this.moveAvailableDate(r, t, "moveMonth")) : 2 === this.viewMode && ((38 === e.keyCode || 40 === e.keyCode) && (t *= 4), n = this.moveAvailableDate(r, t, "moveYear")), n && (this.focusDate = this.viewDate = n, this.setValue(), this.fill(), e.preventDefault());
break;

case 13:
if (!this.o.forceParse) break;
r = this.focusDate || this.dates.get(-1) || this.viewDate, this.o.keyboardNavigation && (this._toggle_multidate(r), i = !0), this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible") && (e.preventDefault(), e.stopPropagation(), this.o.autoclose && this.hide());
break;

case 9:
this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide();
}
i && (this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate"), this.inputField && this.inputField.change());
} else (40 === e.keyCode || 27 === e.keyCode) && (this.show(), e.stopPropagation());
},
showMode: function(e) {
e && (this.viewMode = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, this.viewMode + e))), this.picker.children("div").hide().filter(".datepicker-" + v.modes[this.viewMode].clsName).show(), this.updateNavArrows();
}
};
var d = function(t, n) {
e(t).data("datepicker", this), this.element = e(t), this.inputs = e.map(n.inputs, function(e) {
return e.jquery ? e[0] : e;
}), delete n.inputs, p.call(e(this.inputs), n).on("changeDate", e.proxy(this.dateUpdated, this)), this.pickers = e.map(this.inputs, function(t) {
return e(t).data("datepicker");
}), this.updateDates();
};
d.prototype = {
updateDates: function() {
this.dates = e.map(this.pickers, function(e) {
return e.getUTCDate();
}), this.updateRanges();
},
updateRanges: function() {
var t = e.map(this.dates, function(e) {
return e.valueOf();
});
e.each(this.pickers, function(e, n) {
n.setRange(t);
});
},
dateUpdated: function(t) {
if (!this.updating) {
this.updating = !0;
var n = e(t.target).data("datepicker");
if (void 0 !== n) {
var i = n.getUTCDate(), r = e.inArray(t.target, this.inputs), o = r - 1, a = r + 1, s = this.inputs.length;
if (-1 !== r) {
if (e.each(this.pickers, function(e, t) {
t.getUTCDate() || t.setUTCDate(i);
}), i < this.dates[o]) for (;o >= 0 && i < this.dates[o]; ) this.pickers[o--].setUTCDate(i); else if (i > this.dates[a]) for (;s > a && i > this.dates[a]; ) this.pickers[a++].setUTCDate(i);
this.updateDates(), delete this.updating;
}
}
}
},
remove: function() {
e.map(this.pickers, function(e) {
e.remove();
}), delete this.element.data().datepicker;
}
};
var h = e.fn.datepicker, p = function(n) {
var i = Array.apply(null, arguments);
i.shift();
var r;
if (this.each(function() {
var t = e(this), o = t.data("datepicker"), a = "object" == typeof n && n;
if (!o) {
var c = s(this, "date"), h = l(e.extend({}, f, c, a).language), p = e.extend({}, f, h, c, a);
t.hasClass("input-daterange") || p.inputs ? (e.extend(p, {
inputs: p.inputs || t.find("input").toArray()
}), o = new d(this, p)) : o = new u(this, p), t.data("datepicker", o);
}
"string" == typeof n && "function" == typeof o[n] && (r = o[n].apply(o, i));
}), r === t || r instanceof u || r instanceof d) return this;
if (this.length > 1) throw new Error("Using only allowed for the collection of a single element (" + n + " function)");
return r;
};
e.fn.datepicker = p;
var f = e.fn.datepicker.defaults = {
assumeNearbyYear: !1,
autoclose: !1,
beforeShowDay: e.noop,
beforeShowMonth: e.noop,
beforeShowYear: e.noop,
beforeShowDecade: e.noop,
beforeShowCentury: e.noop,
calendarWeeks: !1,
clearBtn: !1,
toggleActive: !1,
daysOfWeekDisabled: [],
daysOfWeekHighlighted: [],
datesDisabled: [],
endDate: 1 / 0,
forceParse: !0,
format: "mm/dd/yyyy",
keyboardNavigation: !0,
language: "en",
minViewMode: 0,
maxViewMode: 4,
multidate: !1,
multidateSeparator: ",",
orientation: "auto",
rtl: !1,
startDate: -1 / 0,
startView: 0,
todayBtn: !1,
todayHighlight: !1,
weekStart: 0,
disableTouchKeyboard: !1,
enableOnReadonly: !0,
showOnFocus: !0,
zIndexOffset: 10,
container: "body",
immediateUpdates: !1,
title: "",
templates: {
leftArrow: "&laquo;",
rightArrow: "&raquo;"
}
}, g = e.fn.datepicker.locale_opts = [ "format", "rtl", "weekStart" ];
e.fn.datepicker.Constructor = u;
var m = e.fn.datepicker.dates = {
en: {
days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
daysShort: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
daysMin: [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ],
months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
monthsShort: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ],
today: "Today",
clear: "Clear",
titleFormat: "MM yyyy"
}
}, v = {
modes: [ {
clsName: "days",
navFnc: "Month",
navStep: 1
}, {
clsName: "months",
navFnc: "FullYear",
navStep: 1
}, {
clsName: "years",
navFnc: "FullYear",
navStep: 10
}, {
clsName: "decades",
navFnc: "FullDecade",
navStep: 100
}, {
clsName: "centuries",
navFnc: "FullCentury",
navStep: 1e3
} ],
isLeapYear: function(e) {
return e % 4 == 0 && e % 100 != 0 || e % 400 == 0;
},
getDaysInMonth: function(e, t) {
return [ 31, v.isLeapYear(e) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ][t];
},
validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
nonpunctuation: /[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,
parseFormat: function(e) {
if ("function" == typeof e.toValue && "function" == typeof e.toDisplay) return e;
var t = e.replace(this.validParts, "\0").split("\0"), n = e.match(this.validParts);
if (!t || !t.length || !n || 0 === n.length) throw new Error("Invalid date format.");
return {
separators: t,
parts: n
};
},
parseDate: function(r, o, a, s) {
function l(e, t) {
return !0 === t && (t = 10), 100 > e && (e += 2e3) > new Date().getFullYear() + t && (e -= 100), e;
}
function c() {
var e = this.slice(0, y[p].length), t = y[p].slice(0, e.length);
return e.toLowerCase() === t.toLowerCase();
}
if (!r) return t;
if (r instanceof Date) return r;
if ("string" == typeof o && (o = v.parseFormat(o)), o.toValue) return o.toValue(r, o, a);
var d, h, p, f, g = /([\-+]\d+)([dmwy])/, y = r.match(/([\-+]\d+)([dmwy])/g), b = {
d: "moveDay",
m: "moveMonth",
w: "moveWeek",
y: "moveYear"
}, w = {
yesterday: "-1d",
today: "+0d",
tomorrow: "+1d"
};
if (/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)) {
for (r = new Date(), p = 0; p < y.length; p++) d = g.exec(y[p]), h = parseInt(d[1]), f = b[d[2]], r = u.prototype[f](r, h);
return n(r.getUTCFullYear(), r.getUTCMonth(), r.getUTCDate());
}
if (void 0 !== w[r] && (r = w[r], y = r.match(/([\-+]\d+)([dmwy])/g), /^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r))) {
for (r = new Date(), p = 0; p < y.length; p++) d = g.exec(y[p]), h = parseInt(d[1]), f = b[d[2]], r = u.prototype[f](r, h);
return n(r.getUTCFullYear(), r.getUTCMonth(), r.getUTCDate());
}
y = r && r.match(this.nonpunctuation) || [], r = new Date();
var x, C, _ = {}, S = [ "yyyy", "yy", "M", "MM", "m", "mm", "d", "dd" ], $ = {
yyyy: function(e, t) {
return e.setUTCFullYear(s ? l(t, s) : t);
},
yy: function(e, t) {
return e.setUTCFullYear(s ? l(t, s) : t);
},
m: function(e, t) {
if (isNaN(e)) return e;
for (t -= 1; 0 > t; ) t += 12;
for (t %= 12, e.setUTCMonth(t); e.getUTCMonth() !== t; ) e.setUTCDate(e.getUTCDate() - 1);
return e;
},
d: function(e, t) {
return e.setUTCDate(t);
}
};
$.M = $.MM = $.mm = $.m, $.dd = $.d, r = i();
var A = o.parts.slice();
if (y.length !== A.length && (A = e(A).filter(function(t, n) {
return -1 !== e.inArray(n, S);
}).toArray()), y.length === A.length) {
var k;
for (p = 0, k = A.length; k > p; p++) {
if (x = parseInt(y[p], 10), d = A[p], isNaN(x)) switch (d) {
case "MM":
C = e(m[a].months).filter(c), x = e.inArray(C[0], m[a].months) + 1;
break;

case "M":
C = e(m[a].monthsShort).filter(c), x = e.inArray(C[0], m[a].monthsShort) + 1;
}
_[d] = x;
}
var E, T;
for (p = 0; p < S.length; p++) (T = S[p]) in _ && !isNaN(_[T]) && (E = new Date(r), $[T](E, _[T]), isNaN(E) || (r = E));
}
return r;
},
formatDate: function(t, n, i) {
if (!t) return "";
if ("string" == typeof n && (n = v.parseFormat(n)), n.toDisplay) return n.toDisplay(t, n, i);
var r = {
d: t.getUTCDate(),
D: m[i].daysShort[t.getUTCDay()],
DD: m[i].days[t.getUTCDay()],
m: t.getUTCMonth() + 1,
M: m[i].monthsShort[t.getUTCMonth()],
MM: m[i].months[t.getUTCMonth()],
yy: t.getUTCFullYear().toString().substring(2),
yyyy: t.getUTCFullYear()
};
r.dd = (r.d < 10 ? "0" : "") + r.d, r.mm = (r.m < 10 ? "0" : "") + r.m, t = [];
for (var o = e.extend([], n.separators), a = 0, s = n.parts.length; s >= a; a++) o.length && t.push(o.shift()), t.push(r[n.parts[a]]);
return t.join("");
},
headTemplate: '<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',
contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
};
v.template = '<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">' + v.headTemplate + "<tbody></tbody>" + v.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + '</table></div><div class="datepicker-decades"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + '</table></div><div class="datepicker-centuries"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + "</table></div></div>", e.fn.datepicker.DPGlobal = v, e.fn.datepicker.noConflict = function() {
return e.fn.datepicker = h, this;
}, e.fn.datepicker.version = "1.6.4", e(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function(t) {
var n = e(this);
n.data("datepicker") || (t.preventDefault(), p.call(n, "show"));
}), e(function() {
p.call(e('[data-provide="datepicker-inline"]'));
});
}), function(e, t) {
"function" == typeof define && define.amd ? define([ "jquery" ], function(e) {
return t(e);
}) : "object" == typeof exports ? module.exports = t(require("jquery")) : t(jQuery);
}(0, function(e) {
!function(e) {
"use strict";
function t(t) {
var n = [ {
re: /[\xC0-\xC6]/g,
ch: "A"
}, {
re: /[\xE0-\xE6]/g,
ch: "a"
}, {
re: /[\xC8-\xCB]/g,
ch: "E"
}, {
re: /[\xE8-\xEB]/g,
ch: "e"
}, {
re: /[\xCC-\xCF]/g,
ch: "I"
}, {
re: /[\xEC-\xEF]/g,
ch: "i"
}, {
re: /[\xD2-\xD6]/g,
ch: "O"
}, {
re: /[\xF2-\xF6]/g,
ch: "o"
}, {
re: /[\xD9-\xDC]/g,
ch: "U"
}, {
re: /[\xF9-\xFC]/g,
ch: "u"
}, {
re: /[\xC7-\xE7]/g,
ch: "c"
}, {
re: /[\xD1]/g,
ch: "N"
}, {
re: /[\xF1]/g,
ch: "n"
} ];
return e.each(n, function() {
t = t.replace(this.re, this.ch);
}), t;
}
function n(e) {
var t = {
"&": "&amp;",
"<": "&lt;",
">": "&gt;",
'"': "&quot;",
"'": "&#x27;",
"`": "&#x60;"
}, n = "(?:" + Object.keys(t).join("|") + ")", i = new RegExp(n), r = new RegExp(n, "g"), o = null == e ? "" : "" + e;
return i.test(o) ? o.replace(r, function(e) {
return t[e];
}) : o;
}
function i(t, n) {
var i = arguments, o = t, a = n;
[].shift.apply(i);
var s, l = this.each(function() {
var t = e(this);
if (t.is("select")) {
var n = t.data("selectpicker"), l = "object" == typeof o && o;
if (n) {
if (l) for (var c in l) l.hasOwnProperty(c) && (n.options[c] = l[c]);
} else {
var u = e.extend({}, r.DEFAULTS, e.fn.selectpicker.defaults || {}, t.data(), l);
u.template = e.extend({}, r.DEFAULTS.template, e.fn.selectpicker.defaults ? e.fn.selectpicker.defaults.template : {}, t.data().template, l.template), t.data("selectpicker", n = new r(this, u, a));
}
"string" == typeof o && (s = n[o] instanceof Function ? n[o].apply(n, i) : n.options[o]);
}
});
return void 0 !== s ? s : l;
}
String.prototype.includes || function() {
var e = {}.toString, t = function() {
try {
var e = {}, t = Object.defineProperty, n = t(e, e, e) && t;
} catch (e) {}
return n;
}(), n = "".indexOf, i = function(t) {
if (null == this) throw new TypeError();
var i = String(this);
if (t && "[object RegExp]" == e.call(t)) throw new TypeError();
var r = i.length, o = String(t), a = o.length, s = arguments.length > 1 ? arguments[1] : void 0, l = s ? Number(s) : 0;
return l != l && (l = 0), !(a + Math.min(Math.max(l, 0), r) > r) && -1 != n.call(i, o, l);
};
t ? t(String.prototype, "includes", {
value: i,
configurable: !0,
writable: !0
}) : String.prototype.includes = i;
}(), String.prototype.startsWith || function() {
var e = function() {
try {
var e = {}, t = Object.defineProperty, n = t(e, e, e) && t;
} catch (e) {}
return n;
}(), t = {}.toString, n = function(e) {
if (null == this) throw new TypeError();
var n = String(this);
if (e && "[object RegExp]" == t.call(e)) throw new TypeError();
var i = n.length, r = String(e), o = r.length, a = arguments.length > 1 ? arguments[1] : void 0, s = a ? Number(a) : 0;
s != s && (s = 0);
var l = Math.min(Math.max(s, 0), i);
if (o + l > i) return !1;
for (var c = -1; ++c < o; ) if (n.charCodeAt(l + c) != r.charCodeAt(c)) return !1;
return !0;
};
e ? e(String.prototype, "startsWith", {
value: n,
configurable: !0,
writable: !0
}) : String.prototype.startsWith = n;
}(), Object.keys || (Object.keys = function(e, t, n) {
n = [];
for (t in e) n.hasOwnProperty.call(e, t) && n.push(t);
return n;
}), e.fn.triggerNative = function(e) {
var t, n = this[0];
n.dispatchEvent ? ("function" == typeof Event ? t = new Event(e, {
bubbles: !0
}) : (t = document.createEvent("Event")).initEvent(e, !0, !1), n.dispatchEvent(t)) : (n.fireEvent && ((t = document.createEventObject()).eventType = e, n.fireEvent("on" + e, t)), this.trigger(e));
}, e.expr[":"].icontains = function(t, n, i) {
var r = e(t);
return (r.data("tokens") || r.text()).toUpperCase().includes(i[3].toUpperCase());
}, e.expr[":"].ibegins = function(t, n, i) {
var r = e(t);
return (r.data("tokens") || r.text()).toUpperCase().startsWith(i[3].toUpperCase());
}, e.expr[":"].aicontains = function(t, n, i) {
var r = e(t);
return (r.data("tokens") || r.data("normalizedText") || r.text()).toUpperCase().includes(i[3].toUpperCase());
}, e.expr[":"].aibegins = function(t, n, i) {
var r = e(t);
return (r.data("tokens") || r.data("normalizedText") || r.text()).toUpperCase().startsWith(i[3].toUpperCase());
};
var r = function(t, n, i) {
i && (i.stopPropagation(), i.preventDefault()), this.$element = e(t), this.$newElement = null, this.$button = null, this.$menu = null, this.$lis = null, this.options = n, null === this.options.title && (this.options.title = this.$element.attr("title")), this.val = r.prototype.val, this.render = r.prototype.render, this.refresh = r.prototype.refresh, this.setStyle = r.prototype.setStyle, this.selectAll = r.prototype.selectAll, this.deselectAll = r.prototype.deselectAll, this.destroy = r.prototype.destroy, this.remove = r.prototype.remove, this.show = r.prototype.show, this.hide = r.prototype.hide, this.init();
};
r.VERSION = "1.10.0", r.DEFAULTS = {
noneSelectedText: "Nothing selected",
noneResultsText: "No results matched {0}",
countSelectedText: function(e, t) {
return 1 == e ? "{0} item selected" : "{0} items selected";
},
maxOptionsText: function(e, t) {
return [ 1 == e ? "Limit reached ({n} item max)" : "Limit reached ({n} items max)", 1 == t ? "Group limit reached ({n} item max)" : "Group limit reached ({n} items max)" ];
},
selectAllText: "Select All",
deselectAllText: "Deselect All",
doneButton: !1,
doneButtonText: "Close",
multipleSeparator: ", ",
styleBase: "btn",
style: "btn-default",
size: "auto",
title: null,
selectedTextFormat: "values",
width: !1,
container: !1,
hideDisabled: !1,
showSubtext: !1,
showIcon: !0,
showContent: !0,
dropupAuto: !0,
header: !1,
liveSearch: !1,
liveSearchPlaceholder: null,
liveSearchNormalize: !1,
liveSearchStyle: "contains",
actionsBox: !1,
iconBase: "glyphicon",
tickIcon: "glyphicon-ok",
showTick: !1,
template: {
caret: '<span class="caret"></span>'
},
maxOptions: !1,
mobile: !1,
selectOnTab: !1,
dropdownAlignRight: !1
}, r.prototype = {
constructor: r,
init: function() {
var t = this, n = this.$element.attr("id");
this.$element.addClass("bs-select-hidden"), this.liObj = {}, this.multiple = this.$element.prop("multiple"), this.autofocus = this.$element.prop("autofocus"), this.$newElement = this.createView(), this.$element.after(this.$newElement).appendTo(this.$newElement), this.$button = this.$newElement.children("button"), this.$menu = this.$newElement.children(".dropdown-menu"), this.$menuInner = this.$menu.children(".inner"), this.$searchbox = this.$menu.find("input"), this.$element.removeClass("bs-select-hidden"), this.options.dropdownAlignRight && this.$menu.addClass("dropdown-menu-right"), void 0 !== n && (this.$button.attr("data-id", n), e('label[for="' + n + '"]').click(function(e) {
e.preventDefault(), t.$button.focus();
})), this.checkDisabled(), this.clickListener(), this.options.liveSearch && this.liveSearchListener(), this.render(), this.setStyle(), this.setWidth(), this.options.container && this.selectPosition(), this.$menu.data("this", this), this.$newElement.data("this", this), this.options.mobile && this.mobile(), this.$newElement.on({
"hide.bs.dropdown": function(e) {
t.$element.trigger("hide.bs.select", e);
},
"hidden.bs.dropdown": function(e) {
t.$element.trigger("hidden.bs.select", e);
},
"show.bs.dropdown": function(e) {
t.$element.trigger("show.bs.select", e);
},
"shown.bs.dropdown": function(e) {
t.$element.trigger("shown.bs.select", e);
}
}), t.$element[0].hasAttribute("required") && this.$element.on("invalid", function() {
t.$button.addClass("bs-invalid").focus(), t.$element.on({
"focus.bs.select": function() {
t.$button.focus(), t.$element.off("focus.bs.select");
},
"shown.bs.select": function() {
t.$element.val(t.$element.val()).off("shown.bs.select");
},
"rendered.bs.select": function() {
this.validity.valid && t.$button.removeClass("bs-invalid"), t.$element.off("rendered.bs.select");
}
});
}), setTimeout(function() {
t.$element.trigger("loaded.bs.select");
});
},
createDropdown: function() {
var t = this.multiple || this.options.showTick ? " show-tick" : "", i = this.$element.parent().hasClass("input-group") ? " input-group-btn" : "", r = this.autofocus ? " autofocus" : "", o = this.options.header ? '<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + "</div>" : "", a = this.options.liveSearch ? '<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"' + (null === this.options.liveSearchPlaceholder ? "" : ' placeholder="' + n(this.options.liveSearchPlaceholder) + '"') + "></div>" : "", s = this.multiple && this.options.actionsBox ? '<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">' + this.options.selectAllText + '</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">' + this.options.deselectAllText + "</button></div></div>" : "", l = this.multiple && this.options.doneButton ? '<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">' + this.options.doneButtonText + "</button></div></div>" : "", c = '<div class="btn-group bootstrap-select' + t + i + '"><button type="button" class="' + this.options.styleBase + ' dropdown-toggle" data-toggle="dropdown"' + r + '><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">' + this.options.template.caret + '</span></button><div class="dropdown-menu open">' + o + a + s + '<ul class="dropdown-menu inner" role="menu"></ul>' + l + "</div></div>";
return e(c);
},
createView: function() {
var e = this.createDropdown(), t = this.createLi();
return e.find("ul")[0].innerHTML = t, e;
},
reloadLi: function() {
this.destroyLi();
var e = this.createLi();
this.$menuInner[0].innerHTML = e;
},
destroyLi: function() {
this.$menu.find("li").remove();
},
createLi: function() {
var i = this, r = [], o = 0, a = document.createElement("option"), s = -1, l = function(e, t, n, i) {
return "<li" + (void 0 !== n & "" !== n ? ' class="' + n + '"' : "") + (void 0 !== t & null !== t ? ' data-original-index="' + t + '"' : "") + (void 0 !== i & null !== i ? 'data-optgroup="' + i + '"' : "") + ">" + e + "</li>";
}, c = function(e, r, o, a) {
return '<a tabindex="0"' + (void 0 !== r ? ' class="' + r + '"' : "") + (void 0 !== o ? ' style="' + o + '"' : "") + (i.options.liveSearchNormalize ? ' data-normalized-text="' + t(n(e)) + '"' : "") + (void 0 !== a || null !== a ? ' data-tokens="' + a + '"' : "") + ">" + e + '<span class="' + i.options.iconBase + " " + i.options.tickIcon + ' check-mark"></span></a>';
};
if (this.options.title && !this.multiple && (s--, !this.$element.find(".bs-title-option").length)) {
var u = this.$element[0];
a.className = "bs-title-option", a.appendChild(document.createTextNode(this.options.title)), a.value = "", u.insertBefore(a, u.firstChild), void 0 === e(u.options[u.selectedIndex]).attr("selected") && (a.selected = !0);
}
return this.$element.find("option").each(function(t) {
var n = e(this);
if (s++, !n.hasClass("bs-title-option")) {
var a = this.className || "", u = this.style.cssText, d = n.data("content") ? n.data("content") : n.html(), h = n.data("tokens") ? n.data("tokens") : null, p = void 0 !== n.data("subtext") ? '<small class="text-muted">' + n.data("subtext") + "</small>" : "", f = void 0 !== n.data("icon") ? '<span class="' + i.options.iconBase + " " + n.data("icon") + '"></span> ' : "", g = "OPTGROUP" === this.parentNode.tagName, m = this.disabled || g && this.parentNode.disabled;
if ("" !== f && m && (f = "<span>" + f + "</span>"), i.options.hideDisabled && m && !g) s--; else {
if (n.data("content") || (d = f + '<span class="text">' + d + p + "</span>"), g && !0 !== n.data("divider")) {
var v = " " + this.parentNode.className || "";
if (0 === n.index()) {
o += 1;
var y = this.parentNode.label, b = void 0 !== n.parent().data("subtext") ? '<small class="text-muted">' + n.parent().data("subtext") + "</small>" : "";
y = (n.parent().data("icon") ? '<span class="' + i.options.iconBase + " " + n.parent().data("icon") + '"></span> ' : "") + '<span class="text">' + y + b + "</span>", 0 !== t && r.length > 0 && (s++, r.push(l("", null, "divider", o + "div"))), s++, r.push(l(y, null, "dropdown-header" + v, o));
}
if (i.options.hideDisabled && m) return void s--;
r.push(l(c(d, "opt " + a + v, u, h), t, "", o));
} else !0 === n.data("divider") ? r.push(l("", t, "divider")) : !0 === n.data("hidden") ? r.push(l(c(d, a, u, h), t, "hidden is-hidden")) : (this.previousElementSibling && "OPTGROUP" === this.previousElementSibling.tagName && (s++, r.push(l("", null, "divider", o + "div"))), r.push(l(c(d, a, u, h), t)));
i.liObj[t] = s;
}
}
}), this.multiple || 0 !== this.$element.find("option:selected").length || this.options.title || this.$element.find("option").eq(0).prop("selected", !0).attr("selected", "selected"), r.join("");
},
findLis: function() {
return null == this.$lis && (this.$lis = this.$menu.find("li")), this.$lis;
},
render: function(t) {
var n, i = this;
!1 !== t && this.$element.find("option").each(function(e) {
var t = i.findLis().eq(i.liObj[e]);
i.setDisabled(e, this.disabled || "OPTGROUP" === this.parentNode.tagName && this.parentNode.disabled, t), i.setSelected(e, this.selected, t);
}), this.tabIndex();
var r = this.$element.find("option").map(function() {
if (this.selected) {
if (i.options.hideDisabled && (this.disabled || "OPTGROUP" === this.parentNode.tagName && this.parentNode.disabled)) return;
var t, n = e(this), r = n.data("icon") && i.options.showIcon ? '<i class="' + i.options.iconBase + " " + n.data("icon") + '"></i> ' : "";
return t = i.options.showSubtext && n.data("subtext") && !i.multiple ? ' <small class="text-muted">' + n.data("subtext") + "</small>" : "", void 0 !== n.attr("title") ? n.attr("title") : n.data("content") && i.options.showContent ? n.data("content") : r + n.html() + t;
}
}).toArray(), o = this.multiple ? r.join(this.options.multipleSeparator) : r[0];
if (this.multiple && this.options.selectedTextFormat.indexOf("count") > -1) {
var a = this.options.selectedTextFormat.split(">");
if (a.length > 1 && r.length > a[1] || 1 == a.length && r.length >= 2) {
n = this.options.hideDisabled ? ", [disabled]" : "";
var s = this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]' + n).length;
o = ("function" == typeof this.options.countSelectedText ? this.options.countSelectedText(r.length, s) : this.options.countSelectedText).replace("{0}", r.length.toString()).replace("{1}", s.toString());
}
}
void 0 == this.options.title && (this.options.title = this.$element.attr("title")), "static" == this.options.selectedTextFormat && (o = this.options.title), o || (o = void 0 !== this.options.title ? this.options.title : this.options.noneSelectedText), this.$button.attr("title", e.trim(o.replace(/<[^>]*>?/g, ""))), this.$button.children(".filter-option").html(o), this.$element.trigger("rendered.bs.select");
},
setStyle: function(e, t) {
this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi, ""));
var n = e || this.options.style;
"add" == t ? this.$button.addClass(n) : "remove" == t ? this.$button.removeClass(n) : (this.$button.removeClass(this.options.style), this.$button.addClass(n));
},
liHeight: function(t) {
if (t || !1 !== this.options.size && !this.sizeInfo) {
var n = document.createElement("div"), i = document.createElement("div"), r = document.createElement("ul"), o = document.createElement("li"), a = document.createElement("li"), s = document.createElement("a"), l = document.createElement("span"), c = this.options.header && this.$menu.find(".popover-title").length > 0 ? this.$menu.find(".popover-title")[0].cloneNode(!0) : null, u = this.options.liveSearch ? document.createElement("div") : null, d = this.options.actionsBox && this.multiple && this.$menu.find(".bs-actionsbox").length > 0 ? this.$menu.find(".bs-actionsbox")[0].cloneNode(!0) : null, h = this.options.doneButton && this.multiple && this.$menu.find(".bs-donebutton").length > 0 ? this.$menu.find(".bs-donebutton")[0].cloneNode(!0) : null;
if (l.className = "text", n.className = this.$menu[0].parentNode.className + " open", i.className = "dropdown-menu open", r.className = "dropdown-menu inner", o.className = "divider", l.appendChild(document.createTextNode("Inner text")), s.appendChild(l), a.appendChild(s), r.appendChild(a), r.appendChild(o), c && i.appendChild(c), u) {
var p = document.createElement("span");
u.className = "bs-searchbox", p.className = "form-control", u.appendChild(p), i.appendChild(u);
}
d && i.appendChild(d), i.appendChild(r), h && i.appendChild(h), n.appendChild(i), document.body.appendChild(n);
var f = s.offsetHeight, g = c ? c.offsetHeight : 0, m = u ? u.offsetHeight : 0, v = d ? d.offsetHeight : 0, y = h ? h.offsetHeight : 0, b = e(o).outerHeight(!0), w = "function" == typeof getComputedStyle && getComputedStyle(i), x = w ? null : e(i), C = parseInt(w ? w.paddingTop : x.css("paddingTop")) + parseInt(w ? w.paddingBottom : x.css("paddingBottom")) + parseInt(w ? w.borderTopWidth : x.css("borderTopWidth")) + parseInt(w ? w.borderBottomWidth : x.css("borderBottomWidth")), _ = C + parseInt(w ? w.marginTop : x.css("marginTop")) + parseInt(w ? w.marginBottom : x.css("marginBottom")) + 2;
document.body.removeChild(n), this.sizeInfo = {
liHeight: f,
headerHeight: g,
searchHeight: m,
actionsHeight: v,
doneButtonHeight: y,
dividerHeight: b,
menuPadding: C,
menuExtras: _
};
}
},
setSize: function() {
if (this.findLis(), this.liHeight(), this.options.header && this.$menu.css("padding-top", 0), !1 !== this.options.size) {
var t, n, i, r, o = this, a = this.$menu, s = this.$menuInner, l = e(window), c = this.$newElement[0].offsetHeight, u = this.sizeInfo.liHeight, d = this.sizeInfo.headerHeight, h = this.sizeInfo.searchHeight, p = this.sizeInfo.actionsHeight, f = this.sizeInfo.doneButtonHeight, g = this.sizeInfo.dividerHeight, m = this.sizeInfo.menuPadding, v = this.sizeInfo.menuExtras, y = this.options.hideDisabled ? ".disabled" : "", b = function() {
i = o.$newElement.offset().top - l.scrollTop(), r = l.height() - i - c;
};
if (b(), "auto" === this.options.size) {
var w = function() {
var l, c = function(t, n) {
return function(i) {
return n ? i.classList ? i.classList.contains(t) : e(i).hasClass(t) : !(i.classList ? i.classList.contains(t) : e(i).hasClass(t));
};
}, g = o.$menuInner[0].getElementsByTagName("li"), y = Array.prototype.filter ? Array.prototype.filter.call(g, c("hidden", !1)) : o.$lis.not(".hidden"), w = Array.prototype.filter ? Array.prototype.filter.call(y, c("dropdown-header", !0)) : y.filter(".dropdown-header");
b(), t = r - v, o.options.container ? (a.data("height") || a.data("height", a.height()), n = a.data("height")) : n = a.height(), o.options.dropupAuto && o.$newElement.toggleClass("dropup", i > r && t - v < n), o.$newElement.hasClass("dropup") && (t = i - v), l = y.length + w.length > 3 ? 3 * u + v - 2 : 0, a.css({
"max-height": t + "px",
overflow: "hidden",
"min-height": l + d + h + p + f + "px"
}), s.css({
"max-height": t - d - h - p - f - m + "px",
"overflow-y": "auto",
"min-height": Math.max(l - m, 0) + "px"
});
};
w(), this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize", w), l.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize", w);
} else if (this.options.size && "auto" != this.options.size && this.$lis.not(y).length > this.options.size) {
var x = this.$lis.not(".divider").not(y).children().slice(0, this.options.size).last().parent().index(), C = this.$lis.slice(0, x + 1).filter(".divider").length;
t = u * this.options.size + C * g + m, o.options.container ? (a.data("height") || a.data("height", a.height()), n = a.data("height")) : n = a.height(), o.options.dropupAuto && this.$newElement.toggleClass("dropup", i > r && t - v < n), a.css({
"max-height": t + d + h + p + f + "px",
overflow: "hidden",
"min-height": ""
}), s.css({
"max-height": t - m + "px",
"overflow-y": "auto",
"min-height": ""
});
}
}
},
setWidth: function() {
if ("auto" === this.options.width) {
this.$menu.css("min-width", "0");
var e = this.$menu.parent().clone().appendTo("body"), t = this.options.container ? this.$newElement.clone().appendTo("body") : e, n = e.children(".dropdown-menu").outerWidth(), i = t.css("width", "auto").children("button").outerWidth();
e.remove(), t.remove(), this.$newElement.css("width", Math.max(n, i) + "px");
} else "fit" === this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")) : this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", this.options.width)) : (this.$menu.css("min-width", ""), this.$newElement.css("width", ""));
this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width");
},
selectPosition: function() {
this.$bsContainer = e('<div class="bs-container" />');
var t, n, i = this, r = function(e) {
i.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi, "")).toggleClass("dropup", e.hasClass("dropup")), t = e.offset(), n = e.hasClass("dropup") ? 0 : e[0].offsetHeight, i.$bsContainer.css({
top: t.top + n,
left: t.left,
width: e[0].offsetWidth
});
};
this.$button.on("click", function() {
var t = e(this);
i.isDisabled() || (r(i.$newElement), i.$bsContainer.appendTo(i.options.container).toggleClass("open", !t.hasClass("open")).append(i.$menu));
}), e(window).on("resize scroll", function() {
r(i.$newElement);
}), this.$element.on("hide.bs.select", function() {
i.$menu.data("height", i.$menu.height()), i.$bsContainer.detach();
});
},
setSelected: function(e, t, n) {
n || (n = this.findLis().eq(this.liObj[e])), n.toggleClass("selected", t);
},
setDisabled: function(e, t, n) {
n || (n = this.findLis().eq(this.liObj[e])), t ? n.addClass("disabled").children("a").attr("href", "#").attr("tabindex", -1) : n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex", 0);
},
isDisabled: function() {
return this.$element[0].disabled;
},
checkDisabled: function() {
var e = this;
this.isDisabled() ? (this.$newElement.addClass("disabled"), this.$button.addClass("disabled").attr("tabindex", -1)) : (this.$button.hasClass("disabled") && (this.$newElement.removeClass("disabled"), this.$button.removeClass("disabled")), -1 != this.$button.attr("tabindex") || this.$element.data("tabindex") || this.$button.removeAttr("tabindex")), this.$button.click(function() {
return !e.isDisabled();
});
},
tabIndex: function() {
this.$element.data("tabindex") !== this.$element.attr("tabindex") && -98 !== this.$element.attr("tabindex") && "-98" !== this.$element.attr("tabindex") && (this.$element.data("tabindex", this.$element.attr("tabindex")), this.$button.attr("tabindex", this.$element.data("tabindex"))), this.$element.attr("tabindex", -98);
},
clickListener: function() {
var t = this, n = e(document);
this.$newElement.on("touchstart.dropdown", ".dropdown-menu", function(e) {
e.stopPropagation();
}), n.data("spaceSelect", !1), this.$button.on("keyup", function(e) {
/(32)/.test(e.keyCode.toString(10)) && n.data("spaceSelect") && (e.preventDefault(), n.data("spaceSelect", !1));
}), this.$button.on("click", function() {
t.setSize();
}), this.$element.on("shown.bs.select", function() {
if (t.options.liveSearch || t.multiple) {
if (!t.multiple) {
var e = t.liObj[t.$element[0].selectedIndex];
if ("number" != typeof e || !1 === t.options.size) return;
var n = t.$lis.eq(e)[0].offsetTop - t.$menuInner[0].offsetTop;
n = n - t.$menuInner[0].offsetHeight / 2 + t.sizeInfo.liHeight / 2, t.$menuInner[0].scrollTop = n;
}
} else t.$menuInner.find(".selected a").focus();
}), this.$menuInner.on("click", "li a", function(n) {
var i = e(this), r = i.parent().data("originalIndex"), o = t.$element.val(), a = t.$element.prop("selectedIndex");
if (t.multiple && n.stopPropagation(), n.preventDefault(), !t.isDisabled() && !i.parent().hasClass("disabled")) {
var s = t.$element.find("option"), l = s.eq(r), c = l.prop("selected"), u = l.parent("optgroup"), d = t.options.maxOptions, h = u.data("maxOptions") || !1;
if (t.multiple) {
if (l.prop("selected", !c), t.setSelected(r, !c), i.blur(), !1 !== d || !1 !== h) {
var p = d < s.filter(":selected").length, f = h < u.find("option:selected").length;
if (d && p || h && f) if (d && 1 == d) s.prop("selected", !1), l.prop("selected", !0), t.$menuInner.find(".selected").removeClass("selected"), t.setSelected(r, !0); else if (h && 1 == h) {
u.find("option:selected").prop("selected", !1), l.prop("selected", !0);
var g = i.parent().data("optgroup");
t.$menuInner.find('[data-optgroup="' + g + '"]').removeClass("selected"), t.setSelected(r, !0);
} else {
var m = "function" == typeof t.options.maxOptionsText ? t.options.maxOptionsText(d, h) : t.options.maxOptionsText, v = m[0].replace("{n}", d), y = m[1].replace("{n}", h), b = e('<div class="notify"></div>');
m[2] && (v = v.replace("{var}", m[2][d > 1 ? 0 : 1]), y = y.replace("{var}", m[2][h > 1 ? 0 : 1])), l.prop("selected", !1), t.$menu.append(b), d && p && (b.append(e("<div>" + v + "</div>")), t.$element.trigger("maxReached.bs.select")), h && f && (b.append(e("<div>" + y + "</div>")), t.$element.trigger("maxReachedGrp.bs.select")), setTimeout(function() {
t.setSelected(r, !1);
}, 10), b.delay(750).fadeOut(300, function() {
e(this).remove();
});
}
}
} else s.prop("selected", !1), l.prop("selected", !0), t.$menuInner.find(".selected").removeClass("selected"), t.setSelected(r, !0);
t.multiple ? t.options.liveSearch && t.$searchbox.focus() : t.$button.focus(), (o != t.$element.val() && t.multiple || a != t.$element.prop("selectedIndex") && !t.multiple) && t.$element.trigger("changed.bs.select", [ r, l.prop("selected"), c ]).triggerNative("change");
}
}), this.$menu.on("click", "li.disabled a, .popover-title, .popover-title :not(.close)", function(n) {
n.currentTarget == this && (n.preventDefault(), n.stopPropagation(), t.options.liveSearch && !e(n.target).hasClass("close") ? t.$searchbox.focus() : t.$button.focus());
}), this.$menuInner.on("click", ".divider, .dropdown-header", function(e) {
e.preventDefault(), e.stopPropagation(), t.options.liveSearch ? t.$searchbox.focus() : t.$button.focus();
}), this.$menu.on("click", ".popover-title .close", function() {
t.$button.click();
}), this.$searchbox.on("click", function(e) {
e.stopPropagation();
}), this.$menu.on("click", ".actions-btn", function(n) {
t.options.liveSearch ? t.$searchbox.focus() : t.$button.focus(), n.preventDefault(), n.stopPropagation(), e(this).hasClass("bs-select-all") ? t.selectAll() : t.deselectAll();
}), this.$element.change(function() {
t.render(!1);
});
},
liveSearchListener: function() {
var i = this, r = e('<li class="no-results"></li>');
this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api", function() {
i.$menuInner.find(".active").removeClass("active"), i.$searchbox.val() && (i.$searchbox.val(""), i.$lis.not(".is-hidden").removeClass("hidden"), r.parent().length && r.remove()), i.multiple || i.$menuInner.find(".selected").addClass("active"), setTimeout(function() {
i.$searchbox.focus();
}, 10);
}), this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api", function(e) {
e.stopPropagation();
}), this.$searchbox.on("input propertychange", function() {
if (i.$searchbox.val()) {
var o = i.$lis.not(".is-hidden").removeClass("hidden").children("a");
(o = i.options.liveSearchNormalize ? o.not(":a" + i._searchStyle() + '("' + t(i.$searchbox.val()) + '")') : o.not(":" + i._searchStyle() + '("' + i.$searchbox.val() + '")')).parent().addClass("hidden"), i.$lis.filter(".dropdown-header").each(function() {
var t = e(this), n = t.data("optgroup");
0 === i.$lis.filter("[data-optgroup=" + n + "]").not(t).not(".hidden").length && (t.addClass("hidden"), i.$lis.filter("[data-optgroup=" + n + "div]").addClass("hidden"));
});
var a = i.$lis.not(".hidden");
a.each(function(t) {
var n = e(this);
n.hasClass("divider") && (n.index() === a.first().index() || n.index() === a.last().index() || a.eq(t + 1).hasClass("divider")) && n.addClass("hidden");
}), i.$lis.not(".hidden, .no-results").length ? r.parent().length && r.remove() : (r.parent().length && r.remove(), r.html(i.options.noneResultsText.replace("{0}", '"' + n(i.$searchbox.val()) + '"')).show(), i.$menuInner.append(r));
} else i.$lis.not(".is-hidden").removeClass("hidden"), r.parent().length && r.remove();
i.$lis.filter(".active").removeClass("active"), i.$searchbox.val() && i.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(), e(this).focus();
});
},
_searchStyle: function() {
return {
begins: "ibegins",
startsWith: "ibegins"
}[this.options.liveSearchStyle] || "icontains";
},
val: function(e) {
return void 0 !== e ? (this.$element.val(e), this.render(), this.$element) : this.$element.val();
},
changeAll: function(t) {
void 0 === t && (t = !0), this.findLis();
for (var n = this.$element.find("option"), i = this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected", t), r = i.length, o = [], a = 0; a < r; a++) {
var s = i[a].getAttribute("data-original-index");
o[o.length] = n.eq(s)[0];
}
e(o).prop("selected", t), this.render(!1), this.$element.trigger("changed.bs.select").triggerNative("change");
},
selectAll: function() {
return this.changeAll(!0);
},
deselectAll: function() {
return this.changeAll(!1);
},
toggle: function(e) {
(e = e || window.event) && e.stopPropagation(), this.$button.trigger("click");
},
keydown: function(n) {
var i, r, o, a, s, l, c, u, d, h = e(this), p = h.is("input") ? h.parent().parent() : h.parent(), f = p.data("this"), g = ":not(.disabled, .hidden, .dropdown-header, .divider)", m = {
32: " ",
48: "0",
49: "1",
50: "2",
51: "3",
52: "4",
53: "5",
54: "6",
55: "7",
56: "8",
57: "9",
59: ";",
65: "a",
66: "b",
67: "c",
68: "d",
69: "e",
70: "f",
71: "g",
72: "h",
73: "i",
74: "j",
75: "k",
76: "l",
77: "m",
78: "n",
79: "o",
80: "p",
81: "q",
82: "r",
83: "s",
84: "t",
85: "u",
86: "v",
87: "w",
88: "x",
89: "y",
90: "z",
96: "0",
97: "1",
98: "2",
99: "3",
100: "4",
101: "5",
102: "6",
103: "7",
104: "8",
105: "9"
};
if (f.options.liveSearch && (p = h.parent().parent()), f.options.container && (p = f.$menu), i = e("[role=menu] li", p), !(d = f.$newElement.hasClass("open")) && (n.keyCode >= 48 && n.keyCode <= 57 || n.keyCode >= 96 && n.keyCode <= 105 || n.keyCode >= 65 && n.keyCode <= 90) && (f.options.container ? f.$button.trigger("click") : (f.setSize(), f.$menu.parent().addClass("open"), d = !0), f.$searchbox.focus()), f.options.liveSearch && (/(^9$|27)/.test(n.keyCode.toString(10)) && d && 0 === f.$menu.find(".active").length && (n.preventDefault(), f.$menu.parent().removeClass("open"), f.options.container && f.$newElement.removeClass("open"), f.$button.focus()), i = e("[role=menu] li" + g, p), h.val() || /(38|40)/.test(n.keyCode.toString(10)) || 0 === i.filter(".active").length && (i = f.$menuInner.find("li"), i = f.options.liveSearchNormalize ? i.filter(":a" + f._searchStyle() + "(" + t(m[n.keyCode]) + ")") : i.filter(":" + f._searchStyle() + "(" + m[n.keyCode] + ")"))), i.length) {
if (/(38|40)/.test(n.keyCode.toString(10))) r = i.index(i.find("a").filter(":focus").parent()), a = i.filter(g).first().index(), s = i.filter(g).last().index(), o = i.eq(r).nextAll(g).eq(0).index(), l = i.eq(r).prevAll(g).eq(0).index(), c = i.eq(o).prevAll(g).eq(0).index(), f.options.liveSearch && (i.each(function(t) {
e(this).hasClass("disabled") || e(this).data("index", t);
}), r = i.index(i.filter(".active")), a = i.first().data("index"), s = i.last().data("index"), o = i.eq(r).nextAll().eq(0).data("index"), l = i.eq(r).prevAll().eq(0).data("index"), c = i.eq(o).prevAll().eq(0).data("index")), u = h.data("prevIndex"), 38 == n.keyCode ? (f.options.liveSearch && r--, r != c && r > l && (r = l), r < a && (r = a), r == u && (r = s)) : 40 == n.keyCode && (f.options.liveSearch && r++, -1 == r && (r = 0), r != c && r < o && (r = o), r > s && (r = s), r == u && (r = a)), h.data("prevIndex", r), f.options.liveSearch ? (n.preventDefault(), h.hasClass("dropdown-toggle") || (i.removeClass("active").eq(r).addClass("active").children("a").focus(), h.focus())) : i.eq(r).children("a").focus(); else if (!h.is("input")) {
var v, y = [];
i.each(function() {
e(this).hasClass("disabled") || e.trim(e(this).children("a").text().toLowerCase()).substring(0, 1) == m[n.keyCode] && y.push(e(this).index());
}), v = e(document).data("keycount"), v++, e(document).data("keycount", v), e.trim(e(":focus").text().toLowerCase()).substring(0, 1) != m[n.keyCode] ? (v = 1, e(document).data("keycount", v)) : v >= y.length && (e(document).data("keycount", 0), v > y.length && (v = 1)), i.eq(y[v - 1]).children("a").focus();
}
if ((/(13|32)/.test(n.keyCode.toString(10)) || /(^9$)/.test(n.keyCode.toString(10)) && f.options.selectOnTab) && d) {
if (/(32)/.test(n.keyCode.toString(10)) || n.preventDefault(), f.options.liveSearch) /(32)/.test(n.keyCode.toString(10)) || (f.$menuInner.find(".active a").click(), h.focus()); else {
var b = e(":focus");
b.click(), b.focus(), n.preventDefault(), e(document).data("spaceSelect", !0);
}
e(document).data("keycount", 0);
}
(/(^9$|27)/.test(n.keyCode.toString(10)) && d && (f.multiple || f.options.liveSearch) || /(27)/.test(n.keyCode.toString(10)) && !d) && (f.$menu.parent().removeClass("open"), f.options.container && f.$newElement.removeClass("open"), f.$button.focus());
}
},
mobile: function() {
this.$element.addClass("mobile-device");
},
refresh: function() {
this.$lis = null, this.liObj = {}, this.reloadLi(), this.render(), this.checkDisabled(), this.liHeight(!0), this.setStyle(), this.setWidth(), this.$lis && this.$searchbox.trigger("propertychange"), this.$element.trigger("refreshed.bs.select");
},
hide: function() {
this.$newElement.hide();
},
show: function() {
this.$newElement.show();
},
remove: function() {
this.$newElement.remove(), this.$element.remove();
},
destroy: function() {
this.$newElement.before(this.$element).remove(), this.$bsContainer ? this.$bsContainer.remove() : this.$menu.remove(), this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker");
}
};
var o = e.fn.selectpicker;
e.fn.selectpicker = i, e.fn.selectpicker.Constructor = r, e.fn.selectpicker.noConflict = function() {
return e.fn.selectpicker = o, this;
}, e(document).data("keycount", 0).on("keydown.bs.select", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input', r.prototype.keydown).on("focusin.modal", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input', function(e) {
e.stopPropagation();
}), e(window).on("load.bs.select.data-api", function() {
e(".selectpicker").each(function() {
var t = e(this);
i.call(t, t.data());
});
});
}(e);
});

var _createClass = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var i = t[n];
i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
}
}
return function(t, n, i) {
return n && e(t.prototype, n), i && e(t, i), t;
};
}();

!function(e, t) {
var n = function() {
function n(t) {
var i = this, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
_classCallCheck(this, n), this.$element = e(t), this.options = e.extend({}, e.fn.bootstrapSwitch.defaults, this._getElementOptions(), r), this.prevOptions = {}, this.$wrapper = e("<div>", {
class: function() {
var e = [];
return e.push(i.options.state ? "on" : "off"), i.options.size && e.push(i.options.size), i.options.disabled && e.push("disabled"), i.options.readonly && e.push("readonly"), i.options.indeterminate && e.push("indeterminate"), i.options.inverse && e.push("inverse"), i.$element.attr("id") && e.push("id-" + i.$element.attr("id")), e.map(i._getClass.bind(i)).concat([ i.options.baseClass ], i._getClasses(i.options.wrapperClass)).join(" ");
}
}), this.$container = e("<div>", {
class: this._getClass("container")
}), this.$on = e("<span>", {
html: this.options.onText,
class: this._getClass("handle-on") + " " + this._getClass(this.options.onColor)
}), this.$off = e("<span>", {
html: this.options.offText,
class: this._getClass("handle-off") + " " + this._getClass(this.options.offColor)
}), this.$label = e("<span>", {
html: this.options.labelText,
class: this._getClass("label")
}), this.$element.on("init.bootstrapSwitch", this.options.onInit.bind(this, t)), this.$element.on("switchChange.bootstrapSwitch", function() {
for (var n = arguments.length, r = Array(n), o = 0; o < n; o++) r[o] = arguments[o];
!1 === i.options.onSwitchChange.apply(t, r) && (i.$element.is(":radio") ? e('[name="' + i.$element.attr("name") + '"]').trigger("previousState.bootstrapSwitch", !0) : i.$element.trigger("previousState.bootstrapSwitch", !0));
}), this.$container = this.$element.wrap(this.$container).parent(), this.$wrapper = this.$container.wrap(this.$wrapper).parent(), this.$element.before(this.options.inverse ? this.$off : this.$on).before(this.$label).before(this.options.inverse ? this.$on : this.$off), this.options.indeterminate && this.$element.prop("indeterminate", !0), this._init(), this._elementHandlers(), this._handleHandlers(), this._labelHandlers(), this._formHandler(), this._externalLabelHandler(), this.$element.trigger("init.bootstrapSwitch", this.options.state);
}
return _createClass(n, [ {
key: "setPrevOptions",
value: function() {
this.prevOptions = Object.assign({}, this.options);
}
}, {
key: "state",
value: function(t, n) {
return void 0 === t ? this.options.state : this.options.disabled || this.options.readonly || this.options.state && !this.options.radioAllOff && this.$element.is(":radio") ? this.$element : (this.$element.is(":radio") ? e('[name="' + this.$element.attr("name") + '"]').trigger("setPreviousOptions.bootstrapSwitch") : this.$element.trigger("setPreviousOptions.bootstrapSwitch"), this.options.indeterminate && this.indeterminate(!1), this.$element.prop("checked", Boolean(t)).trigger("change.bootstrapSwitch", n), this.$element);
}
}, {
key: "toggleState",
value: function(e) {
return this.options.disabled || this.options.readonly ? this.$element : this.options.indeterminate ? (this.indeterminate(!1), this.state(!0)) : this.$element.prop("checked", !this.options.state).trigger("change.bootstrapSwitch", e);
}
}, {
key: "size",
value: function(e) {
return void 0 === e ? this.options.size : (null != this.options.size && this.$wrapper.removeClass(this._getClass(this.options.size)), e && this.$wrapper.addClass(this._getClass(e)), this._width(), this._containerPosition(), this.options.size = e, this.$element);
}
}, {
key: "animate",
value: function(e) {
return void 0 === e ? this.options.animate : this.options.animate === Boolean(e) ? this.$element : this.toggleAnimate();
}
}, {
key: "toggleAnimate",
value: function() {
return this.options.animate = !this.options.animate, this.$wrapper.toggleClass(this._getClass("animate")), this.$element;
}
}, {
key: "disabled",
value: function(e) {
return void 0 === e ? this.options.disabled : this.options.disabled === Boolean(e) ? this.$element : this.toggleDisabled();
}
}, {
key: "toggleDisabled",
value: function() {
return this.options.disabled = !this.options.disabled, this.$element.prop("disabled", this.options.disabled), this.$wrapper.toggleClass(this._getClass("disabled")), this.$element;
}
}, {
key: "readonly",
value: function(e) {
return void 0 === e ? this.options.readonly : this.options.readonly === Boolean(e) ? this.$element : this.toggleReadonly();
}
}, {
key: "toggleReadonly",
value: function() {
return this.options.readonly = !this.options.readonly, this.$element.prop("readonly", this.options.readonly), this.$wrapper.toggleClass(this._getClass("readonly")), this.$element;
}
}, {
key: "indeterminate",
value: function(e) {
return void 0 === e ? this.options.indeterminate : this.options.indeterminate === Boolean(e) ? this.$element : this.toggleIndeterminate();
}
}, {
key: "toggleIndeterminate",
value: function() {
return this.options.indeterminate = !this.options.indeterminate, this.$element.prop("indeterminate", this.options.indeterminate), this.$wrapper.toggleClass(this._getClass("indeterminate")), this._containerPosition(), this.$element;
}
}, {
key: "inverse",
value: function(e) {
return void 0 === e ? this.options.inverse : this.options.inverse === Boolean(e) ? this.$element : this.toggleInverse();
}
}, {
key: "toggleInverse",
value: function() {
this.$wrapper.toggleClass(this._getClass("inverse"));
var e = this.$on.clone(!0), t = this.$off.clone(!0);
return this.$on.replaceWith(t), this.$off.replaceWith(e), this.$on = t, this.$off = e, this.options.inverse = !this.options.inverse, this.$element;
}
}, {
key: "onColor",
value: function(e) {
return void 0 === e ? this.options.onColor : (this.options.onColor && this.$on.removeClass(this._getClass(this.options.onColor)), this.$on.addClass(this._getClass(e)), this.options.onColor = e, this.$element);
}
}, {
key: "offColor",
value: function(e) {
return void 0 === e ? this.options.offColor : (this.options.offColor && this.$off.removeClass(this._getClass(this.options.offColor)), this.$off.addClass(this._getClass(e)), this.options.offColor = e, this.$element);
}
}, {
key: "onText",
value: function(e) {
return void 0 === e ? this.options.onText : (this.$on.html(e), this._width(), this._containerPosition(), this.options.onText = e, this.$element);
}
}, {
key: "offText",
value: function(e) {
return void 0 === e ? this.options.offText : (this.$off.html(e), this._width(), this._containerPosition(), this.options.offText = e, this.$element);
}
}, {
key: "labelText",
value: function(e) {
return void 0 === e ? this.options.labelText : (this.$label.html(e), this._width(), this.options.labelText = e, this.$element);
}
}, {
key: "handleWidth",
value: function(e) {
return void 0 === e ? this.options.handleWidth : (this.options.handleWidth = e, this._width(), this._containerPosition(), this.$element);
}
}, {
key: "labelWidth",
value: function(e) {
return void 0 === e ? this.options.labelWidth : (this.options.labelWidth = e, this._width(), this._containerPosition(), this.$element);
}
}, {
key: "baseClass",
value: function(e) {
return this.options.baseClass;
}
}, {
key: "wrapperClass",
value: function(t) {
return void 0 === t ? this.options.wrapperClass : (t || (t = e.fn.bootstrapSwitch.defaults.wrapperClass), this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")), this.$wrapper.addClass(this._getClasses(t).join(" ")), this.options.wrapperClass = t, this.$element);
}
}, {
key: "radioAllOff",
value: function(e) {
if (void 0 === e) return this.options.radioAllOff;
var t = Boolean(e);
return this.options.radioAllOff === t ? this.$element : (this.options.radioAllOff = t, this.$element);
}
}, {
key: "onInit",
value: function(t) {
return void 0 === t ? this.options.onInit : (t || (t = e.fn.bootstrapSwitch.defaults.onInit), this.options.onInit = t, this.$element);
}
}, {
key: "onSwitchChange",
value: function(t) {
return void 0 === t ? this.options.onSwitchChange : (t || (t = e.fn.bootstrapSwitch.defaults.onSwitchChange), this.options.onSwitchChange = t, this.$element);
}
}, {
key: "destroy",
value: function() {
var e = this.$element.closest("form");
return e.length && e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"), this.$container.children().not(this.$element).remove(), this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"), this.$element;
}
}, {
key: "_getElementOptions",
value: function() {
return {
state: this.$element.is(":checked"),
size: this.$element.data("size"),
animate: this.$element.data("animate"),
disabled: this.$element.is(":disabled"),
readonly: this.$element.is("[readonly]"),
indeterminate: this.$element.data("indeterminate"),
inverse: this.$element.data("inverse"),
radioAllOff: this.$element.data("radio-all-off"),
onColor: this.$element.data("on-color"),
offColor: this.$element.data("off-color"),
onText: this.$element.data("on-text"),
offText: this.$element.data("off-text"),
labelText: this.$element.data("label-text"),
handleWidth: this.$element.data("handle-width"),
labelWidth: this.$element.data("label-width"),
baseClass: this.$element.data("base-class"),
wrapperClass: this.$element.data("wrapper-class")
};
}
}, {
key: "_width",
value: function() {
var e = this, t = this.$on.add(this.$off).add(this.$label).css("width", ""), n = void 0;
return n = "auto" === this.options.handleWidth ? Math.round(Math.max(this.$on.width(), this.$off.width())) : this.options.handleWidth, t.width(n), this.$label.width(function(t, i) {
return "auto" !== e.options.labelWidth ? e.options.labelWidth : i < n ? n : i;
}), this._handleWidth = this.$on.outerWidth(), this._labelWidth = this.$label.outerWidth(), this.$container.width(2 * this._handleWidth + this._labelWidth), this.$wrapper.width(this._handleWidth + this._labelWidth);
}
}, {
key: "_containerPosition",
value: function() {
var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.options.state;
arguments[1];
this.$container.css("margin-left", function() {
var n = [ 0, "-" + e._handleWidth + "px" ];
return e.options.indeterminate ? "-" + e._handleWidth / 2 + "px" : t ? e.options.inverse ? n[1] : n[0] : e.options.inverse ? n[0] : n[1];
});
}
}, {
key: "_init",
value: function() {
var e = this, n = function() {
e.setPrevOptions(), e._width(), e._containerPosition(), setTimeout(function() {
if (e.options.animate) return e.$wrapper.addClass(e._getClass("animate"));
}, 50);
};
if (this.$wrapper.is(":visible")) n(); else var i = t.setInterval(function() {
if (e.$wrapper.is(":visible")) return n(), t.clearInterval(i);
}, 50);
}
}, {
key: "_elementHandlers",
value: function() {
var t = this;
return this.$element.on({
"setPreviousOptions.bootstrapSwitch": this.setPrevOptions.bind(this),
"previousState.bootstrapSwitch": function() {
t.options = t.prevOptions, t.options.indeterminate && t.$wrapper.addClass(t._getClass("indeterminate")), t.$element.prop("checked", t.options.state).trigger("change.bootstrapSwitch", !0);
},
"change.bootstrapSwitch": function(n, i) {
n.preventDefault(), n.stopImmediatePropagation();
var r = t.$element.is(":checked");
t._containerPosition(r), r !== t.options.state && (t.options.state = r, t.$wrapper.toggleClass(t._getClass("off")).toggleClass(t._getClass("on")), i || (t.$element.is(":radio") && e('[name="' + t.$element.attr("name") + '"]').not(t.$element).prop("checked", !1).trigger("change.bootstrapSwitch", !0), t.$element.trigger("switchChange.bootstrapSwitch", [ r ])));
},
"focus.bootstrapSwitch": function(e) {
e.preventDefault(), t.$wrapper.addClass(t._getClass("focused"));
},
"blur.bootstrapSwitch": function(e) {
e.preventDefault(), t.$wrapper.removeClass(t._getClass("focused"));
},
"keydown.bootstrapSwitch": function(e) {
!e.which || t.options.disabled || t.options.readonly || 37 !== e.which && 39 !== e.which || (e.preventDefault(), e.stopImmediatePropagation(), t.state(39 === e.which));
}
});
}
}, {
key: "_handleHandlers",
value: function() {
var e = this;
return this.$on.on("click.bootstrapSwitch", function(t) {
return t.preventDefault(), t.stopPropagation(), e.state(!1), e.$element.trigger("focus.bootstrapSwitch");
}), this.$off.on("click.bootstrapSwitch", function(t) {
return t.preventDefault(), t.stopPropagation(), e.state(!0), e.$element.trigger("focus.bootstrapSwitch");
});
}
}, {
key: "_labelHandlers",
value: function() {
var e = this, t = {
click: function(e) {
e.stopPropagation();
},
"mousedown.bootstrapSwitch touchstart.bootstrapSwitch": function(t) {
e._dragStart || e.options.disabled || e.options.readonly || (t.preventDefault(), t.stopPropagation(), e._dragStart = (t.pageX || t.originalEvent.touches[0].pageX) - parseInt(e.$container.css("margin-left"), 10), e.options.animate && e.$wrapper.removeClass(e._getClass("animate")), e.$element.trigger("focus.bootstrapSwitch"));
},
"mousemove.bootstrapSwitch touchmove.bootstrapSwitch": function(t) {
if (null != e._dragStart) {
var n = (t.pageX || t.originalEvent.touches[0].pageX) - e._dragStart;
t.preventDefault(), n < -e._handleWidth || n > 0 || (e._dragEnd = n, e.$container.css("margin-left", e._dragEnd + "px"));
}
},
"mouseup.bootstrapSwitch touchend.bootstrapSwitch": function(t) {
if (e._dragStart) {
if (t.preventDefault(), e.options.animate && e.$wrapper.addClass(e._getClass("animate")), e._dragEnd) {
var n = e._dragEnd > -e._handleWidth / 2;
e._dragEnd = !1, e.state(e.options.inverse ? !n : n);
} else e.state(!e.options.state);
e._dragStart = !1;
}
},
"mouseleave.bootstrapSwitch": function() {
e.$label.trigger("mouseup.bootstrapSwitch");
}
};
this.$label.on(t);
}
}, {
key: "_externalLabelHandler",
value: function() {
var e = this, t = this.$element.closest("label");
t.on("click", function(n) {
n.preventDefault(), n.stopImmediatePropagation(), n.target === t[0] && e.toggleState();
});
}
}, {
key: "_formHandler",
value: function() {
var n = this.$element.closest("form");
n.data("bootstrap-switch") || n.on("reset.bootstrapSwitch", function() {
t.setTimeout(function() {
n.find("input").filter(function() {
return e(this).data("bootstrap-switch");
}).each(function() {
return e(this).bootstrapSwitch("state", this.checked);
});
}, 1);
}).data("bootstrap-switch", !0);
}
}, {
key: "_getClass",
value: function(e) {
return this.options.baseClass + "-" + e;
}
}, {
key: "_getClasses",
value: function(t) {
return e.isArray(t) ? t.map(this._getClass.bind(this)) : [ this._getClass(t) ];
}
} ]), n;
}();
e.fn.bootstrapSwitch = function(t) {
for (var i = arguments.length, r = Array(i > 1 ? i - 1 : 0), o = 1; o < i; o++) r[o - 1] = arguments[o];
var a = this;
return this.each(function() {
var i = e(this), o = i.data("bootstrap-switch");
o || (o = new n(this, t), i.data("bootstrap-switch", o)), "string" == typeof t && (a = o[t].apply(o, r));
}), a;
}, e.fn.bootstrapSwitch.Constructor = n, e.fn.bootstrapSwitch.defaults = {
state: !0,
size: null,
animate: !0,
disabled: !1,
readonly: !1,
indeterminate: !1,
inverse: !1,
radioAllOff: !1,
onColor: "primary",
offColor: "default",
onText: "ON",
offText: "OFF",
labelText: "&nbsp",
handleWidth: "auto",
labelWidth: "auto",
baseClass: "bootstrap-switch",
wrapperClass: "wrapper",
onInit: function() {},
onSwitchChange: function() {}
};
}(window.jQuery, window), function(e) {
"use strict";
function t(e, t) {
return e + ".touchspin_" + t;
}
function n(n, i) {
return e.map(n, function(e) {
return t(e, i);
});
}
var i = 0;
e.fn.TouchSpin = function(t) {
if ("destroy" !== t) {
var r = {
min: 0,
max: 100,
initval: "",
replacementval: "",
step: 1,
decimals: 0,
stepinterval: 100,
forcestepdivisibility: "round",
stepintervaldelay: 500,
verticalbuttons: !1,
verticalupclass: "glyphicon glyphicon-chevron-up",
verticaldownclass: "glyphicon glyphicon-chevron-down",
prefix: "",
postfix: "",
prefix_extraclass: "",
postfix_extraclass: "",
booster: !0,
boostat: 10,
maxboostedstep: !1,
mousewheel: !0,
buttondown_class: "btn btn-default",
buttonup_class: "btn btn-default",
buttondown_txt: "-",
buttonup_txt: "+"
}, o = {
min: "min",
max: "max",
initval: "init-val",
replacementval: "replacement-val",
step: "step",
decimals: "decimals",
stepinterval: "step-interval",
verticalbuttons: "vertical-buttons",
verticalupclass: "vertical-up-class",
verticaldownclass: "vertical-down-class",
forcestepdivisibility: "force-step-divisibility",
stepintervaldelay: "step-interval-delay",
prefix: "prefix",
postfix: "postfix",
prefix_extraclass: "prefix-extra-class",
postfix_extraclass: "postfix-extra-class",
booster: "booster",
boostat: "boostat",
maxboostedstep: "max-boosted-step",
mousewheel: "mouse-wheel",
buttondown_class: "button-down-class",
buttonup_class: "button-up-class",
buttondown_txt: "button-down-txt",
buttonup_txt: "button-up-txt"
};
return this.each(function() {
function a() {
"" !== A.initval && "" === L.val() && L.val(A.initval);
}
function s(e) {
u(e), b();
var t = E.input.val();
"" !== t && (t = Number(E.input.val()), E.input.val(t.toFixed(A.decimals)));
}
function l() {
A = e.extend({}, r, P, c(), t);
}
function c() {
var t = {};
return e.each(o, function(e, n) {
var i = "bts-" + n;
L.is("[data-" + i + "]") && (t[e] = L.data(i));
}), t;
}
function u(t) {
A = e.extend({}, A, t), t.postfix && L.parent().find(".bootstrap-touchspin-postfix").text(t.postfix), t.prefix && L.parent().find(".bootstrap-touchspin-prefix").text(t.prefix);
}
function d() {
var e = L.val(), t = L.parent();
"" !== e && (e = Number(e).toFixed(A.decimals)), L.data("initvalue", e).val(e), L.addClass("form-control"), t.hasClass("input-group") ? h(t) : p();
}
function h(t) {
t.addClass("bootstrap-touchspin");
var n, i, r = L.prev(), o = L.next(), a = '<span class="input-group-addon bootstrap-touchspin-prefix">' + A.prefix + "</span>", s = '<span class="input-group-addon bootstrap-touchspin-postfix">' + A.postfix + "</span>";
r.hasClass("input-group-btn") ? (n = '<button class="' + A.buttondown_class + ' bootstrap-touchspin-down" type="button">' + A.buttondown_txt + "</button>", r.append(n)) : (n = '<span class="input-group-btn"><button class="' + A.buttondown_class + ' bootstrap-touchspin-down" type="button">' + A.buttondown_txt + "</button></span>", e(n).insertBefore(L)), o.hasClass("input-group-btn") ? (i = '<button class="' + A.buttonup_class + ' bootstrap-touchspin-up" type="button">' + A.buttonup_txt + "</button>", o.prepend(i)) : (i = '<span class="input-group-btn"><button class="' + A.buttonup_class + ' bootstrap-touchspin-up" type="button">' + A.buttonup_txt + "</button></span>", e(i).insertAfter(L)), e(a).insertBefore(L), e(s).insertAfter(L), k = t;
}
function p() {
var t;
t = A.verticalbuttons ? '<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">' + A.prefix + '</span><span class="input-group-addon bootstrap-touchspin-postfix">' + A.postfix + '</span><span class="input-group-btn-vertical"><button class="' + A.buttondown_class + ' bootstrap-touchspin-up" type="button"><i class="' + A.verticalupclass + '"></i></button><button class="' + A.buttonup_class + ' bootstrap-touchspin-down" type="button"><i class="' + A.verticaldownclass + '"></i></button></span></div>' : '<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="' + A.buttondown_class + ' bootstrap-touchspin-down" type="button">' + A.buttondown_txt + '</button></span><span class="input-group-addon bootstrap-touchspin-prefix">' + A.prefix + '</span><span class="input-group-addon bootstrap-touchspin-postfix">' + A.postfix + '</span><span class="input-group-btn"><button class="' + A.buttonup_class + ' bootstrap-touchspin-up" type="button">' + A.buttonup_txt + "</button></span></div>", 
k = e(t).insertBefore(L), e(".bootstrap-touchspin-prefix", k).after(L), L.hasClass("input-sm") ? k.addClass("input-group-sm") : L.hasClass("input-lg") && k.addClass("input-group-lg");
}
function f() {
E = {
down: e(".bootstrap-touchspin-down", k),
up: e(".bootstrap-touchspin-up", k),
input: e("input", k),
prefix: e(".bootstrap-touchspin-prefix", k).addClass(A.prefix_extraclass),
postfix: e(".bootstrap-touchspin-postfix", k).addClass(A.postfix_extraclass)
};
}
function g() {
"" === A.prefix && E.prefix.hide(), "" === A.postfix && E.postfix.hide();
}
function m() {
L.on("keydown", function(e) {
var t = e.keyCode || e.which;
38 === t ? ("up" !== R && (x(), S()), e.preventDefault()) : 40 === t && ("down" !== R && (C(), _()), e.preventDefault());
}), L.on("keyup", function(e) {
var t = e.keyCode || e.which;
38 === t ? $() : 40 === t && $();
}), L.on("blur", function() {
b();
}), E.down.on("keydown", function(e) {
var t = e.keyCode || e.which;
32 !== t && 13 !== t || ("down" !== R && (C(), _()), e.preventDefault());
}), E.down.on("keyup", function(e) {
var t = e.keyCode || e.which;
32 !== t && 13 !== t || $();
}), E.up.on("keydown", function(e) {
var t = e.keyCode || e.which;
32 !== t && 13 !== t || ("up" !== R && (x(), S()), e.preventDefault());
}), E.up.on("keyup", function(e) {
var t = e.keyCode || e.which;
32 !== t && 13 !== t || $();
}), E.down.on("mousedown.touchspin", function(e) {
E.down.off("touchstart.touchspin"), L.is(":disabled") || (C(), _(), e.preventDefault(), e.stopPropagation());
}), E.down.on("touchstart.touchspin", function(e) {
E.down.off("mousedown.touchspin"), L.is(":disabled") || (C(), _(), e.preventDefault(), e.stopPropagation());
}), E.up.on("mousedown.touchspin", function(e) {
E.up.off("touchstart.touchspin"), L.is(":disabled") || (x(), S(), e.preventDefault(), e.stopPropagation());
}), E.up.on("touchstart.touchspin", function(e) {
E.up.off("mousedown.touchspin"), L.is(":disabled") || (x(), S(), e.preventDefault(), e.stopPropagation());
}), E.up.on("mouseout touchleave touchend touchcancel", function(e) {
R && (e.stopPropagation(), $());
}), E.down.on("mouseout touchleave touchend touchcancel", function(e) {
R && (e.stopPropagation(), $());
}), E.down.on("mousemove touchmove", function(e) {
R && (e.stopPropagation(), e.preventDefault());
}), E.up.on("mousemove touchmove", function(e) {
R && (e.stopPropagation(), e.preventDefault());
}), e(document).on(n([ "mouseup", "touchend", "touchcancel" ], i).join(" "), function(e) {
R && (e.preventDefault(), $());
}), e(document).on(n([ "mousemove", "touchmove", "scroll", "scrollstart" ], i).join(" "), function(e) {
R && (e.preventDefault(), $());
}), L.on("mousewheel DOMMouseScroll", function(e) {
if (A.mousewheel && L.is(":focus")) {
var t = e.originalEvent.wheelDelta || -e.originalEvent.deltaY || -e.originalEvent.detail;
e.stopPropagation(), e.preventDefault(), t < 0 ? C() : x();
}
});
}
function v() {
L.on("touchspin.uponce", function() {
$(), x();
}), L.on("touchspin.downonce", function() {
$(), C();
}), L.on("touchspin.startupspin", function() {
S();
}), L.on("touchspin.startdownspin", function() {
_();
}), L.on("touchspin.stopspin", function() {
$();
}), L.on("touchspin.updatesettings", function(e, t) {
s(t);
});
}
function y(e) {
switch (A.forcestepdivisibility) {
case "round":
return (Math.round(e / A.step) * A.step).toFixed(A.decimals);

case "floor":
return (Math.floor(e / A.step) * A.step).toFixed(A.decimals);

case "ceil":
return (Math.ceil(e / A.step) * A.step).toFixed(A.decimals);

default:
return e;
}
}
function b() {
var e, t, n;
"" !== (e = L.val()) ? A.decimals > 0 && "." === e || (t = parseFloat(e), isNaN(t) && (t = "" !== A.replacementval ? A.replacementval : 0), n = t, t.toString() !== e && (n = t), t < A.min && (n = A.min), t > A.max && (n = A.max), n = y(n), Number(e).toString() !== n.toString() && (L.val(n), L.trigger("change"))) : "" !== A.replacementval && (L.val(A.replacementval), L.trigger("change"));
}
function w() {
if (A.booster) {
var e = Math.pow(2, Math.floor(O / A.boostat)) * A.step;
return A.maxboostedstep && e > A.maxboostedstep && (e = A.maxboostedstep, T = Math.round(T / e) * e), Math.max(A.step, e);
}
return A.step;
}
function x() {
b(), T = parseFloat(E.input.val()), isNaN(T) && (T = 0);
var e = T, t = w();
(T += t) > A.max && (T = A.max, L.trigger("touchspin.on.max"), $()), E.input.val(Number(T).toFixed(A.decimals)), e !== T && L.trigger("change");
}
function C() {
b(), T = parseFloat(E.input.val()), isNaN(T) && (T = 0);
var e = T, t = w();
(T -= t) < A.min && (T = A.min, L.trigger("touchspin.on.min"), $()), E.input.val(T.toFixed(A.decimals)), e !== T && L.trigger("change");
}
function _() {
$(), O = 0, R = "down", L.trigger("touchspin.on.startspin"), L.trigger("touchspin.on.startdownspin"), M = setTimeout(function() {
D = setInterval(function() {
O++, C();
}, A.stepinterval);
}, A.stepintervaldelay);
}
function S() {
$(), O = 0, R = "up", L.trigger("touchspin.on.startspin"), L.trigger("touchspin.on.startupspin"), I = setTimeout(function() {
F = setInterval(function() {
O++, x();
}, A.stepinterval);
}, A.stepintervaldelay);
}
function $() {
switch (clearTimeout(M), clearTimeout(I), clearInterval(D), clearInterval(F), R) {
case "up":
L.trigger("touchspin.on.stopupspin"), L.trigger("touchspin.on.stopspin");
break;

case "down":
L.trigger("touchspin.on.stopdownspin"), L.trigger("touchspin.on.stopspin");
}
O = 0, R = !1;
}
var A, k, E, T, D, F, M, I, L = e(this), P = L.data(), O = 0, R = !1;
L.data("alreadyinitialized") || (L.data("alreadyinitialized", !0), i += 1, L.data("spinnerid", i), L.is("input") ? (l(), a(), b(), d(), f(), g(), m(), v(), E.input.css("display", "block")) : console.log("Must be an input."));
});
}
this.each(function() {
var t = e(this).data();
e(document).off(n([ "mouseup", "touchend", "touchcancel", "mousemove", "touchmove", "scroll", "scrollstart" ], t.spinnerid).join(" "));
});
};
}(jQuery), function() {
function e(e) {
return e && (e.ownerDocument || e.document || e).documentElement;
}
function t(e) {
return e && (e.ownerDocument && e.ownerDocument.defaultView || e.document && e || e.defaultView);
}
function n(e, t) {
return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN;
}
function i(e) {
return null === e ? NaN : +e;
}
function r(e) {
return !isNaN(e);
}
function o(e) {
return {
left: function(t, n, i, r) {
for (arguments.length < 3 && (i = 0), arguments.length < 4 && (r = t.length); i < r; ) {
var o = i + r >>> 1;
e(t[o], n) < 0 ? i = o + 1 : r = o;
}
return i;
},
right: function(t, n, i, r) {
for (arguments.length < 3 && (i = 0), arguments.length < 4 && (r = t.length); i < r; ) {
var o = i + r >>> 1;
e(t[o], n) > 0 ? r = o : i = o + 1;
}
return i;
}
};
}
function a(e) {
return e.length;
}
function s(e) {
for (var t = 1; e * t % 1; ) t *= 10;
return t;
}
function l(e, t) {
for (var n in t) Object.defineProperty(e.prototype, n, {
value: t[n],
enumerable: !1
});
}
function c() {
this._ = Object.create(null);
}
function u(e) {
return (e += "") === Zo || e[0] === ea ? ea + e : e;
}
function d(e) {
return (e += "")[0] === ea ? e.slice(1) : e;
}
function h(e) {
return u(e) in this._;
}
function p(e) {
return (e = u(e)) in this._ && delete this._[e];
}
function f() {
var e = [];
for (var t in this._) e.push(d(t));
return e;
}
function g() {
var e = 0;
for (var t in this._) ++e;
return e;
}
function m() {
for (var e in this._) return !1;
return !0;
}
function v() {
this._ = Object.create(null);
}
function y(e) {
return e;
}
function b(e, t, n) {
return function() {
var i = n.apply(t, arguments);
return i === t ? e : i;
};
}
function w(e, t) {
if (t in e) return t;
t = t.charAt(0).toUpperCase() + t.slice(1);
for (var n = 0, i = ta.length; n < i; ++n) {
var r = ta[n] + t;
if (r in e) return r;
}
}
function x() {}
function C() {}
function _(e) {
function t() {
for (var t, i = n, r = -1, o = i.length; ++r < o; ) (t = i[r].on) && t.apply(this, arguments);
return e;
}
var n = [], i = new c();
return t.on = function(t, r) {
var o, a = i.get(t);
return arguments.length < 2 ? a && a.on : (a && (a.on = null, n = n.slice(0, o = n.indexOf(a)).concat(n.slice(o + 1)), i.remove(t)), r && n.push(i.set(t, {
on: r
})), e);
}, t;
}
function S() {
Vo.event.preventDefault();
}
function $() {
for (var e, t = Vo.event; e = t.sourceEvent; ) t = e;
return t;
}
function A(e) {
for (var t = new C(), n = 0, i = arguments.length; ++n < i; ) t[arguments[n]] = _(t);
return t.of = function(n, i) {
return function(r) {
try {
var o = r.sourceEvent = Vo.event;
r.target = e, Vo.event = r, t[r.type].apply(n, i);
} finally {
Vo.event = o;
}
};
}, t;
}
function k(e) {
return ia(e, sa), e;
}
function E(e) {
return "function" == typeof e ? e : function() {
return ra(e, this);
};
}
function T(e) {
return "function" == typeof e ? e : function() {
return oa(e, this);
};
}
function D(e, t) {
return e = Vo.ns.qualify(e), null == t ? e.local ? function() {
this.removeAttributeNS(e.space, e.local);
} : function() {
this.removeAttribute(e);
} : "function" == typeof t ? e.local ? function() {
var n = t.apply(this, arguments);
null == n ? this.removeAttributeNS(e.space, e.local) : this.setAttributeNS(e.space, e.local, n);
} : function() {
var n = t.apply(this, arguments);
null == n ? this.removeAttribute(e) : this.setAttribute(e, n);
} : e.local ? function() {
this.setAttributeNS(e.space, e.local, t);
} : function() {
this.setAttribute(e, t);
};
}
function F(e) {
return e.trim().replace(/\s+/g, " ");
}
function M(e) {
return new RegExp("(?:^|\\s+)" + Vo.requote(e) + "(?:\\s+|$)", "g");
}
function I(e) {
return (e + "").trim().split(/^|\s+/);
}
function L(e, t) {
var n = (e = I(e).map(P)).length;
return "function" == typeof t ? function() {
for (var i = -1, r = t.apply(this, arguments); ++i < n; ) e[i](this, r);
} : function() {
for (var i = -1; ++i < n; ) e[i](this, t);
};
}
function P(e) {
var t = M(e);
return function(n, i) {
if (r = n.classList) return i ? r.add(e) : r.remove(e);
var r = n.getAttribute("class") || "";
i ? (t.lastIndex = 0, t.test(r) || n.setAttribute("class", F(r + " " + e))) : n.setAttribute("class", F(r.replace(t, " ")));
};
}
function O(e, t, n) {
return null == t ? function() {
this.style.removeProperty(e);
} : "function" == typeof t ? function() {
var i = t.apply(this, arguments);
null == i ? this.style.removeProperty(e) : this.style.setProperty(e, i, n);
} : function() {
this.style.setProperty(e, t, n);
};
}
function R(e, t) {
return null == t ? function() {
delete this[e];
} : "function" == typeof t ? function() {
var n = t.apply(this, arguments);
null == n ? delete this[e] : this[e] = n;
} : function() {
this[e] = t;
};
}
function B(e) {
return "function" == typeof e ? e : (e = Vo.ns.qualify(e)).local ? function() {
return this.ownerDocument.createElementNS(e.space, e.local);
} : function() {
var t = this.ownerDocument, n = this.namespaceURI;
return n === la && t.documentElement.namespaceURI === la ? t.createElement(e) : t.createElementNS(n, e);
};
}
function N() {
var e = this.parentNode;
e && e.removeChild(this);
}
function j(e) {
return {
__data__: e
};
}
function U(e) {
return function() {
return aa(this, e);
};
}
function V(e) {
return arguments.length || (e = n), function(t, n) {
return t && n ? e(t.__data__, n.__data__) : !t - !n;
};
}
function H(e, t) {
for (var n = 0, i = e.length; n < i; n++) for (var r, o = e[n], a = 0, s = o.length; a < s; a++) (r = o[a]) && t(r, a, n);
return e;
}
function z(e) {
return ia(e, ua), e;
}
function W(e) {
var t, n;
return function(i, r, o) {
var a, s = e[o].update, l = s.length;
for (o != n && (n = o, t = 0), r >= t && (t = r + 1); !(a = s[t]) && ++t < l; ) ;
return a;
};
}
function G(e, t, n) {
function i() {
var t = this[r];
t && (this.removeEventListener(e, t, t.$), delete this[r]);
}
var r = "__on" + e, o = e.indexOf("."), a = q;
o > 0 && (e = e.slice(0, o));
var s = da.get(e);
return s && (e = s, a = Y), o ? t ? function() {
var o = a(t, zo(arguments));
i.call(this), this.addEventListener(e, this[r] = o, o.$ = n), o._ = t;
} : i : t ? x : function() {
var t, n = new RegExp("^__on([^.]+)" + Vo.requote(e) + "$");
for (var i in this) if (t = i.match(n)) {
var r = this[i];
this.removeEventListener(t[1], r, r.$), delete this[i];
}
};
}
function q(e, t) {
return function(n) {
var i = Vo.event;
Vo.event = n, t[0] = this.__data__;
try {
e.apply(this, t);
} finally {
Vo.event = i;
}
};
}
function Y(e, t) {
var n = q(e, t);
return function(e) {
var t = this, i = e.relatedTarget;
i && (i === t || 8 & i.compareDocumentPosition(t)) || n.call(t, e);
};
}
function K(n) {
var i = ".dragsuppress-" + ++pa, r = "click" + i, o = Vo.select(t(n)).on("touchmove" + i, S).on("dragstart" + i, S).on("selectstart" + i, S);
if (null == ha && (ha = !("onselectstart" in n) && w(n.style, "userSelect")), ha) {
var a = e(n).style, s = a[ha];
a[ha] = "none";
}
return function(e) {
if (o.on(i, null), ha && (a[ha] = s), e) {
var t = function() {
o.on(r, null);
};
o.on(r, function() {
S(), t();
}, !0), setTimeout(t, 0);
}
};
}
function X(e, n) {
n.changedTouches && (n = n.changedTouches[0]);
var i = e.ownerSVGElement || e;
if (i.createSVGPoint) {
var r = i.createSVGPoint();
if (fa < 0) {
var o = t(e);
if (o.scrollX || o.scrollY) {
var a = (i = Vo.select("body").append("svg").style({
position: "absolute",
top: 0,
left: 0,
margin: 0,
padding: 0,
border: "none"
}, "important"))[0][0].getScreenCTM();
fa = !(a.f || a.e), i.remove();
}
}
return fa ? (r.x = n.pageX, r.y = n.pageY) : (r.x = n.clientX, r.y = n.clientY), r = r.matrixTransform(e.getScreenCTM().inverse()), [ r.x, r.y ];
}
var s = e.getBoundingClientRect();
return [ n.clientX - s.left - e.clientLeft, n.clientY - s.top - e.clientTop ];
}
function Q() {
return Vo.event.changedTouches[0].identifier;
}
function J(e) {
return e > 0 ? 1 : e < 0 ? -1 : 0;
}
function Z(e, t, n) {
return (t[0] - e[0]) * (n[1] - e[1]) - (t[1] - e[1]) * (n[0] - e[0]);
}
function ee(e) {
return e > 1 ? 0 : e < -1 ? va : Math.acos(e);
}
function te(e) {
return e > 1 ? wa : e < -1 ? -wa : Math.asin(e);
}
function ne(e) {
return ((e = Math.exp(e)) - 1 / e) / 2;
}
function ie(e) {
return ((e = Math.exp(e)) + 1 / e) / 2;
}
function re(e) {
return ((e = Math.exp(2 * e)) - 1) / (e + 1);
}
function oe(e) {
return (e = Math.sin(e / 2)) * e;
}
function ae() {}
function se(e, t, n) {
return this instanceof se ? (this.h = +e, this.s = +t, void (this.l = +n)) : arguments.length < 2 ? e instanceof se ? new se(e.h, e.s, e.l) : xe("" + e, Ce, se) : new se(e, t, n);
}
function le(e, t, n) {
function i(e) {
return e > 360 ? e -= 360 : e < 0 && (e += 360), e < 60 ? o + (a - o) * e / 60 : e < 180 ? a : e < 240 ? o + (a - o) * (240 - e) / 60 : o;
}
function r(e) {
return Math.round(255 * i(e));
}
var o, a;
return e = isNaN(e) ? 0 : (e %= 360) < 0 ? e + 360 : e, t = isNaN(t) ? 0 : t < 0 ? 0 : t > 1 ? 1 : t, n = n < 0 ? 0 : n > 1 ? 1 : n, a = n <= .5 ? n * (1 + t) : n + t - n * t, o = 2 * n - a, new ve(r(e + 120), r(e), r(e - 120));
}
function ce(e, t, n) {
return this instanceof ce ? (this.h = +e, this.c = +t, void (this.l = +n)) : arguments.length < 2 ? e instanceof ce ? new ce(e.h, e.c, e.l) : e instanceof de ? pe(e.l, e.a, e.b) : pe((e = _e((e = Vo.rgb(e)).r, e.g, e.b)).l, e.a, e.b) : new ce(e, t, n);
}
function ue(e, t, n) {
return isNaN(e) && (e = 0), isNaN(t) && (t = 0), new de(n, Math.cos(e *= xa) * t, Math.sin(e) * t);
}
function de(e, t, n) {
return this instanceof de ? (this.l = +e, this.a = +t, void (this.b = +n)) : arguments.length < 2 ? e instanceof de ? new de(e.l, e.a, e.b) : e instanceof ce ? ue(e.h, e.c, e.l) : _e((e = ve(e)).r, e.g, e.b) : new de(e, t, n);
}
function he(e, t, n) {
var i = (e + 16) / 116, r = i + t / 500, o = i - n / 200;
return r = fe(r) * Da, i = fe(i) * Fa, o = fe(o) * Ma, new ve(me(3.2404542 * r - 1.5371385 * i - .4985314 * o), me(-.969266 * r + 1.8760108 * i + .041556 * o), me(.0556434 * r - .2040259 * i + 1.0572252 * o));
}
function pe(e, t, n) {
return e > 0 ? new ce(Math.atan2(n, t) * Ca, Math.sqrt(t * t + n * n), e) : new ce(NaN, NaN, e);
}
function fe(e) {
return e > .206893034 ? e * e * e : (e - 4 / 29) / 7.787037;
}
function ge(e) {
return e > .008856 ? Math.pow(e, 1 / 3) : 7.787037 * e + 4 / 29;
}
function me(e) {
return Math.round(255 * (e <= .00304 ? 12.92 * e : 1.055 * Math.pow(e, 1 / 2.4) - .055));
}
function ve(e, t, n) {
return this instanceof ve ? (this.r = ~~e, this.g = ~~t, void (this.b = ~~n)) : arguments.length < 2 ? e instanceof ve ? new ve(e.r, e.g, e.b) : xe("" + e, ve, le) : new ve(e, t, n);
}
function ye(e) {
return new ve(e >> 16, e >> 8 & 255, 255 & e);
}
function be(e) {
return ye(e) + "";
}
function we(e) {
return e < 16 ? "0" + Math.max(0, e).toString(16) : Math.min(255, e).toString(16);
}
function xe(e, t, n) {
var i, r, o, a = 0, s = 0, l = 0;
if (i = /([a-z]+)\((.*)\)/.exec(e = e.toLowerCase())) switch (r = i[2].split(","), i[1]) {
case "hsl":
return n(parseFloat(r[0]), parseFloat(r[1]) / 100, parseFloat(r[2]) / 100);

case "rgb":
return t($e(r[0]), $e(r[1]), $e(r[2]));
}
return (o = Pa.get(e)) ? t(o.r, o.g, o.b) : (null == e || "#" !== e.charAt(0) || isNaN(o = parseInt(e.slice(1), 16)) || (4 === e.length ? (a = (3840 & o) >> 4, a |= a >> 4, s = 240 & o, s |= s >> 4, l = 15 & o, l |= l << 4) : 7 === e.length && (a = (16711680 & o) >> 16, s = (65280 & o) >> 8, l = 255 & o)), t(a, s, l));
}
function Ce(e, t, n) {
var i, r, o = Math.min(e /= 255, t /= 255, n /= 255), a = Math.max(e, t, n), s = a - o, l = (a + o) / 2;
return s ? (r = l < .5 ? s / (a + o) : s / (2 - a - o), i = e == a ? (t - n) / s + (t < n ? 6 : 0) : t == a ? (n - e) / s + 2 : (e - t) / s + 4, i *= 60) : (i = NaN, r = l > 0 && l < 1 ? 0 : i), new se(i, r, l);
}
function _e(e, t, n) {
var i = ge((.4124564 * (e = Se(e)) + .3575761 * (t = Se(t)) + .1804375 * (n = Se(n))) / Da), r = ge((.2126729 * e + .7151522 * t + .072175 * n) / Fa);
return de(116 * r - 16, 500 * (i - r), 200 * (r - ge((.0193339 * e + .119192 * t + .9503041 * n) / Ma)));
}
function Se(e) {
return (e /= 255) <= .04045 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4);
}
function $e(e) {
var t = parseFloat(e);
return "%" === e.charAt(e.length - 1) ? Math.round(2.55 * t) : t;
}
function Ae(e) {
return "function" == typeof e ? e : function() {
return e;
};
}
function ke(e) {
return function(t, n, i) {
return 2 === arguments.length && "function" == typeof n && (i = n, n = null), Ee(t, n, e, i);
};
}
function Ee(e, t, n, i) {
function r() {
var e, t = l.status;
if (!t && De(l) || t >= 200 && t < 300 || 304 === t) {
try {
e = n.call(o, l);
} catch (e) {
return void a.error.call(o, e);
}
a.load.call(o, e);
} else a.error.call(o, l);
}
var o = {}, a = Vo.dispatch("beforesend", "progress", "load", "error"), s = {}, l = new XMLHttpRequest(), c = null;
return !this.XDomainRequest || "withCredentials" in l || !/^(http(s)?:)?\/\//.test(e) || (l = new XDomainRequest()), "onload" in l ? l.onload = l.onerror = r : l.onreadystatechange = function() {
l.readyState > 3 && r();
}, l.onprogress = function(e) {
var t = Vo.event;
Vo.event = e;
try {
a.progress.call(o, l);
} finally {
Vo.event = t;
}
}, o.header = function(e, t) {
return e = (e + "").toLowerCase(), arguments.length < 2 ? s[e] : (null == t ? delete s[e] : s[e] = t + "", o);
}, o.mimeType = function(e) {
return arguments.length ? (t = null == e ? null : e + "", o) : t;
}, o.responseType = function(e) {
return arguments.length ? (c = e, o) : c;
}, o.response = function(e) {
return n = e, o;
}, [ "get", "post" ].forEach(function(e) {
o[e] = function() {
return o.send.apply(o, [ e ].concat(zo(arguments)));
};
}), o.send = function(n, i, r) {
if (2 === arguments.length && "function" == typeof i && (r = i, i = null), l.open(n, e, !0), null == t || "accept" in s || (s.accept = t + ",*/*"), l.setRequestHeader) for (var u in s) l.setRequestHeader(u, s[u]);
return null != t && l.overrideMimeType && l.overrideMimeType(t), null != c && (l.responseType = c), null != r && o.on("error", r).on("load", function(e) {
r(null, e);
}), a.beforesend.call(o, l), l.send(null == i ? null : i), o;
}, o.abort = function() {
return l.abort(), o;
}, Vo.rebind(o, a, "on"), null == i ? o : o.get(Te(i));
}
function Te(e) {
return 1 === e.length ? function(t, n) {
e(null == t ? n : null);
} : e;
}
function De(e) {
var t = e.responseType;
return t && "text" !== t ? e.response : e.responseText;
}
function Fe(e, t, n) {
var i = arguments.length;
i < 2 && (t = 0), i < 3 && (n = Date.now());
var r = {
c: e,
t: n + t,
n: null
};
return Ra ? Ra.n = r : Oa = r, Ra = r, Ba || (Na = clearTimeout(Na), Ba = 1, ja(Me)), r;
}
function Me() {
var e = Ie(), t = Le() - e;
t > 24 ? (isFinite(t) && (clearTimeout(Na), Na = setTimeout(Me, t)), Ba = 0) : (Ba = 1, ja(Me));
}
function Ie() {
for (var e = Date.now(), t = Oa; t; ) e >= t.t && t.c(e - t.t) && (t.c = null), t = t.n;
return e;
}
function Le() {
for (var e, t = Oa, n = 1 / 0; t; ) t.c ? (t.t < n && (n = t.t), t = (e = t).n) : t = e ? e.n = t.n : Oa = t.n;
return Ra = e, n;
}
function Pe(e, t) {
return t - (e ? Math.ceil(Math.log(e) / Math.LN10) : 1);
}
function Oe(e) {
var t = e.decimal, n = e.thousands, i = e.grouping, r = e.currency, o = i && n ? function(e, t) {
for (var r = e.length, o = [], a = 0, s = i[0], l = 0; r > 0 && s > 0 && (l + s + 1 > t && (s = Math.max(1, t - l)), o.push(e.substring(r -= s, r + s)), !((l += s + 1) > t)); ) s = i[a = (a + 1) % i.length];
return o.reverse().join(n);
} : y;
return function(e) {
var n = Va.exec(e), i = n[1] || " ", a = n[2] || ">", s = n[3] || "-", l = n[4] || "", c = n[5], u = +n[6], d = n[7], h = n[8], p = n[9], f = 1, g = "", m = "", v = !1, y = !0;
switch (h && (h = +h.substring(1)), (c || "0" === i && "=" === a) && (c = i = "0", a = "="), p) {
case "n":
d = !0, p = "g";
break;

case "%":
f = 100, m = "%", p = "f";
break;

case "p":
f = 100, m = "%", p = "r";
break;

case "b":
case "o":
case "x":
case "X":
"#" === l && (g = "0" + p.toLowerCase());

case "c":
y = !1;

case "d":
v = !0, h = 0;
break;

case "s":
f = -1, p = "r";
}
"$" === l && (g = r[0], m = r[1]), "r" != p || h || (p = "g"), null != h && ("g" == p ? h = Math.max(1, Math.min(21, h)) : "e" != p && "f" != p || (h = Math.max(0, Math.min(20, h)))), p = Ha.get(p) || Re;
var b = c && d;
return function(e) {
var n = m;
if (v && e % 1) return "";
var r = e < 0 || 0 === e && 1 / e < 0 ? (e = -e, "-") : "-" === s ? "" : s;
if (f < 0) {
var l = Vo.formatPrefix(e, h);
e = l.scale(e), n = l.symbol + m;
} else e *= f;
var w, x, C = (e = p(e, h)).lastIndexOf(".");
if (C < 0) {
var _ = y ? e.lastIndexOf("e") : -1;
_ < 0 ? (w = e, x = "") : (w = e.substring(0, _), x = e.substring(_));
} else w = e.substring(0, C), x = t + e.substring(C + 1);
!c && d && (w = o(w, 1 / 0));
var S = g.length + w.length + x.length + (b ? 0 : r.length), $ = S < u ? new Array(S = u - S + 1).join(i) : "";
return b && (w = o($ + w, $.length ? u - x.length : 1 / 0)), r += g, e = w + x, ("<" === a ? r + e + $ : ">" === a ? $ + r + e : "^" === a ? $.substring(0, S >>= 1) + r + e + $.substring(S) : r + (b ? e : $ + e)) + n;
};
};
}
function Re(e) {
return e + "";
}
function Be() {
this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]);
}
function Ne(e, t, n) {
function i(t) {
var n = e(t), i = o(n, 1);
return t - n < i - t ? n : i;
}
function r(n) {
return t(n = e(new Wa(n - 1)), 1), n;
}
function o(e, n) {
return t(e = new Wa(+e), n), e;
}
function a(e, i, o) {
var a = r(e), s = [];
if (o > 1) for (;a < i; ) n(a) % o || s.push(new Date(+a)), t(a, 1); else for (;a < i; ) s.push(new Date(+a)), t(a, 1);
return s;
}
e.floor = e, e.round = i, e.ceil = r, e.offset = o, e.range = a;
var s = e.utc = je(e);
return s.floor = s, s.round = je(i), s.ceil = je(r), s.offset = je(o), s.range = function(e, t, n) {
try {
Wa = Be;
var i = new Be();
return i._ = e, a(i, t, n);
} finally {
Wa = Date;
}
}, e;
}
function je(e) {
return function(t, n) {
try {
Wa = Be;
var i = new Be();
return i._ = t, e(i, n)._;
} finally {
Wa = Date;
}
};
}
function Ue(e) {
function t(e) {
function t(t) {
for (var n, r, o, a = [], s = -1, l = 0; ++s < i; ) 37 === e.charCodeAt(s) && (a.push(e.slice(l, s)), null != (r = qa[n = e.charAt(++s)]) && (n = e.charAt(++s)), (o = w[n]) && (n = o(t, null == r ? "e" === n ? " " : "0" : r)), a.push(n), l = s + 1);
return a.push(e.slice(l, s)), a.join("");
}
var i = e.length;
return t.parse = function(t) {
var i = {
y: 1900,
m: 0,
d: 1,
H: 0,
M: 0,
S: 0,
L: 0,
Z: null
};
if (n(i, e, t, 0) != t.length) return null;
"p" in i && (i.H = i.H % 12 + 12 * i.p);
var r = null != i.Z && Wa !== Be, o = new (r ? Be : Wa)();
return "j" in i ? o.setFullYear(i.y, 0, i.j) : "W" in i || "U" in i ? ("w" in i || (i.w = "W" in i ? 1 : 0), o.setFullYear(i.y, 0, 1), o.setFullYear(i.y, 0, "W" in i ? (i.w + 6) % 7 + 7 * i.W - (o.getDay() + 5) % 7 : i.w + 7 * i.U - (o.getDay() + 6) % 7)) : o.setFullYear(i.y, i.m, i.d), o.setHours(i.H + (i.Z / 100 | 0), i.M + i.Z % 100, i.S, i.L), r ? o._ : o;
}, t.toString = function() {
return e;
}, t;
}
function n(e, t, n, i) {
for (var r, o, a, s = 0, l = t.length, c = n.length; s < l; ) {
if (i >= c) return -1;
if (37 === (r = t.charCodeAt(s++))) {
if (a = t.charAt(s++), !(o = x[a in qa ? t.charAt(s++) : a]) || (i = o(e, n, i)) < 0) return -1;
} else if (r != n.charCodeAt(i++)) return -1;
}
return i;
}
var i = e.dateTime, r = e.date, o = e.time, a = e.periods, s = e.days, l = e.shortDays, c = e.months, u = e.shortMonths;
t.utc = function(e) {
function n(e) {
try {
var t = new (Wa = Be)();
return t._ = e, i(t);
} finally {
Wa = Date;
}
}
var i = t(e);
return n.parse = function(e) {
try {
Wa = Be;
var t = i.parse(e);
return t && t._;
} finally {
Wa = Date;
}
}, n.toString = i.toString, n;
}, t.multi = t.utc.multi = st;
var d = Vo.map(), h = He(s), p = ze(s), f = He(l), g = ze(l), m = He(c), v = ze(c), y = He(u), b = ze(u);
a.forEach(function(e, t) {
d.set(e.toLowerCase(), t);
});
var w = {
a: function(e) {
return l[e.getDay()];
},
A: function(e) {
return s[e.getDay()];
},
b: function(e) {
return u[e.getMonth()];
},
B: function(e) {
return c[e.getMonth()];
},
c: t(i),
d: function(e, t) {
return Ve(e.getDate(), t, 2);
},
e: function(e, t) {
return Ve(e.getDate(), t, 2);
},
H: function(e, t) {
return Ve(e.getHours(), t, 2);
},
I: function(e, t) {
return Ve(e.getHours() % 12 || 12, t, 2);
},
j: function(e, t) {
return Ve(1 + za.dayOfYear(e), t, 3);
},
L: function(e, t) {
return Ve(e.getMilliseconds(), t, 3);
},
m: function(e, t) {
return Ve(e.getMonth() + 1, t, 2);
},
M: function(e, t) {
return Ve(e.getMinutes(), t, 2);
},
p: function(e) {
return a[+(e.getHours() >= 12)];
},
S: function(e, t) {
return Ve(e.getSeconds(), t, 2);
},
U: function(e, t) {
return Ve(za.sundayOfYear(e), t, 2);
},
w: function(e) {
return e.getDay();
},
W: function(e, t) {
return Ve(za.mondayOfYear(e), t, 2);
},
x: t(r),
X: t(o),
y: function(e, t) {
return Ve(e.getFullYear() % 100, t, 2);
},
Y: function(e, t) {
return Ve(e.getFullYear() % 1e4, t, 4);
},
Z: ot,
"%": function() {
return "%";
}
}, x = {
a: function(e, t, n) {
f.lastIndex = 0;
var i = f.exec(t.slice(n));
return i ? (e.w = g.get(i[0].toLowerCase()), n + i[0].length) : -1;
},
A: function(e, t, n) {
h.lastIndex = 0;
var i = h.exec(t.slice(n));
return i ? (e.w = p.get(i[0].toLowerCase()), n + i[0].length) : -1;
},
b: function(e, t, n) {
y.lastIndex = 0;
var i = y.exec(t.slice(n));
return i ? (e.m = b.get(i[0].toLowerCase()), n + i[0].length) : -1;
},
B: function(e, t, n) {
m.lastIndex = 0;
var i = m.exec(t.slice(n));
return i ? (e.m = v.get(i[0].toLowerCase()), n + i[0].length) : -1;
},
c: function(e, t, i) {
return n(e, w.c.toString(), t, i);
},
d: Ze,
e: Ze,
H: tt,
I: tt,
j: et,
L: rt,
m: Je,
M: nt,
p: function(e, t, n) {
var i = d.get(t.slice(n, n += 2).toLowerCase());
return null == i ? -1 : (e.p = i, n);
},
S: it,
U: Ge,
w: We,
W: qe,
x: function(e, t, i) {
return n(e, w.x.toString(), t, i);
},
X: function(e, t, i) {
return n(e, w.X.toString(), t, i);
},
y: Ke,
Y: Ye,
Z: Xe,
"%": at
};
return t;
}
function Ve(e, t, n) {
var i = e < 0 ? "-" : "", r = (i ? -e : e) + "", o = r.length;
return i + (o < n ? new Array(n - o + 1).join(t) + r : r);
}
function He(e) {
return new RegExp("^(?:" + e.map(Vo.requote).join("|") + ")", "i");
}
function ze(e) {
for (var t = new c(), n = -1, i = e.length; ++n < i; ) t.set(e[n].toLowerCase(), n);
return t;
}
function We(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 1));
return i ? (e.w = +i[0], n + i[0].length) : -1;
}
function Ge(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n));
return i ? (e.U = +i[0], n + i[0].length) : -1;
}
function qe(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n));
return i ? (e.W = +i[0], n + i[0].length) : -1;
}
function Ye(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 4));
return i ? (e.y = +i[0], n + i[0].length) : -1;
}
function Ke(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.y = Qe(+i[0]), n + i[0].length) : -1;
}
function Xe(e, t, n) {
return /^[+-]\d{4}$/.test(t = t.slice(n, n + 5)) ? (e.Z = -t, n + 5) : -1;
}
function Qe(e) {
return e + (e > 68 ? 1900 : 2e3);
}
function Je(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.m = i[0] - 1, n + i[0].length) : -1;
}
function Ze(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.d = +i[0], n + i[0].length) : -1;
}
function et(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 3));
return i ? (e.j = +i[0], n + i[0].length) : -1;
}
function tt(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.H = +i[0], n + i[0].length) : -1;
}
function nt(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.M = +i[0], n + i[0].length) : -1;
}
function it(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 2));
return i ? (e.S = +i[0], n + i[0].length) : -1;
}
function rt(e, t, n) {
Ya.lastIndex = 0;
var i = Ya.exec(t.slice(n, n + 3));
return i ? (e.L = +i[0], n + i[0].length) : -1;
}
function ot(e) {
var t = e.getTimezoneOffset(), n = t > 0 ? "-" : "+", i = Jo(t) / 60 | 0, r = Jo(t) % 60;
return n + Ve(i, "0", 2) + Ve(r, "0", 2);
}
function at(e, t, n) {
Ka.lastIndex = 0;
var i = Ka.exec(t.slice(n, n + 1));
return i ? n + i[0].length : -1;
}
function st(e) {
for (var t = e.length, n = -1; ++n < t; ) e[n][0] = this(e[n][0]);
return function(t) {
for (var n = 0, i = e[n]; !i[1](t); ) i = e[++n];
return i[0](t);
};
}
function lt() {}
function ct(e, t, n) {
var i = n.s = e + t, r = i - e, o = i - r;
n.t = e - o + (t - r);
}
function ut(e, t) {
e && Za.hasOwnProperty(e.type) && Za[e.type](e, t);
}
function dt(e, t, n) {
var i, r = -1, o = e.length - n;
for (t.lineStart(); ++r < o; ) i = e[r], t.point(i[0], i[1], i[2]);
t.lineEnd();
}
function ht(e, t) {
var n = -1, i = e.length;
for (t.polygonStart(); ++n < i; ) dt(e[n], t, 1);
t.polygonEnd();
}
function pt() {
function e(e, t) {
t = t * xa / 2 + va / 4;
var n = (e *= xa) - i, a = n >= 0 ? 1 : -1, s = a * n, l = Math.cos(t), c = Math.sin(t), u = o * c, d = r * l + u * Math.cos(s), h = u * a * Math.sin(s);
ts.add(Math.atan2(h, d)), i = e, r = l, o = c;
}
var t, n, i, r, o;
ns.point = function(a, s) {
ns.point = e, i = (t = a) * xa, r = Math.cos(s = (n = s) * xa / 2 + va / 4), o = Math.sin(s);
}, ns.lineEnd = function() {
e(t, n);
};
}
function ft(e) {
var t = e[0], n = e[1], i = Math.cos(n);
return [ i * Math.cos(t), i * Math.sin(t), Math.sin(n) ];
}
function gt(e, t) {
return e[0] * t[0] + e[1] * t[1] + e[2] * t[2];
}
function mt(e, t) {
return [ e[1] * t[2] - e[2] * t[1], e[2] * t[0] - e[0] * t[2], e[0] * t[1] - e[1] * t[0] ];
}
function vt(e, t) {
e[0] += t[0], e[1] += t[1], e[2] += t[2];
}
function yt(e, t) {
return [ e[0] * t, e[1] * t, e[2] * t ];
}
function bt(e) {
var t = Math.sqrt(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
e[0] /= t, e[1] /= t, e[2] /= t;
}
function wt(e) {
return [ Math.atan2(e[1], e[0]), te(e[2]) ];
}
function xt(e, t) {
return Jo(e[0] - t[0]) < ga && Jo(e[1] - t[1]) < ga;
}
function Ct(e, t) {
e *= xa;
var n = Math.cos(t *= xa);
_t(n * Math.cos(e), n * Math.sin(e), Math.sin(t));
}
function _t(e, t, n) {
os += (e - os) / ++is, as += (t - as) / is, ss += (n - ss) / is;
}
function St() {
function e(e, r) {
e *= xa;
var o = Math.cos(r *= xa), a = o * Math.cos(e), s = o * Math.sin(e), l = Math.sin(r), c = Math.atan2(Math.sqrt((c = n * l - i * s) * c + (c = i * a - t * l) * c + (c = t * s - n * a) * c), t * a + n * s + i * l);
rs += c, ls += c * (t + (t = a)), cs += c * (n + (n = s)), us += c * (i + (i = l)), _t(t, n, i);
}
var t, n, i;
fs.point = function(r, o) {
r *= xa;
var a = Math.cos(o *= xa);
t = a * Math.cos(r), n = a * Math.sin(r), i = Math.sin(o), fs.point = e, _t(t, n, i);
};
}
function $t() {
fs.point = Ct;
}
function At() {
function e(e, t) {
e *= xa;
var n = Math.cos(t *= xa), a = n * Math.cos(e), s = n * Math.sin(e), l = Math.sin(t), c = r * l - o * s, u = o * a - i * l, d = i * s - r * a, h = Math.sqrt(c * c + u * u + d * d), p = i * a + r * s + o * l, f = h && -ee(p) / h, g = Math.atan2(h, p);
ds += f * c, hs += f * u, ps += f * d, rs += g, ls += g * (i + (i = a)), cs += g * (r + (r = s)), us += g * (o + (o = l)), _t(i, r, o);
}
var t, n, i, r, o;
fs.point = function(a, s) {
t = a, n = s, fs.point = e, a *= xa;
var l = Math.cos(s *= xa);
i = l * Math.cos(a), r = l * Math.sin(a), o = Math.sin(s), _t(i, r, o);
}, fs.lineEnd = function() {
e(t, n), fs.lineEnd = $t, fs.point = Ct;
};
}
function kt(e, t) {
function n(n, i) {
return n = e(n, i), t(n[0], n[1]);
}
return e.invert && t.invert && (n.invert = function(n, i) {
return (n = t.invert(n, i)) && e.invert(n[0], n[1]);
}), n;
}
function Et() {
return !0;
}
function Tt(e, t, n, i, r) {
var o = [], a = [];
if (e.forEach(function(e) {
if (!((t = e.length - 1) <= 0)) {
var t, n = e[0], i = e[t];
if (xt(n, i)) {
r.lineStart();
for (var s = 0; s < t; ++s) r.point((n = e[s])[0], n[1]);
r.lineEnd();
} else {
var l = new Ft(n, e, null, !0), c = new Ft(n, null, l, !1);
l.o = c, o.push(l), a.push(c), c = new Ft(i, null, l = new Ft(i, e, null, !1), !0), l.o = c, o.push(l), a.push(c);
}
}
}), a.sort(t), Dt(o), Dt(a), o.length) {
for (var s = 0, l = n, c = a.length; s < c; ++s) a[s].e = l = !l;
for (var u, d, h = o[0]; ;) {
for (var p = h, f = !0; p.v; ) if ((p = p.n) === h) return;
u = p.z, r.lineStart();
do {
if (p.v = p.o.v = !0, p.e) {
if (f) for (var s = 0, c = u.length; s < c; ++s) r.point((d = u[s])[0], d[1]); else i(p.x, p.n.x, 1, r);
p = p.n;
} else {
if (f) for (s = (u = p.p.z).length - 1; s >= 0; --s) r.point((d = u[s])[0], d[1]); else i(p.x, p.p.x, -1, r);
p = p.p;
}
u = (p = p.o).z, f = !f;
} while (!p.v);
r.lineEnd();
}
}
}
function Dt(e) {
if (t = e.length) {
for (var t, n, i = 0, r = e[0]; ++i < t; ) r.n = n = e[i], n.p = r, r = n;
r.n = n = e[0], n.p = r;
}
}
function Ft(e, t, n, i) {
this.x = e, this.z = t, this.o = n, this.e = i, this.v = !1, this.n = this.p = null;
}
function Mt(e, t, n, i) {
return function(r, o) {
function a(t, n) {
var i = r(t, n);
e(t = i[0], n = i[1]) && o.point(t, n);
}
function s(e, t) {
var n = r(e, t);
m.point(n[0], n[1]);
}
function l() {
y.point = s, m.lineStart();
}
function c() {
y.point = a, m.lineEnd();
}
function u(e, t) {
g.push([ e, t ]);
var n = r(e, t);
w.point(n[0], n[1]);
}
function d() {
w.lineStart(), g = [];
}
function h() {
u(g[0][0], g[0][1]), w.lineEnd();
var e, t = w.clean(), n = b.buffer(), i = n.length;
if (g.pop(), f.push(g), g = null, i) if (1 & t) {
var r, a = -1;
if ((i = (e = n[0]).length - 1) > 0) {
for (x || (o.polygonStart(), x = !0), o.lineStart(); ++a < i; ) o.point((r = e[a])[0], r[1]);
o.lineEnd();
}
} else i > 1 && 2 & t && n.push(n.pop().concat(n.shift())), p.push(n.filter(It));
}
var p, f, g, m = t(o), v = r.invert(i[0], i[1]), y = {
point: a,
lineStart: l,
lineEnd: c,
polygonStart: function() {
y.point = u, y.lineStart = d, y.lineEnd = h, p = [], f = [];
},
polygonEnd: function() {
y.point = a, y.lineStart = l, y.lineEnd = c, p = Vo.merge(p);
var e = Rt(v, f);
p.length ? (x || (o.polygonStart(), x = !0), Tt(p, Pt, e, n, o)) : e && (x || (o.polygonStart(), x = !0), o.lineStart(), n(null, null, 1, o), o.lineEnd()), x && (o.polygonEnd(), x = !1), p = f = null;
},
sphere: function() {
o.polygonStart(), o.lineStart(), n(null, null, 1, o), o.lineEnd(), o.polygonEnd();
}
}, b = Lt(), w = t(b), x = !1;
return y;
};
}
function It(e) {
return e.length > 1;
}
function Lt() {
var e, t = [];
return {
lineStart: function() {
t.push(e = []);
},
point: function(t, n) {
e.push([ t, n ]);
},
lineEnd: x,
buffer: function() {
var n = t;
return t = [], e = null, n;
},
rejoin: function() {
t.length > 1 && t.push(t.pop().concat(t.shift()));
}
};
}
function Pt(e, t) {
return ((e = e.x)[0] < 0 ? e[1] - wa - ga : wa - e[1]) - ((t = t.x)[0] < 0 ? t[1] - wa - ga : wa - t[1]);
}
function Ot(e, t, n, i) {
var r, o, a = Math.sin(e - n);
return Jo(a) > ga ? Math.atan((Math.sin(t) * (o = Math.cos(i)) * Math.sin(n) - Math.sin(i) * (r = Math.cos(t)) * Math.sin(e)) / (r * o * a)) : (t + i) / 2;
}
function Rt(e, t) {
var n = e[0], i = e[1], r = [ Math.sin(n), -Math.cos(n), 0 ], o = 0, a = 0;
ts.reset();
for (var s = 0, l = t.length; s < l; ++s) {
var c = t[s], u = c.length;
if (u) for (var d = c[0], h = d[0], p = d[1] / 2 + va / 4, f = Math.sin(p), g = Math.cos(p), m = 1; ;) {
m === u && (m = 0);
var v = (e = c[m])[0], y = e[1] / 2 + va / 4, b = Math.sin(y), w = Math.cos(y), x = v - h, C = x >= 0 ? 1 : -1, _ = C * x, S = _ > va, $ = f * b;
if (ts.add(Math.atan2($ * C * Math.sin(_), g * w + $ * Math.cos(_))), o += S ? x + C * ya : x, S ^ h >= n ^ v >= n) {
var A = mt(ft(d), ft(e));
bt(A);
var k = mt(r, A);
bt(k);
var E = (S ^ x >= 0 ? -1 : 1) * te(k[2]);
(i > E || i === E && (A[0] || A[1])) && (a += S ^ x >= 0 ? 1 : -1);
}
if (!m++) break;
h = v, f = b, g = w, d = e;
}
}
return (o < -ga || o < ga && ts < -ga) ^ 1 & a;
}
function Bt(e) {
function t(e, t) {
return Math.cos(e) * Math.cos(t) > r;
}
function n(e, t, n) {
var i = [ 1, 0, 0 ], o = mt(ft(e), ft(t)), a = gt(o, o), s = o[0], l = a - s * s;
if (!l) return !n && e;
var c = r * a / l, u = -r * s / l, d = mt(i, o), h = yt(i, c);
vt(h, yt(o, u));
var p = d, f = gt(h, p), g = gt(p, p), m = f * f - g * (gt(h, h) - 1);
if (!(m < 0)) {
var v = Math.sqrt(m), y = yt(p, (-f - v) / g);
if (vt(y, h), y = wt(y), !n) return y;
var b, w = e[0], x = t[0], C = e[1], _ = t[1];
x < w && (b = w, w = x, x = b);
var S = x - w, $ = Jo(S - va) < ga, A = $ || S < ga;
if (!$ && _ < C && (b = C, C = _, _ = b), A ? $ ? C + _ > 0 ^ y[1] < (Jo(y[0] - w) < ga ? C : _) : C <= y[1] && y[1] <= _ : S > va ^ (w <= y[0] && y[0] <= x)) {
var k = yt(p, (-f + v) / g);
return vt(k, h), [ y, wt(k) ];
}
}
}
function i(t, n) {
var i = o ? e : va - e, r = 0;
return t < -i ? r |= 1 : t > i && (r |= 2), n < -i ? r |= 4 : n > i && (r |= 8), r;
}
var r = Math.cos(e), o = r > 0, a = Jo(r) > ga;
return Mt(t, function(e) {
var r, s, l, c, u;
return {
lineStart: function() {
c = l = !1, u = 1;
},
point: function(d, h) {
var p, f = [ d, h ], g = t(d, h), m = o ? g ? 0 : i(d, h) : g ? i(d + (d < 0 ? va : -va), h) : 0;
if (!r && (c = l = g) && e.lineStart(), g !== l && (p = n(r, f), (xt(r, p) || xt(f, p)) && (f[0] += ga, f[1] += ga, g = t(f[0], f[1]))), g !== l) u = 0, g ? (e.lineStart(), p = n(f, r), e.point(p[0], p[1])) : (p = n(r, f), e.point(p[0], p[1]), e.lineEnd()), r = p; else if (a && r && o ^ g) {
var v;
m & s || !(v = n(f, r, !0)) || (u = 0, o ? (e.lineStart(), e.point(v[0][0], v[0][1]), e.point(v[1][0], v[1][1]), e.lineEnd()) : (e.point(v[1][0], v[1][1]), e.lineEnd(), e.lineStart(), e.point(v[0][0], v[0][1])));
}
!g || r && xt(r, f) || e.point(f[0], f[1]), r = f, l = g, s = m;
},
lineEnd: function() {
l && e.lineEnd(), r = null;
},
clean: function() {
return u | (c && l) << 1;
}
};
}, dn(e, 6 * xa), o ? [ 0, -e ] : [ -va, e - va ]);
}
function Nt(e, t, n, i) {
return function(r) {
var o, a = r.a, s = r.b, l = a.x, c = a.y, u = 0, d = 1, h = s.x - l, p = s.y - c;
if (o = e - l, h || !(o > 0)) {
if (o /= h, h < 0) {
if (o < u) return;
o < d && (d = o);
} else if (h > 0) {
if (o > d) return;
o > u && (u = o);
}
if (o = n - l, h || !(o < 0)) {
if (o /= h, h < 0) {
if (o > d) return;
o > u && (u = o);
} else if (h > 0) {
if (o < u) return;
o < d && (d = o);
}
if (o = t - c, p || !(o > 0)) {
if (o /= p, p < 0) {
if (o < u) return;
o < d && (d = o);
} else if (p > 0) {
if (o > d) return;
o > u && (u = o);
}
if (o = i - c, p || !(o < 0)) {
if (o /= p, p < 0) {
if (o > d) return;
o > u && (u = o);
} else if (p > 0) {
if (o < u) return;
o < d && (d = o);
}
return u > 0 && (r.a = {
x: l + u * h,
y: c + u * p
}), d < 1 && (r.b = {
x: l + d * h,
y: c + d * p
}), r;
}
}
}
}
};
}
function jt(e, t, n, i) {
function r(i, r) {
return Jo(i[0] - e) < ga ? r > 0 ? 0 : 3 : Jo(i[0] - n) < ga ? r > 0 ? 2 : 1 : Jo(i[1] - t) < ga ? r > 0 ? 1 : 0 : r > 0 ? 3 : 2;
}
function o(e, t) {
return a(e.x, t.x);
}
function a(e, t) {
var n = r(e, 1), i = r(t, 1);
return n !== i ? n - i : 0 === n ? t[1] - e[1] : 1 === n ? e[0] - t[0] : 2 === n ? e[1] - t[1] : t[0] - e[0];
}
return function(s) {
function l(e) {
for (var t = 0, n = f.length, i = e[1], r = 0; r < n; ++r) for (var o, a = 1, s = f[r], l = s.length, c = s[0]; a < l; ++a) o = s[a], c[1] <= i ? o[1] > i && Z(c, o, e) > 0 && ++t : o[1] <= i && Z(c, o, e) < 0 && --t, c = o;
return 0 !== t;
}
function c(o, s, l, c) {
var u = 0, d = 0;
if (null == o || (u = r(o, l)) !== (d = r(s, l)) || a(o, s) < 0 ^ l > 0) do {
c.point(0 === u || 3 === u ? e : n, u > 1 ? i : t);
} while ((u = (u + l + 4) % 4) !== d); else c.point(s[0], s[1]);
}
function u(r, o) {
return e <= r && r <= n && t <= o && o <= i;
}
function d(e, t) {
u(e, t) && s.point(e, t);
}
function h(e, t) {
var n = u(e = Math.max(-ms, Math.min(ms, e)), t = Math.max(-ms, Math.min(ms, t)));
if (f && g.push([ e, t ]), C) m = e, v = t, y = n, C = !1, n && (s.lineStart(), s.point(e, t)); else if (n && x) s.point(e, t); else {
var i = {
a: {
x: b,
y: w
},
b: {
x: e,
y: t
}
};
A(i) ? (x || (s.lineStart(), s.point(i.a.x, i.a.y)), s.point(i.b.x, i.b.y), n || s.lineEnd(), _ = !1) : n && (s.lineStart(), s.point(e, t), _ = !1);
}
b = e, w = t, x = n;
}
var p, f, g, m, v, y, b, w, x, C, _, S = s, $ = Lt(), A = Nt(e, t, n, i), k = {
point: d,
lineStart: function() {
k.point = h, f && f.push(g = []), C = !0, x = !1, b = w = NaN;
},
lineEnd: function() {
p && (h(m, v), y && x && $.rejoin(), p.push($.buffer())), k.point = d, x && s.lineEnd();
},
polygonStart: function() {
s = $, p = [], f = [], _ = !0;
},
polygonEnd: function() {
s = S, p = Vo.merge(p);
var t = l([ e, i ]), n = _ && t, r = p.length;
(n || r) && (s.polygonStart(), n && (s.lineStart(), c(null, null, 1, s), s.lineEnd()), r && Tt(p, o, t, c, s), s.polygonEnd()), p = f = g = null;
}
};
return k;
};
}
function Ut(e) {
var t = 0, n = va / 3, i = nn(e), r = i(t, n);
return r.parallels = function(e) {
return arguments.length ? i(t = e[0] * va / 180, n = e[1] * va / 180) : [ t / va * 180, n / va * 180 ];
}, r;
}
function Vt(e, t) {
function n(e, t) {
var n = Math.sqrt(o - 2 * r * Math.sin(t)) / r;
return [ n * Math.sin(e *= r), a - n * Math.cos(e) ];
}
var i = Math.sin(e), r = (i + Math.sin(t)) / 2, o = 1 + i * (2 * r - i), a = Math.sqrt(o) / r;
return n.invert = function(e, t) {
var n = a - t;
return [ Math.atan2(e, n) / r, te((o - (e * e + n * n) * r * r) / (2 * r)) ];
}, n;
}
function Ht() {
function e(e, t) {
ys += r * e - i * t, i = e, r = t;
}
var t, n, i, r;
_s.point = function(o, a) {
_s.point = e, t = i = o, n = r = a;
}, _s.lineEnd = function() {
e(t, n);
};
}
function zt() {
function e(e, t) {
a.push("M", e, ",", t, o);
}
function t(e, t) {
a.push("M", e, ",", t), s.point = n;
}
function n(e, t) {
a.push("L", e, ",", t);
}
function i() {
s.point = e;
}
function r() {
a.push("Z");
}
var o = Wt(4.5), a = [], s = {
point: e,
lineStart: function() {
s.point = t;
},
lineEnd: i,
polygonStart: function() {
s.lineEnd = r;
},
polygonEnd: function() {
s.lineEnd = i, s.point = e;
},
pointRadius: function(e) {
return o = Wt(e), s;
},
result: function() {
if (a.length) {
var e = a.join("");
return a = [], e;
}
}
};
return s;
}
function Wt(e) {
return "m0," + e + "a" + e + "," + e + " 0 1,1 0," + -2 * e + "a" + e + "," + e + " 0 1,1 0," + 2 * e + "z";
}
function Gt(e, t) {
os += e, as += t, ++ss;
}
function qt() {
function e(e, i) {
var r = e - t, o = i - n, a = Math.sqrt(r * r + o * o);
ls += a * (t + e) / 2, cs += a * (n + i) / 2, us += a, Gt(t = e, n = i);
}
var t, n;
$s.point = function(i, r) {
$s.point = e, Gt(t = i, n = r);
};
}
function Yt() {
$s.point = Gt;
}
function Kt() {
function e(e, t) {
var n = e - i, o = t - r, a = Math.sqrt(n * n + o * o);
ls += a * (i + e) / 2, cs += a * (r + t) / 2, us += a, ds += (a = r * e - i * t) * (i + e), hs += a * (r + t), ps += 3 * a, Gt(i = e, r = t);
}
var t, n, i, r;
$s.point = function(o, a) {
$s.point = e, Gt(t = i = o, n = r = a);
}, $s.lineEnd = function() {
e(t, n);
};
}
function Xt(e) {
function t(t, n) {
e.moveTo(t + a, n), e.arc(t, n, a, 0, ya);
}
function n(t, n) {
e.moveTo(t, n), s.point = i;
}
function i(t, n) {
e.lineTo(t, n);
}
function r() {
s.point = t;
}
function o() {
e.closePath();
}
var a = 4.5, s = {
point: t,
lineStart: function() {
s.point = n;
},
lineEnd: r,
polygonStart: function() {
s.lineEnd = o;
},
polygonEnd: function() {
s.lineEnd = r, s.point = t;
},
pointRadius: function(e) {
return a = e, s;
},
result: x
};
return s;
}
function Qt(e) {
function t(e) {
return (s ? i : n)(e);
}
function n(t) {
return en(t, function(n, i) {
n = e(n, i), t.point(n[0], n[1]);
});
}
function i(t) {
function n(n, i) {
n = e(n, i), t.point(n[0], n[1]);
}
function i() {
b = NaN, S.point = o, t.lineStart();
}
function o(n, i) {
var o = ft([ n, i ]), a = e(n, i);
r(b, w, y, x, C, _, b = a[0], w = a[1], y = n, x = o[0], C = o[1], _ = o[2], s, t), t.point(b, w);
}
function a() {
S.point = n, t.lineEnd();
}
function l() {
i(), S.point = c, S.lineEnd = u;
}
function c(e, t) {
o(d = e, h = t), p = b, f = w, g = x, m = C, v = _, S.point = o;
}
function u() {
r(b, w, y, x, C, _, p, f, d, g, m, v, s, t), S.lineEnd = a, a();
}
var d, h, p, f, g, m, v, y, b, w, x, C, _, S = {
point: n,
lineStart: i,
lineEnd: a,
polygonStart: function() {
t.polygonStart(), S.lineStart = l;
},
polygonEnd: function() {
t.polygonEnd(), S.lineStart = i;
}
};
return S;
}
function r(t, n, i, s, l, c, u, d, h, p, f, g, m, v) {
var y = u - t, b = d - n, w = y * y + b * b;
if (w > 4 * o && m--) {
var x = s + p, C = l + f, _ = c + g, S = Math.sqrt(x * x + C * C + _ * _), $ = Math.asin(_ /= S), A = Jo(Jo(_) - 1) < ga || Jo(i - h) < ga ? (i + h) / 2 : Math.atan2(C, x), k = e(A, $), E = k[0], T = k[1], D = E - t, F = T - n, M = b * D - y * F;
(M * M / w > o || Jo((y * D + b * F) / w - .5) > .3 || s * p + l * f + c * g < a) && (r(t, n, i, s, l, c, E, T, A, x /= S, C /= S, _, m, v), v.point(E, T), r(E, T, A, x, C, _, u, d, h, p, f, g, m, v));
}
}
var o = .5, a = Math.cos(30 * xa), s = 16;
return t.precision = function(e) {
return arguments.length ? (s = (o = e * e) > 0 && 16, t) : Math.sqrt(o);
}, t;
}
function Jt(e) {
var t = Qt(function(t, n) {
return e([ t * Ca, n * Ca ]);
});
return function(e) {
return rn(t(e));
};
}
function Zt(e) {
this.stream = e;
}
function en(e, t) {
return {
point: t,
sphere: function() {
e.sphere();
},
lineStart: function() {
e.lineStart();
},
lineEnd: function() {
e.lineEnd();
},
polygonStart: function() {
e.polygonStart();
},
polygonEnd: function() {
e.polygonEnd();
}
};
}
function tn(e) {
return nn(function() {
return e;
})();
}
function nn(e) {
function t(e) {
return e = s(e[0] * xa, e[1] * xa), [ e[0] * h + l, c - e[1] * h ];
}
function n(e) {
return (e = s.invert((e[0] - l) / h, (c - e[1]) / h)) && [ e[0] * Ca, e[1] * Ca ];
}
function i() {
s = kt(a = sn(v, b, w), o);
var e = o(g, m);
return l = p - e[0] * h, c = f + e[1] * h, r();
}
function r() {
return u && (u.valid = !1, u = null), t;
}
var o, a, s, l, c, u, d = Qt(function(e, t) {
return e = o(e, t), [ e[0] * h + l, c - e[1] * h ];
}), h = 150, p = 480, f = 250, g = 0, m = 0, v = 0, b = 0, w = 0, x = gs, C = y, _ = null, S = null;
return t.stream = function(e) {
return u && (u.valid = !1), u = rn(x(a, d(C(e)))), u.valid = !0, u;
}, t.clipAngle = function(e) {
return arguments.length ? (x = null == e ? (_ = e, gs) : Bt((_ = +e) * xa), r()) : _;
}, t.clipExtent = function(e) {
return arguments.length ? (S = e, C = e ? jt(e[0][0], e[0][1], e[1][0], e[1][1]) : y, r()) : S;
}, t.scale = function(e) {
return arguments.length ? (h = +e, i()) : h;
}, t.translate = function(e) {
return arguments.length ? (p = +e[0], f = +e[1], i()) : [ p, f ];
}, t.center = function(e) {
return arguments.length ? (g = e[0] % 360 * xa, m = e[1] % 360 * xa, i()) : [ g * Ca, m * Ca ];
}, t.rotate = function(e) {
return arguments.length ? (v = e[0] % 360 * xa, b = e[1] % 360 * xa, w = e.length > 2 ? e[2] % 360 * xa : 0, i()) : [ v * Ca, b * Ca, w * Ca ];
}, Vo.rebind(t, d, "precision"), function() {
return o = e.apply(this, arguments), t.invert = o.invert && n, i();
};
}
function rn(e) {
return en(e, function(t, n) {
e.point(t * xa, n * xa);
});
}
function on(e, t) {
return [ e, t ];
}
function an(e, t) {
return [ e > va ? e - ya : e < -va ? e + ya : e, t ];
}
function sn(e, t, n) {
return e ? t || n ? kt(cn(e), un(t, n)) : cn(e) : t || n ? un(t, n) : an;
}
function ln(e) {
return function(t, n) {
return t += e, [ t > va ? t - ya : t < -va ? t + ya : t, n ];
};
}
function cn(e) {
var t = ln(e);
return t.invert = ln(-e), t;
}
function un(e, t) {
function n(e, t) {
var n = Math.cos(t), s = Math.cos(e) * n, l = Math.sin(e) * n, c = Math.sin(t), u = c * i + s * r;
return [ Math.atan2(l * o - u * a, s * i - c * r), te(u * o + l * a) ];
}
var i = Math.cos(e), r = Math.sin(e), o = Math.cos(t), a = Math.sin(t);
return n.invert = function(e, t) {
var n = Math.cos(t), s = Math.cos(e) * n, l = Math.sin(e) * n, c = Math.sin(t), u = c * o - l * a;
return [ Math.atan2(l * o + c * a, s * i + u * r), te(u * i - s * r) ];
}, n;
}
function dn(e, t) {
var n = Math.cos(e), i = Math.sin(e);
return function(r, o, a, s) {
var l = a * t;
null != r ? (r = hn(n, r), o = hn(n, o), (a > 0 ? r < o : r > o) && (r += a * ya)) : (r = e + a * ya, o = e - .5 * l);
for (var c, u = r; a > 0 ? u > o : u < o; u -= l) s.point((c = wt([ n, -i * Math.cos(u), -i * Math.sin(u) ]))[0], c[1]);
};
}
function hn(e, t) {
var n = ft(t);
n[0] -= e, bt(n);
var i = ee(-n[1]);
return ((-n[2] < 0 ? -i : i) + 2 * Math.PI - ga) % (2 * Math.PI);
}
function pn(e, t, n) {
var i = Vo.range(e, t - ga, n).concat(t);
return function(e) {
return i.map(function(t) {
return [ e, t ];
});
};
}
function fn(e, t, n) {
var i = Vo.range(e, t - ga, n).concat(t);
return function(e) {
return i.map(function(t) {
return [ t, e ];
});
};
}
function gn(e) {
return e.source;
}
function mn(e) {
return e.target;
}
function vn(e, t, n, i) {
var r = Math.cos(t), o = Math.sin(t), a = Math.cos(i), s = Math.sin(i), l = r * Math.cos(e), c = r * Math.sin(e), u = a * Math.cos(n), d = a * Math.sin(n), h = 2 * Math.asin(Math.sqrt(oe(i - t) + r * a * oe(n - e))), p = 1 / Math.sin(h), f = h ? function(e) {
var t = Math.sin(e *= h) * p, n = Math.sin(h - e) * p, i = n * l + t * u, r = n * c + t * d, a = n * o + t * s;
return [ Math.atan2(r, i) * Ca, Math.atan2(a, Math.sqrt(i * i + r * r)) * Ca ];
} : function() {
return [ e * Ca, t * Ca ];
};
return f.distance = h, f;
}
function yn(e, t) {
function n(t, n) {
var i = Math.cos(t), r = Math.cos(n), o = e(i * r);
return [ o * r * Math.sin(t), o * Math.sin(n) ];
}
return n.invert = function(e, n) {
var i = Math.sqrt(e * e + n * n), r = t(i), o = Math.sin(r), a = Math.cos(r);
return [ Math.atan2(e * o, i * a), Math.asin(i && n * o / i) ];
}, n;
}
function bn(e, t) {
function n(e, t) {
a > 0 ? t < -wa + ga && (t = -wa + ga) : t > wa - ga && (t = wa - ga);
var n = a / Math.pow(r(t), o);
return [ n * Math.sin(o * e), a - n * Math.cos(o * e) ];
}
var i = Math.cos(e), r = function(e) {
return Math.tan(va / 4 + e / 2);
}, o = e === t ? Math.sin(e) : Math.log(i / Math.cos(t)) / Math.log(r(t) / r(e)), a = i * Math.pow(r(e), o) / o;
return o ? (n.invert = function(e, t) {
var n = a - t, i = J(o) * Math.sqrt(e * e + n * n);
return [ Math.atan2(e, n) / o, 2 * Math.atan(Math.pow(a / i, 1 / o)) - wa ];
}, n) : xn;
}
function wn(e, t) {
function n(e, t) {
var n = o - t;
return [ n * Math.sin(r * e), o - n * Math.cos(r * e) ];
}
var i = Math.cos(e), r = e === t ? Math.sin(e) : (i - Math.cos(t)) / (t - e), o = i / r + e;
return Jo(r) < ga ? on : (n.invert = function(e, t) {
var n = o - t;
return [ Math.atan2(e, n) / r, o - J(r) * Math.sqrt(e * e + n * n) ];
}, n);
}
function xn(e, t) {
return [ e, Math.log(Math.tan(va / 4 + t / 2)) ];
}
function Cn(e) {
var t, n = tn(e), i = n.scale, r = n.translate, o = n.clipExtent;
return n.scale = function() {
var e = i.apply(n, arguments);
return e === n ? t ? n.clipExtent(null) : n : e;
}, n.translate = function() {
var e = r.apply(n, arguments);
return e === n ? t ? n.clipExtent(null) : n : e;
}, n.clipExtent = function(e) {
var a = o.apply(n, arguments);
if (a === n) {
if (t = null == e) {
var s = va * i(), l = r();
o([ [ l[0] - s, l[1] - s ], [ l[0] + s, l[1] + s ] ]);
}
} else t && (a = null);
return a;
}, n.clipExtent(null);
}
function _n(e, t) {
return [ Math.log(Math.tan(va / 4 + t / 2)), -e ];
}
function Sn(e) {
return e[0];
}
function $n(e) {
return e[1];
}
function An(e) {
for (var t = e.length, n = [ 0, 1 ], i = 2, r = 2; r < t; r++) {
for (;i > 1 && Z(e[n[i - 2]], e[n[i - 1]], e[r]) <= 0; ) --i;
n[i++] = r;
}
return n.slice(0, i);
}
function kn(e, t) {
return e[0] - t[0] || e[1] - t[1];
}
function En(e, t, n) {
return (n[0] - t[0]) * (e[1] - t[1]) < (n[1] - t[1]) * (e[0] - t[0]);
}
function Tn(e, t, n, i) {
var r = e[0], o = n[0], a = t[0] - r, s = i[0] - o, l = e[1], c = n[1], u = t[1] - l, d = i[1] - c, h = (s * (l - c) - d * (r - o)) / (d * a - s * u);
return [ r + h * a, l + h * u ];
}
function Dn(e) {
var t = e[0], n = e[e.length - 1];
return !(t[0] - n[0] || t[1] - n[1]);
}
function Fn() {
Jn(this), this.edge = this.site = this.circle = null;
}
function Mn(e) {
var t = Ns.pop() || new Fn();
return t.site = e, t;
}
function In(e) {
Hn(e), Os.remove(e), Ns.push(e), Jn(e);
}
function Ln(e) {
var t = e.circle, n = t.x, i = t.cy, r = {
x: n,
y: i
}, o = e.P, a = e.N, s = [ e ];
In(e);
for (var l = o; l.circle && Jo(n - l.circle.x) < ga && Jo(i - l.circle.cy) < ga; ) o = l.P, s.unshift(l), In(l), l = o;
s.unshift(l), Hn(l);
for (var c = a; c.circle && Jo(n - c.circle.x) < ga && Jo(i - c.circle.cy) < ga; ) a = c.N, s.push(c), In(c), c = a;
s.push(c), Hn(c);
var u, d = s.length;
for (u = 1; u < d; ++u) c = s[u], l = s[u - 1], Kn(c.edge, l.site, c.site, r);
l = s[0], (c = s[d - 1]).edge = qn(l.site, c.site, null, r), Vn(l), Vn(c);
}
function Pn(e) {
for (var t, n, i, r, o = e.x, a = e.y, s = Os._; s; ) if ((i = On(s, a) - o) > ga) s = s.L; else {
if (!((r = o - Rn(s, a)) > ga)) {
i > -ga ? (t = s.P, n = s) : r > -ga ? (t = s, n = s.N) : t = n = s;
break;
}
if (!s.R) {
t = s;
break;
}
s = s.R;
}
var l = Mn(e);
if (Os.insert(t, l), t || n) {
if (t === n) return Hn(t), n = Mn(t.site), Os.insert(l, n), l.edge = n.edge = qn(t.site, l.site), Vn(t), void Vn(n);
if (n) {
Hn(t), Hn(n);
var c = t.site, u = c.x, d = c.y, h = e.x - u, p = e.y - d, f = n.site, g = f.x - u, m = f.y - d, v = 2 * (h * m - p * g), y = h * h + p * p, b = g * g + m * m, w = {
x: (m * y - p * b) / v + u,
y: (h * b - g * y) / v + d
};
Kn(n.edge, c, f, w), l.edge = qn(c, e, null, w), n.edge = qn(e, f, null, w), Vn(t), Vn(n);
} else l.edge = qn(t.site, l.site);
}
}
function On(e, t) {
var n = e.site, i = n.x, r = n.y, o = r - t;
if (!o) return i;
var a = e.P;
if (!a) return -1 / 0;
var s = (n = a.site).x, l = n.y, c = l - t;
if (!c) return s;
var u = s - i, d = 1 / o - 1 / c, h = u / c;
return d ? (-h + Math.sqrt(h * h - 2 * d * (u * u / (-2 * c) - l + c / 2 + r - o / 2))) / d + i : (i + s) / 2;
}
function Rn(e, t) {
var n = e.N;
if (n) return On(n, t);
var i = e.site;
return i.y === t ? i.x : 1 / 0;
}
function Bn(e) {
this.site = e, this.edges = [];
}
function Nn(e) {
for (var t, n, i, r, o, a, s, l, c, u, d = e[0][0], h = e[1][0], p = e[0][1], f = e[1][1], g = Ps, m = g.length; m--; ) if ((o = g[m]) && o.prepare()) for (l = (s = o.edges).length, a = 0; a < l; ) i = (u = s[a].end()).x, r = u.y, t = (c = s[++a % l].start()).x, n = c.y, (Jo(i - t) > ga || Jo(r - n) > ga) && (s.splice(a, 0, new Xn(Yn(o.site, u, Jo(i - d) < ga && f - r > ga ? {
x: d,
y: Jo(t - d) < ga ? n : f
} : Jo(r - f) < ga && h - i > ga ? {
x: Jo(n - f) < ga ? t : h,
y: f
} : Jo(i - h) < ga && r - p > ga ? {
x: h,
y: Jo(t - h) < ga ? n : p
} : Jo(r - p) < ga && i - d > ga ? {
x: Jo(n - p) < ga ? t : d,
y: p
} : null), o.site, null)), ++l);
}
function jn(e, t) {
return t.angle - e.angle;
}
function Un() {
Jn(this), this.x = this.y = this.arc = this.site = this.cy = null;
}
function Vn(e) {
var t = e.P, n = e.N;
if (t && n) {
var i = t.site, r = e.site, o = n.site;
if (i !== o) {
var a = r.x, s = r.y, l = i.x - a, c = i.y - s, u = o.x - a, d = 2 * (l * (m = o.y - s) - c * u);
if (!(d >= -ma)) {
var h = l * l + c * c, p = u * u + m * m, f = (m * h - c * p) / d, g = (l * p - u * h) / d, m = g + s, v = js.pop() || new Un();
v.arc = e, v.site = r, v.x = f + a, v.y = m + Math.sqrt(f * f + g * g), v.cy = m, e.circle = v;
for (var y = null, b = Bs._; b; ) if (v.y < b.y || v.y === b.y && v.x <= b.x) {
if (!b.L) {
y = b.P;
break;
}
b = b.L;
} else {
if (!b.R) {
y = b;
break;
}
b = b.R;
}
Bs.insert(y, v), y || (Rs = v);
}
}
}
}
function Hn(e) {
var t = e.circle;
t && (t.P || (Rs = t.N), Bs.remove(t), js.push(t), Jn(t), e.circle = null);
}
function zn(e) {
for (var t, n = Ls, i = Nt(e[0][0], e[0][1], e[1][0], e[1][1]), r = n.length; r--; ) (!Wn(t = n[r], e) || !i(t) || Jo(t.a.x - t.b.x) < ga && Jo(t.a.y - t.b.y) < ga) && (t.a = t.b = null, n.splice(r, 1));
}
function Wn(e, t) {
var n = e.b;
if (n) return !0;
var i, r, o = e.a, a = t[0][0], s = t[1][0], l = t[0][1], c = t[1][1], u = e.l, d = e.r, h = u.x, p = u.y, f = d.x, g = d.y, m = (h + f) / 2, v = (p + g) / 2;
if (g === p) {
if (m < a || m >= s) return;
if (h > f) {
if (o) {
if (o.y >= c) return;
} else o = {
x: m,
y: l
};
n = {
x: m,
y: c
};
} else {
if (o) {
if (o.y < l) return;
} else o = {
x: m,
y: c
};
n = {
x: m,
y: l
};
}
} else if (i = (h - f) / (g - p), r = v - i * m, i < -1 || i > 1) if (h > f) {
if (o) {
if (o.y >= c) return;
} else o = {
x: (l - r) / i,
y: l
};
n = {
x: (c - r) / i,
y: c
};
} else {
if (o) {
if (o.y < l) return;
} else o = {
x: (c - r) / i,
y: c
};
n = {
x: (l - r) / i,
y: l
};
} else if (p < g) {
if (o) {
if (o.x >= s) return;
} else o = {
x: a,
y: i * a + r
};
n = {
x: s,
y: i * s + r
};
} else {
if (o) {
if (o.x < a) return;
} else o = {
x: s,
y: i * s + r
};
n = {
x: a,
y: i * a + r
};
}
return e.a = o, e.b = n, !0;
}
function Gn(e, t) {
this.l = e, this.r = t, this.a = this.b = null;
}
function qn(e, t, n, i) {
var r = new Gn(e, t);
return Ls.push(r), n && Kn(r, e, t, n), i && Kn(r, t, e, i), Ps[e.i].edges.push(new Xn(r, e, t)), Ps[t.i].edges.push(new Xn(r, t, e)), r;
}
function Yn(e, t, n) {
var i = new Gn(e, null);
return i.a = t, i.b = n, Ls.push(i), i;
}
function Kn(e, t, n, i) {
e.a || e.b ? e.l === n ? e.b = i : e.a = i : (e.a = i, e.l = t, e.r = n);
}
function Xn(e, t, n) {
var i = e.a, r = e.b;
this.edge = e, this.site = t, this.angle = n ? Math.atan2(n.y - t.y, n.x - t.x) : e.l === t ? Math.atan2(r.x - i.x, i.y - r.y) : Math.atan2(i.x - r.x, r.y - i.y);
}
function Qn() {
this._ = null;
}
function Jn(e) {
e.U = e.C = e.L = e.R = e.P = e.N = null;
}
function Zn(e, t) {
var n = t, i = t.R, r = n.U;
r ? r.L === n ? r.L = i : r.R = i : e._ = i, i.U = r, n.U = i, n.R = i.L, n.R && (n.R.U = n), i.L = n;
}
function ei(e, t) {
var n = t, i = t.L, r = n.U;
r ? r.L === n ? r.L = i : r.R = i : e._ = i, i.U = r, n.U = i, n.L = i.R, n.L && (n.L.U = n), i.R = n;
}
function ti(e) {
for (;e.L; ) e = e.L;
return e;
}
function ni(e, t) {
var n, i, r, o = e.sort(ii).pop();
for (Ls = [], Ps = new Array(e.length), Os = new Qn(), Bs = new Qn(); ;) if (r = Rs, o && (!r || o.y < r.y || o.y === r.y && o.x < r.x)) o.x === n && o.y === i || (Ps[o.i] = new Bn(o), Pn(o), n = o.x, i = o.y), o = e.pop(); else {
if (!r) break;
Ln(r.arc);
}
t && (zn(t), Nn(t));
var a = {
cells: Ps,
edges: Ls
};
return Os = Bs = Ls = Ps = null, a;
}
function ii(e, t) {
return t.y - e.y || t.x - e.x;
}
function ri(e, t, n) {
return (e.x - n.x) * (t.y - e.y) - (e.x - t.x) * (n.y - e.y);
}
function oi(e) {
return e.x;
}
function ai(e) {
return e.y;
}
function si(e, t, n, i, r, o) {
if (!e(t, n, i, r, o)) {
var a = .5 * (n + r), s = .5 * (i + o), l = t.nodes;
l[0] && si(e, l[0], n, i, a, s), l[1] && si(e, l[1], a, i, r, s), l[2] && si(e, l[2], n, s, a, o), l[3] && si(e, l[3], a, s, r, o);
}
}
function li(e, t, n, i, r, o, a) {
var s, l = 1 / 0;
return function e(c, u, d, h, p) {
if (!(u > o || d > a || h < i || p < r)) {
if (f = c.point) {
var f, g = t - c.x, m = n - c.y, v = g * g + m * m;
if (v < l) {
var y = Math.sqrt(l = v);
i = t - y, r = n - y, o = t + y, a = n + y, s = f;
}
}
for (var b = c.nodes, w = .5 * (u + h), x = .5 * (d + p), C = (n >= x) << 1 | t >= w, _ = C + 4; C < _; ++C) if (c = b[3 & C]) switch (3 & C) {
case 0:
e(c, u, d, w, x);
break;

case 1:
e(c, w, d, h, x);
break;

case 2:
e(c, u, x, w, p);
break;

case 3:
e(c, w, x, h, p);
}
}
}(e, i, r, o, a), s;
}
function ci(e, t) {
e = Vo.rgb(e), t = Vo.rgb(t);
var n = e.r, i = e.g, r = e.b, o = t.r - n, a = t.g - i, s = t.b - r;
return function(e) {
return "#" + we(Math.round(n + o * e)) + we(Math.round(i + a * e)) + we(Math.round(r + s * e));
};
}
function ui(e, t) {
var n, i = {}, r = {};
for (n in e) n in t ? i[n] = pi(e[n], t[n]) : r[n] = e[n];
for (n in t) n in e || (r[n] = t[n]);
return function(e) {
for (n in i) r[n] = i[n](e);
return r;
};
}
function di(e, t) {
return e = +e, t = +t, function(n) {
return e * (1 - n) + t * n;
};
}
function hi(e, t) {
var n, i, r, o = Vs.lastIndex = Hs.lastIndex = 0, a = -1, s = [], l = [];
for (e += "", t += ""; (n = Vs.exec(e)) && (i = Hs.exec(t)); ) (r = i.index) > o && (r = t.slice(o, r), s[a] ? s[a] += r : s[++a] = r), (n = n[0]) === (i = i[0]) ? s[a] ? s[a] += i : s[++a] = i : (s[++a] = null, l.push({
i: a,
x: di(n, i)
})), o = Hs.lastIndex;
return o < t.length && (r = t.slice(o), s[a] ? s[a] += r : s[++a] = r), s.length < 2 ? l[0] ? (t = l[0].x, function(e) {
return t(e) + "";
}) : function() {
return t;
} : (t = l.length, function(e) {
for (var n, i = 0; i < t; ++i) s[(n = l[i]).i] = n.x(e);
return s.join("");
});
}
function pi(e, t) {
for (var n, i = Vo.interpolators.length; --i >= 0 && !(n = Vo.interpolators[i](e, t)); ) ;
return n;
}
function fi(e, t) {
var n, i = [], r = [], o = e.length, a = t.length, s = Math.min(e.length, t.length);
for (n = 0; n < s; ++n) i.push(pi(e[n], t[n]));
for (;n < o; ++n) r[n] = e[n];
for (;n < a; ++n) r[n] = t[n];
return function(e) {
for (n = 0; n < s; ++n) r[n] = i[n](e);
return r;
};
}
function gi(e) {
return function(t) {
return t <= 0 ? 0 : t >= 1 ? 1 : e(t);
};
}
function mi(e) {
return function(t) {
return 1 - e(1 - t);
};
}
function vi(e) {
return function(t) {
return .5 * (t < .5 ? e(2 * t) : 2 - e(2 - 2 * t));
};
}
function yi(e) {
return e * e;
}
function bi(e) {
return e * e * e;
}
function wi(e) {
if (e <= 0) return 0;
if (e >= 1) return 1;
var t = e * e, n = t * e;
return 4 * (e < .5 ? n : 3 * (e - t) + n - .75);
}
function xi(e) {
return 1 - Math.cos(e * wa);
}
function Ci(e) {
return Math.pow(2, 10 * (e - 1));
}
function _i(e) {
return 1 - Math.sqrt(1 - e * e);
}
function Si(e) {
return e < 1 / 2.75 ? 7.5625 * e * e : e < 2 / 2.75 ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : e < 2.5 / 2.75 ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375;
}
function $i(e, t) {
return t -= e, function(n) {
return Math.round(e + t * n);
};
}
function Ai(e) {
var t = [ e.a, e.b ], n = [ e.c, e.d ], i = Ei(t), r = ki(t, n), o = Ei(Ti(n, t, -r)) || 0;
t[0] * n[1] < n[0] * t[1] && (t[0] *= -1, t[1] *= -1, i *= -1, r *= -1), this.rotate = (i ? Math.atan2(t[1], t[0]) : Math.atan2(-n[0], n[1])) * Ca, this.translate = [ e.e, e.f ], this.scale = [ i, o ], this.skew = o ? Math.atan2(r, o) * Ca : 0;
}
function ki(e, t) {
return e[0] * t[0] + e[1] * t[1];
}
function Ei(e) {
var t = Math.sqrt(ki(e, e));
return t && (e[0] /= t, e[1] /= t), t;
}
function Ti(e, t, n) {
return e[0] += n * t[0], e[1] += n * t[1], e;
}
function Di(e) {
return e.length ? e.pop() + "," : "";
}
function Fi(e, t, n, i) {
if (e[0] !== t[0] || e[1] !== t[1]) {
var r = n.push("translate(", null, ",", null, ")");
i.push({
i: r - 4,
x: di(e[0], t[0])
}, {
i: r - 2,
x: di(e[1], t[1])
});
} else (t[0] || t[1]) && n.push("translate(" + t + ")");
}
function Mi(e, t, n, i) {
e !== t ? (e - t > 180 ? t += 360 : t - e > 180 && (e += 360), i.push({
i: n.push(Di(n) + "rotate(", null, ")") - 2,
x: di(e, t)
})) : t && n.push(Di(n) + "rotate(" + t + ")");
}
function Ii(e, t, n, i) {
e !== t ? i.push({
i: n.push(Di(n) + "skewX(", null, ")") - 2,
x: di(e, t)
}) : t && n.push(Di(n) + "skewX(" + t + ")");
}
function Li(e, t, n, i) {
if (e[0] !== t[0] || e[1] !== t[1]) {
var r = n.push(Di(n) + "scale(", null, ",", null, ")");
i.push({
i: r - 4,
x: di(e[0], t[0])
}, {
i: r - 2,
x: di(e[1], t[1])
});
} else 1 === t[0] && 1 === t[1] || n.push(Di(n) + "scale(" + t + ")");
}
function Pi(e, t) {
var n = [], i = [];
return e = Vo.transform(e), t = Vo.transform(t), Fi(e.translate, t.translate, n, i), Mi(e.rotate, t.rotate, n, i), Ii(e.skew, t.skew, n, i), Li(e.scale, t.scale, n, i), e = t = null, function(e) {
for (var t, r = -1, o = i.length; ++r < o; ) n[(t = i[r]).i] = t.x(e);
return n.join("");
};
}
function Oi(e, t) {
return t = (t -= e = +e) || 1 / t, function(n) {
return (n - e) / t;
};
}
function Ri(e, t) {
return t = (t -= e = +e) || 1 / t, function(n) {
return Math.max(0, Math.min(1, (n - e) / t));
};
}
function Bi(e) {
for (var t = e.source, n = e.target, i = ji(t, n), r = [ t ]; t !== i; ) t = t.parent, r.push(t);
for (var o = r.length; n !== i; ) r.splice(o, 0, n), n = n.parent;
return r;
}
function Ni(e) {
for (var t = [], n = e.parent; null != n; ) t.push(e), e = n, n = n.parent;
return t.push(e), t;
}
function ji(e, t) {
if (e === t) return e;
for (var n = Ni(e), i = Ni(t), r = n.pop(), o = i.pop(), a = null; r === o; ) a = r, r = n.pop(), o = i.pop();
return a;
}
function Ui(e) {
e.fixed |= 2;
}
function Vi(e) {
e.fixed &= -7;
}
function Hi(e) {
e.fixed |= 4, e.px = e.x, e.py = e.y;
}
function zi(e) {
e.fixed &= -5;
}
function Wi(e, t, n) {
var i = 0, r = 0;
if (e.charge = 0, !e.leaf) for (var o, a = e.nodes, s = a.length, l = -1; ++l < s; ) null != (o = a[l]) && (Wi(o, t, n), e.charge += o.charge, i += o.charge * o.cx, r += o.charge * o.cy);
if (e.point) {
e.leaf || (e.point.x += Math.random() - .5, e.point.y += Math.random() - .5);
var c = t * n[e.point.index];
e.charge += e.pointCharge = c, i += c * e.point.x, r += c * e.point.y;
}
e.cx = i / e.charge, e.cy = r / e.charge;
}
function Gi(e, t) {
return Vo.rebind(e, t, "sort", "children", "value"), e.nodes = e, e.links = Ji, e;
}
function qi(e, t) {
for (var n = [ e ]; null != (e = n.pop()); ) if (t(e), (r = e.children) && (i = r.length)) for (var i, r; --i >= 0; ) n.push(r[i]);
}
function Yi(e, t) {
for (var n = [ e ], i = []; null != (e = n.pop()); ) if (i.push(e), (o = e.children) && (r = o.length)) for (var r, o, a = -1; ++a < r; ) n.push(o[a]);
for (;null != (e = i.pop()); ) t(e);
}
function Ki(e) {
return e.children;
}
function Xi(e) {
return e.value;
}
function Qi(e, t) {
return t.value - e.value;
}
function Ji(e) {
return Vo.merge(e.map(function(e) {
return (e.children || []).map(function(t) {
return {
source: e,
target: t
};
});
}));
}
function Zi(e) {
return e.x;
}
function er(e) {
return e.y;
}
function tr(e, t, n) {
e.y0 = t, e.y = n;
}
function nr(e) {
return Vo.range(e.length);
}
function ir(e) {
for (var t = -1, n = e[0].length, i = []; ++t < n; ) i[t] = 0;
return i;
}
function rr(e) {
for (var t, n = 1, i = 0, r = e[0][1], o = e.length; n < o; ++n) (t = e[n][1]) > r && (i = n, r = t);
return i;
}
function or(e) {
return e.reduce(ar, 0);
}
function ar(e, t) {
return e + t[1];
}
function sr(e, t) {
return lr(e, Math.ceil(Math.log(t.length) / Math.LN2 + 1));
}
function lr(e, t) {
for (var n = -1, i = +e[0], r = (e[1] - i) / t, o = []; ++n <= t; ) o[n] = r * n + i;
return o;
}
function cr(e) {
return [ Vo.min(e), Vo.max(e) ];
}
function ur(e, t) {
return e.value - t.value;
}
function dr(e, t) {
var n = e._pack_next;
e._pack_next = t, t._pack_prev = e, t._pack_next = n, n._pack_prev = t;
}
function hr(e, t) {
e._pack_next = t, t._pack_prev = e;
}
function pr(e, t) {
var n = t.x - e.x, i = t.y - e.y, r = e.r + t.r;
return .999 * r * r > n * n + i * i;
}
function fr(e) {
function t(e) {
u = Math.min(e.x - e.r, u), d = Math.max(e.x + e.r, d), h = Math.min(e.y - e.r, h), p = Math.max(e.y + e.r, p);
}
if ((n = e.children) && (c = n.length)) {
var n, i, r, o, a, s, l, c, u = 1 / 0, d = -1 / 0, h = 1 / 0, p = -1 / 0;
if (n.forEach(gr), i = n[0], i.x = -i.r, i.y = 0, t(i), c > 1 && (r = n[1], r.x = r.r, r.y = 0, t(r), c > 2)) for (yr(i, r, o = n[2]), t(o), dr(i, o), i._pack_prev = o, dr(o, r), r = i._pack_next, a = 3; a < c; a++) {
yr(i, r, o = n[a]);
var f = 0, g = 1, m = 1;
for (s = r._pack_next; s !== r; s = s._pack_next, g++) if (pr(s, o)) {
f = 1;
break;
}
if (1 == f) for (l = i._pack_prev; l !== s._pack_prev && !pr(l, o); l = l._pack_prev, m++) ;
f ? (g < m || g == m && r.r < i.r ? hr(i, r = s) : hr(i = l, r), a--) : (dr(i, o), r = o, t(o));
}
var v = (u + d) / 2, y = (h + p) / 2, b = 0;
for (a = 0; a < c; a++) (o = n[a]).x -= v, o.y -= y, b = Math.max(b, o.r + Math.sqrt(o.x * o.x + o.y * o.y));
e.r = b, n.forEach(mr);
}
}
function gr(e) {
e._pack_next = e._pack_prev = e;
}
function mr(e) {
delete e._pack_next, delete e._pack_prev;
}
function vr(e, t, n, i) {
var r = e.children;
if (e.x = t += i * e.x, e.y = n += i * e.y, e.r *= i, r) for (var o = -1, a = r.length; ++o < a; ) vr(r[o], t, n, i);
}
function yr(e, t, n) {
var i = e.r + n.r, r = t.x - e.x, o = t.y - e.y;
if (i && (r || o)) {
var a = t.r + n.r, s = r * r + o * o, l = .5 + ((i *= i) - (a *= a)) / (2 * s), c = Math.sqrt(Math.max(0, 2 * a * (i + s) - (i -= s) * i - a * a)) / (2 * s);
n.x = e.x + l * r + c * o, n.y = e.y + l * o - c * r;
} else n.x = e.x + i, n.y = e.y;
}
function br(e, t) {
return e.parent == t.parent ? 1 : 2;
}
function wr(e) {
var t = e.children;
return t.length ? t[0] : e.t;
}
function xr(e) {
var t, n = e.children;
return (t = n.length) ? n[t - 1] : e.t;
}
function Cr(e, t, n) {
var i = n / (t.i - e.i);
t.c -= i, t.s += n, e.c += i, t.z += n, t.m += n;
}
function _r(e) {
for (var t, n = 0, i = 0, r = e.children, o = r.length; --o >= 0; ) (t = r[o]).z += n, t.m += n, n += t.s + (i += t.c);
}
function Sr(e, t, n) {
return e.a.parent === t.parent ? e.a : n;
}
function $r(e) {
return 1 + Vo.max(e, function(e) {
return e.y;
});
}
function Ar(e) {
return e.reduce(function(e, t) {
return e + t.x;
}, 0) / e.length;
}
function kr(e) {
var t = e.children;
return t && t.length ? kr(t[0]) : e;
}
function Er(e) {
var t, n = e.children;
return n && (t = n.length) ? Er(n[t - 1]) : e;
}
function Tr(e) {
return {
x: e.x,
y: e.y,
dx: e.dx,
dy: e.dy
};
}
function Dr(e, t) {
var n = e.x + t[3], i = e.y + t[0], r = e.dx - t[1] - t[3], o = e.dy - t[0] - t[2];
return r < 0 && (n += r / 2, r = 0), o < 0 && (i += o / 2, o = 0), {
x: n,
y: i,
dx: r,
dy: o
};
}
function Fr(e) {
var t = e[0], n = e[e.length - 1];
return t < n ? [ t, n ] : [ n, t ];
}
function Mr(e) {
return e.rangeExtent ? e.rangeExtent() : Fr(e.range());
}
function Ir(e, t, n, i) {
var r = n(e[0], e[1]), o = i(t[0], t[1]);
return function(e) {
return o(r(e));
};
}
function Lr(e, t) {
var n, i = 0, r = e.length - 1, o = e[i], a = e[r];
return a < o && (n = i, i = r, r = n, n = o, o = a, a = n), e[i] = t.floor(o), e[r] = t.ceil(a), e;
}
function Pr(e) {
return e ? {
floor: function(t) {
return Math.floor(t / e) * e;
},
ceil: function(t) {
return Math.ceil(t / e) * e;
}
} : el;
}
function Or(e, t, n, i) {
var r = [], o = [], a = 0, s = Math.min(e.length, t.length) - 1;
for (e[s] < e[0] && (e = e.slice().reverse(), t = t.slice().reverse()); ++a <= s; ) r.push(n(e[a - 1], e[a])), o.push(i(t[a - 1], t[a]));
return function(t) {
var n = Vo.bisect(e, t, 1, s) - 1;
return o[n](r[n](t));
};
}
function Rr(e, t, n, i) {
function r() {
var r = Math.min(e.length, t.length) > 2 ? Or : Ir, l = i ? Ri : Oi;
return a = r(e, t, l, n), s = r(t, e, l, pi), o;
}
function o(e) {
return a(e);
}
var a, s;
return o.invert = function(e) {
return s(e);
}, o.domain = function(t) {
return arguments.length ? (e = t.map(Number), r()) : e;
}, o.range = function(e) {
return arguments.length ? (t = e, r()) : t;
}, o.rangeRound = function(e) {
return o.range(e).interpolate($i);
}, o.clamp = function(e) {
return arguments.length ? (i = e, r()) : i;
}, o.interpolate = function(e) {
return arguments.length ? (n = e, r()) : n;
}, o.ticks = function(t) {
return Ur(e, t);
}, o.tickFormat = function(t, n) {
return Vr(e, t, n);
}, o.nice = function(t) {
return Nr(e, t), r();
}, o.copy = function() {
return Rr(e, t, n, i);
}, r();
}
function Br(e, t) {
return Vo.rebind(e, t, "range", "rangeRound", "interpolate", "clamp");
}
function Nr(e, t) {
return Lr(e, Pr(jr(e, t)[2])), Lr(e, Pr(jr(e, t)[2])), e;
}
function jr(e, t) {
null == t && (t = 10);
var n = Fr(e), i = n[1] - n[0], r = Math.pow(10, Math.floor(Math.log(i / t) / Math.LN10)), o = t / i * r;
return o <= .15 ? r *= 10 : o <= .35 ? r *= 5 : o <= .75 && (r *= 2), n[0] = Math.ceil(n[0] / r) * r, n[1] = Math.floor(n[1] / r) * r + .5 * r, n[2] = r, n;
}
function Ur(e, t) {
return Vo.range.apply(Vo, jr(e, t));
}
function Vr(e, t, n) {
var i = jr(e, t);
if (n) {
var r = Va.exec(n);
if (r.shift(), "s" === r[8]) {
var o = Vo.formatPrefix(Math.max(Jo(i[0]), Jo(i[1])));
return r[7] || (r[7] = "." + Hr(o.scale(i[2]))), r[8] = "f", n = Vo.format(r.join("")), function(e) {
return n(o.scale(e)) + o.symbol;
};
}
r[7] || (r[7] = "." + zr(r[8], i)), n = r.join("");
} else n = ",." + Hr(i[2]) + "f";
return Vo.format(n);
}
function Hr(e) {
return -Math.floor(Math.log(e) / Math.LN10 + .01);
}
function zr(e, t) {
var n = Hr(t[2]);
return e in tl ? Math.abs(n - Hr(Math.max(Jo(t[0]), Jo(t[1])))) + +("e" !== e) : n - 2 * ("%" === e);
}
function Wr(e, t, n, i) {
function r(e) {
return (n ? Math.log(e < 0 ? 0 : e) : -Math.log(e > 0 ? 0 : -e)) / Math.log(t);
}
function o(e) {
return n ? Math.pow(t, e) : -Math.pow(t, -e);
}
function a(t) {
return e(r(t));
}
return a.invert = function(t) {
return o(e.invert(t));
}, a.domain = function(t) {
return arguments.length ? (n = t[0] >= 0, e.domain((i = t.map(Number)).map(r)), a) : i;
}, a.base = function(n) {
return arguments.length ? (t = +n, e.domain(i.map(r)), a) : t;
}, a.nice = function() {
var t = Lr(i.map(r), n ? Math : il);
return e.domain(t), i = t.map(o), a;
}, a.ticks = function() {
var e = Fr(i), a = [], s = e[0], l = e[1], c = Math.floor(r(s)), u = Math.ceil(r(l)), d = t % 1 ? 2 : t;
if (isFinite(u - c)) {
if (n) {
for (;c < u; c++) for (h = 1; h < d; h++) a.push(o(c) * h);
a.push(o(c));
} else for (a.push(o(c)); c++ < u; ) for (var h = d - 1; h > 0; h--) a.push(o(c) * h);
for (c = 0; a[c] < s; c++) ;
for (u = a.length; a[u - 1] > l; u--) ;
a = a.slice(c, u);
}
return a;
}, a.tickFormat = function(e, n) {
if (!arguments.length) return nl;
arguments.length < 2 ? n = nl : "function" != typeof n && (n = Vo.format(n));
var i = Math.max(1, t * e / a.ticks().length);
return function(e) {
var a = e / o(Math.round(r(e)));
return a * t < t - .5 && (a *= t), a <= i ? n(e) : "";
};
}, a.copy = function() {
return Wr(e.copy(), t, n, i);
}, Br(a, e);
}
function Gr(e, t, n) {
function i(t) {
return e(r(t));
}
var r = qr(t), o = qr(1 / t);
return i.invert = function(t) {
return o(e.invert(t));
}, i.domain = function(t) {
return arguments.length ? (e.domain((n = t.map(Number)).map(r)), i) : n;
}, i.ticks = function(e) {
return Ur(n, e);
}, i.tickFormat = function(e, t) {
return Vr(n, e, t);
}, i.nice = function(e) {
return i.domain(Nr(n, e));
}, i.exponent = function(a) {
return arguments.length ? (r = qr(t = a), o = qr(1 / t), e.domain(n.map(r)), i) : t;
}, i.copy = function() {
return Gr(e.copy(), t, n);
}, Br(i, e);
}
function qr(e) {
return function(t) {
return t < 0 ? -Math.pow(-t, e) : Math.pow(t, e);
};
}
function Yr(e, t) {
function n(n) {
return o[((r.get(n) || ("range" === t.t ? r.set(n, e.push(n)) : NaN)) - 1) % o.length];
}
function i(t, n) {
return Vo.range(e.length).map(function(e) {
return t + n * e;
});
}
var r, o, a;
return n.domain = function(i) {
if (!arguments.length) return e;
e = [], r = new c();
for (var o, a = -1, s = i.length; ++a < s; ) r.has(o = i[a]) || r.set(o, e.push(o));
return n[t.t].apply(n, t.a);
}, n.range = function(e) {
return arguments.length ? (o = e, a = 0, t = {
t: "range",
a: arguments
}, n) : o;
}, n.rangePoints = function(r, s) {
arguments.length < 2 && (s = 0);
var l = r[0], c = r[1], u = e.length < 2 ? (l = (l + c) / 2, 0) : (c - l) / (e.length - 1 + s);
return o = i(l + u * s / 2, u), a = 0, t = {
t: "rangePoints",
a: arguments
}, n;
}, n.rangeRoundPoints = function(r, s) {
arguments.length < 2 && (s = 0);
var l = r[0], c = r[1], u = e.length < 2 ? (l = c = Math.round((l + c) / 2), 0) : (c - l) / (e.length - 1 + s) | 0;
return o = i(l + Math.round(u * s / 2 + (c - l - (e.length - 1 + s) * u) / 2), u), a = 0, t = {
t: "rangeRoundPoints",
a: arguments
}, n;
}, n.rangeBands = function(r, s, l) {
arguments.length < 2 && (s = 0), arguments.length < 3 && (l = s);
var c = r[1] < r[0], u = r[c - 0], d = (r[1 - c] - u) / (e.length - s + 2 * l);
return o = i(u + d * l, d), c && o.reverse(), a = d * (1 - s), t = {
t: "rangeBands",
a: arguments
}, n;
}, n.rangeRoundBands = function(r, s, l) {
arguments.length < 2 && (s = 0), arguments.length < 3 && (l = s);
var c = r[1] < r[0], u = r[c - 0], d = r[1 - c], h = Math.floor((d - u) / (e.length - s + 2 * l));
return o = i(u + Math.round((d - u - (e.length - s) * h) / 2), h), c && o.reverse(), a = Math.round(h * (1 - s)), t = {
t: "rangeRoundBands",
a: arguments
}, n;
}, n.rangeBand = function() {
return a;
}, n.rangeExtent = function() {
return Fr(t.a[0]);
}, n.copy = function() {
return Yr(e, t);
}, n.domain(e);
}
function Kr(e, t) {
function o() {
var n = 0, i = t.length;
for (s = []; ++n < i; ) s[n - 1] = Vo.quantile(e, n / i);
return a;
}
function a(e) {
if (!isNaN(e = +e)) return t[Vo.bisect(s, e)];
}
var s;
return a.domain = function(t) {
return arguments.length ? (e = t.map(i).filter(r).sort(n), o()) : e;
}, a.range = function(e) {
return arguments.length ? (t = e, o()) : t;
}, a.quantiles = function() {
return s;
}, a.invertExtent = function(n) {
return (n = t.indexOf(n)) < 0 ? [ NaN, NaN ] : [ n > 0 ? s[n - 1] : e[0], n < s.length ? s[n] : e[e.length - 1] ];
}, a.copy = function() {
return Kr(e, t);
}, o();
}
function Xr(e, t, n) {
function i(t) {
return n[Math.max(0, Math.min(a, Math.floor(o * (t - e))))];
}
function r() {
return o = n.length / (t - e), a = n.length - 1, i;
}
var o, a;
return i.domain = function(n) {
return arguments.length ? (e = +n[0], t = +n[n.length - 1], r()) : [ e, t ];
}, i.range = function(e) {
return arguments.length ? (n = e, r()) : n;
}, i.invertExtent = function(t) {
return t = n.indexOf(t), t = t < 0 ? NaN : t / o + e, [ t, t + 1 / o ];
}, i.copy = function() {
return Xr(e, t, n);
}, r();
}
function Qr(e, t) {
function n(n) {
if (n <= n) return t[Vo.bisect(e, n)];
}
return n.domain = function(t) {
return arguments.length ? (e = t, n) : e;
}, n.range = function(e) {
return arguments.length ? (t = e, n) : t;
}, n.invertExtent = function(n) {
return n = t.indexOf(n), [ e[n - 1], e[n] ];
}, n.copy = function() {
return Qr(e, t);
}, n;
}
function Jr(e) {
function t(e) {
return +e;
}
return t.invert = t, t.domain = t.range = function(n) {
return arguments.length ? (e = n.map(t), t) : e;
}, t.ticks = function(t) {
return Ur(e, t);
}, t.tickFormat = function(t, n) {
return Vr(e, t, n);
}, t.copy = function() {
return Jr(e);
}, t;
}
function Zr() {
return 0;
}
function eo(e) {
return e.innerRadius;
}
function to(e) {
return e.outerRadius;
}
function no(e) {
return e.startAngle;
}
function io(e) {
return e.endAngle;
}
function ro(e) {
return e && e.padAngle;
}
function oo(e, t, n, i) {
return (e - n) * t - (t - i) * e > 0 ? 0 : 1;
}
function ao(e, t, n, i, r) {
var o = e[0] - t[0], a = e[1] - t[1], s = (r ? i : -i) / Math.sqrt(o * o + a * a), l = s * a, c = -s * o, u = e[0] + l, d = e[1] + c, h = t[0] + l, p = t[1] + c, f = (u + h) / 2, g = (d + p) / 2, m = h - u, v = p - d, y = m * m + v * v, b = n - i, w = u * p - h * d, x = (v < 0 ? -1 : 1) * Math.sqrt(Math.max(0, b * b * y - w * w)), C = (w * v - m * x) / y, _ = (-w * m - v * x) / y, S = (w * v + m * x) / y, $ = (-w * m + v * x) / y, A = C - f, k = _ - g, E = S - f, T = $ - g;
return A * A + k * k > E * E + T * T && (C = S, _ = $), [ [ C - l, _ - c ], [ C * n / b, _ * n / b ] ];
}
function so(e) {
function t(t) {
function a() {
c.push("M", o(e(u), s));
}
for (var l, c = [], u = [], d = -1, h = t.length, p = Ae(n), f = Ae(i); ++d < h; ) r.call(this, l = t[d], d) ? u.push([ +p.call(this, l, d), +f.call(this, l, d) ]) : u.length && (a(), u = []);
return u.length && a(), c.length ? c.join("") : null;
}
var n = Sn, i = $n, r = Et, o = lo, a = o.key, s = .7;
return t.x = function(e) {
return arguments.length ? (n = e, t) : n;
}, t.y = function(e) {
return arguments.length ? (i = e, t) : i;
}, t.defined = function(e) {
return arguments.length ? (r = e, t) : r;
}, t.interpolate = function(e) {
return arguments.length ? (a = "function" == typeof e ? o = e : (o = cl.get(e) || lo).key, t) : a;
}, t.tension = function(e) {
return arguments.length ? (s = e, t) : s;
}, t;
}
function lo(e) {
return e.length > 1 ? e.join("L") : e + "Z";
}
function co(e) {
return e.join("L") + "Z";
}
function uo(e) {
for (var t = 0, n = e.length, i = e[0], r = [ i[0], ",", i[1] ]; ++t < n; ) r.push("V", (i = e[t])[1], "H", i[0]);
return r.join("");
}
function ho(e) {
for (var t = 0, n = e.length, i = e[0], r = [ i[0], ",", i[1] ]; ++t < n; ) r.push("H", (i = e[t])[0], "V", i[1]);
return r.join("");
}
function po(e, t) {
if (t.length < 1 || e.length != t.length && e.length != t.length + 2) return lo(e);
var n = e.length != t.length, i = "", r = e[0], o = e[1], a = t[0], s = a, l = 1;
if (n && (i += "Q" + (o[0] - 2 * a[0] / 3) + "," + (o[1] - 2 * a[1] / 3) + "," + o[0] + "," + o[1], r = e[1], l = 2), t.length > 1) {
s = t[1], o = e[l], l++, i += "C" + (r[0] + a[0]) + "," + (r[1] + a[1]) + "," + (o[0] - s[0]) + "," + (o[1] - s[1]) + "," + o[0] + "," + o[1];
for (var c = 2; c < t.length; c++, l++) o = e[l], s = t[c], i += "S" + (o[0] - s[0]) + "," + (o[1] - s[1]) + "," + o[0] + "," + o[1];
}
if (n) {
var u = e[l];
i += "Q" + (o[0] + 2 * s[0] / 3) + "," + (o[1] + 2 * s[1] / 3) + "," + u[0] + "," + u[1];
}
return i;
}
function fo(e, t) {
for (var n, i = [], r = (1 - t) / 2, o = e[0], a = e[1], s = 1, l = e.length; ++s < l; ) n = o, o = a, a = e[s], i.push([ r * (a[0] - n[0]), r * (a[1] - n[1]) ]);
return i;
}
function go(e) {
if (e.length < 3) return lo(e);
var t = 1, n = e.length, i = e[0], r = i[0], o = i[1], a = [ r, r, r, (i = e[1])[0] ], s = [ o, o, o, i[1] ], l = [ r, ",", o, "L", mo(hl, a), ",", mo(hl, s) ];
for (e.push(e[n - 1]); ++t <= n; ) i = e[t], a.shift(), a.push(i[0]), s.shift(), s.push(i[1]), vo(l, a, s);
return e.pop(), l.push("L", i), l.join("");
}
function mo(e, t) {
return e[0] * t[0] + e[1] * t[1] + e[2] * t[2] + e[3] * t[3];
}
function vo(e, t, n) {
e.push("C", mo(ul, t), ",", mo(ul, n), ",", mo(dl, t), ",", mo(dl, n), ",", mo(hl, t), ",", mo(hl, n));
}
function yo(e, t) {
return (t[1] - e[1]) / (t[0] - e[0]);
}
function bo(e) {
for (var t = 0, n = e.length - 1, i = [], r = e[0], o = e[1], a = i[0] = yo(r, o); ++t < n; ) i[t] = (a + (a = yo(r = o, o = e[t + 1]))) / 2;
return i[t] = a, i;
}
function wo(e) {
for (var t, n, i, r, o = [], a = bo(e), s = -1, l = e.length - 1; ++s < l; ) t = yo(e[s], e[s + 1]), Jo(t) < ga ? a[s] = a[s + 1] = 0 : (r = (n = a[s] / t) * n + (i = a[s + 1] / t) * i) > 9 && (r = 3 * t / Math.sqrt(r), a[s] = r * n, a[s + 1] = r * i);
for (s = -1; ++s <= l; ) r = (e[Math.min(l, s + 1)][0] - e[Math.max(0, s - 1)][0]) / (6 * (1 + a[s] * a[s])), o.push([ r || 0, a[s] * r || 0 ]);
return o;
}
function xo(e) {
for (var t, n, i, r = -1, o = e.length; ++r < o; ) n = (t = e[r])[0], i = t[1] - wa, t[0] = n * Math.cos(i), t[1] = n * Math.sin(i);
return e;
}
function Co(e) {
function t(t) {
function l() {
g.push("M", s(e(v), d), u, c(e(m.reverse()), d), "Z");
}
for (var h, p, f, g = [], m = [], v = [], y = -1, b = t.length, w = Ae(n), x = Ae(r), C = n === i ? function() {
return p;
} : Ae(i), _ = r === o ? function() {
return f;
} : Ae(o); ++y < b; ) a.call(this, h = t[y], y) ? (m.push([ p = +w.call(this, h, y), f = +x.call(this, h, y) ]), v.push([ +C.call(this, h, y), +_.call(this, h, y) ])) : m.length && (l(), m = [], v = []);
return m.length && l(), g.length ? g.join("") : null;
}
var n = Sn, i = Sn, r = 0, o = $n, a = Et, s = lo, l = s.key, c = s, u = "L", d = .7;
return t.x = function(e) {
return arguments.length ? (n = i = e, t) : i;
}, t.x0 = function(e) {
return arguments.length ? (n = e, t) : n;
}, t.x1 = function(e) {
return arguments.length ? (i = e, t) : i;
}, t.y = function(e) {
return arguments.length ? (r = o = e, t) : o;
}, t.y0 = function(e) {
return arguments.length ? (r = e, t) : r;
}, t.y1 = function(e) {
return arguments.length ? (o = e, t) : o;
}, t.defined = function(e) {
return arguments.length ? (a = e, t) : a;
}, t.interpolate = function(e) {
return arguments.length ? (l = "function" == typeof e ? s = e : (s = cl.get(e) || lo).key, c = s.reverse || s, u = s.closed ? "M" : "L", t) : l;
}, t.tension = function(e) {
return arguments.length ? (d = e, t) : d;
}, t;
}
function _o(e) {
return e.radius;
}
function So(e) {
return [ e.x, e.y ];
}
function $o(e) {
return function() {
var t = e.apply(this, arguments), n = t[0], i = t[1] - wa;
return [ n * Math.cos(i), n * Math.sin(i) ];
};
}
function Ao() {
return 64;
}
function ko() {
return "circle";
}
function Eo(e) {
var t = Math.sqrt(e / va);
return "M0," + t + "A" + t + "," + t + " 0 1,1 0," + -t + "A" + t + "," + t + " 0 1,1 0," + t + "Z";
}
function To(e) {
return function() {
var t, n, i;
(t = this[e]) && (i = t[n = t.active]) && (i.timer.c = null, i.timer.t = NaN, --t.count ? delete t[n] : delete this[e], t.active += .5, i.event && i.event.interrupt.call(this, this.__data__, i.index));
};
}
function Do(e, t, n) {
return ia(e, bl), e.namespace = t, e.id = n, e;
}
function Fo(e, t, n, i) {
var r = e.id, o = e.namespace;
return H(e, "function" == typeof n ? function(e, a, s) {
e[o][r].tween.set(t, i(n.call(e, e.__data__, a, s)));
} : (n = i(n), function(e) {
e[o][r].tween.set(t, n);
}));
}
function Mo(e) {
return null == e && (e = ""), function() {
this.textContent = e;
};
}
function Io(e) {
return null == e ? "__transition__" : "__transition_" + e + "__";
}
function Lo(e, t, n, i, r) {
function o(n) {
var r = p.active, o = p[r];
o && (o.timer.c = null, o.timer.t = NaN, --p.count, delete p[r], o.event && o.event.interrupt.call(e, e.__data__, o.index));
for (var c in p) if (+c < i) {
var g = p[c];
g.timer.c = null, g.timer.t = NaN, --p.count, delete p[c];
}
l.c = a, Fe(function() {
return l.c && a(n || 1) && (l.c = null, l.t = NaN), 1;
}, 0, s), p.active = i, f.event && f.event.start.call(e, e.__data__, t), h = [], f.tween.forEach(function(n, i) {
(i = i.call(e, e.__data__, t)) && h.push(i);
}), d = f.ease, u = f.duration;
}
function a(r) {
for (var o = r / u, a = d(o), s = h.length; s > 0; ) h[--s].call(e, a);
if (o >= 1) return f.event && f.event.end.call(e, e.__data__, t), --p.count ? delete p[i] : delete e[n], 1;
}
var s, l, u, d, h, p = e[n] || (e[n] = {
active: 0,
count: 0
}), f = p[i];
f || (s = r.time, l = Fe(function(e) {
var t = f.delay;
if (l.t = t + s, t <= e) return o(e - t);
l.c = o;
}, 0, s), f = p[i] = {
tween: new c(),
time: s,
timer: l,
delay: r.delay,
duration: r.duration,
ease: r.ease,
index: t
}, r = null, ++p.count);
}
function Po(e, t, n) {
e.attr("transform", function(e) {
var i = t(e);
return "translate(" + (isFinite(i) ? i : n(e)) + ",0)";
});
}
function Oo(e, t, n) {
e.attr("transform", function(e) {
var i = t(e);
return "translate(0," + (isFinite(i) ? i : n(e)) + ")";
});
}
function Ro(e) {
return e.toISOString();
}
function Bo(e, t, n) {
function i(t) {
return e(t);
}
function r(e, n) {
var i = (e[1] - e[0]) / n, r = Vo.bisect(El, i);
return r == El.length ? [ t.year, jr(e.map(function(e) {
return e / 31536e6;
}), n)[2] ] : r ? t[i / El[r - 1] < El[r] / i ? r - 1 : r] : [ Fl, jr(e, n)[2] ];
}
return i.invert = function(t) {
return No(e.invert(t));
}, i.domain = function(t) {
return arguments.length ? (e.domain(t), i) : e.domain().map(No);
}, i.nice = function(e, t) {
function n(n) {
return !isNaN(n) && !e.range(n, No(+n + 1), t).length;
}
var o = i.domain(), a = Fr(o), s = null == e ? r(a, 10) : "number" == typeof e && r(a, e);
return s && (e = s[0], t = s[1]), i.domain(Lr(o, t > 1 ? {
floor: function(t) {
for (;n(t = e.floor(t)); ) t = No(t - 1);
return t;
},
ceil: function(t) {
for (;n(t = e.ceil(t)); ) t = No(+t + 1);
return t;
}
} : e));
}, i.ticks = function(e, t) {
var n = Fr(i.domain()), o = null == e ? r(n, 10) : "number" == typeof e ? r(n, e) : !e.range && [ {
range: e
}, t ];
return o && (e = o[0], t = o[1]), e.range(n[0], No(+n[1] + 1), t < 1 ? 1 : t);
}, i.tickFormat = function() {
return n;
}, i.copy = function() {
return Bo(e.copy(), t, n);
}, Br(i, e);
}
function No(e) {
return new Date(e);
}
function jo(e) {
return JSON.parse(e.responseText);
}
function Uo(e) {
var t = Wo.createRange();
return t.selectNode(Wo.body), t.createContextualFragment(e.responseText);
}
var Vo = {
version: "3.5.17"
}, Ho = [].slice, zo = function(e) {
return Ho.call(e);
}, Wo = this.document;
if (Wo) try {
zo(Wo.documentElement.childNodes)[0].nodeType;
} catch (e) {
zo = function(e) {
for (var t = e.length, n = new Array(t); t--; ) n[t] = e[t];
return n;
};
}
if (Date.now || (Date.now = function() {
return +new Date();
}), Wo) try {
Wo.createElement("DIV").style.setProperty("opacity", 0, "");
} catch (e) {
var Go = this.Element.prototype, qo = Go.setAttribute, Yo = Go.setAttributeNS, Ko = this.CSSStyleDeclaration.prototype, Xo = Ko.setProperty;
Go.setAttribute = function(e, t) {
qo.call(this, e, t + "");
}, Go.setAttributeNS = function(e, t, n) {
Yo.call(this, e, t, n + "");
}, Ko.setProperty = function(e, t, n) {
Xo.call(this, e, t + "", n);
};
}
Vo.ascending = n, Vo.descending = function(e, t) {
return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN;
}, Vo.min = function(e, t) {
var n, i, r = -1, o = e.length;
if (1 === arguments.length) {
for (;++r < o; ) if (null != (i = e[r]) && i >= i) {
n = i;
break;
}
for (;++r < o; ) null != (i = e[r]) && n > i && (n = i);
} else {
for (;++r < o; ) if (null != (i = t.call(e, e[r], r)) && i >= i) {
n = i;
break;
}
for (;++r < o; ) null != (i = t.call(e, e[r], r)) && n > i && (n = i);
}
return n;
}, Vo.max = function(e, t) {
var n, i, r = -1, o = e.length;
if (1 === arguments.length) {
for (;++r < o; ) if (null != (i = e[r]) && i >= i) {
n = i;
break;
}
for (;++r < o; ) null != (i = e[r]) && i > n && (n = i);
} else {
for (;++r < o; ) if (null != (i = t.call(e, e[r], r)) && i >= i) {
n = i;
break;
}
for (;++r < o; ) null != (i = t.call(e, e[r], r)) && i > n && (n = i);
}
return n;
}, Vo.extent = function(e, t) {
var n, i, r, o = -1, a = e.length;
if (1 === arguments.length) {
for (;++o < a; ) if (null != (i = e[o]) && i >= i) {
n = r = i;
break;
}
for (;++o < a; ) null != (i = e[o]) && (n > i && (n = i), r < i && (r = i));
} else {
for (;++o < a; ) if (null != (i = t.call(e, e[o], o)) && i >= i) {
n = r = i;
break;
}
for (;++o < a; ) null != (i = t.call(e, e[o], o)) && (n > i && (n = i), r < i && (r = i));
}
return [ n, r ];
}, Vo.sum = function(e, t) {
var n, i = 0, o = e.length, a = -1;
if (1 === arguments.length) for (;++a < o; ) r(n = +e[a]) && (i += n); else for (;++a < o; ) r(n = +t.call(e, e[a], a)) && (i += n);
return i;
}, Vo.mean = function(e, t) {
var n, o = 0, a = e.length, s = -1, l = a;
if (1 === arguments.length) for (;++s < a; ) r(n = i(e[s])) ? o += n : --l; else for (;++s < a; ) r(n = i(t.call(e, e[s], s))) ? o += n : --l;
if (l) return o / l;
}, Vo.quantile = function(e, t) {
var n = (e.length - 1) * t + 1, i = Math.floor(n), r = +e[i - 1], o = n - i;
return o ? r + o * (e[i] - r) : r;
}, Vo.median = function(e, t) {
var o, a = [], s = e.length, l = -1;
if (1 === arguments.length) for (;++l < s; ) r(o = i(e[l])) && a.push(o); else for (;++l < s; ) r(o = i(t.call(e, e[l], l))) && a.push(o);
if (a.length) return Vo.quantile(a.sort(n), .5);
}, Vo.variance = function(e, t) {
var n, o, a = e.length, s = 0, l = 0, c = -1, u = 0;
if (1 === arguments.length) for (;++c < a; ) r(n = i(e[c])) && (l += (o = n - s) * (n - (s += o / ++u))); else for (;++c < a; ) r(n = i(t.call(e, e[c], c))) && (l += (o = n - s) * (n - (s += o / ++u)));
if (u > 1) return l / (u - 1);
}, Vo.deviation = function() {
var e = Vo.variance.apply(this, arguments);
return e ? Math.sqrt(e) : e;
};
var Qo = o(n);
Vo.bisectLeft = Qo.left, Vo.bisect = Vo.bisectRight = Qo.right, Vo.bisector = function(e) {
return o(1 === e.length ? function(t, i) {
return n(e(t), i);
} : e);
}, Vo.shuffle = function(e, t, n) {
(o = arguments.length) < 3 && (n = e.length, o < 2 && (t = 0));
for (var i, r, o = n - t; o; ) r = Math.random() * o-- | 0, i = e[o + t], e[o + t] = e[r + t], e[r + t] = i;
return e;
}, Vo.permute = function(e, t) {
for (var n = t.length, i = new Array(n); n--; ) i[n] = e[t[n]];
return i;
}, Vo.pairs = function(e) {
for (var t = 0, n = e.length - 1, i = e[0], r = new Array(n < 0 ? 0 : n); t < n; ) r[t] = [ i, i = e[++t] ];
return r;
}, Vo.transpose = function(e) {
if (!(r = e.length)) return [];
for (var t = -1, n = Vo.min(e, a), i = new Array(n); ++t < n; ) for (var r, o = -1, s = i[t] = new Array(r); ++o < r; ) s[o] = e[o][t];
return i;
}, Vo.zip = function() {
return Vo.transpose(arguments);
}, Vo.keys = function(e) {
var t = [];
for (var n in e) t.push(n);
return t;
}, Vo.values = function(e) {
var t = [];
for (var n in e) t.push(e[n]);
return t;
}, Vo.entries = function(e) {
var t = [];
for (var n in e) t.push({
key: n,
value: e[n]
});
return t;
}, Vo.merge = function(e) {
for (var t, n, i, r = e.length, o = -1, a = 0; ++o < r; ) a += e[o].length;
for (n = new Array(a); --r >= 0; ) for (t = (i = e[r]).length; --t >= 0; ) n[--a] = i[t];
return n;
};
var Jo = Math.abs;
Vo.range = function(e, t, n) {
if (arguments.length < 3 && (n = 1, arguments.length < 2 && (t = e, e = 0)), (t - e) / n == 1 / 0) throw new Error("infinite range");
var i, r = [], o = s(Jo(n)), a = -1;
if (e *= o, t *= o, (n *= o) < 0) for (;(i = e + n * ++a) > t; ) r.push(i / o); else for (;(i = e + n * ++a) < t; ) r.push(i / o);
return r;
}, Vo.map = function(e, t) {
var n = new c();
if (e instanceof c) e.forEach(function(e, t) {
n.set(e, t);
}); else if (Array.isArray(e)) {
var i, r = -1, o = e.length;
if (1 === arguments.length) for (;++r < o; ) n.set(r, e[r]); else for (;++r < o; ) n.set(t.call(e, i = e[r], r), i);
} else for (var a in e) n.set(a, e[a]);
return n;
};
var Zo = "__proto__", ea = "\0";
l(c, {
has: h,
get: function(e) {
return this._[u(e)];
},
set: function(e, t) {
return this._[u(e)] = t;
},
remove: p,
keys: f,
values: function() {
var e = [];
for (var t in this._) e.push(this._[t]);
return e;
},
entries: function() {
var e = [];
for (var t in this._) e.push({
key: d(t),
value: this._[t]
});
return e;
},
size: g,
empty: m,
forEach: function(e) {
for (var t in this._) e.call(this, d(t), this._[t]);
}
}), Vo.nest = function() {
function e(t, a, s) {
if (s >= o.length) return i ? i.call(r, a) : n ? a.sort(n) : a;
for (var l, u, d, h, p = -1, f = a.length, g = o[s++], m = new c(); ++p < f; ) (h = m.get(l = g(u = a[p]))) ? h.push(u) : m.set(l, [ u ]);
return t ? (u = t(), d = function(n, i) {
u.set(n, e(t, i, s));
}) : (u = {}, d = function(n, i) {
u[n] = e(t, i, s);
}), m.forEach(d), u;
}
function t(e, n) {
if (n >= o.length) return e;
var i = [], r = a[n++];
return e.forEach(function(e, r) {
i.push({
key: e,
values: t(r, n)
});
}), r ? i.sort(function(e, t) {
return r(e.key, t.key);
}) : i;
}
var n, i, r = {}, o = [], a = [];
return r.map = function(t, n) {
return e(n, t, 0);
}, r.entries = function(n) {
return t(e(Vo.map, n, 0), 0);
}, r.key = function(e) {
return o.push(e), r;
}, r.sortKeys = function(e) {
return a[o.length - 1] = e, r;
}, r.sortValues = function(e) {
return n = e, r;
}, r.rollup = function(e) {
return i = e, r;
}, r;
}, Vo.set = function(e) {
var t = new v();
if (e) for (var n = 0, i = e.length; n < i; ++n) t.add(e[n]);
return t;
}, l(v, {
has: h,
add: function(e) {
return this._[u(e += "")] = !0, e;
},
remove: p,
values: f,
size: g,
empty: m,
forEach: function(e) {
for (var t in this._) e.call(this, d(t));
}
}), Vo.behavior = {}, Vo.rebind = function(e, t) {
for (var n, i = 1, r = arguments.length; ++i < r; ) e[n = arguments[i]] = b(e, t, t[n]);
return e;
};
var ta = [ "webkit", "ms", "moz", "Moz", "o", "O" ];
Vo.dispatch = function() {
for (var e = new C(), t = -1, n = arguments.length; ++t < n; ) e[arguments[t]] = _(e);
return e;
}, C.prototype.on = function(e, t) {
var n = e.indexOf("."), i = "";
if (n >= 0 && (i = e.slice(n + 1), e = e.slice(0, n)), e) return arguments.length < 2 ? this[e].on(i) : this[e].on(i, t);
if (2 === arguments.length) {
if (null == t) for (e in this) this.hasOwnProperty(e) && this[e].on(i, null);
return this;
}
}, Vo.event = null, Vo.requote = function(e) {
return e.replace(na, "\\$&");
};
var na = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g, ia = {}.__proto__ ? function(e, t) {
e.__proto__ = t;
} : function(e, t) {
for (var n in t) e[n] = t[n];
}, ra = function(e, t) {
return t.querySelector(e);
}, oa = function(e, t) {
return t.querySelectorAll(e);
}, aa = function(e, t) {
var n = e.matches || e[w(e, "matchesSelector")];
return (aa = function(e, t) {
return n.call(e, t);
})(e, t);
};
"function" == typeof Sizzle && (ra = function(e, t) {
return Sizzle(e, t)[0] || null;
}, oa = Sizzle, aa = Sizzle.matchesSelector), Vo.selection = function() {
return Vo.select(Wo.documentElement);
};
var sa = Vo.selection.prototype = [];
sa.select = function(e) {
var t, n, i, r, o = [];
e = E(e);
for (var a = -1, s = this.length; ++a < s; ) {
o.push(t = []), t.parentNode = (i = this[a]).parentNode;
for (var l = -1, c = i.length; ++l < c; ) (r = i[l]) ? (t.push(n = e.call(r, r.__data__, l, a)), n && "__data__" in r && (n.__data__ = r.__data__)) : t.push(null);
}
return k(o);
}, sa.selectAll = function(e) {
var t, n, i = [];
e = T(e);
for (var r = -1, o = this.length; ++r < o; ) for (var a = this[r], s = -1, l = a.length; ++s < l; ) (n = a[s]) && (i.push(t = zo(e.call(n, n.__data__, s, r))), t.parentNode = n);
return k(i);
};
var la = "http://www.w3.org/1999/xhtml", ca = {
svg: "http://www.w3.org/2000/svg",
xhtml: la,
xlink: "http://www.w3.org/1999/xlink",
xml: "http://www.w3.org/XML/1998/namespace",
xmlns: "http://www.w3.org/2000/xmlns/"
};
Vo.ns = {
prefix: ca,
qualify: function(e) {
var t = e.indexOf(":"), n = e;
return t >= 0 && "xmlns" !== (n = e.slice(0, t)) && (e = e.slice(t + 1)), ca.hasOwnProperty(n) ? {
space: ca[n],
local: e
} : e;
}
}, sa.attr = function(e, t) {
if (arguments.length < 2) {
if ("string" == typeof e) {
var n = this.node();
return (e = Vo.ns.qualify(e)).local ? n.getAttributeNS(e.space, e.local) : n.getAttribute(e);
}
for (t in e) this.each(D(t, e[t]));
return this;
}
return this.each(D(e, t));
}, sa.classed = function(e, t) {
if (arguments.length < 2) {
if ("string" == typeof e) {
var n = this.node(), i = (e = I(e)).length, r = -1;
if (t = n.classList) {
for (;++r < i; ) if (!t.contains(e[r])) return !1;
} else for (t = n.getAttribute("class"); ++r < i; ) if (!M(e[r]).test(t)) return !1;
return !0;
}
for (t in e) this.each(L(t, e[t]));
return this;
}
return this.each(L(e, t));
}, sa.style = function(e, n, i) {
var r = arguments.length;
if (r < 3) {
if ("string" != typeof e) {
r < 2 && (n = "");
for (i in e) this.each(O(i, e[i], n));
return this;
}
if (r < 2) {
var o = this.node();
return t(o).getComputedStyle(o, null).getPropertyValue(e);
}
i = "";
}
return this.each(O(e, n, i));
}, sa.property = function(e, t) {
if (arguments.length < 2) {
if ("string" == typeof e) return this.node()[e];
for (t in e) this.each(R(t, e[t]));
return this;
}
return this.each(R(e, t));
}, sa.text = function(e) {
return arguments.length ? this.each("function" == typeof e ? function() {
var t = e.apply(this, arguments);
this.textContent = null == t ? "" : t;
} : null == e ? function() {
this.textContent = "";
} : function() {
this.textContent = e;
}) : this.node().textContent;
}, sa.html = function(e) {
return arguments.length ? this.each("function" == typeof e ? function() {
var t = e.apply(this, arguments);
this.innerHTML = null == t ? "" : t;
} : null == e ? function() {
this.innerHTML = "";
} : function() {
this.innerHTML = e;
}) : this.node().innerHTML;
}, sa.append = function(e) {
return e = B(e), this.select(function() {
return this.appendChild(e.apply(this, arguments));
});
}, sa.insert = function(e, t) {
return e = B(e), t = E(t), this.select(function() {
return this.insertBefore(e.apply(this, arguments), t.apply(this, arguments) || null);
});
}, sa.remove = function() {
return this.each(N);
}, sa.data = function(e, t) {
function n(e, n) {
var i, r, o, a = e.length, d = n.length, h = Math.min(a, d), p = new Array(d), f = new Array(d), g = new Array(a);
if (t) {
var m, v = new c(), y = new Array(a);
for (i = -1; ++i < a; ) (r = e[i]) && (v.has(m = t.call(r, r.__data__, i)) ? g[i] = r : v.set(m, r), y[i] = m);
for (i = -1; ++i < d; ) (r = v.get(m = t.call(n, o = n[i], i))) ? !0 !== r && (p[i] = r, r.__data__ = o) : f[i] = j(o), v.set(m, !0);
for (i = -1; ++i < a; ) i in y && !0 !== v.get(y[i]) && (g[i] = e[i]);
} else {
for (i = -1; ++i < h; ) r = e[i], o = n[i], r ? (r.__data__ = o, p[i] = r) : f[i] = j(o);
for (;i < d; ++i) f[i] = j(n[i]);
for (;i < a; ++i) g[i] = e[i];
}
f.update = p, f.parentNode = p.parentNode = g.parentNode = e.parentNode, s.push(f), l.push(p), u.push(g);
}
var i, r, o = -1, a = this.length;
if (!arguments.length) {
for (e = new Array(a = (i = this[0]).length); ++o < a; ) (r = i[o]) && (e[o] = r.__data__);
return e;
}
var s = z([]), l = k([]), u = k([]);
if ("function" == typeof e) for (;++o < a; ) n(i = this[o], e.call(i, i.parentNode.__data__, o)); else for (;++o < a; ) n(i = this[o], e);
return l.enter = function() {
return s;
}, l.exit = function() {
return u;
}, l;
}, sa.datum = function(e) {
return arguments.length ? this.property("__data__", e) : this.property("__data__");
}, sa.filter = function(e) {
var t, n, i, r = [];
"function" != typeof e && (e = U(e));
for (var o = 0, a = this.length; o < a; o++) {
r.push(t = []), t.parentNode = (n = this[o]).parentNode;
for (var s = 0, l = n.length; s < l; s++) (i = n[s]) && e.call(i, i.__data__, s, o) && t.push(i);
}
return k(r);
}, sa.order = function() {
for (var e = -1, t = this.length; ++e < t; ) for (var n, i = this[e], r = i.length - 1, o = i[r]; --r >= 0; ) (n = i[r]) && (o && o !== n.nextSibling && o.parentNode.insertBefore(n, o), o = n);
return this;
}, sa.sort = function(e) {
e = V.apply(this, arguments);
for (var t = -1, n = this.length; ++t < n; ) this[t].sort(e);
return this.order();
}, sa.each = function(e) {
return H(this, function(t, n, i) {
e.call(t, t.__data__, n, i);
});
}, sa.call = function(e) {
var t = zo(arguments);
return e.apply(t[0] = this, t), this;
}, sa.empty = function() {
return !this.node();
}, sa.node = function() {
for (var e = 0, t = this.length; e < t; e++) for (var n = this[e], i = 0, r = n.length; i < r; i++) {
var o = n[i];
if (o) return o;
}
return null;
}, sa.size = function() {
var e = 0;
return H(this, function() {
++e;
}), e;
};
var ua = [];
Vo.selection.enter = z, Vo.selection.enter.prototype = ua, ua.append = sa.append, ua.empty = sa.empty, ua.node = sa.node, ua.call = sa.call, ua.size = sa.size, ua.select = function(e) {
for (var t, n, i, r, o, a = [], s = -1, l = this.length; ++s < l; ) {
i = (r = this[s]).update, a.push(t = []), t.parentNode = r.parentNode;
for (var c = -1, u = r.length; ++c < u; ) (o = r[c]) ? (t.push(i[c] = n = e.call(r.parentNode, o.__data__, c, s)), n.__data__ = o.__data__) : t.push(null);
}
return k(a);
}, ua.insert = function(e, t) {
return arguments.length < 2 && (t = W(this)), sa.insert.call(this, e, t);
}, Vo.select = function(t) {
var n;
return "string" == typeof t ? (n = [ ra(t, Wo) ]).parentNode = Wo.documentElement : (n = [ t ]).parentNode = e(t), k([ n ]);
}, Vo.selectAll = function(e) {
var t;
return "string" == typeof e ? (t = zo(oa(e, Wo))).parentNode = Wo.documentElement : (t = zo(e)).parentNode = null, k([ t ]);
}, sa.on = function(e, t, n) {
var i = arguments.length;
if (i < 3) {
if ("string" != typeof e) {
i < 2 && (t = !1);
for (n in e) this.each(G(n, e[n], t));
return this;
}
if (i < 2) return (i = this.node()["__on" + e]) && i._;
n = !1;
}
return this.each(G(e, t, n));
};
var da = Vo.map({
mouseenter: "mouseover",
mouseleave: "mouseout"
});
Wo && da.forEach(function(e) {
"on" + e in Wo && da.remove(e);
});
var ha, pa = 0;
Vo.mouse = function(e) {
return X(e, $());
};
var fa = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;
Vo.touch = function(e, t, n) {
if (arguments.length < 3 && (n = t, t = $().changedTouches), t) for (var i, r = 0, o = t.length; r < o; ++r) if ((i = t[r]).identifier === n) return X(e, i);
}, Vo.behavior.drag = function() {
function e() {
this.on("mousedown.drag", o).on("touchstart.drag", a);
}
function n(e, t, n, o, a) {
return function() {
var s, l = this, c = Vo.event.target.correspondingElement || Vo.event.target, u = l.parentNode, d = i.of(l, arguments), h = 0, p = e(), f = ".drag" + (null == p ? "" : "-" + p), g = Vo.select(n(c)).on(o + f, function() {
var e, n, i = t(u, p);
i && (e = i[0] - v[0], n = i[1] - v[1], h |= e | n, v = i, d({
type: "drag",
x: i[0] + s[0],
y: i[1] + s[1],
dx: e,
dy: n
}));
}).on(a + f, function() {
t(u, p) && (g.on(o + f, null).on(a + f, null), m(h), d({
type: "dragend"
}));
}), m = K(c), v = t(u, p);
r ? (s = r.apply(l, arguments), s = [ s.x - v[0], s.y - v[1] ]) : s = [ 0, 0 ], d({
type: "dragstart"
});
};
}
var i = A(e, "drag", "dragstart", "dragend"), r = null, o = n(x, Vo.mouse, t, "mousemove", "mouseup"), a = n(Q, Vo.touch, y, "touchmove", "touchend");
return e.origin = function(t) {
return arguments.length ? (r = t, e) : r;
}, Vo.rebind(e, i, "on");
}, Vo.touches = function(e, t) {
return arguments.length < 2 && (t = $().touches), t ? zo(t).map(function(t) {
var n = X(e, t);
return n.identifier = t.identifier, n;
}) : [];
};
var ga = 1e-6, ma = ga * ga, va = Math.PI, ya = 2 * va, ba = ya - ga, wa = va / 2, xa = va / 180, Ca = 180 / va, _a = Math.SQRT2;
Vo.interpolateZoom = function(e, t) {
var n, i, r = e[0], o = e[1], a = e[2], s = t[0], l = t[1], c = t[2], u = s - r, d = l - o, h = u * u + d * d;
if (h < ma) i = Math.log(c / a) / _a, n = function(e) {
return [ r + e * u, o + e * d, a * Math.exp(_a * e * i) ];
}; else {
var p = Math.sqrt(h), f = (c * c - a * a + 4 * h) / (2 * a * 2 * p), g = (c * c - a * a - 4 * h) / (2 * c * 2 * p), m = Math.log(Math.sqrt(f * f + 1) - f), v = Math.log(Math.sqrt(g * g + 1) - g);
i = (v - m) / _a, n = function(e) {
var t = e * i, n = ie(m), s = a / (2 * p) * (n * re(_a * t + m) - ne(m));
return [ r + s * u, o + s * d, a * n / ie(_a * t + m) ];
};
}
return n.duration = 1e3 * i, n;
}, Vo.behavior.zoom = function() {
function e(e) {
e.on(F, d).on($a + ".zoom", p).on("dblclick.zoom", f).on(L, h);
}
function n(e) {
return [ (e[0] - $.x) / $.k, (e[1] - $.y) / $.k ];
}
function i(e) {
return [ e[0] * $.k + $.x, e[1] * $.k + $.y ];
}
function r(e) {
$.k = Math.max(E[0], Math.min(E[1], e));
}
function o(e, t) {
t = i(t), $.x += e[0] - t[0], $.y += e[1] - t[1];
}
function a(t, n, i, a) {
t.__chart__ = {
x: $.x,
y: $.y,
k: $.k
}, r(Math.pow(2, a)), o(m = n, i), t = Vo.select(t), T > 0 && (t = t.transition().duration(T)), t.call(e.event);
}
function s() {
x && x.domain(w.range().map(function(e) {
return (e - $.x) / $.k;
}).map(w.invert)), _ && _.domain(C.range().map(function(e) {
return (e - $.y) / $.k;
}).map(C.invert));
}
function l(e) {
D++ || e({
type: "zoomstart"
});
}
function c(e) {
s(), e({
type: "zoom",
scale: $.k,
translate: [ $.x, $.y ]
});
}
function u(e) {
--D || (e({
type: "zoomend"
}), m = null);
}
function d() {
var e = this, i = P.of(e, arguments), r = 0, a = Vo.select(t(e)).on(M, function() {
r = 1, o(Vo.mouse(e), s), c(i);
}).on(I, function() {
a.on(M, null).on(I, null), d(r), u(i);
}), s = n(Vo.mouse(e)), d = K(e);
yl.call(e), l(i);
}
function h() {
function e() {
var e = Vo.touches(f);
return p = $.k, e.forEach(function(e) {
e.identifier in m && (m[e.identifier] = n(e));
}), e;
}
function t() {
var t = Vo.event.target;
Vo.select(t).on(w, i).on(x, s), C.push(t);
for (var n = Vo.event.changedTouches, r = 0, o = n.length; r < o; ++r) m[n[r].identifier] = null;
var l = e(), c = Date.now();
if (1 === l.length) {
if (c - b < 500) {
u = l[0];
a(f, u, m[u.identifier], Math.floor(Math.log($.k) / Math.LN2) + 1), S();
}
b = c;
} else if (l.length > 1) {
var u = l[0], d = l[1], h = u[0] - d[0], p = u[1] - d[1];
v = h * h + p * p;
}
}
function i() {
var e, t, n, i, a = Vo.touches(f);
yl.call(f);
for (var s = 0, l = a.length; s < l; ++s, i = null) if (n = a[s], i = m[n.identifier]) {
if (t) break;
e = n, t = i;
}
if (i) {
var u = (u = n[0] - e[0]) * u + (u = n[1] - e[1]) * u, d = v && Math.sqrt(u / v);
e = [ (e[0] + n[0]) / 2, (e[1] + n[1]) / 2 ], t = [ (t[0] + i[0]) / 2, (t[1] + i[1]) / 2 ], r(d * p);
}
b = null, o(e, t), c(g);
}
function s() {
if (Vo.event.touches.length) {
for (var t = Vo.event.changedTouches, n = 0, i = t.length; n < i; ++n) delete m[t[n].identifier];
for (var r in m) return void e();
}
Vo.selectAll(C).on(y, null), _.on(F, d).on(L, h), A(), u(g);
}
var p, f = this, g = P.of(f, arguments), m = {}, v = 0, y = ".zoom-" + Vo.event.changedTouches[0].identifier, w = "touchmove" + y, x = "touchend" + y, C = [], _ = Vo.select(f), A = K(f);
t(), l(g), _.on(F, null).on(L, t);
}
function p() {
var e = P.of(this, arguments);
y ? clearTimeout(y) : (yl.call(this), g = n(m = v || Vo.mouse(this)), l(e)), y = setTimeout(function() {
y = null, u(e);
}, 50), S(), r(Math.pow(2, .002 * Sa()) * $.k), o(m, g), c(e);
}
function f() {
var e = Vo.mouse(this), t = Math.log($.k) / Math.LN2;
a(this, e, n(e), Vo.event.shiftKey ? Math.ceil(t) - 1 : Math.floor(t) + 1);
}
var g, m, v, y, b, w, x, C, _, $ = {
x: 0,
y: 0,
k: 1
}, k = [ 960, 500 ], E = Aa, T = 250, D = 0, F = "mousedown.zoom", M = "mousemove.zoom", I = "mouseup.zoom", L = "touchstart.zoom", P = A(e, "zoomstart", "zoom", "zoomend");
return $a || ($a = "onwheel" in Wo ? (Sa = function() {
return -Vo.event.deltaY * (Vo.event.deltaMode ? 120 : 1);
}, "wheel") : "onmousewheel" in Wo ? (Sa = function() {
return Vo.event.wheelDelta;
}, "mousewheel") : (Sa = function() {
return -Vo.event.detail;
}, "MozMousePixelScroll")), e.event = function(e) {
e.each(function() {
var e = P.of(this, arguments), t = $;
ml ? Vo.select(this).transition().each("start.zoom", function() {
$ = this.__chart__ || {
x: 0,
y: 0,
k: 1
}, l(e);
}).tween("zoom:zoom", function() {
var n = k[0], i = k[1], r = m ? m[0] : n / 2, o = m ? m[1] : i / 2, a = Vo.interpolateZoom([ (r - $.x) / $.k, (o - $.y) / $.k, n / $.k ], [ (r - t.x) / t.k, (o - t.y) / t.k, n / t.k ]);
return function(t) {
var i = a(t), s = n / i[2];
this.__chart__ = $ = {
x: r - i[0] * s,
y: o - i[1] * s,
k: s
}, c(e);
};
}).each("interrupt.zoom", function() {
u(e);
}).each("end.zoom", function() {
u(e);
}) : (this.__chart__ = $, l(e), c(e), u(e));
});
}, e.translate = function(t) {
return arguments.length ? ($ = {
x: +t[0],
y: +t[1],
k: $.k
}, s(), e) : [ $.x, $.y ];
}, e.scale = function(t) {
return arguments.length ? ($ = {
x: $.x,
y: $.y,
k: null
}, r(+t), s(), e) : $.k;
}, e.scaleExtent = function(t) {
return arguments.length ? (E = null == t ? Aa : [ +t[0], +t[1] ], e) : E;
}, e.center = function(t) {
return arguments.length ? (v = t && [ +t[0], +t[1] ], e) : v;
}, e.size = function(t) {
return arguments.length ? (k = t && [ +t[0], +t[1] ], e) : k;
}, e.duration = function(t) {
return arguments.length ? (T = +t, e) : T;
}, e.x = function(t) {
return arguments.length ? (x = t, w = t.copy(), $ = {
x: 0,
y: 0,
k: 1
}, e) : x;
}, e.y = function(t) {
return arguments.length ? (_ = t, C = t.copy(), $ = {
x: 0,
y: 0,
k: 1
}, e) : _;
}, Vo.rebind(e, P, "on");
};
var Sa, $a, Aa = [ 0, 1 / 0 ];
Vo.color = ae, ae.prototype.toString = function() {
return this.rgb() + "";
}, Vo.hsl = se;
var ka = se.prototype = new ae();
ka.brighter = function(e) {
return e = Math.pow(.7, arguments.length ? e : 1), new se(this.h, this.s, this.l / e);
}, ka.darker = function(e) {
return e = Math.pow(.7, arguments.length ? e : 1), new se(this.h, this.s, e * this.l);
}, ka.rgb = function() {
return le(this.h, this.s, this.l);
}, Vo.hcl = ce;
var Ea = ce.prototype = new ae();
Ea.brighter = function(e) {
return new ce(this.h, this.c, Math.min(100, this.l + Ta * (arguments.length ? e : 1)));
}, Ea.darker = function(e) {
return new ce(this.h, this.c, Math.max(0, this.l - Ta * (arguments.length ? e : 1)));
}, Ea.rgb = function() {
return ue(this.h, this.c, this.l).rgb();
}, Vo.lab = de;
var Ta = 18, Da = .95047, Fa = 1, Ma = 1.08883, Ia = de.prototype = new ae();
Ia.brighter = function(e) {
return new de(Math.min(100, this.l + Ta * (arguments.length ? e : 1)), this.a, this.b);
}, Ia.darker = function(e) {
return new de(Math.max(0, this.l - Ta * (arguments.length ? e : 1)), this.a, this.b);
}, Ia.rgb = function() {
return he(this.l, this.a, this.b);
}, Vo.rgb = ve;
var La = ve.prototype = new ae();
La.brighter = function(e) {
e = Math.pow(.7, arguments.length ? e : 1);
var t = this.r, n = this.g, i = this.b, r = 30;
return t || n || i ? (t && t < r && (t = r), n && n < r && (n = r), i && i < r && (i = r), new ve(Math.min(255, t / e), Math.min(255, n / e), Math.min(255, i / e))) : new ve(r, r, r);
}, La.darker = function(e) {
return e = Math.pow(.7, arguments.length ? e : 1), new ve(e * this.r, e * this.g, e * this.b);
}, La.hsl = function() {
return Ce(this.r, this.g, this.b);
}, La.toString = function() {
return "#" + we(this.r) + we(this.g) + we(this.b);
};
var Pa = Vo.map({
aliceblue: 15792383,
antiquewhite: 16444375,
aqua: 65535,
aquamarine: 8388564,
azure: 15794175,
beige: 16119260,
bisque: 16770244,
black: 0,
blanchedalmond: 16772045,
blue: 255,
blueviolet: 9055202,
brown: 10824234,
burlywood: 14596231,
cadetblue: 6266528,
chartreuse: 8388352,
chocolate: 13789470,
coral: 16744272,
cornflowerblue: 6591981,
cornsilk: 16775388,
crimson: 14423100,
cyan: 65535,
darkblue: 139,
darkcyan: 35723,
darkgoldenrod: 12092939,
darkgray: 11119017,
darkgreen: 25600,
darkgrey: 11119017,
darkkhaki: 12433259,
darkmagenta: 9109643,
darkolivegreen: 5597999,
darkorange: 16747520,
darkorchid: 10040012,
darkred: 9109504,
darksalmon: 15308410,
darkseagreen: 9419919,
darkslateblue: 4734347,
darkslategray: 3100495,
darkslategrey: 3100495,
darkturquoise: 52945,
darkviolet: 9699539,
deeppink: 16716947,
deepskyblue: 49151,
dimgray: 6908265,
dimgrey: 6908265,
dodgerblue: 2003199,
firebrick: 11674146,
floralwhite: 16775920,
forestgreen: 2263842,
fuchsia: 16711935,
gainsboro: 14474460,
ghostwhite: 16316671,
gold: 16766720,
goldenrod: 14329120,
gray: 8421504,
green: 32768,
greenyellow: 11403055,
grey: 8421504,
honeydew: 15794160,
hotpink: 16738740,
indianred: 13458524,
indigo: 4915330,
ivory: 16777200,
khaki: 15787660,
lavender: 15132410,
lavenderblush: 16773365,
lawngreen: 8190976,
lemonchiffon: 16775885,
lightblue: 11393254,
lightcoral: 15761536,
lightcyan: 14745599,
lightgoldenrodyellow: 16448210,
lightgray: 13882323,
lightgreen: 9498256,
lightgrey: 13882323,
lightpink: 16758465,
lightsalmon: 16752762,
lightseagreen: 2142890,
lightskyblue: 8900346,
lightslategray: 7833753,
lightslategrey: 7833753,
lightsteelblue: 11584734,
lightyellow: 16777184,
lime: 65280,
limegreen: 3329330,
linen: 16445670,
magenta: 16711935,
maroon: 8388608,
mediumaquamarine: 6737322,
mediumblue: 205,
mediumorchid: 12211667,
mediumpurple: 9662683,
mediumseagreen: 3978097,
mediumslateblue: 8087790,
mediumspringgreen: 64154,
mediumturquoise: 4772300,
mediumvioletred: 13047173,
midnightblue: 1644912,
mintcream: 16121850,
mistyrose: 16770273,
moccasin: 16770229,
navajowhite: 16768685,
navy: 128,
oldlace: 16643558,
olive: 8421376,
olivedrab: 7048739,
orange: 16753920,
orangered: 16729344,
orchid: 14315734,
palegoldenrod: 15657130,
palegreen: 10025880,
paleturquoise: 11529966,
palevioletred: 14381203,
papayawhip: 16773077,
peachpuff: 16767673,
peru: 13468991,
pink: 16761035,
plum: 14524637,
powderblue: 11591910,
purple: 8388736,
rebeccapurple: 6697881,
red: 16711680,
rosybrown: 12357519,
royalblue: 4286945,
saddlebrown: 9127187,
salmon: 16416882,
sandybrown: 16032864,
seagreen: 3050327,
seashell: 16774638,
sienna: 10506797,
silver: 12632256,
skyblue: 8900331,
slateblue: 6970061,
slategray: 7372944,
slategrey: 7372944,
snow: 16775930,
springgreen: 65407,
steelblue: 4620980,
tan: 13808780,
teal: 32896,
thistle: 14204888,
tomato: 16737095,
turquoise: 4251856,
violet: 15631086,
wheat: 16113331,
white: 16777215,
whitesmoke: 16119285,
yellow: 16776960,
yellowgreen: 10145074
});
Pa.forEach(function(e, t) {
Pa.set(e, ye(t));
}), Vo.functor = Ae, Vo.xhr = ke(y), Vo.dsv = function(e, t) {
function n(e, n, o) {
arguments.length < 3 && (o = n, n = null);
var a = Ee(e, t, null == n ? i : r(n), o);
return a.row = function(e) {
return arguments.length ? a.response(null == (n = e) ? i : r(e)) : n;
}, a;
}
function i(e) {
return n.parse(e.responseText);
}
function r(e) {
return function(t) {
return n.parse(t.responseText, e);
};
}
function o(t) {
return t.map(a).join(e);
}
function a(e) {
return s.test(e) ? '"' + e.replace(/\"/g, '""') + '"' : e;
}
var s = new RegExp('["' + e + "\n]"), l = e.charCodeAt(0);
return n.parse = function(e, t) {
var i;
return n.parseRows(e, function(e, n) {
if (i) return i(e, n - 1);
var r = new Function("d", "return {" + e.map(function(e, t) {
return JSON.stringify(e) + ": d[" + t + "]";
}).join(",") + "}");
i = t ? function(e, n) {
return t(r(e), n);
} : r;
});
}, n.parseRows = function(e, t) {
function n() {
if (u >= c) return a;
if (r) return r = !1, o;
var t = u;
if (34 === e.charCodeAt(t)) {
for (var n = t; n++ < c; ) if (34 === e.charCodeAt(n)) {
if (34 !== e.charCodeAt(n + 1)) break;
++n;
}
return u = n + 2, 13 === (i = e.charCodeAt(n + 1)) ? (r = !0, 10 === e.charCodeAt(n + 2) && ++u) : 10 === i && (r = !0), e.slice(t + 1, n).replace(/""/g, '"');
}
for (;u < c; ) {
var i = e.charCodeAt(u++), s = 1;
if (10 === i) r = !0; else if (13 === i) r = !0, 10 === e.charCodeAt(u) && (++u, ++s); else if (i !== l) continue;
return e.slice(t, u - s);
}
return e.slice(t);
}
for (var i, r, o = {}, a = {}, s = [], c = e.length, u = 0, d = 0; (i = n()) !== a; ) {
for (var h = []; i !== o && i !== a; ) h.push(i), i = n();
t && null == (h = t(h, d++)) || s.push(h);
}
return s;
}, n.format = function(t) {
if (Array.isArray(t[0])) return n.formatRows(t);
var i = new v(), r = [];
return t.forEach(function(e) {
for (var t in e) i.has(t) || r.push(i.add(t));
}), [ r.map(a).join(e) ].concat(t.map(function(t) {
return r.map(function(e) {
return a(t[e]);
}).join(e);
})).join("\n");
}, n.formatRows = function(e) {
return e.map(o).join("\n");
}, n;
}, Vo.csv = Vo.dsv(",", "text/csv"), Vo.tsv = Vo.dsv("\t", "text/tab-separated-values");
var Oa, Ra, Ba, Na, ja = this[w(this, "requestAnimationFrame")] || function(e) {
setTimeout(e, 17);
};
Vo.timer = function() {
Fe.apply(this, arguments);
}, Vo.timer.flush = function() {
Ie(), Le();
}, Vo.round = function(e, t) {
return t ? Math.round(e * (t = Math.pow(10, t))) / t : Math.round(e);
};
var Ua = [ "y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y" ].map(function(e, t) {
var n = Math.pow(10, 3 * Jo(8 - t));
return {
scale: t > 8 ? function(e) {
return e / n;
} : function(e) {
return e * n;
},
symbol: e
};
});
Vo.formatPrefix = function(e, t) {
var n = 0;
return (e = +e) && (e < 0 && (e *= -1), t && (e = Vo.round(e, Pe(e, t))), n = 1 + Math.floor(1e-12 + Math.log(e) / Math.LN10), n = Math.max(-24, Math.min(24, 3 * Math.floor((n - 1) / 3)))), Ua[8 + n / 3];
};
var Va = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i, Ha = Vo.map({
b: function(e) {
return e.toString(2);
},
c: function(e) {
return String.fromCharCode(e);
},
o: function(e) {
return e.toString(8);
},
x: function(e) {
return e.toString(16);
},
X: function(e) {
return e.toString(16).toUpperCase();
},
g: function(e, t) {
return e.toPrecision(t);
},
e: function(e, t) {
return e.toExponential(t);
},
f: function(e, t) {
return e.toFixed(t);
},
r: function(e, t) {
return (e = Vo.round(e, Pe(e, t))).toFixed(Math.max(0, Math.min(20, Pe(e * (1 + 1e-15), t))));
}
}), za = Vo.time = {}, Wa = Date;
Be.prototype = {
getDate: function() {
return this._.getUTCDate();
},
getDay: function() {
return this._.getUTCDay();
},
getFullYear: function() {
return this._.getUTCFullYear();
},
getHours: function() {
return this._.getUTCHours();
},
getMilliseconds: function() {
return this._.getUTCMilliseconds();
},
getMinutes: function() {
return this._.getUTCMinutes();
},
getMonth: function() {
return this._.getUTCMonth();
},
getSeconds: function() {
return this._.getUTCSeconds();
},
getTime: function() {
return this._.getTime();
},
getTimezoneOffset: function() {
return 0;
},
valueOf: function() {
return this._.valueOf();
},
setDate: function() {
Ga.setUTCDate.apply(this._, arguments);
},
setDay: function() {
Ga.setUTCDay.apply(this._, arguments);
},
setFullYear: function() {
Ga.setUTCFullYear.apply(this._, arguments);
},
setHours: function() {
Ga.setUTCHours.apply(this._, arguments);
},
setMilliseconds: function() {
Ga.setUTCMilliseconds.apply(this._, arguments);
},
setMinutes: function() {
Ga.setUTCMinutes.apply(this._, arguments);
},
setMonth: function() {
Ga.setUTCMonth.apply(this._, arguments);
},
setSeconds: function() {
Ga.setUTCSeconds.apply(this._, arguments);
},
setTime: function() {
Ga.setTime.apply(this._, arguments);
}
};
var Ga = Date.prototype;
za.year = Ne(function(e) {
return (e = za.day(e)).setMonth(0, 1), e;
}, function(e, t) {
e.setFullYear(e.getFullYear() + t);
}, function(e) {
return e.getFullYear();
}), za.years = za.year.range, za.years.utc = za.year.utc.range, za.day = Ne(function(e) {
var t = new Wa(2e3, 0);
return t.setFullYear(e.getFullYear(), e.getMonth(), e.getDate()), t;
}, function(e, t) {
e.setDate(e.getDate() + t);
}, function(e) {
return e.getDate() - 1;
}), za.days = za.day.range, za.days.utc = za.day.utc.range, za.dayOfYear = function(e) {
var t = za.year(e);
return Math.floor((e - t - 6e4 * (e.getTimezoneOffset() - t.getTimezoneOffset())) / 864e5);
}, [ "sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday" ].forEach(function(e, t) {
t = 7 - t;
var n = za[e] = Ne(function(e) {
return (e = za.day(e)).setDate(e.getDate() - (e.getDay() + t) % 7), e;
}, function(e, t) {
e.setDate(e.getDate() + 7 * Math.floor(t));
}, function(e) {
var n = za.year(e).getDay();
return Math.floor((za.dayOfYear(e) + (n + t) % 7) / 7) - (n !== t);
});
za[e + "s"] = n.range, za[e + "s"].utc = n.utc.range, za[e + "OfYear"] = function(e) {
var n = za.year(e).getDay();
return Math.floor((za.dayOfYear(e) + (n + t) % 7) / 7);
};
}), za.week = za.sunday, za.weeks = za.sunday.range, za.weeks.utc = za.sunday.utc.range, za.weekOfYear = za.sundayOfYear;
var qa = {
"-": "",
_: " ",
"0": "0"
}, Ya = /^\s*\d+/, Ka = /^%/;
Vo.locale = function(e) {
return {
numberFormat: Oe(e),
timeFormat: Ue(e)
};
};
var Xa = Vo.locale({
decimal: ".",
thousands: ",",
grouping: [ 3 ],
currency: [ "$", "" ],
dateTime: "%a %b %e %X %Y",
date: "%m/%d/%Y",
time: "%H:%M:%S",
periods: [ "AM", "PM" ],
days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
shortDays: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
shortMonths: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ]
});
Vo.format = Xa.numberFormat, Vo.geo = {}, lt.prototype = {
s: 0,
t: 0,
add: function(e) {
ct(e, this.t, Qa), ct(Qa.s, this.s, this), this.s ? this.t += Qa.t : this.s = Qa.t;
},
reset: function() {
this.s = this.t = 0;
},
valueOf: function() {
return this.s;
}
};
var Qa = new lt();
Vo.geo.stream = function(e, t) {
e && Ja.hasOwnProperty(e.type) ? Ja[e.type](e, t) : ut(e, t);
};
var Ja = {
Feature: function(e, t) {
ut(e.geometry, t);
},
FeatureCollection: function(e, t) {
for (var n = e.features, i = -1, r = n.length; ++i < r; ) ut(n[i].geometry, t);
}
}, Za = {
Sphere: function(e, t) {
t.sphere();
},
Point: function(e, t) {
e = e.coordinates, t.point(e[0], e[1], e[2]);
},
MultiPoint: function(e, t) {
for (var n = e.coordinates, i = -1, r = n.length; ++i < r; ) e = n[i], t.point(e[0], e[1], e[2]);
},
LineString: function(e, t) {
dt(e.coordinates, t, 0);
},
MultiLineString: function(e, t) {
for (var n = e.coordinates, i = -1, r = n.length; ++i < r; ) dt(n[i], t, 0);
},
Polygon: function(e, t) {
ht(e.coordinates, t);
},
MultiPolygon: function(e, t) {
for (var n = e.coordinates, i = -1, r = n.length; ++i < r; ) ht(n[i], t);
},
GeometryCollection: function(e, t) {
for (var n = e.geometries, i = -1, r = n.length; ++i < r; ) ut(n[i], t);
}
};
Vo.geo.area = function(e) {
return es = 0, Vo.geo.stream(e, ns), es;
};
var es, ts = new lt(), ns = {
sphere: function() {
es += 4 * va;
},
point: x,
lineStart: x,
lineEnd: x,
polygonStart: function() {
ts.reset(), ns.lineStart = pt;
},
polygonEnd: function() {
var e = 2 * ts;
es += e < 0 ? 4 * va + e : e, ns.lineStart = ns.lineEnd = ns.point = x;
}
};
Vo.geo.bounds = function() {
function e(e, t) {
b.push(w = [ u = e, h = e ]), t < d && (d = t), t > p && (p = t);
}
function t(t, n) {
var i = ft([ t * xa, n * xa ]);
if (v) {
var r = mt(v, i), o = mt([ r[1], -r[0], 0 ], r);
bt(o), o = wt(o);
var a = t - f, l = a > 0 ? 1 : -1, c = o[0] * Ca * l, g = Jo(a) > 180;
if (g ^ (l * f < c && c < l * t)) (m = o[1] * Ca) > p && (p = m); else if (c = (c + 360) % 360 - 180, g ^ (l * f < c && c < l * t)) {
var m = -o[1] * Ca;
m < d && (d = m);
} else n < d && (d = n), n > p && (p = n);
g ? t < f ? s(u, t) > s(u, h) && (h = t) : s(t, h) > s(u, h) && (u = t) : h >= u ? (t < u && (u = t), t > h && (h = t)) : t > f ? s(u, t) > s(u, h) && (h = t) : s(t, h) > s(u, h) && (u = t);
} else e(t, n);
v = i, f = t;
}
function n() {
x.point = t;
}
function i() {
w[0] = u, w[1] = h, x.point = e, v = null;
}
function r(e, n) {
if (v) {
var i = e - f;
y += Jo(i) > 180 ? i + (i > 0 ? 360 : -360) : i;
} else g = e, m = n;
ns.point(e, n), t(e, n);
}
function o() {
ns.lineStart();
}
function a() {
r(g, m), ns.lineEnd(), Jo(y) > ga && (u = -(h = 180)), w[0] = u, w[1] = h, v = null;
}
function s(e, t) {
return (t -= e) < 0 ? t + 360 : t;
}
function l(e, t) {
return e[0] - t[0];
}
function c(e, t) {
return t[0] <= t[1] ? t[0] <= e && e <= t[1] : e < t[0] || t[1] < e;
}
var u, d, h, p, f, g, m, v, y, b, w, x = {
point: e,
lineStart: n,
lineEnd: i,
polygonStart: function() {
x.point = r, x.lineStart = o, x.lineEnd = a, y = 0, ns.polygonStart();
},
polygonEnd: function() {
ns.polygonEnd(), x.point = e, x.lineStart = n, x.lineEnd = i, ts < 0 ? (u = -(h = 180), d = -(p = 90)) : y > ga ? p = 90 : y < -ga && (d = -90), w[0] = u, w[1] = h;
}
};
return function(e) {
p = h = -(u = d = 1 / 0), b = [], Vo.geo.stream(e, x);
var t = b.length;
if (t) {
b.sort(l);
for (var n = 1, i = [ f = b[0] ]; n < t; ++n) c((o = b[n])[0], f) || c(o[1], f) ? (s(f[0], o[1]) > s(f[0], f[1]) && (f[1] = o[1]), s(o[0], f[1]) > s(f[0], f[1]) && (f[0] = o[0])) : i.push(f = o);
for (var r, o, a = -1 / 0, n = 0, f = i[t = i.length - 1]; n <= t; f = o, ++n) o = i[n], (r = s(f[1], o[0])) > a && (a = r, u = o[0], h = f[1]);
}
return b = w = null, u === 1 / 0 || d === 1 / 0 ? [ [ NaN, NaN ], [ NaN, NaN ] ] : [ [ u, d ], [ h, p ] ];
};
}(), Vo.geo.centroid = function(e) {
is = rs = os = as = ss = ls = cs = us = ds = hs = ps = 0, Vo.geo.stream(e, fs);
var t = ds, n = hs, i = ps, r = t * t + n * n + i * i;
return r < ma && (t = ls, n = cs, i = us, rs < ga && (t = os, n = as, i = ss), (r = t * t + n * n + i * i) < ma) ? [ NaN, NaN ] : [ Math.atan2(n, t) * Ca, te(i / Math.sqrt(r)) * Ca ];
};
var is, rs, os, as, ss, ls, cs, us, ds, hs, ps, fs = {
sphere: x,
point: Ct,
lineStart: St,
lineEnd: $t,
polygonStart: function() {
fs.lineStart = At;
},
polygonEnd: function() {
fs.lineStart = St;
}
}, gs = Mt(Et, function(e) {
var t, n = NaN, i = NaN, r = NaN;
return {
lineStart: function() {
e.lineStart(), t = 1;
},
point: function(o, a) {
var s = o > 0 ? va : -va, l = Jo(o - n);
Jo(l - va) < ga ? (e.point(n, i = (i + a) / 2 > 0 ? wa : -wa), e.point(r, i), e.lineEnd(), e.lineStart(), e.point(s, i), e.point(o, i), t = 0) : r !== s && l >= va && (Jo(n - r) < ga && (n -= r * ga), Jo(o - s) < ga && (o -= s * ga), i = Ot(n, i, o, a), e.point(r, i), e.lineEnd(), e.lineStart(), e.point(s, i), t = 0), e.point(n = o, i = a), r = s;
},
lineEnd: function() {
e.lineEnd(), n = i = NaN;
},
clean: function() {
return 2 - t;
}
};
}, function(e, t, n, i) {
var r;
if (null == e) r = n * wa, i.point(-va, r), i.point(0, r), i.point(va, r), i.point(va, 0), i.point(va, -r), i.point(0, -r), i.point(-va, -r), i.point(-va, 0), i.point(-va, r); else if (Jo(e[0] - t[0]) > ga) {
var o = e[0] < t[0] ? va : -va;
r = n * o / 2, i.point(-o, r), i.point(0, r), i.point(o, r);
} else i.point(t[0], t[1]);
}, [ -va, -va / 2 ]), ms = 1e9;
Vo.geo.clipExtent = function() {
var e, t, n, i, r, o, a = {
stream: function(e) {
return r && (r.valid = !1), r = o(e), r.valid = !0, r;
},
extent: function(s) {
return arguments.length ? (o = jt(e = +s[0][0], t = +s[0][1], n = +s[1][0], i = +s[1][1]), r && (r.valid = !1, r = null), a) : [ [ e, t ], [ n, i ] ];
}
};
return a.extent([ [ 0, 0 ], [ 960, 500 ] ]);
}, (Vo.geo.conicEqualArea = function() {
return Ut(Vt);
}).raw = Vt, Vo.geo.albers = function() {
return Vo.geo.conicEqualArea().rotate([ 96, 0 ]).center([ -.6, 38.7 ]).parallels([ 29.5, 45.5 ]).scale(1070);
}, Vo.geo.albersUsa = function() {
function e(e) {
var o = e[0], a = e[1];
return t = null, n(o, a), t || (i(o, a), t) || r(o, a), t;
}
var t, n, i, r, o = Vo.geo.albers(), a = Vo.geo.conicEqualArea().rotate([ 154, 0 ]).center([ -2, 58.5 ]).parallels([ 55, 65 ]), s = Vo.geo.conicEqualArea().rotate([ 157, 0 ]).center([ -3, 19.9 ]).parallels([ 8, 18 ]), l = {
point: function(e, n) {
t = [ e, n ];
}
};
return e.invert = function(e) {
var t = o.scale(), n = o.translate(), i = (e[0] - n[0]) / t, r = (e[1] - n[1]) / t;
return (r >= .12 && r < .234 && i >= -.425 && i < -.214 ? a : r >= .166 && r < .234 && i >= -.214 && i < -.115 ? s : o).invert(e);
}, e.stream = function(e) {
var t = o.stream(e), n = a.stream(e), i = s.stream(e);
return {
point: function(e, r) {
t.point(e, r), n.point(e, r), i.point(e, r);
},
sphere: function() {
t.sphere(), n.sphere(), i.sphere();
},
lineStart: function() {
t.lineStart(), n.lineStart(), i.lineStart();
},
lineEnd: function() {
t.lineEnd(), n.lineEnd(), i.lineEnd();
},
polygonStart: function() {
t.polygonStart(), n.polygonStart(), i.polygonStart();
},
polygonEnd: function() {
t.polygonEnd(), n.polygonEnd(), i.polygonEnd();
}
};
}, e.precision = function(t) {
return arguments.length ? (o.precision(t), a.precision(t), s.precision(t), e) : o.precision();
}, e.scale = function(t) {
return arguments.length ? (o.scale(t), a.scale(.35 * t), s.scale(t), e.translate(o.translate())) : o.scale();
}, e.translate = function(t) {
if (!arguments.length) return o.translate();
var c = o.scale(), u = +t[0], d = +t[1];
return n = o.translate(t).clipExtent([ [ u - .455 * c, d - .238 * c ], [ u + .455 * c, d + .238 * c ] ]).stream(l).point, i = a.translate([ u - .307 * c, d + .201 * c ]).clipExtent([ [ u - .425 * c + ga, d + .12 * c + ga ], [ u - .214 * c - ga, d + .234 * c - ga ] ]).stream(l).point, r = s.translate([ u - .205 * c, d + .212 * c ]).clipExtent([ [ u - .214 * c + ga, d + .166 * c + ga ], [ u - .115 * c - ga, d + .234 * c - ga ] ]).stream(l).point, e;
}, e.scale(1070);
};
var vs, ys, bs, ws, xs, Cs, _s = {
point: x,
lineStart: x,
lineEnd: x,
polygonStart: function() {
ys = 0, _s.lineStart = Ht;
},
polygonEnd: function() {
_s.lineStart = _s.lineEnd = _s.point = x, vs += Jo(ys / 2);
}
}, Ss = {
point: function(e, t) {
e < bs && (bs = e), e > xs && (xs = e), t < ws && (ws = t), t > Cs && (Cs = t);
},
lineStart: x,
lineEnd: x,
polygonStart: x,
polygonEnd: x
}, $s = {
point: Gt,
lineStart: qt,
lineEnd: Yt,
polygonStart: function() {
$s.lineStart = Kt;
},
polygonEnd: function() {
$s.point = Gt, $s.lineStart = qt, $s.lineEnd = Yt;
}
};
Vo.geo.path = function() {
function e(e) {
return e && ("function" == typeof s && o.pointRadius(+s.apply(this, arguments)), a && a.valid || (a = r(o)), Vo.geo.stream(e, a)), o.result();
}
function t() {
return a = null, e;
}
var n, i, r, o, a, s = 4.5;
return e.area = function(e) {
return vs = 0, Vo.geo.stream(e, r(_s)), vs;
}, e.centroid = function(e) {
return os = as = ss = ls = cs = us = ds = hs = ps = 0, Vo.geo.stream(e, r($s)), ps ? [ ds / ps, hs / ps ] : us ? [ ls / us, cs / us ] : ss ? [ os / ss, as / ss ] : [ NaN, NaN ];
}, e.bounds = function(e) {
return xs = Cs = -(bs = ws = 1 / 0), Vo.geo.stream(e, r(Ss)), [ [ bs, ws ], [ xs, Cs ] ];
}, e.projection = function(e) {
return arguments.length ? (r = (n = e) ? e.stream || Jt(e) : y, t()) : n;
}, e.context = function(e) {
return arguments.length ? (o = null == (i = e) ? new zt() : new Xt(e), "function" != typeof s && o.pointRadius(s), t()) : i;
}, e.pointRadius = function(t) {
return arguments.length ? (s = "function" == typeof t ? t : (o.pointRadius(+t), +t), e) : s;
}, e.projection(Vo.geo.albersUsa()).context(null);
}, Vo.geo.transform = function(e) {
return {
stream: function(t) {
var n = new Zt(t);
for (var i in e) n[i] = e[i];
return n;
}
};
}, Zt.prototype = {
point: function(e, t) {
this.stream.point(e, t);
},
sphere: function() {
this.stream.sphere();
},
lineStart: function() {
this.stream.lineStart();
},
lineEnd: function() {
this.stream.lineEnd();
},
polygonStart: function() {
this.stream.polygonStart();
},
polygonEnd: function() {
this.stream.polygonEnd();
}
}, Vo.geo.projection = tn, Vo.geo.projectionMutator = nn, (Vo.geo.equirectangular = function() {
return tn(on);
}).raw = on.invert = on, Vo.geo.rotation = function(e) {
function t(t) {
return t = e(t[0] * xa, t[1] * xa), t[0] *= Ca, t[1] *= Ca, t;
}
return e = sn(e[0] % 360 * xa, e[1] * xa, e.length > 2 ? e[2] * xa : 0), t.invert = function(t) {
return t = e.invert(t[0] * xa, t[1] * xa), t[0] *= Ca, t[1] *= Ca, t;
}, t;
}, an.invert = on, Vo.geo.circle = function() {
function e() {
var e = "function" == typeof i ? i.apply(this, arguments) : i, t = sn(-e[0] * xa, -e[1] * xa, 0).invert, r = [];
return n(null, null, 1, {
point: function(e, n) {
r.push(e = t(e, n)), e[0] *= Ca, e[1] *= Ca;
}
}), {
type: "Polygon",
coordinates: [ r ]
};
}
var t, n, i = [ 0, 0 ], r = 6;
return e.origin = function(t) {
return arguments.length ? (i = t, e) : i;
}, e.angle = function(i) {
return arguments.length ? (n = dn((t = +i) * xa, r * xa), e) : t;
}, e.precision = function(i) {
return arguments.length ? (n = dn(t * xa, (r = +i) * xa), e) : r;
}, e.angle(90);
}, Vo.geo.distance = function(e, t) {
var n, i = (t[0] - e[0]) * xa, r = e[1] * xa, o = t[1] * xa, a = Math.sin(i), s = Math.cos(i), l = Math.sin(r), c = Math.cos(r), u = Math.sin(o), d = Math.cos(o);
return Math.atan2(Math.sqrt((n = d * a) * n + (n = c * u - l * d * s) * n), l * u + c * d * s);
}, Vo.geo.graticule = function() {
function e() {
return {
type: "MultiLineString",
coordinates: t()
};
}
function t() {
return Vo.range(Math.ceil(o / m) * m, r, m).map(h).concat(Vo.range(Math.ceil(c / v) * v, l, v).map(p)).concat(Vo.range(Math.ceil(i / f) * f, n, f).filter(function(e) {
return Jo(e % m) > ga;
}).map(u)).concat(Vo.range(Math.ceil(s / g) * g, a, g).filter(function(e) {
return Jo(e % v) > ga;
}).map(d));
}
var n, i, r, o, a, s, l, c, u, d, h, p, f = 10, g = f, m = 90, v = 360, y = 2.5;
return e.lines = function() {
return t().map(function(e) {
return {
type: "LineString",
coordinates: e
};
});
}, e.outline = function() {
return {
type: "Polygon",
coordinates: [ h(o).concat(p(l).slice(1), h(r).reverse().slice(1), p(c).reverse().slice(1)) ]
};
}, e.extent = function(t) {
return arguments.length ? e.majorExtent(t).minorExtent(t) : e.minorExtent();
}, e.majorExtent = function(t) {
return arguments.length ? (o = +t[0][0], r = +t[1][0], c = +t[0][1], l = +t[1][1], o > r && (t = o, o = r, r = t), c > l && (t = c, c = l, l = t), e.precision(y)) : [ [ o, c ], [ r, l ] ];
}, e.minorExtent = function(t) {
return arguments.length ? (i = +t[0][0], n = +t[1][0], s = +t[0][1], a = +t[1][1], i > n && (t = i, i = n, n = t), s > a && (t = s, s = a, a = t), e.precision(y)) : [ [ i, s ], [ n, a ] ];
}, e.step = function(t) {
return arguments.length ? e.majorStep(t).minorStep(t) : e.minorStep();
}, e.majorStep = function(t) {
return arguments.length ? (m = +t[0], v = +t[1], e) : [ m, v ];
}, e.minorStep = function(t) {
return arguments.length ? (f = +t[0], g = +t[1], e) : [ f, g ];
}, e.precision = function(t) {
return arguments.length ? (y = +t, u = pn(s, a, 90), d = fn(i, n, y), h = pn(c, l, 90), p = fn(o, r, y), e) : y;
}, e.majorExtent([ [ -180, -90 + ga ], [ 180, 90 - ga ] ]).minorExtent([ [ -180, -80 - ga ], [ 180, 80 + ga ] ]);
}, Vo.geo.greatArc = function() {
function e() {
return {
type: "LineString",
coordinates: [ t || i.apply(this, arguments), n || r.apply(this, arguments) ]
};
}
var t, n, i = gn, r = mn;
return e.distance = function() {
return Vo.geo.distance(t || i.apply(this, arguments), n || r.apply(this, arguments));
}, e.source = function(n) {
return arguments.length ? (i = n, t = "function" == typeof n ? null : n, e) : i;
}, e.target = function(t) {
return arguments.length ? (r = t, n = "function" == typeof t ? null : t, e) : r;
}, e.precision = function() {
return arguments.length ? e : 0;
}, e;
}, Vo.geo.interpolate = function(e, t) {
return vn(e[0] * xa, e[1] * xa, t[0] * xa, t[1] * xa);
}, Vo.geo.length = function(e) {
return As = 0, Vo.geo.stream(e, ks), As;
};
var As, ks = {
sphere: x,
point: x,
lineStart: function() {
function e(e, r) {
var o = Math.sin(r *= xa), a = Math.cos(r), s = Jo((e *= xa) - t), l = Math.cos(s);
As += Math.atan2(Math.sqrt((s = a * Math.sin(s)) * s + (s = i * o - n * a * l) * s), n * o + i * a * l), t = e, n = o, i = a;
}
var t, n, i;
ks.point = function(r, o) {
t = r * xa, n = Math.sin(o *= xa), i = Math.cos(o), ks.point = e;
}, ks.lineEnd = function() {
ks.point = ks.lineEnd = x;
};
},
lineEnd: x,
polygonStart: x,
polygonEnd: x
}, Es = yn(function(e) {
return Math.sqrt(2 / (1 + e));
}, function(e) {
return 2 * Math.asin(e / 2);
});
(Vo.geo.azimuthalEqualArea = function() {
return tn(Es);
}).raw = Es;
var Ts = yn(function(e) {
var t = Math.acos(e);
return t && t / Math.sin(t);
}, y);
(Vo.geo.azimuthalEquidistant = function() {
return tn(Ts);
}).raw = Ts, (Vo.geo.conicConformal = function() {
return Ut(bn);
}).raw = bn, (Vo.geo.conicEquidistant = function() {
return Ut(wn);
}).raw = wn;
var Ds = yn(function(e) {
return 1 / e;
}, Math.atan);
(Vo.geo.gnomonic = function() {
return tn(Ds);
}).raw = Ds, xn.invert = function(e, t) {
return [ e, 2 * Math.atan(Math.exp(t)) - wa ];
}, (Vo.geo.mercator = function() {
return Cn(xn);
}).raw = xn;
var Fs = yn(function() {
return 1;
}, Math.asin);
(Vo.geo.orthographic = function() {
return tn(Fs);
}).raw = Fs;
var Ms = yn(function(e) {
return 1 / (1 + e);
}, function(e) {
return 2 * Math.atan(e);
});
(Vo.geo.stereographic = function() {
return tn(Ms);
}).raw = Ms, _n.invert = function(e, t) {
return [ -t, 2 * Math.atan(Math.exp(e)) - wa ];
}, (Vo.geo.transverseMercator = function() {
var e = Cn(_n), t = e.center, n = e.rotate;
return e.center = function(e) {
return e ? t([ -e[1], e[0] ]) : (e = t(), [ e[1], -e[0] ]);
}, e.rotate = function(e) {
return e ? n([ e[0], e[1], e.length > 2 ? e[2] + 90 : 90 ]) : (e = n(), [ e[0], e[1], e[2] - 90 ]);
}, n([ 0, 0, 90 ]);
}).raw = _n, Vo.geom = {}, Vo.geom.hull = function(e) {
function t(e) {
if (e.length < 3) return [];
var t, r = Ae(n), o = Ae(i), a = e.length, s = [], l = [];
for (t = 0; t < a; t++) s.push([ +r.call(this, e[t], t), +o.call(this, e[t], t), t ]);
for (s.sort(kn), t = 0; t < a; t++) l.push([ s[t][0], -s[t][1] ]);
var c = An(s), u = An(l), d = u[0] === c[0], h = u[u.length - 1] === c[c.length - 1], p = [];
for (t = c.length - 1; t >= 0; --t) p.push(e[s[c[t]][2]]);
for (t = +d; t < u.length - h; ++t) p.push(e[s[u[t]][2]]);
return p;
}
var n = Sn, i = $n;
return arguments.length ? t(e) : (t.x = function(e) {
return arguments.length ? (n = e, t) : n;
}, t.y = function(e) {
return arguments.length ? (i = e, t) : i;
}, t);
}, Vo.geom.polygon = function(e) {
return ia(e, Is), e;
};
var Is = Vo.geom.polygon.prototype = [];
Is.area = function() {
for (var e, t = -1, n = this.length, i = this[n - 1], r = 0; ++t < n; ) e = i, i = this[t], r += e[1] * i[0] - e[0] * i[1];
return .5 * r;
}, Is.centroid = function(e) {
var t, n, i = -1, r = this.length, o = 0, a = 0, s = this[r - 1];
for (arguments.length || (e = -1 / (6 * this.area())); ++i < r; ) t = s, s = this[i], n = t[0] * s[1] - s[0] * t[1], o += (t[0] + s[0]) * n, a += (t[1] + s[1]) * n;
return [ o * e, a * e ];
}, Is.clip = function(e) {
for (var t, n, i, r, o, a, s = Dn(e), l = -1, c = this.length - Dn(this), u = this[c - 1]; ++l < c; ) {
for (t = e.slice(), e.length = 0, r = this[l], o = t[(i = t.length - s) - 1], n = -1; ++n < i; ) En(a = t[n], u, r) ? (En(o, u, r) || e.push(Tn(o, a, u, r)), e.push(a)) : En(o, u, r) && e.push(Tn(o, a, u, r)), o = a;
s && e.push(e[0]), u = r;
}
return e;
};
var Ls, Ps, Os, Rs, Bs, Ns = [], js = [];
Bn.prototype.prepare = function() {
for (var e, t = this.edges, n = t.length; n--; ) (e = t[n].edge).b && e.a || t.splice(n, 1);
return t.sort(jn), t.length;
}, Xn.prototype = {
start: function() {
return this.edge.l === this.site ? this.edge.a : this.edge.b;
},
end: function() {
return this.edge.l === this.site ? this.edge.b : this.edge.a;
}
}, Qn.prototype = {
insert: function(e, t) {
var n, i, r;
if (e) {
if (t.P = e, t.N = e.N, e.N && (e.N.P = t), e.N = t, e.R) {
for (e = e.R; e.L; ) e = e.L;
e.L = t;
} else e.R = t;
n = e;
} else this._ ? (e = ti(this._), t.P = null, t.N = e, e.P = e.L = t, n = e) : (t.P = t.N = null, this._ = t, n = null);
for (t.L = t.R = null, t.U = n, t.C = !0, e = t; n && n.C; ) n === (i = n.U).L ? (r = i.R) && r.C ? (n.C = r.C = !1, i.C = !0, e = i) : (e === n.R && (Zn(this, n), n = (e = n).U), n.C = !1, i.C = !0, ei(this, i)) : (r = i.L) && r.C ? (n.C = r.C = !1, i.C = !0, e = i) : (e === n.L && (ei(this, n), n = (e = n).U), n.C = !1, i.C = !0, Zn(this, i)), n = e.U;
this._.C = !1;
},
remove: function(e) {
e.N && (e.N.P = e.P), e.P && (e.P.N = e.N), e.N = e.P = null;
var t, n, i, r = e.U, o = e.L, a = e.R;
if (n = o ? a ? ti(a) : o : a, r ? r.L === e ? r.L = n : r.R = n : this._ = n, o && a ? (i = n.C, n.C = e.C, n.L = o, o.U = n, n !== a ? (r = n.U, n.U = e.U, e = n.R, r.L = e, n.R = a, a.U = n) : (n.U = r, r = n, e = n.R)) : (i = e.C, e = n), e && (e.U = r), !i) if (e && e.C) e.C = !1; else {
do {
if (e === this._) break;
if (e === r.L) {
if ((t = r.R).C && (t.C = !1, r.C = !0, Zn(this, r), t = r.R), t.L && t.L.C || t.R && t.R.C) {
t.R && t.R.C || (t.L.C = !1, t.C = !0, ei(this, t), t = r.R), t.C = r.C, r.C = t.R.C = !1, Zn(this, r), e = this._;
break;
}
} else if ((t = r.L).C && (t.C = !1, r.C = !0, ei(this, r), t = r.L), t.L && t.L.C || t.R && t.R.C) {
t.L && t.L.C || (t.R.C = !1, t.C = !0, Zn(this, t), t = r.L), t.C = r.C, r.C = t.L.C = !1, ei(this, r), e = this._;
break;
}
t.C = !0, e = r, r = r.U;
} while (!e.C);
e && (e.C = !1);
}
}
}, Vo.geom.voronoi = function(e) {
function t(e) {
var t = new Array(e.length), i = s[0][0], r = s[0][1], o = s[1][0], a = s[1][1];
return ni(n(e), s).cells.forEach(function(n, s) {
var l = n.edges, c = n.site;
(t[s] = l.length ? l.map(function(e) {
var t = e.start();
return [ t.x, t.y ];
}) : c.x >= i && c.x <= o && c.y >= r && c.y <= a ? [ [ i, a ], [ o, a ], [ o, r ], [ i, r ] ] : []).point = e[s];
}), t;
}
function n(e) {
return e.map(function(e, t) {
return {
x: Math.round(o(e, t) / ga) * ga,
y: Math.round(a(e, t) / ga) * ga,
i: t
};
});
}
var i = Sn, r = $n, o = i, a = r, s = Us;
return e ? t(e) : (t.links = function(e) {
return ni(n(e)).edges.filter(function(e) {
return e.l && e.r;
}).map(function(t) {
return {
source: e[t.l.i],
target: e[t.r.i]
};
});
}, t.triangles = function(e) {
var t = [];
return ni(n(e)).cells.forEach(function(n, i) {
for (var r, o = n.site, a = n.edges.sort(jn), s = -1, l = a.length, c = a[l - 1].edge, u = c.l === o ? c.r : c.l; ++s < l; ) c, r = u, u = (c = a[s].edge).l === o ? c.r : c.l, i < r.i && i < u.i && ri(o, r, u) < 0 && t.push([ e[i], e[r.i], e[u.i] ]);
}), t;
}, t.x = function(e) {
return arguments.length ? (o = Ae(i = e), t) : i;
}, t.y = function(e) {
return arguments.length ? (a = Ae(r = e), t) : r;
}, t.clipExtent = function(e) {
return arguments.length ? (s = null == e ? Us : e, t) : s === Us ? null : s;
}, t.size = function(e) {
return arguments.length ? t.clipExtent(e && [ [ 0, 0 ], e ]) : s === Us ? null : s && s[1];
}, t);
};
var Us = [ [ -1e6, -1e6 ], [ 1e6, 1e6 ] ];
Vo.geom.delaunay = function(e) {
return Vo.geom.voronoi().triangles(e);
}, Vo.geom.quadtree = function(e, t, n, i, r) {
function o(e) {
function o(e, t, n, i, r, o, a, s) {
if (!isNaN(n) && !isNaN(i)) if (e.leaf) {
var l = e.x, u = e.y;
if (null != l) if (Jo(l - n) + Jo(u - i) < .01) c(e, t, n, i, r, o, a, s); else {
var d = e.point;
e.x = e.y = e.point = null, c(e, d, l, u, r, o, a, s), c(e, t, n, i, r, o, a, s);
} else e.x = n, e.y = i, e.point = t;
} else c(e, t, n, i, r, o, a, s);
}
function c(e, t, n, i, r, a, s, l) {
var c = .5 * (r + s), u = .5 * (a + l), d = n >= c, h = i >= u, p = h << 1 | d;
e.leaf = !1, e = e.nodes[p] || (e.nodes[p] = {
leaf: !0,
nodes: [],
point: null,
x: null,
y: null
}), d ? r = c : s = c, h ? a = u : l = u, o(e, t, n, i, r, a, s, l);
}
var u, d, h, p, f, g, m, v, y, b = Ae(s), w = Ae(l);
if (null != t) g = t, m = n, v = i, y = r; else if (v = y = -(g = m = 1 / 0), d = [], h = [], f = e.length, a) for (p = 0; p < f; ++p) (u = e[p]).x < g && (g = u.x), u.y < m && (m = u.y), u.x > v && (v = u.x), u.y > y && (y = u.y), d.push(u.x), h.push(u.y); else for (p = 0; p < f; ++p) {
var x = +b(u = e[p], p), C = +w(u, p);
x < g && (g = x), C < m && (m = C), x > v && (v = x), C > y && (y = C), d.push(x), h.push(C);
}
var _ = v - g, S = y - m;
_ > S ? y = m + _ : v = g + S;
var $ = {
leaf: !0,
nodes: [],
point: null,
x: null,
y: null
};
if ($.add = function(e) {
o($, e, +b(e, ++p), +w(e, p), g, m, v, y);
}, $.visit = function(e) {
si(e, $, g, m, v, y);
}, $.find = function(e) {
return li($, e[0], e[1], g, m, v, y);
}, p = -1, null == t) {
for (;++p < f; ) o($, e[p], d[p], h[p], g, m, v, y);
--p;
} else e.forEach($.add);
return d = h = e = u = null, $;
}
var a, s = Sn, l = $n;
return (a = arguments.length) ? (s = oi, l = ai, 3 === a && (r = n, i = t, n = t = 0), o(e)) : (o.x = function(e) {
return arguments.length ? (s = e, o) : s;
}, o.y = function(e) {
return arguments.length ? (l = e, o) : l;
}, o.extent = function(e) {
return arguments.length ? (null == e ? t = n = i = r = null : (t = +e[0][0], n = +e[0][1], i = +e[1][0], r = +e[1][1]), o) : null == t ? null : [ [ t, n ], [ i, r ] ];
}, o.size = function(e) {
return arguments.length ? (null == e ? t = n = i = r = null : (t = n = 0, i = +e[0], r = +e[1]), o) : null == t ? null : [ i - t, r - n ];
}, o);
}, Vo.interpolateRgb = ci, Vo.interpolateObject = ui, Vo.interpolateNumber = di, Vo.interpolateString = hi;
var Vs = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, Hs = new RegExp(Vs.source, "g");
Vo.interpolate = pi, Vo.interpolators = [ function(e, t) {
var n = typeof t;
return ("string" === n ? Pa.has(t.toLowerCase()) || /^(#|rgb\(|hsl\()/i.test(t) ? ci : hi : t instanceof ae ? ci : Array.isArray(t) ? fi : "object" === n && isNaN(t) ? ui : di)(e, t);
} ], Vo.interpolateArray = fi;
var zs = function() {
return y;
}, Ws = Vo.map({
linear: zs,
poly: function(e) {
return function(t) {
return Math.pow(t, e);
};
},
quad: function() {
return yi;
},
cubic: function() {
return bi;
},
sin: function() {
return xi;
},
exp: function() {
return Ci;
},
circle: function() {
return _i;
},
elastic: function(e, t) {
var n;
return arguments.length < 2 && (t = .45), arguments.length ? n = t / ya * Math.asin(1 / e) : (e = 1, n = t / 4), function(i) {
return 1 + e * Math.pow(2, -10 * i) * Math.sin((i - n) * ya / t);
};
},
back: function(e) {
return e || (e = 1.70158), function(t) {
return t * t * ((e + 1) * t - e);
};
},
bounce: function() {
return Si;
}
}), Gs = Vo.map({
in: y,
out: mi,
"in-out": vi,
"out-in": function(e) {
return vi(mi(e));
}
});
Vo.ease = function(e) {
var t = e.indexOf("-"), n = t >= 0 ? e.slice(0, t) : e, i = t >= 0 ? e.slice(t + 1) : "in";
return n = Ws.get(n) || zs, i = Gs.get(i) || y, gi(i(n.apply(null, Ho.call(arguments, 1))));
}, Vo.interpolateHcl = function(e, t) {
e = Vo.hcl(e), t = Vo.hcl(t);
var n = e.h, i = e.c, r = e.l, o = t.h - n, a = t.c - i, s = t.l - r;
return isNaN(a) && (a = 0, i = isNaN(i) ? t.c : i), isNaN(o) ? (o = 0, n = isNaN(n) ? t.h : n) : o > 180 ? o -= 360 : o < -180 && (o += 360), function(e) {
return ue(n + o * e, i + a * e, r + s * e) + "";
};
}, Vo.interpolateHsl = function(e, t) {
e = Vo.hsl(e), t = Vo.hsl(t);
var n = e.h, i = e.s, r = e.l, o = t.h - n, a = t.s - i, s = t.l - r;
return isNaN(a) && (a = 0, i = isNaN(i) ? t.s : i), isNaN(o) ? (o = 0, n = isNaN(n) ? t.h : n) : o > 180 ? o -= 360 : o < -180 && (o += 360), function(e) {
return le(n + o * e, i + a * e, r + s * e) + "";
};
}, Vo.interpolateLab = function(e, t) {
e = Vo.lab(e), t = Vo.lab(t);
var n = e.l, i = e.a, r = e.b, o = t.l - n, a = t.a - i, s = t.b - r;
return function(e) {
return he(n + o * e, i + a * e, r + s * e) + "";
};
}, Vo.interpolateRound = $i, Vo.transform = function(e) {
var t = Wo.createElementNS(Vo.ns.prefix.svg, "g");
return (Vo.transform = function(e) {
if (null != e) {
t.setAttribute("transform", e);
var n = t.transform.baseVal.consolidate();
}
return new Ai(n ? n.matrix : qs);
})(e);
}, Ai.prototype.toString = function() {
return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")";
};
var qs = {
a: 1,
b: 0,
c: 0,
d: 1,
e: 0,
f: 0
};
Vo.interpolateTransform = Pi, Vo.layout = {}, Vo.layout.bundle = function() {
return function(e) {
for (var t = [], n = -1, i = e.length; ++n < i; ) t.push(Bi(e[n]));
return t;
};
}, Vo.layout.chord = function() {
function e() {
var e, c, d, h, p, f = {}, g = [], m = Vo.range(o), v = [];
for (n = [], i = [], e = 0, h = -1; ++h < o; ) {
for (c = 0, p = -1; ++p < o; ) c += r[h][p];
g.push(c), v.push(Vo.range(o)), e += c;
}
for (a && m.sort(function(e, t) {
return a(g[e], g[t]);
}), s && v.forEach(function(e, t) {
e.sort(function(e, n) {
return s(r[t][e], r[t][n]);
});
}), e = (ya - u * o) / e, c = 0, h = -1; ++h < o; ) {
for (d = c, p = -1; ++p < o; ) {
var y = m[h], b = v[y][p], w = r[y][b], x = c, C = c += w * e;
f[y + "-" + b] = {
index: y,
subindex: b,
startAngle: x,
endAngle: C,
value: w
};
}
i[y] = {
index: y,
startAngle: d,
endAngle: c,
value: g[y]
}, c += u;
}
for (h = -1; ++h < o; ) for (p = h - 1; ++p < o; ) {
var _ = f[h + "-" + p], S = f[p + "-" + h];
(_.value || S.value) && n.push(_.value < S.value ? {
source: S,
target: _
} : {
source: _,
target: S
});
}
l && t();
}
function t() {
n.sort(function(e, t) {
return l((e.source.value + e.target.value) / 2, (t.source.value + t.target.value) / 2);
});
}
var n, i, r, o, a, s, l, c = {}, u = 0;
return c.matrix = function(e) {
return arguments.length ? (o = (r = e) && r.length, n = i = null, c) : r;
}, c.padding = function(e) {
return arguments.length ? (u = e, n = i = null, c) : u;
}, c.sortGroups = function(e) {
return arguments.length ? (a = e, n = i = null, c) : a;
}, c.sortSubgroups = function(e) {
return arguments.length ? (s = e, n = null, c) : s;
}, c.sortChords = function(e) {
return arguments.length ? (l = e, n && t(), c) : l;
}, c.chords = function() {
return n || e(), n;
}, c.groups = function() {
return i || e(), i;
}, c;
}, Vo.layout.force = function() {
function e(e) {
return function(t, n, i, r) {
if (t.point !== e) {
var o = t.cx - e.x, a = t.cy - e.y, s = r - n, l = o * o + a * a;
if (s * s / v < l) {
if (l < g) {
c = t.charge / l;
e.px -= o * c, e.py -= a * c;
}
return !0;
}
if (t.point && l && l < g) {
var c = t.pointCharge / l;
e.px -= o * c, e.py -= a * c;
}
}
return !t.charge;
};
}
function t(e) {
e.px = Vo.event.x, e.py = Vo.event.y, l.resume();
}
var n, i, r, o, a, s, l = {}, c = Vo.dispatch("start", "tick", "end"), u = [ 1, 1 ], d = .9, h = Ys, p = Ks, f = -30, g = Xs, m = .1, v = .64, b = [], w = [];
return l.tick = function() {
if ((r *= .99) < .005) return n = null, c.end({
type: "end",
alpha: r = 0
}), !0;
var t, i, l, h, p, g, v, y, x, C = b.length, _ = w.length;
for (i = 0; i < _; ++i) h = (l = w[i]).source, (g = (y = (p = l.target).x - h.x) * y + (x = p.y - h.y) * x) && (y *= g = r * a[i] * ((g = Math.sqrt(g)) - o[i]) / g, x *= g, p.x -= y * (v = h.weight + p.weight ? h.weight / (h.weight + p.weight) : .5), p.y -= x * v, h.x += y * (v = 1 - v), h.y += x * v);
if ((v = r * m) && (y = u[0] / 2, x = u[1] / 2, i = -1, v)) for (;++i < C; ) (l = b[i]).x += (y - l.x) * v, l.y += (x - l.y) * v;
if (f) for (Wi(t = Vo.geom.quadtree(b), r, s), i = -1; ++i < C; ) (l = b[i]).fixed || t.visit(e(l));
for (i = -1; ++i < C; ) (l = b[i]).fixed ? (l.x = l.px, l.y = l.py) : (l.x -= (l.px - (l.px = l.x)) * d, l.y -= (l.py - (l.py = l.y)) * d);
c.tick({
type: "tick",
alpha: r
});
}, l.nodes = function(e) {
return arguments.length ? (b = e, l) : b;
}, l.links = function(e) {
return arguments.length ? (w = e, l) : w;
}, l.size = function(e) {
return arguments.length ? (u = e, l) : u;
}, l.linkDistance = function(e) {
return arguments.length ? (h = "function" == typeof e ? e : +e, l) : h;
}, l.distance = l.linkDistance, l.linkStrength = function(e) {
return arguments.length ? (p = "function" == typeof e ? e : +e, l) : p;
}, l.friction = function(e) {
return arguments.length ? (d = +e, l) : d;
}, l.charge = function(e) {
return arguments.length ? (f = "function" == typeof e ? e : +e, l) : f;
}, l.chargeDistance = function(e) {
return arguments.length ? (g = e * e, l) : Math.sqrt(g);
}, l.gravity = function(e) {
return arguments.length ? (m = +e, l) : m;
}, l.theta = function(e) {
return arguments.length ? (v = e * e, l) : Math.sqrt(v);
}, l.alpha = function(e) {
return arguments.length ? (e = +e, r ? e > 0 ? r = e : (n.c = null, n.t = NaN, n = null, c.end({
type: "end",
alpha: r = 0
})) : e > 0 && (c.start({
type: "start",
alpha: r = e
}), n = Fe(l.tick)), l) : r;
}, l.start = function() {
function e(e, i) {
if (!n) {
for (n = new Array(r), l = 0; l < r; ++l) n[l] = [];
for (l = 0; l < c; ++l) {
var o = w[l];
n[o.source.index].push(o.target), n[o.target.index].push(o.source);
}
}
for (var a, s = n[t], l = -1, u = s.length; ++l < u; ) if (!isNaN(a = s[l][e])) return a;
return Math.random() * i;
}
var t, n, i, r = b.length, c = w.length, d = u[0], g = u[1];
for (t = 0; t < r; ++t) (i = b[t]).index = t, i.weight = 0;
for (t = 0; t < c; ++t) "number" == typeof (i = w[t]).source && (i.source = b[i.source]), "number" == typeof i.target && (i.target = b[i.target]), ++i.source.weight, ++i.target.weight;
for (t = 0; t < r; ++t) i = b[t], isNaN(i.x) && (i.x = e("x", d)), isNaN(i.y) && (i.y = e("y", g)), isNaN(i.px) && (i.px = i.x), isNaN(i.py) && (i.py = i.y);
if (o = [], "function" == typeof h) for (t = 0; t < c; ++t) o[t] = +h.call(this, w[t], t); else for (t = 0; t < c; ++t) o[t] = h;
if (a = [], "function" == typeof p) for (t = 0; t < c; ++t) a[t] = +p.call(this, w[t], t); else for (t = 0; t < c; ++t) a[t] = p;
if (s = [], "function" == typeof f) for (t = 0; t < r; ++t) s[t] = +f.call(this, b[t], t); else for (t = 0; t < r; ++t) s[t] = f;
return l.resume();
}, l.resume = function() {
return l.alpha(.1);
}, l.stop = function() {
return l.alpha(0);
}, l.drag = function() {
if (i || (i = Vo.behavior.drag().origin(y).on("dragstart.force", Ui).on("drag.force", t).on("dragend.force", Vi)), !arguments.length) return i;
this.on("mouseover.force", Hi).on("mouseout.force", zi).call(i);
}, Vo.rebind(l, c, "on");
};
var Ys = 20, Ks = 1, Xs = 1 / 0;
Vo.layout.hierarchy = function() {
function e(r) {
var o, a = [ r ], s = [];
for (r.depth = 0; null != (o = a.pop()); ) if (s.push(o), (c = n.call(e, o, o.depth)) && (l = c.length)) {
for (var l, c, u; --l >= 0; ) a.push(u = c[l]), u.parent = o, u.depth = o.depth + 1;
i && (o.value = 0), o.children = c;
} else i && (o.value = +i.call(e, o, o.depth) || 0), delete o.children;
return Yi(r, function(e) {
var n, r;
t && (n = e.children) && n.sort(t), i && (r = e.parent) && (r.value += e.value);
}), s;
}
var t = Qi, n = Ki, i = Xi;
return e.sort = function(n) {
return arguments.length ? (t = n, e) : t;
}, e.children = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.value = function(t) {
return arguments.length ? (i = t, e) : i;
}, e.revalue = function(t) {
return i && (qi(t, function(e) {
e.children && (e.value = 0);
}), Yi(t, function(t) {
var n;
t.children || (t.value = +i.call(e, t, t.depth) || 0), (n = t.parent) && (n.value += t.value);
})), t;
}, e;
}, Vo.layout.partition = function() {
function e(t, n, i, r) {
var o = t.children;
if (t.x = n, t.y = t.depth * r, t.dx = i, t.dy = r, o && (a = o.length)) {
var a, s, l, c = -1;
for (i = t.value ? i / t.value : 0; ++c < a; ) e(s = o[c], n, l = s.value * i, r), n += l;
}
}
function t(e) {
var n = e.children, i = 0;
if (n && (r = n.length)) for (var r, o = -1; ++o < r; ) i = Math.max(i, t(n[o]));
return 1 + i;
}
function n(n, o) {
var a = i.call(this, n, o);
return e(a[0], 0, r[0], r[1] / t(a[0])), a;
}
var i = Vo.layout.hierarchy(), r = [ 1, 1 ];
return n.size = function(e) {
return arguments.length ? (r = e, n) : r;
}, Gi(n, i);
}, Vo.layout.pie = function() {
function e(a) {
var s, l = a.length, c = a.map(function(n, i) {
return +t.call(e, n, i);
}), u = +("function" == typeof i ? i.apply(this, arguments) : i), d = ("function" == typeof r ? r.apply(this, arguments) : r) - u, h = Math.min(Math.abs(d) / l, +("function" == typeof o ? o.apply(this, arguments) : o)), p = h * (d < 0 ? -1 : 1), f = Vo.sum(c), g = f ? (d - l * p) / f : 0, m = Vo.range(l), v = [];
return null != n && m.sort(n === Qs ? function(e, t) {
return c[t] - c[e];
} : function(e, t) {
return n(a[e], a[t]);
}), m.forEach(function(e) {
v[e] = {
data: a[e],
value: s = c[e],
startAngle: u,
endAngle: u += s * g + p,
padAngle: h
};
}), v;
}
var t = Number, n = Qs, i = 0, r = ya, o = 0;
return e.value = function(n) {
return arguments.length ? (t = n, e) : t;
}, e.sort = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.startAngle = function(t) {
return arguments.length ? (i = t, e) : i;
}, e.endAngle = function(t) {
return arguments.length ? (r = t, e) : r;
}, e.padAngle = function(t) {
return arguments.length ? (o = t, e) : o;
}, e;
};
var Qs = {};
Vo.layout.stack = function() {
function e(s, l) {
if (!(h = s.length)) return s;
var c = s.map(function(n, i) {
return t.call(e, n, i);
}), u = c.map(function(t) {
return t.map(function(t, n) {
return [ o.call(e, t, n), a.call(e, t, n) ];
});
}), d = n.call(e, u, l);
c = Vo.permute(c, d), u = Vo.permute(u, d);
var h, p, f, g, m = i.call(e, u, l), v = c[0].length;
for (f = 0; f < v; ++f) for (r.call(e, c[0][f], g = m[f], u[0][f][1]), p = 1; p < h; ++p) r.call(e, c[p][f], g += u[p - 1][f][1], u[p][f][1]);
return s;
}
var t = y, n = nr, i = ir, r = tr, o = Zi, a = er;
return e.values = function(n) {
return arguments.length ? (t = n, e) : t;
}, e.order = function(t) {
return arguments.length ? (n = "function" == typeof t ? t : Js.get(t) || nr, e) : n;
}, e.offset = function(t) {
return arguments.length ? (i = "function" == typeof t ? t : Zs.get(t) || ir, e) : i;
}, e.x = function(t) {
return arguments.length ? (o = t, e) : o;
}, e.y = function(t) {
return arguments.length ? (a = t, e) : a;
}, e.out = function(t) {
return arguments.length ? (r = t, e) : r;
}, e;
};
var Js = Vo.map({
"inside-out": function(e) {
var t, n, i = e.length, r = e.map(rr), o = e.map(or), a = Vo.range(i).sort(function(e, t) {
return r[e] - r[t];
}), s = 0, l = 0, c = [], u = [];
for (t = 0; t < i; ++t) n = a[t], s < l ? (s += o[n], c.push(n)) : (l += o[n], u.push(n));
return u.reverse().concat(c);
},
reverse: function(e) {
return Vo.range(e.length).reverse();
},
default: nr
}), Zs = Vo.map({
silhouette: function(e) {
var t, n, i, r = e.length, o = e[0].length, a = [], s = 0, l = [];
for (n = 0; n < o; ++n) {
for (t = 0, i = 0; t < r; t++) i += e[t][n][1];
i > s && (s = i), a.push(i);
}
for (n = 0; n < o; ++n) l[n] = (s - a[n]) / 2;
return l;
},
wiggle: function(e) {
var t, n, i, r, o, a, s, l, c, u = e.length, d = e[0], h = d.length, p = [];
for (p[0] = l = c = 0, n = 1; n < h; ++n) {
for (t = 0, r = 0; t < u; ++t) r += e[t][n][1];
for (t = 0, o = 0, s = d[n][0] - d[n - 1][0]; t < u; ++t) {
for (i = 0, a = (e[t][n][1] - e[t][n - 1][1]) / (2 * s); i < t; ++i) a += (e[i][n][1] - e[i][n - 1][1]) / s;
o += a * e[t][n][1];
}
p[n] = l -= r ? o / r * s : 0, l < c && (c = l);
}
for (n = 0; n < h; ++n) p[n] -= c;
return p;
},
expand: function(e) {
var t, n, i, r = e.length, o = e[0].length, a = 1 / r, s = [];
for (n = 0; n < o; ++n) {
for (t = 0, i = 0; t < r; t++) i += e[t][n][1];
if (i) for (t = 0; t < r; t++) e[t][n][1] /= i; else for (t = 0; t < r; t++) e[t][n][1] = a;
}
for (n = 0; n < o; ++n) s[n] = 0;
return s;
},
zero: ir
});
Vo.layout.histogram = function() {
function e(e, o) {
for (var a, s, l = [], c = e.map(n, this), u = i.call(this, c, o), d = r.call(this, u, c, o), o = -1, h = c.length, p = d.length - 1, f = t ? 1 : 1 / h; ++o < p; ) (a = l[o] = []).dx = d[o + 1] - (a.x = d[o]), a.y = 0;
if (p > 0) for (o = -1; ++o < h; ) (s = c[o]) >= u[0] && s <= u[1] && ((a = l[Vo.bisect(d, s, 1, p) - 1]).y += f, a.push(e[o]));
return l;
}
var t = !0, n = Number, i = cr, r = sr;
return e.value = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.range = function(t) {
return arguments.length ? (i = Ae(t), e) : i;
}, e.bins = function(t) {
return arguments.length ? (r = "number" == typeof t ? function(e) {
return lr(e, t);
} : Ae(t), e) : r;
}, e.frequency = function(n) {
return arguments.length ? (t = !!n, e) : t;
}, e;
}, Vo.layout.pack = function() {
function e(e, o) {
var a = n.call(this, e, o), s = a[0], l = r[0], c = r[1], u = null == t ? Math.sqrt : "function" == typeof t ? t : function() {
return t;
};
if (s.x = s.y = 0, Yi(s, function(e) {
e.r = +u(e.value);
}), Yi(s, fr), i) {
var d = i * (t ? 1 : Math.max(2 * s.r / l, 2 * s.r / c)) / 2;
Yi(s, function(e) {
e.r += d;
}), Yi(s, fr), Yi(s, function(e) {
e.r -= d;
});
}
return vr(s, l / 2, c / 2, t ? 1 : 1 / Math.max(2 * s.r / l, 2 * s.r / c)), a;
}
var t, n = Vo.layout.hierarchy().sort(ur), i = 0, r = [ 1, 1 ];
return e.size = function(t) {
return arguments.length ? (r = t, e) : r;
}, e.radius = function(n) {
return arguments.length ? (t = null == n || "function" == typeof n ? n : +n, e) : t;
}, e.padding = function(t) {
return arguments.length ? (i = +t, e) : i;
}, Gi(e, n);
}, Vo.layout.tree = function() {
function e(e, r) {
var u = a.call(this, e, r), d = u[0], h = t(d);
if (Yi(h, n), h.parent.m = -h.z, qi(h, i), c) qi(d, o); else {
var p = d, f = d, g = d;
qi(d, function(e) {
e.x < p.x && (p = e), e.x > f.x && (f = e), e.depth > g.depth && (g = e);
});
var m = s(p, f) / 2 - p.x, v = l[0] / (f.x + s(f, p) / 2 + m), y = l[1] / (g.depth || 1);
qi(d, function(e) {
e.x = (e.x + m) * v, e.y = e.depth * y;
});
}
return u;
}
function t(e) {
for (var t, n = {
A: null,
children: [ e ]
}, i = [ n ]; null != (t = i.pop()); ) for (var r, o = t.children, a = 0, s = o.length; a < s; ++a) i.push((o[a] = r = {
_: o[a],
parent: t,
children: (r = o[a].children) && r.slice() || [],
A: null,
a: null,
z: 0,
m: 0,
c: 0,
s: 0,
t: null,
i: a
}).a = r);
return n.children[0];
}
function n(e) {
var t = e.children, n = e.parent.children, i = e.i ? n[e.i - 1] : null;
if (t.length) {
_r(e);
var o = (t[0].z + t[t.length - 1].z) / 2;
i ? (e.z = i.z + s(e._, i._), e.m = e.z - o) : e.z = o;
} else i && (e.z = i.z + s(e._, i._));
e.parent.A = r(e, i, e.parent.A || n[0]);
}
function i(e) {
e._.x = e.z + e.parent.m, e.m += e.parent.m;
}
function r(e, t, n) {
if (t) {
for (var i, r = e, o = e, a = t, l = r.parent.children[0], c = r.m, u = o.m, d = a.m, h = l.m; a = xr(a), r = wr(r), a && r; ) l = wr(l), (o = xr(o)).a = e, (i = a.z + d - r.z - c + s(a._, r._)) > 0 && (Cr(Sr(a, e, n), e, i), c += i, u += i), d += a.m, c += r.m, h += l.m, u += o.m;
a && !xr(o) && (o.t = a, o.m += d - u), r && !wr(l) && (l.t = r, l.m += c - h, n = e);
}
return n;
}
function o(e) {
e.x *= l[0], e.y = e.depth * l[1];
}
var a = Vo.layout.hierarchy().sort(null).value(null), s = br, l = [ 1, 1 ], c = null;
return e.separation = function(t) {
return arguments.length ? (s = t, e) : s;
}, e.size = function(t) {
return arguments.length ? (c = null == (l = t) ? o : null, e) : c ? null : l;
}, e.nodeSize = function(t) {
return arguments.length ? (c = null == (l = t) ? null : o, e) : c ? l : null;
}, Gi(e, a);
}, Vo.layout.cluster = function() {
function e(e, o) {
var a, s = t.call(this, e, o), l = s[0], c = 0;
Yi(l, function(e) {
var t = e.children;
t && t.length ? (e.x = Ar(t), e.y = $r(t)) : (e.x = a ? c += n(e, a) : 0, e.y = 0, a = e);
});
var u = kr(l), d = Er(l), h = u.x - n(u, d) / 2, p = d.x + n(d, u) / 2;
return Yi(l, r ? function(e) {
e.x = (e.x - l.x) * i[0], e.y = (l.y - e.y) * i[1];
} : function(e) {
e.x = (e.x - h) / (p - h) * i[0], e.y = (1 - (l.y ? e.y / l.y : 1)) * i[1];
}), s;
}
var t = Vo.layout.hierarchy().sort(null).value(null), n = br, i = [ 1, 1 ], r = !1;
return e.separation = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.size = function(t) {
return arguments.length ? (r = null == (i = t), e) : r ? null : i;
}, e.nodeSize = function(t) {
return arguments.length ? (r = null != (i = t), e) : r ? i : null;
}, Gi(e, t);
}, Vo.layout.treemap = function() {
function e(e, t) {
for (var n, i, r = -1, o = e.length; ++r < o; ) i = (n = e[r]).value * (t < 0 ? 0 : t), n.area = isNaN(i) || i <= 0 ? 0 : i;
}
function t(n) {
var o = n.children;
if (o && o.length) {
var a, s, l, c = d(n), u = [], h = o.slice(), f = 1 / 0, g = "slice" === p ? c.dx : "dice" === p ? c.dy : "slice-dice" === p ? 1 & n.depth ? c.dy : c.dx : Math.min(c.dx, c.dy);
for (e(h, c.dx * c.dy / n.value), u.area = 0; (l = h.length) > 0; ) u.push(a = h[l - 1]), u.area += a.area, "squarify" !== p || (s = i(u, g)) <= f ? (h.pop(), f = s) : (u.area -= u.pop().area, r(u, g, c, !1), g = Math.min(c.dx, c.dy), u.length = u.area = 0, f = 1 / 0);
u.length && (r(u, g, c, !0), u.length = u.area = 0), o.forEach(t);
}
}
function n(t) {
var i = t.children;
if (i && i.length) {
var o, a = d(t), s = i.slice(), l = [];
for (e(s, a.dx * a.dy / t.value), l.area = 0; o = s.pop(); ) l.push(o), l.area += o.area, null != o.z && (r(l, o.z ? a.dx : a.dy, a, !s.length), l.length = l.area = 0);
i.forEach(n);
}
}
function i(e, t) {
for (var n, i = e.area, r = 0, o = 1 / 0, a = -1, s = e.length; ++a < s; ) (n = e[a].area) && (n < o && (o = n), n > r && (r = n));
return i *= i, t *= t, i ? Math.max(t * r * f / i, i / (t * o * f)) : 1 / 0;
}
function r(e, t, n, i) {
var r, o = -1, a = e.length, s = n.x, c = n.y, u = t ? l(e.area / t) : 0;
if (t == n.dx) {
for ((i || u > n.dy) && (u = n.dy); ++o < a; ) (r = e[o]).x = s, r.y = c, r.dy = u, s += r.dx = Math.min(n.x + n.dx - s, u ? l(r.area / u) : 0);
r.z = !0, r.dx += n.x + n.dx - s, n.y += u, n.dy -= u;
} else {
for ((i || u > n.dx) && (u = n.dx); ++o < a; ) (r = e[o]).x = s, r.y = c, r.dx = u, c += r.dy = Math.min(n.y + n.dy - c, u ? l(r.area / u) : 0);
r.z = !1, r.dy += n.y + n.dy - c, n.x += u, n.dx -= u;
}
}
function o(i) {
var r = a || s(i), o = r[0];
return o.x = o.y = 0, o.value ? (o.dx = c[0], o.dy = c[1]) : o.dx = o.dy = 0, a && s.revalue(o), e([ o ], o.dx * o.dy / o.value), (a ? n : t)(o), h && (a = r), r;
}
var a, s = Vo.layout.hierarchy(), l = Math.round, c = [ 1, 1 ], u = null, d = Tr, h = !1, p = "squarify", f = .5 * (1 + Math.sqrt(5));
return o.size = function(e) {
return arguments.length ? (c = e, o) : c;
}, o.padding = function(e) {
function t(t) {
return Dr(t, e);
}
if (!arguments.length) return u;
var n;
return d = null == (u = e) ? Tr : "function" == (n = typeof e) ? function(t) {
var n = e.call(o, t, t.depth);
return null == n ? Tr(t) : Dr(t, "number" == typeof n ? [ n, n, n, n ] : n);
} : "number" === n ? (e = [ e, e, e, e ], t) : t, o;
}, o.round = function(e) {
return arguments.length ? (l = e ? Math.round : Number, o) : l != Number;
}, o.sticky = function(e) {
return arguments.length ? (h = e, a = null, o) : h;
}, o.ratio = function(e) {
return arguments.length ? (f = e, o) : f;
}, o.mode = function(e) {
return arguments.length ? (p = e + "", o) : p;
}, Gi(o, s);
}, Vo.random = {
normal: function(e, t) {
var n = arguments.length;
return n < 2 && (t = 1), n < 1 && (e = 0), function() {
var n, i, r;
do {
r = (n = 2 * Math.random() - 1) * n + (i = 2 * Math.random() - 1) * i;
} while (!r || r > 1);
return e + t * n * Math.sqrt(-2 * Math.log(r) / r);
};
},
logNormal: function() {
var e = Vo.random.normal.apply(Vo, arguments);
return function() {
return Math.exp(e());
};
},
bates: function(e) {
var t = Vo.random.irwinHall(e);
return function() {
return t() / e;
};
},
irwinHall: function(e) {
return function() {
for (var t = 0, n = 0; n < e; n++) t += Math.random();
return t;
};
}
}, Vo.scale = {};
var el = {
floor: y,
ceil: y
};
Vo.scale.linear = function() {
return Rr([ 0, 1 ], [ 0, 1 ], pi, !1);
};
var tl = {
s: 1,
g: 1,
p: 1,
r: 1,
e: 1
};
Vo.scale.log = function() {
return Wr(Vo.scale.linear().domain([ 0, 1 ]), 10, !0, [ 1, 10 ]);
};
var nl = Vo.format(".0e"), il = {
floor: function(e) {
return -Math.ceil(-e);
},
ceil: function(e) {
return -Math.floor(-e);
}
};
Vo.scale.pow = function() {
return Gr(Vo.scale.linear(), 1, [ 0, 1 ]);
}, Vo.scale.sqrt = function() {
return Vo.scale.pow().exponent(.5);
}, Vo.scale.ordinal = function() {
return Yr([], {
t: "range",
a: [ [] ]
});
}, Vo.scale.category10 = function() {
return Vo.scale.ordinal().range(rl);
}, Vo.scale.category20 = function() {
return Vo.scale.ordinal().range(ol);
}, Vo.scale.category20b = function() {
return Vo.scale.ordinal().range(al);
}, Vo.scale.category20c = function() {
return Vo.scale.ordinal().range(sl);
};
var rl = [ 2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175 ].map(be), ol = [ 2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725 ].map(be), al = [ 3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654 ].map(be), sl = [ 3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081 ].map(be);
Vo.scale.quantile = function() {
return Kr([], []);
}, Vo.scale.quantize = function() {
return Xr(0, 1, [ 0, 1 ]);
}, Vo.scale.threshold = function() {
return Qr([ .5 ], [ 0, 1 ]);
}, Vo.scale.identity = function() {
return Jr([ 0, 1 ]);
}, Vo.svg = {}, Vo.svg.arc = function() {
function e() {
var e = Math.max(0, +n.apply(this, arguments)), c = Math.max(0, +i.apply(this, arguments)), u = a.apply(this, arguments) - wa, d = s.apply(this, arguments) - wa, h = Math.abs(d - u), p = u > d ? 0 : 1;
if (c < e && (f = c, c = e, e = f), h >= ba) return t(c, p) + (e ? t(e, 1 - p) : "") + "Z";
var f, g, m, v, y, b, w, x, C, _, S, $, A = 0, k = 0, E = [];
if ((v = (+l.apply(this, arguments) || 0) / 2) && (m = o === ll ? Math.sqrt(e * e + c * c) : +o.apply(this, arguments), p || (k *= -1), c && (k = te(m / c * Math.sin(v))), e && (A = te(m / e * Math.sin(v)))), c) {
y = c * Math.cos(u + k), b = c * Math.sin(u + k), w = c * Math.cos(d - k), x = c * Math.sin(d - k);
var T = Math.abs(d - u - 2 * k) <= va ? 0 : 1;
if (k && oo(y, b, w, x) === p ^ T) {
var D = (u + d) / 2;
y = c * Math.cos(D), b = c * Math.sin(D), w = x = null;
}
} else y = b = 0;
if (e) {
C = e * Math.cos(d - A), _ = e * Math.sin(d - A), S = e * Math.cos(u + A), $ = e * Math.sin(u + A);
var F = Math.abs(u - d + 2 * A) <= va ? 0 : 1;
if (A && oo(C, _, S, $) === 1 - p ^ F) {
var M = (u + d) / 2;
C = e * Math.cos(M), _ = e * Math.sin(M), S = $ = null;
}
} else C = _ = 0;
if (h > ga && (f = Math.min(Math.abs(c - e) / 2, +r.apply(this, arguments))) > .001) {
g = e < c ^ p ? 0 : 1;
var I = f, L = f;
if (h < va) {
var P = null == S ? [ C, _ ] : null == w ? [ y, b ] : Tn([ y, b ], [ S, $ ], [ w, x ], [ C, _ ]), O = y - P[0], R = b - P[1], B = w - P[0], N = x - P[1], j = 1 / Math.sin(Math.acos((O * B + R * N) / (Math.sqrt(O * O + R * R) * Math.sqrt(B * B + N * N))) / 2), U = Math.sqrt(P[0] * P[0] + P[1] * P[1]);
L = Math.min(f, (e - U) / (j - 1)), I = Math.min(f, (c - U) / (j + 1));
}
if (null != w) {
var V = ao(null == S ? [ C, _ ] : [ S, $ ], [ y, b ], c, I, p), H = ao([ w, x ], [ C, _ ], c, I, p);
f === I ? E.push("M", V[0], "A", I, ",", I, " 0 0,", g, " ", V[1], "A", c, ",", c, " 0 ", 1 - p ^ oo(V[1][0], V[1][1], H[1][0], H[1][1]), ",", p, " ", H[1], "A", I, ",", I, " 0 0,", g, " ", H[0]) : E.push("M", V[0], "A", I, ",", I, " 0 1,", g, " ", H[0]);
} else E.push("M", y, ",", b);
if (null != S) {
var z = ao([ y, b ], [ S, $ ], e, -L, p), W = ao([ C, _ ], null == w ? [ y, b ] : [ w, x ], e, -L, p);
f === L ? E.push("L", W[0], "A", L, ",", L, " 0 0,", g, " ", W[1], "A", e, ",", e, " 0 ", p ^ oo(W[1][0], W[1][1], z[1][0], z[1][1]), ",", 1 - p, " ", z[1], "A", L, ",", L, " 0 0,", g, " ", z[0]) : E.push("L", W[0], "A", L, ",", L, " 0 0,", g, " ", z[0]);
} else E.push("L", C, ",", _);
} else E.push("M", y, ",", b), null != w && E.push("A", c, ",", c, " 0 ", T, ",", p, " ", w, ",", x), E.push("L", C, ",", _), null != S && E.push("A", e, ",", e, " 0 ", F, ",", 1 - p, " ", S, ",", $);
return E.push("Z"), E.join("");
}
function t(e, t) {
return "M0," + e + "A" + e + "," + e + " 0 1," + t + " 0," + -e + "A" + e + "," + e + " 0 1," + t + " 0," + e;
}
var n = eo, i = to, r = Zr, o = ll, a = no, s = io, l = ro;
return e.innerRadius = function(t) {
return arguments.length ? (n = Ae(t), e) : n;
}, e.outerRadius = function(t) {
return arguments.length ? (i = Ae(t), e) : i;
}, e.cornerRadius = function(t) {
return arguments.length ? (r = Ae(t), e) : r;
}, e.padRadius = function(t) {
return arguments.length ? (o = t == ll ? ll : Ae(t), e) : o;
}, e.startAngle = function(t) {
return arguments.length ? (a = Ae(t), e) : a;
}, e.endAngle = function(t) {
return arguments.length ? (s = Ae(t), e) : s;
}, e.padAngle = function(t) {
return arguments.length ? (l = Ae(t), e) : l;
}, e.centroid = function() {
var e = (+n.apply(this, arguments) + +i.apply(this, arguments)) / 2, t = (+a.apply(this, arguments) + +s.apply(this, arguments)) / 2 - wa;
return [ Math.cos(t) * e, Math.sin(t) * e ];
}, e;
};
var ll = "auto";
Vo.svg.line = function() {
return so(y);
};
var cl = Vo.map({
linear: lo,
"linear-closed": co,
step: function(e) {
for (var t = 0, n = e.length, i = e[0], r = [ i[0], ",", i[1] ]; ++t < n; ) r.push("H", (i[0] + (i = e[t])[0]) / 2, "V", i[1]);
return n > 1 && r.push("H", i[0]), r.join("");
},
"step-before": uo,
"step-after": ho,
basis: go,
"basis-open": function(e) {
if (e.length < 4) return lo(e);
for (var t, n = [], i = -1, r = e.length, o = [ 0 ], a = [ 0 ]; ++i < 3; ) t = e[i], o.push(t[0]), a.push(t[1]);
for (n.push(mo(hl, o) + "," + mo(hl, a)), --i; ++i < r; ) t = e[i], o.shift(), o.push(t[0]), a.shift(), a.push(t[1]), vo(n, o, a);
return n.join("");
},
"basis-closed": function(e) {
for (var t, n, i = -1, r = e.length, o = r + 4, a = [], s = []; ++i < 4; ) n = e[i % r], a.push(n[0]), s.push(n[1]);
for (t = [ mo(hl, a), ",", mo(hl, s) ], --i; ++i < o; ) n = e[i % r], a.shift(), a.push(n[0]), s.shift(), s.push(n[1]), vo(t, a, s);
return t.join("");
},
bundle: function(e, t) {
var n = e.length - 1;
if (n) for (var i, r, o = e[0][0], a = e[0][1], s = e[n][0] - o, l = e[n][1] - a, c = -1; ++c <= n; ) r = c / n, (i = e[c])[0] = t * i[0] + (1 - t) * (o + r * s), i[1] = t * i[1] + (1 - t) * (a + r * l);
return go(e);
},
cardinal: function(e, t) {
return e.length < 3 ? lo(e) : e[0] + po(e, fo(e, t));
},
"cardinal-open": function(e, t) {
return e.length < 4 ? lo(e) : e[1] + po(e.slice(1, -1), fo(e, t));
},
"cardinal-closed": function(e, t) {
return e.length < 3 ? co(e) : e[0] + po((e.push(e[0]), e), fo([ e[e.length - 2] ].concat(e, [ e[1] ]), t));
},
monotone: function(e) {
return e.length < 3 ? lo(e) : e[0] + po(e, wo(e));
}
});
cl.forEach(function(e, t) {
t.key = e, t.closed = /-closed$/.test(e);
});
var ul = [ 0, 2 / 3, 1 / 3, 0 ], dl = [ 0, 1 / 3, 2 / 3, 0 ], hl = [ 0, 1 / 6, 2 / 3, 1 / 6 ];
Vo.svg.line.radial = function() {
var e = so(xo);
return e.radius = e.x, delete e.x, e.angle = e.y, delete e.y, e;
}, uo.reverse = ho, ho.reverse = uo, Vo.svg.area = function() {
return Co(y);
}, Vo.svg.area.radial = function() {
var e = Co(xo);
return e.radius = e.x, delete e.x, e.innerRadius = e.x0, delete e.x0, e.outerRadius = e.x1, delete e.x1, e.angle = e.y, delete e.y, e.startAngle = e.y0, delete e.y0, e.endAngle = e.y1, delete e.y1, e;
}, Vo.svg.chord = function() {
function e(e, s) {
var l = t(this, o, e, s), c = t(this, a, e, s);
return "M" + l.p0 + i(l.r, l.p1, l.a1 - l.a0) + (n(l, c) ? r(l.r, l.p1, l.r, l.p0) : r(l.r, l.p1, c.r, c.p0) + i(c.r, c.p1, c.a1 - c.a0) + r(c.r, c.p1, l.r, l.p0)) + "Z";
}
function t(e, t, n, i) {
var r = t.call(e, n, i), o = s.call(e, r, i), a = l.call(e, r, i) - wa, u = c.call(e, r, i) - wa;
return {
r: o,
a0: a,
a1: u,
p0: [ o * Math.cos(a), o * Math.sin(a) ],
p1: [ o * Math.cos(u), o * Math.sin(u) ]
};
}
function n(e, t) {
return e.a0 == t.a0 && e.a1 == t.a1;
}
function i(e, t, n) {
return "A" + e + "," + e + " 0 " + +(n > va) + ",1 " + t;
}
function r(e, t, n, i) {
return "Q 0,0 " + i;
}
var o = gn, a = mn, s = _o, l = no, c = io;
return e.radius = function(t) {
return arguments.length ? (s = Ae(t), e) : s;
}, e.source = function(t) {
return arguments.length ? (o = Ae(t), e) : o;
}, e.target = function(t) {
return arguments.length ? (a = Ae(t), e) : a;
}, e.startAngle = function(t) {
return arguments.length ? (l = Ae(t), e) : l;
}, e.endAngle = function(t) {
return arguments.length ? (c = Ae(t), e) : c;
}, e;
}, Vo.svg.diagonal = function() {
function e(e, r) {
var o = t.call(this, e, r), a = n.call(this, e, r), s = (o.y + a.y) / 2, l = [ o, {
x: o.x,
y: s
}, {
x: a.x,
y: s
}, a ];
return "M" + (l = l.map(i))[0] + "C" + l[1] + " " + l[2] + " " + l[3];
}
var t = gn, n = mn, i = So;
return e.source = function(n) {
return arguments.length ? (t = Ae(n), e) : t;
}, e.target = function(t) {
return arguments.length ? (n = Ae(t), e) : n;
}, e.projection = function(t) {
return arguments.length ? (i = t, e) : i;
}, e;
}, Vo.svg.diagonal.radial = function() {
var e = Vo.svg.diagonal(), t = So, n = e.projection;
return e.projection = function(e) {
return arguments.length ? n($o(t = e)) : t;
}, e;
}, Vo.svg.symbol = function() {
function e(e, i) {
return (pl.get(t.call(this, e, i)) || Eo)(n.call(this, e, i));
}
var t = ko, n = Ao;
return e.type = function(n) {
return arguments.length ? (t = Ae(n), e) : t;
}, e.size = function(t) {
return arguments.length ? (n = Ae(t), e) : n;
}, e;
};
var pl = Vo.map({
circle: Eo,
cross: function(e) {
var t = Math.sqrt(e / 5) / 2;
return "M" + -3 * t + "," + -t + "H" + -t + "V" + -3 * t + "H" + t + "V" + -t + "H" + 3 * t + "V" + t + "H" + t + "V" + 3 * t + "H" + -t + "V" + t + "H" + -3 * t + "Z";
},
diamond: function(e) {
var t = Math.sqrt(e / (2 * gl)), n = t * gl;
return "M0," + -t + "L" + n + ",0 0," + t + " " + -n + ",0Z";
},
square: function(e) {
var t = Math.sqrt(e) / 2;
return "M" + -t + "," + -t + "L" + t + "," + -t + " " + t + "," + t + " " + -t + "," + t + "Z";
},
"triangle-down": function(e) {
var t = Math.sqrt(e / fl), n = t * fl / 2;
return "M0," + n + "L" + t + "," + -n + " " + -t + "," + -n + "Z";
},
"triangle-up": function(e) {
var t = Math.sqrt(e / fl), n = t * fl / 2;
return "M0," + -n + "L" + t + "," + n + " " + -t + "," + n + "Z";
}
});
Vo.svg.symbolTypes = pl.keys();
var fl = Math.sqrt(3), gl = Math.tan(30 * xa);
sa.transition = function(e) {
for (var t, n, i = ml || ++wl, r = Io(e), o = [], a = vl || {
time: Date.now(),
ease: wi,
delay: 0,
duration: 250
}, s = -1, l = this.length; ++s < l; ) {
o.push(t = []);
for (var c = this[s], u = -1, d = c.length; ++u < d; ) (n = c[u]) && Lo(n, u, r, i, a), t.push(n);
}
return Do(o, r, i);
}, sa.interrupt = function(e) {
return this.each(null == e ? yl : To(Io(e)));
};
var ml, vl, yl = To(Io()), bl = [], wl = 0;
bl.call = sa.call, bl.empty = sa.empty, bl.node = sa.node, bl.size = sa.size, Vo.transition = function(e, t) {
return e && e.transition ? ml ? e.transition(t) : e : Vo.selection().transition(e);
}, Vo.transition.prototype = bl, bl.select = function(e) {
var t, n, i, r = this.id, o = this.namespace, a = [];
e = E(e);
for (var s = -1, l = this.length; ++s < l; ) {
a.push(t = []);
for (var c = this[s], u = -1, d = c.length; ++u < d; ) (i = c[u]) && (n = e.call(i, i.__data__, u, s)) ? ("__data__" in i && (n.__data__ = i.__data__), Lo(n, u, o, r, i[o][r]), t.push(n)) : t.push(null);
}
return Do(a, o, r);
}, bl.selectAll = function(e) {
var t, n, i, r, o, a = this.id, s = this.namespace, l = [];
e = T(e);
for (var c = -1, u = this.length; ++c < u; ) for (var d = this[c], h = -1, p = d.length; ++h < p; ) if (i = d[h]) {
o = i[s][a], n = e.call(i, i.__data__, h, c), l.push(t = []);
for (var f = -1, g = n.length; ++f < g; ) (r = n[f]) && Lo(r, f, s, a, o), t.push(r);
}
return Do(l, s, a);
}, bl.filter = function(e) {
var t, n, i, r = [];
"function" != typeof e && (e = U(e));
for (var o = 0, a = this.length; o < a; o++) {
r.push(t = []);
for (var s = 0, l = (n = this[o]).length; s < l; s++) (i = n[s]) && e.call(i, i.__data__, s, o) && t.push(i);
}
return Do(r, this.namespace, this.id);
}, bl.tween = function(e, t) {
var n = this.id, i = this.namespace;
return arguments.length < 2 ? this.node()[i][n].tween.get(e) : H(this, null == t ? function(t) {
t[i][n].tween.remove(e);
} : function(r) {
r[i][n].tween.set(e, t);
});
}, bl.attr = function(e, t) {
function n() {
this.removeAttribute(o);
}
function i() {
this.removeAttributeNS(o.space, o.local);
}
if (arguments.length < 2) {
for (t in e) this.attr(t, e[t]);
return this;
}
var r = "transform" == e ? Pi : pi, o = Vo.ns.qualify(e);
return Fo(this, "attr." + e, t, o.local ? function(e) {
return null == e ? i : (e += "", function() {
var t, n = this.getAttributeNS(o.space, o.local);
return n !== e && (t = r(n, e), function(e) {
this.setAttributeNS(o.space, o.local, t(e));
});
});
} : function(e) {
return null == e ? n : (e += "", function() {
var t, n = this.getAttribute(o);
return n !== e && (t = r(n, e), function(e) {
this.setAttribute(o, t(e));
});
});
});
}, bl.attrTween = function(e, t) {
var n = Vo.ns.qualify(e);
return this.tween("attr." + e, n.local ? function(e, i) {
var r = t.call(this, e, i, this.getAttributeNS(n.space, n.local));
return r && function(e) {
this.setAttributeNS(n.space, n.local, r(e));
};
} : function(e, i) {
var r = t.call(this, e, i, this.getAttribute(n));
return r && function(e) {
this.setAttribute(n, r(e));
};
});
}, bl.style = function(e, n, i) {
function r() {
this.style.removeProperty(e);
}
var o = arguments.length;
if (o < 3) {
if ("string" != typeof e) {
o < 2 && (n = "");
for (i in e) this.style(i, e[i], n);
return this;
}
i = "";
}
return Fo(this, "style." + e, n, function(n) {
return null == n ? r : (n += "", function() {
var r, o = t(this).getComputedStyle(this, null).getPropertyValue(e);
return o !== n && (r = pi(o, n), function(t) {
this.style.setProperty(e, r(t), i);
});
});
});
}, bl.styleTween = function(e, n, i) {
return arguments.length < 3 && (i = ""), this.tween("style." + e, function(r, o) {
var a = n.call(this, r, o, t(this).getComputedStyle(this, null).getPropertyValue(e));
return a && function(t) {
this.style.setProperty(e, a(t), i);
};
});
}, bl.text = function(e) {
return Fo(this, "text", e, Mo);
}, bl.remove = function() {
var e = this.namespace;
return this.each("end.transition", function() {
var t;
this[e].count < 2 && (t = this.parentNode) && t.removeChild(this);
});
}, bl.ease = function(e) {
var t = this.id, n = this.namespace;
return arguments.length < 1 ? this.node()[n][t].ease : ("function" != typeof e && (e = Vo.ease.apply(Vo, arguments)), H(this, function(i) {
i[n][t].ease = e;
}));
}, bl.delay = function(e) {
var t = this.id, n = this.namespace;
return arguments.length < 1 ? this.node()[n][t].delay : H(this, "function" == typeof e ? function(i, r, o) {
i[n][t].delay = +e.call(i, i.__data__, r, o);
} : (e = +e, function(i) {
i[n][t].delay = e;
}));
}, bl.duration = function(e) {
var t = this.id, n = this.namespace;
return arguments.length < 1 ? this.node()[n][t].duration : H(this, "function" == typeof e ? function(i, r, o) {
i[n][t].duration = Math.max(1, e.call(i, i.__data__, r, o));
} : (e = Math.max(1, e), function(i) {
i[n][t].duration = e;
}));
}, bl.each = function(e, t) {
var n = this.id, i = this.namespace;
if (arguments.length < 2) {
var r = vl, o = ml;
try {
ml = n, H(this, function(t, r, o) {
vl = t[i][n], e.call(t, t.__data__, r, o);
});
} finally {
vl = r, ml = o;
}
} else H(this, function(r) {
var o = r[i][n];
(o.event || (o.event = Vo.dispatch("start", "end", "interrupt"))).on(e, t);
});
return this;
}, bl.transition = function() {
for (var e, t, n, i, r = this.id, o = ++wl, a = this.namespace, s = [], l = 0, c = this.length; l < c; l++) {
s.push(e = []);
for (var u = 0, d = (t = this[l]).length; u < d; u++) (n = t[u]) && Lo(n, u, a, o, {
time: (i = n[a][r]).time,
ease: i.ease,
delay: i.delay + i.duration,
duration: i.duration
}), e.push(n);
}
return Do(s, a, o);
}, Vo.svg.axis = function() {
function e(e) {
e.each(function() {
var e, c = Vo.select(this), u = this.__chart__ || n, d = this.__chart__ = n.copy(), h = null == l ? d.ticks ? d.ticks.apply(d, s) : d.domain() : l, p = null == t ? d.tickFormat ? d.tickFormat.apply(d, s) : y : t, f = c.selectAll(".tick").data(h, d), g = f.enter().insert("g", ".domain").attr("class", "tick").style("opacity", ga), m = Vo.transition(f.exit()).style("opacity", ga).remove(), v = Vo.transition(f.order()).style("opacity", 1), b = Math.max(r, 0) + a, w = Mr(d), x = c.selectAll(".domain").data([ 0 ]), C = (x.enter().append("path").attr("class", "domain"), Vo.transition(x));
g.append("line"), g.append("text");
var _, S, $, A, k = g.select("line"), E = v.select("line"), T = f.select("text").text(p), D = g.select("text"), F = v.select("text"), M = "top" === i || "left" === i ? -1 : 1;
if ("bottom" === i || "top" === i ? (e = Po, _ = "x", $ = "y", S = "x2", A = "y2", T.attr("dy", M < 0 ? "0em" : ".71em").style("text-anchor", "middle"), C.attr("d", "M" + w[0] + "," + M * o + "V0H" + w[1] + "V" + M * o)) : (e = Oo, _ = "y", $ = "x", S = "y2", A = "x2", T.attr("dy", ".32em").style("text-anchor", M < 0 ? "end" : "start"), C.attr("d", "M" + M * o + "," + w[0] + "H0V" + w[1] + "H" + M * o)), k.attr(A, M * r), D.attr($, M * b), E.attr(S, 0).attr(A, M * r), F.attr(_, 0).attr($, M * b), d.rangeBand) {
var I = d, L = I.rangeBand() / 2;
u = d = function(e) {
return I(e) + L;
};
} else u.rangeBand ? u = d : m.call(e, d, u);
g.call(e, u, d), v.call(e, d, d);
});
}
var t, n = Vo.scale.linear(), i = xl, r = 6, o = 6, a = 3, s = [ 10 ], l = null;
return e.scale = function(t) {
return arguments.length ? (n = t, e) : n;
}, e.orient = function(t) {
return arguments.length ? (i = t in Cl ? t + "" : xl, e) : i;
}, e.ticks = function() {
return arguments.length ? (s = zo(arguments), e) : s;
}, e.tickValues = function(t) {
return arguments.length ? (l = t, e) : l;
}, e.tickFormat = function(n) {
return arguments.length ? (t = n, e) : t;
}, e.tickSize = function(t) {
var n = arguments.length;
return n ? (r = +t, o = +arguments[n - 1], e) : r;
}, e.innerTickSize = function(t) {
return arguments.length ? (r = +t, e) : r;
}, e.outerTickSize = function(t) {
return arguments.length ? (o = +t, e) : o;
}, e.tickPadding = function(t) {
return arguments.length ? (a = +t, e) : a;
}, e.tickSubdivide = function() {
return arguments.length && e;
}, e;
};
var xl = "bottom", Cl = {
top: 1,
right: 1,
bottom: 1,
left: 1
};
Vo.svg.brush = function() {
function e(t) {
t.each(function() {
var t = Vo.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", o).on("touchstart.brush", o), a = t.selectAll(".background").data([ 0 ]);
a.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"), t.selectAll(".extent").data([ 0 ]).enter().append("rect").attr("class", "extent").style("cursor", "move");
var s = t.selectAll(".resize").data(g, y);
s.exit().remove(), s.enter().append("g").attr("class", function(e) {
return "resize " + e;
}).style("cursor", function(e) {
return _l[e];
}).append("rect").attr("x", function(e) {
return /[ew]$/.test(e) ? -3 : null;
}).attr("y", function(e) {
return /^[ns]/.test(e) ? -3 : null;
}).attr("width", 6).attr("height", 6).style("visibility", "hidden"), s.style("display", e.empty() ? "none" : null);
var l, d = Vo.transition(t), h = Vo.transition(a);
c && (l = Mr(c), h.attr("x", l[0]).attr("width", l[1] - l[0]), i(d)), u && (l = Mr(u), h.attr("y", l[0]).attr("height", l[1] - l[0]), r(d)), n(d);
});
}
function n(e) {
e.selectAll(".resize").attr("transform", function(e) {
return "translate(" + d[+/e$/.test(e)] + "," + h[+/^s/.test(e)] + ")";
});
}
function i(e) {
e.select(".extent").attr("x", d[0]), e.selectAll(".extent,.n>rect,.s>rect").attr("width", d[1] - d[0]);
}
function r(e) {
e.select(".extent").attr("y", h[0]), e.selectAll(".extent,.e>rect,.w>rect").attr("height", h[1] - h[0]);
}
function o() {
function o() {
var e = Vo.mouse(b), t = !1;
y && (e[0] += y[0], e[1] += y[1]), k || (Vo.event.altKey ? (v || (v = [ (d[0] + d[1]) / 2, (h[0] + h[1]) / 2 ]), T[0] = d[+(e[0] < v[0])], T[1] = h[+(e[1] < v[1])]) : v = null), $ && g(e, c, 0) && (i(C), t = !0), A && g(e, u, 1) && (r(C), t = !0), t && (n(C), x({
type: "brush",
mode: k ? "move" : "resize"
}));
}
function g(e, t, n) {
var i, r, o = Mr(t), l = o[0], c = o[1], u = T[n], g = n ? h : d, m = g[1] - g[0];
if (k && (l -= u, c -= m + u), i = (n ? f : p) ? Math.max(l, Math.min(c, e[n])) : e[n], k ? r = (i += u) + m : (v && (u = Math.max(l, Math.min(c, 2 * v[n] - i))), u < i ? (r = i, i = u) : r = u), g[0] != i || g[1] != r) return n ? s = null : a = null, g[0] = i, g[1] = r, !0;
}
function m() {
o(), C.style("pointer-events", "all").selectAll(".resize").style("display", e.empty() ? "none" : null), Vo.select("body").style("cursor", null), D.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null), E(), x({
type: "brushend"
});
}
var v, y, b = this, w = Vo.select(Vo.event.target), x = l.of(b, arguments), C = Vo.select(b), _ = w.datum(), $ = !/^(n|s)$/.test(_) && c, A = !/^(e|w)$/.test(_) && u, k = w.classed("extent"), E = K(b), T = Vo.mouse(b), D = Vo.select(t(b)).on("keydown.brush", function() {
32 == Vo.event.keyCode && (k || (v = null, T[0] -= d[1], T[1] -= h[1], k = 2), S());
}).on("keyup.brush", function() {
32 == Vo.event.keyCode && 2 == k && (T[0] += d[1], T[1] += h[1], k = 0, S());
});
if (Vo.event.changedTouches ? D.on("touchmove.brush", o).on("touchend.brush", m) : D.on("mousemove.brush", o).on("mouseup.brush", m), C.interrupt().selectAll("*").interrupt(), k) T[0] = d[0] - T[0], T[1] = h[0] - T[1]; else if (_) {
var F = +/w$/.test(_), M = +/^n/.test(_);
y = [ d[1 - F] - T[0], h[1 - M] - T[1] ], T[0] = d[F], T[1] = h[M];
} else Vo.event.altKey && (v = T.slice());
C.style("pointer-events", "none").selectAll(".resize").style("display", null), Vo.select("body").style("cursor", w.style("cursor")), x({
type: "brushstart"
}), o();
}
var a, s, l = A(e, "brushstart", "brush", "brushend"), c = null, u = null, d = [ 0, 0 ], h = [ 0, 0 ], p = !0, f = !0, g = Sl[0];
return e.event = function(e) {
e.each(function() {
var e = l.of(this, arguments), t = {
x: d,
y: h,
i: a,
j: s
}, n = this.__chart__ || t;
this.__chart__ = t, ml ? Vo.select(this).transition().each("start.brush", function() {
a = n.i, s = n.j, d = n.x, h = n.y, e({
type: "brushstart"
});
}).tween("brush:brush", function() {
var n = fi(d, t.x), i = fi(h, t.y);
return a = s = null, function(r) {
d = t.x = n(r), h = t.y = i(r), e({
type: "brush",
mode: "resize"
});
};
}).each("end.brush", function() {
a = t.i, s = t.j, e({
type: "brush",
mode: "resize"
}), e({
type: "brushend"
});
}) : (e({
type: "brushstart"
}), e({
type: "brush",
mode: "resize"
}), e({
type: "brushend"
}));
});
}, e.x = function(t) {
return arguments.length ? (c = t, g = Sl[!c << 1 | !u], e) : c;
}, e.y = function(t) {
return arguments.length ? (u = t, g = Sl[!c << 1 | !u], e) : u;
}, e.clamp = function(t) {
return arguments.length ? (c && u ? (p = !!t[0], f = !!t[1]) : c ? p = !!t : u && (f = !!t), e) : c && u ? [ p, f ] : c ? p : u ? f : null;
}, e.extent = function(t) {
var n, i, r, o, l;
return arguments.length ? (c && (n = t[0], i = t[1], u && (n = n[0], i = i[0]), a = [ n, i ], c.invert && (n = c(n), i = c(i)), i < n && (l = n, n = i, i = l), n == d[0] && i == d[1] || (d = [ n, i ])), u && (r = t[0], o = t[1], c && (r = r[1], o = o[1]), s = [ r, o ], u.invert && (r = u(r), o = u(o)), o < r && (l = r, r = o, o = l), r == h[0] && o == h[1] || (h = [ r, o ])), e) : (c && (a ? (n = a[0], i = a[1]) : (n = d[0], i = d[1], c.invert && (n = c.invert(n), i = c.invert(i)), i < n && (l = n, n = i, i = l))), u && (s ? (r = s[0], o = s[1]) : (r = h[0], o = h[1], u.invert && (r = u.invert(r), o = u.invert(o)), o < r && (l = r, r = o, o = l))), c && u ? [ [ n, r ], [ i, o ] ] : c ? [ n, i ] : u && [ r, o ]);
}, e.clear = function() {
return e.empty() || (d = [ 0, 0 ], h = [ 0, 0 ], a = s = null), e;
}, e.empty = function() {
return !!c && d[0] == d[1] || !!u && h[0] == h[1];
}, Vo.rebind(e, l, "on");
};
var _l = {
n: "ns-resize",
e: "ew-resize",
s: "ns-resize",
w: "ew-resize",
nw: "nwse-resize",
ne: "nesw-resize",
se: "nwse-resize",
sw: "nesw-resize"
}, Sl = [ [ "n", "e", "s", "w", "nw", "ne", "se", "sw" ], [ "e", "w" ], [ "n", "s" ], [] ], $l = za.format = Xa.timeFormat, Al = $l.utc, kl = Al("%Y-%m-%dT%H:%M:%S.%LZ");
$l.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? Ro : kl, Ro.parse = function(e) {
var t = new Date(e);
return isNaN(t) ? null : t;
}, Ro.toString = kl.toString, za.second = Ne(function(e) {
return new Wa(1e3 * Math.floor(e / 1e3));
}, function(e, t) {
e.setTime(e.getTime() + 1e3 * Math.floor(t));
}, function(e) {
return e.getSeconds();
}), za.seconds = za.second.range, za.seconds.utc = za.second.utc.range, za.minute = Ne(function(e) {
return new Wa(6e4 * Math.floor(e / 6e4));
}, function(e, t) {
e.setTime(e.getTime() + 6e4 * Math.floor(t));
}, function(e) {
return e.getMinutes();
}), za.minutes = za.minute.range, za.minutes.utc = za.minute.utc.range, za.hour = Ne(function(e) {
var t = e.getTimezoneOffset() / 60;
return new Wa(36e5 * (Math.floor(e / 36e5 - t) + t));
}, function(e, t) {
e.setTime(e.getTime() + 36e5 * Math.floor(t));
}, function(e) {
return e.getHours();
}), za.hours = za.hour.range, za.hours.utc = za.hour.utc.range, za.month = Ne(function(e) {
return (e = za.day(e)).setDate(1), e;
}, function(e, t) {
e.setMonth(e.getMonth() + t);
}, function(e) {
return e.getMonth();
}), za.months = za.month.range, za.months.utc = za.month.utc.range;
var El = [ 1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6 ], Tl = [ [ za.second, 1 ], [ za.second, 5 ], [ za.second, 15 ], [ za.second, 30 ], [ za.minute, 1 ], [ za.minute, 5 ], [ za.minute, 15 ], [ za.minute, 30 ], [ za.hour, 1 ], [ za.hour, 3 ], [ za.hour, 6 ], [ za.hour, 12 ], [ za.day, 1 ], [ za.day, 2 ], [ za.week, 1 ], [ za.month, 1 ], [ za.month, 3 ], [ za.year, 1 ] ], Dl = $l.multi([ [ ".%L", function(e) {
return e.getMilliseconds();
} ], [ ":%S", function(e) {
return e.getSeconds();
} ], [ "%I:%M", function(e) {
return e.getMinutes();
} ], [ "%I %p", function(e) {
return e.getHours();
} ], [ "%a %d", function(e) {
return e.getDay() && 1 != e.getDate();
} ], [ "%b %d", function(e) {
return 1 != e.getDate();
} ], [ "%B", function(e) {
return e.getMonth();
} ], [ "%Y", Et ] ]), Fl = {
range: function(e, t, n) {
return Vo.range(Math.ceil(e / n) * n, +t, n).map(No);
},
floor: y,
ceil: y
};
Tl.year = za.year, za.scale = function() {
return Bo(Vo.scale.linear(), Tl, Dl);
};
var Ml = Tl.map(function(e) {
return [ e[0].utc, e[1] ];
}), Il = Al.multi([ [ ".%L", function(e) {
return e.getUTCMilliseconds();
} ], [ ":%S", function(e) {
return e.getUTCSeconds();
} ], [ "%I:%M", function(e) {
return e.getUTCMinutes();
} ], [ "%I %p", function(e) {
return e.getUTCHours();
} ], [ "%a %d", function(e) {
return e.getUTCDay() && 1 != e.getUTCDate();
} ], [ "%b %d", function(e) {
return 1 != e.getUTCDate();
} ], [ "%B", function(e) {
return e.getUTCMonth();
} ], [ "%Y", Et ] ]);
Ml.year = za.year.utc, za.scale.utc = function() {
return Bo(Vo.scale.linear(), Ml, Il);
}, Vo.text = ke(function(e) {
return e.responseText;
}), Vo.json = function(e, t) {
return Ee(e, "application/json", jo, t);
}, Vo.html = function(e, t) {
return Ee(e, "text/html", Uo, t);
}, Vo.xml = ke(function(e) {
return e.responseXML;
}), "function" == typeof define && define.amd ? (this.d3 = Vo, define(Vo)) : "object" == typeof module && module.exports ? module.exports = Vo : this.d3 = Vo;
}(), function(e) {
"use strict";
function t(e) {
this.owner = e;
}
function n(e) {
var t = this.internal = new i(this);
t.loadConfig(e), t.beforeInit(e), t.init(), t.afterInit(e), function e(t, n, i) {
Object.keys(t).forEach(function(r) {
n[r] = t[r].bind(i), Object.keys(t[r]).length > 0 && e(t[r], n[r], i);
});
}(a, this, this);
}
function i(t) {
var n = this;
n.d3 = e.d3 ? e.d3 : "undefined" != typeof require ? require("d3") : void 0, n.api = t, n.config = n.getDefaultConfig(), n.data = {}, n.cache = {}, n.axes = {};
}
function r(e) {
t.call(this, e);
}
function o(e, t) {
function n(e, t) {
e.attr("transform", function(e) {
return "translate(" + Math.ceil(t(e) + w) + ", 0)";
});
}
function i(e, t) {
e.attr("transform", function(e) {
return "translate(0," + Math.ceil(t(e)) + ")";
});
}
function r(e) {
var t = e[0], n = e[e.length - 1];
return t < n ? [ t, n ] : [ n, t ];
}
function o(e) {
var t, n, i = [];
if (e.ticks) return e.ticks.apply(e, p);
for (n = e.domain(), t = Math.ceil(n[0]); t < n[1]; t++) i.push(t);
return i.length > 0 && i[0] > 0 && i.unshift(i[0] - (i[1] - i[0])), i;
}
function a() {
var e, n = g.copy();
return t.isCategory && (e = g.domain(), n.domain([ e[0], e[1] - 1 ])), n;
}
function s(e) {
var t = h ? h(e) : e;
return void 0 !== t ? t : "";
}
function l(e) {
if (S) return S;
var t = {
h: 11.5,
w: 5.5
};
return e.select("text").text(s).each(function(e) {
var n = this.getBoundingClientRect(), i = s(e), r = n.height, o = i ? n.width / i.length : void 0;
r && o && (t.h = r, t.w = o);
}).text(""), S = t, t;
}
function c(n) {
return t.withoutTransition ? n : e.transition(n);
}
function u(h) {
h.each(function() {
function h(e, n) {
function i(e, t) {
o = void 0;
for (var s = 1; s < t.length; s++) if (" " === t.charAt(s) && (o = s), r = t.substr(0, s + 1), a = U.w * r.length, n < a) return i(e.concat(t.substr(0, o || s)), t.slice(o ? o + 1 : s));
return e.concat(t);
}
var r, o, a, l = s(e), c = [];
return "[object Array]" === Object.prototype.toString.call(l) ? l : ((!n || n <= 0) && (n = z ? 95 : t.isCategory ? Math.ceil(A(k[1]) - A(k[0])) - 12 : 110), i(c, l + ""));
}
function p(e, t) {
var n = U.h;
return 0 === t && (n = "left" === m || "right" === m ? -((V[e.index] - 1) * (U.h / 2) - 3) : ".71em"), n;
}
var x, C, _, S = u.g = e.select(this), $ = this.__chart__ || g, A = this.__chart__ = a(), k = b || o(A), E = S.selectAll(".tick").data(k, A), T = E.enter().insert("g", ".domain").attr("class", "tick").style("opacity", 1e-6), D = E.exit().remove(), F = c(E).style("opacity", 1), M = g.rangeExtent ? g.rangeExtent() : r(g.range()), I = S.selectAll(".domain").data([ 0 ]), L = (I.enter().append("path").attr("class", "domain"), c(I));
T.append("line"), T.append("text");
var P = T.select("line"), O = F.select("line"), R = T.select("text"), B = F.select("text");
t.isCategory ? (w = Math.ceil((A(1) - A(0)) / 2), C = f ? 0 : w, _ = f ? w : 0) : w = C = 0;
var N, j, U = l(S.select(".tick")), V = [], H = Math.max(v, 0) + y, z = "left" === m || "right" === m;
(j = (N = E.select("text")).selectAll("tspan").data(function(e, n) {
var i = t.tickMultiline ? h(e, t.tickWidth) : [].concat(s(e));
return V[n] = i.length, i.map(function(e) {
return {
index: n,
splitted: e
};
});
})).enter().append("tspan"), j.exit().remove(), j.text(function(e) {
return e.splitted;
});
var W = t.tickTextRotate;
switch (m) {
case "bottom":
x = n, P.attr("y2", v), R.attr("y", H), O.attr("x1", C).attr("x2", C).attr("y2", function(e) {
var t = g(e) + (f ? 0 : w);
return M[0] < t && t < M[1] ? v : 0;
}), B.attr("x", 0).attr("y", function(e) {
return e ? 11.5 - e / 15 * 2.5 * (e > 0 ? 1 : -1) : H;
}(W)).style("text-anchor", function(e) {
return e ? e > 0 ? "start" : "end" : "middle";
}(W)).attr("transform", function(e) {
return e ? "rotate(" + e + ")" : "";
}(W)), j.attr("x", 0).attr("dy", p).attr("dx", function(e) {
return e ? 8 * Math.sin(Math.PI * (e / 180)) : 0;
}(W)), L.attr("d", "M" + M[0] + "," + d + "V0H" + M[1] + "V" + d);
break;

case "top":
x = n, P.attr("y2", -v), R.attr("y", -H), O.attr("x2", 0).attr("y2", -v), B.attr("x", 0).attr("y", -H), N.style("text-anchor", "middle"), j.attr("x", 0).attr("dy", "0em"), L.attr("d", "M" + M[0] + "," + -d + "V0H" + M[1] + "V" + -d);
break;

case "left":
x = i, P.attr("x2", -v), R.attr("x", -H), O.attr("x2", -v).attr("y1", _).attr("y2", _), B.attr("x", -H).attr("y", w), N.style("text-anchor", "end"), j.attr("x", -H).attr("dy", p), L.attr("d", "M" + -d + "," + M[0] + "H0V" + M[1] + "H" + -d);
break;

case "right":
x = i, P.attr("x2", v), R.attr("x", H), O.attr("x2", v).attr("y2", 0), B.attr("x", H).attr("y", 0), N.style("text-anchor", "start"), j.attr("x", H).attr("dy", p), L.attr("d", "M" + d + "," + M[0] + "H0V" + M[1] + "H" + d);
}
if (A.rangeBand) {
var G = A, q = G.rangeBand() / 2;
$ = A = function(e) {
return G(e) + q;
};
} else $.rangeBand ? $ = A : D.call(x, A);
T.call(x, $), F.call(x, A);
});
}
var d, h, p, f, g = e.scale.linear(), m = "bottom", v = 6, y = 3, b = null, w = 0, x = !0;
return t = t || {}, d = t.withOuterTick ? 6 : 0, u.scale = function(e) {
return arguments.length ? (g = e, u) : g;
}, u.orient = function(e) {
return arguments.length ? (m = e in {
top: 1,
right: 1,
bottom: 1,
left: 1
} ? e + "" : "bottom", u) : m;
}, u.tickFormat = function(e) {
return arguments.length ? (h = e, u) : h;
}, u.tickCentered = function(e) {
return arguments.length ? (f = e, u) : f;
}, u.tickOffset = function() {
return w;
}, u.tickInterval = function() {
var e;
return (e = t.isCategory ? 2 * w : (u.g.select("path.domain").node().getTotalLength() - 2 * d) / u.g.selectAll("line").size()) === 1 / 0 ? 0 : e;
}, u.ticks = function() {
return arguments.length ? (p = arguments, u) : p;
}, u.tickCulling = function(e) {
return arguments.length ? (x = e, u) : x;
}, u.tickValues = function(e) {
if ("function" == typeof e) b = function() {
return e(g.domain());
}; else {
if (!arguments.length) return b;
b = e;
}
return u;
}, u;
}
var a, s, l = {
version: "0.4.11"
};
l.generate = function(e) {
return new n(e);
}, l.chart = {
fn: n.prototype,
internal: {
fn: i.prototype,
axis: {
fn: r.prototype
}
}
}, a = l.chart.fn, s = l.chart.internal.fn, l.chart.internal.axis.fn, s.beforeInit = function() {}, s.afterInit = function() {}, s.init = function() {
var e = this, t = e.config;
if (e.initParams(), t.data_url) e.convertUrlToData(t.data_url, t.data_mimeType, t.data_headers, t.data_keys, e.initWithData); else if (t.data_json) e.initWithData(e.convertJsonToData(t.data_json, t.data_keys)); else if (t.data_rows) e.initWithData(e.convertRowsToData(t.data_rows)); else {
if (!t.data_columns) throw Error("url or json or rows or columns is required.");
e.initWithData(e.convertColumnsToData(t.data_columns));
}
}, s.initParams = function() {
var e = this, t = e.d3, n = e.config;
e.clipId = "c3-" + +new Date() + "-clip", e.clipIdForXAxis = e.clipId + "-xaxis", e.clipIdForYAxis = e.clipId + "-yaxis", e.clipIdForGrid = e.clipId + "-grid", e.clipIdForSubchart = e.clipId + "-subchart", e.clipPath = e.getClipPath(e.clipId), e.clipPathForXAxis = e.getClipPath(e.clipIdForXAxis), e.clipPathForYAxis = e.getClipPath(e.clipIdForYAxis), e.clipPathForGrid = e.getClipPath(e.clipIdForGrid), e.clipPathForSubchart = e.getClipPath(e.clipIdForSubchart), e.dragStart = null, e.dragging = !1, e.flowing = !1, e.cancelClick = !1, e.mouseover = !1, e.transiting = !1, e.color = e.generateColor(), e.levelColor = e.generateLevelColor(), e.dataTimeFormat = n.data_xLocaltime ? t.time.format : t.time.format.utc, e.axisTimeFormat = n.axis_x_localtime ? t.time.format : t.time.format.utc, e.defaultAxisTimeFormat = e.axisTimeFormat.multi([ [ ".%L", function(e) {
return e.getMilliseconds();
} ], [ ":%S", function(e) {
return e.getSeconds();
} ], [ "%I:%M", function(e) {
return e.getMinutes();
} ], [ "%I %p", function(e) {
return e.getHours();
} ], [ "%-m/%-d", function(e) {
return e.getDay() && 1 !== e.getDate();
} ], [ "%-m/%-d", function(e) {
return 1 !== e.getDate();
} ], [ "%-m/%-d", function(e) {
return e.getMonth();
} ], [ "%Y/%-m/%-d", function() {
return !0;
} ] ]), e.hiddenTargetIds = [], e.hiddenLegendIds = [], e.focusedTargetIds = [], e.defocusedTargetIds = [], e.xOrient = n.axis_rotated ? "left" : "bottom", e.yOrient = n.axis_rotated ? n.axis_y_inner ? "top" : "bottom" : n.axis_y_inner ? "right" : "left", e.y2Orient = n.axis_rotated ? n.axis_y2_inner ? "bottom" : "top" : n.axis_y2_inner ? "left" : "right", e.subXOrient = n.axis_rotated ? "left" : "bottom", e.isLegendRight = "right" === n.legend_position, e.isLegendInset = "inset" === n.legend_position, e.isLegendTop = "top-left" === n.legend_inset_anchor || "top-right" === n.legend_inset_anchor, e.isLegendLeft = "top-left" === n.legend_inset_anchor || "bottom-left" === n.legend_inset_anchor, e.legendStep = 0, e.legendItemWidth = 0, e.legendItemHeight = 0, e.currentMaxTickWidths = {
x: 0,
y: 0,
y2: 0
}, e.rotated_padding_left = 30, e.rotated_padding_right = n.axis_rotated && !n.axis_x_show ? 0 : 30, e.rotated_padding_top = 5, e.withoutFadeIn = {}, e.intervalForObserveInserted = void 0, e.axes.subx = t.selectAll([]);
}, s.initChartElements = function() {
this.initBar && this.initBar(), this.initLine && this.initLine(), this.initArc && this.initArc(), this.initGauge && this.initGauge(), this.initText && this.initText();
}, s.initWithData = function(e) {
var t, n, i = this, o = i.d3, a = i.config, s = !0;
i.axis = new r(i), i.initPie && i.initPie(), i.initBrush && i.initBrush(), i.initZoom && i.initZoom(), a.bindto ? "function" == typeof a.bindto.node ? i.selectChart = a.bindto : i.selectChart = o.select(a.bindto) : i.selectChart = o.selectAll([]), i.selectChart.empty() && (i.selectChart = o.select(document.createElement("div")).style("opacity", 0), i.observeInserted(i.selectChart), s = !1), i.selectChart.html("").classed("c3", !0), i.data.xs = {}, i.data.targets = i.convertDataToTargets(e), a.data_filter && (i.data.targets = i.data.targets.filter(a.data_filter)), a.data_hide && i.addHiddenTargetIds(!0 === a.data_hide ? i.mapToIds(i.data.targets) : a.data_hide), a.legend_hide && i.addHiddenLegendIds(!0 === a.legend_hide ? i.mapToIds(i.data.targets) : a.legend_hide), i.hasType("gauge") && (a.legend_show = !1), i.updateSizes(), i.updateScales(), i.x.domain(o.extent(i.getXDomain(i.data.targets))), i.y.domain(i.getYDomain(i.data.targets, "y")), i.y2.domain(i.getYDomain(i.data.targets, "y2")), 
i.subX.domain(i.x.domain()), i.subY.domain(i.y.domain()), i.subY2.domain(i.y2.domain()), i.orgXDomain = i.x.domain(), i.brush && i.brush.scale(i.subX), a.zoom_enabled && i.zoom.scale(i.x), i.svg = i.selectChart.append("svg").style("overflow", "hidden").on("mouseenter", function() {
return a.onmouseover.call(i);
}).on("mouseleave", function() {
return a.onmouseout.call(i);
}), i.config.svg_classname && i.svg.attr("class", i.config.svg_classname), t = i.svg.append("defs"), i.clipChart = i.appendClip(t, i.clipId), i.clipXAxis = i.appendClip(t, i.clipIdForXAxis), i.clipYAxis = i.appendClip(t, i.clipIdForYAxis), i.clipGrid = i.appendClip(t, i.clipIdForGrid), i.clipSubchart = i.appendClip(t, i.clipIdForSubchart), i.updateSvgSize(), n = i.main = i.svg.append("g").attr("transform", i.getTranslate("main")), i.initSubchart && i.initSubchart(), i.initTooltip && i.initTooltip(), i.initLegend && i.initLegend(), i.initTitle && i.initTitle(), n.append("text").attr("class", c.text + " " + c.empty).attr("text-anchor", "middle").attr("dominant-baseline", "middle"), i.initRegion(), i.initGrid(), n.append("g").attr("clip-path", i.clipPath).attr("class", c.chart), a.grid_lines_front && i.initGridLines(), i.initEventRect(), i.initChartElements(), n.insert("rect", a.zoom_privileged ? null : "g." + c.regions).attr("class", c.zoomRect).attr("width", i.width).attr("height", i.height).style("opacity", 0).on("dblclick.zoom", null), 
a.axis_x_extent && i.brush.extent(i.getDefaultExtent()), i.axis.init(), i.updateTargets(i.data.targets), s && (i.updateDimension(), i.config.oninit.call(i), i.redraw({
withTransition: !1,
withTransform: !0,
withUpdateXDomain: !0,
withUpdateOrgXDomain: !0,
withTransitionForAxis: !1
})), i.bindResize(), i.api.element = i.selectChart.node();
}, s.smoothLines = function(e, t) {
var n = this;
"grid" === t && e.each(function() {
var e = n.d3.select(this), t = e.attr("x1"), i = e.attr("x2"), r = e.attr("y1"), o = e.attr("y2");
e.attr({
x1: Math.ceil(t),
x2: Math.ceil(i),
y1: Math.ceil(r),
y2: Math.ceil(o)
});
});
}, s.updateSizes = function() {
var e = this, t = e.config, n = e.legend ? e.getLegendHeight() : 0, i = e.legend ? e.getLegendWidth() : 0, r = e.isLegendRight || e.isLegendInset ? 0 : n, o = e.hasArcType(), a = t.axis_rotated || o ? 0 : e.getHorizontalAxisHeight("x"), s = t.subchart_show && !o ? t.subchart_size_height + a : 0;
e.currentWidth = e.getCurrentWidth(), e.currentHeight = e.getCurrentHeight(), e.margin = t.axis_rotated ? {
top: e.getHorizontalAxisHeight("y2") + e.getCurrentPaddingTop(),
right: o ? 0 : e.getCurrentPaddingRight(),
bottom: e.getHorizontalAxisHeight("y") + r + e.getCurrentPaddingBottom(),
left: s + (o ? 0 : e.getCurrentPaddingLeft())
} : {
top: 4 + e.getCurrentPaddingTop(),
right: o ? 0 : e.getCurrentPaddingRight(),
bottom: a + s + r + e.getCurrentPaddingBottom(),
left: o ? 0 : e.getCurrentPaddingLeft()
}, e.margin2 = t.axis_rotated ? {
top: e.margin.top,
right: NaN,
bottom: 20 + r,
left: e.rotated_padding_left
} : {
top: e.currentHeight - s - r,
right: NaN,
bottom: a + r,
left: e.margin.left
}, e.margin3 = {
top: 0,
right: NaN,
bottom: 0,
left: 0
}, e.updateSizeForLegend && e.updateSizeForLegend(n, i), e.width = e.currentWidth - e.margin.left - e.margin.right, e.height = e.currentHeight - e.margin.top - e.margin.bottom, e.width < 0 && (e.width = 0), e.height < 0 && (e.height = 0), e.width2 = t.axis_rotated ? e.margin.left - e.rotated_padding_left - e.rotated_padding_right : e.width, e.height2 = t.axis_rotated ? e.height : e.currentHeight - e.margin2.top - e.margin2.bottom, e.width2 < 0 && (e.width2 = 0), e.height2 < 0 && (e.height2 = 0), e.arcWidth = e.width - (e.isLegendRight ? i + 10 : 0), e.arcHeight = e.height - (e.isLegendRight ? 0 : 10), e.hasType("gauge") && !t.gauge_fullCircle && (e.arcHeight += e.height - e.getGaugeLabelHeight()), e.updateRadius && e.updateRadius(), e.isLegendRight && o && (e.margin3.left = e.arcWidth / 2 + 1.1 * e.radiusExpanded);
}, s.updateTargets = function(e) {
var t = this;
t.updateTargetsForText(e), t.updateTargetsForBar(e), t.updateTargetsForLine(e), t.hasArcType() && t.updateTargetsForArc && t.updateTargetsForArc(e), t.updateTargetsForSubchart && t.updateTargetsForSubchart(e), t.showTargets();
}, s.showTargets = function() {
var e = this;
e.svg.selectAll("." + c.target).filter(function(t) {
return e.isTargetToShow(t.id);
}).transition().duration(e.config.transition_duration).style("opacity", 1);
}, s.redraw = function(e, t) {
var n, i, r, o, a, s, l, u, d, h, p, f, g, m, v, y, b, x, C, _, S, $, A, k, E, T, D, F, M, I = this, L = I.main, P = I.d3, O = I.config, R = I.getShapeIndices(I.isAreaType), B = I.getShapeIndices(I.isBarType), N = I.getShapeIndices(I.isLineType), j = I.hasArcType(), U = I.filterTargetsToShow(I.data.targets), V = I.xv.bind(I);
if (e = e || {}, n = w(e, "withY", !0), i = w(e, "withSubchart", !0), r = w(e, "withTransition", !0), s = w(e, "withTransform", !1), l = w(e, "withUpdateXDomain", !1), u = w(e, "withUpdateOrgXDomain", !1), d = w(e, "withTrimXDomain", !0), g = w(e, "withUpdateXAxis", l), h = w(e, "withLegend", !1), p = w(e, "withEventRect", !0), f = w(e, "withDimension", !0), o = w(e, "withTransitionForExit", r), a = w(e, "withTransitionForAxis", r), C = r ? O.transition_duration : 0, _ = o ? C : 0, S = a ? C : 0, t = t || I.axis.generateTransitions(S), h && O.legend_show ? I.updateLegend(I.mapToIds(I.data.targets), e, t) : f && I.updateDimension(!0), I.isCategorized() && 0 === U.length && I.x.domain([ 0, I.axes.x.selectAll(".tick").size() ]), U.length ? (I.updateXDomain(U, l, u, d), O.axis_x_tick_values || (k = I.axis.updateXAxisTickValues(U))) : (I.xAxis.tickValues([]), I.subXAxis.tickValues([])), O.zoom_rescale && !e.flow && (D = I.x.orgDomain()), I.y.domain(I.getYDomain(U, "y", D)), I.y2.domain(I.getYDomain(U, "y2", D)), 
!O.axis_y_tick_values && O.axis_y_tick_count && I.yAxis.tickValues(I.axis.generateTickValues(I.y.domain(), O.axis_y_tick_count)), !O.axis_y2_tick_values && O.axis_y2_tick_count && I.y2Axis.tickValues(I.axis.generateTickValues(I.y2.domain(), O.axis_y2_tick_count)), I.axis.redraw(t, j), I.axis.updateLabels(r), (l || g) && U.length) if (O.axis_x_tick_culling && k) {
for (E = 1; E < k.length; E++) if (k.length / E < O.axis_x_tick_culling_max) {
T = E;
break;
}
I.svg.selectAll("." + c.axisX + " .tick text").each(function(e) {
var t = k.indexOf(e);
t >= 0 && P.select(this).style("display", t % T ? "none" : "block");
});
} else I.svg.selectAll("." + c.axisX + " .tick text").style("display", "block");
m = I.generateDrawArea ? I.generateDrawArea(R, !1) : void 0, v = I.generateDrawBar ? I.generateDrawBar(B) : void 0, y = I.generateDrawLine ? I.generateDrawLine(N, !1) : void 0, b = I.generateXYForText(R, B, N, !0), x = I.generateXYForText(R, B, N, !1), n && (I.subY.domain(I.getYDomain(U, "y")), I.subY2.domain(I.getYDomain(U, "y2"))), I.updateXgridFocus(), L.select("text." + c.text + "." + c.empty).attr("x", I.width / 2).attr("y", I.height / 2).text(O.data_empty_label_text).transition().style("opacity", U.length ? 0 : 1), I.updateGrid(C), I.updateRegion(C), I.updateBar(_), I.updateLine(_), I.updateArea(_), I.updateCircle(), I.hasDataLabel() && I.updateText(_), I.redrawTitle && I.redrawTitle(), I.redrawArc && I.redrawArc(C, _, s), I.redrawSubchart && I.redrawSubchart(i, t, C, _, R, B, N), L.selectAll("." + c.selectedCircles).filter(I.isBarType.bind(I)).selectAll("circle").remove(), O.interaction_enabled && !e.flow && p && (I.redrawEventRect(), I.updateZoom && I.updateZoom()), I.updateCircleY(), 
F = (I.config.axis_rotated ? I.circleY : I.circleX).bind(I), M = (I.config.axis_rotated ? I.circleX : I.circleY).bind(I), e.flow && (A = I.generateFlow({
targets: U,
flow: e.flow,
duration: e.flow.duration,
drawBar: v,
drawLine: y,
drawArea: m,
cx: F,
cy: M,
xv: V,
xForText: b,
yForText: x
})), (C || A) && I.isTabVisible() ? P.transition().duration(C).each(function() {
var t = [];
[ I.redrawBar(v, !0), I.redrawLine(y, !0), I.redrawArea(m, !0), I.redrawCircle(F, M, !0), I.redrawText(b, x, e.flow, !0), I.redrawRegion(!0), I.redrawGrid(!0) ].forEach(function(e) {
e.forEach(function(e) {
t.push(e);
});
}), $ = I.generateWait(), t.forEach(function(e) {
$.add(e);
});
}).call($, function() {
A && A(), O.onrendered && O.onrendered.call(I);
}) : (I.redrawBar(v), I.redrawLine(y), I.redrawArea(m), I.redrawCircle(F, M), I.redrawText(b, x, e.flow), I.redrawRegion(), I.redrawGrid(), O.onrendered && O.onrendered.call(I)), I.mapToIds(I.data.targets).forEach(function(e) {
I.withoutFadeIn[e] = !0;
});
}, s.updateAndRedraw = function(e) {
var t, n = this, i = n.config;
(e = e || {}).withTransition = w(e, "withTransition", !0), e.withTransform = w(e, "withTransform", !1), e.withLegend = w(e, "withLegend", !1), e.withUpdateXDomain = !0, e.withUpdateOrgXDomain = !0, e.withTransitionForExit = !1, e.withTransitionForTransform = w(e, "withTransitionForTransform", e.withTransition), n.updateSizes(), e.withLegend && i.legend_show || (t = n.axis.generateTransitions(e.withTransitionForAxis ? i.transition_duration : 0), n.updateScales(), n.updateSvgSize(), n.transformAll(e.withTransitionForTransform, t)), n.redraw(e, t);
}, s.redrawWithoutRescale = function() {
this.redraw({
withY: !1,
withSubchart: !1,
withEventRect: !1,
withTransitionForAxis: !1
});
}, s.isTimeSeries = function() {
return "timeseries" === this.config.axis_x_type;
}, s.isCategorized = function() {
return this.config.axis_x_type.indexOf("categor") >= 0;
}, s.isCustomX = function() {
var e = this, t = e.config;
return !e.isTimeSeries() && (t.data_x || b(t.data_xs));
}, s.isTimeSeriesY = function() {
return "timeseries" === this.config.axis_y_type;
}, s.getTranslate = function(e) {
var t, n, i = this, r = i.config;
return "main" === e ? (t = m(i.margin.left), n = m(i.margin.top)) : "context" === e ? (t = m(i.margin2.left), n = m(i.margin2.top)) : "legend" === e ? (t = i.margin3.left, n = i.margin3.top) : "x" === e ? (t = 0, n = r.axis_rotated ? 0 : i.height) : "y" === e ? (t = 0, n = r.axis_rotated ? i.height : 0) : "y2" === e ? (t = r.axis_rotated ? 0 : i.width, n = r.axis_rotated ? 1 : 0) : "subx" === e ? (t = 0, n = r.axis_rotated ? 0 : i.height2) : "arc" === e && (t = i.arcWidth / 2, n = i.arcHeight / 2), "translate(" + t + "," + n + ")";
}, s.initialOpacity = function(e) {
return null !== e.value && this.withoutFadeIn[e.id] ? 1 : 0;
}, s.initialOpacityForCircle = function(e) {
return null !== e.value && this.withoutFadeIn[e.id] ? this.opacityForCircle(e) : 0;
}, s.opacityForCircle = function(e) {
var t = this.config.point_show ? 1 : 0;
return u(e.value) ? this.isScatterType(e) ? .5 : t : 0;
}, s.opacityForText = function() {
return this.hasDataLabel() ? 1 : 0;
}, s.xx = function(e) {
return e ? this.x(e.x) : null;
}, s.xv = function(e) {
var t = this, n = e.value;
return t.isTimeSeries() ? n = t.parseDate(e.value) : t.isCategorized() && "string" == typeof e.value && (n = t.config.axis_x_categories.indexOf(e.value)), Math.ceil(t.x(n));
}, s.yv = function(e) {
var t = this, n = e.axis && "y2" === e.axis ? t.y2 : t.y;
return Math.ceil(n(e.value));
}, s.subxx = function(e) {
return e ? this.subX(e.x) : null;
}, s.transformMain = function(e, t) {
var n, i, r, o = this;
t && t.axisX ? n = t.axisX : (n = o.main.select("." + c.axisX), e && (n = n.transition())), t && t.axisY ? i = t.axisY : (i = o.main.select("." + c.axisY), e && (i = i.transition())), t && t.axisY2 ? r = t.axisY2 : (r = o.main.select("." + c.axisY2), e && (r = r.transition())), (e ? o.main.transition() : o.main).attr("transform", o.getTranslate("main")), n.attr("transform", o.getTranslate("x")), i.attr("transform", o.getTranslate("y")), r.attr("transform", o.getTranslate("y2")), o.main.select("." + c.chartArcs).attr("transform", o.getTranslate("arc"));
}, s.transformAll = function(e, t) {
var n = this;
n.transformMain(e, t), n.config.subchart_show && n.transformContext(e, t), n.legend && n.transformLegend(e);
}, s.updateSvgSize = function() {
var e = this, t = e.svg.select(".c3-brush .background");
e.svg.attr("width", e.currentWidth).attr("height", e.currentHeight), e.svg.selectAll([ "#" + e.clipId, "#" + e.clipIdForGrid ]).select("rect").attr("width", e.width).attr("height", e.height), e.svg.select("#" + e.clipIdForXAxis).select("rect").attr("x", e.getXAxisClipX.bind(e)).attr("y", e.getXAxisClipY.bind(e)).attr("width", e.getXAxisClipWidth.bind(e)).attr("height", e.getXAxisClipHeight.bind(e)), e.svg.select("#" + e.clipIdForYAxis).select("rect").attr("x", e.getYAxisClipX.bind(e)).attr("y", e.getYAxisClipY.bind(e)).attr("width", e.getYAxisClipWidth.bind(e)).attr("height", e.getYAxisClipHeight.bind(e)), e.svg.select("#" + e.clipIdForSubchart).select("rect").attr("width", e.width).attr("height", t.size() ? t.attr("height") : 0), e.svg.select("." + c.zoomRect).attr("width", e.width).attr("height", e.height), e.selectChart.style("max-height", e.currentHeight + "px");
}, s.updateDimension = function(e) {
var t = this;
e || (t.config.axis_rotated ? (t.axes.x.call(t.xAxis), t.axes.subx.call(t.subXAxis)) : (t.axes.y.call(t.yAxis), t.axes.y2.call(t.y2Axis))), t.updateSizes(), t.updateScales(), t.updateSvgSize(), t.transformAll(!1);
}, s.observeInserted = function(t) {
var n, i = this;
"undefined" != typeof MutationObserver ? (n = new MutationObserver(function(r) {
r.forEach(function(r) {
"childList" === r.type && r.previousSibling && (n.disconnect(), i.intervalForObserveInserted = e.setInterval(function() {
t.node().parentNode && (e.clearInterval(i.intervalForObserveInserted), i.updateDimension(), i.brush && i.brush.update(), i.config.oninit.call(i), i.redraw({
withTransform: !0,
withUpdateXDomain: !0,
withUpdateOrgXDomain: !0,
withTransition: !1,
withTransitionForTransform: !1,
withLegend: !0
}), t.transition().style("opacity", 1));
}, 10));
});
})).observe(t.node(), {
attributes: !0,
childList: !0,
characterData: !0
}) : e.console.error("MutationObserver not defined.");
}, s.bindResize = function() {
var t = this, n = t.config;
if (t.resizeFunction = t.generateResize(), t.resizeFunction.add(function() {
n.onresize.call(t);
}), n.resize_auto && t.resizeFunction.add(function() {
void 0 !== t.resizeTimeout && e.clearTimeout(t.resizeTimeout), t.resizeTimeout = e.setTimeout(function() {
delete t.resizeTimeout, t.api.flush();
}, 100);
}), t.resizeFunction.add(function() {
n.onresized.call(t);
}), e.attachEvent) e.attachEvent("onresize", t.resizeFunction); else if (e.addEventListener) e.addEventListener("resize", t.resizeFunction, !1); else {
var i = e.onresize;
i ? i.add && i.remove || (i = t.generateResize()).add(e.onresize) : i = t.generateResize(), i.add(t.resizeFunction), e.onresize = i;
}
}, s.generateResize = function() {
function e() {
t.forEach(function(e) {
e();
});
}
var t = [];
return e.add = function(e) {
t.push(e);
}, e.remove = function(e) {
for (var n = 0; n < t.length; n++) if (t[n] === e) {
t.splice(n, 1);
break;
}
}, e;
}, s.endall = function(e, t) {
var n = 0;
e.each(function() {
++n;
}).each("end", function() {
--n || t.apply(this, arguments);
});
}, s.generateWait = function() {
var e = [], t = function(t, n) {
var i = setInterval(function() {
var t = 0;
e.forEach(function(e) {
if (e.empty()) t += 1; else try {
e.transition();
} catch (e) {
t += 1;
}
}), t === e.length && (clearInterval(i), n && n());
}, 10);
};
return t.add = function(t) {
e.push(t);
}, t;
}, s.parseDate = function(t) {
var n, i = this;
return t instanceof Date ? n = t : "string" == typeof t ? n = i.dataTimeFormat(i.config.data_xFormat).parse(t) : "number" != typeof t || isNaN(t) || (n = new Date(+t)), n && !isNaN(+n) || e.console.error("Failed to parse x '" + t + "' to Date object"), n;
}, s.isTabVisible = function() {
var e;
return void 0 !== document.hidden ? e = "hidden" : void 0 !== document.mozHidden ? e = "mozHidden" : void 0 !== document.msHidden ? e = "msHidden" : void 0 !== document.webkitHidden && (e = "webkitHidden"), !document[e];
}, s.getDefaultConfig = function() {
var e = {
bindto: "#chart",
svg_classname: void 0,
size_width: void 0,
size_height: void 0,
padding_left: void 0,
padding_right: void 0,
padding_top: void 0,
padding_bottom: void 0,
resize_auto: !0,
zoom_enabled: !1,
zoom_extent: void 0,
zoom_privileged: !1,
zoom_rescale: !1,
zoom_onzoom: function() {},
zoom_onzoomstart: function() {},
zoom_onzoomend: function() {},
zoom_x_min: void 0,
zoom_x_max: void 0,
interaction_brighten: !0,
interaction_enabled: !0,
onmouseover: function() {},
onmouseout: function() {},
onresize: function() {},
onresized: function() {},
oninit: function() {},
onrendered: function() {},
transition_duration: 350,
data_x: void 0,
data_xs: {},
data_xFormat: "%Y-%m-%d",
data_xLocaltime: !0,
data_xSort: !0,
data_idConverter: function(e) {
return e;
},
data_names: {},
data_classes: {},
data_groups: [],
data_axes: {},
data_type: void 0,
data_types: {},
data_labels: {},
data_order: "desc",
data_regions: {},
data_color: void 0,
data_colors: {},
data_hide: !1,
data_filter: void 0,
data_selection_enabled: !1,
data_selection_grouped: !1,
data_selection_isselectable: function() {
return !0;
},
data_selection_multiple: !0,
data_selection_draggable: !1,
data_onclick: function() {},
data_onmouseover: function() {},
data_onmouseout: function() {},
data_onselected: function() {},
data_onunselected: function() {},
data_url: void 0,
data_headers: void 0,
data_json: void 0,
data_rows: void 0,
data_columns: void 0,
data_mimeType: void 0,
data_keys: void 0,
data_empty_label_text: "",
subchart_show: !1,
subchart_size_height: 60,
subchart_axis_x_show: !0,
subchart_onbrush: function() {},
color_pattern: [],
color_threshold: {},
legend_show: !0,
legend_hide: !1,
legend_position: "bottom",
legend_inset_anchor: "top-left",
legend_inset_x: 10,
legend_inset_y: 0,
legend_inset_step: void 0,
legend_item_onclick: void 0,
legend_item_onmouseover: void 0,
legend_item_onmouseout: void 0,
legend_equally: !1,
legend_padding: 0,
legend_item_tile_width: 10,
legend_item_tile_height: 10,
axis_rotated: !1,
axis_x_show: !0,
axis_x_type: "indexed",
axis_x_localtime: !0,
axis_x_categories: [],
axis_x_tick_centered: !1,
axis_x_tick_format: void 0,
axis_x_tick_culling: {},
axis_x_tick_culling_max: 10,
axis_x_tick_count: void 0,
axis_x_tick_fit: !0,
axis_x_tick_values: null,
axis_x_tick_rotate: 0,
axis_x_tick_outer: !0,
axis_x_tick_multiline: !0,
axis_x_tick_width: null,
axis_x_max: void 0,
axis_x_min: void 0,
axis_x_padding: {},
axis_x_height: void 0,
axis_x_extent: void 0,
axis_x_label: {},
axis_y_show: !0,
axis_y_type: void 0,
axis_y_max: void 0,
axis_y_min: void 0,
axis_y_inverted: !1,
axis_y_center: void 0,
axis_y_inner: void 0,
axis_y_label: {},
axis_y_tick_format: void 0,
axis_y_tick_outer: !0,
axis_y_tick_values: null,
axis_y_tick_rotate: 0,
axis_y_tick_count: void 0,
axis_y_tick_time_value: void 0,
axis_y_tick_time_interval: void 0,
axis_y_padding: {},
axis_y_default: void 0,
axis_y2_show: !1,
axis_y2_max: void 0,
axis_y2_min: void 0,
axis_y2_inverted: !1,
axis_y2_center: void 0,
axis_y2_inner: void 0,
axis_y2_label: {},
axis_y2_tick_format: void 0,
axis_y2_tick_outer: !0,
axis_y2_tick_values: null,
axis_y2_tick_count: void 0,
axis_y2_padding: {},
axis_y2_default: void 0,
grid_x_show: !1,
grid_x_type: "tick",
grid_x_lines: [],
grid_y_show: !1,
grid_y_lines: [],
grid_y_ticks: 10,
grid_focus_show: !0,
grid_lines_front: !0,
point_show: !0,
point_r: 2.5,
point_sensitivity: 10,
point_focus_expand_enabled: !0,
point_focus_expand_r: void 0,
point_select_r: void 0,
line_connectNull: !1,
line_step_type: "step",
bar_width: void 0,
bar_width_ratio: .6,
bar_width_max: void 0,
bar_zerobased: !0,
area_zerobased: !0,
area_above: !1,
pie_label_show: !0,
pie_label_format: void 0,
pie_label_threshold: .05,
pie_label_ratio: void 0,
pie_expand: {},
pie_expand_duration: 50,
gauge_fullCircle: !1,
gauge_label_show: !0,
gauge_label_format: void 0,
gauge_min: 0,
gauge_max: 100,
gauge_startingAngle: -1 * Math.PI / 2,
gauge_units: void 0,
gauge_width: void 0,
gauge_expand: {},
gauge_expand_duration: 50,
donut_label_show: !0,
donut_label_format: void 0,
donut_label_threshold: .05,
donut_label_ratio: void 0,
donut_width: void 0,
donut_title: "",
donut_expand: {},
donut_expand_duration: 50,
spline_interpolation_type: "cardinal",
regions: [],
tooltip_show: !0,
tooltip_grouped: !0,
tooltip_format_title: void 0,
tooltip_format_name: void 0,
tooltip_format_value: void 0,
tooltip_position: void 0,
tooltip_contents: function(e, t, n, i) {
return this.getTooltipContent ? this.getTooltipContent(e, t, n, i) : "";
},
tooltip_init_show: !1,
tooltip_init_x: 0,
tooltip_init_position: {
top: "0px",
left: "50px"
},
tooltip_onshow: function() {},
tooltip_onhide: function() {},
title_text: void 0,
title_padding: {
top: 0,
right: 0,
bottom: 0,
left: 0
},
title_position: "top-center"
};
return Object.keys(this.additionalConfig).forEach(function(t) {
e[t] = this.additionalConfig[t];
}, this), e;
}, s.additionalConfig = {}, s.loadConfig = function(e) {
function t() {
var e = i.shift();
return e && n && "object" == typeof n && e in n ? (n = n[e], t()) : e ? void 0 : n;
}
var n, i, r, o = this.config;
Object.keys(o).forEach(function(a) {
n = e, i = a.split("_"), r = t(), f(r) && (o[a] = r);
});
}, s.getScale = function(e, t, n) {
return (n ? this.d3.time.scale() : this.d3.scale.linear()).range([ e, t ]);
}, s.getX = function(e, t, n, i) {
var r, o = this, a = o.getScale(e, t, o.isTimeSeries()), s = n ? a.domain(n) : a;
o.isCategorized() ? (i = i || function() {
return 0;
}, a = function(e, t) {
var n = s(e) + i(e);
return t ? n : Math.ceil(n);
}) : a = function(e, t) {
var n = s(e);
return t ? n : Math.ceil(n);
};
for (r in s) a[r] = s[r];
return a.orgDomain = function() {
return s.domain();
}, o.isCategorized() && (a.domain = function(e) {
return arguments.length ? (s.domain(e), a) : (e = this.orgDomain(), [ e[0], e[1] + 1 ]);
}), a;
}, s.getY = function(e, t, n) {
var i = this.getScale(e, t, this.isTimeSeriesY());
return n && i.domain(n), i;
}, s.getYScale = function(e) {
return "y2" === this.axis.getId(e) ? this.y2 : this.y;
}, s.getSubYScale = function(e) {
return "y2" === this.axis.getId(e) ? this.subY2 : this.subY;
}, s.updateScales = function() {
var e = this, t = e.config, n = !e.x;
e.xMin = t.axis_rotated ? 1 : 0, e.xMax = t.axis_rotated ? e.height : e.width, e.yMin = t.axis_rotated ? 0 : e.height, e.yMax = t.axis_rotated ? e.width : 1, e.subXMin = e.xMin, e.subXMax = e.xMax, e.subYMin = t.axis_rotated ? 0 : e.height2, e.subYMax = t.axis_rotated ? e.width2 : 1, e.x = e.getX(e.xMin, e.xMax, n ? void 0 : e.x.orgDomain(), function() {
return e.xAxis.tickOffset();
}), e.y = e.getY(e.yMin, e.yMax, n ? t.axis_y_default : e.y.domain()), e.y2 = e.getY(e.yMin, e.yMax, n ? t.axis_y2_default : e.y2.domain()), e.subX = e.getX(e.xMin, e.xMax, e.orgXDomain, function(t) {
return t % 1 ? 0 : e.subXAxis.tickOffset();
}), e.subY = e.getY(e.subYMin, e.subYMax, n ? t.axis_y_default : e.subY.domain()), e.subY2 = e.getY(e.subYMin, e.subYMax, n ? t.axis_y2_default : e.subY2.domain()), e.xAxisTickFormat = e.axis.getXAxisTickFormat(), e.xAxisTickValues = e.axis.getXAxisTickValues(), e.yAxisTickValues = e.axis.getYAxisTickValues(), e.y2AxisTickValues = e.axis.getY2AxisTickValues(), e.xAxis = e.axis.getXAxis(e.x, e.xOrient, e.xAxisTickFormat, e.xAxisTickValues, t.axis_x_tick_outer), e.subXAxis = e.axis.getXAxis(e.subX, e.subXOrient, e.xAxisTickFormat, e.xAxisTickValues, t.axis_x_tick_outer), e.yAxis = e.axis.getYAxis(e.y, e.yOrient, t.axis_y_tick_format, e.yAxisTickValues, t.axis_y_tick_outer), e.y2Axis = e.axis.getYAxis(e.y2, e.y2Orient, t.axis_y2_tick_format, e.y2AxisTickValues, t.axis_y2_tick_outer), n || (e.brush && e.brush.scale(e.subX), t.zoom_enabled && e.zoom.scale(e.x)), e.updateArc && e.updateArc();
}, s.getYDomainMin = function(e) {
var t, n, i, r, o, a, s = this, l = s.config, c = s.mapToIds(e), u = s.getValuesAsIdKeyed(e);
if (l.data_groups.length > 0) for (a = s.hasNegativeValueInTargets(e), t = 0; t < l.data_groups.length; t++) if (0 !== (r = l.data_groups[t].filter(function(e) {
return c.indexOf(e) >= 0;
})).length) for (i = r[0], a && u[i] && u[i].forEach(function(e, t) {
u[i][t] = e < 0 ? e : 0;
}), n = 1; n < r.length; n++) o = r[n], u[o] && u[o].forEach(function(e, t) {
s.axis.getId(o) !== s.axis.getId(i) || !u[i] || a && +e > 0 || (u[i][t] += +e);
});
return s.d3.min(Object.keys(u).map(function(e) {
return s.d3.min(u[e]);
}));
}, s.getYDomainMax = function(e) {
var t, n, i, r, o, a, s = this, l = s.config, c = s.mapToIds(e), u = s.getValuesAsIdKeyed(e);
if (l.data_groups.length > 0) for (a = s.hasPositiveValueInTargets(e), t = 0; t < l.data_groups.length; t++) if (0 !== (r = l.data_groups[t].filter(function(e) {
return c.indexOf(e) >= 0;
})).length) for (i = r[0], a && u[i] && u[i].forEach(function(e, t) {
u[i][t] = e > 0 ? e : 0;
}), n = 1; n < r.length; n++) o = r[n], u[o] && u[o].forEach(function(e, t) {
s.axis.getId(o) !== s.axis.getId(i) || !u[i] || a && +e < 0 || (u[i][t] += +e);
});
return s.d3.max(Object.keys(u).map(function(e) {
return s.d3.max(u[e]);
}));
}, s.getYDomain = function(e, t, n) {
var i, r, o, a, s, l, c, d, h, p, f = this, g = f.config, m = e.filter(function(e) {
return f.axis.getId(e.id) === t;
}), y = n ? f.filterByXDomain(m, n) : m, w = "y2" === t ? g.axis_y2_min : g.axis_y_min, x = "y2" === t ? g.axis_y2_max : g.axis_y_max, C = f.getYDomainMin(y), _ = f.getYDomainMax(y), S = "y2" === t ? g.axis_y2_center : g.axis_y_center, $ = f.hasType("bar", y) && g.bar_zerobased || f.hasType("area", y) && g.area_zerobased, A = "y2" === t ? g.axis_y2_inverted : g.axis_y_inverted, k = f.hasDataLabel() && g.axis_rotated, E = f.hasDataLabel() && !g.axis_rotated;
return C = u(w) ? w : u(x) ? C < x ? C : x - 10 : C, _ = u(x) ? x : u(w) ? w < _ ? _ : w + 10 : _, 0 === y.length ? "y2" === t ? f.y2.domain() : f.y.domain() : (isNaN(C) && (C = 0), isNaN(_) && (_ = C), C === _ && (C < 0 ? _ = 0 : C = 0), h = C >= 0 && _ >= 0, p = C <= 0 && _ <= 0, (u(w) && h || u(x) && p) && ($ = !1), $ && (h && (C = 0), p && (_ = 0)), r = Math.abs(_ - C), o = a = .1 * r, void 0 !== S && (_ = S + (s = Math.max(Math.abs(C), Math.abs(_))), C = S - s), k ? (l = f.getDataLabelLength(C, _, "width"), c = v(f.y.range()), o += r * ((d = [ l[0] / c, l[1] / c ])[1] / (1 - d[0] - d[1])), a += r * (d[0] / (1 - d[0] - d[1]))) : E && (l = f.getDataLabelLength(C, _, "height"), o += f.axis.convertPixelsToAxisPadding(l[1], r), a += f.axis.convertPixelsToAxisPadding(l[0], r)), "y" === t && b(g.axis_y_padding) && (o = f.axis.getPadding(g.axis_y_padding, "top", o, r), a = f.axis.getPadding(g.axis_y_padding, "bottom", a, r)), "y2" === t && b(g.axis_y2_padding) && (o = f.axis.getPadding(g.axis_y2_padding, "top", o, r), 
a = f.axis.getPadding(g.axis_y2_padding, "bottom", a, r)), $ && (h && (a = C), p && (o = -_)), i = [ C - a, _ + o ], A ? i.reverse() : i);
}, s.getXDomainMin = function(e) {
var t = this, n = t.config;
return f(n.axis_x_min) ? t.isTimeSeries() ? this.parseDate(n.axis_x_min) : n.axis_x_min : t.d3.min(e, function(e) {
return t.d3.min(e.values, function(e) {
return e.x;
});
});
}, s.getXDomainMax = function(e) {
var t = this, n = t.config;
return f(n.axis_x_max) ? t.isTimeSeries() ? this.parseDate(n.axis_x_max) : n.axis_x_max : t.d3.max(e, function(e) {
return t.d3.max(e.values, function(e) {
return e.x;
});
});
}, s.getXDomainPadding = function(e) {
var t, n, i, r, o = this, a = o.config, s = e[1] - e[0];
return n = o.isCategorized() ? 0 : o.hasType("bar") ? (t = o.getMaxDataCount()) > 1 ? s / (t - 1) / 2 : .5 : .01 * s, "object" == typeof a.axis_x_padding && b(a.axis_x_padding) ? (i = u(a.axis_x_padding.left) ? a.axis_x_padding.left : n, r = u(a.axis_x_padding.right) ? a.axis_x_padding.right : n) : i = r = "number" == typeof a.axis_x_padding ? a.axis_x_padding : n, {
left: i,
right: r
};
}, s.getXDomain = function(e) {
var t = this, n = [ t.getXDomainMin(e), t.getXDomainMax(e) ], i = n[0], r = n[1], o = t.getXDomainPadding(n), a = 0, s = 0;
return i - r != 0 || t.isCategorized() || (t.isTimeSeries() ? (i = new Date(.5 * i.getTime()), r = new Date(1.5 * r.getTime())) : (i = 0 === i ? 1 : .5 * i, r = 0 === r ? -1 : 1.5 * r)), (i || 0 === i) && (a = t.isTimeSeries() ? new Date(i.getTime() - o.left) : i - o.left), (r || 0 === r) && (s = t.isTimeSeries() ? new Date(r.getTime() + o.right) : r + o.right), [ a, s ];
}, s.updateXDomain = function(e, t, n, i, r) {
var o = this, a = o.config;
return n && (o.x.domain(r || o.d3.extent(o.getXDomain(e))), o.orgXDomain = o.x.domain(), a.zoom_enabled && o.zoom.scale(o.x).updateScaleExtent(), o.subX.domain(o.x.domain()), o.brush && o.brush.scale(o.subX)), t && (o.x.domain(r || (!o.brush || o.brush.empty() ? o.orgXDomain : o.brush.extent())), a.zoom_enabled && o.zoom.scale(o.x).updateScaleExtent()), i && o.x.domain(o.trimXDomain(o.x.orgDomain())), o.x.domain();
}, s.trimXDomain = function(e) {
var t = this.getZoomDomain(), n = t[0], i = t[1];
return e[0] <= n && (e[1] = +e[1] + (n - e[0]), e[0] = n), i <= e[1] && (e[0] = +e[0] - (e[1] - i), e[1] = i), e;
}, s.isX = function(e) {
var t = this.config;
return t.data_x && e === t.data_x || b(t.data_xs) && x(t.data_xs, e);
}, s.isNotX = function(e) {
return !this.isX(e);
}, s.getXKey = function(e) {
var t = this.config;
return t.data_x ? t.data_x : b(t.data_xs) ? t.data_xs[e] : null;
}, s.getXValuesOfXKey = function(e, t) {
var n, i = this;
return (t && b(t) ? i.mapToIds(t) : []).forEach(function(t) {
i.getXKey(t) === e && (n = i.data.xs[t]);
}), n;
}, s.getIndexByX = function(e) {
var t = this, n = t.filterByX(t.data.targets, e);
return n.length ? n[0].index : null;
}, s.getXValue = function(e, t) {
var n = this;
return e in n.data.xs && n.data.xs[e] && u(n.data.xs[e][t]) ? n.data.xs[e][t] : t;
}, s.getOtherTargetXs = function() {
var e = this, t = Object.keys(e.data.xs);
return t.length ? e.data.xs[t[0]] : null;
}, s.getOtherTargetX = function(e) {
var t = this.getOtherTargetXs();
return t && e < t.length ? t[e] : null;
}, s.addXs = function(e) {
var t = this;
Object.keys(e).forEach(function(n) {
t.config.data_xs[n] = e[n];
});
}, s.hasMultipleX = function(e) {
return this.d3.set(Object.keys(e).map(function(t) {
return e[t];
})).size() > 1;
}, s.isMultipleX = function() {
return b(this.config.data_xs) || !this.config.data_xSort || this.hasType("scatter");
}, s.addName = function(e) {
var t, n = this;
return e && (t = n.config.data_names[e.id], e.name = void 0 !== t ? t : e.id), e;
}, s.getValueOnIndex = function(e, t) {
var n = e.filter(function(e) {
return e.index === t;
});
return n.length ? n[0] : null;
}, s.updateTargetX = function(e, t) {
var n = this;
e.forEach(function(e) {
e.values.forEach(function(i, r) {
i.x = n.generateTargetX(t[r], e.id, r);
}), n.data.xs[e.id] = t;
});
}, s.updateTargetXs = function(e, t) {
var n = this;
e.forEach(function(e) {
t[e.id] && n.updateTargetX([ e ], t[e.id]);
});
}, s.generateTargetX = function(e, t, n) {
var i = this;
return i.isTimeSeries() ? e ? i.parseDate(e) : i.parseDate(i.getXValue(t, n)) : i.isCustomX() && !i.isCategorized() ? u(e) ? +e : i.getXValue(t, n) : n;
}, s.cloneTarget = function(e) {
return {
id: e.id,
id_org: e.id_org,
values: e.values.map(function(e) {
return {
x: e.x,
value: e.value,
id: e.id
};
})
};
}, s.updateXs = function() {
var e = this;
e.data.targets.length && (e.xs = [], e.data.targets[0].values.forEach(function(t) {
e.xs[t.index] = t.x;
}));
}, s.getPrevX = function(e) {
var t = this.xs[e - 1];
return void 0 !== t ? t : null;
}, s.getNextX = function(e) {
var t = this.xs[e + 1];
return void 0 !== t ? t : null;
}, s.getMaxDataCount = function() {
var e = this;
return e.d3.max(e.data.targets, function(e) {
return e.values.length;
});
}, s.getMaxDataCountTarget = function(e) {
var t, n = e.length, i = 0;
return n > 1 ? e.forEach(function(e) {
e.values.length > i && (t = e, i = e.values.length);
}) : t = n ? e[0] : null, t;
}, s.getEdgeX = function(e) {
var t = this;
return e.length ? [ t.d3.min(e, function(e) {
return e.values[0].x;
}), t.d3.max(e, function(e) {
return e.values[e.values.length - 1].x;
}) ] : [ 0, 0 ];
}, s.mapToIds = function(e) {
return e.map(function(e) {
return e.id;
});
}, s.mapToTargetIds = function(e) {
var t = this;
return e ? [].concat(e) : t.mapToIds(t.data.targets);
}, s.hasTarget = function(e, t) {
var n, i = this.mapToIds(e);
for (n = 0; n < i.length; n++) if (i[n] === t) return !0;
return !1;
}, s.isTargetToShow = function(e) {
return this.hiddenTargetIds.indexOf(e) < 0;
}, s.isLegendToShow = function(e) {
return this.hiddenLegendIds.indexOf(e) < 0;
}, s.filterTargetsToShow = function(e) {
var t = this;
return e.filter(function(e) {
return t.isTargetToShow(e.id);
});
}, s.mapTargetsToUniqueXs = function(e) {
var t = this, n = t.d3.set(t.d3.merge(e.map(function(e) {
return e.values.map(function(e) {
return +e.x;
});
}))).values();
return (n = t.isTimeSeries() ? n.map(function(e) {
return new Date(+e);
}) : n.map(function(e) {
return +e;
})).sort(function(e, t) {
return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN;
});
}, s.addHiddenTargetIds = function(e) {
this.hiddenTargetIds = this.hiddenTargetIds.concat(e);
}, s.removeHiddenTargetIds = function(e) {
this.hiddenTargetIds = this.hiddenTargetIds.filter(function(t) {
return e.indexOf(t) < 0;
});
}, s.addHiddenLegendIds = function(e) {
this.hiddenLegendIds = this.hiddenLegendIds.concat(e);
}, s.removeHiddenLegendIds = function(e) {
this.hiddenLegendIds = this.hiddenLegendIds.filter(function(t) {
return e.indexOf(t) < 0;
});
}, s.getValuesAsIdKeyed = function(e) {
var t = {};
return e.forEach(function(e) {
t[e.id] = [], e.values.forEach(function(n) {
t[e.id].push(n.value);
});
}), t;
}, s.checkValueInTargets = function(e, t) {
var n, i, r, o = Object.keys(e);
for (n = 0; n < o.length; n++) for (r = e[o[n]].values, i = 0; i < r.length; i++) if (t(r[i].value)) return !0;
return !1;
}, s.hasNegativeValueInTargets = function(e) {
return this.checkValueInTargets(e, function(e) {
return e < 0;
});
}, s.hasPositiveValueInTargets = function(e) {
return this.checkValueInTargets(e, function(e) {
return e > 0;
});
}, s.isOrderDesc = function() {
var e = this.config;
return "string" == typeof e.data_order && "desc" === e.data_order.toLowerCase();
}, s.isOrderAsc = function() {
var e = this.config;
return "string" == typeof e.data_order && "asc" === e.data_order.toLowerCase();
}, s.orderTargets = function(e) {
var t = this, n = t.config, i = t.isOrderAsc(), r = t.isOrderDesc();
return i || r ? e.sort(function(e, t) {
var n = function(e, t) {
return e + Math.abs(t.value);
}, r = e.values.reduce(n, 0), o = t.values.reduce(n, 0);
return i ? o - r : r - o;
}) : d(n.data_order) && e.sort(n.data_order), e;
}, s.filterByX = function(e, t) {
return this.d3.merge(e.map(function(e) {
return e.values;
})).filter(function(e) {
return e.x - t == 0;
});
}, s.filterRemoveNull = function(e) {
return e.filter(function(e) {
return u(e.value);
});
}, s.filterByXDomain = function(e, t) {
return e.map(function(e) {
return {
id: e.id,
id_org: e.id_org,
values: e.values.filter(function(e) {
return t[0] <= e.x && e.x <= t[1];
})
};
});
}, s.hasDataLabel = function() {
var e = this.config;
return !("boolean" != typeof e.data_labels || !e.data_labels) || !("object" != typeof e.data_labels || !b(e.data_labels));
}, s.getDataLabelLength = function(e, t, n) {
var i = this, r = [ 0, 0 ];
return i.selectChart.select("svg").selectAll(".dummy").data([ e, t ]).enter().append("text").text(function(e) {
return i.dataLabelFormat(e.id)(e);
}).each(function(e, t) {
r[t] = 1.3 * this.getBoundingClientRect()[n];
}).remove(), r;
}, s.isNoneArc = function(e) {
return this.hasTarget(this.data.targets, e.id);
}, s.isArc = function(e) {
return "data" in e && this.hasTarget(this.data.targets, e.data.id);
}, s.findSameXOfValues = function(e, t) {
var n, i = e[t].x, r = [];
for (n = t - 1; n >= 0 && i === e[n].x; n--) r.push(e[n]);
for (n = t; n < e.length && i === e[n].x; n++) r.push(e[n]);
return r;
}, s.findClosestFromTargets = function(e, t) {
var n, i = this;
return n = e.map(function(e) {
return i.findClosest(e.values, t);
}), i.findClosest(n, t);
}, s.findClosest = function(e, t) {
var n, i = this, r = i.config.point_sensitivity;
return e.filter(function(e) {
return e && i.isBarType(e.id);
}).forEach(function(e) {
var t = i.main.select("." + c.bars + i.getTargetSelectorSuffix(e.id) + " ." + c.bar + "-" + e.index).node();
!n && i.isWithinBar(t) && (n = e);
}), e.filter(function(e) {
return e && !i.isBarType(e.id);
}).forEach(function(e) {
var o = i.dist(e, t);
o < r && (r = o, n = e);
}), n;
}, s.dist = function(e, t) {
var n = this, i = n.config, r = i.axis_rotated ? 1 : 0, o = i.axis_rotated ? 0 : 1, a = n.circleY(e, e.index), s = n.x(e.x);
return Math.sqrt(Math.pow(s - t[r], 2) + Math.pow(a - t[o], 2));
}, s.convertValuesToStep = function(e) {
var t, n = [].concat(e);
if (!this.isCategorized()) return e;
for (t = e.length + 1; 0 < t; t--) n[t] = n[t - 1];
return n[0] = {
x: n[0].x - 1,
value: n[0].value,
id: n[0].id
}, n[e.length + 1] = {
x: n[e.length].x + 1,
value: n[e.length].value,
id: n[e.length].id
}, n;
}, s.updateDataAttributes = function(e, t) {
var n = this, i = n.config["data_" + e];
return void 0 === t ? i : (Object.keys(t).forEach(function(e) {
i[e] = t[e];
}), n.redraw({
withLegend: !0
}), i);
}, s.convertUrlToData = function(e, t, n, i, r) {
var o = this, a = t || "csv", s = o.d3.xhr(e);
n && Object.keys(n).forEach(function(e) {
s.header(e, n[e]);
}), s.get(function(e, t) {
var n;
if (!t) throw new Error(e.responseURL + " " + e.status + " (" + e.statusText + ")");
n = "json" === a ? o.convertJsonToData(JSON.parse(t.response), i) : "tsv" === a ? o.convertTsvToData(t.response) : o.convertCsvToData(t.response), r.call(o, n);
});
}, s.convertXsvToData = function(e, t) {
var n, i = t.parseRows(e);
return 1 === i.length ? (n = [ {} ], i[0].forEach(function(e) {
n[0][e] = null;
})) : n = t.parse(e), n;
}, s.convertCsvToData = function(e) {
return this.convertXsvToData(e, this.d3.csv);
}, s.convertTsvToData = function(e) {
return this.convertXsvToData(e, this.d3.tsv);
}, s.convertJsonToData = function(e, t) {
var n, i, r = this, o = [];
return t ? (t.x ? (n = t.value.concat(t.x), r.config.data_x = t.x) : n = t.value, o.push(n), e.forEach(function(e) {
var t = [];
n.forEach(function(n) {
var i = r.findValueInJson(e, n);
p(i) && (i = null), t.push(i);
}), o.push(t);
}), i = r.convertRowsToData(o)) : (Object.keys(e).forEach(function(t) {
o.push([ t ].concat(e[t]));
}), i = r.convertColumnsToData(o)), i;
}, s.findValueInJson = function(e, t) {
for (var n = (t = (t = t.replace(/\[(\w+)\]/g, ".$1")).replace(/^\./, "")).split("."), i = 0; i < n.length; ++i) {
var r = n[i];
if (!(r in e)) return;
e = e[r];
}
return e;
}, s.convertRowsToData = function(e) {
var t, n, i = e[0], r = {}, o = [];
for (t = 1; t < e.length; t++) {
for (r = {}, n = 0; n < e[t].length; n++) {
if (p(e[t][n])) throw new Error("Source data is missing a component at (" + t + "," + n + ")!");
r[i[n]] = e[t][n];
}
o.push(r);
}
return o;
}, s.convertColumnsToData = function(e) {
var t, n, i, r = [];
for (t = 0; t < e.length; t++) for (i = e[t][0], n = 1; n < e[t].length; n++) {
if (p(r[n - 1]) && (r[n - 1] = {}), p(e[t][n])) throw new Error("Source data is missing a component at (" + t + "," + n + ")!");
r[n - 1][i] = e[t][n];
}
return r;
}, s.convertDataToTargets = function(e, t) {
var n, i = this, r = i.config, o = i.d3.keys(e[0]).filter(i.isNotX, i), a = i.d3.keys(e[0]).filter(i.isX, i);
return o.forEach(function(n) {
var o = i.getXKey(n);
i.isCustomX() || i.isTimeSeries() ? a.indexOf(o) >= 0 ? i.data.xs[n] = (t && i.data.xs[n] ? i.data.xs[n] : []).concat(e.map(function(e) {
return e[o];
}).filter(u).map(function(e, t) {
return i.generateTargetX(e, n, t);
})) : r.data_x ? i.data.xs[n] = i.getOtherTargetXs() : b(r.data_xs) && (i.data.xs[n] = i.getXValuesOfXKey(o, i.data.targets)) : i.data.xs[n] = e.map(function(e, t) {
return t;
});
}), o.forEach(function(e) {
if (!i.data.xs[e]) throw new Error('x is not defined for id = "' + e + '".');
}), (n = o.map(function(t, n) {
var o = r.data_idConverter(t);
return {
id: o,
id_org: t,
values: e.map(function(e, a) {
var s, l = e[i.getXKey(t)], c = null === e[t] || isNaN(e[t]) ? null : +e[t];
return i.isCustomX() && i.isCategorized() && 0 === n && !p(l) ? (0 === n && 0 === a && (r.axis_x_categories = []), -1 === (s = r.axis_x_categories.indexOf(l)) && (s = r.axis_x_categories.length, r.axis_x_categories.push(l))) : s = i.generateTargetX(l, t, a), (p(e[t]) || i.data.xs[t].length <= a) && (s = void 0), {
x: s,
value: c,
id: o
};
}).filter(function(e) {
return f(e.x);
})
};
})).forEach(function(e) {
var t;
r.data_xSort && (e.values = e.values.sort(function(e, t) {
return (e.x || 0 === e.x ? e.x : 1 / 0) - (t.x || 0 === t.x ? t.x : 1 / 0);
})), t = 0, e.values.forEach(function(e) {
e.index = t++;
}), i.data.xs[e.id].sort(function(e, t) {
return e - t;
});
}), i.hasNegativeValue = i.hasNegativeValueInTargets(n), i.hasPositiveValue = i.hasPositiveValueInTargets(n), r.data_type && i.setTargetType(i.mapToIds(n).filter(function(e) {
return !(e in r.data_types);
}), r.data_type), n.forEach(function(e) {
i.addCache(e.id_org, e);
}), n;
}, s.load = function(e, t) {
var n = this;
e && (t.filter && (e = e.filter(t.filter)), (t.type || t.types) && e.forEach(function(e) {
var i = t.types && t.types[e.id] ? t.types[e.id] : t.type;
n.setTargetType(e.id, i);
}), n.data.targets.forEach(function(t) {
for (var n = 0; n < e.length; n++) if (t.id === e[n].id) {
t.values = e[n].values, e.splice(n, 1);
break;
}
}), n.data.targets = n.data.targets.concat(e)), n.updateTargets(n.data.targets), n.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0,
withLegend: !0
}), t.done && t.done();
}, s.loadFromArgs = function(e) {
var t = this;
e.data ? t.load(t.convertDataToTargets(e.data), e) : e.url ? t.convertUrlToData(e.url, e.mimeType, e.headers, e.keys, function(n) {
t.load(t.convertDataToTargets(n), e);
}) : e.json ? t.load(t.convertDataToTargets(t.convertJsonToData(e.json, e.keys)), e) : e.rows ? t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)), e) : e.columns ? t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)), e) : t.load(null, e);
}, s.unload = function(e, t) {
var n = this;
t || (t = function() {}), (e = e.filter(function(e) {
return n.hasTarget(n.data.targets, e);
})) && 0 !== e.length ? (n.svg.selectAll(e.map(function(e) {
return n.selectorTarget(e);
})).transition().style("opacity", 0).remove().call(n.endall, t), e.forEach(function(e) {
n.withoutFadeIn[e] = !1, n.legend && n.legend.selectAll("." + c.legendItem + n.getTargetSelectorSuffix(e)).remove(), n.data.targets = n.data.targets.filter(function(t) {
return t.id !== e;
});
})) : t();
}, s.categoryName = function(e) {
var t = this.config;
return e < t.axis_x_categories.length ? t.axis_x_categories[e] : e;
}, s.initEventRect = function() {
this.main.select("." + c.chart).append("g").attr("class", c.eventRects).style("fill-opacity", 0);
}, s.redrawEventRect = function() {
var e, t, n = this, i = n.config, r = n.isMultipleX(), o = n.main.select("." + c.eventRects).style("cursor", i.zoom_enabled ? i.axis_rotated ? "ns-resize" : "ew-resize" : null).classed(c.eventRectsMultiple, r).classed(c.eventRectsSingle, !r);
o.selectAll("." + c.eventRect).remove(), n.eventRect = o.selectAll("." + c.eventRect), r ? (e = n.eventRect.data([ 0 ]), n.generateEventRectsForMultipleXs(e.enter()), n.updateEventRect(e)) : (t = n.getMaxDataCountTarget(n.data.targets), o.datum(t ? t.values : []), n.eventRect = o.selectAll("." + c.eventRect), e = n.eventRect.data(function(e) {
return e;
}), n.generateEventRectsForSingleX(e.enter()), n.updateEventRect(e), e.exit().remove());
}, s.updateEventRect = function(e) {
var t, n, i, r, o, a, s = this, l = s.config;
e = e || s.eventRect.data(function(e) {
return e;
}), s.isMultipleX() ? (t = 0, n = 0, i = s.width, r = s.height) : (!s.isCustomX() && !s.isTimeSeries() || s.isCategorized() ? (o = s.getEventRectWidth(), a = function(e) {
return s.x(e.x) - o / 2;
}) : (s.updateXs(), o = function(e) {
var t = s.getPrevX(e.index), n = s.getNextX(e.index);
return null === t && null === n ? l.axis_rotated ? s.height : s.width : (null === t && (t = s.x.domain()[0]), null === n && (n = s.x.domain()[1]), Math.max(0, (s.x(n) - s.x(t)) / 2));
}, a = function(e) {
var t = s.getPrevX(e.index), n = s.getNextX(e.index), i = s.data.xs[e.id][e.index];
return null === t && null === n ? 0 : (null === t && (t = s.x.domain()[0]), (s.x(i) + s.x(t)) / 2);
}), t = l.axis_rotated ? 0 : a, n = l.axis_rotated ? a : 0, i = l.axis_rotated ? s.width : o, r = l.axis_rotated ? o : s.height), e.attr("class", s.classEvent.bind(s)).attr("x", t).attr("y", n).attr("width", i).attr("height", r);
}, s.generateEventRectsForSingleX = function(e) {
var t = this, n = t.d3, i = t.config;
e.append("rect").attr("class", t.classEvent.bind(t)).style("cursor", i.data_selection_enabled && i.data_selection_grouped ? "pointer" : null).on("mouseover", function(e) {
var n = e.index;
t.dragging || t.flowing || t.hasArcType() || (i.point_focus_expand_enabled && t.expandCircles(n, null, !0), t.expandBars(n, null, !0), t.main.selectAll("." + c.shape + "-" + n).each(function(e) {
i.data_onmouseover.call(t.api, e);
}));
}).on("mouseout", function(e) {
var n = e.index;
t.config && (t.hasArcType() || (t.hideXGridFocus(), t.hideTooltip(), t.unexpandCircles(), t.unexpandBars(), t.main.selectAll("." + c.shape + "-" + n).each(function(e) {
i.data_onmouseout.call(t.api, e);
})));
}).on("mousemove", function(e) {
var r, o = e.index, a = t.svg.select("." + c.eventRect + "-" + o);
t.dragging || t.flowing || t.hasArcType() || (t.isStepType(e) && "step-after" === t.config.line_step_type && n.mouse(this)[0] < t.x(t.getXValue(e.id, o)) && (o -= 1), r = t.filterTargetsToShow(t.data.targets).map(function(e) {
return t.addName(t.getValueOnIndex(e.values, o));
}), i.tooltip_grouped && (t.showTooltip(r, this), t.showXGridFocus(r)), (!i.tooltip_grouped || i.data_selection_enabled && !i.data_selection_grouped) && t.main.selectAll("." + c.shape + "-" + o).each(function() {
n.select(this).classed(c.EXPANDED, !0), i.data_selection_enabled && a.style("cursor", i.data_selection_grouped ? "pointer" : null), i.tooltip_grouped || (t.hideXGridFocus(), t.hideTooltip(), i.data_selection_grouped || (t.unexpandCircles(o), t.unexpandBars(o)));
}).filter(function(e) {
return t.isWithinShape(this, e);
}).each(function(e) {
i.data_selection_enabled && (i.data_selection_grouped || i.data_selection_isselectable(e)) && a.style("cursor", "pointer"), i.tooltip_grouped || (t.showTooltip([ e ], this), t.showXGridFocus([ e ]), i.point_focus_expand_enabled && t.expandCircles(o, e.id, !0), t.expandBars(o, e.id, !0));
}));
}).on("click", function(e) {
var r = e.index;
!t.hasArcType() && t.toggleShape && (t.cancelClick ? t.cancelClick = !1 : (t.isStepType(e) && "step-after" === i.line_step_type && n.mouse(this)[0] < t.x(t.getXValue(e.id, r)) && (r -= 1), t.main.selectAll("." + c.shape + "-" + r).each(function(e) {
(i.data_selection_grouped || t.isWithinShape(this, e)) && (t.toggleShape(this, e, r), t.config.data_onclick.call(t.api, e, this));
})));
}).call(i.data_selection_draggable && t.drag ? n.behavior.drag().origin(Object).on("drag", function() {
t.drag(n.mouse(this));
}).on("dragstart", function() {
t.dragstart(n.mouse(this));
}).on("dragend", function() {
t.dragend();
}) : function() {});
}, s.generateEventRectsForMultipleXs = function(e) {
function t() {
n.svg.select("." + c.eventRect).style("cursor", null), n.hideXGridFocus(), n.hideTooltip(), n.unexpandCircles(), n.unexpandBars();
}
var n = this, i = n.d3, r = n.config;
e.append("rect").attr("x", 0).attr("y", 0).attr("width", n.width).attr("height", n.height).attr("class", c.eventRect).on("mouseout", function() {
n.config && (n.hasArcType() || t());
}).on("mousemove", function() {
var e, o, a, s = n.filterTargetsToShow(n.data.targets);
n.dragging || n.hasArcType(s) || (e = i.mouse(this), o = n.findClosestFromTargets(s, e), !n.mouseover || o && o.id === n.mouseover.id || (r.data_onmouseout.call(n.api, n.mouseover), n.mouseover = void 0), o ? (a = (n.isScatterType(o) || !r.tooltip_grouped ? [ o ] : n.filterByX(s, o.x)).map(function(e) {
return n.addName(e);
}), n.showTooltip(a, this), r.point_focus_expand_enabled && n.expandCircles(o.index, o.id, !0), n.expandBars(o.index, o.id, !0), n.showXGridFocus(a), (n.isBarType(o.id) || n.dist(o, e) < r.point_sensitivity) && (n.svg.select("." + c.eventRect).style("cursor", "pointer"), n.mouseover || (r.data_onmouseover.call(n.api, o), n.mouseover = o))) : t());
}).on("click", function() {
var e, t, o = n.filterTargetsToShow(n.data.targets);
n.hasArcType(o) || (e = i.mouse(this), (t = n.findClosestFromTargets(o, e)) && (n.isBarType(t.id) || n.dist(t, e) < r.point_sensitivity) && n.main.selectAll("." + c.shapes + n.getTargetSelectorSuffix(t.id)).selectAll("." + c.shape + "-" + t.index).each(function() {
(r.data_selection_grouped || n.isWithinShape(this, t)) && (n.toggleShape(this, t, t.index), n.config.data_onclick.call(n.api, t, this));
}));
}).call(r.data_selection_draggable && n.drag ? i.behavior.drag().origin(Object).on("drag", function() {
n.drag(i.mouse(this));
}).on("dragstart", function() {
n.dragstart(i.mouse(this));
}).on("dragend", function() {
n.dragend();
}) : function() {});
}, s.dispatchEvent = function(t, n, i) {
var r = this, o = "." + c.eventRect + (r.isMultipleX() ? "" : "-" + n), a = r.main.select(o).node(), s = a.getBoundingClientRect(), l = s.left + (i ? i[0] : 0), u = s.top + (i ? i[1] : 0), d = document.createEvent("MouseEvents");
d.initMouseEvent(t, !0, !0, e, 0, l, u, l, u, !1, !1, !1, !1, 0, null), a.dispatchEvent(d);
}, s.getCurrentWidth = function() {
var e = this, t = e.config;
return t.size_width ? t.size_width : e.getParentWidth();
}, s.getCurrentHeight = function() {
var e = this, t = e.config, n = t.size_height ? t.size_height : e.getParentHeight();
return n > 0 ? n : 320 / (e.hasType("gauge") && !t.gauge_fullCircle ? 2 : 1);
}, s.getCurrentPaddingTop = function() {
var e = this, t = e.config, n = u(t.padding_top) ? t.padding_top : 0;
return e.title && e.title.node() && (n += e.getTitlePadding()), n;
}, s.getCurrentPaddingBottom = function() {
var e = this.config;
return u(e.padding_bottom) ? e.padding_bottom : 0;
}, s.getCurrentPaddingLeft = function(e) {
var t = this, n = t.config;
return u(n.padding_left) ? n.padding_left : n.axis_rotated ? n.axis_x_show ? Math.max(g(t.getAxisWidthByAxisId("x", e)), 40) : 1 : !n.axis_y_show || n.axis_y_inner ? t.axis.getYAxisLabelPosition().isOuter ? 30 : 1 : g(t.getAxisWidthByAxisId("y", e));
}, s.getCurrentPaddingRight = function() {
var e = this, t = e.config, n = e.isLegendRight ? e.getLegendWidth() + 20 : 0;
return u(t.padding_right) ? t.padding_right + 1 : t.axis_rotated ? 10 + n : !t.axis_y2_show || t.axis_y2_inner ? 2 + n + (e.axis.getY2AxisLabelPosition().isOuter ? 20 : 0) : g(e.getAxisWidthByAxisId("y2")) + n;
}, s.getParentRectValue = function(e) {
for (var t, n = this.selectChart.node(); n && "BODY" !== n.tagName; ) {
try {
t = n.getBoundingClientRect()[e];
} catch (i) {
"width" === e && (t = n.offsetWidth);
}
if (t) break;
n = n.parentNode;
}
return t;
}, s.getParentWidth = function() {
return this.getParentRectValue("width");
}, s.getParentHeight = function() {
var e = this.selectChart.style("height");
return e.indexOf("px") > 0 ? +e.replace("px", "") : 0;
}, s.getSvgLeft = function(e) {
var t = this, n = t.config, i = n.axis_rotated || !n.axis_rotated && !n.axis_y_inner, r = n.axis_rotated ? c.axisX : c.axisY, o = t.main.select("." + r).node(), a = o && i ? o.getBoundingClientRect() : {
right: 0
}, s = t.selectChart.node().getBoundingClientRect(), l = t.hasArcType(), u = a.right - s.left - (l ? 0 : t.getCurrentPaddingLeft(e));
return u > 0 ? u : 0;
}, s.getAxisWidthByAxisId = function(e, t) {
var n = this, i = n.axis.getLabelPositionById(e);
return n.axis.getMaxTickWidth(e, t) + (i.isInner ? 20 : 40);
}, s.getHorizontalAxisHeight = function(e) {
var t = this, n = t.config, i = 30;
return "x" !== e || n.axis_x_show ? "x" === e && n.axis_x_height ? n.axis_x_height : "y" !== e || n.axis_y_show ? "y2" !== e || n.axis_y2_show ? ("x" === e && !n.axis_rotated && n.axis_x_tick_rotate && (i = 30 + t.axis.getMaxTickWidth(e) * Math.cos(Math.PI * (90 - n.axis_x_tick_rotate) / 180)), "y" === e && n.axis_rotated && n.axis_y_tick_rotate && (i = 30 + t.axis.getMaxTickWidth(e) * Math.cos(Math.PI * (90 - n.axis_y_tick_rotate) / 180)), i + (t.axis.getLabelPositionById(e).isInner ? 0 : 10) + ("y2" === e ? -10 : 0)) : t.rotated_padding_top : !n.legend_show || t.isLegendRight || t.isLegendInset ? 1 : 10 : 8;
}, s.getEventRectWidth = function() {
return Math.max(0, this.xAxis.tickInterval());
}, s.getShapeIndices = function(e) {
var t, n, i = this, r = i.config, o = {}, a = 0;
return i.filterTargetsToShow(i.data.targets.filter(e, i)).forEach(function(e) {
for (t = 0; t < r.data_groups.length; t++) if (!(r.data_groups[t].indexOf(e.id) < 0)) for (n = 0; n < r.data_groups[t].length; n++) if (r.data_groups[t][n] in o) {
o[e.id] = o[r.data_groups[t][n]];
break;
}
p(o[e.id]) && (o[e.id] = a++);
}), o.__max__ = a - 1, o;
}, s.getShapeX = function(e, t, n, i) {
var r = this, o = i ? r.subX : r.x;
return function(i) {
var r = i.id in n ? n[i.id] : 0;
return i.x || 0 === i.x ? o(i.x) - e * (t / 2 - r) : 0;
};
}, s.getShapeY = function(e) {
var t = this;
return function(n) {
return (e ? t.getSubYScale(n.id) : t.getYScale(n.id))(n.value);
};
}, s.getShapeOffset = function(e, t, n) {
var i = this, r = i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(e, i))), o = r.map(function(e) {
return e.id;
});
return function(e, a) {
var s = n ? i.getSubYScale(e.id) : i.getYScale(e.id), l = s(0), c = l;
return r.forEach(function(n) {
var r = i.isStepType(e) ? i.convertValuesToStep(n.values) : n.values;
n.id !== e.id && t[n.id] === t[e.id] && o.indexOf(n.id) < o.indexOf(e.id) && (void 0 !== r[a] && +r[a].x == +e.x || (a = -1, r.forEach(function(t, n) {
t.x === e.x && (a = n);
})), a in r && r[a].value * e.value >= 0 && (c += s(r[a].value) - l));
}), c;
};
}, s.isWithinShape = function(e, t) {
var n, i = this, r = i.d3.select(e);
return i.isTargetToShow(t.id) ? "circle" === e.nodeName ? n = i.isStepType(t) ? i.isWithinStep(e, i.getYScale(t.id)(t.value)) : i.isWithinCircle(e, 1.5 * i.pointSelectR(t)) : "path" === e.nodeName && (n = !r.classed(c.bar) || i.isWithinBar(e)) : n = !1, n;
}, s.getInterpolate = function(e) {
var t = this, n = t.isInterpolationType(t.config.spline_interpolation_type) ? t.config.spline_interpolation_type : "cardinal";
return t.isSplineType(e) ? n : t.isStepType(e) ? t.config.line_step_type : "linear";
}, s.initLine = function() {
this.main.select("." + c.chart).append("g").attr("class", c.chartLines);
}, s.updateTargetsForLine = function(e) {
var t, n = this, i = n.config, r = n.classChartLine.bind(n), o = n.classLines.bind(n), a = n.classAreas.bind(n), s = n.classCircles.bind(n), l = n.classFocus.bind(n);
(t = n.main.select("." + c.chartLines).selectAll("." + c.chartLine).data(e).attr("class", function(e) {
return r(e) + l(e);
}).enter().append("g").attr("class", r).style("opacity", 0).style("pointer-events", "none")).append("g").attr("class", o), t.append("g").attr("class", a), t.append("g").attr("class", function(e) {
return n.generateClass(c.selectedCircles, e.id);
}), t.append("g").attr("class", s).style("cursor", function(e) {
return i.data_selection_isselectable(e) ? "pointer" : null;
}), e.forEach(function(e) {
n.main.selectAll("." + c.selectedCircles + n.getTargetSelectorSuffix(e.id)).selectAll("." + c.selectedCircle).each(function(t) {
t.value = e.values[t.index].value;
});
});
}, s.updateLine = function(e) {
var t = this;
t.mainLine = t.main.selectAll("." + c.lines).selectAll("." + c.line).data(t.lineData.bind(t)), t.mainLine.enter().append("path").attr("class", t.classLine.bind(t)).style("stroke", t.color), t.mainLine.style("opacity", t.initialOpacity.bind(t)).style("shape-rendering", function(e) {
return t.isStepType(e) ? "crispEdges" : "";
}).attr("transform", null), t.mainLine.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawLine = function(e, t) {
return [ (t ? this.mainLine.transition(Math.random().toString()) : this.mainLine).attr("d", e).style("stroke", this.color).style("opacity", 1) ];
}, s.generateDrawLine = function(e, t) {
var n = this, i = n.config, r = n.d3.svg.line(), o = n.generateGetLinePoints(e, t), a = t ? n.getSubYScale : n.getYScale, s = function(e) {
return (t ? n.subxx : n.xx).call(n, e);
}, l = function(e, t) {
return i.data_groups.length > 0 ? o(e, t)[0][1] : a.call(n, e.id)(e.value);
};
return r = i.axis_rotated ? r.x(l).y(s) : r.x(s).y(l), i.line_connectNull || (r = r.defined(function(e) {
return null != e.value;
})), function(e) {
var o, s = i.line_connectNull ? n.filterRemoveNull(e.values) : e.values, l = t ? n.x : n.subX, c = a.call(n, e.id), u = 0, d = 0;
return n.isLineType(e) ? i.data_regions[e.id] ? o = n.lineWithRegions(s, l, c, i.data_regions[e.id]) : (n.isStepType(e) && (s = n.convertValuesToStep(s)), o = r.interpolate(n.getInterpolate(e))(s)) : (s[0] && (u = l(s[0].x), d = c(s[0].value)), o = i.axis_rotated ? "M " + d + " " + u : "M " + u + " " + d), o || "M 0 0";
};
}, s.generateGetLinePoints = function(e, t) {
var n = this, i = n.config, r = e.__max__ + 1, o = n.getShapeX(0, r, e, !!t), a = n.getShapeY(!!t), s = n.getShapeOffset(n.isLineType, e, !!t), l = t ? n.getSubYScale : n.getYScale;
return function(e, t) {
var r = l.call(n, e.id)(0), c = s(e, t) || r, u = o(e), d = a(e);
return i.axis_rotated && (0 < e.value && d < r || e.value < 0 && r < d) && (d = r), [ [ u, d - (r - c) ], [ u, d - (r - c) ], [ u, d - (r - c) ], [ u, d - (r - c) ] ];
};
}, s.lineWithRegions = function(e, t, n, i) {
function r(e) {
return "M" + e[0][0] + " " + e[0][1] + " " + e[1][0] + " " + e[1][1];
}
var o, a, s, l, c, u, d, h, g, m, v, y = this, b = y.config, w = "M", x = y.isCategorized() ? .5 : 0, C = [];
if (f(i)) for (o = 0; o < i.length; o++) C[o] = {}, p(i[o].start) ? C[o].start = e[0].x : C[o].start = y.isTimeSeries() ? y.parseDate(i[o].start) : i[o].start, p(i[o].end) ? C[o].end = e[e.length - 1].x : C[o].end = y.isTimeSeries() ? y.parseDate(i[o].end) : i[o].end;
for (m = b.axis_rotated ? function(e) {
return n(e.value);
} : function(e) {
return t(e.x);
}, v = b.axis_rotated ? function(e) {
return t(e.x);
} : function(e) {
return n(e.value);
}, s = y.isTimeSeries() ? function(e, i, o, a) {
var s, l = e.x.getTime(), u = i.x - e.x, d = new Date(l + u * o), h = new Date(l + u * (o + a));
return s = b.axis_rotated ? [ [ n(c(o)), t(d) ], [ n(c(o + a)), t(h) ] ] : [ [ t(d), n(c(o)) ], [ t(h), n(c(o + a)) ] ], r(s);
} : function(e, i, o, a) {
var s;
return s = b.axis_rotated ? [ [ n(c(o), !0), t(l(o)) ], [ n(c(o + a), !0), t(l(o + a)) ] ] : [ [ t(l(o), !0), n(c(o)) ], [ t(l(o + a), !0), n(c(o + a)) ] ], r(s);
}, o = 0; o < e.length; o++) {
if (p(C) || !function(e, t) {
var n;
for (n = 0; n < t.length; n++) if (t[n].start < e && e <= t[n].end) return !0;
return !1;
}(e[o].x, C)) w += " " + m(e[o]) + " " + v(e[o]); else for (l = y.getScale(e[o - 1].x + x, e[o].x + x, y.isTimeSeries()), c = y.getScale(e[o - 1].value, e[o].value), u = t(e[o].x) - t(e[o - 1].x), d = n(e[o].value) - n(e[o - 1].value), g = 2 * (h = 2 / Math.sqrt(Math.pow(u, 2) + Math.pow(d, 2))), a = h; a <= 1; a += g) w += s(e[o - 1], e[o], a, h);
e[o].x;
}
return w;
}, s.updateArea = function(e) {
var t = this, n = t.d3;
t.mainArea = t.main.selectAll("." + c.areas).selectAll("." + c.area).data(t.lineData.bind(t)), t.mainArea.enter().append("path").attr("class", t.classArea.bind(t)).style("fill", t.color).style("opacity", function() {
return t.orgAreaOpacity = +n.select(this).style("opacity"), 0;
}), t.mainArea.style("opacity", t.orgAreaOpacity), t.mainArea.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawArea = function(e, t) {
return [ (t ? this.mainArea.transition(Math.random().toString()) : this.mainArea).attr("d", e).style("fill", this.color).style("opacity", this.orgAreaOpacity) ];
}, s.generateDrawArea = function(e, t) {
var n = this, i = n.config, r = n.d3.svg.area(), o = n.generateGetAreaPoints(e, t), a = t ? n.getSubYScale : n.getYScale, s = function(e) {
return (t ? n.subxx : n.xx).call(n, e);
}, l = function(e, t) {
return i.data_groups.length > 0 ? o(e, t)[0][1] : a.call(n, e.id)(n.getAreaBaseValue(e.id));
}, c = function(e, t) {
return i.data_groups.length > 0 ? o(e, t)[1][1] : a.call(n, e.id)(e.value);
};
return r = i.axis_rotated ? r.x0(l).x1(c).y(s) : r.x(s).y0(i.area_above ? 0 : l).y1(c), i.line_connectNull || (r = r.defined(function(e) {
return null !== e.value;
})), function(e) {
var t, o = i.line_connectNull ? n.filterRemoveNull(e.values) : e.values, a = 0, s = 0;
return n.isAreaType(e) ? (n.isStepType(e) && (o = n.convertValuesToStep(o)), t = r.interpolate(n.getInterpolate(e))(o)) : (o[0] && (a = n.x(o[0].x), s = n.getYScale(e.id)(o[0].value)), t = i.axis_rotated ? "M " + s + " " + a : "M " + a + " " + s), t || "M 0 0";
};
}, s.getAreaBaseValue = function() {
return 0;
}, s.generateGetAreaPoints = function(e, t) {
var n = this, i = n.config, r = e.__max__ + 1, o = n.getShapeX(0, r, e, !!t), a = n.getShapeY(!!t), s = n.getShapeOffset(n.isAreaType, e, !!t), l = t ? n.getSubYScale : n.getYScale;
return function(e, t) {
var r = l.call(n, e.id)(0), c = s(e, t) || r, u = o(e), d = a(e);
return i.axis_rotated && (0 < e.value && d < r || e.value < 0 && r < d) && (d = r), [ [ u, c ], [ u, d - (r - c) ], [ u, d - (r - c) ], [ u, c ] ];
};
}, s.updateCircle = function() {
var e = this;
e.mainCircle = e.main.selectAll("." + c.circles).selectAll("." + c.circle).data(e.lineOrScatterData.bind(e)), e.mainCircle.enter().append("circle").attr("class", e.classCircle.bind(e)).attr("r", e.pointR.bind(e)).style("fill", e.color), e.mainCircle.style("opacity", e.initialOpacityForCircle.bind(e)), e.mainCircle.exit().remove();
}, s.redrawCircle = function(e, t, n) {
var i = this.main.selectAll("." + c.selectedCircle);
return [ (n ? this.mainCircle.transition(Math.random().toString()) : this.mainCircle).style("opacity", this.opacityForCircle.bind(this)).style("fill", this.color).attr("cx", e).attr("cy", t), (n ? i.transition(Math.random().toString()) : i).attr("cx", e).attr("cy", t) ];
}, s.circleX = function(e) {
return e.x || 0 === e.x ? this.x(e.x) : null;
}, s.updateCircleY = function() {
var e, t, n = this;
n.config.data_groups.length > 0 ? (e = n.getShapeIndices(n.isLineType), t = n.generateGetLinePoints(e), n.circleY = function(e, n) {
return t(e, n)[0][1];
}) : n.circleY = function(e) {
return n.getYScale(e.id)(e.value);
};
}, s.getCircles = function(e, t) {
var n = this;
return (t ? n.main.selectAll("." + c.circles + n.getTargetSelectorSuffix(t)) : n.main).selectAll("." + c.circle + (u(e) ? "-" + e : ""));
}, s.expandCircles = function(e, t, n) {
var i = this, r = i.pointExpandedR.bind(i);
n && i.unexpandCircles(), i.getCircles(e, t).classed(c.EXPANDED, !0).attr("r", r);
}, s.unexpandCircles = function(e) {
var t = this, n = t.pointR.bind(t);
t.getCircles(e).filter(function() {
return t.d3.select(this).classed(c.EXPANDED);
}).classed(c.EXPANDED, !1).attr("r", n);
}, s.pointR = function(e) {
var t = this, n = t.config;
return t.isStepType(e) ? 0 : d(n.point_r) ? n.point_r(e) : n.point_r;
}, s.pointExpandedR = function(e) {
var t = this, n = t.config;
return n.point_focus_expand_enabled ? n.point_focus_expand_r ? n.point_focus_expand_r : 1.75 * t.pointR(e) : t.pointR(e);
}, s.pointSelectR = function(e) {
var t = this, n = t.config;
return d(n.point_select_r) ? n.point_select_r(e) : n.point_select_r ? n.point_select_r : 4 * t.pointR(e);
}, s.isWithinCircle = function(e, t) {
var n = this.d3, i = n.mouse(e), r = n.select(e), o = +r.attr("cx"), a = +r.attr("cy");
return Math.sqrt(Math.pow(o - i[0], 2) + Math.pow(a - i[1], 2)) < t;
}, s.isWithinStep = function(e, t) {
return Math.abs(t - this.d3.mouse(e)[1]) < 30;
}, s.initBar = function() {
this.main.select("." + c.chart).append("g").attr("class", c.chartBars);
}, s.updateTargetsForBar = function(e) {
var t = this, n = t.config, i = t.classChartBar.bind(t), r = t.classBars.bind(t), o = t.classFocus.bind(t);
t.main.select("." + c.chartBars).selectAll("." + c.chartBar).data(e).attr("class", function(e) {
return i(e) + o(e);
}).enter().append("g").attr("class", i).style("opacity", 0).style("pointer-events", "none").append("g").attr("class", r).style("cursor", function(e) {
return n.data_selection_isselectable(e) ? "pointer" : null;
});
}, s.updateBar = function(e) {
var t = this, n = t.barData.bind(t), i = t.classBar.bind(t), r = t.initialOpacity.bind(t), o = function(e) {
return t.color(e.id);
};
t.mainBar = t.main.selectAll("." + c.bars).selectAll("." + c.bar).data(n), t.mainBar.enter().append("path").attr("class", i).style("stroke", o).style("fill", o), t.mainBar.style("opacity", r), t.mainBar.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawBar = function(e, t) {
return [ (t ? this.mainBar.transition(Math.random().toString()) : this.mainBar).attr("d", e).style("fill", this.color).style("opacity", 1) ];
}, s.getBarW = function(e, t) {
var n = this.config, i = "number" == typeof n.bar_width ? n.bar_width : t ? e.tickInterval() * n.bar_width_ratio / t : 0;
return n.bar_width_max && i > n.bar_width_max ? n.bar_width_max : i;
}, s.getBars = function(e, t) {
var n = this;
return (t ? n.main.selectAll("." + c.bars + n.getTargetSelectorSuffix(t)) : n.main).selectAll("." + c.bar + (u(e) ? "-" + e : ""));
}, s.expandBars = function(e, t, n) {
var i = this;
n && i.unexpandBars(), i.getBars(e, t).classed(c.EXPANDED, !0);
}, s.unexpandBars = function(e) {
this.getBars(e).classed(c.EXPANDED, !1);
}, s.generateDrawBar = function(e, t) {
var n = this, i = n.config, r = n.generateGetBarPoints(e, t);
return function(e, t) {
var n = r(e, t), o = i.axis_rotated ? 1 : 0, a = i.axis_rotated ? 0 : 1;
return "M " + n[0][o] + "," + n[0][a] + " L" + n[1][o] + "," + n[1][a] + " L" + n[2][o] + "," + n[2][a] + " L" + n[3][o] + "," + n[3][a] + " z";
};
}, s.generateGetBarPoints = function(e, t) {
var n = this, i = t ? n.subXAxis : n.xAxis, r = e.__max__ + 1, o = n.getBarW(i, r), a = n.getShapeX(o, r, e, !!t), s = n.getShapeY(!!t), l = n.getShapeOffset(n.isBarType, e, !!t), c = t ? n.getSubYScale : n.getYScale;
return function(e, t) {
var i = c.call(n, e.id)(0), r = l(e, t) || i, u = a(e), d = s(e);
return n.config.axis_rotated && (0 < e.value && d < i || e.value < 0 && i < d) && (d = i), [ [ u, r ], [ u, d - (i - r) ], [ u + o, d - (i - r) ], [ u + o, r ] ];
};
}, s.isWithinBar = function(e) {
var t = this.d3.mouse(e), n = e.getBoundingClientRect(), i = e.pathSegList.getItem(0), r = e.pathSegList.getItem(1), o = Math.min(i.x, r.x), a = Math.min(i.y, r.y), s = o + n.width + 2, l = a + n.height + 2, c = a - 2;
return o - 2 < t[0] && t[0] < s && c < t[1] && t[1] < l;
}, s.initText = function() {
var e = this;
e.main.select("." + c.chart).append("g").attr("class", c.chartTexts), e.mainText = e.d3.selectAll([]);
}, s.updateTargetsForText = function(e) {
var t = this, n = t.classChartText.bind(t), i = t.classTexts.bind(t), r = t.classFocus.bind(t);
t.main.select("." + c.chartTexts).selectAll("." + c.chartText).data(e).attr("class", function(e) {
return n(e) + r(e);
}).enter().append("g").attr("class", n).style("opacity", 0).style("pointer-events", "none").append("g").attr("class", i);
}, s.updateText = function(e) {
var t = this, n = t.config, i = t.barOrLineData.bind(t), r = t.classText.bind(t);
t.mainText = t.main.selectAll("." + c.texts).selectAll("." + c.text).data(i), t.mainText.enter().append("text").attr("class", r).attr("text-anchor", function(e) {
return n.axis_rotated ? e.value < 0 ? "end" : "start" : "middle";
}).style("stroke", "none").style("fill", function(e) {
return t.color(e);
}).style("fill-opacity", 0), t.mainText.text(function(e, n, i) {
return t.dataLabelFormat(e.id)(e.value, e.id, n, i);
}), t.mainText.exit().transition().duration(e).style("fill-opacity", 0).remove();
}, s.redrawText = function(e, t, n, i) {
return [ (i ? this.mainText.transition() : this.mainText).attr("x", e).attr("y", t).style("fill", this.color).style("fill-opacity", n ? 0 : this.opacityForText.bind(this)) ];
}, s.getTextRect = function(e, t, n) {
var i, r = this.d3.select("body").append("div").classed("c3", !0), o = r.append("svg").style("visibility", "hidden").style("position", "fixed").style("top", 0).style("left", 0), a = this.d3.select(n).style("font");
return o.selectAll(".dummy").data([ e ]).enter().append("text").classed(t || "", !0).style("font", a).text(e).each(function() {
i = this.getBoundingClientRect();
}), r.remove(), i;
}, s.generateXYForText = function(e, t, n, i) {
var r = this, o = r.generateGetAreaPoints(e, !1), a = r.generateGetBarPoints(t, !1), s = r.generateGetLinePoints(n, !1), l = i ? r.getXForText : r.getYForText;
return function(e, t) {
var n = r.isAreaType(e) ? o : r.isBarType(e) ? a : s;
return l.call(r, n(e, t), e, this);
};
}, s.getXForText = function(e, t, n) {
var i, r, o = this, a = n.getBoundingClientRect();
return o.config.axis_rotated ? (r = o.isBarType(t) ? 4 : 6, i = e[2][1] + r * (t.value < 0 ? -1 : 1)) : i = o.hasType("bar") ? (e[2][0] + e[0][0]) / 2 : e[0][0], null === t.value && (i > o.width ? i = o.width - a.width : i < 0 && (i = 4)), i;
}, s.getYForText = function(e, t, n) {
var i, r = this, o = n.getBoundingClientRect();
return r.config.axis_rotated ? i = (e[0][0] + e[2][0] + .6 * o.height) / 2 : (i = e[2][1], t.value < 0 || 0 === t.value && !r.hasPositiveValue ? (i += o.height, r.isBarType(t) && r.isSafari() ? i -= 3 : !r.isBarType(t) && r.isChrome() && (i += 3)) : i += r.isBarType(t) ? -3 : -6), null !== t.value || r.config.axis_rotated || (i < o.height ? i = o.height : i > this.height && (i = this.height - 4)), i;
}, s.setTargetType = function(e, t) {
var n = this, i = n.config;
n.mapToTargetIds(e).forEach(function(e) {
n.withoutFadeIn[e] = t === i.data_types[e], i.data_types[e] = t;
}), e || (i.data_type = t);
}, s.hasType = function(e, t) {
var n = this, i = n.config.data_types, r = !1;
return (t = t || n.data.targets) && t.length ? t.forEach(function(t) {
var n = i[t.id];
(n && n.indexOf(e) >= 0 || !n && "line" === e) && (r = !0);
}) : Object.keys(i).length ? Object.keys(i).forEach(function(t) {
i[t] === e && (r = !0);
}) : r = n.config.data_type === e, r;
}, s.hasArcType = function(e) {
return this.hasType("pie", e) || this.hasType("donut", e) || this.hasType("gauge", e);
}, s.isLineType = function(e) {
var t = this.config, n = h(e) ? e : e.id;
return !t.data_types[n] || [ "line", "spline", "area", "area-spline", "step", "area-step" ].indexOf(t.data_types[n]) >= 0;
}, s.isStepType = function(e) {
var t = h(e) ? e : e.id;
return [ "step", "area-step" ].indexOf(this.config.data_types[t]) >= 0;
}, s.isSplineType = function(e) {
var t = h(e) ? e : e.id;
return [ "spline", "area-spline" ].indexOf(this.config.data_types[t]) >= 0;
}, s.isAreaType = function(e) {
var t = h(e) ? e : e.id;
return [ "area", "area-spline", "area-step" ].indexOf(this.config.data_types[t]) >= 0;
}, s.isBarType = function(e) {
var t = h(e) ? e : e.id;
return "bar" === this.config.data_types[t];
}, s.isScatterType = function(e) {
var t = h(e) ? e : e.id;
return "scatter" === this.config.data_types[t];
}, s.isPieType = function(e) {
var t = h(e) ? e : e.id;
return "pie" === this.config.data_types[t];
}, s.isGaugeType = function(e) {
var t = h(e) ? e : e.id;
return "gauge" === this.config.data_types[t];
}, s.isDonutType = function(e) {
var t = h(e) ? e : e.id;
return "donut" === this.config.data_types[t];
}, s.isArcType = function(e) {
return this.isPieType(e) || this.isDonutType(e) || this.isGaugeType(e);
}, s.lineData = function(e) {
return this.isLineType(e) ? [ e ] : [];
}, s.arcData = function(e) {
return this.isArcType(e.data) ? [ e ] : [];
}, s.barData = function(e) {
return this.isBarType(e) ? e.values : [];
}, s.lineOrScatterData = function(e) {
return this.isLineType(e) || this.isScatterType(e) ? e.values : [];
}, s.barOrLineData = function(e) {
return this.isBarType(e) || this.isLineType(e) ? e.values : [];
}, s.isInterpolationType = function(e) {
return [ "linear", "linear-closed", "basis", "basis-open", "basis-closed", "bundle", "cardinal", "cardinal-open", "cardinal-closed", "monotone" ].indexOf(e) >= 0;
}, s.initGrid = function() {
var e = this, t = e.config, n = e.d3;
e.grid = e.main.append("g").attr("clip-path", e.clipPathForGrid).attr("class", c.grid), t.grid_x_show && e.grid.append("g").attr("class", c.xgrids), t.grid_y_show && e.grid.append("g").attr("class", c.ygrids), t.grid_focus_show && e.grid.append("g").attr("class", c.xgridFocus).append("line").attr("class", c.xgridFocus), e.xgrid = n.selectAll([]), t.grid_lines_front || e.initGridLines();
}, s.initGridLines = function() {
var e = this, t = e.d3;
e.gridLines = e.main.append("g").attr("clip-path", e.clipPathForGrid).attr("class", c.grid + " " + c.gridLines), e.gridLines.append("g").attr("class", c.xgridLines), e.gridLines.append("g").attr("class", c.ygridLines), e.xgridLines = t.selectAll([]);
}, s.updateXGrid = function(e) {
var t = this, n = t.config, i = t.d3, r = t.generateGridData(n.grid_x_type, t.x), o = t.isCategorized() ? t.xAxis.tickOffset() : 0;
t.xgridAttr = n.axis_rotated ? {
x1: 0,
x2: t.width,
y1: function(e) {
return t.x(e) - o;
},
y2: function(e) {
return t.x(e) - o;
}
} : {
x1: function(e) {
return t.x(e) + o;
},
x2: function(e) {
return t.x(e) + o;
},
y1: 0,
y2: t.height
}, t.xgrid = t.main.select("." + c.xgrids).selectAll("." + c.xgrid).data(r), t.xgrid.enter().append("line").attr("class", c.xgrid), e || t.xgrid.attr(t.xgridAttr).style("opacity", function() {
return +i.select(this).attr(n.axis_rotated ? "y1" : "x1") === (n.axis_rotated ? t.height : 0) ? 0 : 1;
}), t.xgrid.exit().remove();
}, s.updateYGrid = function() {
var e = this, t = e.config, n = e.yAxis.tickValues() || e.y.ticks(t.grid_y_ticks);
e.ygrid = e.main.select("." + c.ygrids).selectAll("." + c.ygrid).data(n), e.ygrid.enter().append("line").attr("class", c.ygrid), e.ygrid.attr("x1", t.axis_rotated ? e.y : 0).attr("x2", t.axis_rotated ? e.y : e.width).attr("y1", t.axis_rotated ? 0 : e.y).attr("y2", t.axis_rotated ? e.height : e.y), e.ygrid.exit().remove(), e.smoothLines(e.ygrid, "grid");
}, s.gridTextAnchor = function(e) {
return e.position ? e.position : "end";
}, s.gridTextDx = function(e) {
return "start" === e.position ? 4 : "middle" === e.position ? 0 : -4;
}, s.xGridTextX = function(e) {
return "start" === e.position ? -this.height : "middle" === e.position ? -this.height / 2 : 0;
}, s.yGridTextX = function(e) {
return "start" === e.position ? 0 : "middle" === e.position ? this.width / 2 : this.width;
}, s.updateGrid = function(e) {
var t, n, i, r = this, o = r.main, a = r.config;
r.grid.style("visibility", r.hasArcType() ? "hidden" : "visible"), o.select("line." + c.xgridFocus).style("visibility", "hidden"), a.grid_x_show && r.updateXGrid(), r.xgridLines = o.select("." + c.xgridLines).selectAll("." + c.xgridLine).data(a.grid_x_lines), (t = r.xgridLines.enter().append("g").attr("class", function(e) {
return c.xgridLine + (e.class ? " " + e.class : "");
})).append("line").style("opacity", 0), t.append("text").attr("text-anchor", r.gridTextAnchor).attr("transform", a.axis_rotated ? "" : "rotate(-90)").attr("dx", r.gridTextDx).attr("dy", -5).style("opacity", 0), r.xgridLines.exit().transition().duration(e).style("opacity", 0).remove(), a.grid_y_show && r.updateYGrid(), r.ygridLines = o.select("." + c.ygridLines).selectAll("." + c.ygridLine).data(a.grid_y_lines), (n = r.ygridLines.enter().append("g").attr("class", function(e) {
return c.ygridLine + (e.class ? " " + e.class : "");
})).append("line").style("opacity", 0), n.append("text").attr("text-anchor", r.gridTextAnchor).attr("transform", a.axis_rotated ? "rotate(-90)" : "").attr("dx", r.gridTextDx).attr("dy", -5).style("opacity", 0), i = r.yv.bind(r), r.ygridLines.select("line").transition().duration(e).attr("x1", a.axis_rotated ? i : 0).attr("x2", a.axis_rotated ? i : r.width).attr("y1", a.axis_rotated ? 0 : i).attr("y2", a.axis_rotated ? r.height : i).style("opacity", 1), r.ygridLines.select("text").transition().duration(e).attr("x", a.axis_rotated ? r.xGridTextX.bind(r) : r.yGridTextX.bind(r)).attr("y", i).text(function(e) {
return e.text;
}).style("opacity", 1), r.ygridLines.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawGrid = function(e) {
var t = this, n = t.config, i = t.xv.bind(t), r = t.xgridLines.select("line"), o = t.xgridLines.select("text");
return [ (e ? r.transition() : r).attr("x1", n.axis_rotated ? 0 : i).attr("x2", n.axis_rotated ? t.width : i).attr("y1", n.axis_rotated ? i : 0).attr("y2", n.axis_rotated ? i : t.height).style("opacity", 1), (e ? o.transition() : o).attr("x", n.axis_rotated ? t.yGridTextX.bind(t) : t.xGridTextX.bind(t)).attr("y", i).text(function(e) {
return e.text;
}).style("opacity", 1) ];
}, s.showXGridFocus = function(e) {
var t = this, n = t.config, i = e.filter(function(e) {
return e && u(e.value);
}), r = t.main.selectAll("line." + c.xgridFocus), o = t.xx.bind(t);
n.tooltip_show && (t.hasType("scatter") || t.hasArcType() || (r.style("visibility", "visible").data([ i[0] ]).attr(n.axis_rotated ? "y1" : "x1", o).attr(n.axis_rotated ? "y2" : "x2", o), t.smoothLines(r, "grid")));
}, s.hideXGridFocus = function() {
this.main.select("line." + c.xgridFocus).style("visibility", "hidden");
}, s.updateXgridFocus = function() {
var e = this, t = e.config;
e.main.select("line." + c.xgridFocus).attr("x1", t.axis_rotated ? 0 : -10).attr("x2", t.axis_rotated ? e.width : -10).attr("y1", t.axis_rotated ? -10 : 0).attr("y2", t.axis_rotated ? -10 : e.height);
}, s.generateGridData = function(e, t) {
var n, i, r, o, a = this, s = [], l = a.main.select("." + c.axisX).selectAll(".tick").size();
if ("year" === e) for (i = (n = a.getXDomain())[0].getFullYear(), r = n[1].getFullYear(), o = i; o <= r; o++) s.push(new Date(o + "-01-01 00:00:00")); else (s = t.ticks(10)).length > l && (s = s.filter(function(e) {
return ("" + e).indexOf(".") < 0;
}));
return s;
}, s.getGridFilterToRemove = function(e) {
return e ? function(t) {
var n = !1;
return [].concat(e).forEach(function(e) {
("value" in e && t.value === e.value || "class" in e && t.class === e.class) && (n = !0);
}), n;
} : function() {
return !0;
};
}, s.removeGridLines = function(e, t) {
var n = this, i = n.config, r = n.getGridFilterToRemove(e), o = function(e) {
return !r(e);
}, a = t ? c.xgridLines : c.ygridLines, s = t ? c.xgridLine : c.ygridLine;
n.main.select("." + a).selectAll("." + s).filter(r).transition().duration(i.transition_duration).style("opacity", 0).remove(), t ? i.grid_x_lines = i.grid_x_lines.filter(o) : i.grid_y_lines = i.grid_y_lines.filter(o);
}, s.initTooltip = function() {
var e, t = this, n = t.config;
if (t.tooltip = t.selectChart.style("position", "relative").append("div").attr("class", c.tooltipContainer).style("position", "absolute").style("pointer-events", "none").style("display", "none"), n.tooltip_init_show) {
if (t.isTimeSeries() && h(n.tooltip_init_x)) {
for (n.tooltip_init_x = t.parseDate(n.tooltip_init_x), e = 0; e < t.data.targets[0].values.length && t.data.targets[0].values[e].x - n.tooltip_init_x != 0; e++) ;
n.tooltip_init_x = e;
}
t.tooltip.html(n.tooltip_contents.call(t, t.data.targets.map(function(e) {
return t.addName(e.values[n.tooltip_init_x]);
}), t.axis.getXAxisTickFormat(), t.getYFormat(t.hasArcType()), t.color)), t.tooltip.style("top", n.tooltip_init_position.top).style("left", n.tooltip_init_position.left).style("display", "block");
}
}, s.getTooltipContent = function(e, t, n, i) {
var r, o, a, s, l, c, u = this, d = u.config, h = d.tooltip_format_title || t, p = d.tooltip_format_name || function(e) {
return e;
}, f = d.tooltip_format_value || n, g = u.isOrderAsc();
if (0 === d.data_groups.length) e.sort(function(e, t) {
var n = e ? e.value : null, i = t ? t.value : null;
return g ? n - i : i - n;
}); else {
var m = u.orderTargets(u.data.targets).map(function(e) {
return e.id;
});
e.sort(function(e, t) {
var n = e ? e.value : null, i = t ? t.value : null;
return n > 0 && i > 0 && (n = e ? m.indexOf(e.id) : null, i = t ? m.indexOf(t.id) : null), g ? n - i : i - n;
});
}
for (o = 0; o < e.length; o++) if (e[o] && (e[o].value || 0 === e[o].value) && (r || (a = C(h ? h(e[o].x) : e[o].x), r = "<table class='" + u.CLASS.tooltip + "'>" + (a || 0 === a ? "<tr><th colspan='2'>" + a + "</th></tr>" : "")), void 0 !== (s = C(f(e[o].value, e[o].ratio, e[o].id, e[o].index, e))))) {
if (null === e[o].name) continue;
l = C(p(e[o].name, e[o].ratio, e[o].id, e[o].index)), c = u.levelColor ? u.levelColor(e[o].value) : i(e[o].id), r += "<tr class='" + u.CLASS.tooltipName + "-" + u.getTargetSelectorSuffix(e[o].id) + "'>", r += "<td class='name'><span style='background-color:" + c + "'></span>" + l + "</td>", r += "<td class='value'>" + s + "</td>", r += "</tr>";
}
return r + "</table>";
}, s.tooltipPosition = function(e, t, n, i) {
var r, o, a, s, l, c = this, u = c.config, d = c.d3, h = c.hasArcType(), p = d.mouse(i);
return h ? (o = (c.width - (c.isLegendRight ? c.getLegendWidth() : 0)) / 2 + p[0], s = c.height / 2 + p[1] + 20) : (r = c.getSvgLeft(!0), u.axis_rotated ? (a = (o = r + p[0] + 100) + t, l = c.currentWidth - c.getCurrentPaddingRight(), s = c.x(e[0].x) + 20) : (a = (o = r + c.getCurrentPaddingLeft(!0) + c.x(e[0].x) + 20) + t, l = r + c.currentWidth - c.getCurrentPaddingRight(), s = p[1] + 15), a > l && (o -= a - l + 20), s + n > c.currentHeight && (s -= n + 30)), s < 0 && (s = 0), {
top: s,
left: o
};
}, s.showTooltip = function(e, t) {
var n, i, r, o = this, a = o.config, l = o.hasArcType(), c = e.filter(function(e) {
return e && u(e.value);
}), d = a.tooltip_position || s.tooltipPosition;
0 !== c.length && a.tooltip_show && (o.tooltip.html(a.tooltip_contents.call(o, e, o.axis.getXAxisTickFormat(), o.getYFormat(l), o.color)).style("display", "block"), n = o.tooltip.property("offsetWidth"), i = o.tooltip.property("offsetHeight"), r = d.call(this, c, n, i, t), o.tooltip.style("top", r.top + "px").style("left", r.left + "px"));
}, s.hideTooltip = function() {
this.tooltip.style("display", "none");
}, s.initLegend = function() {
var e = this;
if (e.legendItemTextBox = {}, e.legendHasRendered = !1, e.legend = e.svg.append("g").attr("transform", e.getTranslate("legend")), !e.config.legend_show) return e.legend.style("visibility", "hidden"), void (e.hiddenLegendIds = e.mapToIds(e.data.targets));
e.updateLegendWithDefaults();
}, s.updateLegendWithDefaults = function() {
var e = this;
e.updateLegend(e.mapToIds(e.data.targets), {
withTransform: !1,
withTransitionForTransform: !1,
withTransition: !1
});
}, s.updateSizeForLegend = function(e, t) {
var n = this, i = n.config, r = {
top: n.isLegendTop ? n.getCurrentPaddingTop() + i.legend_inset_y + 5.5 : n.currentHeight - e - n.getCurrentPaddingBottom() - i.legend_inset_y,
left: n.isLegendLeft ? n.getCurrentPaddingLeft() + i.legend_inset_x + .5 : n.currentWidth - t - n.getCurrentPaddingRight() - i.legend_inset_x + .5
};
n.margin3 = {
top: n.isLegendRight ? 0 : n.isLegendInset ? r.top : n.currentHeight - e,
right: NaN,
bottom: 0,
left: n.isLegendRight ? n.currentWidth - t : n.isLegendInset ? r.left : 0
};
}, s.transformLegend = function(e) {
var t = this;
(e ? t.legend.transition() : t.legend).attr("transform", t.getTranslate("legend"));
}, s.updateLegendStep = function(e) {
this.legendStep = e;
}, s.updateLegendItemWidth = function(e) {
this.legendItemWidth = e;
}, s.updateLegendItemHeight = function(e) {
this.legendItemHeight = e;
}, s.getLegendWidth = function() {
var e = this;
return e.config.legend_show ? e.isLegendRight || e.isLegendInset ? e.legendItemWidth * (e.legendStep + 1) : e.currentWidth : 0;
}, s.getLegendHeight = function() {
var e = this, t = 0;
return e.config.legend_show && (t = e.isLegendRight ? e.currentHeight : Math.max(20, e.legendItemHeight) * (e.legendStep + 1)), t;
}, s.opacityForLegend = function(e) {
return e.classed(c.legendItemHidden) ? null : 1;
}, s.opacityForUnfocusedLegend = function(e) {
return e.classed(c.legendItemHidden) ? null : .3;
}, s.toggleFocusLegend = function(e, t) {
var n = this;
e = n.mapToTargetIds(e), n.legend.selectAll("." + c.legendItem).filter(function(t) {
return e.indexOf(t) >= 0;
}).classed(c.legendItemFocused, t).transition().duration(100).style("opacity", function() {
return (t ? n.opacityForLegend : n.opacityForUnfocusedLegend).call(n, n.d3.select(this));
});
}, s.revertLegend = function() {
var e = this, t = e.d3;
e.legend.selectAll("." + c.legendItem).classed(c.legendItemFocused, !1).transition().duration(100).style("opacity", function() {
return e.opacityForLegend(t.select(this));
});
}, s.showLegend = function(e) {
var t = this, n = t.config;
n.legend_show || (n.legend_show = !0, t.legend.style("visibility", "visible"), t.legendHasRendered || t.updateLegendWithDefaults()), t.removeHiddenLegendIds(e), t.legend.selectAll(t.selectorLegends(e)).style("visibility", "visible").transition().style("opacity", function() {
return t.opacityForLegend(t.d3.select(this));
});
}, s.hideLegend = function(e) {
var t = this, n = t.config;
n.legend_show && y(e) && (n.legend_show = !1, t.legend.style("visibility", "hidden")), t.addHiddenLegendIds(e), t.legend.selectAll(t.selectorLegends(e)).style("opacity", 0).style("visibility", "hidden");
}, s.clearLegendItemTextBoxCache = function() {
this.legendItemTextBox = {};
}, s.updateLegend = function(e, t, n) {
function i(e, t) {
return S.legendItemTextBox[t] || (S.legendItemTextBox[t] = S.getTextRect(e.textContent, c.legendItem, e)), S.legendItemTextBox[t];
}
function r(t, n, r) {
function o(e, t) {
t || (a = (f - M - p) / 2) < D && (a = (f - p) / 2, M = 0, B++), R[e] = B, O[B] = S.isLegendInset ? 10 : a, I[e] = M, M += p;
}
var a, s, l = 0 === r, c = r === e.length - 1, u = i(t, n), d = u.width + F + (!c || S.isLegendRight || S.isLegendInset ? k : 0) + $.legend_padding, h = u.height + A, p = S.isLegendRight || S.isLegendInset ? h : d, f = S.isLegendRight || S.isLegendInset ? S.getLegendHeight() : S.getLegendWidth();
l && (M = 0, B = 0, E = 0, T = 0), !$.legend_show || S.isLegendToShow(n) ? (L[n] = d, P[n] = h, (!E || d >= E) && (E = d), (!T || h >= T) && (T = h), s = S.isLegendRight || S.isLegendInset ? T : E, $.legend_equally ? (Object.keys(L).forEach(function(e) {
L[e] = E;
}), Object.keys(P).forEach(function(e) {
P[e] = T;
}), (a = (f - s * e.length) / 2) < D ? (M = 0, B = 0, e.forEach(function(e) {
o(e);
})) : o(n, !0)) : o(n)) : L[n] = P[n] = R[n] = I[n] = 0;
}
var o, a, s, l, u, d, h, p, g, m, v, y, b, x, C, _, S = this, $ = S.config, A = 4, k = 10, E = 0, T = 0, D = 10, F = $.legend_item_tile_width + 5, M = 0, I = {}, L = {}, P = {}, O = [ 0 ], R = {}, B = 0;
e = e.filter(function(e) {
return !f($.data_names[e]) || null !== $.data_names[e];
}), v = w(t = t || {}, "withTransition", !0), y = w(t, "withTransitionForTransform", !0), S.isLegendInset && (B = $.legend_inset_step ? $.legend_inset_step : e.length, S.updateLegendStep(B)), S.isLegendRight ? (o = function(e) {
return E * R[e];
}, l = function(e) {
return O[R[e]] + I[e];
}) : S.isLegendInset ? (o = function(e) {
return E * R[e] + 10;
}, l = function(e) {
return O[R[e]] + I[e];
}) : (o = function(e) {
return O[R[e]] + I[e];
}, l = function(e) {
return T * R[e];
}), a = function(e, t) {
return o(e, t) + 4 + $.legend_item_tile_width;
}, u = function(e, t) {
return l(e, t) + 9;
}, s = function(e, t) {
return o(e, t);
}, d = function(e, t) {
return l(e, t) - 5;
}, h = function(e, t) {
return o(e, t) - 2;
}, p = function(e, t) {
return o(e, t) - 2 + $.legend_item_tile_width;
}, g = function(e, t) {
return l(e, t) + 4;
}, (m = S.legend.selectAll("." + c.legendItem).data(e).enter().append("g").attr("class", function(e) {
return S.generateClass(c.legendItem, e);
}).style("visibility", function(e) {
return S.isLegendToShow(e) ? "visible" : "hidden";
}).style("cursor", "pointer").on("click", function(e) {
$.legend_item_onclick ? $.legend_item_onclick.call(S, e) : S.d3.event.altKey ? (S.api.hide(), S.api.show(e)) : (S.api.toggle(e), S.isTargetToShow(e) ? S.api.focus(e) : S.api.revert());
}).on("mouseover", function(e) {
$.legend_item_onmouseover ? $.legend_item_onmouseover.call(S, e) : (S.d3.select(this).classed(c.legendItemFocused, !0), !S.transiting && S.isTargetToShow(e) && S.api.focus(e));
}).on("mouseout", function(e) {
$.legend_item_onmouseout ? $.legend_item_onmouseout.call(S, e) : (S.d3.select(this).classed(c.legendItemFocused, !1), S.api.revert());
})).append("text").text(function(e) {
return f($.data_names[e]) ? $.data_names[e] : e;
}).each(function(e, t) {
r(this, e, t);
}).style("pointer-events", "none").attr("x", S.isLegendRight || S.isLegendInset ? a : -200).attr("y", S.isLegendRight || S.isLegendInset ? -200 : u), m.append("rect").attr("class", c.legendItemEvent).style("fill-opacity", 0).attr("x", S.isLegendRight || S.isLegendInset ? s : -200).attr("y", S.isLegendRight || S.isLegendInset ? -200 : d), m.append("line").attr("class", c.legendItemTile).style("stroke", S.color).style("pointer-events", "none").attr("x1", S.isLegendRight || S.isLegendInset ? h : -200).attr("y1", S.isLegendRight || S.isLegendInset ? -200 : g).attr("x2", S.isLegendRight || S.isLegendInset ? p : -200).attr("y2", S.isLegendRight || S.isLegendInset ? -200 : g).attr("stroke-width", $.legend_item_tile_height), _ = S.legend.select("." + c.legendBackground + " rect"), S.isLegendInset && E > 0 && 0 === _.size() && (_ = S.legend.insert("g", "." + c.legendItem).attr("class", c.legendBackground).append("rect")), b = S.legend.selectAll("text").data(e).text(function(e) {
return f($.data_names[e]) ? $.data_names[e] : e;
}).each(function(e, t) {
r(this, e, t);
}), (v ? b.transition() : b).attr("x", a).attr("y", u), x = S.legend.selectAll("rect." + c.legendItemEvent).data(e), (v ? x.transition() : x).attr("width", function(e) {
return L[e];
}).attr("height", function(e) {
return P[e];
}).attr("x", s).attr("y", d), C = S.legend.selectAll("line." + c.legendItemTile).data(e), (v ? C.transition() : C).style("stroke", S.color).attr("x1", h).attr("y1", g).attr("x2", p).attr("y2", g), _ && (v ? _.transition() : _).attr("height", S.getLegendHeight() - 12).attr("width", E * (B + 1) + 10), S.legend.selectAll("." + c.legendItem).classed(c.legendItemHidden, function(e) {
return !S.isTargetToShow(e);
}), S.updateLegendItemWidth(E), S.updateLegendItemHeight(T), S.updateLegendStep(B), S.updateSizes(), S.updateScales(), S.updateSvgSize(), S.transformAll(y, n), S.legendHasRendered = !0;
}, s.initTitle = function() {
var e = this;
e.title = e.svg.append("text").text(e.config.title_text).attr("class", e.CLASS.title);
}, s.redrawTitle = function() {
var e = this;
e.title.attr("x", e.xForTitle.bind(e)).attr("y", e.yForTitle.bind(e));
}, s.xForTitle = function() {
var e = this, t = e.config, n = t.title_position || "left";
return n.indexOf("right") >= 0 ? e.currentWidth - e.getTextRect(e.title.node().textContent, e.CLASS.title, e.title.node()).width - t.title_padding.right : n.indexOf("center") >= 0 ? (e.currentWidth - e.getTextRect(e.title.node().textContent, e.CLASS.title, e.title.node()).width) / 2 : t.title_padding.left;
}, s.yForTitle = function() {
var e = this;
return e.config.title_padding.top + e.getTextRect(e.title.node().textContent, e.CLASS.title, e.title.node()).height;
}, s.getTitlePadding = function() {
var e = this;
return e.yForTitle() + e.config.title_padding.bottom;
}, function(e, t) {
if (Object.create) t.prototype = Object.create(e.prototype); else {
var n = function() {};
n.prototype = e.prototype, t.prototype = new n();
}
t.prototype.constructor = t;
}(t, r), r.prototype.init = function() {
var e = this.owner, t = e.config, n = e.main;
e.axes.x = n.append("g").attr("class", c.axis + " " + c.axisX).attr("clip-path", e.clipPathForXAxis).attr("transform", e.getTranslate("x")).style("visibility", t.axis_x_show ? "visible" : "hidden"), e.axes.x.append("text").attr("class", c.axisXLabel).attr("transform", t.axis_rotated ? "rotate(-90)" : "").style("text-anchor", this.textAnchorForXAxisLabel.bind(this)), e.axes.y = n.append("g").attr("class", c.axis + " " + c.axisY).attr("clip-path", t.axis_y_inner ? "" : e.clipPathForYAxis).attr("transform", e.getTranslate("y")).style("visibility", t.axis_y_show ? "visible" : "hidden"), e.axes.y.append("text").attr("class", c.axisYLabel).attr("transform", t.axis_rotated ? "" : "rotate(-90)").style("text-anchor", this.textAnchorForYAxisLabel.bind(this)), e.axes.y2 = n.append("g").attr("class", c.axis + " " + c.axisY2).attr("transform", e.getTranslate("y2")).style("visibility", t.axis_y2_show ? "visible" : "hidden"), e.axes.y2.append("text").attr("class", c.axisY2Label).attr("transform", t.axis_rotated ? "" : "rotate(-90)").style("text-anchor", this.textAnchorForY2AxisLabel.bind(this));
}, r.prototype.getXAxis = function(e, t, n, i, r, a, s) {
var l = this.owner, c = l.config, u = {
isCategory: l.isCategorized(),
withOuterTick: r,
tickMultiline: c.axis_x_tick_multiline,
tickWidth: c.axis_x_tick_width,
tickTextRotate: s ? 0 : c.axis_x_tick_rotate,
withoutTransition: a
}, d = o(l.d3, u).scale(e).orient(t);
return l.isTimeSeries() && i && "function" != typeof i && (i = i.map(function(e) {
return l.parseDate(e);
})), d.tickFormat(n).tickValues(i), l.isCategorized() && (d.tickCentered(c.axis_x_tick_centered), y(c.axis_x_tick_culling) && (c.axis_x_tick_culling = !1)), d;
}, r.prototype.updateXAxisTickValues = function(e, t) {
var n, i = this.owner, r = i.config;
return (r.axis_x_tick_fit || r.axis_x_tick_count) && (n = this.generateTickValues(i.mapTargetsToUniqueXs(e), r.axis_x_tick_count, i.isTimeSeries())), t ? t.tickValues(n) : (i.xAxis.tickValues(n), i.subXAxis.tickValues(n)), n;
}, r.prototype.getYAxis = function(e, t, n, i, r, a, s) {
var l = this.owner, c = l.config, u = {
withOuterTick: r,
withoutTransition: a,
tickTextRotate: s ? 0 : c.axis_y_tick_rotate
}, d = o(l.d3, u).scale(e).orient(t).tickFormat(n);
return l.isTimeSeriesY() ? d.ticks(l.d3.time[c.axis_y_tick_time_value], c.axis_y_tick_time_interval) : d.tickValues(i), d;
}, r.prototype.getId = function(e) {
var t = this.owner.config;
return e in t.data_axes ? t.data_axes[e] : "y";
}, r.prototype.getXAxisTickFormat = function() {
var e = this.owner, t = e.config, n = e.isTimeSeries() ? e.defaultAxisTimeFormat : e.isCategorized() ? e.categoryName : function(e) {
return e < 0 ? e.toFixed(0) : e;
};
return t.axis_x_tick_format && (d(t.axis_x_tick_format) ? n = t.axis_x_tick_format : e.isTimeSeries() && (n = function(n) {
return n ? e.axisTimeFormat(t.axis_x_tick_format)(n) : "";
})), d(n) ? function(t) {
return n.call(e, t);
} : n;
}, r.prototype.getTickValues = function(e, t) {
return e || (t ? t.tickValues() : void 0);
}, r.prototype.getXAxisTickValues = function() {
return this.getTickValues(this.owner.config.axis_x_tick_values, this.owner.xAxis);
}, r.prototype.getYAxisTickValues = function() {
return this.getTickValues(this.owner.config.axis_y_tick_values, this.owner.yAxis);
}, r.prototype.getY2AxisTickValues = function() {
return this.getTickValues(this.owner.config.axis_y2_tick_values, this.owner.y2Axis);
}, r.prototype.getLabelOptionByAxisId = function(e) {
var t, n = this.owner.config;
return "y" === e ? t = n.axis_y_label : "y2" === e ? t = n.axis_y2_label : "x" === e && (t = n.axis_x_label), t;
}, r.prototype.getLabelText = function(e) {
var t = this.getLabelOptionByAxisId(e);
return h(t) ? t : t ? t.text : null;
}, r.prototype.setLabelText = function(e, t) {
var n = this.owner.config, i = this.getLabelOptionByAxisId(e);
h(i) ? "y" === e ? n.axis_y_label = t : "y2" === e ? n.axis_y2_label = t : "x" === e && (n.axis_x_label = t) : i && (i.text = t);
}, r.prototype.getLabelPosition = function(e, t) {
var n = this.getLabelOptionByAxisId(e), i = n && "object" == typeof n && n.position ? n.position : t;
return {
isInner: i.indexOf("inner") >= 0,
isOuter: i.indexOf("outer") >= 0,
isLeft: i.indexOf("left") >= 0,
isCenter: i.indexOf("center") >= 0,
isRight: i.indexOf("right") >= 0,
isTop: i.indexOf("top") >= 0,
isMiddle: i.indexOf("middle") >= 0,
isBottom: i.indexOf("bottom") >= 0
};
}, r.prototype.getXAxisLabelPosition = function() {
return this.getLabelPosition("x", this.owner.config.axis_rotated ? "inner-top" : "inner-right");
}, r.prototype.getYAxisLabelPosition = function() {
return this.getLabelPosition("y", this.owner.config.axis_rotated ? "inner-right" : "inner-top");
}, r.prototype.getY2AxisLabelPosition = function() {
return this.getLabelPosition("y2", this.owner.config.axis_rotated ? "inner-right" : "inner-top");
}, r.prototype.getLabelPositionById = function(e) {
return "y2" === e ? this.getY2AxisLabelPosition() : "y" === e ? this.getYAxisLabelPosition() : this.getXAxisLabelPosition();
}, r.prototype.textForXAxisLabel = function() {
return this.getLabelText("x");
}, r.prototype.textForYAxisLabel = function() {
return this.getLabelText("y");
}, r.prototype.textForY2AxisLabel = function() {
return this.getLabelText("y2");
}, r.prototype.xForAxisLabel = function(e, t) {
var n = this.owner;
return e ? t.isLeft ? 0 : t.isCenter ? n.width / 2 : n.width : t.isBottom ? -n.height : t.isMiddle ? -n.height / 2 : 0;
}, r.prototype.dxForAxisLabel = function(e, t) {
return e ? t.isLeft ? "0.5em" : t.isRight ? "-0.5em" : "0" : t.isTop ? "-0.5em" : t.isBottom ? "0.5em" : "0";
}, r.prototype.textAnchorForAxisLabel = function(e, t) {
return e ? t.isLeft ? "start" : t.isCenter ? "middle" : "end" : t.isBottom ? "start" : t.isMiddle ? "middle" : "end";
}, r.prototype.xForXAxisLabel = function() {
return this.xForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());
}, r.prototype.xForYAxisLabel = function() {
return this.xForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());
}, r.prototype.xForY2AxisLabel = function() {
return this.xForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());
}, r.prototype.dxForXAxisLabel = function() {
return this.dxForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());
}, r.prototype.dxForYAxisLabel = function() {
return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());
}, r.prototype.dxForY2AxisLabel = function() {
return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());
}, r.prototype.dyForXAxisLabel = function() {
var e = this.owner.config, t = this.getXAxisLabelPosition();
return e.axis_rotated ? t.isInner ? "1.2em" : -25 - this.getMaxTickWidth("x") : t.isInner ? "-0.5em" : e.axis_x_height ? e.axis_x_height - 10 : "3em";
}, r.prototype.dyForYAxisLabel = function() {
var e = this.owner, t = this.getYAxisLabelPosition();
return e.config.axis_rotated ? t.isInner ? "-0.5em" : "3em" : t.isInner ? "1.2em" : -10 - (e.config.axis_y_inner ? 0 : this.getMaxTickWidth("y") + 10);
}, r.prototype.dyForY2AxisLabel = function() {
var e = this.owner, t = this.getY2AxisLabelPosition();
return e.config.axis_rotated ? t.isInner ? "1.2em" : "-2.2em" : t.isInner ? "-0.5em" : 15 + (e.config.axis_y2_inner ? 0 : this.getMaxTickWidth("y2") + 15);
}, r.prototype.textAnchorForXAxisLabel = function() {
var e = this.owner;
return this.textAnchorForAxisLabel(!e.config.axis_rotated, this.getXAxisLabelPosition());
}, r.prototype.textAnchorForYAxisLabel = function() {
var e = this.owner;
return this.textAnchorForAxisLabel(e.config.axis_rotated, this.getYAxisLabelPosition());
}, r.prototype.textAnchorForY2AxisLabel = function() {
var e = this.owner;
return this.textAnchorForAxisLabel(e.config.axis_rotated, this.getY2AxisLabelPosition());
}, r.prototype.getMaxTickWidth = function(e, t) {
var n, i, r, o, a = this.owner, s = a.config, l = 0;
return t && a.currentMaxTickWidths[e] ? a.currentMaxTickWidths[e] : (a.svg && (n = a.filterTargetsToShow(a.data.targets), "y" === e ? (i = a.y.copy().domain(a.getYDomain(n, "y")), r = this.getYAxis(i, a.yOrient, s.axis_y_tick_format, a.yAxisTickValues, !1, !0, !0)) : "y2" === e ? (i = a.y2.copy().domain(a.getYDomain(n, "y2")), r = this.getYAxis(i, a.y2Orient, s.axis_y2_tick_format, a.y2AxisTickValues, !1, !0, !0)) : (i = a.x.copy().domain(a.getXDomain(n)), r = this.getXAxis(i, a.xOrient, a.xAxisTickFormat, a.xAxisTickValues, !1, !0, !0), this.updateXAxisTickValues(n, r)), (o = a.d3.select("body").append("div").classed("c3", !0)).append("svg").style("visibility", "hidden").style("position", "fixed").style("top", 0).style("left", 0).append("g").call(r).each(function() {
a.d3.select(this).selectAll("text").each(function() {
var e = this.getBoundingClientRect();
l < e.width && (l = e.width);
}), o.remove();
})), a.currentMaxTickWidths[e] = l <= 0 ? a.currentMaxTickWidths[e] : l, a.currentMaxTickWidths[e]);
}, r.prototype.updateLabels = function(e) {
var t = this.owner, n = t.main.select("." + c.axisX + " ." + c.axisXLabel), i = t.main.select("." + c.axisY + " ." + c.axisYLabel), r = t.main.select("." + c.axisY2 + " ." + c.axisY2Label);
(e ? n.transition() : n).attr("x", this.xForXAxisLabel.bind(this)).attr("dx", this.dxForXAxisLabel.bind(this)).attr("dy", this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)), (e ? i.transition() : i).attr("x", this.xForYAxisLabel.bind(this)).attr("dx", this.dxForYAxisLabel.bind(this)).attr("dy", this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)), (e ? r.transition() : r).attr("x", this.xForY2AxisLabel.bind(this)).attr("dx", this.dxForY2AxisLabel.bind(this)).attr("dy", this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this));
}, r.prototype.getPadding = function(e, t, n, i) {
var r = "number" == typeof e ? e : e[t];
return u(r) ? "ratio" === e.unit ? e[t] * i : this.convertPixelsToAxisPadding(r, i) : n;
}, r.prototype.convertPixelsToAxisPadding = function(e, t) {
var n = this.owner;
return t * (e / (n.config.axis_rotated ? n.width : n.height));
}, r.prototype.generateTickValues = function(e, t, n) {
var i, r, o, a, s, l, c, u = e;
if (t) if (1 === (i = d(t) ? t() : t)) u = [ e[0] ]; else if (2 === i) u = [ e[0], e[e.length - 1] ]; else if (i > 2) {
for (a = i - 2, r = e[0], s = ((o = e[e.length - 1]) - r) / (a + 1), u = [ r ], l = 0; l < a; l++) c = +r + s * (l + 1), u.push(n ? new Date(c) : c);
u.push(o);
}
return n || (u = u.sort(function(e, t) {
return e - t;
})), u;
}, r.prototype.generateTransitions = function(e) {
var t = this.owner.axes;
return {
axisX: e ? t.x.transition().duration(e) : t.x,
axisY: e ? t.y.transition().duration(e) : t.y,
axisY2: e ? t.y2.transition().duration(e) : t.y2,
axisSubX: e ? t.subx.transition().duration(e) : t.subx
};
}, r.prototype.redraw = function(e, t) {
var n = this.owner;
n.axes.x.style("opacity", t ? 0 : 1), n.axes.y.style("opacity", t ? 0 : 1), n.axes.y2.style("opacity", t ? 0 : 1), n.axes.subx.style("opacity", t ? 0 : 1), e.axisX.call(n.xAxis), e.axisY.call(n.yAxis), e.axisY2.call(n.y2Axis), e.axisSubX.call(n.subXAxis);
}, s.getClipPath = function(t) {
return "url(" + (e.navigator.appVersion.toLowerCase().indexOf("msie 9.") >= 0 ? "" : document.URL.split("#")[0]) + "#" + t + ")";
}, s.appendClip = function(e, t) {
return e.append("clipPath").attr("id", t).append("rect");
}, s.getAxisClipX = function(e) {
var t = Math.max(30, this.margin.left);
return e ? -(1 + t) : -(t - 1);
}, s.getAxisClipY = function(e) {
return e ? -20 : -this.margin.top;
}, s.getXAxisClipX = function() {
var e = this;
return e.getAxisClipX(!e.config.axis_rotated);
}, s.getXAxisClipY = function() {
var e = this;
return e.getAxisClipY(!e.config.axis_rotated);
}, s.getYAxisClipX = function() {
var e = this;
return e.config.axis_y_inner ? -1 : e.getAxisClipX(e.config.axis_rotated);
}, s.getYAxisClipY = function() {
var e = this;
return e.getAxisClipY(e.config.axis_rotated);
}, s.getAxisClipWidth = function(e) {
var t = this, n = Math.max(30, t.margin.left), i = Math.max(30, t.margin.right);
return e ? t.width + 2 + n + i : t.margin.left + 20;
}, s.getAxisClipHeight = function(e) {
return (e ? this.margin.bottom : this.margin.top + this.height) + 20;
}, s.getXAxisClipWidth = function() {
var e = this;
return e.getAxisClipWidth(!e.config.axis_rotated);
}, s.getXAxisClipHeight = function() {
var e = this;
return e.getAxisClipHeight(!e.config.axis_rotated);
}, s.getYAxisClipWidth = function() {
var e = this;
return e.getAxisClipWidth(e.config.axis_rotated) + (e.config.axis_y_inner ? 20 : 0);
}, s.getYAxisClipHeight = function() {
var e = this;
return e.getAxisClipHeight(e.config.axis_rotated);
}, s.initPie = function() {
var e = this, t = e.d3, n = e.config;
e.pie = t.layout.pie().value(function(e) {
return e.values.reduce(function(e, t) {
return e + t.value;
}, 0);
}), n.data_order || e.pie.sort(null);
}, s.updateRadius = function() {
var e = this, t = e.config, n = t.gauge_width || t.donut_width;
e.radiusExpanded = Math.min(e.arcWidth, e.arcHeight) / 2, e.radius = .95 * e.radiusExpanded, e.innerRadiusRatio = n ? (e.radius - n) / e.radius : .6, e.innerRadius = e.hasType("donut") || e.hasType("gauge") ? e.radius * e.innerRadiusRatio : 0;
}, s.updateArc = function() {
var e = this;
e.svgArc = e.getSvgArc(), e.svgArcExpanded = e.getSvgArcExpanded(), e.svgArcExpandedSub = e.getSvgArcExpanded(.98);
}, s.updateAngle = function(e) {
var t, n, i, r, o = this, a = o.config, s = !1, l = 0;
return a ? (o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(t) {
s || t.data.id !== e.data.id || (s = !0, (e = t).index = l), l++;
}), isNaN(e.startAngle) && (e.startAngle = 0), isNaN(e.endAngle) && (e.endAngle = e.startAngle), o.isGaugeType(e.data) && (t = a.gauge_min, n = a.gauge_max, i = Math.PI * (a.gauge_fullCircle ? 2 : 1) / (n - t), r = e.value < t ? 0 : e.value < n ? e.value - t : n - t, e.startAngle = a.gauge_startingAngle, e.endAngle = e.startAngle + i * r), s ? e : null) : null;
}, s.getSvgArc = function() {
var e = this, t = e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius), n = function(n, i) {
var r;
return i ? t(n) : (r = e.updateAngle(n)) ? t(r) : "M 0 0";
};
return n.centroid = t.centroid, n;
}, s.getSvgArcExpanded = function(e) {
var t = this, n = t.d3.svg.arc().outerRadius(t.radiusExpanded * (e || 1)).innerRadius(t.innerRadius);
return function(e) {
var i = t.updateAngle(e);
return i ? n(i) : "M 0 0";
};
}, s.getArc = function(e, t, n) {
return n || this.isArcType(e.data) ? this.svgArc(e, t) : "M 0 0";
}, s.transformForArcLabel = function(e) {
var t, n, i, r, o, a = this, s = a.config, l = a.updateAngle(e), c = "";
return l && !a.hasType("gauge") && (t = this.svgArc.centroid(l), n = isNaN(t[0]) ? 0 : t[0], i = isNaN(t[1]) ? 0 : t[1], r = Math.sqrt(n * n + i * i), c = "translate(" + n * (o = a.hasType("donut") && s.donut_label_ratio ? d(s.donut_label_ratio) ? s.donut_label_ratio(e, a.radius, r) : s.donut_label_ratio : a.hasType("pie") && s.pie_label_ratio ? d(s.pie_label_ratio) ? s.pie_label_ratio(e, a.radius, r) : s.pie_label_ratio : a.radius && r ? (36 / a.radius > .375 ? 1.175 - 36 / a.radius : .8) * a.radius / r : 0) + "," + i * o + ")"), c;
}, s.getArcRatio = function(e) {
var t = this, n = t.config, i = Math.PI * (t.hasType("gauge") && !n.gauge_fullCircle ? 1 : 2);
return e ? (e.endAngle - e.startAngle) / i : null;
}, s.convertToArcData = function(e) {
return this.addName({
id: e.data.id,
value: e.value,
ratio: this.getArcRatio(e),
index: e.index
});
}, s.textForArcLabel = function(e) {
var t, n, i, r, o, a = this;
return a.shouldShowArcLabel() ? (t = a.updateAngle(e), n = t ? t.value : null, i = a.getArcRatio(t), r = e.data.id, a.hasType("gauge") || a.meetsArcLabelThreshold(i) ? (o = a.getArcLabelFormat()) ? o(n, i, r) : a.defaultArcValueFormat(n, i) : "") : "";
}, s.expandArc = function(t) {
var n, i = this;
i.transiting ? n = e.setInterval(function() {
i.transiting || (e.clearInterval(n), i.legend.selectAll(".c3-legend-item-focused").size() > 0 && i.expandArc(t));
}, 10) : (t = i.mapToTargetIds(t), i.svg.selectAll(i.selectorTargets(t, "." + c.chartArc)).each(function(e) {
i.shouldExpand(e.data.id) && i.d3.select(this).selectAll("path").transition().duration(i.expandDuration(e.data.id)).attr("d", i.svgArcExpanded).transition().duration(2 * i.expandDuration(e.data.id)).attr("d", i.svgArcExpandedSub).each(function(e) {
i.isDonutType(e.data);
});
}));
}, s.unexpandArc = function(e) {
var t = this;
t.transiting || (e = t.mapToTargetIds(e), t.svg.selectAll(t.selectorTargets(e, "." + c.chartArc)).selectAll("path").transition().duration(function(e) {
return t.expandDuration(e.data.id);
}).attr("d", t.svgArc), t.svg.selectAll("." + c.arc).style("opacity", 1));
}, s.expandDuration = function(e) {
var t = this, n = t.config;
return t.isDonutType(e) ? n.donut_expand_duration : t.isGaugeType(e) ? n.gauge_expand_duration : t.isPieType(e) ? n.pie_expand_duration : 50;
}, s.shouldExpand = function(e) {
var t = this, n = t.config;
return t.isDonutType(e) && n.donut_expand || t.isGaugeType(e) && n.gauge_expand || t.isPieType(e) && n.pie_expand;
}, s.shouldShowArcLabel = function() {
var e = this, t = e.config, n = !0;
return e.hasType("donut") ? n = t.donut_label_show : e.hasType("pie") && (n = t.pie_label_show), n;
}, s.meetsArcLabelThreshold = function(e) {
var t = this, n = t.config;
return e >= (t.hasType("donut") ? n.donut_label_threshold : n.pie_label_threshold);
}, s.getArcLabelFormat = function() {
var e = this, t = e.config, n = t.pie_label_format;
return e.hasType("gauge") ? n = t.gauge_label_format : e.hasType("donut") && (n = t.donut_label_format), n;
}, s.getArcTitle = function() {
var e = this;
return e.hasType("donut") ? e.config.donut_title : "";
}, s.updateTargetsForArc = function(e) {
var t, n = this, i = n.main, r = n.classChartArc.bind(n), o = n.classArcs.bind(n), a = n.classFocus.bind(n);
(t = i.select("." + c.chartArcs).selectAll("." + c.chartArc).data(n.pie(e)).attr("class", function(e) {
return r(e) + a(e.data);
}).enter().append("g").attr("class", r)).append("g").attr("class", o), t.append("text").attr("dy", n.hasType("gauge") ? "-.1em" : ".35em").style("opacity", 0).style("text-anchor", "middle").style("pointer-events", "none");
}, s.initArc = function() {
var e = this;
e.arcs = e.main.select("." + c.chart).append("g").attr("class", c.chartArcs).attr("transform", e.getTranslate("arc")), e.arcs.append("text").attr("class", c.chartArcsTitle).style("text-anchor", "middle").text(e.getArcTitle());
}, s.redrawArc = function(e, t, n) {
var i, r = this, o = r.d3, a = r.config, s = r.main;
(i = s.selectAll("." + c.arcs).selectAll("." + c.arc).data(r.arcData.bind(r))).enter().append("path").attr("class", r.classArc.bind(r)).style("fill", function(e) {
return r.color(e.data);
}).style("cursor", function(e) {
return a.interaction_enabled && a.data_selection_isselectable(e) ? "pointer" : null;
}).style("opacity", 0).each(function(e) {
r.isGaugeType(e.data) && (e.startAngle = e.endAngle = a.gauge_startingAngle), this._current = e;
}), i.attr("transform", function(e) {
return !r.isGaugeType(e.data) && n ? "scale(0)" : "";
}).style("opacity", function(e) {
return e === this._current ? 0 : 1;
}).on("mouseover", a.interaction_enabled ? function(e) {
var t, n;
r.transiting || (t = r.updateAngle(e)) && (n = r.convertToArcData(t), r.expandArc(t.data.id), r.api.focus(t.data.id), r.toggleFocusLegend(t.data.id, !0), r.config.data_onmouseover(n, this));
} : null).on("mousemove", a.interaction_enabled ? function(e) {
var t, n = r.updateAngle(e);
n && (t = [ r.convertToArcData(n) ], r.showTooltip(t, this));
} : null).on("mouseout", a.interaction_enabled ? function(e) {
var t, n;
r.transiting || (t = r.updateAngle(e)) && (n = r.convertToArcData(t), r.unexpandArc(t.data.id), r.api.revert(), r.revertLegend(), r.hideTooltip(), r.config.data_onmouseout(n, this));
} : null).on("click", a.interaction_enabled ? function(e, t) {
var n, i = r.updateAngle(e);
i && (n = r.convertToArcData(i), r.toggleShape && r.toggleShape(this, n, t), r.config.data_onclick.call(r.api, n, this));
} : null).each(function() {
r.transiting = !0;
}).transition().duration(e).attrTween("d", function(e) {
var t, n = r.updateAngle(e);
return n ? (isNaN(this._current.startAngle) && (this._current.startAngle = 0), isNaN(this._current.endAngle) && (this._current.endAngle = this._current.startAngle), t = o.interpolate(this._current, n), this._current = t(0), function(n) {
var i = t(n);
return i.data = e.data, r.getArc(i, !0);
}) : function() {
return "M 0 0";
};
}).attr("transform", n ? "scale(1)" : "").style("fill", function(e) {
return r.levelColor ? r.levelColor(e.data.values[0].value) : r.color(e.data.id);
}).style("opacity", 1).call(r.endall, function() {
r.transiting = !1;
}), i.exit().transition().duration(t).style("opacity", 0).remove(), s.selectAll("." + c.chartArc).select("text").style("opacity", 0).attr("class", function(e) {
return r.isGaugeType(e.data) ? c.gaugeValue : "";
}).text(r.textForArcLabel.bind(r)).attr("transform", r.transformForArcLabel.bind(r)).style("font-size", function(e) {
return r.isGaugeType(e.data) ? Math.round(r.radius / 5) + "px" : "";
}).transition().duration(e).style("opacity", function(e) {
return r.isTargetToShow(e.data.id) && r.isArcType(e.data) ? 1 : 0;
}), s.select("." + c.chartArcsTitle).style("opacity", r.hasType("donut") || r.hasType("gauge") ? 1 : 0), r.hasType("gauge") && (r.arcs.select("." + c.chartArcsBackground).attr("d", function() {
var e = {
data: [ {
value: a.gauge_max
} ],
startAngle: a.gauge_startingAngle,
endAngle: -1 * a.gauge_startingAngle
};
return r.getArc(e, !0, !0);
}), r.arcs.select("." + c.chartArcsGaugeUnit).attr("dy", ".75em").text(a.gauge_label_show ? a.gauge_units : ""), r.arcs.select("." + c.chartArcsGaugeMin).attr("dx", -1 * (r.innerRadius + (r.radius - r.innerRadius) / (a.gauge_fullCircle ? 1 : 2)) + "px").attr("dy", "1.2em").text(a.gauge_label_show ? a.gauge_min : ""), r.arcs.select("." + c.chartArcsGaugeMax).attr("dx", r.innerRadius + (r.radius - r.innerRadius) / (a.gauge_fullCircle ? 1 : 2) + "px").attr("dy", "1.2em").text(a.gauge_label_show ? a.gauge_max : ""));
}, s.initGauge = function() {
var e = this.arcs;
this.hasType("gauge") && (e.append("path").attr("class", c.chartArcsBackground), e.append("text").attr("class", c.chartArcsGaugeUnit).style("text-anchor", "middle").style("pointer-events", "none"), e.append("text").attr("class", c.chartArcsGaugeMin).style("text-anchor", "middle").style("pointer-events", "none"), e.append("text").attr("class", c.chartArcsGaugeMax).style("text-anchor", "middle").style("pointer-events", "none"));
}, s.getGaugeLabelHeight = function() {
return this.config.gauge_label_show ? 20 : 0;
}, s.initRegion = function() {
var e = this;
e.region = e.main.append("g").attr("clip-path", e.clipPath).attr("class", c.regions);
}, s.updateRegion = function(e) {
var t = this, n = t.config;
t.region.style("visibility", t.hasArcType() ? "hidden" : "visible"), t.mainRegion = t.main.select("." + c.regions).selectAll("." + c.region).data(n.regions), t.mainRegion.enter().append("g").append("rect").style("fill-opacity", 0), t.mainRegion.attr("class", t.classRegion.bind(t)), t.mainRegion.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawRegion = function(e) {
var t = this, n = t.mainRegion.selectAll("rect").each(function() {
var e = t.d3.select(this.parentNode).datum();
t.d3.select(this).datum(e);
}), i = t.regionX.bind(t), r = t.regionY.bind(t), o = t.regionWidth.bind(t), a = t.regionHeight.bind(t);
return [ (e ? n.transition() : n).attr("x", i).attr("y", r).attr("width", o).attr("height", a).style("fill-opacity", function(e) {
return u(e.opacity) ? e.opacity : .1;
}) ];
}, s.regionX = function(e) {
var t = this, n = t.config, i = "y" === e.axis ? t.y : t.y2;
return "y" === e.axis || "y2" === e.axis ? n.axis_rotated && "start" in e ? i(e.start) : 0 : n.axis_rotated ? 0 : "start" in e ? t.x(t.isTimeSeries() ? t.parseDate(e.start) : e.start) : 0;
}, s.regionY = function(e) {
var t = this, n = t.config, i = "y" === e.axis ? t.y : t.y2;
return "y" === e.axis || "y2" === e.axis ? n.axis_rotated ? 0 : "end" in e ? i(e.end) : 0 : n.axis_rotated && "start" in e ? t.x(t.isTimeSeries() ? t.parseDate(e.start) : e.start) : 0;
}, s.regionWidth = function(e) {
var t, n = this, i = n.config, r = n.regionX(e), o = "y" === e.axis ? n.y : n.y2;
return (t = "y" === e.axis || "y2" === e.axis ? i.axis_rotated && "end" in e ? o(e.end) : n.width : i.axis_rotated ? n.width : "end" in e ? n.x(n.isTimeSeries() ? n.parseDate(e.end) : e.end) : n.width) < r ? 0 : t - r;
}, s.regionHeight = function(e) {
var t, n = this, i = n.config, r = this.regionY(e), o = "y" === e.axis ? n.y : n.y2;
return (t = "y" === e.axis || "y2" === e.axis ? i.axis_rotated ? n.height : "start" in e ? o(e.start) : n.height : i.axis_rotated && "end" in e ? n.x(n.isTimeSeries() ? n.parseDate(e.end) : e.end) : n.height) < r ? 0 : t - r;
}, s.isRegionOnX = function(e) {
return !e.axis || "x" === e.axis;
}, s.drag = function(e) {
var t, n, i, r, o, a, s, l, u = this, d = u.config, h = u.main, p = u.d3;
u.hasArcType() || d.data_selection_enabled && (d.zoom_enabled && !u.zoom.altDomain || d.data_selection_multiple && (t = u.dragStart[0], n = u.dragStart[1], i = e[0], r = e[1], o = Math.min(t, i), a = Math.max(t, i), s = d.data_selection_grouped ? u.margin.top : Math.min(n, r), l = d.data_selection_grouped ? u.height : Math.max(n, r), h.select("." + c.dragarea).attr("x", o).attr("y", s).attr("width", a - o).attr("height", l - s), h.selectAll("." + c.shapes).selectAll("." + c.shape).filter(function(e) {
return d.data_selection_isselectable(e);
}).each(function(e, t) {
var n, i, r, d, h, f, g = p.select(this), m = g.classed(c.SELECTED), v = g.classed(c.INCLUDED), y = !1;
if (g.classed(c.circle)) n = 1 * g.attr("cx"), i = 1 * g.attr("cy"), h = u.togglePoint, y = o < n && n < a && s < i && i < l; else {
if (!g.classed(c.bar)) return;
n = (f = _(this)).x, i = f.y, r = f.width, d = f.height, h = u.togglePath, y = !(a < n || n + r < o || l < i || i + d < s);
}
y ^ v && (g.classed(c.INCLUDED, !v), g.classed(c.SELECTED, !m), h.call(u, !m, g, e, t));
})));
}, s.dragstart = function(e) {
var t = this, n = t.config;
t.hasArcType() || n.data_selection_enabled && (t.dragStart = e, t.main.select("." + c.chart).append("rect").attr("class", c.dragarea).style("opacity", .1), t.dragging = !0);
}, s.dragend = function() {
var e = this, t = e.config;
e.hasArcType() || t.data_selection_enabled && (e.main.select("." + c.dragarea).transition().duration(100).style("opacity", 0).remove(), e.main.selectAll("." + c.shape).classed(c.INCLUDED, !1), e.dragging = !1);
}, s.selectPoint = function(e, t, n) {
var i = this, r = i.config, o = (r.axis_rotated ? i.circleY : i.circleX).bind(i), a = (r.axis_rotated ? i.circleX : i.circleY).bind(i), s = i.pointSelectR.bind(i);
r.data_onselected.call(i.api, t, e.node()), i.main.select("." + c.selectedCircles + i.getTargetSelectorSuffix(t.id)).selectAll("." + c.selectedCircle + "-" + n).data([ t ]).enter().append("circle").attr("class", function() {
return i.generateClass(c.selectedCircle, n);
}).attr("cx", o).attr("cy", a).attr("stroke", function() {
return i.color(t);
}).attr("r", function(e) {
return 1.4 * i.pointSelectR(e);
}).transition().duration(100).attr("r", s);
}, s.unselectPoint = function(e, t, n) {
var i = this;
i.config.data_onunselected.call(i.api, t, e.node()), i.main.select("." + c.selectedCircles + i.getTargetSelectorSuffix(t.id)).selectAll("." + c.selectedCircle + "-" + n).transition().duration(100).attr("r", 0).remove();
}, s.togglePoint = function(e, t, n, i) {
e ? this.selectPoint(t, n, i) : this.unselectPoint(t, n, i);
}, s.selectPath = function(e, t) {
var n = this;
n.config.data_onselected.call(n, t, e.node()), n.config.interaction_brighten && e.transition().duration(100).style("fill", function() {
return n.d3.rgb(n.color(t)).brighter(.75);
});
}, s.unselectPath = function(e, t) {
var n = this;
n.config.data_onunselected.call(n, t, e.node()), n.config.interaction_brighten && e.transition().duration(100).style("fill", function() {
return n.color(t);
});
}, s.togglePath = function(e, t, n, i) {
e ? this.selectPath(t, n, i) : this.unselectPath(t, n, i);
}, s.getToggle = function(e, t) {
var n, i = this;
return "circle" === e.nodeName ? n = i.isStepType(t) ? function() {} : i.togglePoint : "path" === e.nodeName && (n = i.togglePath), n;
}, s.toggleShape = function(e, t, n) {
var i = this, r = i.d3, o = i.config, a = r.select(e), s = a.classed(c.SELECTED), l = i.getToggle(e, t).bind(i);
o.data_selection_enabled && o.data_selection_isselectable(t) && (o.data_selection_multiple || i.main.selectAll("." + c.shapes + (o.data_selection_grouped ? i.getTargetSelectorSuffix(t.id) : "")).selectAll("." + c.shape).each(function(e, t) {
var n = r.select(this);
n.classed(c.SELECTED) && l(!1, n.classed(c.SELECTED, !1), e, t);
}), a.classed(c.SELECTED, !s), l(!s, a, t, n));
}, s.initBrush = function() {
var e = this, t = e.d3;
e.brush = t.svg.brush().on("brush", function() {
e.redrawForBrush();
}), e.brush.update = function() {
return e.context && e.context.select("." + c.brush).call(this), this;
}, e.brush.scale = function(t) {
return e.config.axis_rotated ? this.y(t) : this.x(t);
};
}, s.initSubchart = function() {
var e = this, t = e.config, n = e.context = e.svg.append("g").attr("transform", e.getTranslate("context")), i = t.subchart_show ? "visible" : "hidden";
n.style("visibility", i), n.append("g").attr("clip-path", e.clipPathForSubchart).attr("class", c.chart), n.select("." + c.chart).append("g").attr("class", c.chartBars), n.select("." + c.chart).append("g").attr("class", c.chartLines), n.append("g").attr("clip-path", e.clipPath).attr("class", c.brush).call(e.brush), e.axes.subx = n.append("g").attr("class", c.axisX).attr("transform", e.getTranslate("subx")).attr("clip-path", t.axis_rotated ? "" : e.clipPathForXAxis).style("visibility", t.subchart_axis_x_show ? i : "hidden");
}, s.updateTargetsForSubchart = function(e) {
var t, n = this, i = n.context, r = n.config, o = n.classChartBar.bind(n), a = n.classBars.bind(n), s = n.classChartLine.bind(n), l = n.classLines.bind(n), u = n.classAreas.bind(n);
r.subchart_show && (i.select("." + c.chartBars).selectAll("." + c.chartBar).data(e).attr("class", o).enter().append("g").style("opacity", 0).attr("class", o).append("g").attr("class", a), (t = i.select("." + c.chartLines).selectAll("." + c.chartLine).data(e).attr("class", s).enter().append("g").style("opacity", 0).attr("class", s)).append("g").attr("class", l), t.append("g").attr("class", u), i.selectAll("." + c.brush + " rect").attr(r.axis_rotated ? "width" : "height", r.axis_rotated ? n.width2 : n.height2));
}, s.updateBarForSubchart = function(e) {
var t = this;
t.contextBar = t.context.selectAll("." + c.bars).selectAll("." + c.bar).data(t.barData.bind(t)), t.contextBar.enter().append("path").attr("class", t.classBar.bind(t)).style("stroke", "none").style("fill", t.color), t.contextBar.style("opacity", t.initialOpacity.bind(t)), t.contextBar.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawBarForSubchart = function(e, t, n) {
(t ? this.contextBar.transition(Math.random().toString()).duration(n) : this.contextBar).attr("d", e).style("opacity", 1);
}, s.updateLineForSubchart = function(e) {
var t = this;
t.contextLine = t.context.selectAll("." + c.lines).selectAll("." + c.line).data(t.lineData.bind(t)), t.contextLine.enter().append("path").attr("class", t.classLine.bind(t)).style("stroke", t.color), t.contextLine.style("opacity", t.initialOpacity.bind(t)), t.contextLine.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawLineForSubchart = function(e, t, n) {
(t ? this.contextLine.transition(Math.random().toString()).duration(n) : this.contextLine).attr("d", e).style("opacity", 1);
}, s.updateAreaForSubchart = function(e) {
var t = this, n = t.d3;
t.contextArea = t.context.selectAll("." + c.areas).selectAll("." + c.area).data(t.lineData.bind(t)), t.contextArea.enter().append("path").attr("class", t.classArea.bind(t)).style("fill", t.color).style("opacity", function() {
return t.orgAreaOpacity = +n.select(this).style("opacity"), 0;
}), t.contextArea.style("opacity", 0), t.contextArea.exit().transition().duration(e).style("opacity", 0).remove();
}, s.redrawAreaForSubchart = function(e, t, n) {
(t ? this.contextArea.transition(Math.random().toString()).duration(n) : this.contextArea).attr("d", e).style("fill", this.color).style("opacity", this.orgAreaOpacity);
}, s.redrawSubchart = function(e, t, n, i, r, o, a) {
var s, l, c, u = this, d = u.d3, h = u.config;
u.context.style("visibility", h.subchart_show ? "visible" : "hidden"), h.subchart_show && (d.event && "zoom" === d.event.type && u.brush.extent(u.x.orgDomain()).update(), e && (u.brush.empty() || u.brush.extent(u.x.orgDomain()).update(), s = u.generateDrawArea(r, !0), l = u.generateDrawBar(o, !0), c = u.generateDrawLine(a, !0), u.updateBarForSubchart(n), u.updateLineForSubchart(n), u.updateAreaForSubchart(n), u.redrawBarForSubchart(l, n, n), u.redrawLineForSubchart(c, n, n), u.redrawAreaForSubchart(s, n, n)));
}, s.redrawForBrush = function() {
var e = this, t = e.x;
e.redraw({
withTransition: !1,
withY: e.config.zoom_rescale,
withSubchart: !1,
withUpdateXDomain: !0,
withDimension: !1
}), e.config.subchart_onbrush.call(e.api, t.orgDomain());
}, s.transformContext = function(e, t) {
var n, i = this;
t && t.axisSubX ? n = t.axisSubX : (n = i.context.select("." + c.axisX), e && (n = n.transition())), i.context.attr("transform", i.getTranslate("context")), n.attr("transform", i.getTranslate("subx"));
}, s.getDefaultExtent = function() {
var e = this, t = e.config, n = d(t.axis_x_extent) ? t.axis_x_extent(e.getXDomain(e.data.targets)) : t.axis_x_extent;
return e.isTimeSeries() && (n = [ e.parseDate(n[0]), e.parseDate(n[1]) ]), n;
}, s.initZoom = function() {
var e, t = this, n = t.d3, i = t.config;
t.zoom = n.behavior.zoom().on("zoomstart", function() {
e = n.event.sourceEvent, t.zoom.altDomain = n.event.sourceEvent.altKey ? t.x.orgDomain() : null, i.zoom_onzoomstart.call(t.api, n.event.sourceEvent);
}).on("zoom", function() {
t.redrawForZoom.call(t);
}).on("zoomend", function() {
var r = n.event.sourceEvent;
r && e.clientX === r.clientX && e.clientY === r.clientY || (t.redrawEventRect(), t.updateZoom(), i.zoom_onzoomend.call(t.api, t.x.orgDomain()));
}), t.zoom.scale = function(e) {
return i.axis_rotated ? this.y(e) : this.x(e);
}, t.zoom.orgScaleExtent = function() {
var e = i.zoom_extent ? i.zoom_extent : [ 1, 10 ];
return [ e[0], Math.max(t.getMaxDataCount() / e[1], e[1]) ];
}, t.zoom.updateScaleExtent = function() {
var e = v(t.x.orgDomain()) / v(t.getZoomDomain()), n = this.orgScaleExtent();
return this.scaleExtent([ n[0] * e, n[1] * e ]), this;
};
}, s.getZoomDomain = function() {
var e = this, t = e.config, n = e.d3;
return [ n.min([ e.orgXDomain[0], t.zoom_x_min ]), n.max([ e.orgXDomain[1], t.zoom_x_max ]) ];
}, s.updateZoom = function() {
var e = this, t = e.config.zoom_enabled ? e.zoom : function() {};
e.main.select("." + c.zoomRect).call(t).on("dblclick.zoom", null), e.main.selectAll("." + c.eventRect).call(t).on("dblclick.zoom", null);
}, s.redrawForZoom = function() {
var e = this, t = e.d3, n = e.config, i = e.zoom, r = e.x;
if (n.zoom_enabled && 0 !== e.filterTargetsToShow(e.data.targets).length) {
if ("mousemove" === t.event.sourceEvent.type && i.altDomain) return r.domain(i.altDomain), void i.scale(r).updateScaleExtent();
e.isCategorized() && r.orgDomain()[0] === e.orgXDomain[0] && r.domain([ e.orgXDomain[0] - 1e-10, r.orgDomain()[1] ]), e.redraw({
withTransition: !1,
withY: n.zoom_rescale,
withSubchart: !1,
withEventRect: !1,
withDimension: !1
}), "mousemove" === t.event.sourceEvent.type && (e.cancelClick = !0), n.zoom_onzoom.call(e.api, r.orgDomain());
}
}, s.generateColor = function() {
var e = this, t = e.config, n = e.d3, i = t.data_colors, r = b(t.color_pattern) ? t.color_pattern : n.scale.category10().range(), o = t.data_color, a = [];
return function(e) {
var t, n = e.id || e.data && e.data.id || e;
return i[n] instanceof Function ? t = i[n](e) : i[n] ? t = i[n] : (a.indexOf(n) < 0 && a.push(n), t = r[a.indexOf(n) % r.length], i[n] = t), o instanceof Function ? o(t, e) : t;
};
}, s.generateLevelColor = function() {
var e = this.config, t = e.color_pattern, n = e.color_threshold, i = "value" === n.unit, r = n.values && n.values.length ? n.values : [], o = n.max || 100;
return b(e.color_threshold) ? function(e) {
var n, a = t[t.length - 1];
for (n = 0; n < r.length; n++) if ((i ? e : 100 * e / o) < r[n]) {
a = t[n];
break;
}
return a;
} : null;
}, s.getYFormat = function(e) {
var t = this, n = e && !t.hasType("gauge") ? t.defaultArcValueFormat : t.yFormat, i = e && !t.hasType("gauge") ? t.defaultArcValueFormat : t.y2Format;
return function(e, r, o) {
return ("y2" === t.axis.getId(o) ? i : n).call(t, e, r);
};
}, s.yFormat = function(e) {
var t = this, n = t.config;
return (n.axis_y_tick_format ? n.axis_y_tick_format : t.defaultValueFormat)(e);
}, s.y2Format = function(e) {
var t = this, n = t.config;
return (n.axis_y2_tick_format ? n.axis_y2_tick_format : t.defaultValueFormat)(e);
}, s.defaultValueFormat = function(e) {
return u(e) ? +e : "";
}, s.defaultArcValueFormat = function(e, t) {
return (100 * t).toFixed(1) + "%";
}, s.dataLabelFormat = function(e) {
var t = this.config.data_labels, n = function(e) {
return u(e) ? +e : "";
};
return "function" == typeof t.format ? t.format : "object" == typeof t.format ? t.format[e] ? !0 === t.format[e] ? n : t.format[e] : function() {
return "";
} : n;
}, s.hasCaches = function(e) {
for (var t = 0; t < e.length; t++) if (!(e[t] in this.cache)) return !1;
return !0;
}, s.addCache = function(e, t) {
this.cache[e] = this.cloneTarget(t);
}, s.getCaches = function(e) {
var t, n = [];
for (t = 0; t < e.length; t++) e[t] in this.cache && n.push(this.cloneTarget(this.cache[e[t]]));
return n;
};
var c = s.CLASS = {
target: "c3-target",
chart: "c3-chart",
chartLine: "c3-chart-line",
chartLines: "c3-chart-lines",
chartBar: "c3-chart-bar",
chartBars: "c3-chart-bars",
chartText: "c3-chart-text",
chartTexts: "c3-chart-texts",
chartArc: "c3-chart-arc",
chartArcs: "c3-chart-arcs",
chartArcsTitle: "c3-chart-arcs-title",
chartArcsBackground: "c3-chart-arcs-background",
chartArcsGaugeUnit: "c3-chart-arcs-gauge-unit",
chartArcsGaugeMax: "c3-chart-arcs-gauge-max",
chartArcsGaugeMin: "c3-chart-arcs-gauge-min",
selectedCircle: "c3-selected-circle",
selectedCircles: "c3-selected-circles",
eventRect: "c3-event-rect",
eventRects: "c3-event-rects",
eventRectsSingle: "c3-event-rects-single",
eventRectsMultiple: "c3-event-rects-multiple",
zoomRect: "c3-zoom-rect",
brush: "c3-brush",
focused: "c3-focused",
defocused: "c3-defocused",
region: "c3-region",
regions: "c3-regions",
title: "c3-title",
tooltipContainer: "c3-tooltip-container",
tooltip: "c3-tooltip",
tooltipName: "c3-tooltip-name",
shape: "c3-shape",
shapes: "c3-shapes",
line: "c3-line",
lines: "c3-lines",
bar: "c3-bar",
bars: "c3-bars",
circle: "c3-circle",
circles: "c3-circles",
arc: "c3-arc",
arcs: "c3-arcs",
area: "c3-area",
areas: "c3-areas",
empty: "c3-empty",
text: "c3-text",
texts: "c3-texts",
gaugeValue: "c3-gauge-value",
grid: "c3-grid",
gridLines: "c3-grid-lines",
xgrid: "c3-xgrid",
xgrids: "c3-xgrids",
xgridLine: "c3-xgrid-line",
xgridLines: "c3-xgrid-lines",
xgridFocus: "c3-xgrid-focus",
ygrid: "c3-ygrid",
ygrids: "c3-ygrids",
ygridLine: "c3-ygrid-line",
ygridLines: "c3-ygrid-lines",
axis: "c3-axis",
axisX: "c3-axis-x",
axisXLabel: "c3-axis-x-label",
axisY: "c3-axis-y",
axisYLabel: "c3-axis-y-label",
axisY2: "c3-axis-y2",
axisY2Label: "c3-axis-y2-label",
legendBackground: "c3-legend-background",
legendItem: "c3-legend-item",
legendItemEvent: "c3-legend-item-event",
legendItemTile: "c3-legend-item-tile",
legendItemHidden: "c3-legend-item-hidden",
legendItemFocused: "c3-legend-item-focused",
dragarea: "c3-dragarea",
EXPANDED: "_expanded_",
SELECTED: "_selected_",
INCLUDED: "_included_"
};
s.generateClass = function(e, t) {
return " " + e + " " + e + this.getTargetSelectorSuffix(t);
}, s.classText = function(e) {
return this.generateClass(c.text, e.index);
}, s.classTexts = function(e) {
return this.generateClass(c.texts, e.id);
}, s.classShape = function(e) {
return this.generateClass(c.shape, e.index);
}, s.classShapes = function(e) {
return this.generateClass(c.shapes, e.id);
}, s.classLine = function(e) {
return this.classShape(e) + this.generateClass(c.line, e.id);
}, s.classLines = function(e) {
return this.classShapes(e) + this.generateClass(c.lines, e.id);
}, s.classCircle = function(e) {
return this.classShape(e) + this.generateClass(c.circle, e.index);
}, s.classCircles = function(e) {
return this.classShapes(e) + this.generateClass(c.circles, e.id);
}, s.classBar = function(e) {
return this.classShape(e) + this.generateClass(c.bar, e.index);
}, s.classBars = function(e) {
return this.classShapes(e) + this.generateClass(c.bars, e.id);
}, s.classArc = function(e) {
return this.classShape(e.data) + this.generateClass(c.arc, e.data.id);
}, s.classArcs = function(e) {
return this.classShapes(e.data) + this.generateClass(c.arcs, e.data.id);
}, s.classArea = function(e) {
return this.classShape(e) + this.generateClass(c.area, e.id);
}, s.classAreas = function(e) {
return this.classShapes(e) + this.generateClass(c.areas, e.id);
}, s.classRegion = function(e, t) {
return this.generateClass(c.region, t) + " " + ("class" in e ? e.class : "");
}, s.classEvent = function(e) {
return this.generateClass(c.eventRect, e.index);
}, s.classTarget = function(e) {
var t = this, n = t.config.data_classes[e], i = "";
return n && (i = " " + c.target + "-" + n), t.generateClass(c.target, e) + i;
}, s.classFocus = function(e) {
return this.classFocused(e) + this.classDefocused(e);
}, s.classFocused = function(e) {
return " " + (this.focusedTargetIds.indexOf(e.id) >= 0 ? c.focused : "");
}, s.classDefocused = function(e) {
return " " + (this.defocusedTargetIds.indexOf(e.id) >= 0 ? c.defocused : "");
}, s.classChartText = function(e) {
return c.chartText + this.classTarget(e.id);
}, s.classChartLine = function(e) {
return c.chartLine + this.classTarget(e.id);
}, s.classChartBar = function(e) {
return c.chartBar + this.classTarget(e.id);
}, s.classChartArc = function(e) {
return c.chartArc + this.classTarget(e.data.id);
}, s.getTargetSelectorSuffix = function(e) {
return e || 0 === e ? ("-" + e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g, "-") : "";
}, s.selectorTarget = function(e, t) {
return (t || "") + "." + c.target + this.getTargetSelectorSuffix(e);
}, s.selectorTargets = function(e, t) {
var n = this;
return (e = e || []).length ? e.map(function(e) {
return n.selectorTarget(e, t);
}) : null;
}, s.selectorLegend = function(e) {
return "." + c.legendItem + this.getTargetSelectorSuffix(e);
}, s.selectorLegends = function(e) {
var t = this;
return e && e.length ? e.map(function(e) {
return t.selectorLegend(e);
}) : null;
};
var u = s.isValue = function(e) {
return e || 0 === e;
}, d = s.isFunction = function(e) {
return "function" == typeof e;
}, h = s.isString = function(e) {
return "string" == typeof e;
}, p = s.isUndefined = function(e) {
return void 0 === e;
}, f = s.isDefined = function(e) {
return void 0 !== e;
}, g = s.ceil10 = function(e) {
return 10 * Math.ceil(e / 10);
}, m = s.asHalfPixel = function(e) {
return Math.ceil(e) + .5;
}, v = s.diffDomain = function(e) {
return e[1] - e[0];
}, y = s.isEmpty = function(e) {
return void 0 === e || null === e || h(e) && 0 === e.length || "object" == typeof e && 0 === Object.keys(e).length;
}, b = s.notEmpty = function(e) {
return !s.isEmpty(e);
}, w = s.getOption = function(e, t, n) {
return f(e[t]) ? e[t] : n;
}, x = s.hasValue = function(e, t) {
var n = !1;
return Object.keys(e).forEach(function(i) {
e[i] === t && (n = !0);
}), n;
}, C = s.sanitise = function(e) {
return "string" == typeof e ? e.replace(/</g, "&lt;").replace(/>/g, "&gt;") : e;
}, _ = s.getPathBox = function(e) {
var t = e.getBoundingClientRect(), n = [ e.pathSegList.getItem(0), e.pathSegList.getItem(1) ];
return {
x: n[0].x,
y: Math.min(n[0].y, n[1].y),
width: t.width,
height: t.height
};
};
a.focus = function(e) {
var t, n = this.internal;
e = n.mapToTargetIds(e), t = n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow, n))), this.revert(), this.defocus(), t.classed(c.focused, !0).classed(c.defocused, !1), n.hasArcType() && n.expandArc(e), n.toggleFocusLegend(e, !0), n.focusedTargetIds = e, n.defocusedTargetIds = n.defocusedTargetIds.filter(function(t) {
return e.indexOf(t) < 0;
});
}, a.defocus = function(e) {
var t = this.internal;
e = t.mapToTargetIds(e), t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow, t))).classed(c.focused, !1).classed(c.defocused, !0), t.hasArcType() && t.unexpandArc(e), t.toggleFocusLegend(e, !1), t.focusedTargetIds = t.focusedTargetIds.filter(function(t) {
return e.indexOf(t) < 0;
}), t.defocusedTargetIds = e;
}, a.revert = function(e) {
var t = this.internal;
e = t.mapToTargetIds(e), t.svg.selectAll(t.selectorTargets(e)).classed(c.focused, !1).classed(c.defocused, !1), t.hasArcType() && t.unexpandArc(e), t.config.legend_show && (t.showLegend(e.filter(t.isLegendToShow.bind(t))), t.legend.selectAll(t.selectorLegends(e)).filter(function() {
return t.d3.select(this).classed(c.legendItemFocused);
}).classed(c.legendItemFocused, !1)), t.focusedTargetIds = [], t.defocusedTargetIds = [];
}, a.show = function(e, t) {
var n, i = this.internal;
e = i.mapToTargetIds(e), t = t || {}, i.removeHiddenTargetIds(e), (n = i.svg.selectAll(i.selectorTargets(e))).transition().style("opacity", 1, "important").call(i.endall, function() {
n.style("opacity", null).style("opacity", 1);
}), t.withLegend && i.showLegend(e), i.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0,
withLegend: !0
});
}, a.hide = function(e, t) {
var n, i = this.internal;
e = i.mapToTargetIds(e), t = t || {}, i.addHiddenTargetIds(e), (n = i.svg.selectAll(i.selectorTargets(e))).transition().style("opacity", 0, "important").call(i.endall, function() {
n.style("opacity", null).style("opacity", 0);
}), t.withLegend && i.hideLegend(e), i.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0,
withLegend: !0
});
}, a.toggle = function(e, t) {
var n = this, i = this.internal;
i.mapToTargetIds(e).forEach(function(e) {
i.isTargetToShow(e) ? n.hide(e, t) : n.show(e, t);
});
}, a.zoom = function(e) {
var t = this.internal;
return e && (t.isTimeSeries() && (e = e.map(function(e) {
return t.parseDate(e);
})), t.brush.extent(e), t.redraw({
withUpdateXDomain: !0,
withY: t.config.zoom_rescale
}), t.config.zoom_onzoom.call(this, t.x.orgDomain())), t.brush.extent();
}, a.zoom.enable = function(e) {
var t = this.internal;
t.config.zoom_enabled = e, t.updateAndRedraw();
}, a.unzoom = function() {
var e = this.internal;
e.brush.clear().update(), e.redraw({
withUpdateXDomain: !0
});
}, a.zoom.max = function(e) {
var t = this.internal, n = t.config, i = t.d3;
if (0 !== e && !e) return n.zoom_x_max;
n.zoom_x_max = i.max([ t.orgXDomain[1], e ]);
}, a.zoom.min = function(e) {
var t = this.internal, n = t.config, i = t.d3;
if (0 !== e && !e) return n.zoom_x_min;
n.zoom_x_min = i.min([ t.orgXDomain[0], e ]);
}, a.zoom.range = function(e) {
if (!arguments.length) return {
max: this.domain.max(),
min: this.domain.min()
};
f(e.max) && this.domain.max(e.max), f(e.min) && this.domain.min(e.min);
}, a.load = function(e) {
var t = this.internal, n = t.config;
e.xs && t.addXs(e.xs), "names" in e && a.data.names.bind(this)(e.names), "classes" in e && Object.keys(e.classes).forEach(function(t) {
n.data_classes[t] = e.classes[t];
}), "categories" in e && t.isCategorized() && (n.axis_x_categories = e.categories), "axes" in e && Object.keys(e.axes).forEach(function(t) {
n.data_axes[t] = e.axes[t];
}), "colors" in e && Object.keys(e.colors).forEach(function(t) {
n.data_colors[t] = e.colors[t];
}), "cacheIds" in e && t.hasCaches(e.cacheIds) ? t.load(t.getCaches(e.cacheIds), e.done) : "unload" in e ? t.unload(t.mapToTargetIds("boolean" == typeof e.unload && e.unload ? null : e.unload), function() {
t.loadFromArgs(e);
}) : t.loadFromArgs(e);
}, a.unload = function(e) {
var t = this.internal;
(e = e || {}) instanceof Array ? e = {
ids: e
} : "string" == typeof e && (e = {
ids: [ e ]
}), t.unload(t.mapToTargetIds(e.ids), function() {
t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0,
withLegend: !0
}), e.done && e.done();
});
}, a.flow = function(e) {
var t, n, i, r, o, a, s, l = this.internal, c = [], d = l.getMaxDataCount(), h = 0, p = 0;
if (e.json) n = l.convertJsonToData(e.json, e.keys); else if (e.rows) n = l.convertRowsToData(e.rows); else {
if (!e.columns) return;
n = l.convertColumnsToData(e.columns);
}
t = l.convertDataToTargets(n, !0), l.data.targets.forEach(function(e) {
var n, i, r = !1;
for (n = 0; n < t.length; n++) if (e.id === t[n].id) {
for (r = !0, e.values[e.values.length - 1] && (p = e.values[e.values.length - 1].index + 1), h = t[n].values.length, i = 0; i < h; i++) t[n].values[i].index = p + i, l.isTimeSeries() || (t[n].values[i].x = p + i);
e.values = e.values.concat(t[n].values), t.splice(n, 1);
break;
}
r || c.push(e.id);
}), l.data.targets.forEach(function(e) {
var t, n;
for (t = 0; t < c.length; t++) if (e.id === c[t]) for (p = e.values[e.values.length - 1].index + 1, n = 0; n < h; n++) e.values.push({
id: e.id,
index: p + n,
x: l.isTimeSeries() ? l.getOtherTargetX(p + n) : p + n,
value: null
});
}), l.data.targets.length && t.forEach(function(e) {
var t, n = [];
for (t = l.data.targets[0].values[0].index; t < p; t++) n.push({
id: e.id,
index: t,
x: l.isTimeSeries() ? l.getOtherTargetX(t) : t,
value: null
});
e.values.forEach(function(e) {
e.index += p, l.isTimeSeries() || (e.x += p);
}), e.values = n.concat(e.values);
}), l.data.targets = l.data.targets.concat(t), l.getMaxDataCount(), o = (r = l.data.targets[0]).values[0], f(e.to) ? (h = 0, s = l.isTimeSeries() ? l.parseDate(e.to) : e.to, r.values.forEach(function(e) {
e.x < s && h++;
})) : f(e.length) && (h = e.length), d ? 1 === d && l.isTimeSeries() && (a = (r.values[r.values.length - 1].x - o.x) / 2, i = [ new Date(+o.x - a), new Date(+o.x + a) ], l.updateXDomain(null, !0, !0, !1, i)) : (a = l.isTimeSeries() ? r.values.length > 1 ? r.values[r.values.length - 1].x - o.x : o.x - l.getXDomain(l.data.targets)[0] : 1, i = [ o.x - a, o.x ], l.updateXDomain(null, !0, !0, !1, i)), l.updateTargets(l.data.targets), l.redraw({
flow: {
index: o.index,
length: h,
duration: u(e.duration) ? e.duration : l.config.transition_duration,
done: e.done,
orgDataCount: d
},
withLegend: !0,
withTransition: d > 1,
withTrimXDomain: !1,
withUpdateXAxis: !0
});
}, s.generateFlow = function(e) {
var t = this, n = t.config, i = t.d3;
return function() {
var r, o, a, s = e.targets, l = e.flow, u = e.drawBar, d = e.drawLine, h = e.drawArea, p = e.cx, f = e.cy, g = e.xv, m = e.xForText, y = e.yForText, b = e.duration, w = 1, x = l.index, C = l.length, _ = t.getValueOnIndex(t.data.targets[0].values, x), S = t.getValueOnIndex(t.data.targets[0].values, x + C), $ = t.x.domain(), A = l.duration || b, k = l.done || function() {}, E = t.generateWait(), T = t.xgrid || i.selectAll([]), D = t.xgridLines || i.selectAll([]), F = t.mainRegion || i.selectAll([]), M = t.mainText || i.selectAll([]), I = t.mainBar || i.selectAll([]), L = t.mainLine || i.selectAll([]), P = t.mainArea || i.selectAll([]), O = t.mainCircle || i.selectAll([]);
t.flowing = !0, t.data.targets.forEach(function(e) {
e.values.splice(0, C);
}), a = t.updateXDomain(s, !0, !0), t.updateXGrid && t.updateXGrid(!0), l.orgDataCount ? r = 1 === l.orgDataCount || (_ && _.x) === (S && S.x) ? t.x($[0]) - t.x(a[0]) : t.isTimeSeries() ? t.x($[0]) - t.x(a[0]) : t.x(_.x) - t.x(S.x) : 1 !== t.data.targets[0].values.length ? r = t.x($[0]) - t.x(a[0]) : t.isTimeSeries() ? (_ = t.getValueOnIndex(t.data.targets[0].values, 0), S = t.getValueOnIndex(t.data.targets[0].values, t.data.targets[0].values.length - 1), r = t.x(_.x) - t.x(S.x)) : r = v(a) / 2, w = v($) / v(a), o = "translate(" + r + ",0) scale(" + w + ",1)", t.hideXGridFocus(), i.transition().ease("linear").duration(A).each(function() {
E.add(t.axes.x.transition().call(t.xAxis)), E.add(I.transition().attr("transform", o)), E.add(L.transition().attr("transform", o)), E.add(P.transition().attr("transform", o)), E.add(O.transition().attr("transform", o)), E.add(M.transition().attr("transform", o)), E.add(F.filter(t.isRegionOnX).transition().attr("transform", o)), E.add(T.transition().attr("transform", o)), E.add(D.transition().attr("transform", o));
}).call(E, function() {
var e, i = [], r = [], o = [];
if (C) {
for (e = 0; e < C; e++) i.push("." + c.shape + "-" + (x + e)), r.push("." + c.text + "-" + (x + e)), o.push("." + c.eventRect + "-" + (x + e));
t.svg.selectAll("." + c.shapes).selectAll(i).remove(), t.svg.selectAll("." + c.texts).selectAll(r).remove(), t.svg.selectAll("." + c.eventRects).selectAll(o).remove(), t.svg.select("." + c.xgrid).remove();
}
T.attr("transform", null).attr(t.xgridAttr), D.attr("transform", null), D.select("line").attr("x1", n.axis_rotated ? 0 : g).attr("x2", n.axis_rotated ? t.width : g), D.select("text").attr("x", n.axis_rotated ? t.width : 0).attr("y", g), I.attr("transform", null).attr("d", u), L.attr("transform", null).attr("d", d), P.attr("transform", null).attr("d", h), O.attr("transform", null).attr("cx", p).attr("cy", f), M.attr("transform", null).attr("x", m).attr("y", y).style("fill-opacity", t.opacityForText.bind(t)), F.attr("transform", null), F.select("rect").filter(t.isRegionOnX).attr("x", t.regionX.bind(t)).attr("width", t.regionWidth.bind(t)), n.interaction_enabled && t.redrawEventRect(), k(), t.flowing = !1;
});
};
}, a.selected = function(e) {
var t = this.internal, n = t.d3;
return n.merge(t.main.selectAll("." + c.shapes + t.getTargetSelectorSuffix(e)).selectAll("." + c.shape).filter(function() {
return n.select(this).classed(c.SELECTED);
}).map(function(e) {
return e.map(function(e) {
var t = e.__data__;
return t.data ? t.data : t;
});
}));
}, a.select = function(e, t, n) {
var i = this.internal, r = i.d3, o = i.config;
o.data_selection_enabled && i.main.selectAll("." + c.shapes).selectAll("." + c.shape).each(function(a, s) {
var l = r.select(this), u = a.data ? a.data.id : a.id, d = i.getToggle(this, a).bind(i), h = o.data_selection_grouped || !e || e.indexOf(u) >= 0, p = !t || t.indexOf(s) >= 0, g = l.classed(c.SELECTED);
l.classed(c.line) || l.classed(c.area) || (h && p ? o.data_selection_isselectable(a) && !g && d(!0, l.classed(c.SELECTED, !0), a, s) : f(n) && n && g && d(!1, l.classed(c.SELECTED, !1), a, s));
});
}, a.unselect = function(e, t) {
var n = this.internal, i = n.d3, r = n.config;
r.data_selection_enabled && n.main.selectAll("." + c.shapes).selectAll("." + c.shape).each(function(o, a) {
var s = i.select(this), l = o.data ? o.data.id : o.id, u = n.getToggle(this, o).bind(n), d = r.data_selection_grouped || !e || e.indexOf(l) >= 0, h = !t || t.indexOf(a) >= 0, p = s.classed(c.SELECTED);
s.classed(c.line) || s.classed(c.area) || d && h && r.data_selection_isselectable(o) && p && u(!1, s.classed(c.SELECTED, !1), o, a);
});
}, a.transform = function(e, t) {
var n = this.internal, i = [ "pie", "donut" ].indexOf(e) >= 0 ? {
withTransform: !0
} : null;
n.transformTo(t, e, i);
}, s.transformTo = function(e, t, n) {
var i = this, r = !i.hasArcType(), o = n || {
withTransitionForAxis: r
};
o.withTransitionForTransform = !1, i.transiting = !1, i.setTargetType(e, t), i.updateTargets(i.data.targets), i.updateAndRedraw(o);
}, a.groups = function(e) {
var t = this.internal, n = t.config;
return p(e) ? n.data_groups : (n.data_groups = e, t.redraw(), n.data_groups);
}, a.xgrids = function(e) {
var t = this.internal, n = t.config;
return e ? (n.grid_x_lines = e, t.redrawWithoutRescale(), n.grid_x_lines) : n.grid_x_lines;
}, a.xgrids.add = function(e) {
var t = this.internal;
return this.xgrids(t.config.grid_x_lines.concat(e || []));
}, a.xgrids.remove = function(e) {
this.internal.removeGridLines(e, !0);
}, a.ygrids = function(e) {
var t = this.internal, n = t.config;
return e ? (n.grid_y_lines = e, t.redrawWithoutRescale(), n.grid_y_lines) : n.grid_y_lines;
}, a.ygrids.add = function(e) {
var t = this.internal;
return this.ygrids(t.config.grid_y_lines.concat(e || []));
}, a.ygrids.remove = function(e) {
this.internal.removeGridLines(e, !1);
}, a.regions = function(e) {
var t = this.internal, n = t.config;
return e ? (n.regions = e, t.redrawWithoutRescale(), n.regions) : n.regions;
}, a.regions.add = function(e) {
var t = this.internal, n = t.config;
return e ? (n.regions = n.regions.concat(e), t.redrawWithoutRescale(), n.regions) : n.regions;
}, a.regions.remove = function(e) {
var t, n, i, r = this.internal, o = r.config;
return e = e || {}, t = r.getOption(e, "duration", o.transition_duration), n = r.getOption(e, "classes", [ c.region ]), i = r.main.select("." + c.regions).selectAll(n.map(function(e) {
return "." + e;
})), (t ? i.transition().duration(t) : i).style("opacity", 0).remove(), o.regions = o.regions.filter(function(e) {
var t = !1;
return !e.class || (e.class.split(" ").forEach(function(e) {
n.indexOf(e) >= 0 && (t = !0);
}), !t);
}), o.regions;
}, a.data = function(e) {
var t = this.internal.data.targets;
return void 0 === e ? t : t.filter(function(t) {
return [].concat(e).indexOf(t.id) >= 0;
});
}, a.data.shown = function(e) {
return this.internal.filterTargetsToShow(this.data(e));
}, a.data.values = function(e) {
var t, n = null;
return e && (n = (t = this.data(e))[0] ? t[0].values.map(function(e) {
return e.value;
}) : null), n;
}, a.data.names = function(e) {
return this.internal.clearLegendItemTextBoxCache(), this.internal.updateDataAttributes("names", e);
}, a.data.colors = function(e) {
return this.internal.updateDataAttributes("colors", e);
}, a.data.axes = function(e) {
return this.internal.updateDataAttributes("axes", e);
}, a.category = function(e, t) {
var n = this.internal, i = n.config;
return arguments.length > 1 && (i.axis_x_categories[e] = t, n.redraw()), i.axis_x_categories[e];
}, a.categories = function(e) {
var t = this.internal, n = t.config;
return arguments.length ? (n.axis_x_categories = e, t.redraw(), n.axis_x_categories) : n.axis_x_categories;
}, a.color = function(e) {
return this.internal.color(e);
}, a.x = function(e) {
var t = this.internal;
return arguments.length && (t.updateTargetX(t.data.targets, e), t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0
})), t.data.xs;
}, a.xs = function(e) {
var t = this.internal;
return arguments.length && (t.updateTargetXs(t.data.targets, e), t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0
})), t.data.xs;
}, a.axis = function() {}, a.axis.labels = function(e) {
var t = this.internal;
arguments.length && (Object.keys(e).forEach(function(n) {
t.axis.setLabelText(n, e[n]);
}), t.axis.updateLabels());
}, a.axis.max = function(e) {
var t = this.internal, n = t.config;
if (!arguments.length) return {
x: n.axis_x_max,
y: n.axis_y_max,
y2: n.axis_y2_max
};
"object" == typeof e ? (u(e.x) && (n.axis_x_max = e.x), u(e.y) && (n.axis_y_max = e.y), u(e.y2) && (n.axis_y2_max = e.y2)) : n.axis_y_max = n.axis_y2_max = e, t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0
});
}, a.axis.min = function(e) {
var t = this.internal, n = t.config;
if (!arguments.length) return {
x: n.axis_x_min,
y: n.axis_y_min,
y2: n.axis_y2_min
};
"object" == typeof e ? (u(e.x) && (n.axis_x_min = e.x), u(e.y) && (n.axis_y_min = e.y), u(e.y2) && (n.axis_y2_min = e.y2)) : n.axis_y_min = n.axis_y2_min = e, t.redraw({
withUpdateOrgXDomain: !0,
withUpdateXDomain: !0
});
}, a.axis.range = function(e) {
if (!arguments.length) return {
max: this.axis.max(),
min: this.axis.min()
};
f(e.max) && this.axis.max(e.max), f(e.min) && this.axis.min(e.min);
}, a.legend = function() {}, a.legend.show = function(e) {
var t = this.internal;
t.showLegend(t.mapToTargetIds(e)), t.updateAndRedraw({
withLegend: !0
});
}, a.legend.hide = function(e) {
var t = this.internal;
t.hideLegend(t.mapToTargetIds(e)), t.updateAndRedraw({
withLegend: !0
});
}, a.resize = function(e) {
var t = this.internal.config;
t.size_width = e ? e.width : null, t.size_height = e ? e.height : null, this.flush();
}, a.flush = function() {
this.internal.updateAndRedraw({
withLegend: !0,
withTransition: !1,
withTransitionForTransform: !1
});
}, a.destroy = function() {
var t = this.internal;
if (e.clearInterval(t.intervalForObserveInserted), void 0 !== t.resizeTimeout && e.clearTimeout(t.resizeTimeout), e.detachEvent) e.detachEvent("onresize", t.resizeFunction); else if (e.removeEventListener) e.removeEventListener("resize", t.resizeFunction); else {
var n = e.onresize;
n && n.add && n.remove && n.remove(t.resizeFunction);
}
return t.selectChart.classed("c3", !1).html(""), Object.keys(t).forEach(function(e) {
t[e] = null;
}), null;
}, a.tooltip = function() {}, a.tooltip.show = function(e) {
var t, n, i = this.internal;
e.mouse && (n = e.mouse), e.data ? i.isMultipleX() ? (n = [ i.x(e.data.x), i.getYScale(e.data.id)(e.data.value) ], t = null) : t = u(e.data.index) ? e.data.index : i.getIndexByX(e.data.x) : void 0 !== e.x ? t = i.getIndexByX(e.x) : void 0 !== e.index && (t = e.index), i.dispatchEvent("mouseover", t, n), i.dispatchEvent("mousemove", t, n), i.config.tooltip_onshow.call(i, e.data);
}, a.tooltip.hide = function() {
this.internal.dispatchEvent("mouseout", 0), this.internal.config.tooltip_onhide.call(this);
};
var S;
s.isSafari = function() {
var t = e.navigator.userAgent;
return t.indexOf("Safari") >= 0 && t.indexOf("Chrome") < 0;
}, s.isChrome = function() {
return e.navigator.userAgent.indexOf("Chrome") >= 0;
}, Function.prototype.bind || (Function.prototype.bind = function(e) {
if ("function" != typeof this) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
var t = Array.prototype.slice.call(arguments, 1), n = this, i = function() {}, r = function() {
return n.apply(this instanceof i ? this : e, t.concat(Array.prototype.slice.call(arguments)));
};
return i.prototype = this.prototype, r.prototype = new i(), r;
}), "SVGPathSeg" in e || (e.SVGPathSeg = function(e, t, n) {
this.pathSegType = e, this.pathSegTypeAsLetter = t, this._owningPathSegList = n;
}, SVGPathSeg.PATHSEG_UNKNOWN = 0, SVGPathSeg.PATHSEG_CLOSEPATH = 1, SVGPathSeg.PATHSEG_MOVETO_ABS = 2, SVGPathSeg.PATHSEG_MOVETO_REL = 3, SVGPathSeg.PATHSEG_LINETO_ABS = 4, SVGPathSeg.PATHSEG_LINETO_REL = 5, SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6, SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9, SVGPathSeg.PATHSEG_ARC_ABS = 10, SVGPathSeg.PATHSEG_ARC_REL = 11, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13, SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14, SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19, SVGPathSeg.prototype._segmentChanged = function() {
this._owningPathSegList && this._owningPathSegList.segmentChanged(this);
}, e.SVGPathSegClosePath = function(e) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CLOSEPATH, "z", e);
}, SVGPathSegClosePath.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegClosePath.prototype.toString = function() {
return "[object SVGPathSegClosePath]";
}, SVGPathSegClosePath.prototype._asPathString = function() {
return this.pathSegTypeAsLetter;
}, SVGPathSegClosePath.prototype.clone = function() {
return new SVGPathSegClosePath(void 0);
}, e.SVGPathSegMovetoAbs = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_MOVETO_ABS, "M", e), this._x = t, this._y = n;
}, SVGPathSegMovetoAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegMovetoAbs.prototype.toString = function() {
return "[object SVGPathSegMovetoAbs]";
}, SVGPathSegMovetoAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegMovetoAbs.prototype.clone = function() {
return new SVGPathSegMovetoAbs(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegMovetoAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegMovetoAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegMovetoRel = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_MOVETO_REL, "m", e), this._x = t, this._y = n;
}, SVGPathSegMovetoRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegMovetoRel.prototype.toString = function() {
return "[object SVGPathSegMovetoRel]";
}, SVGPathSegMovetoRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegMovetoRel.prototype.clone = function() {
return new SVGPathSegMovetoRel(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegMovetoRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegMovetoRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoAbs = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_ABS, "L", e), this._x = t, this._y = n;
}, SVGPathSegLinetoAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoAbs.prototype.toString = function() {
return "[object SVGPathSegLinetoAbs]";
}, SVGPathSegLinetoAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegLinetoAbs.prototype.clone = function() {
return new SVGPathSegLinetoAbs(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegLinetoAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegLinetoAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoRel = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_REL, "l", e), this._x = t, this._y = n;
}, SVGPathSegLinetoRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoRel.prototype.toString = function() {
return "[object SVGPathSegLinetoRel]";
}, SVGPathSegLinetoRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegLinetoRel.prototype.clone = function() {
return new SVGPathSegLinetoRel(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegLinetoRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegLinetoRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoCubicAbs = function(e, t, n, i, r, o, a) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, "C", e), this._x = t, this._y = n, this._x1 = i, this._y1 = r, this._x2 = o, this._y2 = a;
}, SVGPathSegCurvetoCubicAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicAbs.prototype.toString = function() {
return "[object SVGPathSegCurvetoCubicAbs]";
}, SVGPathSegCurvetoCubicAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoCubicAbs.prototype.clone = function() {
return new SVGPathSegCurvetoCubicAbs(void 0, this._x, this._y, this._x1, this._y1, this._x2, this._y2);
}, Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x1", {
get: function() {
return this._x1;
},
set: function(e) {
this._x1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y1", {
get: function() {
return this._y1;
},
set: function(e) {
this._y1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x2", {
get: function() {
return this._x2;
},
set: function(e) {
this._x2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y2", {
get: function() {
return this._y2;
},
set: function(e) {
this._y2 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoCubicRel = function(e, t, n, i, r, o, a) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, "c", e), this._x = t, this._y = n, this._x1 = i, this._y1 = r, this._x2 = o, this._y2 = a;
}, SVGPathSegCurvetoCubicRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicRel.prototype.toString = function() {
return "[object SVGPathSegCurvetoCubicRel]";
}, SVGPathSegCurvetoCubicRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoCubicRel.prototype.clone = function() {
return new SVGPathSegCurvetoCubicRel(void 0, this._x, this._y, this._x1, this._y1, this._x2, this._y2);
}, Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x1", {
get: function() {
return this._x1;
},
set: function(e) {
this._x1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y1", {
get: function() {
return this._y1;
},
set: function(e) {
this._y1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x2", {
get: function() {
return this._x2;
},
set: function(e) {
this._x2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y2", {
get: function() {
return this._y2;
},
set: function(e) {
this._y2 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoQuadraticAbs = function(e, t, n, i, r) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, "Q", e), this._x = t, this._y = n, this._x1 = i, this._y1 = r;
}, SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticAbs.prototype.toString = function() {
return "[object SVGPathSegCurvetoQuadraticAbs]";
}, SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoQuadraticAbs.prototype.clone = function() {
return new SVGPathSegCurvetoQuadraticAbs(void 0, this._x, this._y, this._x1, this._y1);
}, Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "x1", {
get: function() {
return this._x1;
},
set: function(e) {
this._x1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "y1", {
get: function() {
return this._y1;
},
set: function(e) {
this._y1 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoQuadraticRel = function(e, t, n, i, r) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, "q", e), this._x = t, this._y = n, this._x1 = i, this._y1 = r;
}, SVGPathSegCurvetoQuadraticRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticRel.prototype.toString = function() {
return "[object SVGPathSegCurvetoQuadraticRel]";
}, SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoQuadraticRel.prototype.clone = function() {
return new SVGPathSegCurvetoQuadraticRel(void 0, this._x, this._y, this._x1, this._y1);
}, Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "x1", {
get: function() {
return this._x1;
},
set: function(e) {
this._x1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "y1", {
get: function() {
return this._y1;
},
set: function(e) {
this._y1 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegArcAbs = function(e, t, n, i, r, o, a, s) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_ARC_ABS, "A", e), this._x = t, this._y = n, this._r1 = i, this._r2 = r, this._angle = o, this._largeArcFlag = a, this._sweepFlag = s;
}, SVGPathSegArcAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegArcAbs.prototype.toString = function() {
return "[object SVGPathSegArcAbs]";
}, SVGPathSegArcAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._r1 + " " + this._r2 + " " + this._angle + " " + (this._largeArcFlag ? "1" : "0") + " " + (this._sweepFlag ? "1" : "0") + " " + this._x + " " + this._y;
}, SVGPathSegArcAbs.prototype.clone = function() {
return new SVGPathSegArcAbs(void 0, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);
}, Object.defineProperty(SVGPathSegArcAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "r1", {
get: function() {
return this._r1;
},
set: function(e) {
this._r1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "r2", {
get: function() {
return this._r2;
},
set: function(e) {
this._r2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "angle", {
get: function() {
return this._angle;
},
set: function(e) {
this._angle = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "largeArcFlag", {
get: function() {
return this._largeArcFlag;
},
set: function(e) {
this._largeArcFlag = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcAbs.prototype, "sweepFlag", {
get: function() {
return this._sweepFlag;
},
set: function(e) {
this._sweepFlag = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegArcRel = function(e, t, n, i, r, o, a, s) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_ARC_REL, "a", e), this._x = t, this._y = n, this._r1 = i, this._r2 = r, this._angle = o, this._largeArcFlag = a, this._sweepFlag = s;
}, SVGPathSegArcRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegArcRel.prototype.toString = function() {
return "[object SVGPathSegArcRel]";
}, SVGPathSegArcRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._r1 + " " + this._r2 + " " + this._angle + " " + (this._largeArcFlag ? "1" : "0") + " " + (this._sweepFlag ? "1" : "0") + " " + this._x + " " + this._y;
}, SVGPathSegArcRel.prototype.clone = function() {
return new SVGPathSegArcRel(void 0, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);
}, Object.defineProperty(SVGPathSegArcRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "r1", {
get: function() {
return this._r1;
},
set: function(e) {
this._r1 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "r2", {
get: function() {
return this._r2;
},
set: function(e) {
this._r2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "angle", {
get: function() {
return this._angle;
},
set: function(e) {
this._angle = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "largeArcFlag", {
get: function() {
return this._largeArcFlag;
},
set: function(e) {
this._largeArcFlag = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegArcRel.prototype, "sweepFlag", {
get: function() {
return this._sweepFlag;
},
set: function(e) {
this._sweepFlag = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoHorizontalAbs = function(e, t) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, "H", e), this._x = t;
}, SVGPathSegLinetoHorizontalAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoHorizontalAbs.prototype.toString = function() {
return "[object SVGPathSegLinetoHorizontalAbs]";
}, SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x;
}, SVGPathSegLinetoHorizontalAbs.prototype.clone = function() {
return new SVGPathSegLinetoHorizontalAbs(void 0, this._x);
}, Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoHorizontalRel = function(e, t) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, "h", e), this._x = t;
}, SVGPathSegLinetoHorizontalRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoHorizontalRel.prototype.toString = function() {
return "[object SVGPathSegLinetoHorizontalRel]";
}, SVGPathSegLinetoHorizontalRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x;
}, SVGPathSegLinetoHorizontalRel.prototype.clone = function() {
return new SVGPathSegLinetoHorizontalRel(void 0, this._x);
}, Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoVerticalAbs = function(e, t) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, "V", e), this._y = t;
}, SVGPathSegLinetoVerticalAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoVerticalAbs.prototype.toString = function() {
return "[object SVGPathSegLinetoVerticalAbs]";
}, SVGPathSegLinetoVerticalAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._y;
}, SVGPathSegLinetoVerticalAbs.prototype.clone = function() {
return new SVGPathSegLinetoVerticalAbs(void 0, this._y);
}, Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegLinetoVerticalRel = function(e, t) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, "v", e), this._y = t;
}, SVGPathSegLinetoVerticalRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoVerticalRel.prototype.toString = function() {
return "[object SVGPathSegLinetoVerticalRel]";
}, SVGPathSegLinetoVerticalRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._y;
}, SVGPathSegLinetoVerticalRel.prototype.clone = function() {
return new SVGPathSegLinetoVerticalRel(void 0, this._y);
}, Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoCubicSmoothAbs = function(e, t, n, i, r) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, "S", e), this._x = t, this._y = n, this._x2 = i, this._y2 = r;
}, SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function() {
return "[object SVGPathSegCurvetoCubicSmoothAbs]";
}, SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function() {
return new SVGPathSegCurvetoCubicSmoothAbs(void 0, this._x, this._y, this._x2, this._y2);
}, Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "x2", {
get: function() {
return this._x2;
},
set: function(e) {
this._x2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "y2", {
get: function() {
return this._y2;
},
set: function(e) {
this._y2 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoCubicSmoothRel = function(e, t, n, i, r) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, "s", e), this._x = t, this._y = n, this._x2 = i, this._y2 = r;
}, SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function() {
return "[object SVGPathSegCurvetoCubicSmoothRel]";
}, SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function() {
return new SVGPathSegCurvetoCubicSmoothRel(void 0, this._x, this._y, this._x2, this._y2);
}, Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "x2", {
get: function() {
return this._x2;
},
set: function(e) {
this._x2 = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "y2", {
get: function() {
return this._y2;
},
set: function(e) {
this._y2 = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoQuadraticSmoothAbs = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, "T", e), this._x = t, this._y = n;
}, SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function() {
return "[object SVGPathSegCurvetoQuadraticSmoothAbs]";
}, SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function() {
return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), e.SVGPathSegCurvetoQuadraticSmoothRel = function(e, t, n) {
SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, "t", e), this._x = t, this._y = n;
}, SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function() {
return "[object SVGPathSegCurvetoQuadraticSmoothRel]";
}, SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function() {
return this.pathSegTypeAsLetter + " " + this._x + " " + this._y;
}, SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function() {
return new SVGPathSegCurvetoQuadraticSmoothRel(void 0, this._x, this._y);
}, Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype, "x", {
get: function() {
return this._x;
},
set: function(e) {
this._x = e, this._segmentChanged();
},
enumerable: !0
}), Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype, "y", {
get: function() {
return this._y;
},
set: function(e) {
this._y = e, this._segmentChanged();
},
enumerable: !0
}), SVGPathElement.prototype.createSVGPathSegClosePath = function() {
return new SVGPathSegClosePath(void 0);
}, SVGPathElement.prototype.createSVGPathSegMovetoAbs = function(e, t) {
return new SVGPathSegMovetoAbs(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegMovetoRel = function(e, t) {
return new SVGPathSegMovetoRel(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegLinetoAbs = function(e, t) {
return new SVGPathSegLinetoAbs(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegLinetoRel = function(e, t) {
return new SVGPathSegLinetoRel(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function(e, t, n, i, r, o) {
return new SVGPathSegCurvetoCubicAbs(void 0, e, t, n, i, r, o);
}, SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function(e, t, n, i, r, o) {
return new SVGPathSegCurvetoCubicRel(void 0, e, t, n, i, r, o);
}, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function(e, t, n, i) {
return new SVGPathSegCurvetoQuadraticAbs(void 0, e, t, n, i);
}, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function(e, t, n, i) {
return new SVGPathSegCurvetoQuadraticRel(void 0, e, t, n, i);
}, SVGPathElement.prototype.createSVGPathSegArcAbs = function(e, t, n, i, r, o, a) {
return new SVGPathSegArcAbs(void 0, e, t, n, i, r, o, a);
}, SVGPathElement.prototype.createSVGPathSegArcRel = function(e, t, n, i, r, o, a) {
return new SVGPathSegArcRel(void 0, e, t, n, i, r, o, a);
}, SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function(e) {
return new SVGPathSegLinetoHorizontalAbs(void 0, e);
}, SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function(e) {
return new SVGPathSegLinetoHorizontalRel(void 0, e);
}, SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function(e) {
return new SVGPathSegLinetoVerticalAbs(void 0, e);
}, SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function(e) {
return new SVGPathSegLinetoVerticalRel(void 0, e);
}, SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function(e, t, n, i) {
return new SVGPathSegCurvetoCubicSmoothAbs(void 0, e, t, n, i);
}, SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function(e, t, n, i) {
return new SVGPathSegCurvetoCubicSmoothRel(void 0, e, t, n, i);
}, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function(e, t) {
return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0, e, t);
}, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function(e, t) {
return new SVGPathSegCurvetoQuadraticSmoothRel(void 0, e, t);
}), "SVGPathSegList" in e || (e.SVGPathSegList = function(e) {
this._pathElement = e, this._list = this._parsePath(this._pathElement.getAttribute("d")), this._mutationObserverConfig = {
attributes: !0,
attributeFilter: [ "d" ]
}, this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this)), this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
}, Object.defineProperty(SVGPathSegList.prototype, "numberOfItems", {
get: function() {
return this._checkPathSynchronizedToList(), this._list.length;
},
enumerable: !0
}), Object.defineProperty(SVGPathElement.prototype, "pathSegList", {
get: function() {
return this._pathSegList || (this._pathSegList = new SVGPathSegList(this)), this._pathSegList;
},
enumerable: !0
}), Object.defineProperty(SVGPathElement.prototype, "normalizedPathSegList", {
get: function() {
return this.pathSegList;
},
enumerable: !0
}), Object.defineProperty(SVGPathElement.prototype, "animatedPathSegList", {
get: function() {
return this.pathSegList;
},
enumerable: !0
}), Object.defineProperty(SVGPathElement.prototype, "animatedNormalizedPathSegList", {
get: function() {
return this.pathSegList;
},
enumerable: !0
}), SVGPathSegList.prototype._checkPathSynchronizedToList = function() {
this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());
}, SVGPathSegList.prototype._updateListFromPathMutations = function(e) {
if (this._pathElement) {
var t = !1;
e.forEach(function(e) {
"d" == e.attributeName && (t = !0);
}), t && (this._list = this._parsePath(this._pathElement.getAttribute("d")));
}
}, SVGPathSegList.prototype._writeListToPath = function() {
this._pathElementMutationObserver.disconnect(), this._pathElement.setAttribute("d", SVGPathSegList._pathSegArrayAsString(this._list)), this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
}, SVGPathSegList.prototype.segmentChanged = function(e) {
this._writeListToPath();
}, SVGPathSegList.prototype.clear = function() {
this._checkPathSynchronizedToList(), this._list.forEach(function(e) {
e._owningPathSegList = null;
}), this._list = [], this._writeListToPath();
}, SVGPathSegList.prototype.initialize = function(e) {
return this._checkPathSynchronizedToList(), this._list = [ e ], e._owningPathSegList = this, this._writeListToPath(), e;
}, SVGPathSegList.prototype._checkValidIndex = function(e) {
if (isNaN(e) || e < 0 || e >= this.numberOfItems) throw "INDEX_SIZE_ERR";
}, SVGPathSegList.prototype.getItem = function(e) {
return this._checkPathSynchronizedToList(), this._checkValidIndex(e), this._list[e];
}, SVGPathSegList.prototype.insertItemBefore = function(e, t) {
return this._checkPathSynchronizedToList(), t > this.numberOfItems && (t = this.numberOfItems), e._owningPathSegList && (e = e.clone()), this._list.splice(t, 0, e), e._owningPathSegList = this, this._writeListToPath(), e;
}, SVGPathSegList.prototype.replaceItem = function(e, t) {
return this._checkPathSynchronizedToList(), e._owningPathSegList && (e = e.clone()), this._checkValidIndex(t), this._list[t] = e, e._owningPathSegList = this, this._writeListToPath(), e;
}, SVGPathSegList.prototype.removeItem = function(e) {
this._checkPathSynchronizedToList(), this._checkValidIndex(e);
var t = this._list[e];
return this._list.splice(e, 1), this._writeListToPath(), t;
}, SVGPathSegList.prototype.appendItem = function(e) {
return this._checkPathSynchronizedToList(), e._owningPathSegList && (e = e.clone()), this._list.push(e), e._owningPathSegList = this, this._writeListToPath(), e;
}, SVGPathSegList._pathSegArrayAsString = function(e) {
var t = "", n = !0;
return e.forEach(function(e) {
n ? (n = !1, t += e._asPathString()) : t += " " + e._asPathString();
}), t;
}, SVGPathSegList.prototype._parsePath = function(e) {
if (!e || 0 == e.length) return [];
var t = this, n = function() {
this.pathSegList = [];
};
n.prototype.appendSegment = function(e) {
this.pathSegList.push(e);
};
var i = function(e) {
this._string = e, this._currentIndex = 0, this._endIndex = this._string.length, this._previousCommand = SVGPathSeg.PATHSEG_UNKNOWN, this._skipOptionalSpaces();
};
i.prototype._isCurrentSpace = function() {
var e = this._string[this._currentIndex];
return e <= " " && (" " == e || "\n" == e || "\t" == e || "\r" == e || "\f" == e);
}, i.prototype._skipOptionalSpaces = function() {
for (;this._currentIndex < this._endIndex && this._isCurrentSpace(); ) this._currentIndex++;
return this._currentIndex < this._endIndex;
}, i.prototype._skipOptionalSpacesOrDelimiter = function() {
return !(this._currentIndex < this._endIndex && !this._isCurrentSpace() && "," != this._string.charAt(this._currentIndex)) && (this._skipOptionalSpaces() && this._currentIndex < this._endIndex && "," == this._string.charAt(this._currentIndex) && (this._currentIndex++, this._skipOptionalSpaces()), this._currentIndex < this._endIndex);
}, i.prototype.hasMoreData = function() {
return this._currentIndex < this._endIndex;
}, i.prototype.peekSegmentType = function() {
var e = this._string[this._currentIndex];
return this._pathSegTypeFromChar(e);
}, i.prototype._pathSegTypeFromChar = function(e) {
switch (e) {
case "Z":
case "z":
return SVGPathSeg.PATHSEG_CLOSEPATH;

case "M":
return SVGPathSeg.PATHSEG_MOVETO_ABS;

case "m":
return SVGPathSeg.PATHSEG_MOVETO_REL;

case "L":
return SVGPathSeg.PATHSEG_LINETO_ABS;

case "l":
return SVGPathSeg.PATHSEG_LINETO_REL;

case "C":
return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;

case "c":
return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;

case "Q":
return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;

case "q":
return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;

case "A":
return SVGPathSeg.PATHSEG_ARC_ABS;

case "a":
return SVGPathSeg.PATHSEG_ARC_REL;

case "H":
return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;

case "h":
return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;

case "V":
return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;

case "v":
return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;

case "S":
return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;

case "s":
return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;

case "T":
return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;

case "t":
return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;

default:
return SVGPathSeg.PATHSEG_UNKNOWN;
}
}, i.prototype._nextCommandHelper = function(e, t) {
return ("+" == e || "-" == e || "." == e || e >= "0" && e <= "9") && t != SVGPathSeg.PATHSEG_CLOSEPATH ? t == SVGPathSeg.PATHSEG_MOVETO_ABS ? SVGPathSeg.PATHSEG_LINETO_ABS : t == SVGPathSeg.PATHSEG_MOVETO_REL ? SVGPathSeg.PATHSEG_LINETO_REL : t : SVGPathSeg.PATHSEG_UNKNOWN;
}, i.prototype.initialCommandIsMoveTo = function() {
if (!this.hasMoreData()) return !0;
var e = this.peekSegmentType();
return e == SVGPathSeg.PATHSEG_MOVETO_ABS || e == SVGPathSeg.PATHSEG_MOVETO_REL;
}, i.prototype._parseNumber = function() {
var e = 0, t = 0, n = 1, i = 0, r = 1, o = 1, a = this._currentIndex;
if (this._skipOptionalSpaces(), this._currentIndex < this._endIndex && "+" == this._string.charAt(this._currentIndex) ? this._currentIndex++ : this._currentIndex < this._endIndex && "-" == this._string.charAt(this._currentIndex) && (this._currentIndex++, r = -1), !(this._currentIndex == this._endIndex || (this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") && "." != this._string.charAt(this._currentIndex))) {
for (var s = this._currentIndex; this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9"; ) this._currentIndex++;
if (this._currentIndex != s) for (var l = this._currentIndex - 1, c = 1; l >= s; ) t += c * (this._string.charAt(l--) - "0"), c *= 10;
if (this._currentIndex < this._endIndex && "." == this._string.charAt(this._currentIndex)) {
if (++this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") return;
for (;this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9"; ) i += (this._string.charAt(this._currentIndex++) - "0") * (n *= .1);
}
if (this._currentIndex != a && this._currentIndex + 1 < this._endIndex && ("e" == this._string.charAt(this._currentIndex) || "E" == this._string.charAt(this._currentIndex)) && "x" != this._string.charAt(this._currentIndex + 1) && "m" != this._string.charAt(this._currentIndex + 1)) {
if (this._currentIndex++, "+" == this._string.charAt(this._currentIndex) ? this._currentIndex++ : "-" == this._string.charAt(this._currentIndex) && (this._currentIndex++, o = -1), this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") return;
for (;this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9"; ) e *= 10, e += this._string.charAt(this._currentIndex) - "0", this._currentIndex++;
}
var u = t + i;
if (u *= r, e && (u *= Math.pow(10, o * e)), a != this._currentIndex) return this._skipOptionalSpacesOrDelimiter(), u;
}
}, i.prototype._parseArcFlag = function() {
if (!(this._currentIndex >= this._endIndex)) {
var e = !1, t = this._string.charAt(this._currentIndex++);
if ("0" == t) e = !1; else {
if ("1" != t) return;
e = !0;
}
return this._skipOptionalSpacesOrDelimiter(), e;
}
}, i.prototype.parseSegment = function() {
var e = this._string[this._currentIndex], n = this._pathSegTypeFromChar(e);
if (n == SVGPathSeg.PATHSEG_UNKNOWN) {
if (this._previousCommand == SVGPathSeg.PATHSEG_UNKNOWN) return null;
if ((n = this._nextCommandHelper(e, this._previousCommand)) == SVGPathSeg.PATHSEG_UNKNOWN) return null;
} else this._currentIndex++;
switch (this._previousCommand = n, n) {
case SVGPathSeg.PATHSEG_MOVETO_REL:
return new SVGPathSegMovetoRel(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_MOVETO_ABS:
return new SVGPathSegMovetoAbs(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_REL:
return new SVGPathSegLinetoRel(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_ABS:
return new SVGPathSegLinetoAbs(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:
return new SVGPathSegLinetoHorizontalRel(t, this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:
return new SVGPathSegLinetoHorizontalAbs(t, this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:
return new SVGPathSegLinetoVerticalRel(t, this._parseNumber());

case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:
return new SVGPathSegLinetoVerticalAbs(t, this._parseNumber());

case SVGPathSeg.PATHSEG_CLOSEPATH:
return this._skipOptionalSpaces(), new SVGPathSegClosePath(t);

case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
x2: this._parseNumber(),
y2: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoCubicRel(t, i.x, i.y, i.x1, i.y1, i.x2, i.y2);

case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
x2: this._parseNumber(),
y2: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoCubicAbs(t, i.x, i.y, i.x1, i.y1, i.x2, i.y2);

case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:
i = {
x2: this._parseNumber(),
y2: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoCubicSmoothRel(t, i.x, i.y, i.x2, i.y2);

case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:
i = {
x2: this._parseNumber(),
y2: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoCubicSmoothAbs(t, i.x, i.y, i.x2, i.y2);

case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoQuadraticRel(t, i.x, i.y, i.x1, i.y1);

case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegCurvetoQuadraticAbs(t, i.x, i.y, i.x1, i.y1);

case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:
return new SVGPathSegCurvetoQuadraticSmoothRel(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:
return new SVGPathSegCurvetoQuadraticSmoothAbs(t, this._parseNumber(), this._parseNumber());

case SVGPathSeg.PATHSEG_ARC_REL:
i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
arcAngle: this._parseNumber(),
arcLarge: this._parseArcFlag(),
arcSweep: this._parseArcFlag(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegArcRel(t, i.x, i.y, i.x1, i.y1, i.arcAngle, i.arcLarge, i.arcSweep);

case SVGPathSeg.PATHSEG_ARC_ABS:
var i = {
x1: this._parseNumber(),
y1: this._parseNumber(),
arcAngle: this._parseNumber(),
arcLarge: this._parseArcFlag(),
arcSweep: this._parseArcFlag(),
x: this._parseNumber(),
y: this._parseNumber()
};
return new SVGPathSegArcAbs(t, i.x, i.y, i.x1, i.y1, i.arcAngle, i.arcLarge, i.arcSweep);

default:
throw "Unknown path seg type.";
}
};
var r = new n(), o = new i(e);
if (!o.initialCommandIsMoveTo()) return [];
for (;o.hasMoreData(); ) {
var a = o.parseSegment();
if (!a) return [];
r.appendSegment(a);
}
return r.pathSegList;
}), "function" == typeof define && define.amd ? define("c3", [ "d3" ], function() {
return l;
}) : "undefined" != typeof exports && "undefined" != typeof module ? module.exports = l : e.c3 = l;
}(window), function(e) {
"use strict";
"function" == typeof define && define.amd ? define([ "jquery" ], function(t) {
return e(t, window, document);
}) : "object" == typeof exports ? module.exports = function(t, n) {
return t || (t = window), n || (n = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), e(n, t, t.document);
} : e(jQuery, window, document);
}(function(e, t, n, i) {
"use strict";
function r(t) {
var n, i, o = {};
e.each(t, function(e, a) {
(n = e.match(/^([^A-Z]+?)([A-Z])/)) && -1 !== "a aa ai ao as b fn i m o s ".indexOf(n[1] + " ") && (i = e.replace(n[0], n[2].toLowerCase()), o[i] = e, "o" === n[1] && r(t[e]));
}), t._hungarianMap = o;
}
function o(t, n, a) {
t._hungarianMap || r(t);
var s;
e.each(n, function(r, l) {
(s = t._hungarianMap[r]) === i || !a && n[s] !== i || ("o" === s.charAt(0) ? (n[s] || (n[s] = {}), e.extend(!0, n[s], n[r]), o(t[s], n[s], a)) : n[s] = n[r]);
});
}
function a(e) {
var t = Ge.defaults.oLanguage, n = e.sZeroRecords;
!e.sEmptyTable && n && "No data available in table" === t.sEmptyTable && Fe(e, e, "sZeroRecords", "sEmptyTable"), !e.sLoadingRecords && n && "Loading..." === t.sLoadingRecords && Fe(e, e, "sZeroRecords", "sLoadingRecords"), e.sInfoThousands && (e.sThousands = e.sInfoThousands);
var i = e.sDecimal;
i && je(i);
}
function s(e) {
ht(e, "ordering", "bSort"), ht(e, "orderMulti", "bSortMulti"), ht(e, "orderClasses", "bSortClasses"), ht(e, "orderCellsTop", "bSortCellsTop"), ht(e, "order", "aaSorting"), ht(e, "orderFixed", "aaSortingFixed"), ht(e, "paging", "bPaginate"), ht(e, "pagingType", "sPaginationType"), ht(e, "pageLength", "iDisplayLength"), ht(e, "searching", "bFilter"), "boolean" == typeof e.sScrollX && (e.sScrollX = e.sScrollX ? "100%" : ""), "boolean" == typeof e.scrollX && (e.scrollX = e.scrollX ? "100%" : "");
var t = e.aoSearchCols;
if (t) for (var n = 0, i = t.length; n < i; n++) t[n] && o(Ge.models.oSearch, t[n]);
}
function l(t) {
ht(t, "orderable", "bSortable"), ht(t, "orderData", "aDataSort"), ht(t, "orderSequence", "asSorting"), ht(t, "orderDataType", "sortDataType");
var n = t.aDataSort;
"number" != typeof n || e.isArray(n) || (t.aDataSort = [ n ]);
}
function c(n) {
if (!Ge.__browser) {
var i = {};
Ge.__browser = i;
var r = e("<div/>").css({
position: "fixed",
top: 0,
left: -1 * e(t).scrollLeft(),
height: 1,
width: 1,
overflow: "hidden"
}).append(e("<div/>").css({
position: "absolute",
top: 1,
left: 1,
width: 100,
overflow: "scroll"
}).append(e("<div/>").css({
width: "100%",
height: 10
}))).appendTo("body"), o = r.children(), a = o.children();
i.barWidth = o[0].offsetWidth - o[0].clientWidth, i.bScrollOversize = 100 === a[0].offsetWidth && 100 !== o[0].clientWidth, i.bScrollbarLeft = 1 !== Math.round(a.offset().left), i.bBounding = !!r[0].getBoundingClientRect().width, r.remove();
}
e.extend(n.oBrowser, Ge.__browser), n.oScroll.iBarWidth = Ge.__browser.barWidth;
}
function u(e, t, n, r, o, a) {
var s, l = r, c = !1;
for (n !== i && (s = n, c = !0); l !== o; ) e.hasOwnProperty(l) && (s = c ? t(s, e[l], l, e) : e[l], c = !0, l += a);
return s;
}
function d(t, i) {
var r = Ge.defaults.column, o = t.aoColumns.length, a = e.extend({}, Ge.models.oColumn, r, {
nTh: i || n.createElement("th"),
sTitle: r.sTitle ? r.sTitle : i ? i.innerHTML : "",
aDataSort: r.aDataSort ? r.aDataSort : [ o ],
mData: r.mData ? r.mData : o,
idx: o
});
t.aoColumns.push(a);
var s = t.aoPreSearchCols;
s[o] = e.extend({}, Ge.models.oSearch, s[o]), h(t, o, e(i).data());
}
function h(t, n, r) {
var a = t.aoColumns[n], s = t.oClasses, c = e(a.nTh);
if (!a.sWidthOrig) {
a.sWidthOrig = c.attr("width") || null;
var u = (c.attr("style") || "").match(/width:\s*(\d+[pxem%]+)/);
u && (a.sWidthOrig = u[1]);
}
r !== i && null !== r && (l(r), o(Ge.defaults.column, r), r.mDataProp === i || r.mData || (r.mData = r.mDataProp), r.sType && (a._sManualType = r.sType), r.className && !r.sClass && (r.sClass = r.className), e.extend(a, r), Fe(a, r, "sWidth", "sWidthOrig"), r.iDataSort !== i && (a.aDataSort = [ r.iDataSort ]), Fe(a, r, "aDataSort"));
var d = a.mData, h = $(d), p = a.mRender ? $(a.mRender) : null, f = function(e) {
return "string" == typeof e && -1 !== e.indexOf("@");
};
a._bAttrSrc = e.isPlainObject(d) && (f(d.sort) || f(d.type) || f(d.filter)), a._setter = null, a.fnGetData = function(e, t, n) {
var r = h(e, t, i, n);
return p && t ? p(r, t, e, n) : r;
}, a.fnSetData = function(e, t, n) {
return A(d)(e, t, n);
}, "number" != typeof d && (t._rowReadObject = !0), t.oFeatures.bSort || (a.bSortable = !1, c.addClass(s.sSortableNone));
var g = -1 !== e.inArray("asc", a.asSorting), m = -1 !== e.inArray("desc", a.asSorting);
a.bSortable && (g || m) ? g && !m ? (a.sSortingClass = s.sSortableAsc, a.sSortingClassJUI = s.sSortJUIAscAllowed) : !g && m ? (a.sSortingClass = s.sSortableDesc, a.sSortingClassJUI = s.sSortJUIDescAllowed) : (a.sSortingClass = s.sSortable, a.sSortingClassJUI = s.sSortJUI) : (a.sSortingClass = s.sSortableNone, a.sSortingClassJUI = "");
}
function p(e) {
if (!1 !== e.oFeatures.bAutoWidth) {
var t = e.aoColumns;
ge(e);
for (var n = 0, i = t.length; n < i; n++) t[n].nTh.style.width = t[n].sWidth;
}
var r = e.oScroll;
"" === r.sY && "" === r.sX || pe(e), Pe(e, null, "column-sizing", [ e ]);
}
function f(e, t) {
var n = v(e, "bVisible");
return "number" == typeof n[t] ? n[t] : null;
}
function g(t, n) {
var i = v(t, "bVisible"), r = e.inArray(n, i);
return -1 !== r ? r : null;
}
function m(t) {
var n = 0;
return e.each(t.aoColumns, function(t, i) {
i.bVisible && "none" !== e(i.nTh).css("display") && n++;
}), n;
}
function v(t, n) {
var i = [];
return e.map(t.aoColumns, function(e, t) {
e[n] && i.push(t);
}), i;
}
function y(e) {
var t, n, r, o, a, s, l, c, u, d = e.aoColumns, h = e.aoData, p = Ge.ext.type.detect;
for (t = 0, n = d.length; t < n; t++) if (l = d[t], u = [], !l.sType && l._sManualType) l.sType = l._sManualType; else if (!l.sType) {
for (r = 0, o = p.length; r < o; r++) {
for (a = 0, s = h.length; a < s && (u[a] === i && (u[a] = C(e, a, t, "type")), (c = p[r](u[a], e)) || r === p.length - 1) && "html" !== c; a++) ;
if (c) {
l.sType = c;
break;
}
}
l.sType || (l.sType = "string");
}
}
function b(t, n, r, o) {
var a, s, l, c, u, h, p, f = t.aoColumns;
if (n) for (a = n.length - 1; a >= 0; a--) {
var g = (p = n[a]).targets !== i ? p.targets : p.aTargets;
for (e.isArray(g) || (g = [ g ]), l = 0, c = g.length; l < c; l++) if ("number" == typeof g[l] && g[l] >= 0) {
for (;f.length <= g[l]; ) d(t);
o(g[l], p);
} else if ("number" == typeof g[l] && g[l] < 0) o(f.length + g[l], p); else if ("string" == typeof g[l]) for (u = 0, h = f.length; u < h; u++) ("_all" == g[l] || e(f[u].nTh).hasClass(g[l])) && o(u, p);
}
if (r) for (a = 0, s = r.length; a < s; a++) o(a, r[a]);
}
function w(t, n, r, o) {
var a = t.aoData.length, s = e.extend(!0, {}, Ge.models.oRow, {
src: r ? "dom" : "data",
idx: a
});
s._aData = n, t.aoData.push(s);
for (var l = t.aoColumns, c = 0, u = l.length; c < u; c++) l[c].sType = null;
t.aiDisplayMaster.push(a);
var d = t.rowIdFn(n);
return d !== i && (t.aIds[d] = s), !r && t.oFeatures.bDeferRender || M(t, a, r, o), a;
}
function x(t, n) {
var i;
return n instanceof e || (n = e(n)), n.map(function(e, n) {
return i = F(t, n), w(t, i.data, n, i.cells);
});
}
function C(e, t, n, r) {
var o = e.iDraw, a = e.aoColumns[n], s = e.aoData[t]._aData, l = a.sDefaultContent, c = a.fnGetData(s, r, {
settings: e,
row: t,
col: n
});
if (c === i) return e.iDrawError != o && null === l && (De(e, 0, "Requested unknown parameter " + ("function" == typeof a.mData ? "{function}" : "'" + a.mData + "'") + " for row " + t + ", column " + n, 4), e.iDrawError = o), l;
if (c !== s && null !== c || null === l || r === i) {
if ("function" == typeof c) return c.call(s);
} else c = l;
return null === c && "display" == r ? "" : c;
}
function _(e, t, n, i) {
var r = e.aoColumns[n], o = e.aoData[t]._aData;
r.fnSetData(o, i, {
settings: e,
row: t,
col: n
});
}
function S(t) {
return e.map(t.match(/(\\.|[^\.])+/g) || [ "" ], function(e) {
return e.replace(/\\\./g, ".");
});
}
function $(t) {
if (e.isPlainObject(t)) {
var n = {};
return e.each(t, function(e, t) {
t && (n[e] = $(t));
}), function(e, t, r, o) {
var a = n[t] || n._;
return a !== i ? a(e, t, r, o) : e;
};
}
if (null === t) return function(e) {
return e;
};
if ("function" == typeof t) return function(e, n, i, r) {
return t(e, n, i, r);
};
if ("string" != typeof t || -1 === t.indexOf(".") && -1 === t.indexOf("[") && -1 === t.indexOf("(")) return function(e, n) {
return e[t];
};
var r = function(t, n, o) {
var a, s, l, c;
if ("" !== o) for (var u = S(o), d = 0, h = u.length; d < h; d++) {
if (a = u[d].match(pt), s = u[d].match(ft), a) {
if (u[d] = u[d].replace(pt, ""), "" !== u[d] && (t = t[u[d]]), l = [], u.splice(0, d + 1), c = u.join("."), e.isArray(t)) for (var p = 0, f = t.length; p < f; p++) l.push(r(t[p], n, c));
var g = a[0].substring(1, a[0].length - 1);
t = "" === g ? l : l.join(g);
break;
}
if (s) u[d] = u[d].replace(ft, ""), t = t[u[d]](); else {
if (null === t || t[u[d]] === i) return i;
t = t[u[d]];
}
}
return t;
};
return function(e, n) {
return r(e, n, t);
};
}
function A(t) {
if (e.isPlainObject(t)) return A(t._);
if (null === t) return function() {};
if ("function" == typeof t) return function(e, n, i) {
t(e, "set", n, i);
};
if ("string" != typeof t || -1 === t.indexOf(".") && -1 === t.indexOf("[") && -1 === t.indexOf("(")) return function(e, n) {
e[t] = n;
};
var n = function(t, r, o) {
for (var a, s, l, c, u, d = S(o), h = d[d.length - 1], p = 0, f = d.length - 1; p < f; p++) {
if (s = d[p].match(pt), l = d[p].match(ft), s) {
if (d[p] = d[p].replace(pt, ""), t[d[p]] = [], (a = d.slice()).splice(0, p + 1), u = a.join("."), e.isArray(r)) for (var g = 0, m = r.length; g < m; g++) n(c = {}, r[g], u), t[d[p]].push(c); else t[d[p]] = r;
return;
}
l && (d[p] = d[p].replace(ft, ""), t = t[d[p]](r)), null !== t[d[p]] && t[d[p]] !== i || (t[d[p]] = {}), t = t[d[p]];
}
h.match(ft) ? t = t[h.replace(ft, "")](r) : t[h.replace(pt, "")] = r;
};
return function(e, i) {
return n(e, i, t);
};
}
function k(e) {
return ot(e.aoData, "_aData");
}
function E(e) {
e.aoData.length = 0, e.aiDisplayMaster.length = 0, e.aiDisplay.length = 0, e.aIds = {};
}
function T(e, t, n) {
for (var r = -1, o = 0, a = e.length; o < a; o++) e[o] == t ? r = o : e[o] > t && e[o]--;
-1 != r && n === i && e.splice(r, 1);
}
function D(e, t, n, r) {
var o, a, s = e.aoData[t], l = function(n, i) {
for (;n.childNodes.length; ) n.removeChild(n.firstChild);
n.innerHTML = C(e, t, i, "display");
};
if ("dom" !== n && (n && "auto" !== n || "dom" !== s.src)) {
var c = s.anCells;
if (c) if (r !== i) l(c[r], r); else for (o = 0, a = c.length; o < a; o++) l(c[o], o);
} else s._aData = F(e, s, r, r === i ? i : s._aData).data;
s._aSortData = null, s._aFilterData = null;
var u = e.aoColumns;
if (r !== i) u[r].sType = null; else {
for (o = 0, a = u.length; o < a; o++) u[o].sType = null;
I(e, s);
}
}
function F(t, n, r, o) {
var a, s, l, c = [], u = n.firstChild, d = 0, h = t.aoColumns, p = t._rowReadObject;
o = o !== i ? o : p ? {} : [];
var f = function(e, t) {
if ("string" == typeof e) {
var n = e.indexOf("@");
if (-1 !== n) {
var i = e.substring(n + 1);
A(e)(o, t.getAttribute(i));
}
}
}, g = function(t) {
r !== i && r !== d || (s = h[d], l = e.trim(t.innerHTML), s && s._bAttrSrc ? (A(s.mData._)(o, l), f(s.mData.sort, t), f(s.mData.type, t), f(s.mData.filter, t)) : p ? (s._setter || (s._setter = A(s.mData)), s._setter(o, l)) : o[d] = l), d++;
};
if (u) for (;u; ) "TD" != (a = u.nodeName.toUpperCase()) && "TH" != a || (g(u), c.push(u)), u = u.nextSibling; else for (var m = 0, v = (c = n.anCells).length; m < v; m++) g(c[m]);
var y = n.firstChild ? n : n.nTr;
if (y) {
var b = y.getAttribute("id");
b && A(t.rowId)(o, b);
}
return {
data: o,
cells: c
};
}
function M(t, i, r, o) {
var a, s, l, c, u, d = t.aoData[i], h = d._aData, p = [];
if (null === d.nTr) {
for (a = r || n.createElement("tr"), d.nTr = a, d.anCells = p, a._DT_RowIndex = i, I(t, d), c = 0, u = t.aoColumns.length; c < u; c++) l = t.aoColumns[c], (s = r ? o[c] : n.createElement(l.sCellType))._DT_CellIndex = {
row: i,
column: c
}, p.push(s), r && !l.mRender && l.mData === c || e.isPlainObject(l.mData) && l.mData._ === c + ".display" || (s.innerHTML = C(t, i, c, "display")), l.sClass && (s.className += " " + l.sClass), l.bVisible && !r ? a.appendChild(s) : !l.bVisible && r && s.parentNode.removeChild(s), l.fnCreatedCell && l.fnCreatedCell.call(t.oInstance, s, C(t, i, c), h, i, c);
Pe(t, "aoRowCreatedCallback", null, [ a, h, i ]);
}
d.nTr.setAttribute("role", "row");
}
function I(t, n) {
var i = n.nTr, r = n._aData;
if (i) {
var o = t.rowIdFn(r);
if (o && (i.id = o), r.DT_RowClass) {
var a = r.DT_RowClass.split(" ");
n.__rowc = n.__rowc ? dt(n.__rowc.concat(a)) : a, e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass);
}
r.DT_RowAttr && e(i).attr(r.DT_RowAttr), r.DT_RowData && e(i).data(r.DT_RowData);
}
}
function L(t) {
var n, i, r, o, a, s = t.nTHead, l = t.nTFoot, c = 0 === e("th, td", s).length, u = t.oClasses, d = t.aoColumns;
for (c && (o = e("<tr/>").appendTo(s)), n = 0, i = d.length; n < i; n++) a = d[n], r = e(a.nTh).addClass(a.sClass), c && r.appendTo(o), t.oFeatures.bSort && (r.addClass(a.sSortingClass), !1 !== a.bSortable && (r.attr("tabindex", t.iTabIndex).attr("aria-controls", t.sTableId), Se(t, a.nTh, n))), a.sTitle != r[0].innerHTML && r.html(a.sTitle), Re(t, "header")(t, r, a, u);
if (c && N(t.aoHeader, s), e(s).find(">tr").attr("role", "row"), e(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH), e(l).find(">tr>th, >tr>td").addClass(u.sFooterTH), null !== l) {
var h = t.aoFooter[0];
for (n = 0, i = h.length; n < i; n++) (a = d[n]).nTf = h[n].cell, a.sClass && e(a.nTf).addClass(a.sClass);
}
}
function P(t, n, r) {
var o, a, s, l, c, u, d, h, p, f = [], g = [], m = t.aoColumns.length;
if (n) {
for (r === i && (r = !1), o = 0, a = n.length; o < a; o++) {
for (f[o] = n[o].slice(), f[o].nTr = n[o].nTr, s = m - 1; s >= 0; s--) t.aoColumns[s].bVisible || r || f[o].splice(s, 1);
g.push([]);
}
for (o = 0, a = f.length; o < a; o++) {
if (d = f[o].nTr) for (;u = d.firstChild; ) d.removeChild(u);
for (s = 0, l = f[o].length; s < l; s++) if (h = 1, p = 1, g[o][s] === i) {
for (d.appendChild(f[o][s].cell), g[o][s] = 1; f[o + h] !== i && f[o][s].cell == f[o + h][s].cell; ) g[o + h][s] = 1, h++;
for (;f[o][s + p] !== i && f[o][s].cell == f[o][s + p].cell; ) {
for (c = 0; c < h; c++) g[o + c][s + p] = 1;
p++;
}
e(f[o][s].cell).attr("rowspan", h).attr("colspan", p);
}
}
}
}
function O(t) {
var n = Pe(t, "aoPreDrawCallback", "preDraw", [ t ]);
if (-1 === e.inArray(!1, n)) {
var r = [], o = 0, a = t.asStripeClasses, s = a.length, l = (t.aoOpenRows.length, t.oLanguage), c = t.iInitDisplayStart, u = "ssp" == Be(t), d = t.aiDisplay;
t.bDrawing = !0, c !== i && -1 !== c && (t._iDisplayStart = u ? c : c >= t.fnRecordsDisplay() ? 0 : c, t.iInitDisplayStart = -1);
var h = t._iDisplayStart, p = t.fnDisplayEnd();
if (t.bDeferLoading) t.bDeferLoading = !1, t.iDraw++, de(t, !1); else if (u) {
if (!t.bDestroying && !V(t)) return;
} else t.iDraw++;
if (0 !== d.length) for (var f = u ? 0 : h, g = u ? t.aoData.length : p, v = f; v < g; v++) {
var y = d[v], b = t.aoData[y];
null === b.nTr && M(t, y);
var w = b.nTr;
if (0 !== s) {
var x = a[o % s];
b._sRowStripe != x && (e(w).removeClass(b._sRowStripe).addClass(x), b._sRowStripe = x);
}
Pe(t, "aoRowCallback", null, [ w, b._aData, o, v ]), r.push(w), o++;
} else {
var C = l.sZeroRecords;
1 == t.iDraw && "ajax" == Be(t) ? C = l.sLoadingRecords : l.sEmptyTable && 0 === t.fnRecordsTotal() && (C = l.sEmptyTable), r[0] = e("<tr/>", {
class: s ? a[0] : ""
}).append(e("<td />", {
valign: "top",
colSpan: m(t),
class: t.oClasses.sRowEmpty
}).html(C))[0];
}
Pe(t, "aoHeaderCallback", "header", [ e(t.nTHead).children("tr")[0], k(t), h, p, d ]), Pe(t, "aoFooterCallback", "footer", [ e(t.nTFoot).children("tr")[0], k(t), h, p, d ]);
var _ = e(t.nTBody);
_.children().detach(), _.append(e(r)), Pe(t, "aoDrawCallback", "draw", [ t ]), t.bSorted = !1, t.bFiltered = !1, t.bDrawing = !1;
} else de(t, !1);
}
function R(e, t) {
var n = e.oFeatures, i = n.bSort, r = n.bFilter;
i && xe(e), r ? q(e, e.oPreviousSearch) : e.aiDisplay = e.aiDisplayMaster.slice(), !0 !== t && (e._iDisplayStart = 0), e._drawHold = t, O(e), e._drawHold = !1;
}
function B(t) {
var n = t.oClasses, i = e(t.nTable), r = e("<div/>").insertBefore(i), o = t.oFeatures, a = e("<div/>", {
id: t.sTableId + "_wrapper",
class: n.sWrapper + (t.nTFoot ? "" : " " + n.sNoFooter)
});
t.nHolding = r[0], t.nTableWrapper = a[0], t.nTableReinsertBefore = t.nTable.nextSibling;
for (var s, l, c, u, d, h, p = t.sDom.split(""), f = 0; f < p.length; f++) {
if (s = null, "<" == (l = p[f])) {
if (c = e("<div/>")[0], "'" == (u = p[f + 1]) || '"' == u) {
for (d = "", h = 2; p[f + h] != u; ) d += p[f + h], h++;
if ("H" == d ? d = n.sJUIHeader : "F" == d && (d = n.sJUIFooter), -1 != d.indexOf(".")) {
var g = d.split(".");
c.id = g[0].substr(1, g[0].length - 1), c.className = g[1];
} else "#" == d.charAt(0) ? c.id = d.substr(1, d.length - 1) : c.className = d;
f += h;
}
a.append(c), a = e(c);
} else if (">" == l) a = a.parent(); else if ("l" == l && o.bPaginate && o.bLengthChange) s = se(t); else if ("f" == l && o.bFilter) s = G(t); else if ("r" == l && o.bProcessing) s = ue(t); else if ("t" == l) s = he(t); else if ("i" == l && o.bInfo) s = te(t); else if ("p" == l && o.bPaginate) s = le(t); else if (0 !== Ge.ext.feature.length) for (var m = Ge.ext.feature, v = 0, y = m.length; v < y; v++) if (l == m[v].cFeature) {
s = m[v].fnInit(t);
break;
}
if (s) {
var b = t.aanFeatures;
b[l] || (b[l] = []), b[l].push(s), a.append(s);
}
}
r.replaceWith(a), t.nHolding = null;
}
function N(t, n) {
var i, r, o, a, s, l, c, u, d, h, p, f = e(n).children("tr");
for (t.splice(0, t.length), o = 0, l = f.length; o < l; o++) t.push([]);
for (o = 0, l = f.length; o < l; o++) for (u = 0, r = (i = f[o]).firstChild; r; ) {
if ("TD" == r.nodeName.toUpperCase() || "TH" == r.nodeName.toUpperCase()) for (d = 1 * r.getAttribute("colspan"), h = 1 * r.getAttribute("rowspan"), d = d && 0 !== d && 1 !== d ? d : 1, h = h && 0 !== h && 1 !== h ? h : 1, c = function(e, t, n) {
for (var i = e[t]; i[n]; ) n++;
return n;
}(t, o, u), p = 1 === d, s = 0; s < d; s++) for (a = 0; a < h; a++) t[o + a][c + s] = {
cell: r,
unique: p
}, t[o + a].nTr = i;
r = r.nextSibling;
}
}
function j(e, t, n) {
var i = [];
n || (n = e.aoHeader, t && N(n = [], t));
for (var r = 0, o = n.length; r < o; r++) for (var a = 0, s = n[r].length; a < s; a++) !n[r][a].unique || i[a] && e.bSortCellsTop || (i[a] = n[r][a].cell);
return i;
}
function U(t, n, i) {
if (Pe(t, "aoServerParams", "serverParams", [ n ]), n && e.isArray(n)) {
var r = {}, o = /(.*?)\[\]$/;
e.each(n, function(e, t) {
var n = t.name.match(o);
if (n) {
var i = n[0];
r[i] || (r[i] = []), r[i].push(t.value);
} else r[t.name] = t.value;
}), n = r;
}
var a, s = t.ajax, l = t.oInstance, c = function(e) {
Pe(t, null, "xhr", [ t, e, t.jqXHR ]), i(e);
};
if (e.isPlainObject(s) && s.data) {
a = s.data;
var u = e.isFunction(a) ? a(n, t) : a;
n = e.isFunction(a) && u ? u : e.extend(!0, n, u), delete s.data;
}
var d = {
data: n,
success: function(e) {
var n = e.error || e.sError;
n && De(t, 0, n), t.json = e, c(e);
},
dataType: "json",
cache: !1,
type: t.sServerMethod,
error: function(n, i, r) {
var o = Pe(t, null, "xhr", [ t, null, t.jqXHR ]);
-1 === e.inArray(!0, o) && ("parsererror" == i ? De(t, 0, "Invalid JSON response", 1) : 4 === n.readyState && De(t, 0, "Ajax error", 7)), de(t, !1);
}
};
t.oAjaxData = n, Pe(t, null, "preXhr", [ t, n ]), t.fnServerData ? t.fnServerData.call(l, t.sAjaxSource, e.map(n, function(e, t) {
return {
name: t,
value: e
};
}), c, t) : t.sAjaxSource || "string" == typeof s ? t.jqXHR = e.ajax(e.extend(d, {
url: s || t.sAjaxSource
})) : e.isFunction(s) ? t.jqXHR = s.call(l, n, c, t) : (t.jqXHR = e.ajax(e.extend(d, s)), s.data = a);
}
function V(e) {
return !e.bAjaxDataGet || (e.iDraw++, de(e, !0), U(e, H(e), function(t) {
z(e, t);
}), !1);
}
function H(t) {
var n, i, r, o, a = t.aoColumns, s = a.length, l = t.oFeatures, c = t.oPreviousSearch, u = t.aoPreSearchCols, d = [], h = we(t), p = t._iDisplayStart, f = !1 !== l.bPaginate ? t._iDisplayLength : -1, g = function(e, t) {
d.push({
name: e,
value: t
});
};
g("sEcho", t.iDraw), g("iColumns", s), g("sColumns", ot(a, "sName").join(",")), g("iDisplayStart", p), g("iDisplayLength", f);
var m = {
draw: t.iDraw,
columns: [],
order: [],
start: p,
length: f,
search: {
value: c.sSearch,
regex: c.bRegex
}
};
for (n = 0; n < s; n++) r = a[n], o = u[n], i = "function" == typeof r.mData ? "function" : r.mData, m.columns.push({
data: i,
name: r.sName,
searchable: r.bSearchable,
orderable: r.bSortable,
search: {
value: o.sSearch,
regex: o.bRegex
}
}), g("mDataProp_" + n, i), l.bFilter && (g("sSearch_" + n, o.sSearch), g("bRegex_" + n, o.bRegex), g("bSearchable_" + n, r.bSearchable)), l.bSort && g("bSortable_" + n, r.bSortable);
l.bFilter && (g("sSearch", c.sSearch), g("bRegex", c.bRegex)), l.bSort && (e.each(h, function(e, t) {
m.order.push({
column: t.col,
dir: t.dir
}), g("iSortCol_" + e, t.col), g("sSortDir_" + e, t.dir);
}), g("iSortingCols", h.length));
var v = Ge.ext.legacy.ajax;
return null === v ? t.sAjaxSource ? d : m : v ? d : m;
}
function z(e, t) {
var n = function(e, n) {
return t[e] !== i ? t[e] : t[n];
}, r = W(e, t), o = n("sEcho", "draw"), a = n("iTotalRecords", "recordsTotal"), s = n("iTotalDisplayRecords", "recordsFiltered");
if (o) {
if (1 * o < e.iDraw) return;
e.iDraw = 1 * o;
}
E(e), e._iRecordsTotal = parseInt(a, 10), e._iRecordsDisplay = parseInt(s, 10);
for (var l = 0, c = r.length; l < c; l++) w(e, r[l]);
e.aiDisplay = e.aiDisplayMaster.slice(), e.bAjaxDataGet = !1, O(e), e._bInitComplete || oe(e, t), e.bAjaxDataGet = !0, de(e, !1);
}
function W(t, n) {
var r = e.isPlainObject(t.ajax) && t.ajax.dataSrc !== i ? t.ajax.dataSrc : t.sAjaxDataProp;
return "data" === r ? n.aaData || n[r] : "" !== r ? $(r)(n) : n;
}
function G(t) {
var i = t.oClasses, r = t.sTableId, o = t.oLanguage, a = t.oPreviousSearch, s = t.aanFeatures, l = '<input type="search" class="' + i.sFilterInput + '"/>', c = o.sSearch;
c = c.match(/_INPUT_/) ? c.replace("_INPUT_", l) : c + l;
var u = e("<div/>", {
id: s.f ? null : r + "_filter",
class: i.sFilter
}).append(e("<label/>").append(c)), d = function() {
s.f;
var e = this.value ? this.value : "";
e != a.sSearch && (q(t, {
sSearch: e,
bRegex: a.bRegex,
bSmart: a.bSmart,
bCaseInsensitive: a.bCaseInsensitive
}), t._iDisplayStart = 0, O(t));
}, h = null !== t.searchDelay ? t.searchDelay : "ssp" === Be(t) ? 400 : 0, p = e("input", u).val(a.sSearch).attr("placeholder", o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT", h ? bt(d, h) : d).on("keypress.DT", function(e) {
if (13 == e.keyCode) return !1;
}).attr("aria-controls", r);
return e(t.nTable).on("search.dt.DT", function(e, i) {
if (t === i) try {
p[0] !== n.activeElement && p.val(a.sSearch);
} catch (e) {}
}), u[0];
}
function q(e, t, n) {
var r = e.oPreviousSearch, o = e.aoPreSearchCols, a = function(e) {
r.sSearch = e.sSearch, r.bRegex = e.bRegex, r.bSmart = e.bSmart, r.bCaseInsensitive = e.bCaseInsensitive;
}, s = function(e) {
return e.bEscapeRegex !== i ? !e.bEscapeRegex : e.bRegex;
};
if (y(e), "ssp" != Be(e)) {
X(e, t.sSearch, n, s(t), t.bSmart, t.bCaseInsensitive), a(t);
for (var l = 0; l < o.length; l++) K(e, o[l].sSearch, l, s(o[l]), o[l].bSmart, o[l].bCaseInsensitive);
Y(e);
} else a(t);
e.bFiltered = !0, Pe(e, null, "search", [ e ]);
}
function Y(t) {
for (var n, i, r = Ge.ext.search, o = t.aiDisplay, a = 0, s = r.length; a < s; a++) {
for (var l = [], c = 0, u = o.length; c < u; c++) i = o[c], n = t.aoData[i], r[a](t, n._aFilterData, i, n._aData, c) && l.push(i);
o.length = 0, e.merge(o, l);
}
}
function K(e, t, n, i, r, o) {
if ("" !== t) {
for (var a, s = [], l = e.aiDisplay, c = Q(t, i, r, o), u = 0; u < l.length; u++) a = e.aoData[l[u]]._aFilterData[n], c.test(a) && s.push(l[u]);
e.aiDisplay = s;
}
}
function X(e, t, n, i, r, o) {
var a, s, l, c = Q(t, i, r, o), u = e.oPreviousSearch.sSearch, d = e.aiDisplayMaster, h = [];
if (0 !== Ge.ext.search.length && (n = !0), s = J(e), t.length <= 0) e.aiDisplay = d.slice(); else {
for ((s || n || u.length > t.length || 0 !== t.indexOf(u) || e.bSorted) && (e.aiDisplay = d.slice()), a = e.aiDisplay, l = 0; l < a.length; l++) c.test(e.aoData[a[l]]._sFilterRow) && h.push(a[l]);
e.aiDisplay = h;
}
}
function Q(t, n, i, r) {
return t = n ? t : gt(t), i && (t = "^(?=.*?" + e.map(t.match(/"[^"]+"|[^ ]+/g) || [ "" ], function(e) {
if ('"' === e.charAt(0)) {
var t = e.match(/^"(.*)"$/);
e = t ? t[1] : e;
}
return e.replace('"', "");
}).join(")(?=.*?") + ").*$"), new RegExp(t, r ? "i" : "");
}
function J(e) {
var t, n, i, r, o, a, s, l, c = e.aoColumns, u = Ge.ext.type.search, d = !1;
for (n = 0, r = e.aoData.length; n < r; n++) if (!(l = e.aoData[n])._aFilterData) {
for (a = [], i = 0, o = c.length; i < o; i++) (t = c[i]).bSearchable ? (s = C(e, n, i, "filter"), u[t.sType] && (s = u[t.sType](s)), null === s && (s = ""), "string" != typeof s && s.toString && (s = s.toString())) : s = "", s.indexOf && -1 !== s.indexOf("&") && (mt.innerHTML = s, s = vt ? mt.textContent : mt.innerText), s.replace && (s = s.replace(/[\r\n]/g, "")), a.push(s);
l._aFilterData = a, l._sFilterRow = a.join("  "), d = !0;
}
return d;
}
function Z(e) {
return {
search: e.sSearch,
smart: e.bSmart,
regex: e.bRegex,
caseInsensitive: e.bCaseInsensitive
};
}
function ee(e) {
return {
sSearch: e.search,
bSmart: e.smart,
bRegex: e.regex,
bCaseInsensitive: e.caseInsensitive
};
}
function te(t) {
var n = t.sTableId, i = t.aanFeatures.i, r = e("<div/>", {
class: t.oClasses.sInfo,
id: i ? null : n + "_info"
});
return i || (t.aoDrawCallback.push({
fn: ne,
sName: "information"
}), r.attr("role", "status").attr("aria-live", "polite"), e(t.nTable).attr("aria-describedby", n + "_info")), r[0];
}
function ne(t) {
var n = t.aanFeatures.i;
if (0 !== n.length) {
var i = t.oLanguage, r = t._iDisplayStart + 1, o = t.fnDisplayEnd(), a = t.fnRecordsTotal(), s = t.fnRecordsDisplay(), l = s ? i.sInfo : i.sInfoEmpty;
s !== a && (l += " " + i.sInfoFiltered), l = ie(t, l += i.sInfoPostFix);
var c = i.fnInfoCallback;
null !== c && (l = c.call(t.oInstance, t, r, o, a, s, l)), e(n).html(l);
}
}
function ie(e, t) {
var n = e.fnFormatNumber, i = e._iDisplayStart + 1, r = e._iDisplayLength, o = e.fnRecordsDisplay(), a = -1 === r;
return t.replace(/_START_/g, n.call(e, i)).replace(/_END_/g, n.call(e, e.fnDisplayEnd())).replace(/_MAX_/g, n.call(e, e.fnRecordsTotal())).replace(/_TOTAL_/g, n.call(e, o)).replace(/_PAGE_/g, n.call(e, a ? 1 : Math.ceil(i / r))).replace(/_PAGES_/g, n.call(e, a ? 1 : Math.ceil(o / r)));
}
function re(e) {
var t, n, i, r = e.iInitDisplayStart, o = e.aoColumns, a = e.oFeatures, s = e.bDeferLoading;
if (e.bInitialised) {
for (B(e), L(e), P(e, e.aoHeader), P(e, e.aoFooter), de(e, !0), a.bAutoWidth && ge(e), t = 0, n = o.length; t < n; t++) (i = o[t]).sWidth && (i.nTh.style.width = be(i.sWidth));
Pe(e, null, "preInit", [ e ]), R(e);
var l = Be(e);
("ssp" != l || s) && ("ajax" == l ? U(e, [], function(n) {
var i = W(e, n);
for (t = 0; t < i.length; t++) w(e, i[t]);
e.iInitDisplayStart = r, R(e), de(e, !1), oe(e, n);
}, e) : (de(e, !1), oe(e)));
} else setTimeout(function() {
re(e);
}, 200);
}
function oe(e, t) {
e._bInitComplete = !0, (t || e.oInit.aaData) && p(e), Pe(e, null, "plugin-init", [ e, t ]), Pe(e, "aoInitComplete", "init", [ e, t ]);
}
function ae(e, t) {
var n = parseInt(t, 10);
e._iDisplayLength = n, Oe(e), Pe(e, null, "length", [ e, n ]);
}
function se(t) {
for (var n = t.oClasses, i = t.sTableId, r = t.aLengthMenu, o = e.isArray(r[0]), a = o ? r[0] : r, s = o ? r[1] : r, l = e("<select/>", {
name: i + "_length",
"aria-controls": i,
class: n.sLengthSelect
}), c = 0, u = a.length; c < u; c++) l[0][c] = new Option(s[c], a[c]);
var d = e("<div><label/></div>").addClass(n.sLength);
return t.aanFeatures.l || (d[0].id = i + "_length"), d.children().append(t.oLanguage.sLengthMenu.replace("_MENU_", l[0].outerHTML)), e("select", d).val(t._iDisplayLength).on("change.DT", function(n) {
ae(t, e(this).val()), O(t);
}), e(t.nTable).on("length.dt.DT", function(n, i, r) {
t === i && e("select", d).val(r);
}), d[0];
}
function le(t) {
var n = t.sPaginationType, i = Ge.ext.pager[n], r = "function" == typeof i, o = function(e) {
O(e);
}, a = e("<div/>").addClass(t.oClasses.sPaging + n)[0], s = t.aanFeatures;
return r || i.fnInit(t, a, o), s.p || (a.id = t.sTableId + "_paginate", t.aoDrawCallback.push({
fn: function(e) {
if (r) {
var t, n, a = e._iDisplayStart, l = e._iDisplayLength, c = e.fnRecordsDisplay(), u = -1 === l, d = u ? 0 : Math.ceil(a / l), h = u ? 1 : Math.ceil(c / l), p = i(d, h);
for (t = 0, n = s.p.length; t < n; t++) Re(e, "pageButton")(e, s.p[t], t, p, d, h);
} else i.fnUpdate(e, o);
},
sName: "pagination"
})), a;
}
function ce(e, t, n) {
var i = e._iDisplayStart, r = e._iDisplayLength, o = e.fnRecordsDisplay();
0 === o || -1 === r ? i = 0 : "number" == typeof t ? (i = t * r) > o && (i = 0) : "first" == t ? i = 0 : "previous" == t ? (i = r >= 0 ? i - r : 0) < 0 && (i = 0) : "next" == t ? i + r < o && (i += r) : "last" == t ? i = Math.floor((o - 1) / r) * r : De(e, 0, "Unknown paging action: " + t, 5);
var a = e._iDisplayStart !== i;
return e._iDisplayStart = i, a && (Pe(e, null, "page", [ e ]), n && O(e)), a;
}
function ue(t) {
return e("<div/>", {
id: t.aanFeatures.r ? null : t.sTableId + "_processing",
class: t.oClasses.sProcessing
}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0];
}
function de(t, n) {
t.oFeatures.bProcessing && e(t.aanFeatures.r).css("display", n ? "block" : "none"), Pe(t, null, "processing", [ t, n ]);
}
function he(t) {
var n = e(t.nTable);
n.attr("role", "grid");
var i = t.oScroll;
if ("" === i.sX && "" === i.sY) return t.nTable;
var r = i.sX, o = i.sY, a = t.oClasses, s = n.children("caption"), l = s.length ? s[0]._captionSide : null, c = e(n[0].cloneNode(!1)), u = e(n[0].cloneNode(!1)), d = n.children("tfoot"), h = "<div/>", p = function(e) {
return e ? be(e) : null;
};
d.length || (d = null);
var f = e(h, {
class: a.sScrollWrapper
}).append(e(h, {
class: a.sScrollHead
}).css({
overflow: "hidden",
position: "relative",
border: 0,
width: r ? p(r) : "100%"
}).append(e(h, {
class: a.sScrollHeadInner
}).css({
"box-sizing": "content-box",
width: i.sXInner || "100%"
}).append(c.removeAttr("id").css("margin-left", 0).append("top" === l ? s : null).append(n.children("thead"))))).append(e(h, {
class: a.sScrollBody
}).css({
position: "relative",
overflow: "auto",
width: p(r)
}).append(n));
d && f.append(e(h, {
class: a.sScrollFoot
}).css({
overflow: "hidden",
border: 0,
width: r ? p(r) : "100%"
}).append(e(h, {
class: a.sScrollFootInner
}).append(u.removeAttr("id").css("margin-left", 0).append("bottom" === l ? s : null).append(n.children("tfoot")))));
var g = f.children(), m = g[0], v = g[1], y = d ? g[2] : null;
return r && e(v).on("scroll.DT", function(e) {
var t = this.scrollLeft;
m.scrollLeft = t, d && (y.scrollLeft = t);
}), e(v).css(o && i.bCollapse ? "max-height" : "height", o), t.nScrollHead = m, t.nScrollBody = v, t.nScrollFoot = y, t.aoDrawCallback.push({
fn: pe,
sName: "scrolling"
}), f[0];
}
function pe(t) {
var n, r, o, a, s, l, c, u, d, h = t.oScroll, g = h.sX, m = h.sXInner, v = h.sY, y = h.iBarWidth, b = e(t.nScrollHead), w = b[0].style, x = b.children("div"), C = x[0].style, _ = x.children("table"), S = t.nScrollBody, $ = e(S), A = S.style, k = e(t.nScrollFoot).children("div"), E = k.children("table"), T = e(t.nTHead), D = e(t.nTable), F = D[0], M = F.style, I = t.nTFoot ? e(t.nTFoot) : null, L = t.oBrowser, P = L.bScrollOversize, O = ot(t.aoColumns, "nTh"), R = [], B = [], N = [], U = [], V = function(e) {
var t = e.style;
t.paddingTop = "0", t.paddingBottom = "0", t.borderTopWidth = "0", t.borderBottomWidth = "0", t.height = 0;
}, H = S.scrollHeight > S.clientHeight;
if (t.scrollBarVis !== H && t.scrollBarVis !== i) return t.scrollBarVis = H, void p(t);
t.scrollBarVis = H, D.children("thead, tfoot").remove(), I && (l = I.clone().prependTo(D), r = I.find("tr"), a = l.find("tr")), s = T.clone().prependTo(D), n = T.find("tr"), o = s.find("tr"), s.find("th, td").removeAttr("tabindex"), g || (A.width = "100%", b[0].style.width = "100%"), e.each(j(t, s), function(e, n) {
c = f(t, e), n.style.width = t.aoColumns[c].sWidth;
}), I && fe(function(e) {
e.style.width = "";
}, a), d = D.outerWidth(), "" === g ? (M.width = "100%", P && (D.find("tbody").height() > S.offsetHeight || "scroll" == $.css("overflow-y")) && (M.width = be(D.outerWidth() - y)), d = D.outerWidth()) : "" !== m && (M.width = be(m), d = D.outerWidth()), fe(V, o), fe(function(t) {
N.push(t.innerHTML), R.push(be(e(t).css("width")));
}, o), fe(function(t, n) {
-1 !== e.inArray(t, O) && (t.style.width = R[n]);
}, n), e(o).height(0), I && (fe(V, a), fe(function(t) {
U.push(t.innerHTML), B.push(be(e(t).css("width")));
}, a), fe(function(e, t) {
e.style.width = B[t];
}, r), e(a).height(0)), fe(function(e, t) {
e.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">' + N[t] + "</div>", e.style.width = R[t];
}, o), I && fe(function(e, t) {
e.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">' + U[t] + "</div>", e.style.width = B[t];
}, a), D.outerWidth() < d ? (u = S.scrollHeight > S.offsetHeight || "scroll" == $.css("overflow-y") ? d + y : d, P && (S.scrollHeight > S.offsetHeight || "scroll" == $.css("overflow-y")) && (M.width = be(u - y)), "" !== g && "" === m || De(t, 1, "Possible column misalignment", 6)) : u = "100%", A.width = be(u), w.width = be(u), I && (t.nScrollFoot.style.width = be(u)), v || P && (A.height = be(F.offsetHeight + y));
var z = D.outerWidth();
_[0].style.width = be(z), C.width = be(z);
var W = D.height() > S.clientHeight || "scroll" == $.css("overflow-y"), G = "padding" + (L.bScrollbarLeft ? "Left" : "Right");
C[G] = W ? y + "px" : "0px", I && (E[0].style.width = be(z), k[0].style.width = be(z), k[0].style[G] = W ? y + "px" : "0px"), D.children("colgroup").insertBefore(D.children("thead")), $.scroll(), !t.bSorted && !t.bFiltered || t._drawHold || (S.scrollTop = 0);
}
function fe(e, t, n) {
for (var i, r, o = 0, a = 0, s = t.length; a < s; ) {
for (i = t[a].firstChild, r = n ? n[a].firstChild : null; i; ) 1 === i.nodeType && (n ? e(i, r, o) : e(i, o), o++), i = i.nextSibling, r = n ? r.nextSibling : null;
a++;
}
}
function ge(n) {
var i, r, o, a = n.nTable, s = n.aoColumns, l = n.oScroll, c = l.sY, u = l.sX, d = l.sXInner, h = s.length, g = v(n, "bVisible"), y = e("th", n.nTHead), b = a.getAttribute("width"), w = a.parentNode, x = !1, C = n.oBrowser, _ = C.bScrollOversize, S = a.style.width;
for (S && -1 !== S.indexOf("%") && (b = S), i = 0; i < g.length; i++) null !== (r = s[g[i]]).sWidth && (r.sWidth = me(r.sWidthOrig, w), x = !0);
if (_ || !x && !u && !c && h == m(n) && h == y.length) for (i = 0; i < h; i++) {
var $ = f(n, i);
null !== $ && (s[$].sWidth = be(y.eq(i).width()));
} else {
var A = e(a).clone().css("visibility", "hidden").removeAttr("id");
A.find("tbody tr").remove();
var k = e("<tr/>").appendTo(A.find("tbody"));
for (A.find("thead, tfoot").remove(), A.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()), A.find("tfoot th, tfoot td").css("width", ""), y = j(n, A.find("thead")[0]), i = 0; i < g.length; i++) r = s[g[i]], y[i].style.width = null !== r.sWidthOrig && "" !== r.sWidthOrig ? be(r.sWidthOrig) : "", r.sWidthOrig && u && e(y[i]).append(e("<div/>").css({
width: r.sWidthOrig,
margin: 0,
padding: 0,
border: 0,
height: 1
}));
if (n.aoData.length) for (i = 0; i < g.length; i++) r = s[o = g[i]], e(ve(n, o)).clone(!1).append(r.sContentPadding).appendTo(k);
e("[name]", A).removeAttr("name");
var E = e("<div/>").css(u || c ? {
position: "absolute",
top: 0,
left: 0,
height: 1,
right: 0,
overflow: "hidden"
} : {}).append(A).appendTo(w);
u && d ? A.width(d) : u ? (A.css("width", "auto"), A.removeAttr("width"), A.width() < w.clientWidth && b && A.width(w.clientWidth)) : c ? A.width(w.clientWidth) : b && A.width(b);
var T = 0;
for (i = 0; i < g.length; i++) {
var D = e(y[i]), F = D.outerWidth() - D.width(), M = C.bBounding ? Math.ceil(y[i].getBoundingClientRect().width) : D.outerWidth();
T += M, s[g[i]].sWidth = be(M - F);
}
a.style.width = be(T), E.remove();
}
if (b && (a.style.width = be(b)), (b || u) && !n._reszEvt) {
var I = function() {
e(t).on("resize.DT-" + n.sInstance, bt(function() {
p(n);
}));
};
_ ? setTimeout(I, 1e3) : I(), n._reszEvt = !0;
}
}
function me(t, i) {
if (!t) return 0;
var r = e("<div/>").css("width", be(t)).appendTo(i || n.body), o = r[0].offsetWidth;
return r.remove(), o;
}
function ve(t, n) {
var i = ye(t, n);
if (i < 0) return null;
var r = t.aoData[i];
return r.nTr ? r.anCells[n] : e("<td/>").html(C(t, i, n, "display"))[0];
}
function ye(e, t) {
for (var n, i = -1, r = -1, o = 0, a = e.aoData.length; o < a; o++) (n = (n = (n = C(e, o, t, "display") + "").replace(yt, "")).replace(/&nbsp;/g, " ")).length > i && (i = n.length, r = o);
return r;
}
function be(e) {
return null === e ? "0px" : "number" == typeof e ? e < 0 ? "0px" : e + "px" : e.match(/\d$/) ? e + "px" : e;
}
function we(t) {
var n, r, o, a, s, l, c, u = [], d = t.aoColumns, h = t.aaSortingFixed, p = e.isPlainObject(h), f = [], g = function(t) {
t.length && !e.isArray(t[0]) ? f.push(t) : e.merge(f, t);
};
for (e.isArray(h) && g(h), p && h.pre && g(h.pre), g(t.aaSorting), p && h.post && g(h.post), n = 0; n < f.length; n++) for (r = 0, o = (a = d[c = f[n][0]].aDataSort).length; r < o; r++) l = d[s = a[r]].sType || "string", f[n]._idx === i && (f[n]._idx = e.inArray(f[n][1], d[s].asSorting)), u.push({
src: c,
col: s,
dir: f[n][1],
index: f[n]._idx,
type: l,
formatter: Ge.ext.type.order[l + "-pre"]
});
return u;
}
function xe(e) {
var t, n, i, r, o, a = [], s = Ge.ext.type.order, l = e.aoData, c = (e.aoColumns, 0), u = e.aiDisplayMaster;
for (y(e), t = 0, n = (o = we(e)).length; t < n; t++) (r = o[t]).formatter && c++, Ae(e, r.col);
if ("ssp" != Be(e) && 0 !== o.length) {
for (t = 0, i = u.length; t < i; t++) a[u[t]] = t;
c === o.length ? u.sort(function(e, t) {
var n, i, r, s, c, u = o.length, d = l[e]._aSortData, h = l[t]._aSortData;
for (r = 0; r < u; r++) if (c = o[r], n = d[c.col], i = h[c.col], 0 !== (s = n < i ? -1 : n > i ? 1 : 0)) return "asc" === c.dir ? s : -s;
return n = a[e], i = a[t], n < i ? -1 : n > i ? 1 : 0;
}) : u.sort(function(e, t) {
var n, i, r, c, u, d, h = o.length, p = l[e]._aSortData, f = l[t]._aSortData;
for (r = 0; r < h; r++) if (u = o[r], n = p[u.col], i = f[u.col], d = s[u.type + "-" + u.dir] || s["string-" + u.dir], 0 !== (c = d(n, i))) return c;
return n = a[e], i = a[t], n < i ? -1 : n > i ? 1 : 0;
});
}
e.bSorted = !0;
}
function Ce(e) {
for (var t, n, i = e.aoColumns, r = we(e), o = e.oLanguage.oAria, a = 0, s = i.length; a < s; a++) {
var l = i[a], c = l.asSorting, u = l.sTitle.replace(/<.*?>/g, ""), d = l.nTh;
d.removeAttribute("aria-sort"), l.bSortable ? (r.length > 0 && r[0].col == a ? (d.setAttribute("aria-sort", "asc" == r[0].dir ? "ascending" : "descending"), n = c[r[0].index + 1] || c[0]) : n = c[0], t = u + ("asc" === n ? o.sSortAscending : o.sSortDescending)) : t = u, d.setAttribute("aria-label", t);
}
}
function _e(t, n, r, o) {
var a, s = t.aoColumns[n], l = t.aaSorting, c = s.asSorting, u = function(t, n) {
var r = t._idx;
return r === i && (r = e.inArray(t[1], c)), r + 1 < c.length ? r + 1 : n ? null : 0;
};
if ("number" == typeof l[0] && (l = t.aaSorting = [ l ]), r && t.oFeatures.bSortMulti) {
var d = e.inArray(n, ot(l, "0"));
-1 !== d ? (null === (a = u(l[d], !0)) && 1 === l.length && (a = 0), null === a ? l.splice(d, 1) : (l[d][1] = c[a], l[d]._idx = a)) : (l.push([ n, c[0], 0 ]), l[l.length - 1]._idx = 0);
} else l.length && l[0][0] == n ? (a = u(l[0]), l.length = 1, l[0][1] = c[a], l[0]._idx = a) : (l.length = 0, l.push([ n, c[0] ]), l[0]._idx = 0);
R(t), "function" == typeof o && o(t);
}
function Se(e, t, n, i) {
var r = e.aoColumns[n];
Ie(t, {}, function(t) {
!1 !== r.bSortable && (e.oFeatures.bProcessing ? (de(e, !0), setTimeout(function() {
_e(e, n, t.shiftKey, i), "ssp" !== Be(e) && de(e, !1);
}, 0)) : _e(e, n, t.shiftKey, i));
});
}
function $e(t) {
var n, i, r, o = t.aLastSort, a = t.oClasses.sSortColumn, s = we(t), l = t.oFeatures;
if (l.bSort && l.bSortClasses) {
for (n = 0, i = o.length; n < i; n++) r = o[n].src, e(ot(t.aoData, "anCells", r)).removeClass(a + (n < 2 ? n + 1 : 3));
for (n = 0, i = s.length; n < i; n++) r = s[n].src, e(ot(t.aoData, "anCells", r)).addClass(a + (n < 2 ? n + 1 : 3));
}
t.aLastSort = s;
}
function Ae(e, t) {
var n, i = e.aoColumns[t], r = Ge.ext.order[i.sSortDataType];
r && (n = r.call(e.oInstance, e, t, g(e, t)));
for (var o, a, s = Ge.ext.type.order[i.sType + "-pre"], l = 0, c = e.aoData.length; l < c; l++) (o = e.aoData[l])._aSortData || (o._aSortData = []), o._aSortData[t] && !r || (a = r ? n[l] : C(e, l, t, "sort"), o._aSortData[t] = s ? s(a) : a);
}
function ke(t) {
if (t.oFeatures.bStateSave && !t.bDestroying) {
var n = {
time: +new Date(),
start: t._iDisplayStart,
length: t._iDisplayLength,
order: e.extend(!0, [], t.aaSorting),
search: Z(t.oPreviousSearch),
columns: e.map(t.aoColumns, function(e, n) {
return {
visible: e.bVisible,
search: Z(t.aoPreSearchCols[n])
};
})
};
Pe(t, "aoStateSaveParams", "stateSaveParams", [ t, n ]), t.oSavedState = n, t.fnStateSaveCallback.call(t.oInstance, t, n);
}
}
function Ee(t, n, r) {
var o, a, s = t.aoColumns, l = function(n) {
if (n && n.time) {
var l = Pe(t, "aoStateLoadParams", "stateLoadParams", [ t, n ]);
if (-1 === e.inArray(!1, l)) {
var c = t.iStateDuration;
if (c > 0 && n.time < +new Date() - 1e3 * c) r(); else if (n.columns && s.length !== n.columns.length) r(); else {
if (t.oLoadedState = e.extend(!0, {}, n), n.start !== i && (t._iDisplayStart = n.start, t.iInitDisplayStart = n.start), n.length !== i && (t._iDisplayLength = n.length), n.order !== i && (t.aaSorting = [], e.each(n.order, function(e, n) {
t.aaSorting.push(n[0] >= s.length ? [ 0, n[1] ] : n);
})), n.search !== i && e.extend(t.oPreviousSearch, ee(n.search)), n.columns) for (o = 0, a = n.columns.length; o < a; o++) {
var u = n.columns[o];
u.visible !== i && (s[o].bVisible = u.visible), u.search !== i && e.extend(t.aoPreSearchCols[o], ee(u.search));
}
Pe(t, "aoStateLoaded", "stateLoaded", [ t, n ]), r();
}
} else r();
} else r();
};
if (t.oFeatures.bStateSave) {
var c = t.fnStateLoadCallback.call(t.oInstance, t, l);
c !== i && l(c);
} else r();
}
function Te(t) {
var n = Ge.settings, i = e.inArray(t, ot(n, "nTable"));
return -1 !== i ? n[i] : null;
}
function De(e, n, i, r) {
if (i = "DataTables warning: " + (e ? "table id=" + e.sTableId + " - " : "") + i, r && (i += ". For more information about this error, please see http://datatables.net/tn/" + r), n) t.console && console.log && console.log(i); else {
var o = Ge.ext, a = o.sErrMode || o.errMode;
if (e && Pe(e, null, "error", [ e, r, i ]), "alert" == a) alert(i); else {
if ("throw" == a) throw new Error(i);
"function" == typeof a && a(e, r, i);
}
}
}
function Fe(t, n, r, o) {
e.isArray(r) ? e.each(r, function(i, r) {
e.isArray(r) ? Fe(t, n, r[0], r[1]) : Fe(t, n, r);
}) : (o === i && (o = r), n[r] !== i && (t[o] = n[r]));
}
function Me(t, n, i) {
var r;
for (var o in n) n.hasOwnProperty(o) && (r = n[o], e.isPlainObject(r) ? (e.isPlainObject(t[o]) || (t[o] = {}), e.extend(!0, t[o], r)) : i && "data" !== o && "aaData" !== o && e.isArray(r) ? t[o] = r.slice() : t[o] = r);
return t;
}
function Ie(t, n, i) {
e(t).on("click.DT", n, function(e) {
t.blur(), i(e);
}).on("keypress.DT", n, function(e) {
13 === e.which && (e.preventDefault(), i(e));
}).on("selectstart.DT", function() {
return !1;
});
}
function Le(e, t, n, i) {
n && e[t].push({
fn: n,
sName: i
});
}
function Pe(t, n, i, r) {
var o = [];
if (n && (o = e.map(t[n].slice().reverse(), function(e, n) {
return e.fn.apply(t.oInstance, r);
})), null !== i) {
var a = e.Event(i + ".dt");
e(t.nTable).trigger(a, r), o.push(a.result);
}
return o;
}
function Oe(e) {
var t = e._iDisplayStart, n = e.fnDisplayEnd(), i = e._iDisplayLength;
t >= n && (t = n - i), t -= t % i, (-1 === i || t < 0) && (t = 0), e._iDisplayStart = t;
}
function Re(t, n) {
var i = t.renderer, r = Ge.ext.renderer[n];
return e.isPlainObject(i) && i[n] ? r[i[n]] || r._ : "string" == typeof i ? r[i] || r._ : r._;
}
function Be(e) {
return e.oFeatures.bServerSide ? "ssp" : e.ajax || e.sAjaxSource ? "ajax" : "dom";
}
function Ne(e, t) {
var n = [], i = Nt.numbers_length, r = Math.floor(i / 2);
return t <= i ? n = st(0, t) : e <= r ? ((n = st(0, i - 2)).push("ellipsis"), n.push(t - 1)) : e >= t - 1 - r ? ((n = st(t - (i - 2), t)).splice(0, 0, "ellipsis"), n.splice(0, 0, 0)) : ((n = st(e - r + 2, e + r - 1)).push("ellipsis"), n.push(t - 1), n.splice(0, 0, "ellipsis"), n.splice(0, 0, 0)), n.DT_el = "span", n;
}
function je(t) {
e.each({
num: function(e) {
return jt(e, t);
},
"num-fmt": function(e) {
return jt(e, t, Je);
},
"html-num": function(e) {
return jt(e, t, Ke);
},
"html-num-fmt": function(e) {
return jt(e, t, Ke, Je);
}
}, function(e, n) {
Ve.type.order[e + t + "-pre"] = n, e.match(/^html\-/) && (Ve.type.search[e + t] = Ve.type.search.html);
});
}
function Ue(e) {
return function() {
var t = [ Te(this[Ge.ext.iApiIndex]) ].concat(Array.prototype.slice.call(arguments));
return Ge.ext.internal[e].apply(this, t);
};
}
var Ve, He, ze, We, Ge = function(t) {
this.$ = function(e, t) {
return this.api(!0).$(e, t);
}, this._ = function(e, t) {
return this.api(!0).rows(e, t).data();
}, this.api = function(e) {
return new He(e ? Te(this[Ve.iApiIndex]) : this);
}, this.fnAddData = function(t, n) {
var r = this.api(!0), o = e.isArray(t) && (e.isArray(t[0]) || e.isPlainObject(t[0])) ? r.rows.add(t) : r.row.add(t);
return (n === i || n) && r.draw(), o.flatten().toArray();
}, this.fnAdjustColumnSizing = function(e) {
var t = this.api(!0).columns.adjust(), n = t.settings()[0], r = n.oScroll;
e === i || e ? t.draw(!1) : "" === r.sX && "" === r.sY || pe(n);
}, this.fnClearTable = function(e) {
var t = this.api(!0).clear();
(e === i || e) && t.draw();
}, this.fnClose = function(e) {
this.api(!0).row(e).child.hide();
}, this.fnDeleteRow = function(e, t, n) {
var r = this.api(!0), o = r.rows(e), a = o.settings()[0], s = a.aoData[o[0][0]];
return o.remove(), t && t.call(this, a, s), (n === i || n) && r.draw(), s;
}, this.fnDestroy = function(e) {
this.api(!0).destroy(e);
}, this.fnDraw = function(e) {
this.api(!0).draw(e);
}, this.fnFilter = function(e, t, n, r, o, a) {
var s = this.api(!0);
null === t || t === i ? s.search(e, n, r, a) : s.column(t).search(e, n, r, a), s.draw();
}, this.fnGetData = function(e, t) {
var n = this.api(!0);
if (e !== i) {
var r = e.nodeName ? e.nodeName.toLowerCase() : "";
return t !== i || "td" == r || "th" == r ? n.cell(e, t).data() : n.row(e).data() || null;
}
return n.data().toArray();
}, this.fnGetNodes = function(e) {
var t = this.api(!0);
return e !== i ? t.row(e).node() : t.rows().nodes().flatten().toArray();
}, this.fnGetPosition = function(e) {
var t = this.api(!0), n = e.nodeName.toUpperCase();
if ("TR" == n) return t.row(e).index();
if ("TD" == n || "TH" == n) {
var i = t.cell(e).index();
return [ i.row, i.columnVisible, i.column ];
}
return null;
}, this.fnIsOpen = function(e) {
return this.api(!0).row(e).child.isShown();
}, this.fnOpen = function(e, t, n) {
return this.api(!0).row(e).child(t, n).show().child()[0];
}, this.fnPageChange = function(e, t) {
var n = this.api(!0).page(e);
(t === i || t) && n.draw(!1);
}, this.fnSetColumnVis = function(e, t, n) {
var r = this.api(!0).column(e).visible(t);
(n === i || n) && r.columns.adjust().draw();
}, this.fnSettings = function() {
return Te(this[Ve.iApiIndex]);
}, this.fnSort = function(e) {
this.api(!0).order(e).draw();
}, this.fnSortListener = function(e, t, n) {
this.api(!0).order.listener(e, t, n);
}, this.fnUpdate = function(e, t, n, r, o) {
var a = this.api(!0);
return n === i || null === n ? a.row(t).data(e) : a.cell(t, n).data(e), (o === i || o) && a.columns.adjust(), (r === i || r) && a.draw(), 0;
}, this.fnVersionCheck = Ve.fnVersionCheck;
var n = this, r = t === i, u = this.length;
r && (t = {}), this.oApi = this.internal = Ve.internal;
for (var p in Ge.ext.internal) p && (this[p] = Ue(p));
return this.each(function() {
var p, f = {}, g = u > 1 ? Me(f, t, !0) : t, m = 0, v = this.getAttribute("id"), y = !1, C = Ge.defaults, _ = e(this);
if ("table" == this.nodeName.toLowerCase()) {
s(C), l(C.column), o(C, C, !0), o(C.column, C.column, !0), o(C, e.extend(g, _.data()));
var S = Ge.settings;
for (m = 0, p = S.length; m < p; m++) {
var A = S[m];
if (A.nTable == this || A.nTHead.parentNode == this || A.nTFoot && A.nTFoot.parentNode == this) {
var k = g.bRetrieve !== i ? g.bRetrieve : C.bRetrieve, E = g.bDestroy !== i ? g.bDestroy : C.bDestroy;
if (r || k) return A.oInstance;
if (E) {
A.oInstance.fnDestroy();
break;
}
return void De(A, 0, "Cannot reinitialise DataTable", 3);
}
if (A.sTableId == this.id) {
S.splice(m, 1);
break;
}
}
null !== v && "" !== v || (v = "DataTables_Table_" + Ge.ext._unique++, this.id = v);
var T = e.extend(!0, {}, Ge.models.oSettings, {
sDestroyWidth: _[0].style.width,
sInstance: v,
sTableId: v
});
T.nTable = this, T.oApi = n.internal, T.oInit = g, S.push(T), T.oInstance = 1 === n.length ? n : _.dataTable(), s(g), g.oLanguage && a(g.oLanguage), g.aLengthMenu && !g.iDisplayLength && (g.iDisplayLength = e.isArray(g.aLengthMenu[0]) ? g.aLengthMenu[0][0] : g.aLengthMenu[0]), g = Me(e.extend(!0, {}, C), g), Fe(T.oFeatures, g, [ "bPaginate", "bLengthChange", "bFilter", "bSort", "bSortMulti", "bInfo", "bProcessing", "bAutoWidth", "bSortClasses", "bServerSide", "bDeferRender" ]), Fe(T, g, [ "asStripeClasses", "ajax", "fnServerData", "fnFormatNumber", "sServerMethod", "aaSorting", "aaSortingFixed", "aLengthMenu", "sPaginationType", "sAjaxSource", "sAjaxDataProp", "iStateDuration", "sDom", "bSortCellsTop", "iTabIndex", "fnStateLoadCallback", "fnStateSaveCallback", "renderer", "searchDelay", "rowId", [ "iCookieDuration", "iStateDuration" ], [ "oSearch", "oPreviousSearch" ], [ "aoSearchCols", "aoPreSearchCols" ], [ "iDisplayLength", "_iDisplayLength" ], [ "bJQueryUI", "bJUI" ] ]), Fe(T.oScroll, g, [ [ "sScrollX", "sX" ], [ "sScrollXInner", "sXInner" ], [ "sScrollY", "sY" ], [ "bScrollCollapse", "bCollapse" ] ]), 
Fe(T.oLanguage, g, "fnInfoCallback"), Le(T, "aoDrawCallback", g.fnDrawCallback, "user"), Le(T, "aoServerParams", g.fnServerParams, "user"), Le(T, "aoStateSaveParams", g.fnStateSaveParams, "user"), Le(T, "aoStateLoadParams", g.fnStateLoadParams, "user"), Le(T, "aoStateLoaded", g.fnStateLoaded, "user"), Le(T, "aoRowCallback", g.fnRowCallback, "user"), Le(T, "aoRowCreatedCallback", g.fnCreatedRow, "user"), Le(T, "aoHeaderCallback", g.fnHeaderCallback, "user"), Le(T, "aoFooterCallback", g.fnFooterCallback, "user"), Le(T, "aoInitComplete", g.fnInitComplete, "user"), Le(T, "aoPreDrawCallback", g.fnPreDrawCallback, "user"), T.rowIdFn = $(g.rowId), c(T);
var D = T.oClasses;
if (g.bJQueryUI ? (e.extend(D, Ge.ext.oJUIClasses, g.oClasses), g.sDom === C.sDom && "lfrtip" === C.sDom && (T.sDom = '<"H"lfr>t<"F"ip>'), T.renderer ? e.isPlainObject(T.renderer) && !T.renderer.header && (T.renderer.header = "jqueryui") : T.renderer = "jqueryui") : e.extend(D, Ge.ext.classes, g.oClasses), _.addClass(D.sTable), T.iInitDisplayStart === i && (T.iInitDisplayStart = g.iDisplayStart, T._iDisplayStart = g.iDisplayStart), null !== g.iDeferLoading) {
T.bDeferLoading = !0;
var F = e.isArray(g.iDeferLoading);
T._iRecordsDisplay = F ? g.iDeferLoading[0] : g.iDeferLoading, T._iRecordsTotal = F ? g.iDeferLoading[1] : g.iDeferLoading;
}
var M = T.oLanguage;
e.extend(!0, M, g.oLanguage), M.sUrl && (e.ajax({
dataType: "json",
url: M.sUrl,
success: function(t) {
a(t), o(C.oLanguage, t), e.extend(!0, M, t), re(T);
},
error: function() {
re(T);
}
}), y = !0), null === g.asStripeClasses && (T.asStripeClasses = [ D.sStripeOdd, D.sStripeEven ]);
var I = T.asStripeClasses, L = _.children("tbody").find("tr").eq(0);
-1 !== e.inArray(!0, e.map(I, function(e, t) {
return L.hasClass(e);
})) && (e("tbody tr", this).removeClass(I.join(" ")), T.asDestroyStripes = I.slice());
var P, O = [], R = this.getElementsByTagName("thead");
if (0 !== R.length && (N(T.aoHeader, R[0]), O = j(T)), null === g.aoColumns) for (P = [], m = 0, p = O.length; m < p; m++) P.push(null); else P = g.aoColumns;
for (m = 0, p = P.length; m < p; m++) d(T, O ? O[m] : null);
if (b(T, g.aoColumnDefs, P, function(e, t) {
h(T, e, t);
}), L.length) {
var B = function(e, t) {
return null !== e.getAttribute("data-" + t) ? t : null;
};
e(L[0]).children("th, td").each(function(e, t) {
var n = T.aoColumns[e];
if (n.mData === e) {
var r = B(t, "sort") || B(t, "order"), o = B(t, "filter") || B(t, "search");
null === r && null === o || (n.mData = {
_: e + ".display",
sort: null !== r ? e + ".@data-" + r : i,
type: null !== r ? e + ".@data-" + r : i,
filter: null !== o ? e + ".@data-" + o : i
}, h(T, e));
}
});
}
var U = T.oFeatures, V = function() {
if (g.aaSorting === i) {
var t = T.aaSorting;
for (m = 0, p = t.length; m < p; m++) t[m][1] = T.aoColumns[m].asSorting[0];
}
$e(T), U.bSort && Le(T, "aoDrawCallback", function() {
if (T.bSorted) {
var t = we(T), n = {};
e.each(t, function(e, t) {
n[t.src] = t.dir;
}), Pe(T, null, "order", [ T, t, n ]), Ce(T);
}
}), Le(T, "aoDrawCallback", function() {
(T.bSorted || "ssp" === Be(T) || U.bDeferRender) && $e(T);
}, "sc");
var n = _.children("caption").each(function() {
this._captionSide = e(this).css("caption-side");
}), r = _.children("thead");
0 === r.length && (r = e("<thead/>").appendTo(_)), T.nTHead = r[0];
var o = _.children("tbody");
0 === o.length && (o = e("<tbody/>").appendTo(_)), T.nTBody = o[0];
var a = _.children("tfoot");
if (0 === a.length && n.length > 0 && ("" !== T.oScroll.sX || "" !== T.oScroll.sY) && (a = e("<tfoot/>").appendTo(_)), 0 === a.length || 0 === a.children().length ? _.addClass(D.sNoFooter) : a.length > 0 && (T.nTFoot = a[0], N(T.aoFooter, T.nTFoot)), g.aaData) for (m = 0; m < g.aaData.length; m++) w(T, g.aaData[m]); else (T.bDeferLoading || "dom" == Be(T)) && x(T, e(T.nTBody).children("tr"));
T.aiDisplay = T.aiDisplayMaster.slice(), T.bInitialised = !0, !1 === y && re(T);
};
g.bStateSave ? (U.bStateSave = !0, Le(T, "aoDrawCallback", ke, "state_save"), Ee(T, 0, V)) : V();
} else De(null, 0, "Non-table node initialisation (" + this.nodeName + ")", 2);
}), n = null, this;
}, qe = {}, Ye = /[\r\n]/g, Ke = /<.*?>/g, Xe = /^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/, Qe = new RegExp("(\\" + [ "/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^", "-" ].join("|\\") + ")", "g"), Je = /[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi, Ze = function(e) {
return !e || !0 === e || "-" === e;
}, et = function(e) {
var t = parseInt(e, 10);
return !isNaN(t) && isFinite(e) ? t : null;
}, tt = function(e, t) {
return qe[t] || (qe[t] = new RegExp(gt(t), "g")), "string" == typeof e && "." !== t ? e.replace(/\./g, "").replace(qe[t], ".") : e;
}, nt = function(e, t, n) {
var i = "string" == typeof e;
return !!Ze(e) || (t && i && (e = tt(e, t)), n && i && (e = e.replace(Je, "")), !isNaN(parseFloat(e)) && isFinite(e));
}, it = function(e) {
return Ze(e) || "string" == typeof e;
}, rt = function(e, t, n) {
return !!Ze(e) || (it(e) ? !!nt(ct(e), t, n) || null : null);
}, ot = function(e, t, n) {
var r = [], o = 0, a = e.length;
if (n !== i) for (;o < a; o++) e[o] && e[o][t] && r.push(e[o][t][n]); else for (;o < a; o++) e[o] && r.push(e[o][t]);
return r;
}, at = function(e, t, n, r) {
var o = [], a = 0, s = t.length;
if (r !== i) for (;a < s; a++) e[t[a]][n] && o.push(e[t[a]][n][r]); else for (;a < s; a++) o.push(e[t[a]][n]);
return o;
}, st = function(e, t) {
var n, r = [];
t === i ? (t = 0, n = e) : (n = t, t = e);
for (var o = t; o < n; o++) r.push(o);
return r;
}, lt = function(e) {
for (var t = [], n = 0, i = e.length; n < i; n++) e[n] && t.push(e[n]);
return t;
}, ct = function(e) {
return e.replace(Ke, "");
}, ut = function(e) {
if (e.length < 2) return !0;
for (var t = e.slice().sort(), n = t[0], i = 1, r = t.length; i < r; i++) {
if (t[i] === n) return !1;
n = t[i];
}
return !0;
}, dt = function(e) {
if (ut(e)) return e.slice();
var t, n, i, r = [], o = e.length, a = 0;
e: for (n = 0; n < o; n++) {
for (t = e[n], i = 0; i < a; i++) if (r[i] === t) continue e;
r.push(t), a++;
}
return r;
};
Ge.util = {
throttle: function(e, t) {
var n, r, o = t !== i ? t : 200;
return function() {
var t = this, a = +new Date(), s = arguments;
n && a < n + o ? (clearTimeout(r), r = setTimeout(function() {
n = i, e.apply(t, s);
}, o)) : (n = a, e.apply(t, s));
};
},
escapeRegex: function(e) {
return e.replace(Qe, "\\$1");
}
};
var ht = function(e, t, n) {
e[t] !== i && (e[n] = e[t]);
}, pt = /\[.*?\]$/, ft = /\(\)$/, gt = Ge.util.escapeRegex, mt = e("<div>")[0], vt = mt.textContent !== i, yt = /<.*?>/g, bt = Ge.util.throttle, wt = [], xt = Array.prototype, Ct = function(t) {
var n, i, r = Ge.settings, o = e.map(r, function(e, t) {
return e.nTable;
});
return t ? t.nTable && t.oApi ? [ t ] : t.nodeName && "table" === t.nodeName.toLowerCase() ? -1 !== (n = e.inArray(t, o)) ? [ r[n] ] : null : t && "function" == typeof t.settings ? t.settings().toArray() : ("string" == typeof t ? i = e(t) : t instanceof e && (i = t), i ? i.map(function(t) {
return -1 !== (n = e.inArray(this, o)) ? r[n] : null;
}).toArray() : void 0) : [];
};
He = function(t, n) {
if (!(this instanceof He)) return new He(t, n);
var i = [], r = function(e) {
var t = Ct(e);
t && (i = i.concat(t));
};
if (e.isArray(t)) for (var o = 0, a = t.length; o < a; o++) r(t[o]); else r(t);
this.context = dt(i), n && e.merge(this, n), this.selector = {
rows: null,
cols: null,
opts: null
}, He.extend(this, this, wt);
}, Ge.Api = He, e.extend(He.prototype, {
any: function() {
return 0 !== this.count();
},
concat: xt.concat,
context: [],
count: function() {
return this.flatten().length;
},
each: function(e) {
for (var t = 0, n = this.length; t < n; t++) e.call(this, this[t], t, this);
return this;
},
eq: function(e) {
var t = this.context;
return t.length > e ? new He(t[e], this[e]) : null;
},
filter: function(e) {
var t = [];
if (xt.filter) t = xt.filter.call(this, e, this); else for (var n = 0, i = this.length; n < i; n++) e.call(this, this[n], n, this) && t.push(this[n]);
return new He(this.context, t);
},
flatten: function() {
var e = [];
return new He(this.context, e.concat.apply(e, this.toArray()));
},
join: xt.join,
indexOf: xt.indexOf || function(e, t) {
for (var n = t || 0, i = this.length; n < i; n++) if (this[n] === e) return n;
return -1;
},
iterator: function(e, t, n, r) {
var o, a, s, l, c, u, d, h, p = [], f = this.context, g = this.selector;
for ("string" == typeof e && (r = n, n = t, t = e, e = !1), a = 0, s = f.length; a < s; a++) {
var m = new He(f[a]);
if ("table" === t) (o = n.call(m, f[a], a)) !== i && p.push(o); else if ("columns" === t || "rows" === t) (o = n.call(m, f[a], this[a], a)) !== i && p.push(o); else if ("column" === t || "column-rows" === t || "row" === t || "cell" === t) for (d = this[a], "column-rows" === t && (u = Et(f[a], g.opts)), l = 0, c = d.length; l < c; l++) h = d[l], (o = "cell" === t ? n.call(m, f[a], h.row, h.column, a, l) : n.call(m, f[a], h, a, l, u)) !== i && p.push(o);
}
if (p.length || r) {
var v = new He(f, e ? p.concat.apply([], p) : p), y = v.selector;
return y.rows = g.rows, y.cols = g.cols, y.opts = g.opts, v;
}
return this;
},
lastIndexOf: xt.lastIndexOf || function(e, t) {
return this.indexOf.apply(this.toArray.reverse(), arguments);
},
length: 0,
map: function(e) {
var t = [];
if (xt.map) t = xt.map.call(this, e, this); else for (var n = 0, i = this.length; n < i; n++) t.push(e.call(this, this[n], n));
return new He(this.context, t);
},
pluck: function(e) {
return this.map(function(t) {
return t[e];
});
},
pop: xt.pop,
push: xt.push,
reduce: xt.reduce || function(e, t) {
return u(this, e, t, 0, this.length, 1);
},
reduceRight: xt.reduceRight || function(e, t) {
return u(this, e, t, this.length - 1, -1, -1);
},
reverse: xt.reverse,
selector: null,
shift: xt.shift,
slice: function() {
return new He(this.context, this);
},
sort: xt.sort,
splice: xt.splice,
toArray: function() {
return xt.slice.call(this);
},
to$: function() {
return e(this);
},
toJQuery: function() {
return e(this);
},
unique: function() {
return new He(this.context, dt(this));
},
unshift: xt.unshift
}), He.extend = function(t, n, i) {
if (i.length && n && (n instanceof He || n.__dt_wrapper)) {
var r, o, a;
for (r = 0, o = i.length; r < o; r++) n[(a = i[r]).name] = "function" == typeof a.val ? function(e, t, n) {
return function() {
var i = t.apply(e, arguments);
return He.extend(i, i, n.methodExt), i;
};
}(t, a.val, a) : e.isPlainObject(a.val) ? {} : a.val, n[a.name].__dt_wrapper = !0, He.extend(t, n[a.name], a.propExt);
}
}, He.register = ze = function(t, n) {
if (e.isArray(t)) for (var i = 0, r = t.length; i < r; i++) He.register(t[i], n); else {
var o, a, s, l, c = t.split("."), u = wt;
for (o = 0, a = c.length; o < a; o++) {
var d = function(e, t) {
for (var n = 0, i = e.length; n < i; n++) if (e[n].name === t) return e[n];
return null;
}(u, s = (l = -1 !== c[o].indexOf("()")) ? c[o].replace("()", "") : c[o]);
d || (d = {
name: s,
val: {},
methodExt: [],
propExt: []
}, u.push(d)), o === a - 1 ? d.val = n : u = l ? d.methodExt : d.propExt;
}
}
}, He.registerPlural = We = function(t, n, r) {
He.register(t, r), He.register(n, function() {
var t = r.apply(this, arguments);
return t === this ? this : t instanceof He ? t.length ? e.isArray(t[0]) ? new He(t.context, t[0]) : t[0] : i : t;
});
};
var _t = function(t, n) {
if ("number" == typeof t) return [ n[t] ];
var i = e.map(n, function(e, t) {
return e.nTable;
});
return e(i).filter(t).map(function(t) {
var r = e.inArray(this, i);
return n[r];
}).toArray();
};
ze("tables()", function(e) {
return e ? new He(_t(e, this.context)) : this;
}), ze("table()", function(e) {
var t = this.tables(e), n = t.context;
return n.length ? new He(n[0]) : t;
}), We("tables().nodes()", "table().node()", function() {
return this.iterator("table", function(e) {
return e.nTable;
}, 1);
}), We("tables().body()", "table().body()", function() {
return this.iterator("table", function(e) {
return e.nTBody;
}, 1);
}), We("tables().header()", "table().header()", function() {
return this.iterator("table", function(e) {
return e.nTHead;
}, 1);
}), We("tables().footer()", "table().footer()", function() {
return this.iterator("table", function(e) {
return e.nTFoot;
}, 1);
}), We("tables().containers()", "table().container()", function() {
return this.iterator("table", function(e) {
return e.nTableWrapper;
}, 1);
}), ze("draw()", function(e) {
return this.iterator("table", function(t) {
"page" === e ? O(t) : ("string" == typeof e && (e = "full-hold" !== e), R(t, !1 === e));
});
}), ze("page()", function(e) {
return e === i ? this.page.info().page : this.iterator("table", function(t) {
ce(t, e);
});
}), ze("page.info()", function(e) {
if (0 === this.context.length) return i;
var t = this.context[0], n = t._iDisplayStart, r = t.oFeatures.bPaginate ? t._iDisplayLength : -1, o = t.fnRecordsDisplay(), a = -1 === r;
return {
page: a ? 0 : Math.floor(n / r),
pages: a ? 1 : Math.ceil(o / r),
start: n,
end: t.fnDisplayEnd(),
length: r,
recordsTotal: t.fnRecordsTotal(),
recordsDisplay: o,
serverSide: "ssp" === Be(t)
};
}), ze("page.len()", function(e) {
return e === i ? 0 !== this.context.length ? this.context[0]._iDisplayLength : i : this.iterator("table", function(t) {
ae(t, e);
});
});
var St = function(e, t, n) {
if (n) {
var i = new He(e);
i.one("draw", function() {
n(i.ajax.json());
});
}
if ("ssp" == Be(e)) R(e, t); else {
de(e, !0);
var r = e.jqXHR;
r && 4 !== r.readyState && r.abort(), U(e, [], function(n) {
E(e);
for (var i = W(e, n), r = 0, o = i.length; r < o; r++) w(e, i[r]);
R(e, t), de(e, !1);
});
}
};
ze("ajax.json()", function() {
var e = this.context;
if (e.length > 0) return e[0].json;
}), ze("ajax.params()", function() {
var e = this.context;
if (e.length > 0) return e[0].oAjaxData;
}), ze("ajax.reload()", function(e, t) {
return this.iterator("table", function(n) {
St(n, !1 === t, e);
});
}), ze("ajax.url()", function(t) {
var n = this.context;
return t === i ? 0 === n.length ? i : (n = n[0]).ajax ? e.isPlainObject(n.ajax) ? n.ajax.url : n.ajax : n.sAjaxSource : this.iterator("table", function(n) {
e.isPlainObject(n.ajax) ? n.ajax.url = t : n.ajax = t;
});
}), ze("ajax.url().load()", function(e, t) {
return this.iterator("table", function(n) {
St(n, !1 === t, e);
});
});
var $t = function(t, n, r, o, a) {
var s, l, c, u, d, h, p = [], f = typeof n;
for (n && "string" !== f && "function" !== f && n.length !== i || (n = [ n ]), c = 0, u = n.length; c < u; c++) for (d = 0, h = (l = n[c] && n[c].split && !n[c].match(/[\[\(:]/) ? n[c].split(",") : [ n[c] ]).length; d < h; d++) (s = r("string" == typeof l[d] ? e.trim(l[d]) : l[d])) && s.length && (p = p.concat(s));
var g = Ve.selector[t];
if (g.length) for (c = 0, u = g.length; c < u; c++) p = g[c](o, a, p);
return dt(p);
}, At = function(t) {
return t || (t = {}), t.filter && t.search === i && (t.search = t.filter), e.extend({
search: "none",
order: "current",
page: "all"
}, t);
}, kt = function(e) {
for (var t = 0, n = e.length; t < n; t++) if (e[t].length > 0) return e[0] = e[t], e[0].length = 1, e.length = 1, e.context = [ e.context[t] ], e;
return e.length = 0, e;
}, Et = function(t, n) {
var i, r, o, a = [], s = t.aiDisplay, l = t.aiDisplayMaster, c = n.search, u = n.order, d = n.page;
if ("ssp" == Be(t)) return "removed" === c ? [] : st(0, l.length);
if ("current" == d) for (i = t._iDisplayStart, r = t.fnDisplayEnd(); i < r; i++) a.push(s[i]); else if ("current" == u || "applied" == u) a = "none" == c ? l.slice() : "applied" == c ? s.slice() : e.map(l, function(t, n) {
return -1 === e.inArray(t, s) ? t : null;
}); else if ("index" == u || "original" == u) for (i = 0, r = t.aoData.length; i < r; i++) "none" == c ? a.push(i) : (-1 === (o = e.inArray(i, s)) && "removed" == c || o >= 0 && "applied" == c) && a.push(i);
return a;
}, Tt = function(t, n, r) {
var o;
return $t("row", n, function(n) {
var a = et(n);
if (null !== a && !r) return [ a ];
if (o || (o = Et(t, r)), null !== a && -1 !== e.inArray(a, o)) return [ a ];
if (null === n || n === i || "" === n) return o;
if ("function" == typeof n) return e.map(o, function(e) {
var i = t.aoData[e];
return n(e, i._aData, i.nTr) ? e : null;
});
var s = lt(at(t.aoData, o, "nTr"));
if (n.nodeName) {
if (n._DT_RowIndex !== i) return [ n._DT_RowIndex ];
if (n._DT_CellIndex) return [ n._DT_CellIndex.row ];
var l = e(n).closest("*[data-dt-row]");
return l.length ? [ l.data("dt-row") ] : [];
}
if ("string" == typeof n && "#" === n.charAt(0)) {
var c = t.aIds[n.replace(/^#/, "")];
if (c !== i) return [ c.idx ];
}
return e(s).filter(n).map(function() {
return this._DT_RowIndex;
}).toArray();
}, t, r);
};
ze("rows()", function(t, n) {
t === i ? t = "" : e.isPlainObject(t) && (n = t, t = ""), n = At(n);
var r = this.iterator("table", function(e) {
return Tt(e, t, n);
}, 1);
return r.selector.rows = t, r.selector.opts = n, r;
}), ze("rows().nodes()", function() {
return this.iterator("row", function(e, t) {
return e.aoData[t].nTr || i;
}, 1);
}), ze("rows().data()", function() {
return this.iterator(!0, "rows", function(e, t) {
return at(e.aoData, t, "_aData");
}, 1);
}), We("rows().cache()", "row().cache()", function(e) {
return this.iterator("row", function(t, n) {
var i = t.aoData[n];
return "search" === e ? i._aFilterData : i._aSortData;
}, 1);
}), We("rows().invalidate()", "row().invalidate()", function(e) {
return this.iterator("row", function(t, n) {
D(t, n, e);
});
}), We("rows().indexes()", "row().index()", function() {
return this.iterator("row", function(e, t) {
return t;
}, 1);
}), We("rows().ids()", "row().id()", function(e) {
for (var t = [], n = this.context, i = 0, r = n.length; i < r; i++) for (var o = 0, a = this[i].length; o < a; o++) {
var s = n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);
t.push((!0 === e ? "#" : "") + s);
}
return new He(n, t);
}), We("rows().remove()", "row().remove()", function() {
var e = this;
return this.iterator("row", function(t, n, r) {
var o, a, s, l, c, u, d = t.aoData, h = d[n];
for (d.splice(n, 1), o = 0, a = d.length; o < a; o++) if (c = d[o], u = c.anCells, null !== c.nTr && (c.nTr._DT_RowIndex = o), null !== u) for (s = 0, l = u.length; s < l; s++) u[s]._DT_CellIndex.row = o;
T(t.aiDisplayMaster, n), T(t.aiDisplay, n), T(e[r], n, !1), Oe(t);
var p = t.rowIdFn(h._aData);
p !== i && delete t.aIds[p];
}), this.iterator("table", function(e) {
for (var t = 0, n = e.aoData.length; t < n; t++) e.aoData[t].idx = t;
}), this;
}), ze("rows.add()", function(t) {
var n = this.iterator("table", function(e) {
var n, i, r, o = [];
for (i = 0, r = t.length; i < r; i++) (n = t[i]).nodeName && "TR" === n.nodeName.toUpperCase() ? o.push(x(e, n)[0]) : o.push(w(e, n));
return o;
}, 1), i = this.rows(-1);
return i.pop(), e.merge(i, n), i;
}), ze("row()", function(e, t) {
return kt(this.rows(e, t));
}), ze("row().data()", function(e) {
var t = this.context;
return e === i ? t.length && this.length ? t[0].aoData[this[0]]._aData : i : (t[0].aoData[this[0]]._aData = e, D(t[0], this[0], "data"), this);
}), ze("row().node()", function() {
var e = this.context;
return e.length && this.length ? e[0].aoData[this[0]].nTr || null : null;
}), ze("row.add()", function(t) {
t instanceof e && t.length && (t = t[0]);
var n = this.iterator("table", function(e) {
return t.nodeName && "TR" === t.nodeName.toUpperCase() ? x(e, t)[0] : w(e, t);
});
return this.row(n[0]);
});
var Dt = function(t, n, i, r) {
var o = [], a = function(n, i) {
if (e.isArray(n) || n instanceof e) for (var r = 0, s = n.length; r < s; r++) a(n[r], i); else if (n.nodeName && "tr" === n.nodeName.toLowerCase()) o.push(n); else {
var l = e("<tr><td/></tr>").addClass(i);
e("td", l).addClass(i).html(n)[0].colSpan = m(t), o.push(l[0]);
}
};
a(i, r), n._details && n._details.detach(), n._details = e(o), n._detailsShow && n._details.insertAfter(n.nTr);
}, Ft = function(e, t) {
var n = e.context;
if (n.length) {
var r = n[0].aoData[t !== i ? t : e[0]];
r && r._details && (r._details.remove(), r._detailsShow = i, r._details = i);
}
}, Mt = function(e, t) {
var n = e.context;
if (n.length && e.length) {
var i = n[0].aoData[e[0]];
i._details && (i._detailsShow = t, t ? i._details.insertAfter(i.nTr) : i._details.detach(), It(n[0]));
}
}, It = function(e) {
var t = new He(e), n = e.aoData;
t.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"), ot(n, "_details").length > 0 && (t.on("draw.dt.DT_details", function(i, r) {
e === r && t.rows({
page: "current"
}).eq(0).each(function(e) {
var t = n[e];
t._detailsShow && t._details.insertAfter(t.nTr);
});
}), t.on("column-visibility.dt.DT_details", function(t, i, r, o) {
if (e === i) for (var a, s = m(i), l = 0, c = n.length; l < c; l++) (a = n[l])._details && a._details.children("td[colspan]").attr("colspan", s);
}), t.on("destroy.dt.DT_details", function(i, r) {
if (e === r) for (var o = 0, a = n.length; o < a; o++) n[o]._details && Ft(t, o);
}));
};
ze("row().child()", function(e, t) {
var n = this.context;
return e === i ? n.length && this.length ? n[0].aoData[this[0]]._details : i : (!0 === e ? this.child.show() : !1 === e ? Ft(this) : n.length && this.length && Dt(n[0], n[0].aoData[this[0]], e, t), this);
}), ze([ "row().child.show()", "row().child().show()" ], function(e) {
return Mt(this, !0), this;
}), ze([ "row().child.hide()", "row().child().hide()" ], function() {
return Mt(this, !1), this;
}), ze([ "row().child.remove()", "row().child().remove()" ], function() {
return Ft(this), this;
}), ze("row().child.isShown()", function() {
var e = this.context;
return !(!e.length || !this.length) && (e[0].aoData[this[0]]._detailsShow || !1);
});
var Lt = /^([^:]+):(name|visIdx|visible)$/, Pt = function(e, t, n, i, r) {
for (var o = [], a = 0, s = r.length; a < s; a++) o.push(C(e, r[a], t));
return o;
}, Ot = function(t, n, i) {
var r = t.aoColumns, o = ot(r, "sName"), a = ot(r, "nTh");
return $t("column", n, function(n) {
var s = et(n);
if ("" === n) return st(r.length);
if (null !== s) return [ s >= 0 ? s : r.length + s ];
if ("function" == typeof n) {
var l = Et(t, i);
return e.map(r, function(e, i) {
return n(i, Pt(t, i, 0, 0, l), a[i]) ? i : null;
});
}
var c = "string" == typeof n ? n.match(Lt) : "";
if (c) switch (c[2]) {
case "visIdx":
case "visible":
var u = parseInt(c[1], 10);
if (u < 0) {
var d = e.map(r, function(e, t) {
return e.bVisible ? t : null;
});
return [ d[d.length + u] ];
}
return [ f(t, u) ];

case "name":
return e.map(o, function(e, t) {
return e === c[1] ? t : null;
});

default:
return [];
}
if (n.nodeName && n._DT_CellIndex) return [ n._DT_CellIndex.column ];
var h = e(a).filter(n).map(function() {
return e.inArray(this, a);
}).toArray();
if (h.length || !n.nodeName) return h;
var p = e(n).closest("*[data-dt-column]");
return p.length ? [ p.data("dt-column") ] : [];
}, t, i);
}, Rt = function(t, n, r) {
var o, a, s, l, c = t.aoColumns, u = c[n], d = t.aoData;
if (r === i) return u.bVisible;
if (u.bVisible !== r) {
if (r) {
var h = e.inArray(!0, ot(c, "bVisible"), n + 1);
for (a = 0, s = d.length; a < s; a++) l = d[a].nTr, o = d[a].anCells, l && l.insertBefore(o[n], o[h] || null);
} else e(ot(t.aoData, "anCells", n)).detach();
u.bVisible = r, P(t, t.aoHeader), P(t, t.aoFooter), ke(t);
}
};
ze("columns()", function(t, n) {
t === i ? t = "" : e.isPlainObject(t) && (n = t, t = ""), n = At(n);
var r = this.iterator("table", function(e) {
return Ot(e, t, n);
}, 1);
return r.selector.cols = t, r.selector.opts = n, r;
}), We("columns().header()", "column().header()", function(e, t) {
return this.iterator("column", function(e, t) {
return e.aoColumns[t].nTh;
}, 1);
}), We("columns().footer()", "column().footer()", function(e, t) {
return this.iterator("column", function(e, t) {
return e.aoColumns[t].nTf;
}, 1);
}), We("columns().data()", "column().data()", function() {
return this.iterator("column-rows", Pt, 1);
}), We("columns().dataSrc()", "column().dataSrc()", function() {
return this.iterator("column", function(e, t) {
return e.aoColumns[t].mData;
}, 1);
}), We("columns().cache()", "column().cache()", function(e) {
return this.iterator("column-rows", function(t, n, i, r, o) {
return at(t.aoData, o, "search" === e ? "_aFilterData" : "_aSortData", n);
}, 1);
}), We("columns().nodes()", "column().nodes()", function() {
return this.iterator("column-rows", function(e, t, n, i, r) {
return at(e.aoData, r, "anCells", t);
}, 1);
}), We("columns().visible()", "column().visible()", function(e, t) {
var n = this.iterator("column", function(t, n) {
if (e === i) return t.aoColumns[n].bVisible;
Rt(t, n, e);
});
return e !== i && (this.iterator("column", function(n, i) {
Pe(n, null, "column-visibility", [ n, i, e, t ]);
}), (t === i || t) && this.columns.adjust()), n;
}), We("columns().indexes()", "column().index()", function(e) {
return this.iterator("column", function(t, n) {
return "visible" === e ? g(t, n) : n;
}, 1);
}), ze("columns.adjust()", function() {
return this.iterator("table", function(e) {
p(e);
}, 1);
}), ze("column.index()", function(e, t) {
if (0 !== this.context.length) {
var n = this.context[0];
if ("fromVisible" === e || "toData" === e) return f(n, t);
if ("fromData" === e || "toVisible" === e) return g(n, t);
}
}), ze("column()", function(e, t) {
return kt(this.columns(e, t));
});
var Bt = function(t, n, r) {
var o, a, s, l, c, u, d, h = t.aoData, p = Et(t, r), f = lt(at(h, p, "anCells")), g = e([].concat.apply([], f)), m = t.aoColumns.length;
return $t("cell", n, function(n) {
var r = "function" == typeof n;
if (null === n || n === i || r) {
for (a = [], s = 0, l = p.length; s < l; s++) for (o = p[s], c = 0; c < m; c++) u = {
row: o,
column: c
}, r ? (d = h[o], n(u, C(t, o, c), d.anCells ? d.anCells[c] : null) && a.push(u)) : a.push(u);
return a;
}
if (e.isPlainObject(n)) return [ n ];
var f = g.filter(n).map(function(e, t) {
return {
row: t._DT_CellIndex.row,
column: t._DT_CellIndex.column
};
}).toArray();
return f.length || !n.nodeName ? f : (d = e(n).closest("*[data-dt-row]")).length ? [ {
row: d.data("dt-row"),
column: d.data("dt-column")
} ] : [];
}, t, r);
};
ze("cells()", function(t, n, r) {
if (e.isPlainObject(t) && (t.row === i ? (r = t, t = null) : (r = n, n = null)), e.isPlainObject(n) && (r = n, n = null), null === n || n === i) return this.iterator("table", function(e) {
return Bt(e, t, At(r));
});
var o, a, s, l, c, u = this.columns(n, r), d = this.rows(t, r), h = this.iterator("table", function(e, t) {
for (o = [], a = 0, s = d[t].length; a < s; a++) for (l = 0, c = u[t].length; l < c; l++) o.push({
row: d[t][a],
column: u[t][l]
});
return o;
}, 1);
return e.extend(h.selector, {
cols: n,
rows: t,
opts: r
}), h;
}), We("cells().nodes()", "cell().node()", function() {
return this.iterator("cell", function(e, t, n) {
var r = e.aoData[t];
return r && r.anCells ? r.anCells[n] : i;
}, 1);
}), ze("cells().data()", function() {
return this.iterator("cell", function(e, t, n) {
return C(e, t, n);
}, 1);
}), We("cells().cache()", "cell().cache()", function(e) {
return e = "search" === e ? "_aFilterData" : "_aSortData", this.iterator("cell", function(t, n, i) {
return t.aoData[n][e][i];
}, 1);
}), We("cells().render()", "cell().render()", function(e) {
return this.iterator("cell", function(t, n, i) {
return C(t, n, i, e);
}, 1);
}), We("cells().indexes()", "cell().index()", function() {
return this.iterator("cell", function(e, t, n) {
return {
row: t,
column: n,
columnVisible: g(e, n)
};
}, 1);
}), We("cells().invalidate()", "cell().invalidate()", function(e) {
return this.iterator("cell", function(t, n, i) {
D(t, n, e, i);
});
}), ze("cell()", function(e, t, n) {
return kt(this.cells(e, t, n));
}), ze("cell().data()", function(e) {
var t = this.context, n = this[0];
return e === i ? t.length && n.length ? C(t[0], n[0].row, n[0].column) : i : (_(t[0], n[0].row, n[0].column, e), D(t[0], n[0].row, "data", n[0].column), this);
}), ze("order()", function(t, n) {
var r = this.context;
return t === i ? 0 !== r.length ? r[0].aaSorting : i : ("number" == typeof t ? t = [ [ t, n ] ] : t.length && !e.isArray(t[0]) && (t = Array.prototype.slice.call(arguments)), this.iterator("table", function(e) {
e.aaSorting = t.slice();
}));
}), ze("order.listener()", function(e, t, n) {
return this.iterator("table", function(i) {
Se(i, e, t, n);
});
}), ze("order.fixed()", function(t) {
if (!t) {
var n = this.context, r = n.length ? n[0].aaSortingFixed : i;
return e.isArray(r) ? {
pre: r
} : r;
}
return this.iterator("table", function(n) {
n.aaSortingFixed = e.extend(!0, {}, t);
});
}), ze([ "columns().order()", "column().order()" ], function(t) {
var n = this;
return this.iterator("table", function(i, r) {
var o = [];
e.each(n[r], function(e, n) {
o.push([ n, t ]);
}), i.aaSorting = o;
});
}), ze("search()", function(t, n, r, o) {
var a = this.context;
return t === i ? 0 !== a.length ? a[0].oPreviousSearch.sSearch : i : this.iterator("table", function(i) {
i.oFeatures.bFilter && q(i, e.extend({}, i.oPreviousSearch, {
sSearch: t + "",
bRegex: null !== n && n,
bSmart: null === r || r,
bCaseInsensitive: null === o || o
}), 1);
});
}), We("columns().search()", "column().search()", function(t, n, r, o) {
return this.iterator("column", function(a, s) {
var l = a.aoPreSearchCols;
if (t === i) return l[s].sSearch;
a.oFeatures.bFilter && (e.extend(l[s], {
sSearch: t + "",
bRegex: null !== n && n,
bSmart: null === r || r,
bCaseInsensitive: null === o || o
}), q(a, a.oPreviousSearch, 1));
});
}), ze("state()", function() {
return this.context.length ? this.context[0].oSavedState : null;
}), ze("state.clear()", function() {
return this.iterator("table", function(e) {
e.fnStateSaveCallback.call(e.oInstance, e, {});
});
}), ze("state.loaded()", function() {
return this.context.length ? this.context[0].oLoadedState : null;
}), ze("state.save()", function() {
return this.iterator("table", function(e) {
ke(e);
});
}), Ge.versionCheck = Ge.fnVersionCheck = function(e) {
for (var t, n, i = Ge.version.split("."), r = e.split("."), o = 0, a = r.length; o < a; o++) if (t = parseInt(i[o], 10) || 0, n = parseInt(r[o], 10) || 0, t !== n) return t > n;
return !0;
}, Ge.isDataTable = Ge.fnIsDataTable = function(t) {
var n = e(t).get(0), i = !1;
return t instanceof Ge.Api || (e.each(Ge.settings, function(t, r) {
var o = r.nScrollHead ? e("table", r.nScrollHead)[0] : null, a = r.nScrollFoot ? e("table", r.nScrollFoot)[0] : null;
r.nTable !== n && o !== n && a !== n || (i = !0);
}), i);
}, Ge.tables = Ge.fnTables = function(t) {
var n = !1;
e.isPlainObject(t) && (n = t.api, t = t.visible);
var i = e.map(Ge.settings, function(n) {
if (!t || t && e(n.nTable).is(":visible")) return n.nTable;
});
return n ? new He(i) : i;
}, Ge.camelToHungarian = o, ze("$()", function(t, n) {
var i = this.rows(n).nodes(), r = e(i);
return e([].concat(r.filter(t).toArray(), r.find(t).toArray()));
}), e.each([ "on", "one", "off" ], function(t, n) {
ze(n + "()", function() {
var t = Array.prototype.slice.call(arguments);
t[0] = e.map(t[0].split(/\s/), function(e) {
return e.match(/\.dt\b/) ? e : e + ".dt";
}).join(" ");
var i = e(this.tables().nodes());
return i[n].apply(i, t), this;
});
}), ze("clear()", function() {
return this.iterator("table", function(e) {
E(e);
});
}), ze("settings()", function() {
return new He(this.context, this.context);
}), ze("init()", function() {
var e = this.context;
return e.length ? e[0].oInit : null;
}), ze("data()", function() {
return this.iterator("table", function(e) {
return ot(e.aoData, "_aData");
}).flatten();
}), ze("destroy()", function(n) {
return n = n || !1, this.iterator("table", function(i) {
var r, o = i.nTableWrapper.parentNode, a = i.oClasses, s = i.nTable, l = i.nTBody, c = i.nTHead, u = i.nTFoot, d = e(s), h = e(l), p = e(i.nTableWrapper), f = e.map(i.aoData, function(e) {
return e.nTr;
});
i.bDestroying = !0, Pe(i, "aoDestroyCallback", "destroy", [ i ]), n || new He(i).columns().visible(!0), p.off(".DT").find(":not(tbody *)").off(".DT"), e(t).off(".DT-" + i.sInstance), s != c.parentNode && (d.children("thead").detach(), d.append(c)), u && s != u.parentNode && (d.children("tfoot").detach(), d.append(u)), i.aaSorting = [], i.aaSortingFixed = [], $e(i), e(f).removeClass(i.asStripeClasses.join(" ")), e("th, td", c).removeClass(a.sSortable + " " + a.sSortableAsc + " " + a.sSortableDesc + " " + a.sSortableNone), i.bJUI && (e("th span." + a.sSortIcon + ", td span." + a.sSortIcon, c).detach(), e("th, td", c).each(function() {
var t = e("div." + a.sSortJUIWrapper, this);
e(this).append(t.contents()), t.detach();
})), h.children().detach(), h.append(f);
var g = n ? "remove" : "detach";
d[g](), p[g](), !n && o && (o.insertBefore(s, i.nTableReinsertBefore), d.css("width", i.sDestroyWidth).removeClass(a.sTable), (r = i.asDestroyStripes.length) && h.children().each(function(t) {
e(this).addClass(i.asDestroyStripes[t % r]);
}));
var m = e.inArray(i, Ge.settings);
-1 !== m && Ge.settings.splice(m, 1);
});
}), e.each([ "column", "row", "cell" ], function(e, t) {
ze(t + "s().every()", function(e) {
var n = this.selector.opts, r = this;
return this.iterator(t, function(o, a, s, l, c) {
e.call(r[t](a, "cell" === t ? s : n, "cell" === t ? n : i), a, s, l, c);
});
});
}), ze("i18n()", function(t, n, r) {
var o = this.context[0], a = $(t)(o.oLanguage);
return a === i && (a = n), r !== i && e.isPlainObject(a) && (a = a[r] !== i ? a[r] : a._), a.replace("%d", r);
}), Ge.version = "1.10.15", Ge.settings = [], Ge.models = {}, Ge.models.oSearch = {
bCaseInsensitive: !0,
sSearch: "",
bRegex: !1,
bSmart: !0
}, Ge.models.oRow = {
nTr: null,
anCells: null,
_aData: [],
_aSortData: null,
_aFilterData: null,
_sFilterRow: null,
_sRowStripe: "",
src: null,
idx: -1
}, Ge.models.oColumn = {
idx: null,
aDataSort: null,
asSorting: null,
bSearchable: null,
bSortable: null,
bVisible: null,
_sManualType: null,
_bAttrSrc: !1,
fnCreatedCell: null,
fnGetData: null,
fnSetData: null,
mData: null,
mRender: null,
nTh: null,
nTf: null,
sClass: null,
sContentPadding: null,
sDefaultContent: null,
sName: null,
sSortDataType: "std",
sSortingClass: null,
sSortingClassJUI: null,
sTitle: null,
sType: null,
sWidth: null,
sWidthOrig: null
}, Ge.defaults = {
aaData: null,
aaSorting: [ [ 0, "asc" ] ],
aaSortingFixed: [],
ajax: null,
aLengthMenu: [ 10, 25, 50, 100 ],
aoColumns: null,
aoColumnDefs: null,
aoSearchCols: [],
asStripeClasses: null,
bAutoWidth: !0,
bDeferRender: !1,
bDestroy: !1,
bFilter: !0,
bInfo: !0,
bJQueryUI: !1,
bLengthChange: !0,
bPaginate: !0,
bProcessing: !1,
bRetrieve: !1,
bScrollCollapse: !1,
bServerSide: !1,
bSort: !0,
bSortMulti: !0,
bSortCellsTop: !1,
bSortClasses: !0,
bStateSave: !1,
fnCreatedRow: null,
fnDrawCallback: null,
fnFooterCallback: null,
fnFormatNumber: function(e) {
return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g, this.oLanguage.sThousands);
},
fnHeaderCallback: null,
fnInfoCallback: null,
fnInitComplete: null,
fnPreDrawCallback: null,
fnRowCallback: null,
fnServerData: null,
fnServerParams: null,
fnStateLoadCallback: function(e) {
try {
return JSON.parse((-1 === e.iStateDuration ? sessionStorage : localStorage).getItem("DataTables_" + e.sInstance + "_" + location.pathname));
} catch (e) {}
},
fnStateLoadParams: null,
fnStateLoaded: null,
fnStateSaveCallback: function(e, t) {
try {
(-1 === e.iStateDuration ? sessionStorage : localStorage).setItem("DataTables_" + e.sInstance + "_" + location.pathname, JSON.stringify(t));
} catch (e) {}
},
fnStateSaveParams: null,
iStateDuration: 7200,
iDeferLoading: null,
iDisplayLength: 10,
iDisplayStart: 0,
iTabIndex: 0,
oClasses: {},
oLanguage: {
oAria: {
sSortAscending: ": activate to sort column ascending",
sSortDescending: ": activate to sort column descending"
},
oPaginate: {
sFirst: "First",
sLast: "Last",
sNext: "Next",
sPrevious: "Previous"
},
sEmptyTable: "No data available in table",
sInfo: "Showing _START_ to _END_ of _TOTAL_ entries",
sInfoEmpty: "Showing 0 to 0 of 0 entries",
sInfoFiltered: "(filtered from _MAX_ total entries)",
sInfoPostFix: "",
sDecimal: "",
sThousands: ",",
sLengthMenu: "Show _MENU_ entries",
sLoadingRecords: "Loading...",
sProcessing: "Processing...",
sSearch: "Search:",
sSearchPlaceholder: "",
sUrl: "",
sZeroRecords: "No matching records found"
},
oSearch: e.extend({}, Ge.models.oSearch),
sAjaxDataProp: "data",
sAjaxSource: null,
sDom: "lfrtip",
searchDelay: null,
sPaginationType: "simple_numbers",
sScrollX: "",
sScrollXInner: "",
sScrollY: "",
sServerMethod: "GET",
renderer: null,
rowId: "DT_RowId"
}, r(Ge.defaults), Ge.defaults.column = {
aDataSort: null,
iDataSort: -1,
asSorting: [ "asc", "desc" ],
bSearchable: !0,
bSortable: !0,
bVisible: !0,
fnCreatedCell: null,
mData: null,
mRender: null,
sCellType: "td",
sClass: "",
sContentPadding: "",
sDefaultContent: null,
sName: "",
sSortDataType: "std",
sTitle: null,
sType: null,
sWidth: null
}, r(Ge.defaults.column), Ge.models.oSettings = {
oFeatures: {
bAutoWidth: null,
bDeferRender: null,
bFilter: null,
bInfo: null,
bLengthChange: null,
bPaginate: null,
bProcessing: null,
bServerSide: null,
bSort: null,
bSortMulti: null,
bSortClasses: null,
bStateSave: null
},
oScroll: {
bCollapse: null,
iBarWidth: 0,
sX: null,
sXInner: null,
sY: null
},
oLanguage: {
fnInfoCallback: null
},
oBrowser: {
bScrollOversize: !1,
bScrollbarLeft: !1,
bBounding: !1,
barWidth: 0
},
ajax: null,
aanFeatures: [],
aoData: [],
aiDisplay: [],
aiDisplayMaster: [],
aIds: {},
aoColumns: [],
aoHeader: [],
aoFooter: [],
oPreviousSearch: {},
aoPreSearchCols: [],
aaSorting: null,
aaSortingFixed: [],
asStripeClasses: null,
asDestroyStripes: [],
sDestroyWidth: 0,
aoRowCallback: [],
aoHeaderCallback: [],
aoFooterCallback: [],
aoDrawCallback: [],
aoRowCreatedCallback: [],
aoPreDrawCallback: [],
aoInitComplete: [],
aoStateSaveParams: [],
aoStateLoadParams: [],
aoStateLoaded: [],
sTableId: "",
nTable: null,
nTHead: null,
nTFoot: null,
nTBody: null,
nTableWrapper: null,
bDeferLoading: !1,
bInitialised: !1,
aoOpenRows: [],
sDom: null,
searchDelay: null,
sPaginationType: "two_button",
iStateDuration: 0,
aoStateSave: [],
aoStateLoad: [],
oSavedState: null,
oLoadedState: null,
sAjaxSource: null,
sAjaxDataProp: null,
bAjaxDataGet: !0,
jqXHR: null,
json: i,
oAjaxData: i,
fnServerData: null,
aoServerParams: [],
sServerMethod: null,
fnFormatNumber: null,
aLengthMenu: null,
iDraw: 0,
bDrawing: !1,
iDrawError: -1,
_iDisplayLength: 10,
_iDisplayStart: 0,
_iRecordsTotal: 0,
_iRecordsDisplay: 0,
bJUI: null,
oClasses: {},
bFiltered: !1,
bSorted: !1,
bSortCellsTop: null,
oInit: null,
aoDestroyCallback: [],
fnRecordsTotal: function() {
return "ssp" == Be(this) ? 1 * this._iRecordsTotal : this.aiDisplayMaster.length;
},
fnRecordsDisplay: function() {
return "ssp" == Be(this) ? 1 * this._iRecordsDisplay : this.aiDisplay.length;
},
fnDisplayEnd: function() {
var e = this._iDisplayLength, t = this._iDisplayStart, n = t + e, i = this.aiDisplay.length, r = this.oFeatures, o = r.bPaginate;
return r.bServerSide ? !1 === o || -1 === e ? t + i : Math.min(t + e, this._iRecordsDisplay) : !o || n > i || -1 === e ? i : n;
},
oInstance: null,
sInstance: null,
iTabIndex: 0,
nScrollHead: null,
nScrollFoot: null,
aLastSort: [],
oPlugins: {},
rowIdFn: null,
rowId: null
}, Ge.ext = Ve = {
buttons: {},
classes: {},
builder: "-source-",
errMode: "alert",
feature: [],
search: [],
selector: {
cell: [],
column: [],
row: []
},
internal: {},
legacy: {
ajax: null
},
pager: {},
renderer: {
pageButton: {},
header: {}
},
order: {},
type: {
detect: [],
search: {},
order: {}
},
_unique: 0,
fnVersionCheck: Ge.fnVersionCheck,
iApiIndex: 0,
oJUIClasses: {},
sVersion: Ge.version
}, e.extend(Ve, {
afnFiltering: Ve.search,
aTypes: Ve.type.detect,
ofnSearch: Ve.type.search,
oSort: Ve.type.order,
afnSortData: Ve.order,
aoFeatures: Ve.feature,
oApi: Ve.internal,
oStdClasses: Ve.classes,
oPagination: Ve.pager
}), e.extend(Ge.ext.classes, {
sTable: "dataTable",
sNoFooter: "no-footer",
sPageButton: "paginate_button",
sPageButtonActive: "current",
sPageButtonDisabled: "disabled",
sStripeOdd: "odd",
sStripeEven: "even",
sRowEmpty: "dataTables_empty",
sWrapper: "dataTables_wrapper",
sFilter: "dataTables_filter",
sInfo: "dataTables_info",
sPaging: "dataTables_paginate paging_",
sLength: "dataTables_length",
sProcessing: "dataTables_processing",
sSortAsc: "sorting_asc",
sSortDesc: "sorting_desc",
sSortable: "sorting",
sSortableAsc: "sorting_asc_disabled",
sSortableDesc: "sorting_desc_disabled",
sSortableNone: "sorting_disabled",
sSortColumn: "sorting_",
sFilterInput: "",
sLengthSelect: "",
sScrollWrapper: "dataTables_scroll",
sScrollHead: "dataTables_scrollHead",
sScrollHeadInner: "dataTables_scrollHeadInner",
sScrollBody: "dataTables_scrollBody",
sScrollFoot: "dataTables_scrollFoot",
sScrollFootInner: "dataTables_scrollFootInner",
sHeaderTH: "",
sFooterTH: "",
sSortJUIAsc: "",
sSortJUIDesc: "",
sSortJUI: "",
sSortJUIAscAllowed: "",
sSortJUIDescAllowed: "",
sSortJUIWrapper: "",
sSortIcon: "",
sJUIHeader: "",
sJUIFooter: ""
}), function() {
var t = "ui-state-default", n = "css_right ui-icon ui-icon-", i = "fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";
e.extend(Ge.ext.oJUIClasses, Ge.ext.classes, {
sPageButton: "fg-button ui-button " + t,
sPageButtonActive: "ui-state-disabled",
sPageButtonDisabled: "ui-state-disabled",
sPaging: "dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",
sSortAsc: t + " sorting_asc",
sSortDesc: t + " sorting_desc",
sSortable: t + " sorting",
sSortableAsc: t + " sorting_asc_disabled",
sSortableDesc: t + " sorting_desc_disabled",
sSortableNone: t + " sorting_disabled",
sSortJUIAsc: n + "triangle-1-n",
sSortJUIDesc: n + "triangle-1-s",
sSortJUI: n + "carat-2-n-s",
sSortJUIAscAllowed: n + "carat-1-n",
sSortJUIDescAllowed: n + "carat-1-s",
sSortJUIWrapper: "DataTables_sort_wrapper",
sSortIcon: "DataTables_sort_icon",
sScrollHead: "dataTables_scrollHead " + t,
sScrollFoot: "dataTables_scrollFoot " + t,
sHeaderTH: t,
sFooterTH: t,
sJUIHeader: i + " ui-corner-tl ui-corner-tr",
sJUIFooter: i + " ui-corner-bl ui-corner-br"
});
}();
var Nt = Ge.ext.pager;
e.extend(Nt, {
simple: function(e, t) {
return [ "previous", "next" ];
},
full: function(e, t) {
return [ "first", "previous", "next", "last" ];
},
numbers: function(e, t) {
return [ Ne(e, t) ];
},
simple_numbers: function(e, t) {
return [ "previous", Ne(e, t), "next" ];
},
full_numbers: function(e, t) {
return [ "first", "previous", Ne(e, t), "next", "last" ];
},
first_last_numbers: function(e, t) {
return [ "first", Ne(e, t), "last" ];
},
_numbers: Ne,
numbers_length: 7
}), e.extend(!0, Ge.ext.renderer, {
pageButton: {
_: function(t, r, o, a, s, l) {
var c, u, d, h = t.oClasses, p = t.oLanguage.oPaginate, f = t.oLanguage.oAria.paginate || {}, g = 0, m = function(n, i) {
var r, a, d;
for (r = 0, a = i.length; r < a; r++) if (d = i[r], e.isArray(d)) {
var v = e("<" + (d.DT_el || "div") + "/>").appendTo(n);
m(v, d);
} else {
switch (c = null, u = "", d) {
case "ellipsis":
n.append('<span class="ellipsis">&#x2026;</span>');
break;

case "first":
c = p.sFirst, u = d + (s > 0 ? "" : " " + h.sPageButtonDisabled);
break;

case "previous":
c = p.sPrevious, u = d + (s > 0 ? "" : " " + h.sPageButtonDisabled);
break;

case "next":
c = p.sNext, u = d + (s < l - 1 ? "" : " " + h.sPageButtonDisabled);
break;

case "last":
c = p.sLast, u = d + (s < l - 1 ? "" : " " + h.sPageButtonDisabled);
break;

default:
c = d + 1, u = s === d ? h.sPageButtonActive : "";
}
null !== c && (Ie(e("<a>", {
class: h.sPageButton + " " + u,
"aria-controls": t.sTableId,
"aria-label": f[d],
"data-dt-idx": g,
tabindex: t.iTabIndex,
id: 0 === o && "string" == typeof d ? t.sTableId + "_" + d : null
}).html(c).appendTo(n), {
action: d
}, function(e) {
ce(t, e.data.action, !0);
}), g++);
}
};
try {
d = e(r).find(n.activeElement).data("dt-idx");
} catch (e) {}
m(e(r).empty(), a), d !== i && e(r).find("[data-dt-idx=" + d + "]").focus();
}
}
}), e.extend(Ge.ext.type.detect, [ function(e, t) {
var n = t.oLanguage.sDecimal;
return nt(e, n) ? "num" + n : null;
}, function(e, t) {
if (e && !(e instanceof Date) && !Xe.test(e)) return null;
var n = Date.parse(e);
return null !== n && !isNaN(n) || Ze(e) ? "date" : null;
}, function(e, t) {
var n = t.oLanguage.sDecimal;
return nt(e, n, !0) ? "num-fmt" + n : null;
}, function(e, t) {
var n = t.oLanguage.sDecimal;
return rt(e, n) ? "html-num" + n : null;
}, function(e, t) {
var n = t.oLanguage.sDecimal;
return rt(e, n, !0) ? "html-num-fmt" + n : null;
}, function(e, t) {
return Ze(e) || "string" == typeof e && -1 !== e.indexOf("<") ? "html" : null;
} ]), e.extend(Ge.ext.type.search, {
html: function(e) {
return Ze(e) ? e : "string" == typeof e ? e.replace(Ye, " ").replace(Ke, "") : "";
},
string: function(e) {
return Ze(e) ? e : "string" == typeof e ? e.replace(Ye, " ") : e;
}
});
var jt = function(e, t, n, i) {
return 0 === e || e && "-" !== e ? (t && (e = tt(e, t)), e.replace && (n && (e = e.replace(n, "")), i && (e = e.replace(i, ""))), 1 * e) : -1 / 0;
};
e.extend(Ve.type.order, {
"date-pre": function(e) {
return Date.parse(e) || -1 / 0;
},
"html-pre": function(e) {
return Ze(e) ? "" : e.replace ? e.replace(/<.*?>/g, "").toLowerCase() : e + "";
},
"string-pre": function(e) {
return Ze(e) ? "" : "string" == typeof e ? e.toLowerCase() : e.toString ? e.toString() : "";
},
"string-asc": function(e, t) {
return e < t ? -1 : e > t ? 1 : 0;
},
"string-desc": function(e, t) {
return e < t ? 1 : e > t ? -1 : 0;
}
}), je(""), e.extend(!0, Ge.ext.renderer, {
header: {
_: function(t, n, i, r) {
e(t.nTable).on("order.dt.DT", function(e, o, a, s) {
if (t === o) {
var l = i.idx;
n.removeClass(i.sSortingClass + " " + r.sSortAsc + " " + r.sSortDesc).addClass("asc" == s[l] ? r.sSortAsc : "desc" == s[l] ? r.sSortDesc : i.sSortingClass);
}
});
},
jqueryui: function(t, n, i, r) {
e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon + " " + i.sSortingClassJUI)).appendTo(n), e(t.nTable).on("order.dt.DT", function(e, o, a, s) {
if (t === o) {
var l = i.idx;
n.removeClass(r.sSortAsc + " " + r.sSortDesc).addClass("asc" == s[l] ? r.sSortAsc : "desc" == s[l] ? r.sSortDesc : i.sSortingClass), n.find("span." + r.sSortIcon).removeClass(r.sSortJUIAsc + " " + r.sSortJUIDesc + " " + r.sSortJUI + " " + r.sSortJUIAscAllowed + " " + r.sSortJUIDescAllowed).addClass("asc" == s[l] ? r.sSortJUIAsc : "desc" == s[l] ? r.sSortJUIDesc : i.sSortingClassJUI);
}
});
}
}
});
var Ut = function(e) {
return "string" == typeof e ? e.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;") : e;
};
return Ge.render = {
number: function(e, t, n, i, r) {
return {
display: function(o) {
if ("number" != typeof o && "string" != typeof o) return o;
var a = o < 0 ? "-" : "", s = parseFloat(o);
if (isNaN(s)) return Ut(o);
s = s.toFixed(n), o = Math.abs(s);
var l = parseInt(o, 10), c = n ? t + (o - l).toFixed(n).substring(2) : "";
return a + (i || "") + l.toString().replace(/\B(?=(\d{3})+(?!\d))/g, e) + c + (r || "");
}
};
},
text: function() {
return {
display: Ut
};
}
}, e.extend(Ge.ext.internal, {
_fnExternApiFunc: Ue,
_fnBuildAjax: U,
_fnAjaxUpdate: V,
_fnAjaxParameters: H,
_fnAjaxUpdateDraw: z,
_fnAjaxDataSrc: W,
_fnAddColumn: d,
_fnColumnOptions: h,
_fnAdjustColumnSizing: p,
_fnVisibleToColumnIndex: f,
_fnColumnIndexToVisible: g,
_fnVisbleColumns: m,
_fnGetColumns: v,
_fnColumnTypes: y,
_fnApplyColumnDefs: b,
_fnHungarianMap: r,
_fnCamelToHungarian: o,
_fnLanguageCompat: a,
_fnBrowserDetect: c,
_fnAddData: w,
_fnAddTr: x,
_fnNodeToDataIndex: function(e, t) {
return t._DT_RowIndex !== i ? t._DT_RowIndex : null;
},
_fnNodeToColumnIndex: function(t, n, i) {
return e.inArray(i, t.aoData[n].anCells);
},
_fnGetCellData: C,
_fnSetCellData: _,
_fnSplitObjNotation: S,
_fnGetObjectDataFn: $,
_fnSetObjectDataFn: A,
_fnGetDataMaster: k,
_fnClearTable: E,
_fnDeleteIndex: T,
_fnInvalidate: D,
_fnGetRowElements: F,
_fnCreateTr: M,
_fnBuildHead: L,
_fnDrawHead: P,
_fnDraw: O,
_fnReDraw: R,
_fnAddOptionsHtml: B,
_fnDetectHeader: N,
_fnGetUniqueThs: j,
_fnFeatureHtmlFilter: G,
_fnFilterComplete: q,
_fnFilterCustom: Y,
_fnFilterColumn: K,
_fnFilter: X,
_fnFilterCreateSearch: Q,
_fnEscapeRegex: gt,
_fnFilterData: J,
_fnFeatureHtmlInfo: te,
_fnUpdateInfo: ne,
_fnInfoMacros: ie,
_fnInitialise: re,
_fnInitComplete: oe,
_fnLengthChange: ae,
_fnFeatureHtmlLength: se,
_fnFeatureHtmlPaginate: le,
_fnPageChange: ce,
_fnFeatureHtmlProcessing: ue,
_fnProcessingDisplay: de,
_fnFeatureHtmlTable: he,
_fnScrollDraw: pe,
_fnApplyToChildren: fe,
_fnCalculateColumnWidths: ge,
_fnThrottle: bt,
_fnConvertToWidth: me,
_fnGetWidestNode: ve,
_fnGetMaxLenString: ye,
_fnStringToCss: be,
_fnSortFlatten: we,
_fnSort: xe,
_fnSortAria: Ce,
_fnSortListener: _e,
_fnSortAttachListener: Se,
_fnSortingClasses: $e,
_fnSortData: Ae,
_fnSaveState: ke,
_fnLoadState: Ee,
_fnSettingsFromNode: Te,
_fnLog: De,
_fnMap: Fe,
_fnBindAction: Ie,
_fnCallbackReg: Le,
_fnCallbackFire: Pe,
_fnLengthOverflow: Oe,
_fnRenderer: Re,
_fnDataSource: Be,
_fnRowAttributes: I,
_fnCalculateEnd: function() {}
}), e.fn.dataTable = Ge, Ge.$ = e, e.fn.dataTableSettings = Ge.settings, e.fn.dataTableExt = Ge.ext, e.fn.DataTable = function(t) {
return e(this).dataTable(t).api();
}, e.each(Ge, function(t, n) {
e.fn.DataTable[t] = n;
}), e.fn.dataTable;
}), function(e) {
"function" == typeof define && define.amd ? define([ "jquery", "datatables.net" ], function(t) {
return e(t, window, document);
}) : "object" == typeof exports ? module.exports = function(t, n) {
return t || (t = window), n && n.fn.dataTable || (n = require("datatables.net")(t, n).$), e(n, t, t.document);
} : e(jQuery, window, document);
}(function(e, t, n, i) {
"use strict";
function r(e) {
for (var t = [], n = 0, i = e.length; n < i; n++) t[e[n]] = n;
return t;
}
function o(e, t, n) {
var i = e.splice(t, 1)[0];
e.splice(n, 0, i);
}
function a(e, t, n) {
for (var i = [], r = 0, o = e.childNodes.length; r < o; r++) 1 == e.childNodes[r].nodeType && i.push(e.childNodes[r]);
var a = i[t];
null !== n ? e.insertBefore(a, i[n]) : e.appendChild(a);
}
var s = e.fn.dataTable;
e.fn.dataTableExt.oApi.fnColReorder = function(t, n, s, l, c) {
var u, d, h, p, f, g, m, v = t.aoColumns.length, y = function(e, t, n) {
if (e[t] && "function" != typeof e[t]) {
var i = e[t].split("."), r = i.shift();
isNaN(1 * r) || (e[t] = n[1 * r] + "." + i.join("."));
}
};
if (n != s) if (n < 0 || n >= v) this.oApi._fnLog(t, 1, "ColReorder 'from' index is out of bounds: " + n); else if (s < 0 || s >= v) this.oApi._fnLog(t, 1, "ColReorder 'to' index is out of bounds: " + s); else {
var b = [];
for (u = 0, d = v; u < d; u++) b[u] = u;
o(b, n, s);
var w = r(b);
for (u = 0, d = t.aaSorting.length; u < d; u++) t.aaSorting[u][0] = w[t.aaSorting[u][0]];
if (null !== t.aaSortingFixed) for (u = 0, d = t.aaSortingFixed.length; u < d; u++) t.aaSortingFixed[u][0] = w[t.aaSortingFixed[u][0]];
for (u = 0, d = v; u < d; u++) {
for (h = 0, p = (m = t.aoColumns[u]).aDataSort.length; h < p; h++) m.aDataSort[h] = w[m.aDataSort[h]];
m.idx = w[m.idx];
}
for (e.each(t.aLastSort, function(e, n) {
t.aLastSort[e].src = w[n.src];
}), u = 0, d = v; u < d; u++) "number" == typeof (m = t.aoColumns[u]).mData ? m.mData = w[m.mData] : e.isPlainObject(m.mData) && (y(m.mData, "_", w), y(m.mData, "filter", w), y(m.mData, "sort", w), y(m.mData, "type", w));
if (t.aoColumns[n].bVisible) {
var x = this.oApi._fnColumnIndexToVisible(t, n), C = null;
for (u = s < n ? s : s + 1; null === C && u < v; ) C = this.oApi._fnColumnIndexToVisible(t, u), u++;
for (u = 0, d = (g = t.nTHead.getElementsByTagName("tr")).length; u < d; u++) a(g[u], x, C);
if (null !== t.nTFoot) for (u = 0, d = (g = t.nTFoot.getElementsByTagName("tr")).length; u < d; u++) a(g[u], x, C);
for (u = 0, d = t.aoData.length; u < d; u++) null !== t.aoData[u].nTr && a(t.aoData[u].nTr, x, C);
}
for (o(t.aoColumns, n, s), u = 0, d = v; u < d; u++) t.oApi._fnColumnOptions(t, u, {});
for (o(t.aoPreSearchCols, n, s), u = 0, d = t.aoData.length; u < d; u++) {
var _ = t.aoData[u], S = _.anCells;
if (S) for (o(S, n, s), h = 0, f = S.length; h < f; h++) S[h] && S[h]._DT_CellIndex && (S[h]._DT_CellIndex.column = h);
"dom" !== _.src && e.isArray(_._aData) && o(_._aData, n, s);
}
for (u = 0, d = t.aoHeader.length; u < d; u++) o(t.aoHeader[u], n, s);
if (null !== t.aoFooter) for (u = 0, d = t.aoFooter.length; u < d; u++) o(t.aoFooter[u], n, s);
for ((c || c === i) && e.fn.dataTable.Api(t).rows().invalidate(), u = 0, d = v; u < d; u++) e(t.aoColumns[u].nTh).off("click.DT"), this.oApi._fnSortAttachListener(t, t.aoColumns[u].nTh, u);
e(t.oInstance).trigger("column-reorder.dt", [ t, {
from: n,
to: s,
mapping: w,
drop: l,
iFrom: n,
iTo: s,
aiInvertMapping: w
} ]);
}
};
var l = function(t, n) {
var i = new e.fn.dataTable.Api(t).settings()[0];
if (i._colReorder) return i._colReorder;
!0 === n && (n = {});
var r = e.fn.dataTable.camelToHungarian;
return r && (r(l.defaults, l.defaults, !0), r(l.defaults, n || {})), this.s = {
dt: null,
init: e.extend(!0, {}, l.defaults, n),
fixed: 0,
fixedRight: 0,
reorderCallback: null,
mouse: {
startX: -1,
startY: -1,
offsetX: -1,
offsetY: -1,
target: -1,
targetIndex: -1,
fromIndex: -1
},
aoTargets: []
}, this.dom = {
drag: null,
pointer: null
}, this.s.dt = i, this.s.dt._colReorder = this, this._fnConstruct(), this;
};
return e.extend(l.prototype, {
fnReset: function() {
return this._fnOrderColumns(this.fnOrder()), this;
},
fnGetCurrentOrder: function() {
return this.fnOrder();
},
fnOrder: function(t, n) {
var o, a, s = [], l = this.s.dt.aoColumns;
if (t === i) {
for (o = 0, a = l.length; o < a; o++) s.push(l[o]._ColReorder_iOrigCol);
return s;
}
if (n) {
var c = this.fnOrder();
for (o = 0, a = t.length; o < a; o++) s.push(e.inArray(t[o], c));
t = s;
}
return this._fnOrderColumns(r(t)), this;
},
fnTranspose: function(t, n) {
n || (n = "toCurrent");
var i = this.fnOrder(), r = this.s.dt.aoColumns;
return "toCurrent" === n ? e.isArray(t) ? e.map(t, function(t) {
return e.inArray(t, i);
}) : e.inArray(t, i) : e.isArray(t) ? e.map(t, function(e) {
return r[e]._ColReorder_iOrigCol;
}) : r[t]._ColReorder_iOrigCol;
},
_fnConstruct: function() {
var t, n = this, i = this.s.dt.aoColumns.length, o = this.s.dt.nTable;
for (this.s.init.iFixedColumns && (this.s.fixed = this.s.init.iFixedColumns), this.s.init.iFixedColumnsLeft && (this.s.fixed = this.s.init.iFixedColumnsLeft), this.s.fixedRight = this.s.init.iFixedColumnsRight ? this.s.init.iFixedColumnsRight : 0, this.s.init.fnReorderCallback && (this.s.reorderCallback = this.s.init.fnReorderCallback), t = 0; t < i; t++) t > this.s.fixed - 1 && t < i - this.s.fixedRight && this._fnMouseListener(t, this.s.dt.aoColumns[t].nTh), this.s.dt.aoColumns[t]._ColReorder_iOrigCol = t;
this.s.dt.oApi._fnCallbackReg(this.s.dt, "aoStateSaveParams", function(e, t) {
n._fnStateSave.call(n, t);
}, "ColReorder_State");
var a = null;
if (this.s.init.aiOrder && (a = this.s.init.aiOrder.slice()), this.s.dt.oLoadedState && void 0 !== this.s.dt.oLoadedState.ColReorder && this.s.dt.oLoadedState.ColReorder.length == this.s.dt.aoColumns.length && (a = this.s.dt.oLoadedState.ColReorder), a) if (n.s.dt._bInitComplete) {
var s = r(a);
n._fnOrderColumns.call(n, s);
} else {
var l = !1;
e(o).on("draw.dt.colReorder", function() {
if (!n.s.dt._bInitComplete && !l) {
l = !0;
var e = r(a);
n._fnOrderColumns.call(n, e);
}
});
} else this._fnSetColumnIndexes();
e(o).on("destroy.dt.colReorder", function() {
e(o).off("destroy.dt.colReorder draw.dt.colReorder"), e(n.s.dt.nTHead).find("*").off(".ColReorder"), e.each(n.s.dt.aoColumns, function(t, n) {
e(n.nTh).removeAttr("data-column-index");
}), n.s.dt._colReorder = null, n.s = null;
});
},
_fnOrderColumns: function(t) {
var n = !1;
if (t.length == this.s.dt.aoColumns.length) {
for (var i = 0, r = t.length; i < r; i++) {
var a = e.inArray(i, t);
i != a && (o(t, a, i), this.s.dt.oInstance.fnColReorder(a, i, !0, !1), n = !0);
}
e.fn.dataTable.Api(this.s.dt).rows().invalidate(), this._fnSetColumnIndexes(), n && ("" === this.s.dt.oScroll.sX && "" === this.s.dt.oScroll.sY || this.s.dt.oInstance.fnAdjustColumnSizing(!1), this.s.dt.oInstance.oApi._fnSaveState(this.s.dt), null !== this.s.reorderCallback && this.s.reorderCallback.call(this));
} else this.s.dt.oInstance.oApi._fnLog(this.s.dt, 1, "ColReorder - array reorder does not match known number of columns. Skipping.");
},
_fnStateSave: function(t) {
var n, i, r, o = this.s.dt.aoColumns;
if (t.ColReorder = [], t.aaSorting) {
for (n = 0; n < t.aaSorting.length; n++) t.aaSorting[n][0] = o[t.aaSorting[n][0]]._ColReorder_iOrigCol;
var a = e.extend(!0, [], t.aoSearchCols);
for (n = 0, i = o.length; n < i; n++) r = o[n]._ColReorder_iOrigCol, t.aoSearchCols[r] = a[n], t.abVisCols[r] = o[n].bVisible, t.ColReorder.push(r);
} else if (t.order) {
for (n = 0; n < t.order.length; n++) t.order[n][0] = o[t.order[n][0]]._ColReorder_iOrigCol;
var s = e.extend(!0, [], t.columns);
for (n = 0, i = o.length; n < i; n++) r = o[n]._ColReorder_iOrigCol, t.columns[r] = s[n], t.ColReorder.push(r);
}
},
_fnMouseListener: function(t, n) {
var i = this;
e(n).on("mousedown.ColReorder", function(e) {
e.preventDefault(), i._fnMouseDown.call(i, e, n);
}).on("touchstart.ColReorder", function(e) {
i._fnMouseDown.call(i, e, n);
});
},
_fnMouseDown: function(t, r) {
var o = this, a = e(t.target).closest("th, td").offset(), s = parseInt(e(r).attr("data-column-index"), 10);
s !== i && (this.s.mouse.startX = this._fnCursorPosition(t, "pageX"), this.s.mouse.startY = this._fnCursorPosition(t, "pageY"), this.s.mouse.offsetX = this._fnCursorPosition(t, "pageX") - a.left, this.s.mouse.offsetY = this._fnCursorPosition(t, "pageY") - a.top, this.s.mouse.target = this.s.dt.aoColumns[s].nTh, this.s.mouse.targetIndex = s, this.s.mouse.fromIndex = s, this._fnRegions(), e(n).on("mousemove.ColReorder touchmove.ColReorder", function(e) {
o._fnMouseMove.call(o, e);
}).on("mouseup.ColReorder touchend.ColReorder", function(e) {
o._fnMouseUp.call(o, e);
}));
},
_fnMouseMove: function(e) {
if (null === this.dom.drag) {
if (Math.pow(Math.pow(this._fnCursorPosition(e, "pageX") - this.s.mouse.startX, 2) + Math.pow(this._fnCursorPosition(e, "pageY") - this.s.mouse.startY, 2), .5) < 5) return;
this._fnCreateDragNode();
}
this.dom.drag.css({
left: this._fnCursorPosition(e, "pageX") - this.s.mouse.offsetX,
top: this._fnCursorPosition(e, "pageY") - this.s.mouse.offsetY
});
for (var t = !1, n = this.s.mouse.toIndex, i = 1, r = this.s.aoTargets.length; i < r; i++) if (this._fnCursorPosition(e, "pageX") < this.s.aoTargets[i - 1].x + (this.s.aoTargets[i].x - this.s.aoTargets[i - 1].x) / 2) {
this.dom.pointer.css("left", this.s.aoTargets[i - 1].x), this.s.mouse.toIndex = this.s.aoTargets[i - 1].to, t = !0;
break;
}
t || (this.dom.pointer.css("left", this.s.aoTargets[this.s.aoTargets.length - 1].x), this.s.mouse.toIndex = this.s.aoTargets[this.s.aoTargets.length - 1].to), this.s.init.bRealtime && n !== this.s.mouse.toIndex && (this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex, this.s.mouse.toIndex, !1), this.s.mouse.fromIndex = this.s.mouse.toIndex, this._fnRegions());
},
_fnMouseUp: function(t) {
e(n).off(".ColReorder"), null !== this.dom.drag && (this.dom.drag.remove(), this.dom.pointer.remove(), this.dom.drag = null, this.dom.pointer = null, this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex, this.s.mouse.toIndex, !0), this._fnSetColumnIndexes(), "" === this.s.dt.oScroll.sX && "" === this.s.dt.oScroll.sY || this.s.dt.oInstance.fnAdjustColumnSizing(!1), this.s.dt.oInstance.oApi._fnSaveState(this.s.dt), null !== this.s.reorderCallback && this.s.reorderCallback.call(this));
},
_fnRegions: function() {
var t = this.s.dt.aoColumns;
this.s.aoTargets.splice(0, this.s.aoTargets.length), this.s.aoTargets.push({
x: e(this.s.dt.nTable).offset().left,
to: 0
});
for (var n = 0, i = this.s.aoTargets[0].x, r = 0, o = t.length; r < o; r++) r != this.s.mouse.fromIndex && n++, t[r].bVisible && "none" !== t[r].nTh.style.display && (i += e(t[r].nTh).outerWidth(), this.s.aoTargets.push({
x: i,
to: n
}));
0 !== this.s.fixedRight && this.s.aoTargets.splice(this.s.aoTargets.length - this.s.fixedRight), 0 !== this.s.fixed && this.s.aoTargets.splice(0, this.s.fixed);
},
_fnCreateDragNode: function() {
var t = "" !== this.s.dt.oScroll.sX || "" !== this.s.dt.oScroll.sY, n = this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh, i = n.parentNode, r = i.parentNode, o = r.parentNode, a = e(n).clone();
this.dom.drag = e(o.cloneNode(!1)).addClass("DTCR_clonedTable").append(e(r.cloneNode(!1)).append(e(i.cloneNode(!1)).append(a[0]))).css({
position: "absolute",
top: 0,
left: 0,
width: e(n).outerWidth(),
height: e(n).outerHeight()
}).appendTo("body"), this.dom.pointer = e("<div></div>").addClass("DTCR_pointer").css({
position: "absolute",
top: t ? e("div.dataTables_scroll", this.s.dt.nTableWrapper).offset().top : e(this.s.dt.nTable).offset().top,
height: t ? e("div.dataTables_scroll", this.s.dt.nTableWrapper).height() : e(this.s.dt.nTable).height()
}).appendTo("body");
},
_fnSetColumnIndexes: function() {
e.each(this.s.dt.aoColumns, function(t, n) {
e(n.nTh).attr("data-column-index", t);
});
},
_fnCursorPosition: function(e, t) {
return -1 !== e.type.indexOf("touch") ? e.originalEvent.touches[0][t] : e[t];
}
}), l.defaults = {
aiOrder: null,
bRealtime: !0,
iFixedColumnsLeft: 0,
iFixedColumnsRight: 0,
fnReorderCallback: null
}, l.version = "1.3.3", e.fn.dataTable.ColReorder = l, e.fn.DataTable.ColReorder = l, "function" == typeof e.fn.dataTable && "function" == typeof e.fn.dataTableExt.fnVersionCheck && e.fn.dataTableExt.fnVersionCheck("1.10.8") ? e.fn.dataTableExt.aoFeatures.push({
fnInit: function(e) {
var t = e.oInstance;
if (e._colReorder) t.oApi._fnLog(e, 1, "ColReorder attempted to initialise twice. Ignoring second"); else {
var n = e.oInit, i = n.colReorder || n.oColReorder || {};
new l(e, i);
}
return null;
},
cFeature: "R",
sFeature: "ColReorder"
}) : alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download"), e(n).on("preInit.dt.colReorder", function(t, n) {
if ("dt" === t.namespace) {
var i = n.oInit.colReorder, r = s.defaults.colReorder;
if (i || r) {
var o = e.extend({}, i, r);
!1 !== i && new l(n, o);
}
}
}), e.fn.dataTable.Api.register("colReorder.reset()", function() {
return this.iterator("table", function(e) {
e._colReorder.fnReset();
});
}), e.fn.dataTable.Api.register("colReorder.order()", function(e, t) {
return e ? this.iterator("table", function(n) {
n._colReorder.fnOrder(e, t);
}) : this.context.length ? this.context[0]._colReorder.fnOrder() : null;
}), e.fn.dataTable.Api.register("colReorder.transpose()", function(e, t) {
return this.context.length && this.context[0]._colReorder ? this.context[0]._colReorder.fnTranspose(e, t) : e;
}), l;
}), function(e, t, n) {
var i = function(e, n) {
"use strict";
var i = function(t, n) {
this.CLASS && "ColVis" == this.CLASS || alert("Warning: ColVis must be initialised with the keyword 'new'"), void 0 === n && (n = {});
var r = e.fn.dataTable.camelToHungarian;
return r && (r(i.defaults, i.defaults, !0), r(i.defaults, n)), this.s = {
dt: null,
oInit: n,
hidden: !0,
abOriginal: []
}, this.dom = {
wrapper: null,
button: null,
collection: null,
background: null,
catcher: null,
buttons: [],
groupButtons: [],
restore: null
}, i.aInstances.push(this), this.s.dt = e.fn.dataTable.Api ? new e.fn.dataTable.Api(t).settings()[0] : t, this._fnConstruct(n), this;
};
return i.prototype = {
button: function() {
return this.dom.wrapper;
},
fnRebuild: function() {
this.rebuild();
},
rebuild: function() {
for (var e = this.dom.buttons.length - 1; e >= 0; e--) this.dom.collection.removeChild(this.dom.buttons[e]);
this.dom.buttons.splice(0, this.dom.buttons.length), this.dom.groupButtons.splice(0, this.dom.groupButtons.length), this.dom.restore && this.dom.restore.parentNode(this.dom.restore), this._fnAddGroups(), this._fnAddButtons(), this._fnDrawCallback();
},
_fnConstruct: function(n) {
this._fnApplyCustomisation(n);
var i, r, o = this;
for (this.dom.wrapper = t.createElement("div"), this.dom.wrapper.className = "ColVis", this.dom.button = e("<button />", {
class: this.s.dt.bJUI ? "ColVis_Button ColVis_MasterButton ui-button ui-state-default" : "ColVis_Button ColVis_MasterButton"
}).append("<span>" + this.s.buttonText + "</span>").bind("mouseover" == this.s.activate ? "mouseover" : "click", function(e) {
e.preventDefault(), o._fnCollectionShow();
}).appendTo(this.dom.wrapper)[0], this.dom.catcher = this._fnDomCatcher(), this.dom.collection = this._fnDomCollection(), this.dom.background = this._fnDomBackground(), this._fnAddGroups(), this._fnAddButtons(), i = 0, r = this.s.dt.aoColumns.length; i < r; i++) this.s.abOriginal.push(this.s.dt.aoColumns[i].bVisible);
this.s.dt.aoDrawCallback.push({
fn: function() {
o._fnDrawCallback.call(o);
},
sName: "ColVis"
}), e(this.s.dt.oInstance).bind("column-reorder.dt", function(e, t, n) {
for (i = 0, r = o.s.aiExclude.length; i < r; i++) o.s.aiExclude[i] = n.aiInvertMapping[o.s.aiExclude[i]];
var a = o.s.abOriginal.splice(n.iFrom, 1)[0];
o.s.abOriginal.splice(n.iTo, 0, a), o.fnRebuild();
}), e(this.s.dt.oInstance).bind("destroy.dt", function() {
e(o.dom.wrapper).remove();
}), this._fnDrawCallback();
},
_fnApplyCustomisation: function(t) {
e.extend(!0, this.s, i.defaults, t), !this.s.showAll && this.s.bShowAll && (this.s.showAll = this.s.sShowAll), !this.s.restore && this.s.bRestore && (this.s.restore = this.s.sRestore);
var n = this.s.groups, r = this.s.aoGroups;
if (n) for (var o = 0, a = n.length; o < a; o++) n[o].title && (r[o].sTitle = n[o].title), n[o].columns && (r[o].aiColumns = n[o].columns);
},
_fnDrawCallback: function() {
for (var t, n = this.s.dt.aoColumns, i = this.dom.buttons, r = this.s.aoGroups, o = 0, a = i.length; o < a; o++) void 0 !== (t = i[o]).__columnIdx && e("input", t).prop("checked", n[t.__columnIdx].bVisible);
for (var s = 0, l = r.length; s < l; s++) !function(e) {
for (var t = 0, i = e.length; t < i; t++) if (!1 === n[e[t]].bVisible) return !1;
return !0;
}(r[s].aiColumns) ? !function(e) {
for (var t = 0, i = e.length; t < i; t++) if (!0 === n[e[t]].bVisible) return !1;
return !0;
}(r[s].aiColumns) ? e("input", this.dom.groupButtons[s]).prop("indeterminate", !0) : (e("input", this.dom.groupButtons[s]).prop("checked", !1), e("input", this.dom.groupButtons[s]).prop("indeterminate", !1)) : (e("input", this.dom.groupButtons[s]).prop("checked", !0), e("input", this.dom.groupButtons[s]).prop("indeterminate", !1));
},
_fnAddGroups: function() {
var e;
if (void 0 !== this.s.aoGroups) for (var t = 0, n = this.s.aoGroups.length; t < n; t++) e = this._fnDomGroupButton(t), this.dom.groupButtons.push(e), this.dom.buttons.push(e), this.dom.collection.appendChild(e);
},
_fnAddButtons: function() {
var t, n = this.s.dt.aoColumns;
if (-1 === e.inArray("all", this.s.aiExclude)) for (var i = 0, r = n.length; i < r; i++) -1 === e.inArray(i, this.s.aiExclude) && ((t = this._fnDomColumnButton(i)).__columnIdx = i, this.dom.buttons.push(t));
"alpha" === this.s.order && this.dom.buttons.sort(function(e, t) {
var i = n[e.__columnIdx].sTitle, r = n[t.__columnIdx].sTitle;
return i === r ? 0 : i < r ? -1 : 1;
}), this.s.restore && ((t = this._fnDomRestoreButton()).className += " ColVis_Restore", this.dom.buttons.push(t)), this.s.showAll && ((t = this._fnDomShowXButton(this.s.showAll, !0)).className += " ColVis_ShowAll", this.dom.buttons.push(t)), this.s.showNone && ((t = this._fnDomShowXButton(this.s.showNone, !1)).className += " ColVis_ShowNone", this.dom.buttons.push(t)), e(this.dom.collection).append(this.dom.buttons);
},
_fnDomRestoreButton: function() {
var t = this, n = this.s.dt;
return e('<li class="ColVis_Special ' + (n.bJUI ? "ui-button ui-state-default" : "") + '">' + this.s.restore + "</li>").click(function(e) {
for (var n = 0, i = t.s.abOriginal.length; n < i; n++) t.s.dt.oInstance.fnSetColumnVis(n, t.s.abOriginal[n], !1);
t._fnAdjustOpenRows(), t.s.dt.oInstance.fnAdjustColumnSizing(!1), t.s.dt.oInstance.fnDraw(!1);
})[0];
},
_fnDomShowXButton: function(t, n) {
var i = this, r = this.s.dt;
return e('<li class="ColVis_Special ' + (r.bJUI ? "ui-button ui-state-default" : "") + '">' + t + "</li>").click(function(e) {
for (var t = 0, r = i.s.abOriginal.length; t < r; t++) -1 === i.s.aiExclude.indexOf(t) && i.s.dt.oInstance.fnSetColumnVis(t, n, !1);
i._fnAdjustOpenRows(), i.s.dt.oInstance.fnAdjustColumnSizing(!1), i.s.dt.oInstance.fnDraw(!1);
})[0];
},
_fnDomGroupButton: function(t) {
var n = this, i = this.s.dt, r = this.s.aoGroups[t];
return e('<li class="ColVis_Special ' + (i.bJUI ? "ui-button ui-state-default" : "") + '"><label><input type="checkbox" /><span>' + r.sTitle + "</span></label></li>").click(function(t) {
var i = !e("input", this).is(":checked");
"li" !== t.target.nodeName.toLowerCase() && (i = !i);
for (var o = 0; o < r.aiColumns.length; o++) n.s.dt.oInstance.fnSetColumnVis(r.aiColumns[o], i);
})[0];
},
_fnDomColumnButton: function(t) {
var n = this, i = this.s.dt.aoColumns[t], r = this.s.dt, o = null === this.s.fnLabel ? i.sTitle : this.s.fnLabel(t, i.sTitle, i.nTh);
return e("<li " + (r.bJUI ? 'class="ui-button ui-state-default"' : "") + '><label><input type="checkbox" /><span>' + o + "</span></label></li>").click(function(i) {
var o = !e("input", this).is(":checked");
"li" !== i.target.nodeName.toLowerCase() && ("input" != i.target.nodeName.toLowerCase() && null !== n.s.fnStateChange || (o = !o));
var a = e.fn.dataTableExt.iApiIndex;
e.fn.dataTableExt.iApiIndex = n._fnDataTablesApiIndex.call(n), r.oFeatures.bServerSide ? (n.s.dt.oInstance.fnSetColumnVis(t, o, !1), n.s.dt.oInstance.fnAdjustColumnSizing(!1), "" === r.oScroll.sX && "" === r.oScroll.sY || n.s.dt.oInstance.oApi._fnScrollDraw(n.s.dt), n._fnDrawCallback()) : n.s.dt.oInstance.fnSetColumnVis(t, o), e.fn.dataTableExt.iApiIndex = a, null !== n.s.fnStateChange && ("span" == i.target.nodeName.toLowerCase() && i.preventDefault(), n.s.fnStateChange.call(n, t, o));
})[0];
},
_fnDataTablesApiIndex: function() {
for (var e = 0, t = this.s.dt.oInstance.length; e < t; e++) if (this.s.dt.oInstance[e] == this.s.dt.nTable) return e;
return 0;
},
_fnDomCollection: function() {
return e("<ul />", {
class: this.s.dt.bJUI ? "ColVis_collection ui-buttonset ui-buttonset-multi" : "ColVis_collection"
}).css({
display: "none",
opacity: 0,
position: this.s.bCssPosition ? "" : "absolute"
})[0];
},
_fnDomCatcher: function() {
var n = this, i = t.createElement("div");
return i.className = "ColVis_catcher", e(i).click(function() {
n._fnCollectionHide.call(n, null, null);
}), i;
},
_fnDomBackground: function() {
var t = this, n = e("<div></div>").addClass("ColVis_collectionBackground").css("opacity", 0).click(function() {
t._fnCollectionHide.call(t, null, null);
});
return "mouseover" == this.s.activate && n.mouseover(function() {
t.s.overcollection = !1, t._fnCollectionHide.call(t, null, null);
}), n[0];
},
_fnCollectionShow: function() {
var n, i = this, r = e(this.dom.button).offset(), o = this.dom.collection, a = this.dom.background, s = parseInt(r.left, 10), l = parseInt(r.top + e(this.dom.button).outerHeight(), 10);
this.s.bCssPosition || (o.style.top = l + "px", o.style.left = s + "px"), e(o).css({
display: "block",
opacity: 0
}), a.style.bottom = "0px", a.style.right = "0px";
var c = this.dom.catcher.style;
if (c.height = e(this.dom.button).outerHeight() + "px", c.width = e(this.dom.button).outerWidth() + "px", c.top = r.top + "px", c.left = s + "px", t.body.appendChild(a), t.body.appendChild(o), t.body.appendChild(this.dom.catcher), e(o).animate({
opacity: 1
}, i.s.iOverlayFade), e(a).animate({
opacity: .1
}, i.s.iOverlayFade, "linear", function() {
e.browser && e.browser.msie && "6.0" == e.browser.version && i._fnDrawCallback();
}), !this.s.bCssPosition) {
n = "left" == this.s.sAlign ? s : s - e(o).outerWidth() + e(this.dom.button).outerWidth(), o.style.left = n + "px";
var u = e(o).outerWidth(), d = (e(o).outerHeight(), e(t).width());
n + u > d && (o.style.left = d - u + "px");
}
this.s.hidden = !1;
},
_fnCollectionHide: function() {
var n = this;
this.s.hidden || null === this.dom.collection || (this.s.hidden = !0, e(this.dom.collection).animate({
opacity: 0
}, n.s.iOverlayFade, function(e) {
this.style.display = "none";
}), e(this.dom.background).animate({
opacity: 0
}, n.s.iOverlayFade, function(e) {
t.body.removeChild(n.dom.background), t.body.removeChild(n.dom.catcher);
}));
},
_fnAdjustOpenRows: function() {
for (var e = this.s.dt.aoOpenRows, t = this.s.dt.oApi._fnVisbleColumns(this.s.dt), n = 0, i = e.length; n < i; n++) e[n].nTr.getElementsByTagName("td")[0].colSpan = t;
}
}, i.fnRebuild = function(t) {
var n = null;
void 0 !== t && (n = e.fn.dataTable.Api ? new e.fn.dataTable.Api(t).table().node() : t.fnSettings().nTable);
for (var r = 0, o = i.aInstances.length; r < o; r++) void 0 !== t && n != i.aInstances[r].s.dt.nTable || i.aInstances[r].fnRebuild();
}, i.defaults = {
active: "click",
buttonText: "Show / hide columns",
aiExclude: [],
bRestore: !1,
sRestore: "Restore original",
bShowAll: !1,
sShowAll: "Show All",
sAlign: "left",
fnStateChange: null,
iOverlayFade: 500,
fnLabel: null,
bCssPosition: !1,
aoGroups: [],
order: "column"
}, i.aInstances = [], i.prototype.CLASS = "ColVis", i.VERSION = "1.1.2", i.prototype.VERSION = i.VERSION, "function" == typeof e.fn.dataTable && "function" == typeof e.fn.dataTableExt.fnVersionCheck && e.fn.dataTableExt.fnVersionCheck("1.7.0") ? e.fn.dataTableExt.aoFeatures.push({
fnInit: function(e) {
var t = e.oInit;
return new i(e, t.colVis || t.oColVis || {}).button();
},
cFeature: "C",
sFeature: "ColVis"
}) : alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download"), e.fn.dataTable.ColVis = i, e.fn.DataTable.ColVis = i, i;
};
"function" == typeof define && define.amd ? define([ "jquery", "datatables" ], i) : "object" == typeof exports ? i(require("jquery"), require("datatables")) : jQuery && !jQuery.fn.dataTable.ColVis && i(jQuery, jQuery.fn.dataTable);
}(window, document), function(e) {
"use strict";
"function" == typeof define && define.amd ? define([ "jquery" ], e) : "undefined" != typeof module && module.exports ? module.exports = e(require("jquery")) : e(jQuery);
}(function(e) {
var t = -1, n = -1, i = function(e) {
return parseFloat(e) || 0;
}, r = function(t) {
var n = null, r = [];
return e(t).each(function() {
var t = e(this), o = t.offset().top - i(t.css("margin-top")), a = r.length > 0 ? r[r.length - 1] : null;
null === a ? r.push(t) : Math.floor(Math.abs(n - o)) <= 1 ? r[r.length - 1] = a.add(t) : r.push(t), n = o;
}), r;
}, o = function(t) {
var n = {
byRow: !0,
property: "height",
target: null,
remove: !1
};
return "object" == typeof t ? e.extend(n, t) : ("boolean" == typeof t ? n.byRow = t : "remove" === t && (n.remove = !0), n);
}, a = e.fn.matchHeight = function(t) {
var n = o(t);
if (n.remove) {
var i = this;
return this.css(n.property, ""), e.each(a._groups, function(e, t) {
t.elements = t.elements.not(i);
}), this;
}
return this.length <= 1 && !n.target ? this : (a._groups.push({
elements: this,
options: n
}), a._apply(this, n), this);
};
a.version = "0.7.0", a._groups = [], a._throttle = 80, a._maintainScroll = !1, a._beforeUpdate = null, a._afterUpdate = null, a._rows = r, a._parse = i, a._parseOptions = o, a._apply = function(t, n) {
var s = o(n), l = e(t), c = [ l ], u = e(window).scrollTop(), d = e("html").outerHeight(!0), h = l.parents().filter(":hidden");
return h.each(function() {
var t = e(this);
t.data("style-cache", t.attr("style"));
}), h.css("display", "block"), s.byRow && !s.target && (l.each(function() {
var t = e(this), n = t.css("display");
"inline-block" !== n && "flex" !== n && "inline-flex" !== n && (n = "block"), t.data("style-cache", t.attr("style")), t.css({
display: n,
"padding-top": "0",
"padding-bottom": "0",
"margin-top": "0",
"margin-bottom": "0",
"border-top-width": "0",
"border-bottom-width": "0",
height: "100px",
overflow: "hidden"
});
}), c = r(l), l.each(function() {
var t = e(this);
t.attr("style", t.data("style-cache") || "");
})), e.each(c, function(t, n) {
var r = e(n), o = 0;
if (s.target) o = s.target.outerHeight(!1); else {
if (s.byRow && r.length <= 1) return void r.css(s.property, "");
r.each(function() {
var t = e(this), n = t.attr("style"), i = t.css("display");
"inline-block" !== i && "flex" !== i && "inline-flex" !== i && (i = "block");
var r = {
display: i
};
r[s.property] = "", t.css(r), t.outerHeight(!1) > o && (o = t.outerHeight(!1)), n ? t.attr("style", n) : t.css("display", "");
});
}
r.each(function() {
var t = e(this), n = 0;
s.target && t.is(s.target) || ("border-box" !== t.css("box-sizing") && (n += i(t.css("border-top-width")) + i(t.css("border-bottom-width")), n += i(t.css("padding-top")) + i(t.css("padding-bottom"))), t.css(s.property, o - n + "px"));
});
}), h.each(function() {
var t = e(this);
t.attr("style", t.data("style-cache") || null);
}), a._maintainScroll && e(window).scrollTop(u / d * e("html").outerHeight(!0)), this;
}, a._applyDataApi = function() {
var t = {};
e("[data-match-height], [data-mh]").each(function() {
var n = e(this), i = n.attr("data-mh") || n.attr("data-match-height");
t[i] = i in t ? t[i].add(n) : n;
}), e.each(t, function() {
this.matchHeight(!0);
});
};
var s = function(t) {
a._beforeUpdate && a._beforeUpdate(t, a._groups), e.each(a._groups, function() {
a._apply(this.elements, this.options);
}), a._afterUpdate && a._afterUpdate(t, a._groups);
};
a._update = function(i, r) {
if (r && "resize" === r.type) {
var o = e(window).width();
if (o === t) return;
t = o;
}
i ? -1 === n && (n = setTimeout(function() {
s(r), n = -1;
}, a._throttle)) : s(r);
}, e(a._applyDataApi), e(window).bind("load", function(e) {
a._update(!1, e);
}), e(window).bind("resize orientationchange", function(e) {
a._update(!0, e);
});
}), function(e, t) {
"object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.moment = t();
}(this, function() {
"use strict";
function e() {
return gt.apply(null, arguments);
}
function t(e) {
return e instanceof Array || "[object Array]" === Object.prototype.toString.call(e);
}
function n(e) {
return "[object Object]" === Object.prototype.toString.call(e);
}
function i(e) {
var t;
for (t in e) return !1;
return !0;
}
function r(e) {
return e instanceof Date || "[object Date]" === Object.prototype.toString.call(e);
}
function o(e, t) {
var n, i = [];
for (n = 0; n < e.length; ++n) i.push(t(e[n], n));
return i;
}
function a(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}
function s(e, t) {
for (var n in t) a(t, n) && (e[n] = t[n]);
return a(t, "toString") && (e.toString = t.toString), a(t, "valueOf") && (e.valueOf = t.valueOf), e;
}
function l(e, t, n, i) {
return Ie(e, t, n, i, !0).utc();
}
function c() {
return {
empty: !1,
unusedTokens: [],
unusedInput: [],
overflow: -2,
charsLeftOver: 0,
nullInput: !1,
invalidMonth: null,
invalidFormat: !1,
userInvalidated: !1,
iso: !1,
parsedDateParts: [],
meridiem: null
};
}
function u(e) {
return null == e._pf && (e._pf = c()), e._pf;
}
function d(e) {
if (null == e._isValid) {
var t = u(e), n = mt.call(t.parsedDateParts, function(e) {
return null != e;
});
e._isValid = !isNaN(e._d.getTime()) && t.overflow < 0 && !t.empty && !t.invalidMonth && !t.invalidWeekday && !t.nullInput && !t.invalidFormat && !t.userInvalidated && (!t.meridiem || t.meridiem && n), e._strict && (e._isValid = e._isValid && 0 === t.charsLeftOver && 0 === t.unusedTokens.length && void 0 === t.bigHour);
}
return e._isValid;
}
function h(e) {
var t = l(NaN);
return null != e ? s(u(t), e) : u(t).userInvalidated = !0, t;
}
function p(e) {
return void 0 === e;
}
function f(e, t) {
var n, i, r;
if (p(t._isAMomentObject) || (e._isAMomentObject = t._isAMomentObject), p(t._i) || (e._i = t._i), p(t._f) || (e._f = t._f), p(t._l) || (e._l = t._l), p(t._strict) || (e._strict = t._strict), p(t._tzm) || (e._tzm = t._tzm), p(t._isUTC) || (e._isUTC = t._isUTC), p(t._offset) || (e._offset = t._offset), p(t._pf) || (e._pf = u(t)), p(t._locale) || (e._locale = t._locale), vt.length > 0) for (n in vt) p(r = t[i = vt[n]]) || (e[i] = r);
return e;
}
function g(t) {
f(this, t), this._d = new Date(null != t._d ? t._d.getTime() : NaN), !1 === yt && (yt = !0, e.updateOffset(this), yt = !1);
}
function m(e) {
return e instanceof g || null != e && null != e._isAMomentObject;
}
function v(e) {
return e < 0 ? Math.ceil(e) || 0 : Math.floor(e);
}
function y(e) {
var t = +e, n = 0;
return 0 !== t && isFinite(t) && (n = v(t)), n;
}
function b(e, t, n) {
var i, r = Math.min(e.length, t.length), o = Math.abs(e.length - t.length), a = 0;
for (i = 0; i < r; i++) (n && e[i] !== t[i] || !n && y(e[i]) !== y(t[i])) && a++;
return a + o;
}
function w(t) {
!1 === e.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t);
}
function x(t, n) {
var i = !0;
return s(function() {
return null != e.deprecationHandler && e.deprecationHandler(null, t), i && (w(t + "\nArguments: " + Array.prototype.slice.call(arguments).join(", ") + "\n" + new Error().stack), i = !1), n.apply(this, arguments);
}, n);
}
function C(t, n) {
null != e.deprecationHandler && e.deprecationHandler(t, n), bt[t] || (w(n), bt[t] = !0);
}
function _(e) {
return e instanceof Function || "[object Function]" === Object.prototype.toString.call(e);
}
function S(e, t) {
var i, r = s({}, e);
for (i in t) a(t, i) && (n(e[i]) && n(t[i]) ? (r[i] = {}, s(r[i], e[i]), s(r[i], t[i])) : null != t[i] ? r[i] = t[i] : delete r[i]);
for (i in e) a(e, i) && !a(t, i) && n(e[i]) && (r[i] = s({}, r[i]));
return r;
}
function $(e) {
null != e && this.set(e);
}
function A(e, t) {
var n = e.toLowerCase();
At[n] = At[n + "s"] = At[t] = e;
}
function k(e) {
return "string" == typeof e ? At[e] || At[e.toLowerCase()] : void 0;
}
function E(e) {
var t, n, i = {};
for (n in e) a(e, n) && (t = k(n)) && (i[t] = e[n]);
return i;
}
function T(e, t) {
kt[e] = t;
}
function D(e) {
var t = [];
for (var n in e) t.push({
unit: n,
priority: kt[n]
});
return t.sort(function(e, t) {
return e.priority - t.priority;
}), t;
}
function F(t, n) {
return function(i) {
return null != i ? (I(this, t, i), e.updateOffset(this, n), this) : M(this, t);
};
}
function M(e, t) {
return e.isValid() ? e._d["get" + (e._isUTC ? "UTC" : "") + t]() : NaN;
}
function I(e, t, n) {
e.isValid() && e._d["set" + (e._isUTC ? "UTC" : "") + t](n);
}
function L(e, t, n) {
var i = "" + Math.abs(e), r = t - i.length;
return (e >= 0 ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, r)).toString().substr(1) + i;
}
function P(e, t, n, i) {
var r = i;
"string" == typeof i && (r = function() {
return this[i]();
}), e && (Ft[e] = r), t && (Ft[t[0]] = function() {
return L(r.apply(this, arguments), t[1], t[2]);
}), n && (Ft[n] = function() {
return this.localeData().ordinal(r.apply(this, arguments), e);
});
}
function O(e) {
return e.match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "");
}
function R(e) {
var t, n, i = e.match(Et);
for (t = 0, n = i.length; t < n; t++) Ft[i[t]] ? i[t] = Ft[i[t]] : i[t] = O(i[t]);
return function(t) {
var r, o = "";
for (r = 0; r < n; r++) o += i[r] instanceof Function ? i[r].call(t, e) : i[r];
return o;
};
}
function B(e, t) {
return e.isValid() ? (t = N(t, e.localeData()), Dt[t] = Dt[t] || R(t), Dt[t](e)) : e.localeData().invalidDate();
}
function N(e, t) {
var n = 5;
for (Tt.lastIndex = 0; n >= 0 && Tt.test(e); ) e = e.replace(Tt, function(e) {
return t.longDateFormat(e) || e;
}), Tt.lastIndex = 0, n -= 1;
return e;
}
function j(e, t, n) {
Kt[e] = _(t) ? t : function(e, i) {
return e && n ? n : t;
};
}
function U(e, t) {
return a(Kt, e) ? Kt[e](t._strict, t._locale) : new RegExp(V(e));
}
function V(e) {
return H(e.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e, t, n, i, r) {
return t || n || i || r;
}));
}
function H(e) {
return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
}
function z(e, t) {
var n, i = t;
for ("string" == typeof e && (e = [ e ]), "number" == typeof t && (i = function(e, n) {
n[t] = y(e);
}), n = 0; n < e.length; n++) Xt[e[n]] = i;
}
function W(e, t) {
z(e, function(e, n, i, r) {
i._w = i._w || {}, t(e, i._w, i, r);
});
}
function G(e, t, n) {
null != t && a(Xt, e) && Xt[e](t, n._a, n, e);
}
function q(e, t) {
return new Date(Date.UTC(e, t + 1, 0)).getUTCDate();
}
function Y(e, t, n) {
var i, r, o, a = e.toLocaleLowerCase();
if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], i = 0; i < 12; ++i) o = l([ 2e3, i ]), this._shortMonthsParse[i] = this.monthsShort(o, "").toLocaleLowerCase(), this._longMonthsParse[i] = this.months(o, "").toLocaleLowerCase();
return n ? "MMM" === t ? -1 !== (r = xt.call(this._shortMonthsParse, a)) ? r : null : -1 !== (r = xt.call(this._longMonthsParse, a)) ? r : null : "MMM" === t ? -1 !== (r = xt.call(this._shortMonthsParse, a)) ? r : -1 !== (r = xt.call(this._longMonthsParse, a)) ? r : null : -1 !== (r = xt.call(this._longMonthsParse, a)) ? r : -1 !== (r = xt.call(this._shortMonthsParse, a)) ? r : null;
}
function K(e, t) {
var n;
if (!e.isValid()) return e;
if ("string" == typeof t) if (/^\d+$/.test(t)) t = y(t); else if ("number" != typeof (t = e.localeData().monthsParse(t))) return e;
return n = Math.min(e.date(), q(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, n), e;
}
function X(t) {
return null != t ? (K(this, t), e.updateOffset(this, !0), this) : M(this, "Month");
}
function Q() {
function e(e, t) {
return t.length - e.length;
}
var t, n, i = [], r = [], o = [];
for (t = 0; t < 12; t++) n = l([ 2e3, t ]), i.push(this.monthsShort(n, "")), r.push(this.months(n, "")), o.push(this.months(n, "")), o.push(this.monthsShort(n, ""));
for (i.sort(e), r.sort(e), o.sort(e), t = 0; t < 12; t++) i[t] = H(i[t]), r[t] = H(r[t]);
for (t = 0; t < 24; t++) o[t] = H(o[t]);
this._monthsRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + i.join("|") + ")", "i");
}
function J(e) {
return Z(e) ? 366 : 365;
}
function Z(e) {
return e % 4 == 0 && e % 100 != 0 || e % 400 == 0;
}
function ee(e, t, n, i, r, o, a) {
var s = new Date(e, t, n, i, r, o, a);
return e < 100 && e >= 0 && isFinite(s.getFullYear()) && s.setFullYear(e), s;
}
function te(e) {
var t = new Date(Date.UTC.apply(null, arguments));
return e < 100 && e >= 0 && isFinite(t.getUTCFullYear()) && t.setUTCFullYear(e), t;
}
function ne(e, t, n) {
var i = 7 + t - n;
return -((7 + te(e, 0, i).getUTCDay() - t) % 7) + i - 1;
}
function ie(e, t, n, i, r) {
var o, a, s = 1 + 7 * (t - 1) + (7 + n - i) % 7 + ne(e, i, r);
return s <= 0 ? a = J(o = e - 1) + s : s > J(e) ? (o = e + 1, a = s - J(e)) : (o = e, a = s), {
year: o,
dayOfYear: a
};
}
function re(e, t, n) {
var i, r, o = ne(e.year(), t, n), a = Math.floor((e.dayOfYear() - o - 1) / 7) + 1;
return a < 1 ? i = a + oe(r = e.year() - 1, t, n) : a > oe(e.year(), t, n) ? (i = a - oe(e.year(), t, n), r = e.year() + 1) : (r = e.year(), i = a), {
week: i,
year: r
};
}
function oe(e, t, n) {
var i = ne(e, t, n), r = ne(e + 1, t, n);
return (J(e) - i + r) / 7;
}
function ae(e, t) {
return "string" != typeof e ? e : isNaN(e) ? "number" == typeof (e = t.weekdaysParse(e)) ? e : null : parseInt(e, 10);
}
function se(e, t) {
return "string" == typeof e ? t.weekdaysParse(e) % 7 || 7 : isNaN(e) ? null : e;
}
function le(e, t, n) {
var i, r, o, a = e.toLocaleLowerCase();
if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], i = 0; i < 7; ++i) o = l([ 2e3, 1 ]).day(i), this._minWeekdaysParse[i] = this.weekdaysMin(o, "").toLocaleLowerCase(), this._shortWeekdaysParse[i] = this.weekdaysShort(o, "").toLocaleLowerCase(), this._weekdaysParse[i] = this.weekdays(o, "").toLocaleLowerCase();
return n ? "dddd" === t ? -1 !== (r = xt.call(this._weekdaysParse, a)) ? r : null : "ddd" === t ? -1 !== (r = xt.call(this._shortWeekdaysParse, a)) ? r : null : -1 !== (r = xt.call(this._minWeekdaysParse, a)) ? r : null : "dddd" === t ? -1 !== (r = xt.call(this._weekdaysParse, a)) ? r : -1 !== (r = xt.call(this._shortWeekdaysParse, a)) ? r : -1 !== (r = xt.call(this._minWeekdaysParse, a)) ? r : null : "ddd" === t ? -1 !== (r = xt.call(this._shortWeekdaysParse, a)) ? r : -1 !== (r = xt.call(this._weekdaysParse, a)) ? r : -1 !== (r = xt.call(this._minWeekdaysParse, a)) ? r : null : -1 !== (r = xt.call(this._minWeekdaysParse, a)) ? r : -1 !== (r = xt.call(this._weekdaysParse, a)) ? r : -1 !== (r = xt.call(this._shortWeekdaysParse, a)) ? r : null;
}
function ce() {
function e(e, t) {
return t.length - e.length;
}
var t, n, i, r, o, a = [], s = [], c = [], u = [];
for (t = 0; t < 7; t++) n = l([ 2e3, 1 ]).day(t), i = this.weekdaysMin(n, ""), r = this.weekdaysShort(n, ""), o = this.weekdays(n, ""), a.push(i), s.push(r), c.push(o), u.push(i), u.push(r), u.push(o);
for (a.sort(e), s.sort(e), c.sort(e), u.sort(e), t = 0; t < 7; t++) s[t] = H(s[t]), c[t] = H(c[t]), u[t] = H(u[t]);
this._weekdaysRegex = new RegExp("^(" + u.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + c.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + s.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + a.join("|") + ")", "i");
}
function ue() {
return this.hours() % 12 || 12;
}
function de(e, t) {
P(e, 0, 0, function() {
return this.localeData().meridiem(this.hours(), this.minutes(), t);
});
}
function he(e, t) {
return t._meridiemParse;
}
function pe(e) {
return e ? e.toLowerCase().replace("_", "-") : e;
}
function fe(e) {
for (var t, n, i, r, o = 0; o < e.length; ) {
for (t = (r = pe(e[o]).split("-")).length, n = (n = pe(e[o + 1])) ? n.split("-") : null; t > 0; ) {
if (i = ge(r.slice(0, t).join("-"))) return i;
if (n && n.length >= t && b(r, n, !0) >= t - 1) break;
t--;
}
o++;
}
return null;
}
function ge(e) {
var t = null;
if (!Sn[e] && "undefined" != typeof module && module && module.exports) try {
t = wn._abbr, require("./locale/" + e), me(t);
} catch (e) {}
return Sn[e];
}
function me(e, t) {
var n;
return e && (n = p(t) ? ye(e) : ve(e, t)) && (wn = n), wn._abbr;
}
function ve(e, t) {
if (null !== t) {
var n = _n;
return t.abbr = e, null != Sn[e] ? (C("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), n = Sn[e]._config) : null != t.parentLocale && (null != Sn[t.parentLocale] ? n = Sn[t.parentLocale]._config : C("parentLocaleUndefined", "specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")), Sn[e] = new $(S(n, t)), me(e), Sn[e];
}
return delete Sn[e], null;
}
function ye(e) {
var n;
if (e && e._locale && e._locale._abbr && (e = e._locale._abbr), !e) return wn;
if (!t(e)) {
if (n = ge(e)) return n;
e = [ e ];
}
return fe(e);
}
function be(e) {
var t, n = e._a;
return n && -2 === u(e).overflow && (t = n[Jt] < 0 || n[Jt] > 11 ? Jt : n[Zt] < 1 || n[Zt] > q(n[Qt], n[Jt]) ? Zt : n[en] < 0 || n[en] > 24 || 24 === n[en] && (0 !== n[tn] || 0 !== n[nn] || 0 !== n[rn]) ? en : n[tn] < 0 || n[tn] > 59 ? tn : n[nn] < 0 || n[nn] > 59 ? nn : n[rn] < 0 || n[rn] > 999 ? rn : -1, u(e)._overflowDayOfYear && (t < Qt || t > Zt) && (t = Zt), u(e)._overflowWeeks && -1 === t && (t = on), u(e)._overflowWeekday && -1 === t && (t = an), u(e).overflow = t), e;
}
function we(e) {
var t, n, i, r, o, a, s = e._i, l = $n.exec(s) || An.exec(s);
if (l) {
for (u(e).iso = !0, t = 0, n = En.length; t < n; t++) if (En[t][1].exec(l[1])) {
r = En[t][0], i = !1 !== En[t][2];
break;
}
if (null == r) return void (e._isValid = !1);
if (l[3]) {
for (t = 0, n = Tn.length; t < n; t++) if (Tn[t][1].exec(l[3])) {
o = (l[2] || " ") + Tn[t][0];
break;
}
if (null == o) return void (e._isValid = !1);
}
if (!i && null != o) return void (e._isValid = !1);
if (l[4]) {
if (!kn.exec(l[4])) return void (e._isValid = !1);
a = "Z";
}
e._f = r + (o || "") + (a || ""), Ae(e);
} else e._isValid = !1;
}
function xe(t) {
var n = Dn.exec(t._i);
null === n ? (we(t), !1 === t._isValid && (delete t._isValid, e.createFromInputFallback(t))) : t._d = new Date(+n[1]);
}
function Ce(e, t, n) {
return null != e ? e : null != t ? t : n;
}
function _e(t) {
var n = new Date(e.now());
return t._useUTC ? [ n.getUTCFullYear(), n.getUTCMonth(), n.getUTCDate() ] : [ n.getFullYear(), n.getMonth(), n.getDate() ];
}
function Se(e) {
var t, n, i, r, o = [];
if (!e._d) {
for (i = _e(e), e._w && null == e._a[Zt] && null == e._a[Jt] && $e(e), e._dayOfYear && (r = Ce(e._a[Qt], i[Qt]), e._dayOfYear > J(r) && (u(e)._overflowDayOfYear = !0), n = te(r, 0, e._dayOfYear), e._a[Jt] = n.getUTCMonth(), e._a[Zt] = n.getUTCDate()), t = 0; t < 3 && null == e._a[t]; ++t) e._a[t] = o[t] = i[t];
for (;t < 7; t++) e._a[t] = o[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];
24 === e._a[en] && 0 === e._a[tn] && 0 === e._a[nn] && 0 === e._a[rn] && (e._nextDay = !0, e._a[en] = 0), e._d = (e._useUTC ? te : ee).apply(null, o), null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), e._nextDay && (e._a[en] = 24);
}
}
function $e(e) {
var t, n, i, r, o, a, s, l;
null != (t = e._w).GG || null != t.W || null != t.E ? (o = 1, a = 4, n = Ce(t.GG, e._a[Qt], re(Le(), 1, 4).year), i = Ce(t.W, 1), ((r = Ce(t.E, 1)) < 1 || r > 7) && (l = !0)) : (o = e._locale._week.dow, a = e._locale._week.doy, n = Ce(t.gg, e._a[Qt], re(Le(), o, a).year), i = Ce(t.w, 1), null != t.d ? ((r = t.d) < 0 || r > 6) && (l = !0) : null != t.e ? (r = t.e + o, (t.e < 0 || t.e > 6) && (l = !0)) : r = o), i < 1 || i > oe(n, o, a) ? u(e)._overflowWeeks = !0 : null != l ? u(e)._overflowWeekday = !0 : (s = ie(n, i, r, o, a), e._a[Qt] = s.year, e._dayOfYear = s.dayOfYear);
}
function Ae(t) {
if (t._f !== e.ISO_8601) {
t._a = [], u(t).empty = !0;
var n, i, r, o, a, s = "" + t._i, l = s.length, c = 0;
for (r = N(t._f, t._locale).match(Et) || [], n = 0; n < r.length; n++) o = r[n], (i = (s.match(U(o, t)) || [])[0]) && ((a = s.substr(0, s.indexOf(i))).length > 0 && u(t).unusedInput.push(a), s = s.slice(s.indexOf(i) + i.length), c += i.length), Ft[o] ? (i ? u(t).empty = !1 : u(t).unusedTokens.push(o), G(o, i, t)) : t._strict && !i && u(t).unusedTokens.push(o);
u(t).charsLeftOver = l - c, s.length > 0 && u(t).unusedInput.push(s), t._a[en] <= 12 && !0 === u(t).bigHour && t._a[en] > 0 && (u(t).bigHour = void 0), u(t).parsedDateParts = t._a.slice(0), u(t).meridiem = t._meridiem, t._a[en] = ke(t._locale, t._a[en], t._meridiem), Se(t), be(t);
} else we(t);
}
function ke(e, t, n) {
var i;
return null == n ? t : null != e.meridiemHour ? e.meridiemHour(t, n) : null != e.isPM ? ((i = e.isPM(n)) && t < 12 && (t += 12), i || 12 !== t || (t = 0), t) : t;
}
function Ee(e) {
var t, n, i, r, o;
if (0 === e._f.length) return u(e).invalidFormat = !0, void (e._d = new Date(NaN));
for (r = 0; r < e._f.length; r++) o = 0, t = f({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._f = e._f[r], Ae(t), d(t) && (o += u(t).charsLeftOver, o += 10 * u(t).unusedTokens.length, u(t).score = o, (null == i || o < i) && (i = o, n = t));
s(e, n || t);
}
function Te(e) {
if (!e._d) {
var t = E(e._i);
e._a = o([ t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond ], function(e) {
return e && parseInt(e, 10);
}), Se(e);
}
}
function De(e) {
var t = new g(be(Fe(e)));
return t._nextDay && (t.add(1, "d"), t._nextDay = void 0), t;
}
function Fe(e) {
var n = e._i, i = e._f;
return e._locale = e._locale || ye(e._l), null === n || void 0 === i && "" === n ? h({
nullInput: !0
}) : ("string" == typeof n && (e._i = n = e._locale.preparse(n)), m(n) ? new g(be(n)) : (t(i) ? Ee(e) : r(n) ? e._d = n : i ? Ae(e) : Me(e), d(e) || (e._d = null), e));
}
function Me(n) {
var i = n._i;
void 0 === i ? n._d = new Date(e.now()) : r(i) ? n._d = new Date(i.valueOf()) : "string" == typeof i ? xe(n) : t(i) ? (n._a = o(i.slice(0), function(e) {
return parseInt(e, 10);
}), Se(n)) : "object" == typeof i ? Te(n) : "number" == typeof i ? n._d = new Date(i) : e.createFromInputFallback(n);
}
function Ie(e, r, o, a, s) {
var l = {};
return "boolean" == typeof o && (a = o, o = void 0), (n(e) && i(e) || t(e) && 0 === e.length) && (e = void 0), l._isAMomentObject = !0, l._useUTC = l._isUTC = s, l._l = o, l._i = e, l._f = r, l._strict = a, De(l);
}
function Le(e, t, n, i) {
return Ie(e, t, n, i, !1);
}
function Pe(e, n) {
var i, r;
if (1 === n.length && t(n[0]) && (n = n[0]), !n.length) return Le();
for (i = n[0], r = 1; r < n.length; ++r) n[r].isValid() && !n[r][e](i) || (i = n[r]);
return i;
}
function Oe(e) {
var t = E(e), n = t.year || 0, i = t.quarter || 0, r = t.month || 0, o = t.week || 0, a = t.day || 0, s = t.hour || 0, l = t.minute || 0, c = t.second || 0, u = t.millisecond || 0;
this._milliseconds = +u + 1e3 * c + 6e4 * l + 1e3 * s * 60 * 60, this._days = +a + 7 * o, this._months = +r + 3 * i + 12 * n, this._data = {}, this._locale = ye(), this._bubble();
}
function Re(e) {
return e instanceof Oe;
}
function Be(e, t) {
P(e, 0, 0, function() {
var e = this.utcOffset(), n = "+";
return e < 0 && (e = -e, n = "-"), n + L(~~(e / 60), 2) + t + L(~~e % 60, 2);
});
}
function Ne(e, t) {
var n = (t || "").match(e) || [], i = ((n[n.length - 1] || []) + "").match(In) || [ "-", 0, 0 ], r = 60 * i[1] + y(i[2]);
return "+" === i[0] ? r : -r;
}
function je(t, n) {
var i, o;
return n._isUTC ? (i = n.clone(), o = (m(t) || r(t) ? t.valueOf() : Le(t).valueOf()) - i.valueOf(), i._d.setTime(i._d.valueOf() + o), e.updateOffset(i, !1), i) : Le(t).local();
}
function Ue(e) {
return 15 * -Math.round(e._d.getTimezoneOffset() / 15);
}
function Ve() {
return !!this.isValid() && (this._isUTC && 0 === this._offset);
}
function He(e, t) {
var n, i, r, o = e, s = null;
return Re(e) ? o = {
ms: e._milliseconds,
d: e._days,
M: e._months
} : "number" == typeof e ? (o = {}, t ? o[t] = e : o.milliseconds = e) : (s = Ln.exec(e)) ? (n = "-" === s[1] ? -1 : 1, o = {
y: 0,
d: y(s[Zt]) * n,
h: y(s[en]) * n,
m: y(s[tn]) * n,
s: y(s[nn]) * n,
ms: y(s[rn]) * n
}) : (s = Pn.exec(e)) ? (n = "-" === s[1] ? -1 : 1, o = {
y: ze(s[2], n),
M: ze(s[3], n),
w: ze(s[4], n),
d: ze(s[5], n),
h: ze(s[6], n),
m: ze(s[7], n),
s: ze(s[8], n)
}) : null == o ? o = {} : "object" == typeof o && ("from" in o || "to" in o) && (r = Ge(Le(o.from), Le(o.to)), (o = {}).ms = r.milliseconds, o.M = r.months), i = new Oe(o), Re(e) && a(e, "_locale") && (i._locale = e._locale), i;
}
function ze(e, t) {
var n = e && parseFloat(e.replace(",", "."));
return (isNaN(n) ? 0 : n) * t;
}
function We(e, t) {
var n = {
milliseconds: 0,
months: 0
};
return n.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n;
}
function Ge(e, t) {
var n;
return e.isValid() && t.isValid() ? (t = je(t, e), e.isBefore(t) ? n = We(e, t) : ((n = We(t, e)).milliseconds = -n.milliseconds, n.months = -n.months), n) : {
milliseconds: 0,
months: 0
};
}
function qe(e) {
return e < 0 ? -1 * Math.round(-1 * e) : Math.round(e);
}
function Ye(e, t) {
return function(n, i) {
var r, o;
return null === i || isNaN(+i) || (C(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), o = n, n = i, i = o), n = "string" == typeof n ? +n : n, r = He(n, i), Ke(this, r, e), this;
};
}
function Ke(t, n, i, r) {
var o = n._milliseconds, a = qe(n._days), s = qe(n._months);
t.isValid() && (r = null == r || r, o && t._d.setTime(t._d.valueOf() + o * i), a && I(t, "Date", M(t, "Date") + a * i), s && K(t, M(t, "Month") + s * i), r && e.updateOffset(t, a || s));
}
function Xe(e, t) {
var n, i = 12 * (t.year() - e.year()) + (t.month() - e.month()), r = e.clone().add(i, "months");
return n = t - r < 0 ? (t - r) / (r - e.clone().add(i - 1, "months")) : (t - r) / (e.clone().add(i + 1, "months") - r), -(i + n) || 0;
}
function Qe(e) {
var t;
return void 0 === e ? this._locale._abbr : (null != (t = ye(e)) && (this._locale = t), this);
}
function Je() {
return this._locale;
}
function Ze(e, t) {
P(0, [ e, e.length ], 0, t);
}
function et(e, t, n, i, r) {
var o;
return null == e ? re(this, i, r).year : (o = oe(e, i, r), t > o && (t = o), tt.call(this, e, t, n, i, r));
}
function tt(e, t, n, i, r) {
var o = ie(e, t, n, i, r), a = te(o.year, 0, o.dayOfYear);
return this.year(a.getUTCFullYear()), this.month(a.getUTCMonth()), this.date(a.getUTCDate()), this;
}
function nt(e) {
return e;
}
function it(e, t, n, i) {
var r = ye(), o = l().set(i, t);
return r[n](o, e);
}
function rt(e, t, n) {
if ("number" == typeof e && (t = e, e = void 0), e = e || "", null != t) return it(e, t, n, "month");
var i, r = [];
for (i = 0; i < 12; i++) r[i] = it(e, i, n, "month");
return r;
}
function ot(e, t, n, i) {
"boolean" == typeof e ? ("number" == typeof t && (n = t, t = void 0), t = t || "") : (n = t = e, e = !1, "number" == typeof t && (n = t, t = void 0), t = t || "");
var r = ye(), o = e ? r._week.dow : 0;
if (null != n) return it(t, (n + o) % 7, i, "day");
var a, s = [];
for (a = 0; a < 7; a++) s[a] = it(t, (a + o) % 7, i, "day");
return s;
}
function at(e, t, n, i) {
var r = He(t, n);
return e._milliseconds += i * r._milliseconds, e._days += i * r._days, e._months += i * r._months, e._bubble();
}
function st(e) {
return e < 0 ? Math.floor(e) : Math.ceil(e);
}
function lt(e) {
return 4800 * e / 146097;
}
function ct(e) {
return 146097 * e / 4800;
}
function ut(e) {
return function() {
return this.as(e);
};
}
function dt(e) {
return function() {
return this._data[e];
};
}
function ht(e, t, n, i, r) {
return r.relativeTime(t || 1, !!n, e, i);
}
function pt(e, t, n) {
var i = He(e).abs(), r = ci(i.as("s")), o = ci(i.as("m")), a = ci(i.as("h")), s = ci(i.as("d")), l = ci(i.as("M")), c = ci(i.as("y")), u = r < ui.s && [ "s", r ] || o <= 1 && [ "m" ] || o < ui.m && [ "mm", o ] || a <= 1 && [ "h" ] || a < ui.h && [ "hh", a ] || s <= 1 && [ "d" ] || s < ui.d && [ "dd", s ] || l <= 1 && [ "M" ] || l < ui.M && [ "MM", l ] || c <= 1 && [ "y" ] || [ "yy", c ];
return u[2] = t, u[3] = +e > 0, u[4] = n, ht.apply(null, u);
}
function ft() {
var e, t, n, i = di(this._milliseconds) / 1e3, r = di(this._days), o = di(this._months);
t = v((e = v(i / 60)) / 60), i %= 60, e %= 60;
var a = n = v(o / 12), s = o %= 12, l = r, c = t, u = e, d = i, h = this.asSeconds();
return h ? (h < 0 ? "-" : "") + "P" + (a ? a + "Y" : "") + (s ? s + "M" : "") + (l ? l + "D" : "") + (c || u || d ? "T" : "") + (c ? c + "H" : "") + (u ? u + "M" : "") + (d ? d + "S" : "") : "P0D";
}
var gt, mt;
mt = Array.prototype.some ? Array.prototype.some : function(e) {
for (var t = Object(this), n = t.length >>> 0, i = 0; i < n; i++) if (i in t && e.call(this, t[i], i, t)) return !0;
return !1;
};
var vt = e.momentProperties = [], yt = !1, bt = {};
e.suppressDeprecationWarnings = !1, e.deprecationHandler = null;
var wt;
wt = Object.keys ? Object.keys : function(e) {
var t, n = [];
for (t in e) a(e, t) && n.push(t);
return n;
};
var xt, Ct = {
sameDay: "[Today at] LT",
nextDay: "[Tomorrow at] LT",
nextWeek: "dddd [at] LT",
lastDay: "[Yesterday at] LT",
lastWeek: "[Last] dddd [at] LT",
sameElse: "L"
}, _t = {
LTS: "h:mm:ss A",
LT: "h:mm A",
L: "MM/DD/YYYY",
LL: "MMMM D, YYYY",
LLL: "MMMM D, YYYY h:mm A",
LLLL: "dddd, MMMM D, YYYY h:mm A"
}, St = /\d{1,2}/, $t = {
future: "in %s",
past: "%s ago",
s: "a few seconds",
m: "a minute",
mm: "%d minutes",
h: "an hour",
hh: "%d hours",
d: "a day",
dd: "%d days",
M: "a month",
MM: "%d months",
y: "a year",
yy: "%d years"
}, At = {}, kt = {}, Et = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Tt = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Dt = {}, Ft = {}, Mt = /\d/, It = /\d\d/, Lt = /\d{3}/, Pt = /\d{4}/, Ot = /[+-]?\d{6}/, Rt = /\d\d?/, Bt = /\d\d\d\d?/, Nt = /\d\d\d\d\d\d?/, jt = /\d{1,3}/, Ut = /\d{1,4}/, Vt = /[+-]?\d{1,6}/, Ht = /\d+/, zt = /[+-]?\d+/, Wt = /Z|[+-]\d\d:?\d\d/gi, Gt = /Z|[+-]\d\d(?::?\d\d)?/gi, qt = /[+-]?\d+(\.\d{1,3})?/, Yt = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Kt = {}, Xt = {}, Qt = 0, Jt = 1, Zt = 2, en = 3, tn = 4, nn = 5, rn = 6, on = 7, an = 8;
xt = Array.prototype.indexOf ? Array.prototype.indexOf : function(e) {
var t;
for (t = 0; t < this.length; ++t) if (this[t] === e) return t;
return -1;
}, P("M", [ "MM", 2 ], "Mo", function() {
return this.month() + 1;
}), P("MMM", 0, 0, function(e) {
return this.localeData().monthsShort(this, e);
}), P("MMMM", 0, 0, function(e) {
return this.localeData().months(this, e);
}), A("month", "M"), T("month", 8), j("M", Rt), j("MM", Rt, It), j("MMM", function(e, t) {
return t.monthsShortRegex(e);
}), j("MMMM", function(e, t) {
return t.monthsRegex(e);
}), z([ "M", "MM" ], function(e, t) {
t[Jt] = y(e) - 1;
}), z([ "MMM", "MMMM" ], function(e, t, n, i) {
var r = n._locale.monthsParse(e, i, n._strict);
null != r ? t[Jt] = r : u(n).invalidMonth = e;
});
var sn = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/, ln = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), cn = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), un = Yt, dn = Yt;
P("Y", 0, 0, function() {
var e = this.year();
return e <= 9999 ? "" + e : "+" + e;
}), P(0, [ "YY", 2 ], 0, function() {
return this.year() % 100;
}), P(0, [ "YYYY", 4 ], 0, "year"), P(0, [ "YYYYY", 5 ], 0, "year"), P(0, [ "YYYYYY", 6, !0 ], 0, "year"), A("year", "y"), T("year", 1), j("Y", zt), j("YY", Rt, It), j("YYYY", Ut, Pt), j("YYYYY", Vt, Ot), j("YYYYYY", Vt, Ot), z([ "YYYYY", "YYYYYY" ], Qt), z("YYYY", function(t, n) {
n[Qt] = 2 === t.length ? e.parseTwoDigitYear(t) : y(t);
}), z("YY", function(t, n) {
n[Qt] = e.parseTwoDigitYear(t);
}), z("Y", function(e, t) {
t[Qt] = parseInt(e, 10);
}), e.parseTwoDigitYear = function(e) {
return y(e) + (y(e) > 68 ? 1900 : 2e3);
};
var hn = F("FullYear", !0);
P("w", [ "ww", 2 ], "wo", "week"), P("W", [ "WW", 2 ], "Wo", "isoWeek"), A("week", "w"), A("isoWeek", "W"), T("week", 5), T("isoWeek", 5), j("w", Rt), j("ww", Rt, It), j("W", Rt), j("WW", Rt, It), W([ "w", "ww", "W", "WW" ], function(e, t, n, i) {
t[i.substr(0, 1)] = y(e);
});
var pn = {
dow: 0,
doy: 6
};
P("d", 0, "do", "day"), P("dd", 0, 0, function(e) {
return this.localeData().weekdaysMin(this, e);
}), P("ddd", 0, 0, function(e) {
return this.localeData().weekdaysShort(this, e);
}), P("dddd", 0, 0, function(e) {
return this.localeData().weekdays(this, e);
}), P("e", 0, 0, "weekday"), P("E", 0, 0, "isoWeekday"), A("day", "d"), A("weekday", "e"), A("isoWeekday", "E"), T("day", 11), T("weekday", 11), T("isoWeekday", 11), j("d", Rt), j("e", Rt), j("E", Rt), j("dd", function(e, t) {
return t.weekdaysMinRegex(e);
}), j("ddd", function(e, t) {
return t.weekdaysShortRegex(e);
}), j("dddd", function(e, t) {
return t.weekdaysRegex(e);
}), W([ "dd", "ddd", "dddd" ], function(e, t, n, i) {
var r = n._locale.weekdaysParse(e, i, n._strict);
null != r ? t.d = r : u(n).invalidWeekday = e;
}), W([ "d", "e", "E" ], function(e, t, n, i) {
t[i] = y(e);
});
var fn = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), gn = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), mn = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), vn = Yt, yn = Yt, bn = Yt;
P("H", [ "HH", 2 ], 0, "hour"), P("h", [ "hh", 2 ], 0, ue), P("k", [ "kk", 2 ], 0, function() {
return this.hours() || 24;
}), P("hmm", 0, 0, function() {
return "" + ue.apply(this) + L(this.minutes(), 2);
}), P("hmmss", 0, 0, function() {
return "" + ue.apply(this) + L(this.minutes(), 2) + L(this.seconds(), 2);
}), P("Hmm", 0, 0, function() {
return "" + this.hours() + L(this.minutes(), 2);
}), P("Hmmss", 0, 0, function() {
return "" + this.hours() + L(this.minutes(), 2) + L(this.seconds(), 2);
}), de("a", !0), de("A", !1), A("hour", "h"), T("hour", 13), j("a", he), j("A", he), j("H", Rt), j("h", Rt), j("HH", Rt, It), j("hh", Rt, It), j("hmm", Bt), j("hmmss", Nt), j("Hmm", Bt), j("Hmmss", Nt), z([ "H", "HH" ], en), z([ "a", "A" ], function(e, t, n) {
n._isPm = n._locale.isPM(e), n._meridiem = e;
}), z([ "h", "hh" ], function(e, t, n) {
t[en] = y(e), u(n).bigHour = !0;
}), z("hmm", function(e, t, n) {
var i = e.length - 2;
t[en] = y(e.substr(0, i)), t[tn] = y(e.substr(i)), u(n).bigHour = !0;
}), z("hmmss", function(e, t, n) {
var i = e.length - 4, r = e.length - 2;
t[en] = y(e.substr(0, i)), t[tn] = y(e.substr(i, 2)), t[nn] = y(e.substr(r)), u(n).bigHour = !0;
}), z("Hmm", function(e, t, n) {
var i = e.length - 2;
t[en] = y(e.substr(0, i)), t[tn] = y(e.substr(i));
}), z("Hmmss", function(e, t, n) {
var i = e.length - 4, r = e.length - 2;
t[en] = y(e.substr(0, i)), t[tn] = y(e.substr(i, 2)), t[nn] = y(e.substr(r));
});
var wn, xn = /[ap]\.?m?\.?/i, Cn = F("Hours", !0), _n = {
calendar: Ct,
longDateFormat: _t,
invalidDate: "Invalid date",
ordinal: "%d",
ordinalParse: St,
relativeTime: $t,
months: ln,
monthsShort: cn,
week: pn,
weekdays: fn,
weekdaysMin: mn,
weekdaysShort: gn,
meridiemParse: xn
}, Sn = {}, $n = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/, An = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/, kn = /Z|[+-]\d\d(?::?\d\d)?/, En = [ [ "YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/ ], [ "YYYY-MM-DD", /\d{4}-\d\d-\d\d/ ], [ "GGGG-[W]WW-E", /\d{4}-W\d\d-\d/ ], [ "GGGG-[W]WW", /\d{4}-W\d\d/, !1 ], [ "YYYY-DDD", /\d{4}-\d{3}/ ], [ "YYYY-MM", /\d{4}-\d\d/, !1 ], [ "YYYYYYMMDD", /[+-]\d{10}/ ], [ "YYYYMMDD", /\d{8}/ ], [ "GGGG[W]WWE", /\d{4}W\d{3}/ ], [ "GGGG[W]WW", /\d{4}W\d{2}/, !1 ], [ "YYYYDDD", /\d{7}/ ] ], Tn = [ [ "HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/ ], [ "HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/ ], [ "HH:mm:ss", /\d\d:\d\d:\d\d/ ], [ "HH:mm", /\d\d:\d\d/ ], [ "HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/ ], [ "HHmmss,SSSS", /\d\d\d\d\d\d,\d+/ ], [ "HHmmss", /\d\d\d\d\d\d/ ], [ "HHmm", /\d\d\d\d/ ], [ "HH", /\d\d/ ] ], Dn = /^\/?Date\((\-?\d+)/i;
e.createFromInputFallback = x("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(e) {
e._d = new Date(e._i + (e._useUTC ? " UTC" : ""));
}), e.ISO_8601 = function() {};
var Fn = x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
var e = Le.apply(null, arguments);
return this.isValid() && e.isValid() ? e < this ? this : e : h();
}), Mn = x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
var e = Le.apply(null, arguments);
return this.isValid() && e.isValid() ? e > this ? this : e : h();
});
Be("Z", ":"), Be("ZZ", ""), j("Z", Gt), j("ZZ", Gt), z([ "Z", "ZZ" ], function(e, t, n) {
n._useUTC = !0, n._tzm = Ne(Gt, e);
});
var In = /([\+\-]|\d\d)/gi;
e.updateOffset = function() {};
var Ln = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/, Pn = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
He.fn = Oe.prototype;
var On = Ye(1, "add"), Rn = Ye(-1, "subtract");
e.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", e.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
var Bn = x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e) {
return void 0 === e ? this.localeData() : this.locale(e);
});
P(0, [ "gg", 2 ], 0, function() {
return this.weekYear() % 100;
}), P(0, [ "GG", 2 ], 0, function() {
return this.isoWeekYear() % 100;
}), Ze("gggg", "weekYear"), Ze("ggggg", "weekYear"), Ze("GGGG", "isoWeekYear"), Ze("GGGGG", "isoWeekYear"), A("weekYear", "gg"), A("isoWeekYear", "GG"), T("weekYear", 1), T("isoWeekYear", 1), j("G", zt), j("g", zt), j("GG", Rt, It), j("gg", Rt, It), j("GGGG", Ut, Pt), j("gggg", Ut, Pt), j("GGGGG", Vt, Ot), j("ggggg", Vt, Ot), W([ "gggg", "ggggg", "GGGG", "GGGGG" ], function(e, t, n, i) {
t[i.substr(0, 2)] = y(e);
}), W([ "gg", "GG" ], function(t, n, i, r) {
n[r] = e.parseTwoDigitYear(t);
}), P("Q", 0, "Qo", "quarter"), A("quarter", "Q"), T("quarter", 7), j("Q", Mt), z("Q", function(e, t) {
t[Jt] = 3 * (y(e) - 1);
}), P("D", [ "DD", 2 ], "Do", "date"), A("date", "D"), T("date", 9), j("D", Rt), j("DD", Rt, It), j("Do", function(e, t) {
return e ? t._ordinalParse : t._ordinalParseLenient;
}), z([ "D", "DD" ], Zt), z("Do", function(e, t) {
t[Zt] = y(e.match(Rt)[0], 10);
});
var Nn = F("Date", !0);
P("DDD", [ "DDDD", 3 ], "DDDo", "dayOfYear"), A("dayOfYear", "DDD"), T("dayOfYear", 4), j("DDD", jt), j("DDDD", Lt), z([ "DDD", "DDDD" ], function(e, t, n) {
n._dayOfYear = y(e);
}), P("m", [ "mm", 2 ], 0, "minute"), A("minute", "m"), T("minute", 14), j("m", Rt), j("mm", Rt, It), z([ "m", "mm" ], tn);
var jn = F("Minutes", !1);
P("s", [ "ss", 2 ], 0, "second"), A("second", "s"), T("second", 15), j("s", Rt), j("ss", Rt, It), z([ "s", "ss" ], nn);
var Un = F("Seconds", !1);
P("S", 0, 0, function() {
return ~~(this.millisecond() / 100);
}), P(0, [ "SS", 2 ], 0, function() {
return ~~(this.millisecond() / 10);
}), P(0, [ "SSS", 3 ], 0, "millisecond"), P(0, [ "SSSS", 4 ], 0, function() {
return 10 * this.millisecond();
}), P(0, [ "SSSSS", 5 ], 0, function() {
return 100 * this.millisecond();
}), P(0, [ "SSSSSS", 6 ], 0, function() {
return 1e3 * this.millisecond();
}), P(0, [ "SSSSSSS", 7 ], 0, function() {
return 1e4 * this.millisecond();
}), P(0, [ "SSSSSSSS", 8 ], 0, function() {
return 1e5 * this.millisecond();
}), P(0, [ "SSSSSSSSS", 9 ], 0, function() {
return 1e6 * this.millisecond();
}), A("millisecond", "ms"), T("millisecond", 16), j("S", jt, Mt), j("SS", jt, It), j("SSS", jt, Lt);
var Vn;
for (Vn = "SSSS"; Vn.length <= 9; Vn += "S") j(Vn, Ht);
for (Vn = "S"; Vn.length <= 9; Vn += "S") z(Vn, function(e, t) {
t[rn] = y(1e3 * ("0." + e));
});
var Hn = F("Milliseconds", !1);
P("z", 0, 0, "zoneAbbr"), P("zz", 0, 0, "zoneName");
var zn = g.prototype;
zn.add = On, zn.calendar = function(t, n) {
var i = t || Le(), r = je(i, this).startOf("day"), o = e.calendarFormat(this, r) || "sameElse", a = n && (_(n[o]) ? n[o].call(this, i) : n[o]);
return this.format(a || this.localeData().calendar(o, this, Le(i)));
}, zn.clone = function() {
return new g(this);
}, zn.diff = function(e, t, n) {
var i, r, o, a;
return this.isValid() && (i = je(e, this)).isValid() ? (r = 6e4 * (i.utcOffset() - this.utcOffset()), "year" === (t = k(t)) || "month" === t || "quarter" === t ? (a = Xe(this, i), "quarter" === t ? a /= 3 : "year" === t && (a /= 12)) : (o = this - i, a = "second" === t ? o / 1e3 : "minute" === t ? o / 6e4 : "hour" === t ? o / 36e5 : "day" === t ? (o - r) / 864e5 : "week" === t ? (o - r) / 6048e5 : o), n ? a : v(a)) : NaN;
}, zn.endOf = function(e) {
return void 0 === (e = k(e)) || "millisecond" === e ? this : ("date" === e && (e = "day"), this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms"));
}, zn.format = function(t) {
t || (t = this.isUtc() ? e.defaultFormatUtc : e.defaultFormat);
var n = B(this, t);
return this.localeData().postformat(n);
}, zn.from = function(e, t) {
return this.isValid() && (m(e) && e.isValid() || Le(e).isValid()) ? He({
to: this,
from: e
}).locale(this.locale()).humanize(!t) : this.localeData().invalidDate();
}, zn.fromNow = function(e) {
return this.from(Le(), e);
}, zn.to = function(e, t) {
return this.isValid() && (m(e) && e.isValid() || Le(e).isValid()) ? He({
from: this,
to: e
}).locale(this.locale()).humanize(!t) : this.localeData().invalidDate();
}, zn.toNow = function(e) {
return this.to(Le(), e);
}, zn.get = function(e) {
return e = k(e), _(this[e]) ? this[e]() : this;
}, zn.invalidAt = function() {
return u(this).overflow;
}, zn.isAfter = function(e, t) {
var n = m(e) ? e : Le(e);
return !(!this.isValid() || !n.isValid()) && ("millisecond" === (t = k(p(t) ? "millisecond" : t)) ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(t).valueOf());
}, zn.isBefore = function(e, t) {
var n = m(e) ? e : Le(e);
return !(!this.isValid() || !n.isValid()) && ("millisecond" === (t = k(p(t) ? "millisecond" : t)) ? this.valueOf() < n.valueOf() : this.clone().endOf(t).valueOf() < n.valueOf());
}, zn.isBetween = function(e, t, n, i) {
return ("(" === (i = i || "()")[0] ? this.isAfter(e, n) : !this.isBefore(e, n)) && (")" === i[1] ? this.isBefore(t, n) : !this.isAfter(t, n));
}, zn.isSame = function(e, t) {
var n, i = m(e) ? e : Le(e);
return !(!this.isValid() || !i.isValid()) && ("millisecond" === (t = k(t || "millisecond")) ? this.valueOf() === i.valueOf() : (n = i.valueOf(), this.clone().startOf(t).valueOf() <= n && n <= this.clone().endOf(t).valueOf()));
}, zn.isSameOrAfter = function(e, t) {
return this.isSame(e, t) || this.isAfter(e, t);
}, zn.isSameOrBefore = function(e, t) {
return this.isSame(e, t) || this.isBefore(e, t);
}, zn.isValid = function() {
return d(this);
}, zn.lang = Bn, zn.locale = Qe, zn.localeData = Je, zn.max = Mn, zn.min = Fn, zn.parsingFlags = function() {
return s({}, u(this));
}, zn.set = function(e, t) {
if ("object" == typeof e) for (var n = D(e = E(e)), i = 0; i < n.length; i++) this[n[i].unit](e[n[i].unit]); else if (e = k(e), _(this[e])) return this[e](t);
return this;
}, zn.startOf = function(e) {
switch (e = k(e)) {
case "year":
this.month(0);

case "quarter":
case "month":
this.date(1);

case "week":
case "isoWeek":
case "day":
case "date":
this.hours(0);

case "hour":
this.minutes(0);

case "minute":
this.seconds(0);

case "second":
this.milliseconds(0);
}
return "week" === e && this.weekday(0), "isoWeek" === e && this.isoWeekday(1), "quarter" === e && this.month(3 * Math.floor(this.month() / 3)), this;
}, zn.subtract = Rn, zn.toArray = function() {
var e = this;
return [ e.year(), e.month(), e.date(), e.hour(), e.minute(), e.second(), e.millisecond() ];
}, zn.toObject = function() {
var e = this;
return {
years: e.year(),
months: e.month(),
date: e.date(),
hours: e.hours(),
minutes: e.minutes(),
seconds: e.seconds(),
milliseconds: e.milliseconds()
};
}, zn.toDate = function() {
return new Date(this.valueOf());
}, zn.toISOString = function() {
var e = this.clone().utc();
return 0 < e.year() && e.year() <= 9999 ? _(Date.prototype.toISOString) ? this.toDate().toISOString() : B(e, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : B(e, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
}, zn.toJSON = function() {
return this.isValid() ? this.toISOString() : null;
}, zn.toString = function() {
return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
}, zn.unix = function() {
return Math.floor(this.valueOf() / 1e3);
}, zn.valueOf = function() {
return this._d.valueOf() - 6e4 * (this._offset || 0);
}, zn.creationData = function() {
return {
input: this._i,
format: this._f,
locale: this._locale,
isUTC: this._isUTC,
strict: this._strict
};
}, zn.year = hn, zn.isLeapYear = function() {
return Z(this.year());
}, zn.weekYear = function(e) {
return et.call(this, e, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
}, zn.isoWeekYear = function(e) {
return et.call(this, e, this.isoWeek(), this.isoWeekday(), 1, 4);
}, zn.quarter = zn.quarters = function(e) {
return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3);
}, zn.month = X, zn.daysInMonth = function() {
return q(this.year(), this.month());
}, zn.week = zn.weeks = function(e) {
var t = this.localeData().week(this);
return null == e ? t : this.add(7 * (e - t), "d");
}, zn.isoWeek = zn.isoWeeks = function(e) {
var t = re(this, 1, 4).week;
return null == e ? t : this.add(7 * (e - t), "d");
}, zn.weeksInYear = function() {
var e = this.localeData()._week;
return oe(this.year(), e.dow, e.doy);
}, zn.isoWeeksInYear = function() {
return oe(this.year(), 1, 4);
}, zn.date = Nn, zn.day = zn.days = function(e) {
if (!this.isValid()) return null != e ? this : NaN;
var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
return null != e ? (e = ae(e, this.localeData()), this.add(e - t, "d")) : t;
}, zn.weekday = function(e) {
if (!this.isValid()) return null != e ? this : NaN;
var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
return null == e ? t : this.add(e - t, "d");
}, zn.isoWeekday = function(e) {
if (!this.isValid()) return null != e ? this : NaN;
if (null != e) {
var t = se(e, this.localeData());
return this.day(this.day() % 7 ? t : t - 7);
}
return this.day() || 7;
}, zn.dayOfYear = function(e) {
var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
return null == e ? t : this.add(e - t, "d");
}, zn.hour = zn.hours = Cn, zn.minute = zn.minutes = jn, zn.second = zn.seconds = Un, zn.millisecond = zn.milliseconds = Hn, zn.utcOffset = function(t, n) {
var i, r = this._offset || 0;
return this.isValid() ? null != t ? ("string" == typeof t ? t = Ne(Gt, t) : Math.abs(t) < 16 && (t *= 60), !this._isUTC && n && (i = Ue(this)), this._offset = t, this._isUTC = !0, null != i && this.add(i, "m"), r !== t && (!n || this._changeInProgress ? Ke(this, He(t - r, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, e.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? r : Ue(this) : null != t ? this : NaN;
}, zn.utc = function(e) {
return this.utcOffset(0, e);
}, zn.local = function(e) {
return this._isUTC && (this.utcOffset(0, e), this._isUTC = !1, e && this.subtract(Ue(this), "m")), this;
}, zn.parseZone = function() {
return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(Ne(Wt, this._i)), this;
}, zn.hasAlignedHourOffset = function(e) {
return !!this.isValid() && (e = e ? Le(e).utcOffset() : 0, (this.utcOffset() - e) % 60 == 0);
}, zn.isDST = function() {
return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
}, zn.isLocal = function() {
return !!this.isValid() && !this._isUTC;
}, zn.isUtcOffset = function() {
return !!this.isValid() && this._isUTC;
}, zn.isUtc = Ve, zn.isUTC = Ve, zn.zoneAbbr = function() {
return this._isUTC ? "UTC" : "";
}, zn.zoneName = function() {
return this._isUTC ? "Coordinated Universal Time" : "";
}, zn.dates = x("dates accessor is deprecated. Use date instead.", Nn), zn.months = x("months accessor is deprecated. Use month instead", X), zn.years = x("years accessor is deprecated. Use year instead", hn), zn.zone = x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function(e, t) {
return null != e ? ("string" != typeof e && (e = -e), this.utcOffset(e, t), this) : -this.utcOffset();
}), zn.isDSTShifted = x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function() {
if (!p(this._isDSTShifted)) return this._isDSTShifted;
var e = {};
if (f(e, this), (e = Fe(e))._a) {
var t = e._isUTC ? l(e._a) : Le(e._a);
this._isDSTShifted = this.isValid() && b(e._a, t.toArray()) > 0;
} else this._isDSTShifted = !1;
return this._isDSTShifted;
});
var Wn = zn, Gn = $.prototype;
Gn.calendar = function(e, t, n) {
var i = this._calendar[e] || this._calendar.sameElse;
return _(i) ? i.call(t, n) : i;
}, Gn.longDateFormat = function(e) {
var t = this._longDateFormat[e], n = this._longDateFormat[e.toUpperCase()];
return t || !n ? t : (this._longDateFormat[e] = n.replace(/MMMM|MM|DD|dddd/g, function(e) {
return e.slice(1);
}), this._longDateFormat[e]);
}, Gn.invalidDate = function() {
return this._invalidDate;
}, Gn.ordinal = function(e) {
return this._ordinal.replace("%d", e);
}, Gn.preparse = nt, Gn.postformat = nt, Gn.relativeTime = function(e, t, n, i) {
var r = this._relativeTime[n];
return _(r) ? r(e, t, n, i) : r.replace(/%d/i, e);
}, Gn.pastFuture = function(e, t) {
var n = this._relativeTime[e > 0 ? "future" : "past"];
return _(n) ? n(t) : n.replace(/%s/i, t);
}, Gn.set = function(e) {
var t, n;
for (n in e) _(t = e[n]) ? this[n] = t : this["_" + n] = t;
this._config = e, this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source);
}, Gn.months = function(e, n) {
return t(this._months) ? this._months[e.month()] : this._months[(this._months.isFormat || sn).test(n) ? "format" : "standalone"][e.month()];
}, Gn.monthsShort = function(e, n) {
return t(this._monthsShort) ? this._monthsShort[e.month()] : this._monthsShort[sn.test(n) ? "format" : "standalone"][e.month()];
}, Gn.monthsParse = function(e, t, n) {
var i, r, o;
if (this._monthsParseExact) return Y.call(this, e, t, n);
for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; i < 12; i++) {
if (r = l([ 2e3, i ]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(r, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(r, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (o = "^" + this.months(r, "") + "|^" + this.monthsShort(r, ""), this._monthsParse[i] = new RegExp(o.replace(".", ""), "i")), n && "MMMM" === t && this._longMonthsParse[i].test(e)) return i;
if (n && "MMM" === t && this._shortMonthsParse[i].test(e)) return i;
if (!n && this._monthsParse[i].test(e)) return i;
}
}, Gn.monthsRegex = function(e) {
return this._monthsParseExact ? (a(this, "_monthsRegex") || Q.call(this), e ? this._monthsStrictRegex : this._monthsRegex) : (a(this, "_monthsRegex") || (this._monthsRegex = dn), this._monthsStrictRegex && e ? this._monthsStrictRegex : this._monthsRegex);
}, Gn.monthsShortRegex = function(e) {
return this._monthsParseExact ? (a(this, "_monthsRegex") || Q.call(this), e ? this._monthsShortStrictRegex : this._monthsShortRegex) : (a(this, "_monthsShortRegex") || (this._monthsShortRegex = un), this._monthsShortStrictRegex && e ? this._monthsShortStrictRegex : this._monthsShortRegex);
}, Gn.week = function(e) {
return re(e, this._week.dow, this._week.doy).week;
}, Gn.firstDayOfYear = function() {
return this._week.doy;
}, Gn.firstDayOfWeek = function() {
return this._week.dow;
}, Gn.weekdays = function(e, n) {
return t(this._weekdays) ? this._weekdays[e.day()] : this._weekdays[this._weekdays.isFormat.test(n) ? "format" : "standalone"][e.day()];
}, Gn.weekdaysMin = function(e) {
return this._weekdaysMin[e.day()];
}, Gn.weekdaysShort = function(e) {
return this._weekdaysShort[e.day()];
}, Gn.weekdaysParse = function(e, t, n) {
var i, r, o;
if (this._weekdaysParseExact) return le.call(this, e, t, n);
for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), i = 0; i < 7; i++) {
if (r = l([ 2e3, 1 ]).day(i), n && !this._fullWeekdaysParse[i] && (this._fullWeekdaysParse[i] = new RegExp("^" + this.weekdays(r, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[i] = new RegExp("^" + this.weekdaysShort(r, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[i] = new RegExp("^" + this.weekdaysMin(r, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[i] || (o = "^" + this.weekdays(r, "") + "|^" + this.weekdaysShort(r, "") + "|^" + this.weekdaysMin(r, ""), this._weekdaysParse[i] = new RegExp(o.replace(".", ""), "i")), n && "dddd" === t && this._fullWeekdaysParse[i].test(e)) return i;
if (n && "ddd" === t && this._shortWeekdaysParse[i].test(e)) return i;
if (n && "dd" === t && this._minWeekdaysParse[i].test(e)) return i;
if (!n && this._weekdaysParse[i].test(e)) return i;
}
}, Gn.weekdaysRegex = function(e) {
return this._weekdaysParseExact ? (a(this, "_weekdaysRegex") || ce.call(this), e ? this._weekdaysStrictRegex : this._weekdaysRegex) : (a(this, "_weekdaysRegex") || (this._weekdaysRegex = vn), this._weekdaysStrictRegex && e ? this._weekdaysStrictRegex : this._weekdaysRegex);
}, Gn.weekdaysShortRegex = function(e) {
return this._weekdaysParseExact ? (a(this, "_weekdaysRegex") || ce.call(this), e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (a(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = yn), this._weekdaysShortStrictRegex && e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);
}, Gn.weekdaysMinRegex = function(e) {
return this._weekdaysParseExact ? (a(this, "_weekdaysRegex") || ce.call(this), e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (a(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = bn), this._weekdaysMinStrictRegex && e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);
}, Gn.isPM = function(e) {
return "p" === (e + "").toLowerCase().charAt(0);
}, Gn.meridiem = function(e, t, n) {
return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM";
}, me("en", {
ordinalParse: /\d{1,2}(th|st|nd|rd)/,
ordinal: function(e) {
var t = e % 10;
return e + (1 === y(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th");
}
}), e.lang = x("moment.lang is deprecated. Use moment.locale instead.", me), e.langData = x("moment.langData is deprecated. Use moment.localeData instead.", ye);
var qn = Math.abs, Yn = ut("ms"), Kn = ut("s"), Xn = ut("m"), Qn = ut("h"), Jn = ut("d"), Zn = ut("w"), ei = ut("M"), ti = ut("y"), ni = dt("milliseconds"), ii = dt("seconds"), ri = dt("minutes"), oi = dt("hours"), ai = dt("days"), si = dt("months"), li = dt("years"), ci = Math.round, ui = {
s: 45,
m: 45,
h: 22,
d: 26,
M: 11
}, di = Math.abs, hi = Oe.prototype;
return hi.abs = function() {
var e = this._data;
return this._milliseconds = qn(this._milliseconds), this._days = qn(this._days), this._months = qn(this._months), e.milliseconds = qn(e.milliseconds), e.seconds = qn(e.seconds), e.minutes = qn(e.minutes), e.hours = qn(e.hours), e.months = qn(e.months), e.years = qn(e.years), this;
}, hi.add = function(e, t) {
return at(this, e, t, 1);
}, hi.subtract = function(e, t) {
return at(this, e, t, -1);
}, hi.as = function(e) {
var t, n, i = this._milliseconds;
if ("month" === (e = k(e)) || "year" === e) return t = this._days + i / 864e5, n = this._months + lt(t), "month" === e ? n : n / 12;
switch (t = this._days + Math.round(ct(this._months)), e) {
case "week":
return t / 7 + i / 6048e5;

case "day":
return t + i / 864e5;

case "hour":
return 24 * t + i / 36e5;

case "minute":
return 1440 * t + i / 6e4;

case "second":
return 86400 * t + i / 1e3;

case "millisecond":
return Math.floor(864e5 * t) + i;

default:
throw new Error("Unknown unit " + e);
}
}, hi.asMilliseconds = Yn, hi.asSeconds = Kn, hi.asMinutes = Xn, hi.asHours = Qn, hi.asDays = Jn, hi.asWeeks = Zn, hi.asMonths = ei, hi.asYears = ti, hi.valueOf = function() {
return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * y(this._months / 12);
}, hi._bubble = function() {
var e, t, n, i, r, o = this._milliseconds, a = this._days, s = this._months, l = this._data;
return o >= 0 && a >= 0 && s >= 0 || o <= 0 && a <= 0 && s <= 0 || (o += 864e5 * st(ct(s) + a), a = 0, s = 0), l.milliseconds = o % 1e3, e = v(o / 1e3), l.seconds = e % 60, t = v(e / 60), l.minutes = t % 60, n = v(t / 60), l.hours = n % 24, a += v(n / 24), r = v(lt(a)), s += r, a -= st(ct(r)), i = v(s / 12), s %= 12, l.days = a, l.months = s, l.years = i, this;
}, hi.get = function(e) {
return e = k(e), this[e + "s"]();
}, hi.milliseconds = ni, hi.seconds = ii, hi.minutes = ri, hi.hours = oi, hi.days = ai, hi.weeks = function() {
return v(this.days() / 7);
}, hi.months = si, hi.years = li, hi.humanize = function(e) {
var t = this.localeData(), n = pt(this, !e, t);
return e && (n = t.pastFuture(+this, n)), t.postformat(n);
}, hi.toISOString = ft, hi.toString = ft, hi.toJSON = ft, hi.locale = Qe, hi.localeData = Je, hi.toIsoString = x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", ft), hi.lang = Bn, P("X", 0, 0, "unix"), P("x", 0, 0, "valueOf"), j("x", zt), j("X", qt), z("X", function(e, t, n) {
n._d = new Date(1e3 * parseFloat(e, 10));
}), z("x", function(e, t, n) {
n._d = new Date(y(e));
}), e.version = "2.14.2", function(e) {
gt = e;
}(Le), e.fn = Wn, e.min = function() {
return Pe("isBefore", [].slice.call(arguments, 0));
}, e.max = function() {
return Pe("isAfter", [].slice.call(arguments, 0));
}, e.now = function() {
return Date.now ? Date.now() : +new Date();
}, e.utc = l, e.unix = function(e) {
return Le(1e3 * e);
}, e.months = function(e, t) {
return rt(e, t, "months");
}, e.isDate = r, e.locale = me, e.invalid = h, e.duration = He, e.isMoment = m, e.weekdays = function(e, t, n) {
return ot(e, t, n, "weekdays");
}, e.parseZone = function() {
return Le.apply(null, arguments).parseZone();
}, e.localeData = ye, e.isDuration = Re, e.monthsShort = function(e, t) {
return rt(e, t, "monthsShort");
}, e.weekdaysMin = function(e, t, n) {
return ot(e, t, n, "weekdaysMin");
}, e.defineLocale = ve, e.updateLocale = function(e, t) {
if (null != t) {
var n, i = _n;
null != Sn[e] && (i = Sn[e]._config), (n = new $(t = S(i, t))).parentLocale = Sn[e], Sn[e] = n, me(e);
} else null != Sn[e] && (null != Sn[e].parentLocale ? Sn[e] = Sn[e].parentLocale : null != Sn[e] && delete Sn[e]);
return Sn[e];
}, e.locales = function() {
return wt(Sn);
}, e.weekdaysShort = function(e, t, n) {
return ot(e, t, n, "weekdaysShort");
}, e.normalizeUnits = k, e.relativeTimeRounding = function(e) {
return void 0 === e ? ci : "function" == typeof e && (ci = e, !0);
}, e.relativeTimeThreshold = function(e, t) {
return void 0 !== ui[e] && (void 0 === t ? ui[e] : (ui[e] = t, !0));
}, e.calendarFormat = function(e, t) {
var n = e.diff(t, "days", !0);
return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse";
}, e.prototype = Wn, e;
}), function(e) {
"use strict";
var t = function(t, n) {
this.options = e.extend({}, e.fn.combobox.defaults, n), this.template = this.options.template || this.template, this.$source = e(t), this.$container = this.setup(), this.$element = this.$container.find("input[type=text]"), this.$target = this.$container.find("input[type=hidden]"), this.$button = this.$container.find(".dropdown-toggle"), this.$menu = e(this.options.menu).appendTo("body"), this.matcher = this.options.matcher || this.matcher, this.sorter = this.options.sorter || this.sorter, this.highlighter = this.options.highlighter || this.highlighter, this.shown = !1, this.selected = !1, this.refresh(), this.transferAttributes(), this.listen();
};
t.prototype = {
constructor: t,
setup: function() {
var t = e(this.template());
return this.$source.before(t), this.$source.hide(), t;
},
disable: function() {
this.$element.prop("disabled", !0), this.$button.attr("disabled", !0), this.disabled = !0, this.$container.addClass("combobox-disabled");
},
enable: function() {
this.$element.prop("disabled", !1), this.$button.attr("disabled", !1), this.disabled = !1, this.$container.removeClass("combobox-disabled");
},
parse: function() {
var t = this, n = {}, i = [], r = !1, o = "";
return this.$source.find("option").each(function() {
var a = e(this);
"" !== a.val() ? (n[a.text()] = a.val(), i.push(a.text()), a.prop("selected") && (r = a.text(), o = a.val())) : t.options.placeholder = a.text();
}), this.map = n, r && (this.$element.val(r), this.$target.val(o), this.$container.addClass("combobox-selected"), this.selected = !0), i;
},
transferAttributes: function() {
this.options.placeholder = this.$source.attr("data-placeholder") || this.options.placeholder, "undefined" !== this.options.appendId && this.$element.attr("id", this.$source.attr("id") + this.options.appendId), this.$element.attr("placeholder", this.options.placeholder), this.$target.prop("name", this.$source.prop("name")), this.$target.val(this.$source.val()), this.$source.removeAttr("name"), this.$element.attr("required", this.$source.attr("required")), this.$element.attr("rel", this.$source.attr("rel")), this.$element.attr("title", this.$source.attr("title")), this.$element.attr("class", this.$source.attr("class")), this.$element.attr("tabindex", this.$source.attr("tabindex")), this.$source.removeAttr("tabindex"), void 0 !== this.$source.attr("disabled") && this.disable();
},
select: function() {
var e = this.$menu.find(".active").attr("data-value");
return this.$element.val(this.updater(e)).trigger("change"), this.$target.val(this.map[e]).trigger("change"), this.$source.val(this.map[e]).trigger("change"), this.$container.addClass("combobox-selected"), this.selected = !0, this.hide();
},
updater: function(e) {
return e;
},
show: function() {
var t = e.extend({}, this.$element.position(), {
height: this.$element[0].offsetHeight
});
return this.$menu.insertAfter(this.$element).css({
top: t.top + t.height,
left: t.left
}).show(), e(".dropdown-menu").on("mousedown", e.proxy(this.scrollSafety, this)), this.shown = !0, this;
},
hide: function() {
return this.$menu.hide(), e(".dropdown-menu").off("mousedown", e.proxy(this.scrollSafety, this)), this.$element.on("blur", e.proxy(this.blur, this)), this.shown = !1, this;
},
lookup: function(e) {
return this.query = this.$element.val(), this.process(this.source);
},
process: function(t) {
var n = this;
return t = e.grep(t, function(e) {
return n.matcher(e);
}), (t = this.sorter(t)).length ? this.render(t.slice(0, this.options.items)).show() : this.shown ? this.hide() : this;
},
template: function() {
return "2" == this.options.bsVersion ? '<div class="combobox-container"><input type="hidden" /> <div class="input-append"> <input type="text" autocomplete="false" /> <span class="add-on dropdown-toggle" data-dropdown="dropdown"> <span class="caret"/> <i class="icon-remove"/> </span> </div> </div>' : '<div class="combobox-container"> <input type="hidden" /> <div class="input-group"> <input type="text" autocomplete="false" /> <span class="input-group-addon dropdown-toggle" data-dropdown="dropdown"> <span class="caret" /> <span class="glyphicon glyphicon-remove" /> </span> </div> </div>';
},
matcher: function(e) {
return ~e.toLowerCase().indexOf(this.query.toLowerCase());
},
sorter: function(e) {
for (var t, n = [], i = [], r = []; t = e.shift(); ) t.toLowerCase().indexOf(this.query.toLowerCase()) ? ~t.indexOf(this.query) ? i.push(t) : r.push(t) : n.push(t);
return n.concat(i, r);
},
highlighter: function(e) {
var t = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
return e.replace(new RegExp("(" + t + ")", "ig"), function(e, t) {
return "<strong>" + t + "</strong>";
});
},
render: function(t) {
var n = this;
return (t = e(t).map(function(t, i) {
return (t = e(n.options.item).attr("data-value", i)).find("a").html(n.highlighter(i)), t[0];
})).first().addClass("active"), this.$menu.html(t), this;
},
next: function(t) {
var n = this.$menu.find(".active").removeClass("active").next();
n.length || (n = e(this.$menu.find("li")[0])), n.addClass("active");
},
prev: function(e) {
var t = this.$menu.find(".active").removeClass("active").prev();
t.length || (t = this.$menu.find("li").last()), t.addClass("active");
},
toggle: function() {
this.disabled || (this.$container.hasClass("combobox-selected") ? (this.clearTarget(), this.triggerChange(), this.clearElement()) : this.shown ? this.hide() : (this.clearElement(), this.lookup()));
},
scrollSafety: function(e) {
"UL" == e.target.tagName && this.$element.off("blur");
},
clearElement: function() {
this.$element.val("").focus();
},
clearTarget: function() {
this.$source.val(""), this.$target.val(""), this.$container.removeClass("combobox-selected"), this.selected = !1;
},
triggerChange: function() {
this.$source.trigger("change");
},
refresh: function() {
this.source = this.parse(), this.options.items = this.source.length;
},
listen: function() {
this.$element.on("focus", e.proxy(this.focus, this)).on("blur", e.proxy(this.blur, this)).on("keypress", e.proxy(this.keypress, this)).on("keyup", e.proxy(this.keyup, this)), this.eventSupported("keydown") && this.$element.on("keydown", e.proxy(this.keydown, this)), this.$menu.on("click", e.proxy(this.click, this)).on("mouseenter", "li", e.proxy(this.mouseenter, this)).on("mouseleave", "li", e.proxy(this.mouseleave, this)), this.$button.on("click", e.proxy(this.toggle, this));
},
eventSupported: function(e) {
var t = e in this.$element;
return t || (this.$element.setAttribute(e, "return;"), t = "function" == typeof this.$element[e]), t;
},
move: function(e) {
if (this.shown) {
switch (e.keyCode) {
case 9:
case 13:
case 27:
e.preventDefault();
break;

case 38:
e.preventDefault(), this.prev(), this.fixMenuScroll();
break;

case 40:
e.preventDefault(), this.next(), this.fixMenuScroll();
}
e.stopPropagation();
}
},
fixMenuScroll: function() {
var e = this.$menu.find(".active");
if (e.length) {
var t = e.position().top, n = t + e.height(), i = this.$menu.scrollTop(), r = this.$menu.height();
n > r ? this.$menu.scrollTop(i + n - r) : t < 0 && this.$menu.scrollTop(i + t);
}
},
keydown: function(t) {
this.suppressKeyPressRepeat = ~e.inArray(t.keyCode, [ 40, 38, 9, 13, 27 ]), this.move(t);
},
keypress: function(e) {
this.suppressKeyPressRepeat || this.move(e);
},
keyup: function(e) {
switch (e.keyCode) {
case 40:
this.shown || this.toggle();
break;

case 39:
case 38:
case 37:
case 36:
case 35:
case 16:
case 17:
case 18:
break;

case 9:
case 13:
if (!this.shown) return;
this.select();
break;

case 27:
if (!this.shown) return;
this.hide();
break;

default:
this.clearTarget(), this.lookup();
}
e.stopPropagation(), e.preventDefault();
},
focus: function(e) {
this.focused = !0;
},
blur: function(e) {
var t = this;
this.focused = !1;
var n = this.$element.val();
this.selected || "" === n || (this.$element.val(""), this.$source.val("").trigger("change"), this.$target.val("").trigger("change")), !this.mousedover && this.shown && setTimeout(function() {
t.hide();
}, 200);
},
click: function(e) {
e.stopPropagation(), e.preventDefault(), this.select(), this.$element.focus();
},
mouseenter: function(t) {
this.mousedover = !0, this.$menu.find(".active").removeClass("active"), e(t.currentTarget).addClass("active");
},
mouseleave: function(e) {
this.mousedover = !1;
}
}, e.fn.combobox = function(n) {
return this.each(function() {
var i = e(this), r = i.data("combobox"), o = "object" == typeof n && n;
r || i.data("combobox", r = new t(this, o)), "string" == typeof n && r[n]();
});
}, e.fn.combobox.defaults = {
bsVersion: "3",
menu: '<ul class="typeahead typeahead-long dropdown-menu"></ul>',
item: '<li><a href="#"></a></li>'
}, e.fn.combobox.Constructor = t;
}(window.jQuery), function(e, t, n, i) {
"use strict";
var r = {};
r.settings = {
injectStyle: !0,
levels: 2,
expandIcon: "glyphicon glyphicon-plus",
collapseIcon: "glyphicon glyphicon-minus",
loadingIcon: "glyphicon glyphicon-hourglass",
emptyIcon: "glyphicon",
nodeIcon: "",
selectedIcon: "",
checkedIcon: "glyphicon glyphicon-check",
partiallyCheckedIcon: "glyphicon glyphicon-expand",
uncheckedIcon: "glyphicon glyphicon-unchecked",
tagsClass: "badge",
color: void 0,
backColor: void 0,
borderColor: void 0,
changedNodeColor: "#39A5DC",
onhoverColor: "#F5F5F5",
selectedColor: "#FFFFFF",
selectedBackColor: "#428bca",
searchResultColor: "#D9534F",
searchResultBackColor: void 0,
highlightSelected: !0,
highlightSearchResults: !0,
showBorder: !0,
showIcon: !0,
showImage: !1,
showCheckbox: !1,
checkboxFirst: !1,
highlightChanges: !1,
showTags: !1,
multiSelect: !1,
preventUnselect: !1,
allowReselect: !1,
hierarchicalCheck: !1,
propagateCheckEvent: !1,
wrapNodeText: !1,
onLoading: void 0,
onLoadingFailed: void 0,
onInitialized: void 0,
onNodeRendered: void 0,
onRendered: void 0,
onDestroyed: void 0,
onNodeChecked: void 0,
onNodeCollapsed: void 0,
onNodeDisabled: void 0,
onNodeEnabled: void 0,
onNodeExpanded: void 0,
onNodeSelected: void 0,
onNodeUnchecked: void 0,
onNodeUnselected: void 0,
onSearchComplete: void 0,
onSearchCleared: void 0
}, r.options = {
silent: !1,
ignoreChildren: !1
}, r.searchOptions = {
ignoreCase: !0,
exactMatch: !1,
revealResults: !0
}, r.dataUrl = {
method: "GET",
dataType: "json",
cache: !1
};
var o = function(t, n) {
return this.$element = e(t), this._elementId = t.id, this._styleId = this._elementId + "-style", this._init(n), {
options: this._options,
init: e.proxy(this._init, this),
remove: e.proxy(this._remove, this),
findNodes: e.proxy(this.findNodes, this),
getNodes: e.proxy(this.getNodes, this),
getParents: e.proxy(this.getParents, this),
getSiblings: e.proxy(this.getSiblings, this),
getSelected: e.proxy(this.getSelected, this),
getUnselected: e.proxy(this.getUnselected, this),
getExpanded: e.proxy(this.getExpanded, this),
getCollapsed: e.proxy(this.getCollapsed, this),
getChecked: e.proxy(this.getChecked, this),
getUnchecked: e.proxy(this.getUnchecked, this),
getDisabled: e.proxy(this.getDisabled, this),
getEnabled: e.proxy(this.getEnabled, this),
addNode: e.proxy(this.addNode, this),
addNodeAfter: e.proxy(this.addNodeAfter, this),
addNodeBefore: e.proxy(this.addNodeBefore, this),
removeNode: e.proxy(this.removeNode, this),
updateNode: e.proxy(this.updateNode, this),
selectNode: e.proxy(this.selectNode, this),
unselectNode: e.proxy(this.unselectNode, this),
toggleNodeSelected: e.proxy(this.toggleNodeSelected, this),
collapseAll: e.proxy(this.collapseAll, this),
collapseNode: e.proxy(this.collapseNode, this),
expandAll: e.proxy(this.expandAll, this),
expandNode: e.proxy(this.expandNode, this),
toggleNodeExpanded: e.proxy(this.toggleNodeExpanded, this),
revealNode: e.proxy(this.revealNode, this),
checkAll: e.proxy(this.checkAll, this),
checkNode: e.proxy(this.checkNode, this),
uncheckAll: e.proxy(this.uncheckAll, this),
uncheckNode: e.proxy(this.uncheckNode, this),
toggleNodeChecked: e.proxy(this.toggleNodeChecked, this),
unmarkCheckboxChanges: e.proxy(this.unmarkCheckboxChanges, this),
disableAll: e.proxy(this.disableAll, this),
disableNode: e.proxy(this.disableNode, this),
enableAll: e.proxy(this.enableAll, this),
enableNode: e.proxy(this.enableNode, this),
toggleNodeDisabled: e.proxy(this.toggleNodeDisabled, this),
search: e.proxy(this.search, this),
clearSearch: e.proxy(this.clearSearch, this)
};
};
o.prototype._init = function(t) {
this._tree = [], this._initialized = !1, this._options = e.extend({}, r.settings, t), this._template.icon.empty.addClass(this._options.emptyIcon), this._destroy(), this._subscribeEvents(), this._triggerEvent("loading", null, r.options), this._load(t).then(e.proxy(function(t) {
return this._tree = e.extend(!0, [], t);
}, this), e.proxy(function(e) {
this._triggerEvent("loadingFailed", e, r.options);
}, this)).then(e.proxy(function(e) {
return this._setInitialStates({
nodes: e
}, 0);
}, this)).then(e.proxy(function() {
this._render();
}, this));
}, o.prototype._load = function(t) {
var n = new e.Deferred();
return t.data ? this._loadLocalData(t, n) : t.dataUrl && this._loadRemoteData(t, n), n.promise();
}, o.prototype._loadRemoteData = function(t, n) {
e.ajax(e.extend(!0, {}, r.dataUrl, t.dataUrl)).done(function(e) {
n.resolve(e);
}).fail(function(e, t, i) {
n.reject(i);
});
}, o.prototype._loadLocalData = function(t, n) {
n.resolve("string" == typeof t.data ? JSON.parse(t.data) : e.extend(!0, [], t.data));
}, o.prototype._remove = function() {
this._destroy(), e.removeData(this, "treeview"), e("#" + this._styleId).remove();
}, o.prototype._destroy = function() {
this._initialized && (this._initialized = !1, this._triggerEvent("destroyed", null, r.options), this._unsubscribeEvents(), this.$wrapper.remove(), this.$wrapper = null);
}, o.prototype._unsubscribeEvents = function() {
this.$element.off("loading"), this.$element.off("loadingFailed"), this.$element.off("initialized"), this.$element.off("nodeRendered"), this.$element.off("rendered"), this.$element.off("destroyed"), this.$element.off("click"), this.$element.off("nodeChecked"), this.$element.off("nodeCollapsed"), this.$element.off("nodeDisabled"), this.$element.off("nodeEnabled"), this.$element.off("nodeExpanded"), this.$element.off("nodeSelected"), this.$element.off("nodeUnchecked"), this.$element.off("nodeUnselected"), this.$element.off("searchComplete"), this.$element.off("searchCleared");
}, o.prototype._subscribeEvents = function() {
this._unsubscribeEvents(), "function" == typeof this._options.onLoading && this.$element.on("loading", this._options.onLoading), "function" == typeof this._options.onLoadingFailed && this.$element.on("loadingFailed", this._options.onLoadingFailed), "function" == typeof this._options.onInitialized && this.$element.on("initialized", this._options.onInitialized), "function" == typeof this._options.onNodeRendered && this.$element.on("nodeRendered", this._options.onNodeRendered), "function" == typeof this._options.onRendered && this.$element.on("rendered", this._options.onRendered), "function" == typeof this._options.onDestroyed && this.$element.on("destroyed", this._options.onDestroyed), this.$element.on("click", e.proxy(this._clickHandler, this)), "function" == typeof this._options.onNodeChecked && this.$element.on("nodeChecked", this._options.onNodeChecked), "function" == typeof this._options.onNodeCollapsed && this.$element.on("nodeCollapsed", this._options.onNodeCollapsed), "function" == typeof this._options.onNodeDisabled && this.$element.on("nodeDisabled", this._options.onNodeDisabled), 
"function" == typeof this._options.onNodeEnabled && this.$element.on("nodeEnabled", this._options.onNodeEnabled), "function" == typeof this._options.onNodeExpanded && this.$element.on("nodeExpanded", this._options.onNodeExpanded), "function" == typeof this._options.onNodeSelected && this.$element.on("nodeSelected", this._options.onNodeSelected), "function" == typeof this._options.onNodeUnchecked && this.$element.on("nodeUnchecked", this._options.onNodeUnchecked), "function" == typeof this._options.onNodeUnselected && this.$element.on("nodeUnselected", this._options.onNodeUnselected), "function" == typeof this._options.onSearchComplete && this.$element.on("searchComplete", this._options.onSearchComplete), "function" == typeof this._options.onSearchCleared && this.$element.on("searchCleared", this._options.onSearchCleared);
}, o.prototype._triggerEvent = function(t, n, i) {
i && !i.silent && this.$element.trigger(t, e.extend(!0, {}, n));
}, o.prototype._setInitialStates = function(t, n) {
return this._nodes = {}, e.when.apply(this, this._setInitialState(t, n)).done(e.proxy(function() {
this._orderedNodes = this._sortNodes(), this._inheritCheckboxChanges(), this._triggerEvent("initialized", this._orderedNodes, r.options);
}, this));
}, o.prototype._setInitialState = function(t, n, i) {
if (t.nodes) {
n += 1, i = i || [];
var r = t;
return e.each(t.nodes, e.proxy(function(t, o) {
var a = new e.Deferred();
i.push(a.promise()), o.level = n, o.index = t, o.nodeId = r && r.nodeId ? r.nodeId + "." + o.index : n - 1 + "." + o.index, o.parentId = r.nodeId, o.hasOwnProperty("selectable") || (o.selectable = !0), o.hasOwnProperty("checkable") || (o.checkable = !0), o.state = o.state || {}, o.state.hasOwnProperty("checked") || (o.state.checked = !1), this._options.hierarchicalCheck && "undefined" === o.state.checked && (o.state.checked = void 0), o.state.hasOwnProperty("disabled") || (o.state.disabled = !1), o.state.hasOwnProperty("expanded") || (!o.state.disabled && n < this._options.levels && o.nodes && o.nodes.length > 0 ? o.state.expanded = !0 : o.state.expanded = !1), o.state.hasOwnProperty("selected") || (o.state.selected = !1), r && r.state && r.state.expanded || n <= this._options.levels ? o.state.visible = !0 : o.state.visible = !1, o.nodes && (o.nodes.length > 0 ? this._setInitialState(o, n, i) : delete o.nodes), this._nodes[o.nodeId] = o, a.resolve();
}, this)), i;
}
}, o.prototype._sortNodes = function() {
return e.map(Object.keys(this._nodes).sort(function(e, t) {
if (e === t) return 0;
for (var e = e.split(".").map(function(e) {
return parseInt(e);
}), t = t.split(".").map(function(e) {
return parseInt(e);
}), n = Math.max(e.length, t.length), i = 0; i < n; i++) {
if (void 0 === e[i]) return -1;
if (void 0 === t[i]) return 1;
if (e[i] - t[i] > 0) return 1;
if (e[i] - t[i] < 0) return -1;
}
}), e.proxy(function(e, t) {
return this._nodes[e];
}, this));
}, o.prototype._clickHandler = function(t) {
var n = e(t.target), i = this.targetNode(n);
if (i && !i.state.disabled) {
var o = n.attr("class") ? n.attr("class").split(" ") : [];
-1 !== o.indexOf("expand-icon") ? this._toggleExpanded(i, e.extend({}, r.options)) : -1 !== o.indexOf("check-icon") ? i.checkable && this._toggleChecked(i, e.extend({}, r.options)) : i.selectable ? this._toggleSelected(i, e.extend({}, r.options)) : this._toggleExpanded(i, e.extend({}, r.options));
}
}, o.prototype.targetNode = function(e) {
var t = e.closest("li.list-group-item").attr("data-nodeId"), n = this._nodes[t];
return n || console.log("Error: node does not exist"), n;
}, o.prototype._toggleExpanded = function(e, t) {
e && ("function" == typeof this._options.lazyLoad && e.lazyLoad ? this._lazyLoad(e) : this._setExpanded(e, !e.state.expanded, t));
}, o.prototype._lazyLoad = function(e) {
e.$el.children("span.expand-icon").removeClass(this._options.expandIcon).addClass(this._options.loadingIcon);
var t = this;
this._options.lazyLoad(e, function(n) {
t.addNode(n, e);
}), delete e.lazyLoad;
}, o.prototype._setExpanded = function(t, n, i) {
i && n === t.state.expanded || (n && t.nodes ? (t.state.expanded = !0, t.$el && t.$el.children("span.expand-icon").removeClass(this._options.expandIcon).removeClass(this._options.loadingIcon).addClass(this._options.collapseIcon), t.nodes && i && e.each(t.nodes, e.proxy(function(e, t) {
this._setVisible(t, !0, i);
}, this)), this._triggerEvent("nodeExpanded", t, i)) : n || (t.state.expanded = !1, t.$el && t.$el.children("span.expand-icon").removeClass(this._options.collapseIcon).addClass(this._options.expandIcon), t.nodes && i && e.each(t.nodes, e.proxy(function(e, t) {
this._setVisible(t, !1, i), this._setExpanded(t, !1, i);
}, this)), this._triggerEvent("nodeCollapsed", t, i)));
}, o.prototype._setVisible = function(e, t, n) {
n && t === e.state.visible || (t ? (e.state.visible = !0, e.$el && e.$el.removeClass("node-hidden")) : (e.state.visible = !1, e.$el && e.$el.addClass("node-hidden")));
}, o.prototype._toggleSelected = function(e, t) {
if (e) return this._setSelected(e, !e.state.selected, t), this;
}, o.prototype._setSelected = function(t, n, i) {
if (!i || n !== t.state.selected) {
if (n) this._options.multiSelect || e.each(this._findNodes("true", "state.selected"), e.proxy(function(t, n) {
this._setSelected(n, !1, e.extend(i, {
unselecting: !0
}));
}, this)), t.state.selected = !0, t.$el && (t.$el.addClass("node-selected"), (t.selectedIcon || this._options.selectedIcon) && t.$el.children("span.node-icon").removeClass(t.icon || this._options.nodeIcon).addClass(t.selectedIcon || this._options.selectedIcon)), this._triggerEvent("nodeSelected", t, i); else {
if (this._options.preventUnselect && i && !i.unselecting && 1 === this._findNodes("true", "state.selected").length) return this._options.allowReselect && this._triggerEvent("nodeSelected", t, i), this;
t.state.selected = !1, t.$el && (t.$el.removeClass("node-selected"), (t.selectedIcon || this._options.selectedIcon) && t.$el.children("span.node-icon").removeClass(t.selectedIcon || this._options.selectedIcon).addClass(t.icon || this._options.nodeIcon)), this._triggerEvent("nodeUnselected", t, i);
}
return this;
}
}, o.prototype._inheritCheckboxChanges = function() {
this._options.showCheckbox && this._options.highlightChanges && (this._checkedNodes = e.grep(this._orderedNodes, function(e) {
return e.state.checked;
}));
}, o.prototype._toggleChecked = function(t, n) {
if (t) {
if (this._options.hierarchicalCheck) {
var i, r = e.extend({}, n, {
silent: n.silent || !this._options.propagateCheckEvent
}), o = t;
for (t.state.checked = !t.state.checked; o = this._nodes[o.parentId]; ) i = o.nodes.reduce(function(e, t) {
return e === t.state.checked ? e : void 0;
}, o.nodes[0].state.checked), this._setChecked(o, i, r);
if (t.nodes && t.nodes.length > 0) for (var a, s = t.nodes.slice(); s && s.length > 0; ) a = s.pop(), this._setChecked(a, t.state.checked, r), a.nodes && a.nodes.length > 0 && (s = s.concat(a.nodes.slice()));
t.state.checked = !t.state.checked;
}
this._setChecked(t, !t.state.checked, n);
}
}, o.prototype._setChecked = function(e, t, n) {
n && t === e.state.checked || (this._options.highlightChanges && e.$el.toggleClass("node-check-changed", -1 == this._checkedNodes.indexOf(e) == t), t ? (e.state.checked = !0, e.$el && (e.$el.addClass("node-checked").removeClass("node-checked-partial"), e.$el.children("span.check-icon").removeClass(this._options.uncheckedIcon).removeClass(this._options.partiallyCheckedIcon).addClass(this._options.checkedIcon)), this._triggerEvent("nodeChecked", e, n)) : void 0 === t && this._options.hierarchicalCheck ? (e.state.checked = void 0, e.$el && (e.$el.addClass("node-checked-partial").removeClass("node-checked"), e.$el.children("span.check-icon").removeClass(this._options.uncheckedIcon).removeClass(this._options.checkedIcon).addClass(this._options.partiallyCheckedIcon)), this._triggerEvent("nodeUnchecked", e, n)) : (e.state.checked = !1, e.$el && (e.$el.removeClass("node-checked node-checked-partial"), e.$el.children("span.check-icon").removeClass(this._options.checkedIcon).removeClass(this._options.partiallyCheckedIcon).addClass(this._options.uncheckedIcon)), 
this._triggerEvent("nodeUnchecked", e, n)));
}, o.prototype._setDisabled = function(e, t, n) {
n && t === e.state.disabled || (t ? (e.state.disabled = !0, n && !n.keepState && (this._setSelected(e, !1, n), this._setChecked(e, !1, n), this._setExpanded(e, !1, n)), e.$el && e.$el.addClass("node-disabled"), this._triggerEvent("nodeDisabled", e, n)) : (e.state.disabled = !1, e.$el && e.$el.removeClass("node-disabled"), this._triggerEvent("nodeEnabled", e, n)));
}, o.prototype._setSearchResult = function(e, t, n) {
n && t === e.searchResult || (t ? (e.searchResult = !0, e.$el && e.$el.addClass("node-result")) : (e.searchResult = !1, e.$el && e.$el.removeClass("node-result")));
}, o.prototype._render = function() {
this._initialized || (this.$wrapper = this._template.tree.clone(), this.$element.empty().addClass("treeview").append(this.$wrapper), this._injectStyle(), this._initialized = !0);
var t;
e.each(this._orderedNodes, e.proxy(function(e, n) {
this._renderNode(n, t), t = n;
}, this)), this._triggerEvent("rendered", this._orderedNodes, r.options);
}, o.prototype._renderNode = function(t, n) {
if (t) {
t.$el ? t.$el.empty() : t.$el = this._newNodeEl(t, n).addClass("node-" + this._elementId), t.$el.addClass(t.class), t.id && t.$el.attr("id", t.id), t.dataAttr && e.each(t.dataAttr, function(e, n) {
t.$el.attr("data-" + e, n);
}), t.$el.attr("data-nodeId", t.nodeId), t.tooltip && t.$el.attr("title", t.tooltip);
for (var i = 0; i < t.level - 1; i++) t.$el.append(this._template.indent.clone());
if (t.$el.append(t.nodes || t.lazyLoad ? this._template.icon.expand.clone() : this._template.icon.empty.clone()), this._options.checkboxFirst ? (this._addCheckbox(t), this._addIcon(t), this._addImage(t)) : (this._addIcon(t), this._addImage(t), this._addCheckbox(t)), this._options.wrapNodeText) {
var o = this._template.text.clone();
t.$el.append(o), o.append(t.text);
} else t.$el.append(t.text);
this._options.showTags && t.tags && e.each(t.tags, e.proxy(function(e, n) {
t.$el.append(this._template.badge.clone().addClass(("object" == typeof n ? n.class : void 0) || t.tagsClass || this._options.tagsClass).append(("object" == typeof n ? n.text : void 0) || n));
}, this)), this._setSelected(t, t.state.selected), this._setChecked(t, t.state.checked), this._setSearchResult(t, t.searchResult), this._setExpanded(t, t.state.expanded), this._setDisabled(t, t.state.disabled), this._setVisible(t, t.state.visible), this._triggerEvent("nodeRendered", t, r.options);
}
}, o.prototype._addCheckbox = function(e) {
!this._options.showCheckbox || void 0 !== e.hideCheckbox && !1 !== e.hideCheckbox || e.$el.append(this._template.icon.check.clone());
}, o.prototype._addIcon = function(e) {
!this._options.showIcon || this._options.showImage && e.image || e.$el.append(this._template.icon.node.clone().addClass(e.icon || this._options.nodeIcon));
}, o.prototype._addImage = function(e) {
this._options.showImage && e.image && e.$el.append(this._template.image.clone().addClass("node-image").css("background-image", "url('" + e.image + "')"));
}, o.prototype._newNodeEl = function(e, t) {
var n = this._template.node.clone();
return t ? t.$el.after(n) : this.$wrapper.prepend(n), n;
}, o.prototype._removeNodeEl = function(t) {
t && (t.nodes && e.each(t.nodes, e.proxy(function(e, t) {
this._removeNodeEl(t);
}, this)), t.$el.remove());
}, o.prototype._expandNode = function(t) {
t.nodes && e.each(t.nodes.slice(0).reverse(), e.proxy(function(e, n) {
n.level = t.level + 1, this._renderNode(n, t.$el);
}, this));
}, o.prototype._injectStyle = function() {
this._options.injectStyle && !n.getElementById(this._styleId) && e('<style type="text/css" id="' + this._styleId + '"> ' + this._buildStyle() + " </style>").appendTo("head");
}, o.prototype._buildStyle = function() {
var t = ".node-" + this._elementId + "{";
if (this._options.color && (t += "color:" + this._options.color + ";"), this._options.backColor && (t += "background-color:" + this._options.backColor + ";"), this._options.showBorder ? this._options.borderColor && (t += "border:1px solid " + this._options.borderColor + ";") : t += "border:none;", t += "}", this._options.onhoverColor && (t += ".node-" + this._elementId + ":not(.node-disabled):hover{background-color:" + this._options.onhoverColor + ";}"), this._options.highlightSearchResults && (this._options.searchResultColor || this._options.searchResultBackColor)) {
n = "";
this._options.searchResultColor && (n += "color:" + this._options.searchResultColor + ";"), this._options.searchResultBackColor && (n += "background-color:" + this._options.searchResultBackColor + ";"), t += ".node-" + this._elementId + ".node-result{" + n + "}", t += ".node-" + this._elementId + ".node-result:hover{" + n + "}";
}
if (this._options.highlightSelected && (this._options.selectedColor || this._options.selectedBackColor)) {
n = "";
this._options.selectedColor && (n += "color:" + this._options.selectedColor + ";"), this._options.selectedBackColor && (n += "background-color:" + this._options.selectedBackColor + ";"), t += ".node-" + this._elementId + ".node-selected{" + n + "}", t += ".node-" + this._elementId + ".node-selected:hover{" + n + "}";
}
if (this._options.highlightChanges) {
var n = "color: " + this._options.changedNodeColor + ";";
t += ".node-" + this._elementId + ".node-check-changed{" + n + "}";
}
return e.each(this._orderedNodes, e.proxy(function(e, n) {
if (n.color || n.backColor) {
i = "";
n.color && (i += "color:" + n.color + ";"), n.backColor && (i += "background-color:" + n.backColor + ";"), t += ".node-" + this._elementId + '[data-nodeId="' + n.nodeId + '"]{' + i + "}";
}
if (n.iconColor) {
var i = "color:" + n.iconColor + ";";
t += ".node-" + this._elementId + '[data-nodeId="' + n.nodeId + '"] .node-icon{' + i + "}";
}
}, this)), this._css + t;
}, o.prototype._template = {
tree: e('<ul class="list-group"></ul>'),
node: e('<li class="list-group-item"></li>'),
indent: e('<span class="indent"></span>'),
icon: {
node: e('<span class="icon node-icon"></span>'),
expand: e('<span class="icon expand-icon"></span>'),
check: e('<span class="icon check-icon"></span>'),
empty: e('<span class="icon"></span>')
},
image: e('<span class="image"></span>'),
badge: e("<span></span>"),
text: e('<span class="text"></span>')
}, o.prototype._css = ".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}", o.prototype.findNodes = function(e, t) {
return this._findNodes(e, t);
}, o.prototype.getNodes = function() {
return this._orderedNodes;
}, o.prototype.getParents = function(t) {
t instanceof Array || (t = [ t ]);
var n = [];
return e.each(t, e.proxy(function(e, t) {
var i = !!t.parentId && this._nodes[t.parentId];
i && n.push(i);
}, this)), n;
}, o.prototype.getSiblings = function(t) {
t instanceof Array || (t = [ t ]);
var n = [];
return e.each(t, e.proxy(function(e, t) {
var i = this.getParents([ t ]), r = i[0] ? i[0].nodes : this._tree;
n = r.filter(function(e) {
return e.nodeId !== t.nodeId;
});
}, this)), e.map(n, function(e) {
return e;
});
}, o.prototype.getSelected = function() {
return this._findNodes("true", "state.selected");
}, o.prototype.getUnselected = function() {
return this._findNodes("false", "state.selected");
}, o.prototype.getExpanded = function() {
return this._findNodes("true", "state.expanded");
}, o.prototype.getCollapsed = function() {
return this._findNodes("false", "state.expanded");
}, o.prototype.getChecked = function() {
return this._findNodes("true", "state.checked");
}, o.prototype.getUnchecked = function() {
return this._findNodes("false", "state.checked");
}, o.prototype.getDisabled = function() {
return this._findNodes("true", "state.disabled");
}, o.prototype.getEnabled = function() {
return this._findNodes("false", "state.disabled");
}, o.prototype.addNode = function(t, n, i, o) {
t instanceof Array || (t = [ t ]), n instanceof Array && (n = n[0]), o = e.extend({}, r.options, o);
var a;
a = n && n.nodes ? n.nodes : n ? n.nodes = [] : this._tree, e.each(t, e.proxy(function(e, t) {
var n = "number" == typeof i ? i + e : a.length + 1;
a.splice(n, 0, t);
}, this)), this._setInitialStates({
nodes: this._tree
}, 0).done(e.proxy(function() {
n && !n.state.expanded && this._setExpanded(n, !0, o), this._render();
}, this));
}, o.prototype.addNodeAfter = function(t, n, i) {
t instanceof Array || (t = [ t ]), n instanceof Array && (n = n[0]), i = e.extend({}, r.options, i), this.addNode(t, this.getParents(n)[0], n.index + 1, i);
}, o.prototype.addNodeBefore = function(t, n, i) {
t instanceof Array || (t = [ t ]), n instanceof Array && (n = n[0]), i = e.extend({}, r.options, i), this.addNode(t, this.getParents(n)[0], n.index, i);
}, o.prototype.removeNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n);
var i, o;
e.each(t, e.proxy(function(e, t) {
o = this._nodes[t.parentId], (i = o ? o.nodes : this._tree).splice(t.index, 1), this._removeNodeEl(t);
}, this)), this._setInitialStates({
nodes: this._tree
}, 0).done(this._render.bind(this));
}, o.prototype.updateNode = function(t, n, i) {
t instanceof Array && (t = t[0]), i = e.extend({}, r.options, i);
var o = this._nodes[t.parentId];
(o ? o.nodes : this._tree).splice(t.index, 1, n), this._removeNodeEl(t), this._setInitialStates({
nodes: this._tree
}, 0).done(this._render.bind(this));
}, o.prototype.selectNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setSelected(t, !0, n);
}, this));
}, o.prototype.unselectNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setSelected(t, !1, n);
}, this));
}, o.prototype.toggleNodeSelected = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._toggleSelected(t, n);
}, this));
}, o.prototype.collapseAll = function(t) {
(t = e.extend({}, r.options, t)).levels = t.levels || 999, this.collapseNode(this._tree, t);
}, o.prototype.collapseNode = function(t, n) {
n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setExpanded(t, !1, n);
}, this));
}, o.prototype.expandAll = function(t) {
(t = e.extend({}, r.options, t)).levels = t.levels || 999, this.expandNode(this._tree, t);
}, o.prototype.expandNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
t.state.expanded || ("function" == typeof this._options.lazyLoad && t.lazyLoad && this._lazyLoad(t), this._setExpanded(t, !0, n), t.nodes && this._expandLevels(t.nodes, n.levels - 1, n));
}, this));
}, o.prototype._expandLevels = function(t, n, i) {
t instanceof Array || (t = [ t ]), i = e.extend({}, r.options, i), e.each(t, e.proxy(function(e, t) {
this._setExpanded(t, n > 0, i), t.nodes && this._expandLevels(t.nodes, n - 1, i);
}, this));
}, o.prototype.revealNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
for (var i, r = t; i = this.getParents([ r ])[0]; ) r = i, this._setExpanded(r, !0, n);
}, this));
}, o.prototype.toggleNodeExpanded = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._toggleExpanded(t, n);
}, this));
}, o.prototype.checkAll = function(t) {
t = e.extend({}, r.options, t);
var n = e.grep(this._orderedNodes, function(e) {
return !e.state.checked;
});
e.each(n, e.proxy(function(e, n) {
this._setChecked(n, !0, t);
}, this));
}, o.prototype.checkNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setChecked(t, !0, n);
}, this));
}, o.prototype.uncheckAll = function(t) {
t = e.extend({}, r.options, t);
var n = e.grep(this._orderedNodes, function(e) {
return e.state.checked || void 0 === e.state.checked;
});
e.each(n, e.proxy(function(e, n) {
this._setChecked(n, !1, t);
}, this));
}, o.prototype.uncheckNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setChecked(t, !1, n);
}, this));
}, o.prototype.toggleNodeChecked = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._toggleChecked(t, n);
}, this));
}, o.prototype.unmarkCheckboxChanges = function() {
this._inheritCheckboxChanges(), e.each(this._nodes, function(e, t) {
t.$el.removeClass("node-check-changed");
});
}, o.prototype.disableAll = function(t) {
t = e.extend({}, r.options, t);
var n = this._findNodes("false", "state.disabled");
e.each(n, e.proxy(function(e, n) {
this._setDisabled(n, !0, t);
}, this));
}, o.prototype.disableNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setDisabled(t, !0, n);
}, this));
}, o.prototype.enableAll = function(t) {
t = e.extend({}, r.options, t);
var n = this._findNodes("true", "state.disabled");
e.each(n, e.proxy(function(e, n) {
this._setDisabled(n, !1, t);
}, this));
}, o.prototype.enableNode = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setDisabled(t, !1, n);
}, this));
}, o.prototype.toggleNodeDisabled = function(t, n) {
t instanceof Array || (t = [ t ]), n = e.extend({}, r.options, n), e.each(t, e.proxy(function(e, t) {
this._setDisabled(t, !t.state.disabled, n);
}, this));
}, o.prototype.search = function(t, n) {
n = e.extend({}, r.searchOptions, n);
var i = this._getSearchResults(), o = [];
if (t && t.length > 0) {
n.exactMatch && (t = "^" + t + "$");
var a = "g";
n.ignoreCase && (a += "i"), o = this._findNodes(t, "text", a);
}
return e.each(this._diffArray(o, i), e.proxy(function(e, t) {
this._setSearchResult(t, !1, n);
}, this)), e.each(this._diffArray(i, o), e.proxy(function(e, t) {
this._setSearchResult(t, !0, n);
}, this)), o && n.revealResults && this.revealNode(o), this._triggerEvent("searchComplete", o, n), o;
}, o.prototype.clearSearch = function(t) {
t = e.extend({}, {
render: !0
}, t);
var n = e.each(this._getSearchResults(), e.proxy(function(e, n) {
this._setSearchResult(n, !1, t);
}, this));
this._triggerEvent("searchCleared", n, t);
}, o.prototype._getSearchResults = function() {
return this._findNodes("true", "searchResult");
}, o.prototype._diffArray = function(t, n) {
var i = [];
return e.grep(n, function(n) {
-1 === e.inArray(n, t) && i.push(n);
}), i;
}, o.prototype._findNodes = function(t, n, i) {
return n = n || "text", i = i || "g", e.grep(this._orderedNodes, e.proxy(function(e) {
var r = this._getNodeValue(e, n);
if ("string" == typeof r) return r.match(new RegExp(t, i));
}, this));
}, o.prototype._getNodeValue = function(e, t) {
var n = t.indexOf(".");
if (n > 0) {
var i = e[t.substring(0, n)], r = t.substring(n + 1, t.length);
return this._getNodeValue(i, r);
}
return e.hasOwnProperty(t) && void 0 !== e[t] ? e[t].toString() : void 0;
};
var a = function(e) {
t.console && t.console.error(e);
};
e.fn.treeview = function(t, n) {
var i;
if (0 == this.length) throw "No element has been found!";
return this.each(function() {
var r = e.data(this, "treeview");
"string" == typeof t ? r ? e.isFunction(r[t]) && "_" !== t.charAt(0) ? (n instanceof Array || (n = [ n ]), i = r[t].apply(r, n)) : a("No such method : " + t) : a("Not initialized, can not call method : " + t) : "boolean" == typeof t ? i = r : e.data(this, "treeview", new o(this, e.extend(!0, {}, t)));
}), i || this;
};
}(jQuery, window, document), function(e) {
"use strict";
var t = {
version: "3.24.0"
};
t.pfPaletteColors = {
black: "#030303",
black100: "#fafafa",
black200: "#ededed",
black300: "#d1d1d1",
black400: "#bbbbbb",
black500: "#8b8d8f",
black600: "#72767b",
black700: "#4d5258",
black800: "#393f44",
black900: "#292e34",
blue: "#0088ce",
blue100: "#bee1f4",
blue200: "#7dc3e8",
blue300: "#39a5dc",
blue400: "#0088ce",
blue500: "#00659c",
blue600: "#004368",
blue700: "#002235",
gold: "#f0ab00",
gold100: "#fbeabc",
gold200: "#f9d67a",
gold300: "#f5c12e",
gold400: "#f0ab00",
gold500: "#b58100",
gold600: "#795600",
gold700: "#3d2c00",
orange: "#ec7a08",
orange100: "#fbdebf",
orange200: "#f7bd7f",
orange300: "#f39d3c",
orange400: "#ec7a08",
orange500: "#b35c00",
orange600: "#773d00",
orange700: "#3b1f00",
lightBlue: "#00b9e4",
lightBlue100: "#beedf9",
lightBlue200: "#7cdbf3",
lightBlue300: "#35caed",
lightBlue400: "#00b9e4",
lightBlue500: "#008bad",
lightBlue600: "#005c73",
lightBlue700: "#002d39",
green: "#3f9c35",
green100: "#cfe7cd",
green200: "#9ecf99",
green300: "#6ec664",
green400: "#3f9c35",
green500: "#2d7623",
green600: "#1e4f18",
green700: "#0f280d",
lightGreen: "#92d400",
lightGreen100: "#e4f5bc",
lightGreen200: "#c8eb79",
lightGreen300: "#ace12e",
lightGreen400: "#92d400",
lightGreen500: "#6ca100",
lightGreen600: "#486b00",
lightGreen700: "#253600",
cyan: "#007a87",
cyan100: "#bedee1",
cyan200: "#7dbdc3",
cyan300: "#3a9ca6",
cyan400: "#007a87",
cyan500: "#005c66",
cyan600: "#003d44",
cyan700: "#001f22",
purple: "#703fec",
purple100: "#c7bfff",
purple200: "#a18fff",
purple300: "#8461f7",
purple400: "#703fec",
purple500: "#582fc0",
purple600: "#40199a",
purple700: "#1f0066",
red: "#cc0000",
red100: "#cc0000",
red200: "#a30000",
red300: "#8b0000",
red400: "#470000",
red500: "#2c0000"
}, t.pfSetDonutChartTitle = function(t, n, i) {
var r = e.d3.select(t).select("text.c3-chart-arcs-title");
r.text(""), r.insert("tspan").text(n).classed("donut-title-big-pf", !0).attr("dy", 0).attr("x", 0), r.insert("tspan").text(i).classed("donut-title-small-pf", !0).attr("dy", 20).attr("x", 0);
}, t.pfDonutTooltipContents = function(e, t, n, i) {
return '<table class="c3-tooltip">  <tr>    <td><span style="background-color:' + i(e[0].id) + '"></span><strong>' + e[0].value + "</strong> " + e[0].name + "</td>    <td>" + Math.round(1e3 * e[0].ratio) / 10 + "%</td>  </tr></table>";
}, t.pfGetUtilizationDonutTooltipContentsFn = function(e) {
return function(t) {
return '<span class="donut-tooltip-pf" style="white-space: nowrap;">' + Math.round(1e3 * t[0].ratio) / 10 + "% " + e + " " + t[0].name + "</span>";
};
}, t.pfGetBarChartTooltipContentsFn = function(e) {
return function(t) {
return '<table class="c3-tooltip">  <tr>    <td><strong>' + (e ? e[t[0].index] : t[0].index) + ":</td>    <td>" + t[0].value + "</td>  </tr></table>";
};
}, t.pfSingleLineChartTooltipContentsFn = function(e) {
return function(t) {
return '<table class="c3-tooltip">  <tr>    <td><strong>' + (e ? e[t[0].index] : t[0].index) + ":</td>    <td>" + t[0].value + "</td>  </tr></table>";
};
}, t.pfPieTooltipContents = function(e, n, i, r) {
return t.pfDonutTooltipContents(e, n, i, r);
}, t.c3ChartDefaults = function() {
var e = function() {
return {
pattern: [ t.pfPaletteColors.blue, t.pfPaletteColors.blue300, t.pfPaletteColors.green, t.pfPaletteColors.orange, t.pfPaletteColors.red ]
};
}, n = function() {
return {
zerobased: !0
};
}, i = function() {
return {
height: 60
};
}, r = function() {
return {
x: {
show: !1
},
y: {
show: !1
}
};
}, o = function() {
return {
show: !1
};
}, a = function() {
return {
r: 1,
focus: {
expand: {
r: 4
}
}
};
}, s = function() {
return {
contents: function(e) {
return '<span class="c3-tooltip-sparkline">' + e[0].value + " " + e[0].name + "</span>";
}
};
}, l = function() {
return {
x: {
show: !0
},
y: {
show: !0
}
};
}, c = function() {
return {
x: {
show: !1
},
y: {
show: !0
}
};
}, u = function() {
return {
show: !0
};
}, d = function() {
return {
r: 3,
focus: {
expand: {
r: 5
}
}
};
}, h = function() {
return {
contents: $().pfGetBarChartTooltipContentsFn()
};
}, p = function() {
return {
x: {
show: !0
},
y: {
show: !0
}
};
}, f = function() {
return {
x: {
show: !1
},
y: {
show: !0
}
};
}, g = function() {
return {
show: !0
};
}, m = function() {
return {
r: 3,
focus: {
expand: {
r: 5
}
}
};
}, v = function() {
return {
contents: $().pfGetBarChartTooltipContentsFn()
};
};
return {
getDefaultColors: e,
getDefaultBarGrid: function() {
return {
y: {
show: !0
}
};
},
getDefaultBarTooltip: function(e) {
return {
contents: t.pfGetBarChartTooltipContentsFn(e)
};
},
getDefaultBarLegend: function() {
return {
show: !1
};
},
getDefaultBarConfig: function(e) {
return {
color: this.getDefaultColors(),
grid: this.getDefaultBarGrid(),
tooltip: this.getDefaultBarTooltip(e),
legend: this.getDefaultBarLegend()
};
},
getDefaultGroupedBarGrid: function() {
return {
y: {
show: !0
}
};
},
getDefaultGroupedBarLegend: function() {
return {
show: !0,
position: "bottom"
};
},
getDefaultGroupedBarConfig: function() {
return {
color: this.getDefaultColors(),
grid: this.getDefaultGroupedBarGrid(),
legend: this.getDefaultGroupedBarLegend()
};
},
getDefaultStackedBarGrid: function() {
return {
y: {
show: !0
}
};
},
getDefaultStackedBarLegend: function() {
return {
show: !0,
position: "bottom"
};
},
getDefaultStackedBarConfig: function() {
return {
color: this.getDefaultColors(),
grid: this.getDefaultStackedBarGrid(),
legend: this.getDefaultStackedBarLegend()
};
},
getDefaultDonut: function(e) {
return {
title: e,
label: {
show: !1
},
width: 11
};
},
getDefaultDonutSize: function() {
return {
height: 171
};
},
getDefaultDonutColors: function() {
return {
pattern: [ t.pfPaletteColors.blue, t.pfPaletteColors.black300 ]
};
},
getDefaultDonutTooltip: function() {
return {
show: !1
};
},
getDefaultDonutLegend: function() {
return {
show: !1
};
},
getDefaultDonutConfig: function(e) {
return {
donut: this.getDefaultDonut(e),
size: this.getDefaultDonutSize(),
legend: this.getDefaultDonutLegend(),
color: this.getDefaultDonutColors(),
tooltip: this.getDefaultDonutTooltip()
};
},
getDefaultPie: function() {
return {
expand: !0,
label: {
show: !1
}
};
},
getDefaultPieSize: function() {
return {
height: 171
};
},
getDefaultPieColors: function() {
return {
pattern: [ t.pfPaletteColors.blue, t.pfPaletteColors.black300 ]
};
},
getDefaultPieTooltip: function() {
return {
contents: $().pfPieTooltipContents
};
},
getDefaultPieLegend: function() {
return {
show: !1
};
},
getDefaultPieConfig: function() {
return {
pie: this.getDefaultPie(),
size: this.getDefaultPieSize(),
legend: this.getDefaultPieLegend(),
color: this.getDefaultPieColors(),
tooltip: this.getDefaultPieTooltip()
};
},
getDefaultSparklineArea: n,
getDefaultSparklineSize: i,
getDefaultSparklineAxis: r,
getDefaultSparklineLegend: o,
getDefaultSparklinePoint: a,
getDefaultSparklineTooltip: s,
getDefaultSparklineConfig: function() {
return {
area: {
zerobased: !0
},
size: {
height: 60
},
axis: {
x: {
show: !1
},
y: {
show: !1
}
},
color: e(),
legend: {
show: !1
},
point: {
r: 1,
focus: {
expand: {
r: 4
}
}
},
tooltip: s()
};
},
getDefaultLineAxis: l,
getDefaultLineGrid: c,
getDefaultLineLegend: u,
getDefaultLinePoint: d,
getDefaultLineConfig: function() {
return {
axis: {
x: {
show: !0
},
y: {
show: !0
}
},
grid: {
x: {
show: !1
},
y: {
show: !0
}
},
color: e(),
legend: {
show: !0
},
point: {
r: 3,
focus: {
expand: {
r: 5
}
}
}
};
},
getDefaultSingleLineTooltip: h,
getDefaultSingleLineConfig: function() {
return {
axis: {
x: {
show: !0
},
y: {
show: !0
}
},
grid: {
x: {
show: !1
},
y: {
show: !0
}
},
color: e(),
legend: {
show: !1
},
point: {
r: 3,
focus: {
expand: {
r: 5
}
}
},
tooltip: h()
};
},
getDefaultAreaAxis: p,
getDefaultAreaGrid: f,
getDefaultAreaLegend: g,
getDefaultAreaPoint: m,
getDefaultAreaConfig: function() {
return {
axis: {
x: {
show: !0
},
y: {
show: !0
}
},
grid: {
x: {
show: !1
},
y: {
show: !0
}
},
color: e(),
legend: {
show: !0
},
point: {
r: 3,
focus: {
expand: {
r: 5
}
}
}
};
},
getDefaultSingleAreaTooltip: v,
getDefaultSingleAreaConfig: function() {
return {
axis: {
x: {
show: !0
},
y: {
show: !0
}
},
grid: {
x: {
show: !1
},
y: {
show: !0
}
},
color: e(),
legend: {
show: !1
},
point: {
r: 3,
focus: {
expand: {
r: 5
}
}
},
tooltip: v()
};
}
};
}, t.pfBreakpoints = {
tablet: 768,
desktop: 1200
}, e.patternfly = t;
}(window), function(e) {
"use strict";
e.fn.sidebar = function() {
var t = 0;
e(".navbar-pf .navbar-toggle").is(":hidden") && (t = e(document).height() - e(".navbar-pf").outerHeight()), e(".sidebar-pf").parent(".row").children('[class*="col-"]').css({
"min-height": t
});
}, e(document).ready(function() {
e(".sidebar-pf").length > 0 && 0 === e(".datatable").length && e.fn.sidebar();
}), e(window).resize(function() {
e(".sidebar-pf").length > 0 && e.fn.sidebar();
});
}(jQuery), function(e) {
"use strict";
e.fn.popovers = function() {
return this.popover(), this.filter("[data-close=true]").each(function(t, n) {
var i = e(n), r = i.attr("data-original-title") + '<button type="button" class="close" aria-hidden="true"><span class="pficon pficon-close"></span></button>';
i.attr("data-original-title", r);
}), this.on("click", function(t) {
var n = e(this), i = n.next(".popover").find(".popover-title");
i.find(".close").parent(".popover-title").addClass("closable"), i.find(".close").on("click", function() {
n.popover("hide");
}), t.preventDefault();
}), this;
};
}(jQuery), function(e) {
"use strict";
e.fn.dataTableExt && (e.extend(!0, e.fn.dataTable.defaults, {
bDestroy: !0,
bAutoWidth: !1,
iDisplayLength: 20,
sDom: "<'dataTables_header' f i r ><'table-responsive'  t ><'dataTables_footer' p >",
oLanguage: {
sInfo: "Showing <b>_START_</b> to <b>_END_</b> of <b>_TOTAL_</b> Items",
sInfoFiltered: "(of <b>_MAX_</b>)",
sInfoEmpty: "Showing <b>0</b> Results",
sZeroRecords: "<p>Suggestions</p><ul><li>Check the javascript regular expression syntax of the search term.</li><li>Check that the correct menu option is chosen (token ID vs. user ID).</li><li>Use wildcards (* to match 0 or more characters, + to match 1 or more characters, ? to match 0 or 1 character).</li><li>Clear the search field, then click Search to return to the 20 most recent records.</li></ul>",
sSearch: ""
},
sPaginationType: "bootstrap_input",
oSearch: {
sSearch: "",
bRegex: !0,
bSmart: !1
}
}), e.extend(e.fn.dataTableExt.oStdClasses, {
sWrapper: "dataTables_wrapper"
}), e.fn.dataTableExt.oApi.fnPagingInfo = function(e) {
return {
iStart: e._iDisplayStart,
iEnd: e.fnDisplayEnd(),
iLength: e._iDisplayLength,
iTotal: e.fnRecordsTotal(),
iFilteredTotal: e.fnRecordsDisplay(),
iPage: -1 === e._iDisplayLength ? 0 : Math.ceil(e._iDisplayStart / e._iDisplayLength),
iTotalPages: -1 === e._iDisplayLength ? 0 : Math.ceil(e.fnRecordsDisplay() / e._iDisplayLength)
};
}, e.extend(e.fn.dataTableExt.oPagination, {
bootstrap_input: {
fnInit: function(t, n, i) {
var r, o, a = function(e) {
e.preventDefault(), t.oApi._fnPageChange(t, e.data.action) && i(t);
};
e(n).append('<ul class="pagination">  <li class="first disabled"><span class="i fa fa-angle-double-left"></span></li>  <li class="prev disabled"><span class="i fa fa-angle-left"></span></li></ul><div class="pagination-input">  <input type="text" class="paginate_input">  <span class="paginate_of">of <b>3</b></span></div><ul class="pagination">  <li class="next disabled"><span class="i fa fa-angle-right"></span></li>  <li class="last disabled"><span class="i fa fa-angle-double-right"></span></li></ul>'), r = e("li", n), e(r[0]).bind("click.DT", {
action: "first"
}, a), e(r[1]).bind("click.DT", {
action: "previous"
}, a), e(r[2]).bind("click.DT", {
action: "next"
}, a), e(r[3]).bind("click.DT", {
action: "last"
}, a), o = e("input", n), e(o).keyup(function(e) {
var n;
if (38 === e.which || 39 === e.which ? this.value += 1 : (37 === e.which || 40 === e.which) && this.value > 1 && (this.value -= 1), "" !== this.value && this.value.match(/[0-9]/)) {
if ((n = t._iDisplayLength * (this.value - 1)) >= t.fnRecordsDisplay() || n < 0) return t._iDisplayStart = (Math.ceil(t.fnRecordsDisplay() / t._iDisplayLength) - 1) * t._iDisplayLength, void i(t);
t._iDisplayStart = n, i(t);
}
});
},
fnUpdate: function(t, n) {
var i, r = t.oInstance.fnPagingInfo(), o = t.aanFeatures.p, a = o.length, s = Math.ceil(t.fnRecordsDisplay() / t._iDisplayLength), l = Math.ceil(t._iDisplayStart / t._iDisplayLength) + 1;
for (i = 0; i < a; i += 1) e(".paginate_input", o[i]).val(l).siblings(".paginate_of").find("b").html(s), 0 === r.iPage ? (e("li.first", o[i]).addClass("disabled"), e("li.prev", o[i]).addClass("disabled")) : (e("li.first", o[i]).removeClass("disabled"), e("li.prev", o[i]).removeClass("disabled")), r.iPage === r.iTotalPages - 1 || 0 === r.iTotalPages ? (e("li.next", o[i]).addClass("disabled"), e("li.last", o[i]).addClass("disabled")) : (e("li.next", o[i]).removeClass("disabled"), e("li.last", o[i]).removeClass("disabled"));
}
}
}));
}(jQuery), function(e) {
"use strict";
void 0 !== patternfly && (e.pfBreakpoints = patternfly.pfBreakpoints);
}(jQuery), function(e) {
"use strict";
e.fn.navigation = function() {
var t = e(".layout-pf-alt-fixed .nav-pf-vertical-alt"), n = e(".container-pf-alt-nav-pf-vertical-alt"), i = e(".navbar-toggle"), r = !1, o = function() {
var i = e(window).width();
t.removeClass("hidden show-mobile-nav collapsed"), n.removeClass("collapsed-nav hidden-nav"), (i < e.pfBreakpoints.desktop || r) && (t.addClass("collapsed"), n.addClass("collapsed-nav")), i < e.pfBreakpoints.tablet && (t.addClass("hidden"), t.removeClass("collapsed"), n.removeClass("collapsed-nav"), n.addClass("hidden-nav"));
}, a = function() {
t.addClass("collapsed"), n.addClass("collapsed-nav"), r = !0;
}, s = function() {
e("html").addClass("transitions");
}, l = function() {
t.removeClass("collapsed"), n.removeClass("collapsed-nav"), r = !1;
}, c = function() {
i.on("click", function(e) {
var i = n.hasClass("hidden-nav");
s(), i && t.hasClass("show-mobile-nav") ? t.removeClass("show-mobile-nav") : i ? t.addClass("show-mobile-nav") : t.hasClass("collapsed") ? l() : a();
});
}, u = function() {
e('.nav-pf-vertical-alt [data-toggle="tooltip"]').tooltip({
container: "body",
delay: {
show: "500",
hide: "200"
}
}), e(".nav-pf-vertical-alt").on("show.bs.tooltip", function(t) {
return e(this).hasClass("collapsed");
});
};
e(window).on("resize", function() {
o(), s();
}), o(), c(), u();
}, e(document).ready(function() {
e(".nav-pf-vertical-alt").length > 0 && e.fn.navigation();
});
}(jQuery), function(e) {
"use strict";
e.fn.countRemainingChars = function(t) {
var n = e.extend({
charsMaxLimit: 100,
charsWarnRemaining: 5,
blockInputAtMaxLimit: !1
}, t), i = this, r = e("#" + n.countFld).text(n.charsMaxLimit), o = function(e) {
var t = n.charsMaxLimit - e;
r.text(t), r.toggleClass("chars-warn-remaining-pf", t <= n.charsWarnRemaining), t < 0 ? i.trigger("overCharsMaxLimitEvent", i.attr("id")) : i.trigger("underCharsMaxLimitEvent", i.attr("id"));
};
return this.on("paste", function(e) {
setTimeout(function() {
var e, t = i.val().length;
n.blockInputAtMaxLimit && t > n.charsMaxLimit && (e = (e = i.val()).substring(0, n.charsMaxLimit), i.val(e), t = i.val().length), o(t);
}, 100);
}), this.keyup(function(e) {
o(i.val().length);
}), this.keydown(function(e) {
var t = i.val().length;
n.blockInputAtMaxLimit && t >= n.charsMaxLimit && 8 !== e.keyCode && e.preventDefault();
}), this;
};
}(jQuery), function(e) {
"use strict";
void 0 !== patternfly && (e.pfPaletteColors = patternfly.pfPaletteColors);
}(jQuery), function(e) {
"use strict";
void 0 !== patternfly && (e.fn.pfSetDonutChartTitle = patternfly.pfSetDonutChartTitle, e.fn.pfDonutTooltipContents = patternfly.pfDonutTooltipContents, e.fn.pfGetUtilizationDonutTooltipContentsFn = patternfly.pfGetUtilizationDonutTooltipContentsFn, e.fn.pfGetBarChartTooltipContentsFn = patternfly.pfGetBarChartTooltipContentsFn, e.fn.pfSingleLineChartTooltipContentsFn = patternfly.pfSingleLineChartTooltipContentsFn, e.fn.pfPieTooltipContents = patternfly.pfPieTooltipContents, e.fn.c3ChartDefaults = patternfly.c3ChartDefaults);
}(jQuery), function(e) {
"use strict";
e.fn.initCollapseHeights = function(t) {
var n, i = this, r = t;
(n = function() {
var t, n, o, a, s = "hidden";
t = i.height(), (n = i.find(".collapse.in")) && n.length > 0 && n.removeClass("in"), o = 0, i.children().each(e.proxy(function(t, n) {
var i = e(n);
o += i.outerHeight(!0);
}, i)).end(), (a = t - o) < 25 && (a = 25, s = "auto"), n && n.length > 0 && n.addClass("in"), setTimeout(function() {
i.find('[data-toggle="collapse"]').each(e.proxy(function(t, n) {
var i, o, s, l, c = 0;
(o = (i = e(n)).attr("data-target")) || (o = i.attr("href")), s = e(o), l = s, r && (1 === (l = s.find(r)).length ? (c = 0, s.children().each(e.proxy(function(t, n) {
var i = e(n);
n !== l[0] && (c += i.outerHeight(!0));
}, s)).end(), a -= c) : l = s), l.css({
"max-height": a - c + "px",
"overflow-y": "auto"
});
}, i)).end(), i.css({
"overflow-y": s
});
}, 100);
})(), e(window).resize(n);
};
}(jQuery), function(e) {
"use strict";
function t(t, n) {
var i = n.attr("data-parent");
if ("string" == typeof i) return i = isNaN(i) ? t.closest(i) : e(t[parseInt(i, 10)]);
}
function n(e, t) {
t && (t.find(".treegrid-node > span.expand-icon").toggleClass("fa-angle-right", t.hasClass("collapsed")).toggleClass("fa-angle-down", !t.hasClass("collapsed")), e.toggleClass("hidden", t.hasClass("collapsed")), t.hasClass("collapsed") && e.addClass("collapsed"));
}
function i(e) {
e.find("tbody > tr").removeClass("odd"), e.find("tbody > tr:not(.hidden):odd").addClass("odd");
}
e.fn.treegrid = function(r) {
var o, a, s;
a = this.find("tbody > tr"), s = this, e.each(a, function() {
var l, c;
if (l = e(this), c = t(a, l), l.children(".treegrid-node").prepend('<span class="icon expand-icon fa"/>'), l.children(".treegrid-node").on("click", function(o) {
var c = l.find("span.expand-icon");
r && "function" == typeof r.callback && r.callback(o), c.hasClass("fa-angle-right") && l.removeClass("collapsed"), c.hasClass("fa-angle-down") && l.addClass("collapsed"), e.each(a.slice(a.index(l) + 1), function() {
n(e(this), t(a, e(this)));
}), i(s);
}), c) {
for (o = c.find(".treegrid-node > span.indent").length + 1; o > 0; o -= 1) l.children(".treegrid-node").prepend('<span class="indent"/>');
n(l, c);
}
}), i(s);
};
}(jQuery), function(e) {
"use strict";
e.fn.setupVerticalNavigation = function(t) {
var n = e(".nav-pf-vertical"), i = e(".container-pf-nav-pf-vertical"), r = e(".navbar-toggle"), o = !0, a = !1, s = !1, l = function() {
return i.hasClass("hidden-nav");
}, c = function(t) {
setTimeout(function() {
e(window).trigger("resize");
}, t);
}, u = function() {
!l() && s || (n.addClass("secondary-visible-pf"), i.addClass("secondary-visible-pf")), s || c(100);
}, d = function() {
n.removeClass("secondary-visible-pf"), i.removeClass("secondary-visible-pf"), n.find(".mobile-nav-item-pf").each(function(t, n) {
e(n).removeClass("mobile-nav-item-pf");
});
}, h = function(t) {
e(".nav-pf-vertical .list-group-item.active").removeClass("active"), t.addClass("active").parents(".list-group-item").addClass("active");
}, p = function() {
l() ? (n.removeClass("show-mobile-nav"), d(), n.find(".mobile-nav-item-pf").each(function(t, n) {
e(n).removeClass("mobile-nav-item-pf");
})) : u();
}, f = function(t, r) {
t ? (r.addClass("collapsed"), n.addClass("collapsed-secondary-nav-pf"), i.addClass("collapsed-secondary-nav-pf")) : (r ? r.removeClass("collapsed") : n.find('[data-toggle="collapse-secondary-nav"]').each(function(t, n) {
e(n).removeClass("collapsed");
}), n.removeClass("collapsed-secondary-nav-pf"), i.removeClass("collapsed-secondary-nav-pf"));
}, g = function(t, r) {
t ? (r.addClass("collapsed"), n.addClass("collapsed-tertiary-nav-pf"), i.addClass("collapsed-tertiary-nav-pf"), f(!1)) : (r ? r.removeClass("collapsed") : n.find('[data-toggle="collapse-tertiary-nav"]').each(function(t, n) {
e(n).removeClass("collapsed");
}), n.removeClass("collapsed-tertiary-nav-pf"), i.removeClass("collapsed-tertiary-nav-pf"));
}, m = function(t, i) {
e(document).find(".list-group-item.mobile-nav-item-pf").each(function(t, n) {
e(n).removeClass("mobile-nav-item-pf");
}), e(document).find(".list-group-item.mobile-secondary-item-pf").each(function(t, n) {
e(n).removeClass("mobile-secondary-item-pf");
}), t ? (t.addClass("mobile-nav-item-pf"), i ? (i.addClass("mobile-secondary-item-pf"), n.removeClass("show-mobile-secondary"), n.addClass("show-mobile-tertiary")) : (n.addClass("show-mobile-secondary"), n.removeClass("show-mobile-tertiary"))) : (n.removeClass("show-mobile-secondary"), n.removeClass("show-mobile-tertiary"));
}, v = function() {
n.hasClass("hidden") || (n.addClass("hidden"), n.removeClass("collapsed"), i.removeClass("collapsed-nav"), i.addClass("hidden-nav"), f(!1), g(!1), a = !1);
}, y = function() {
n.removeClass("hidden show-mobile-nav"), i.removeClass("hidden-nav");
}, b = function() {
var t, r = e(window).width();
o && (r < e.pfBreakpoints.tablet && !a ? v() : n.hasClass("hidden") && y(), r < e.pfBreakpoints.desktop ? (s || (n.addClass("collapsed"), i.addClass("collapsed-nav")), r >= e.pfBreakpoints.tablet && d(), s = !0) : (t = s && n.find(".secondary-nav-item-pf.active").length > 0, s = !1, t && u()), a ? (n.addClass("collapsed"), i.addClass("collapsed-nav")) : (n.removeClass("collapsed"), i.removeClass("collapsed-nav")));
}, w = function() {
n.addClass("collapsed"), i.addClass("collapsed-nav"), s && d(), a = !0;
}, x = function() {
e("html").addClass("transitions");
}, C = function() {
n.removeClass("collapsed"), i.removeClass("collapsed-nav"), a = !1, s || c(100);
}, _ = function() {
r.on("click", function(e) {
x(), l() ? n.hasClass("show-mobile-nav") ? n.removeClass("show-mobile-nav") : (m(), n.addClass("show-mobile-nav")) : n.hasClass("collapsed") ? (window.localStorage.setItem("patternfly-navigation-primary", "expanded"), C()) : (window.localStorage.setItem("patternfly-navigation-primary", "collapsed"), w());
});
}, S = function() {
n.addClass("force-hide-secondary-nav-pf"), setTimeout(function() {
n.removeClass("force-hide-secondary-nav-pf");
}, 500);
}, $ = function(t) {
e(document).find(".nav-pf-vertical .list-group-item").each(function(i, r) {
var o, a = e(r), s = a.closest('[class*="nav-pf-"]');
s.hasClass("nav-pf-vertical") ? o = function(i) {
var r, o, s = e(this);
s.hasClass("secondary-nav-item-pf") ? l() ? m(s) : t && (o = r = a.find(".nav-pf-secondary-nav > .list-group > .list-group-item").eq(0), r.hasClass("tertiary-nav-item-pf") && (o = r.find(".nav-pf-tertiary-nav > .list-group > .list-group-item").eq(0)), h(o), i.stopImmediatePropagation()) : (d(), l() && (m(), n.removeClass("show-mobile-nav")), t && (h(s), i.stopImmediatePropagation()));
} : s.hasClass("nav-pf-secondary-nav") ? o = function(i) {
var r, o, s = e(this);
s.hasClass("tertiary-nav-item-pf") ? l() ? (o = a.parents(".list-group-item"), m(s, o), i.stopImmediatePropagation()) : t && (r = a.find(".nav-pf-tertiary-nav > .list-group > .list-group-item").eq(0), h(r), i.stopImmediatePropagation()) : (l() && (m(), n.removeClass("show-mobile-nav")), p(), t && (h(a), i.stopImmediatePropagation()));
} : s.hasClass("nav-pf-tertiary-nav") && (o = function(e) {
l() && (m(), n.removeClass("show-mobile-nav")), p(), t && (h(a), e.stopImmediatePropagation());
}), a.on("click.pf.secondarynav.data-api", o);
}), e(document).find(".secondary-nav-item-pf").each(function(i, r) {
var o = e(r);
o.on("click.pf.secondarynav.data-api", '[data-toggle="collapse-secondary-nav"]', function(i) {
var r = e(this);
l() ? (m(), i.stopImmediatePropagation()) : r.hasClass("collapsed") ? (window.localStorage.setItem("patternfly-navigation-secondary", "expanded"), window.localStorage.setItem("patternfly-navigation-tertiary", "expanded"), f(!1, r), S()) : (window.localStorage.setItem("patternfly-navigation-secondary", "collapsed"), f(!0, r)), n.removeClass("hover-secondary-nav-pf"), t && i.stopImmediatePropagation();
}), o.find(".tertiary-nav-item-pf").each(function(i, r) {
e(r).on("click.pf.tertiarynav.data-api", '[data-toggle="collapse-tertiary-nav"]', function(i) {
var r = e(this);
l() ? (m(o), i.stopImmediatePropagation()) : r.hasClass("collapsed") ? (window.localStorage.setItem("patternfly-navigation-secondary", "expanded"), window.localStorage.setItem("patternfly-navigation-tertiary", "expanded"), g(!1, r), S()) : (window.localStorage.setItem("patternfly-navigation-tertiary", "collapsed"), g(!0, r)), n.removeClass("hover-secondary-nav-pf"), n.removeClass("hover-tertiary-nav-pf"), t && i.stopImmediatePropagation();
});
});
}), e(document).on("mouseenter.pf.tertiarynav.data-api", ".secondary-nav-item-pf", function(t) {
var i = e(this);
l() || (void 0 !== i[0].navUnHoverTimeout ? (clearTimeout(i[0].navUnHoverTimeout), i[0].navUnHoverTimeout = void 0) : void 0 === i[0].navHoverTimeout && (i[0].navHoverTimeout = setTimeout(function() {
n.addClass("hover-secondary-nav-pf"), i.addClass("is-hover"), i[0].navHoverTimeout = void 0;
}, 500)));
}), e(document).on("mouseleave.pf.tertiarynav.data-api", ".secondary-nav-item-pf", function(t) {
var i = e(this);
void 0 !== i[0].navHoverTimeout ? (clearTimeout(i[0].navHoverTimeout), i[0].navHoverTimeout = void 0) : void 0 === i[0].navUnHoverTimeout && (i[0].navUnHoverTimeout = setTimeout(function() {
n.find(".secondary-nav-item-pf.is-hover").length <= 1 && n.removeClass("hover-secondary-nav-pf"), i.removeClass("is-hover"), i[0].navUnHoverTimeout = void 0;
}, 700));
}), e(document).on("mouseover.pf.tertiarynav.data-api", ".tertiary-nav-item-pf", function(t) {
var i = e(this);
l() || (void 0 !== i[0].navUnHoverTimeout ? (clearTimeout(i[0].navUnHoverTimeout), i[0].navUnHoverTimeout = void 0) : void 0 === i[0].navHoverTimeout && (i[0].navHoverTimeout = setTimeout(function() {
n.addClass("hover-tertiary-nav-pf"), i.addClass("is-hover"), i[0].navHoverTimeout = void 0;
}, 500)));
}), e(document).on("mouseout.pf.tertiarynav.data-api", ".tertiary-nav-item-pf", function(t) {
var i = e(this);
void 0 !== i[0].navHoverTimeout ? (clearTimeout(i[0].navHoverTimeout), i[0].navHoverTimeout = void 0) : void 0 === i[0].navUnHoverTimeout && (i[0].navUnHoverTimeout = setTimeout(function() {
n.find(".tertiary-nav-item-pf.is-hover").length <= 1 && n.removeClass("hover-tertiary-nav-pf"), i.removeClass("is-hover"), i[0].navUnHoverTimeout = void 0;
}, 700));
});
}, A = function() {
l() || ("collapsed" === window.localStorage.getItem("patternfly-navigation-primary") && w(), e(".nav-pf-vertical.nav-pf-vertical-collapsible-menus").length > 0 && ("collapsed" === window.localStorage.getItem("patternfly-navigation-secondary") && f(!0, e(".secondary-nav-item-pf.active [data-toggle=collapse-secondary-nav]")), "collapsed" === window.localStorage.getItem("patternfly-navigation-tertiary") && g(!0, e(".tertiary-nav-item-pf.active [data-toggle=collapse-tertiary-nav]"))));
}, k = function() {
var t = {
container: "body",
placement: "bottom",
delay: {
show: "500",
hide: "200"
},
template: '<div class="nav-pf-vertical-tooltip tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'
};
e('.nav-pf-vertical [data-toggle="tooltip"]').tooltip(t), e(".nav-pf-vertical").on("show.bs.tooltip", function(t) {
return e(this).hasClass("collapsed");
});
}, E = {
hideMenu: function() {
o = !1, v();
},
showMenu: function() {
o = !0, y();
},
isVisible: function() {
return o;
}
};
return e.fn.setupVerticalNavigation.self || (e.fn.setupVerticalNavigation.self = E, e(window).on("resize", function() {
b(), x();
}), function(e) {
n.addClass("hide-nav-pf"), i.addClass("hide-nav-pf"), b(), _(), $(e), k(), A(), n.removeClass("hide-nav-pf"), i.removeClass("hide-nav-pf"), c(250);
}(t)), e.fn.setupVerticalNavigation.self;
};
}(jQuery), function(e) {
"use strict";
e.fn.pfList = function() {
function t(t) {
var r, o, a, s;
(o = (r = e(t)).parentsUntil(".list-pf", "[data-list=expansion]").first()).length || (o = r.closest(".list-pf-item, .list-pf-expansion")), (a = o.find(".collapse").first()).toggleClass("in"), i(o, a.hasClass("in")), n(s = o.closest(".list-pf-item"), s.find(".collapse").first().hasClass("in"));
}
function n(e, t) {
t ? e.addClass("active") : e.removeClass("active");
}
function i(e, t) {
var n = e.find(".list-pf-chevron .fa").first();
t ? (n.removeClass("fa-angle-right"), n.addClass("fa-angle-down")) : (n.addClass("fa-angle-right"), n.removeClass("fa-angle-down"));
}
return function(r) {
r.find("[data-list=expansion], .list-pf-item, .list-pf-expansion").each(function(t, r) {
var o = e(r), a = o.find(".collapse").first().hasClass("in");
i(o, a), o.hasClass("list-pf-item") && n(o, a);
}), r.find(".list-pf-container").each(function(n, i) {
var r = e(i), o = r.find("[data-list=toggle]");
o.length || (o = r), o.on("keydown", function(e) {
13 !== e.keyCode && 32 !== e.keyCode || (t(this), e.stopPropagation(), e.preventDefault());
}), o.on("click", function(e) {
t(this), e.stopPropagation(), e.preventDefault();
});
});
}(this), this;
};
}(jQuery), angular.module("patternfly.card", []), angular.module("patternfly.charts", [ "patternfly.utils", "ui.bootstrap", "ngSanitize" ]), angular.module("patternfly.filters", [ "patternfly.select", "ui.bootstrap" ]), angular.module("patternfly.form", []), angular.module("patternfly.modals", [ "ui.bootstrap.modal", "ui.bootstrap.tpls" ]), angular.module("patternfly.navigation", [ "ui.bootstrap" ]), angular.module("patternfly.notification", [ "patternfly.utils" ]), angular.module("patternfly", [ "patternfly.autofocus", "patternfly.card", "patternfly.filters", "patternfly.form", "patternfly.modals", "patternfly.navigation", "patternfly.notification", "patternfly.select", "patternfly.sort", "patternfly.toolbars", "patternfly.utils", "patternfly.validation", "patternfly.views", "patternfly.wizard" ]), angular.module("patternfly.sort", [ "ui.bootstrap" ]), angular.module("patternfly.toolbars", [ "patternfly.utils", "patternfly.filters", "patternfly.sort", "patternfly.views" ]), angular.module("patternfly.utils", [ "ui.bootstrap" ]), 
angular.module("patternfly.views", [ "patternfly.utils", "patternfly.filters", "patternfly.sort", "patternfly.charts", "dndLists" ]), angular.module("patternfly.wizard", [ "ui.bootstrap.modal", "ui.bootstrap.tpls", "patternfly.form" ]), angular.module("patternfly.autofocus", []).directive("pfFocused", [ "$timeout", function(e) {
"use strict";
return {
restrict: "A",
link: function(t, n, i) {
t.$watch(i.pfFocused, function(t) {
e(function() {
t && (n[0].focus(), n[0].select && n[0].select());
});
});
}
};
} ]), angular.module("patternfly.card").directive("pfAggregateStatusCard", function() {
"use strict";
return {
restrict: "A",
scope: {
status: "=",
showTopBorder: "@?",
altLayout: "@?",
layout: "@?"
},
templateUrl: "card/aggregate-status/aggregate-status-card.html",
link: function(e) {
e.shouldShowTopBorder = "true" === e.showTopBorder, e.isAltLayout = "true" === e.altLayout || "tall" === e.layout, e.isMiniLayout = "mini" === e.layout;
}
};
}), angular.module("patternfly.card").directive("pfCard", function() {
"use strict";
return {
restrict: "A",
transclude: !0,
templateUrl: "card/basic/card.html",
scope: {
headTitle: "@",
subTitle: "@?",
showTopBorder: "@?",
showTitlesSeparator: "@?",
footer: "=?",
filter: "=?"
},
controller: [ "$scope", function(e) {
e.filter && !e.currentFilter && (e.filter.defaultFilter ? e.currentFilter = e.filter.filters[e.filter.defaultFilter] : e.currentFilter = e.filter.filters[0]), e.footerCallBackFn = function() {
e.footerCallBackResult = e.footer.callBackFn();
}, e.filterCallBackFn = function(t) {
e.currentFilter = t, e.filter.callBackFn && (e.filterCallBackResult = e.filter.callBackFn(t));
}, e.showHeader = function() {
return e.headTitle || e.showFilterInHeader();
}, e.showFilterInHeader = function() {
return e.filter && e.filter.filters && e.filter.position && "header" === e.filter.position;
}, e.showFilterInFooter = function() {
return e.filter && e.filter.filters && (!e.filter.position || "footer" === e.filter.position);
};
} ],
link: function(e) {
e.shouldShowTitlesSeparator = !e.showTitlesSeparator || "true" === e.showTitlesSeparator;
}
};
}), function(e) {
"use strict";
var t = e.c3ChartDefaults();
angular.module("patternfly.charts").constant("c3ChartDefaults", {
getDefaultColors: t.getDefaultColors,
getDefaultDonut: t.getDefaultDonut,
getDefaultDonutSize: t.getDefaultDonutSize,
getDefaultDonutColor: t.getDefaultDonutColors,
getDefaultDonutLegend: t.getDefaultDonutLegend,
getDefaultDonutConfig: t.getDefaultDonutConfig,
getDefaultSparklineArea: t.getDefaultSparklineArea,
getDefaultSparklineSize: t.getDefaultSparklineSize,
getDefaultSparklineAxis: t.getDefaultSparklineAxis,
getDefaultSparklineColor: t.getDefaultColors,
getDefaultSparklineLegend: t.getDefaultSparklineLegend,
getDefaultSparklinePoint: t.getDefaultSparklinePoint,
getDefaultSparklineTooltip: t.getDefaultSparklineTooltip,
getDefaultSparklineConfig: t.getDefaultSparklineConfig,
getDefaultLineConfig: t.getDefaultLineConfig
});
}(patternfly), function(e) {
"use strict";
angular.module("patternfly.charts").directive("pfC3Chart", [ "$timeout", function(e) {
return {
restrict: "A",
scope: {
config: "=",
getChartCallback: "="
},
template: '<div id=""></div>',
replace: !0,
link: function(t, n, i) {
var r = void 0;
t.$watch("config", function() {
e(function() {
var e = t.config;
e && (e.bindto = "#" + i.id, r ? r.load(t.config.data) : r = c3.generate(e), t.getChartCallback && t.getChartCallback(r));
});
}, !0);
}
};
} ]);
}(patternfly), function(e) {
"use strict";
angular.module("patternfly.charts").directive("pfDonutPctChart", [ "pfUtils", "$timeout", function(t, n) {
return {
restrict: "A",
scope: {
config: "=",
data: "=",
chartHeight: "=?",
centerLabel: "=?"
},
replace: !0,
templateUrl: "charts/donut/donut-pct-chart.html",
controller: [ "$scope", function(n) {
var i;
n.donutChartId = "donutChart", n.config.chartId && (n.donutChartId = n.config.chartId + n.donutChartId), n.updateAvailable = function() {
n.data.available = n.data.total - n.data.used;
}, void 0 === n.data.available && n.updateAvailable(), n.getStatusColor = function(e, n) {
var i = t.colorPalette.blue;
return n && (i = t.colorPalette.green, e >= n.error ? i = t.colorPalette.red : e >= n.warning && (i = t.colorPalette.orange)), i;
}, n.statusDonutColor = function(e) {
var i, r;
return i = {
pattern: []
}, r = e.data.used / e.data.total * 100, i.pattern[0] = n.getStatusColor(r, e.config.thresholds), i.pattern[1] = t.colorPalette.black300, i;
}, i = function(e) {
return {
contents: function(t) {
return e.config.tooltipFn ? '<span class="donut-tooltip-pf" style="white-space: nowrap;">' + e.config.tooltipFn(t) + "</span>" : '<span class="donut-tooltip-pf" style="white-space: nowrap;">' + Math.round(100 * t[0].ratio) + "% " + n.config.units + " " + t[0].name + "</span>";
}
};
}, n.getDonutData = function(e) {
return {
columns: [ [ "Used", e.data.used ], [ "Available", e.data.available ] ],
type: "donut",
donut: {
label: {
show: !1
}
},
groups: [ [ "used", "available" ] ],
order: null
};
}, n.getCenterLabelText = function() {
var e;
return e = {
bigText: n.data.used,
smText: n.config.units + " Used"
}, n.config.centerLabelFn ? (e.bigText = n.config.centerLabelFn(), e.smText = "") : "none" === n.centerLabel ? (e.bigText = "", e.smText = "") : "available" === n.centerLabel ? (e.bigText = n.data.available, e.smText = n.config.units + " Available") : "percent" === n.centerLabel && (e.bigText = Math.round(n.data.used / n.data.total * 100) + "%", e.smText = "of " + n.data.total + " " + n.config.units), e;
}, n.updateAll = function(e) {
n.updateAvailable(), n.config.data = t.merge(n.config.data, n.getDonutData(n)), n.config.color = n.statusDonutColor(n), n.config.tooltip = i(e), n.config.data.onclick = n.config.onClickFn;
}, n.config = t.merge(e.c3ChartDefaults().getDefaultDonutConfig(), n.config), n.updateAll(n);
} ],
link: function(e, t) {
var i = function() {
n(function() {
var n, i;
(n = d3.select(t[0]).select("text.c3-chart-arcs-title")) && (i = e.getCenterLabelText(), n.selectAll("*").remove(), i.bigText && !i.smText ? n.text(i.bigText) : (n.insert("tspan").text(i.bigText).classed("donut-title-big-pf", !0).attr("dy", 0).attr("x", 0), n.insert("tspan").text(i.smText).classed("donut-title-small-pf", !0).attr("dy", 20).attr("x", 0)));
}, 300);
};
e.$watch("config", function() {
e.updateAll(e), i();
}, !0), e.$watch("chartHeight", function() {
e.chartHeight && (e.config.size.height = e.chartHeight);
}), e.$watch("data", function() {
e.updateAll(e), i();
}, !0), e.$watch("centerLabel", function() {
i();
});
}
};
} ]);
}(patternfly), angular.module("patternfly.charts").directive("pfEmptyChart", function() {
"use strict";
return {
restrict: "A",
scope: {
chartHeight: "=?"
},
replace: !0,
templateUrl: "charts/empty-chart.html",
controller: [ "$scope", function(e) {
e.setSizeStyles = function() {
var t = e.chartHeight || 40, n = Math.min(Math.round((t - 40) / 2), 20);
e.sizeStyles = {
height: t + "px",
"padding-top": n + "px"
};
}, e.setSizeStyles();
} ],
link: function(e) {
e.$watch("chartHeight", function() {
e.setSizeStyles();
});
}
};
}), angular.module("patternfly.charts").directive("pfHeatmapLegend", function() {
"use strict";
return {
restrict: "A",
scope: {
legend: "=?",
legendColors: "=?"
},
templateUrl: "charts/heatmap/heatmap-legend.html",
controller: [ "$scope", function(e) {
var t = [ "#d4f0fa", "#F9D67A", "#EC7A08", "#CE0000" ], n = [ "< 70%", "70-80%", "80-90%", "> 90%" ];
e.legendColors || (e.legendColors = t), e.legend || (e.legend = n);
} ],
link: function(e) {
var t, n = [];
for (t = e.legend.length - 1; t >= 0; t--) n.push({
text: e.legend[t],
color: e.legendColors[t]
});
e.legendItems = n;
}
};
}), angular.module("patternfly.charts").directive("pfHeatmap", [ "$compile", "$window", function(e, t) {
"use strict";
return {
restrict: "A",
scope: {
data: "=",
chartDataAvailable: "=?",
height: "=?",
chartTitle: "=?",
showLegend: "=?",
legendLabels: "=?",
maxBlockSize: "@",
minBlockSize: "@",
blockPadding: "@",
thresholds: "=?",
heatmapColorPattern: "=?",
clickAction: "=?",
rangeOnHover: "=?",
rangeHoverSize: "@",
rangeTooltips: "=?"
},
templateUrl: "charts/heatmap/heatmap.html",
controller: [ "$scope", function(e) {
var t = [ .7, .8, .9 ], n = [ "#d4f0fa", "#F9D67A", "#EC7A08", "#CE0000" ], i = [ "< 70%", "70-80%", "80-90%", "> 90%" ], r = [ "< 70%", "70-80%", "80-90%", "> 90%" ];
void 0 === e.maxBlockSize || isNaN(e.maxBlockSize) ? e.maxSize = 64 : (e.maxSize = parseInt(e.maxBlockSize), e.maxSize < 5 ? e.maxSize = 5 : e.maxSize > 50 && (e.maxSize = 50)), void 0 === e.minBlockSize || isNaN(e.minBlockSize) ? e.minSize = 2 : e.minSize = parseInt(e.minBlockSize), void 0 === e.blockPadding || isNaN(e.blockPadding) ? e.padding = 2 : e.padding = parseInt(e.blockPadding), void 0 === e.rangeHoverSize || isNaN(e.rangeHoverSize) ? e.rangeHoverSize = 15 : e.rangeHoverSize = parseInt(e.rangeHoverSize), e.rangeOnHover = !(void 0 !== e.rangeOnHover && !e.rangeOnHover), e.rangeTooltips || (e.rangeTooltips = r), e.thresholds || (e.thresholds = t), e.heatmapColorPattern || (e.heatmapColorPattern = n), e.legendLabels || (e.legendLabels = i), e.height = e.height || 200, e.showLegend = e.showLegend || void 0 === e.showLegend, e.loadingDone = !1;
} ],
link: function(n, i, r) {
var o, a, s, l, c = i[0].querySelector(".heatmap-pf-svg"), u = function() {
n.containerStyles = {
height: n.height + "px",
display: !1 === n.chartDataAvailable ? "none" : "block"
};
}, d = function() {
var e = i[0].querySelector(".heatmap-container");
o = e.clientWidth, a = e.clientHeight, (s = h()) - n.padding > n.maxSize ? (s = n.padding + n.maxSize, l = Math.ceil(Math.sqrt(n.data.length)), (s * l > o || s * l > a) && (l = 0 === s ? 0 : Math.floor(a / s))) : s - n.padding < n.minSize ? (s = n.padding + n.minSize, l = Math.ceil(Math.sqrt(n.data.length)), (s * l > o || s * l > a) && (l = 0 === s ? 0 : Math.floor(a / s))) : l = 0 === s ? 0 : Math.floor(a / s);
}, h = function() {
var e, t, i = o, r = a, s = n.data ? n.data.length : 0, l = Math.ceil(Math.sqrt(s * i / r)), c = Math.ceil(Math.sqrt(s * r / i));
return e = Math.floor(l * r / i) * l < s ? r / Math.ceil(l * r / i) : i / l, t = Math.floor(c * i / r) * c < s ? i / Math.ceil(i * c / r) : r / c, Math.max(e, t);
}, p = function() {
var t, i = n.data, r = d3.scale.threshold().domain(n.thresholds).range(n.heatmapColorPattern), o = d3.scale.threshold().domain(n.thresholds).range(n.rangeTooltips), a = s - n.padding, u = function(e, t) {
e.style("fill-opacity", t ? 1 : .4);
}, d = function(e, t) {
r(e.map(function(e) {
return e[0].__data__.value;
})) === t && e.style("fill-opacity", 1);
}, h = window.d3.select(c);
h.selectAll("*").remove(), (t = h.selectAll("rect").data(i).enter().append("rect")).attr("x", function(e, t) {
return Math.floor(t / l) * s;
}).attr("y", function(e, t) {
return t % l * s;
}).attr("width", a).attr("height", a).style("fill", function(e) {
return r(e.value);
}).attr("uib-tooltip-html", function(e, t) {
return n.rangeOnHover && a <= n.rangeHoverSize ? '"' + o(e.value) + '"' : "'" + e.tooltip + "'";
}).attr("tooltip-append-to-body", function(e, t) {
return !0;
}).attr("tooltip-animation", function(e, t) {
return !1;
}), t.on("mouseover", function() {
var e;
t.call(u, !1), n.rangeOnHover && a <= n.rangeHoverSize ? (e = r(d3.select(this).map(function(e) {
return e[0].__data__.value;
})), t[0].forEach(function(t) {
d(d3.select(t), e);
})) : d3.select(this).call(u, !0);
}), t.on("click", function(e) {
n.clickAction && n.clickAction(e);
}), angular.forEach(angular.element(t), function(t) {
var i = angular.element(t);
e(i)(n);
}), h.on("mouseleave", function() {
t.call(u, !0);
});
};
n.$watch("data", function(e, t) {
void 0 !== e && (n.loadingDone = !0, u(), !1 !== n.chartDataAvailable && (d(), p()));
}), n.$watch("chartDataAvailable", function() {
!1 === n.chartDataAvailable && (n.loadingDone = !0), u();
}), angular.element(t).bind("resize", function() {
d(), p();
}), n.$watch(function() {
return [ i[0].offsetWidth, i[0].offsetHeight ].join("x");
}, function(e) {
d(), p();
});
}
};
} ]), function(e) {
"use strict";
angular.module("patternfly.charts").directive("pfLineChart", [ "pfUtils", function(t) {
return {
restrict: "A",
scope: {
config: "=",
chartData: "=",
showXAxis: "=?",
showYAxis: "=?",
setAreaChart: "=?"
},
replace: !0,
templateUrl: "charts/line/line-chart.html",
controller: [ "$scope", function(n) {
n.lineChartId = "lineChart", n.config.chartId && (n.lineChartId = n.config.chartId + n.lineChartId), n.getLineData = function(e) {
var t = {
type: n.setAreaChart ? "area" : "line"
};
return e && !1 !== e.dataAvailable && e.xData && (t.x = e.xData[0], t.columns = Object.keys(e).map(function(t) {
return e[t];
})), t;
}, void 0 === n.showXAxis && (n.showXAxis = void 0 !== n.config.showAxis && n.config.showAxis), void 0 === n.showYAxis && (n.showYAxis = void 0 !== n.config.showAxis && n.config.showAxis), n.defaultConfig = e.c3ChartDefaults().getDefaultLineConfig(), n.defaultConfig.axis = {
x: {
show: !0 === n.showXAxis,
type: "timeseries",
tick: {
format: function() {
return "";
}
}
},
y: {
show: !0 === n.showYAxis,
tick: {
format: function() {
return "";
}
}
}
}, void 0 === n.setAreaChart && (n.setAreaChart = void 0 !== n.config.setAreaChart && n.config.setAreaChart), n.config.data = t.merge(n.config.data, n.getLineData(n.chartData)), n.defaultConfig = t.merge(n.defaultConfig, n.config);
} ],
link: function(e) {
e.$watch("config", function() {
e.config.data = t.merge(e.config.data, e.getLineData(e.chartData)), e.chartConfig = t.merge(e.defaultConfig, e.config);
}, !0), e.$watch("showXAxis", function() {
e.chartConfig.axis.x.show = !0 === e.showXAxis;
}), e.$watch("showYAxis", function() {
e.chartConfig.axis.y.show = !0 === e.showYAxis;
}), e.$watch("setAreaChart", function() {
e.chartConfig.data.type = e.setAreaChart ? "area" : "line";
}), e.$watch("chartData", function() {
e.chartConfig.data = e.getLineData(e.chartData);
}, !0);
}
};
} ]);
}(patternfly), function(e) {
"use strict";
angular.module("patternfly.charts").directive("pfSparklineChart", [ "pfUtils", function(t) {
return {
restrict: "A",
scope: {
config: "=",
chartData: "=",
chartHeight: "=?",
showXAxis: "=?",
showYAxis: "=?"
},
replace: !0,
templateUrl: "charts/sparkline/sparkline-chart.html",
controller: [ "$scope", function(n) {
n.sparklineChartId = "sparklineChart", n.config.chartId && (n.sparklineChartId = n.config.chartId + n.sparklineChartId), n.getSparklineData = function(e) {
var t = {
type: "area"
};
return e && !1 !== e.dataAvailable && e.xData && e.yData && (t.x = e.xData[0], t.columns = [ e.xData, e.yData ]), t;
}, n.getTooltipTableHTML = function(e) {
return '<div class="module-triangle-bottom">  <table class="c3-tooltip">    <tbody>' + e + "    </tbody>  </table></div>";
}, n.sparklineTooltip = function() {
return {
contents: function(t) {
var i, r = 0;
if (n.config.tooltipFn) i = n.config.tooltipFn(t); else switch (n.config.tooltipType) {
case "usagePerDay":
!1 !== n.chartData.dataAvailable && n.chartData.total > 0 && (r = Math.round(t[0].value / n.chartData.total * 100)), i = '<tr>  <th colspan="2">' + t[0].x.toLocaleDateString() + '</th></tr><tr>  <td class="name">' + r + '%:</td>  <td class="value text-nowrap">' + t[0].value + " " + (n.config.units ? n.config.units + " " : "") + t[0].name + "</td></tr>";
break;

case "valuePerDay":
i = '<tr>  <td class="value">' + t[0].x.toLocaleDateString() + '</td>  <td class="value text-nowrap">' + t[0].value + " " + t[0].name + "</td></tr>";
break;

case "percentage":
i = '<tr>  <td class="name">' + (r = Math.round(t[0].value / n.chartData.total * 100)) + "%</td></tr>";
break;

default:
i = e.c3ChartDefaults().getDefaultSparklineTooltip().contents(t);
}
return n.getTooltipTableHTML(i);
},
position: function(e, t, i, r) {
var o, a, s, l, c;
try {
return o = parseInt(r.getAttribute("x")), a = parseInt(r.getAttribute("y")), s = document.querySelector("#" + n.sparklineChartId).getBoundingClientRect(), l = document.querySelector("#" + n.sparklineChartId + " g.c3-axis-y").getBoundingClientRect().right, c = Math.max(0, o + l - s.left - Math.floor(t / 2)), {
top: a - i,
left: Math.min(c, s.width - t)
};
} catch (e) {}
}
};
}, void 0 === n.showXAxis && (n.showXAxis = void 0 !== n.config.showAxis && n.config.showAxis), void 0 === n.showYAxis && (n.showYAxis = void 0 !== n.config.showAxis && n.config.showAxis), n.defaultConfig = e.c3ChartDefaults().getDefaultSparklineConfig(), n.defaultConfig.axis = {
x: {
show: !0 === n.showXAxis,
type: "timeseries",
tick: {
format: function() {
return "";
}
}
},
y: {
show: !0 === n.showYAxis,
tick: {
format: function() {
return "";
}
}
}
}, n.defaultConfig.tooltip = n.sparklineTooltip(), n.chartHeight && (n.defaultConfig.size.height = n.chartHeight), n.defaultConfig.units = "", n.config.data = t.merge(n.config.data, n.getSparklineData(n.chartData)), n.chartConfig = t.merge(n.defaultConfig, n.config);
} ],
link: function(e) {
e.$watch("config", function() {
e.config.data = t.merge(e.config.data, e.getSparklineData(e.chartData)), e.chartConfig = t.merge(e.defaultConfig, e.config);
}, !0), e.$watch("chartHeight", function() {
e.chartHeight && (e.chartConfig.size.height = e.chartHeight);
}), e.$watch("showXAxis", function() {
e.chartConfig.axis.x.show = !0 === e.showXAxis;
}), e.$watch("showYAxis", function() {
e.chartConfig.axis.y.show = !0 === e.showYAxis;
}), e.$watch("chartData", function() {
e.chartConfig.data = t.merge(e.chartConfig.data, e.getSparklineData(e.chartData));
}, !0);
}
};
} ]);
}(patternfly), angular.module("patternfly.charts").directive("pfTrendsChart", function() {
"use strict";
return {
restrict: "A",
scope: {
config: "=",
chartData: "=",
chartHeight: "=?",
showXAxis: "=?",
showYAxis: "=?"
},
replace: !0,
templateUrl: "charts/trends/trends-chart.html",
controller: [ "$scope", function(e) {
e.getPercentageValue = function() {
var t = 0;
return !1 !== e.chartData.dataAvailable && e.chartData.total > 0 && (t = Math.round(e.getLatestValue() / e.chartData.total * 100)), t;
}, e.getLatestValue = function() {
var t = 0;
return e.chartData.yData && e.chartData.yData.length > 0 && (t = e.chartData.yData[e.chartData.yData.length - 1]), t;
}, e.getChartHeight = function() {
var t = 60;
return e.chartHeight ? t = e.chartHeight : "small" === e.config.layout && (t = 30), t;
};
} ],
link: function(e) {
e.$watch("config", function() {
e.showLargeCardLayout = !e.config.layout || "large" === e.config.layout, e.showSmallCardLayout = "small" === e.config.layout, e.showActualValue = !e.config.valueType || "actual" === e.config.valueType, e.showPercentageValue = "percentage" === e.config.valueType;
}, !0);
}
};
}), angular.module("patternfly.charts").directive("pfUtilizationBarChart", [ "$timeout", function(e) {
"use strict";
return {
restrict: "A",
scope: {
chartData: "=",
chartTitle: "=",
chartFooter: "=",
units: "=",
thresholdError: "=?",
thresholdWarning: "=?",
footerLabelFormat: "@?",
layout: "=?"
},
templateUrl: "charts/utilization-bar/utilization-bar-chart.html",
link: function(t) {
t.$watch("chartData", function(n, i) {
void 0 !== n && (t.chartData.percentageUsed = Math.round(t.chartData.used / t.chartData.total * 100), (t.thresholdError || t.thresholdWarning) && (t.isError = t.chartData.percentageUsed >= t.thresholdError, t.isWarn = t.chartData.percentageUsed >= t.thresholdWarning && t.chartData.percentageUsed < t.thresholdError, t.isOk = t.chartData.percentageUsed < t.thresholdWarning), t.animate = !0, e(function() {
t.animate = !1;
}, 0));
});
}
};
} ]), angular.module("patternfly.charts").directive("pfUtilizationTrendChart", function() {
"use strict";
return {
restrict: "A",
scope: {
chartData: "=",
config: "=",
centerLabel: "=?",
donutConfig: "=",
sparklineConfig: "=",
sparklineChartHeight: "=?",
showSparklineXAxis: "=?",
showSparklineYAxis: "=?"
},
replace: !0,
templateUrl: "charts/utilization-trend/utilization-trend-chart.html",
controller: [ "$scope", function(e) {
void 0 === e.centerLabel && (e.centerLabel = "used"), void 0 === e.donutConfig.units && (e.donutConfig.units = e.config.units), void 0 === e.chartData.available && (e.chartData.available = e.chartData.total - e.chartData.used), e.config.units = e.config.units || e.units;
} ],
link: function(e, t) {
var n = function() {
"available" === e.centerLabel ? (e.currentValue = e.chartData.used, e.currentText = "Used") : (e.currentValue = e.chartData.total - e.chartData.used, e.currentText = "Available");
};
e.$watchGroup([ "centerLabel", "chartData.used", "chartData.available", "chartData.total" ], function() {
n();
});
}
};
}), angular.module("patternfly.filters").directive("pfFilter", function() {
"use strict";
return {
restrict: "A",
scope: {
config: "="
},
templateUrl: "filters/filter.html",
controller: [ "$scope", function(e) {
e.filterExists = function(t) {
return void 0 !== _.findWhere(e.config.appliedFilters, {
title: t.title,
value: t.value
});
}, e.enforceSingleSelect = function(t) {
_.remove(e.config.appliedFilters, {
title: t.title
});
}, e.addFilter = function(t, n) {
var i = {
id: t.id,
title: t.title,
type: t.filterType,
value: n
};
e.filterExists(i) || ("select" === i.type && e.enforceSingleSelect(i), e.config.appliedFilters.push(i), e.config.onFilterChange && e.config.onFilterChange(e.config.appliedFilters));
};
} ]
};
}), angular.module("patternfly.filters").directive("pfFilterFields", function() {
"use strict";
return {
restrict: "A",
scope: {
config: "=",
addFilterFn: "="
},
templateUrl: "filters/filter-fields.html",
controller: [ "$scope", function(e) {
e.setupConfig = function() {
void 0 === e.fields && (e.fields = []), e.currentField || (e.currentField = e.config.fields[0], e.config.currentValue = null), void 0 === e.config.currentValue && (e.config.currentValue = null);
}, e.$watch("config", function() {
e.setupConfig();
}, !0);
} ],
link: function(e, t, n) {
e.selectField = function(t) {
e.currentField = t, e.config.currentValue = null;
}, e.selectValue = function(t) {
e.addFilterFn(e.currentField, t), e.config.currentValue = null;
}, e.onValueKeyPress = function(t) {
13 === t.which && (t.preventDefault(), e.addFilterFn(e.currentField, e.config.currentValue), e.config.currentValue = void 0);
};
}
};
}), angular.module("patternfly.filters").directive("pfFilterResults", function() {
"use strict";
return {
restrict: "A",
scope: {
config: "="
},
templateUrl: "filters/filter-results.html",
controller: [ "$scope", function(e) {
e.setupConfig = function() {
e.config.appliedFilters || (e.config.appliedFilters = []), void 0 === e.config.resultsCount && (e.config.resultsCount = 0);
}, e.$watch("config", function() {
e.setupConfig();
}, !0);
} ],
link: function(e, t, n) {
e.clearFilter = function(t) {
var n = [];
e.config.appliedFilters.forEach(function(e) {
t.title === e.title && t.value === e.value || n.push(e);
}), e.config.appliedFilters = n, e.config.onFilterChange && e.config.onFilterChange(e.config.appliedFilters);
}, e.clearAllFilters = function() {
e.config.appliedFilters = [], e.config.onFilterChange && e.config.onFilterChange(e.config.appliedFilters);
};
}
};
}), angular.module("patternfly.form").directive("pfDatepicker", function() {
"use strict";
return {
replace: !0,
restrict: "A",
require: "^form",
templateUrl: "form/datepicker/datepicker.html",
scope: {
options: "=",
date: "="
},
link: function(e, t) {
t.datepicker(e.options), t.datepicker("update", e.date), t.datepicker(e.date).on("changeDate clearDate", function(t) {
e.$apply(function() {
e.date = t.date;
});
}), e.$watch("date", function(e, n) {
var i;
n !== e && ((i = t.datepicker("getDate")) && e && i.getTime() === e.getTime() || t.datepicker("update", e));
});
}
};
}), angular.module("patternfly.form").directive("pfDateTimepicker", function() {
"use strict";
return {
replace: !0,
restrict: "A",
require: "^form",
templateUrl: "form/datetimepicker/datetimepicker.html",
scope: {
options: "=",
date: "="
},
link: function(e, t) {
t.datetimepicker(e.options), t.datetimepicker("date", e.date || null), t.on("dp.change", function(t) {
e.$apply(function() {
e.date = t.date;
});
});
}
};
}), angular.module("patternfly.form").directive("pfFormButtons", function() {
"use strict";
return {
replace: !0,
require: "^form",
templateUrl: "form/form-buttons/form-buttons.html",
scope: {
pfHandleCancel: "&pfOnCancel",
pfHandleSave: "&pfOnSave",
pfWorking: "=",
pfButtonContainerClass: "@"
},
link: function(e, t, n, i) {
void 0 === e.pfWorking && (e.pfWorking = !1), e.isInvalid = function() {
var e = i.$invalid;
return angular.forEach(i, function(t) {
t && t.$error && t.$error.server && (e = !1);
}), e;
};
}
};
}), angular.module("patternfly.form").directive("pfFormGroup", function() {
"use strict";
function e(e) {
var t = e.find("table");
return 0 === t.length && 0 === (t = e.find("input")).length && 0 === (t = e.find("select")).length && (t = e.find("textarea")), t;
}
return {
transclude: !0,
replace: !0,
require: "^form",
templateUrl: "form/form-group/form-group.html",
scope: {
pfLabel: "@",
pfField: "@",
pfLabelClass: "@",
pfInputClass: "@"
},
link: function(t, n, i, r) {
var o, a = e(n), s = a.attr("type");
i.pfLabelClass || (i.pfLabelClass = "col-sm-2"), i.pfInputClass || (i.pfInputClass = "col-sm-5"), t.pfField || (t.pfField = a.attr("id")), o = t.pfField, -1 === [ "checkbox", "radio", "time" ].indexOf(s) && a.addClass("form-control"), a.attr("required") && n.addClass("required"), r[o] && (t.error = r[o].$error), t.hasErrors = function() {
return r[o] && r[o].$invalid && r[o].$dirty;
};
}
};
}), angular.module("patternfly.form").directive("pfRemainingCharsCount", [ "$timeout", function(e) {
"use strict";
return {
restrict: "A",
require: "ngModel",
scope: {
ngModel: "="
},
link: function(e, t, n) {
var i = n.charsMaxLimit, r = n.charsWarnRemaining, o = angular.element(document.getElementById(n.countFld)), a = "true" === n.blockInputAtMaxLimit, s = function() {
var t = e.ngModel.length, s = i - t;
a && t > i && (e.ngModel = e.ngModel.substring(0, i), t = e.ngModel.length, s = i - t), e.remainingChars = s, e.remainingCharsWarning = s <= r, o.text(s), o.toggleClass("chars-warn-remaining-pf", s <= r), s < 0 ? e.$emit("overCharsMaxLimit", n.id) : e.$emit("underCharsMaxLimit", n.id);
};
e.$watch("ngModel", function() {
s();
}), t.bind("keypress", function(e) {
a && t.val().length >= i && 8 !== e.keyCode && e.preventDefault();
});
}
};
} ]), angular.module("patternfly.modals").directive("pfAboutModalTransclude", [ "$parse", function(e) {
"use strict";
return {
link: function(t, n, i) {
n.append(e(i.pfAboutModalTransclude)(t));
}
};
} ]).directive("pfAboutModal", function() {
"use strict";
return {
restrict: "A",
scope: {
additionalInfo: "=?",
copyright: "=?",
close: "&onClose",
imgAlt: "=?",
imgSrc: "=?",
isOpen: "=?",
productInfo: "=",
title: "=?"
},
templateUrl: "modals/about-modal.html",
transclude: !0,
controller: [ "$scope", "$uibModal", "$transclude", function(e, t, n) {
void 0 === e.isOpen && (e.isOpen = !1), e.openModal = function() {
t.open({
controller: [ "$scope", "$uibModalInstance", "content", function(e, t, n) {
e.template = n, e.close = function() {
t.close();
}, e.$watch(function() {
return e.isOpen;
}, function(e) {
!1 === e && t.close();
});
} ],
resolve: {
content: function() {
var e;
return n(function(t) {
e = t;
}), e;
}
},
scope: e,
templateUrl: "about-modal-template.html"
}).result.then(function() {
e.close();
}, function() {
e.close();
});
};
} ],
link: function(e, t, n) {
var i = e.$watch("isOpen", function(t, n) {
!0 === t && e.openModal();
});
e.$on("$destroy", i);
}
};
}), angular.module("patternfly.navigation").directive("pfApplicationLauncher", [ function() {
"use strict";
return {
restrict: "A",
scope: {
items: "&",
label: "@?",
isDisabled: "&?",
isList: "&?",
hiddenIcons: "&?"
},
templateUrl: "navigation/application-launcher.html"
};
} ]), angular.module("patternfly.navigation").directive("pfVerticalNavigation", [ "$location", "$rootScope", "$window", "$document", "$timeout", "$injector", function(e, t, n, i, r, o) {
"use strict";
var a;
return o.has("$state") && (a = o.get("$state")), {
restrict: "A",
scope: {
brandSrc: "@",
brandAlt: "@",
showBadges: "@",
persistentSecondary: "@",
pinnableMenus: "@",
hiddenIcons: "@",
items: "=",
navigateCallback: "=?",
itemClickCallback: "=?",
updateActiveItemsOnClick: "@",
ignoreMobile: "@"
},
replace: !0,
templateUrl: "navigation/vertical-navigation.html",
transclude: !0,
controller: [ "$scope", function(n) {
var i;
n.showBadges = "true" === n.showBadges, n.persistentSecondary = "true" === n.persistentSecondary, n.pinnableMenus = "true" === n.pinnableMenus, n.hiddenIcons = "true" === n.hiddenIcons, n.updateActiveItemsOnClick = "true" === n.updateActiveItemsOnClick, n.ignoreMobile = "true" === n.ignoreMobile, n.activeSecondary = !1, n.clearActiveItems = function() {
n.items.forEach(function(e) {
e.isActive = !1, e.children && e.children.forEach(function(e) {
e.isActive = !1, e.children && e.children.forEach(function(e) {
e.isActive = !1;
});
});
});
}, n.setActiveItems = function() {
var t = "#" + e.path();
n.items.forEach(function(e) {
t.indexOf(e.href) > -1 && (e.isActive = !0), e.children && e.children.forEach(function(n) {
t.indexOf(n.href) > -1 && (n.isActive = !0, e.isActive = !0), n.children && n.children.forEach(function(i) {
t.indexOf(i.href) > -1 && (i.isActive = !0, n.isActive = !0, e.isActive = !0);
});
});
});
}, n.updateActiveItemsOnClick || (i = t.$on("$routeChangeSuccess", function(e, t, i) {
n.clearActiveItems(), n.setActiveItems();
}), n.$on("$destroy", i));
} ],
link: function(t) {
var i = {
tablet: 768,
desktop: 1200
}, o = function() {
return angular.element(document.querySelector(".container-pf-nav-pf-vertical"));
}, s = !1, l = function(e, n) {
t.items.forEach(function(e) {
e.isMobileItem = !1, e.children && e.children.forEach(function(e) {
e.isMobileItem = !1;
});
}), e ? (e.isMobileItem = !0, n ? (n.isMobileItem = !0, t.showMobileSecondary = !1, t.showMobileTertiary = !0) : (t.showMobileSecondary = !0, t.showMobileTertiary = !1)) : (t.showMobileSecondary = !1, t.showMobileTertiary = !1);
}, c = function() {
var e = n.innerWidth, r = o();
!t.ignoreMobile && e < i.tablet ? t.inMobileState || (t.inMobileState = !0, r.removeClass("collapsed-nav"), r.addClass("hidden-nav"), b(!1), w(!1), s = !1) : (t.inMobileState = !1, t.showMobileNav = !1, r.removeClass("hidden-nav")), s ? (t.navCollapsed = !0, r.addClass("collapsed-nav")) : (t.navCollapsed = !1, r.removeClass("collapsed-nav"));
}, u = function() {
var e = o();
t.navCollapsed = !0, e.addClass("collapsed-nav"), s = !0;
}, d = function() {
var e = o();
t.navCollapsed = !1, e.removeClass("collapsed-nav"), s = !1, angular.element(n).triggerHandler("resize");
}, h = function() {
t.forceHidden = !0, r(function() {
t.forceHidden = !1;
}, 500);
}, p = function(e) {
t.items.forEach(function(t) {
t.children && t.children.forEach(function(n) {
n === e && (t.isActive = !0), n.children && n.children.forEach(function(i) {
i === e && (t.isActive = !0, n.isActive = !0);
});
});
});
}, f = function(e) {
return !e.children || e.children.length < 1 ? e : f(e.children[0]);
}, g = function() {
var e = o();
t.activeSecondary = !1, t.persistentSecondary && !t.inMobileState && (t.items.forEach(function(e) {
e.children && e.children.forEach(function(e) {
e.isActive && (t.activeSecondary = !0);
});
}), t.activeSecondary ? e.addClass("secondary-visible-pf") : e.removeClass("secondary-visible-pf"));
}, m = function(n) {
var i, r = f(n);
if (r) {
if (t.showMobileNav = !1, r.uiSref && r.href) throw new Error("Using both uiSref and href on an item is not supported.");
if (r.uiSref) {
if (void 0 === a) throw new Error('uiSref is defined on item, but no $state has been injected. Did you declare a dependency on "ui.router" module in your app?');
a.go(r.uiSref, r.uiSrefOptions);
} else (i = r.href) && (i.startsWith("#/") && (i = i.substring(2)), e.path(i));
t.navigateCallback && t.navigateCallback(r);
}
t.itemClickCallback && t.itemClickCallback(n), t.updateActiveItemsOnClick && (t.clearActiveItems(), r.isActive = !0, p(r), g()), g();
}, v = function() {
var e = !1;
return t.items.forEach(function(t) {
t.isHover && (e = !0);
}), e;
}, y = function() {
var e = !1;
return t.items.forEach(function(t) {
t.children && t.children.length > 0 && t.children.forEach(function(t) {
t.isHover && (e = !0);
});
}), e;
}, b = function(e, n) {
var i = o();
n && (n.secondaryCollapsed = e), e ? (t.collapsedSecondaryNav = !0, i.addClass("collapsed-secondary-nav-pf")) : (t.items && t.items.forEach(function(e) {
e.secondaryCollasped = !1;
}), t.collapsedSecondaryNav = !1, i.removeClass("collapsed-secondary-nav-pf"));
}, w = function(e, n) {
var i = o();
n && (n.tertiaryCollapsed = e), e ? (t.collapsedTertiaryNav = !0, i.addClass("collapsed-tertiary-nav-pf"), b(!1)) : (t.items && t.items.forEach(function(e) {
e.children && e.children.length > 0 && e.children.forEach(function(e) {
e.tertiaryCollasped = !1;
});
}), t.collapsedTertiaryNav = !1, i.removeClass("collapsed-tertiary-nav-pf"));
};
t.showMobileNav = !1, t.showMobileSecondary = !1, t.showMobileTertiary = !1, t.hoverSecondaryNav = !1, t.hoverTertiaryNav = !1, t.collapsedSecondaryNav = !1, t.collapsedTertiaryNav = !1, t.navCollapsed = !1, t.forceHidden = !1, t.handleNavBarToggleClick = function() {
t.inMobileState ? t.showMobileNav ? t.showMobileNav = !1 : (l(), t.showMobileNav = !0) : t.navCollapsed ? d() : u();
}, t.handlePrimaryClick = function(e, n) {
t.inMobileState ? e.children && e.children.length > 0 ? l(e) : (l(), m(e)) : m(e);
}, t.handleSecondaryClick = function(e, n, i) {
t.inMobileState ? n.children && n.children.length > 0 ? l(e, n) : (l(), m(n)) : m(n);
}, t.handleTertiaryClick = function(e, n, i, r) {
t.inMobileState && l(), m(i);
}, t.handlePrimaryHover = function(e) {
e.children && e.children.length > 0 && (t.inMobileState || (void 0 !== e.navUnHoverTimeout ? (r.cancel(e.navUnHoverTimeout), e.navUnHoverTimeout = void 0) : void 0 !== t.navHoverTimeout || e.isHover || (e.navHoverTimeout = r(function() {
t.hoverSecondaryNav = !0, e.isHover = !0, e.navHoverTimeout = void 0;
}, 500))));
}, t.handlePrimaryUnHover = function(e) {
e.children && e.children.length > 0 && (void 0 !== e.navHoverTimeout ? (r.cancel(e.navHoverTimeout), e.navHoverTimeout = void 0) : void 0 === e.navUnHoverTimeout && e.isHover && (e.navUnHoverTimeout = r(function() {
e.isHover = !1, v() || (t.hoverSecondaryNav = !1), e.navUnHoverTimeout = void 0;
}, 700)));
}, t.handleSecondaryHover = function(e) {
e.children && e.children.length > 0 && (t.inMobileState || (void 0 !== e.navUnHoverTimeout ? (r.cancel(e.navUnHoverTimeout), e.navUnHoverTimeout = void 0) : void 0 === t.navHoverTimeout && (e.navHoverTimeout = r(function() {
t.hoverTertiaryNav = !0, e.isHover = !0, e.navHoverTimeout = void 0;
}, 500))));
}, t.handleSecondaryUnHover = function(e) {
e.children && e.children.length > 0 && (void 0 !== e.navHoverTimeout ? (r.cancel(e.navHoverTimeout), e.navHoverTimeout = void 0) : void 0 === e.navUnHoverTimeout && (e.navUnHoverTimeout = r(function() {
e.isHover = !1, y() || (t.hoverTertiaryNav = !1), e.navUnHoverTimeout = void 0;
}, 700)));
}, t.collapseSecondaryNav = function(e, n) {
t.inMobileState ? l() : e.secondaryCollapsed ? (b(!1, e), h()) : b(!0, e), t.hoverSecondaryNav = !1, n.stopImmediatePropagation();
}, t.collapseTertiaryNav = function(e, n) {
t.inMobileState ? t.items.forEach(function(t) {
t.children && t.children.forEach(function(n) {
n === e && l(t);
});
}) : e.tertiaryCollapsed ? (w(!1, e), h()) : w(!0, e), t.hoverSecondaryNav = !1, t.hoverTertiaryNav = !1, n.stopImmediatePropagation();
}, function() {
var e = o();
t.showBadges && e.addClass("nav-pf-vertical-with-badges"), t.persistentSecondary && e.addClass("nav-pf-persistent-secondary"), t.hiddenIcons && e.addClass("hidden-icons-pf");
}(), c(), angular.element(n).bind("resize", function() {
c(), r(function() {
try {
t.$apply();
} catch (e) {}
});
});
}
};
} ]), angular.module("patternfly.notification").directive("pfInlineNotification", function() {
"use strict";
return {
scope: {
pfNotificationType: "=",
pfNotificationMessage: "=",
pfNotificationHeader: "=",
pfNotificationPersistent: "=",
pfNotificationIndex: "="
},
restrict: "E",
templateUrl: "notification/inline-notification.html"
};
}), angular.module("patternfly.notification").directive("pfNotificationDrawer", [ "$window", "$timeout", function(e, t) {
"use strict";
return {
restrict: "A",
scope: {
drawerHidden: "=?",
allowExpand: "=?",
drawerExpanded: "=?",
drawerTitle: "@",
notificationGroups: "=",
actionButtonTitle: "@",
actionButtonCallback: "=?",
titleInclude: "@",
headingInclude: "@",
subheadingInclude: "@",
notificationBodyInclude: "@",
notificationFooterInclude: "@",
customScope: "=?"
},
templateUrl: "notification/notification-drawer.html",
controller: [ "$scope", function(e) {
e.allowExpand && !angular.isUndefined(e.drawerExpanded) || (e.drawerExpanded = !1);
} ],
link: function(n, i) {
n.$watch("notificationGroups", function() {
var e = !1;
n.notificationGroups.forEach(function(t) {
t.open && (e ? t.open = !1 : e = !0);
});
}), n.$watch("drawerHidden", function() {
t(function() {
angular.element(e).triggerHandler("resize");
}, 100);
}), n.toggleCollapse = function(e) {
e.open ? e.open = !1 : (n.notificationGroups.forEach(function(e) {
e.open = !1;
}), e.open = !0);
}, n.toggleExpandDrawer = function() {
n.drawerExpanded = !n.drawerExpanded;
}, n.groupHeight && i.find(".panel-group").css("height", n.groupHeight), n.groupClass && i.find(".panel-group").addClass(n.groupClass);
}
};
} ]), angular.module("patternfly.notification").provider("Notifications", function() {
"use strict";
this.delay = 8e3, this.verbose = !0, this.notifications = {}, this.persist = {
error: !0,
httpError: !0
}, this.setDelay = function(e) {
return this.delay = e, this;
}, this.setVerbose = function(e) {
return this.verbose = e, this;
}, this.setPersist = function(e) {
this.persist = e;
}, this.$get = [ "$rootScope", "$timeout", "$log", function(e, t, n) {
function i(e) {
return function(t, i, r, c, u, d, h) {
angular.isUndefined(i) && (i = l[e].header), angular.isUndefined(r) && (r = s[e]), o.message(l[e].type, i, t, r, c, u, d, h), a && n[l[e].log](t);
};
}
var r = this.delay, o = this.notifications, a = this.verbose, s = this.persist, l = {
info: {
type: "info",
header: "Info!",
log: "info"
},
success: {
type: "success",
header: "Success!",
log: "info"
},
error: {
type: "danger",
header: "Error!",
log: "error"
},
warn: {
type: "warning",
header: "Warning!",
log: "warn"
}
};
return e.notifications = {}, e.notifications.data = [], e.notifications.remove = function(t) {
e.notifications.data.splice(t, 1);
}, e.notifications || (e.notifications.data = []), o.message = function(n, i, a, s, l, c, u, d) {
var h = {
type: n,
header: i,
message: a,
isPersistent: s,
closeCallback: l,
actionTitle: c,
actionCallback: u,
menuActions: d
};
h.show = !0, e.notifications.data.push(h), h.isPersistent || (h.viewing = !1, t(function() {
h.show = !1, h.viewing || o.remove(h);
}, r));
}, angular.forEach(l, function(e, t) {
o[t] = i(t);
}), o.httpError = function(e, t) {
e += " (" + (t.data.message || t.data.cause || t.data.cause || t.data.errorMessage) + ")", o.message("danger", "Error!", e, s.httpError), a && n.error(e);
}, o.remove = function(t) {
var n = e.notifications.data.indexOf(t);
-1 !== n && o.removeIndex(n);
}, o.removeIndex = function(t) {
e.notifications.remove(t);
}, o.setViewing = function(e, t) {
e.viewing = t, t || e.show || o.remove(e);
}, o.data = e.notifications.data, o;
} ];
}), angular.module("patternfly.notification").directive("pfNotificationList", function() {
"use strict";
function e(e, t) {
e.notifications = t.notifications;
}
return e.$inject = [ "$scope", "$rootScope" ], {
restrict: "E",
controller: e,
templateUrl: "notification/notification-list.html"
};
}), angular.module("patternfly.notification").directive("pfToastNotificationList", function() {
"use strict";
return {
restrict: "A",
scope: {
notifications: "=",
showClose: "=?",
closeCallback: "=?",
updateViewing: "=?"
},
templateUrl: "notification/toast-notification-list.html",
controller: [ "$scope", function(e) {
e.handleClose = function(t) {
angular.isFunction(e.closeCallback) && e.closeCallback(t);
}, e.handleViewingChange = function(t, n) {
angular.isFunction(e.updateViewing) && e.updateViewing(t, n);
};
} ]
};
}), angular.module("patternfly.notification").directive("pfToastNotification", function() {
"use strict";
return {
scope: {
notificationType: "@",
message: "@",
header: "@",
showClose: "@",
closeCallback: "=?",
actionTitle: "@",
actionCallback: "=?",
menuActions: "=?",
updateViewing: "=?",
data: "=?"
},
restrict: "A",
templateUrl: "notification/toast-notification.html",
controller: [ "$scope", function(e) {
e.notificationType = e.notificationType || "info", e.updateShowClose = function() {
e.showCloseButton = "true" === e.showClose && (angular.isUndefined(e.menuActions) || e.menuActions.length < 1);
}, e.handleClose = function() {
angular.isFunction(e.closeCallback) && e.closeCallback(e.data);
}, e.handleAction = function() {
angular.isFunction(e.actionCallback) && e.actionCallback(e.data);
}, e.handleMenuAction = function(t) {
t && angular.isFunction(t.actionFn) && !0 !== t.isDisabled && t.actionFn(t, e.data);
}, e.handleEnter = function() {
angular.isFunction(e.updateViewing) && e.updateViewing(!0, e.data);
}, e.handleLeave = function() {
angular.isFunction(e.updateViewing) && e.updateViewing(!1, e.data);
}, e.updateShowClose();
} ],
link: function(e) {
e.$watch("showClose", function() {
e.updateShowClose();
}), e.$watch("menuActions", function() {
e.updateShowClose();
});
}
};
}), angular.module("patternfly.select", []).directive("pfSelect", [ "$timeout", function(e) {
"use strict";
return {
restrict: "A",
require: "?ngModel",
scope: {
selectPickerOptions: "=pfSelect"
},
link: function(e, t, n, i) {
var r, o, a = i.$render, s = function(n) {
e.$applyAsync(function() {
t.selectpicker("refresh");
});
};
t.selectpicker(e.selectPickerOptions), i.$render = function() {
a.apply(this, arguments), s();
}, n.ngOptions && (o = (r = n.ngOptions.split("in "))[r.length - 1].split(/track by|\|/)[0], e.$parent.$watchCollection(o, s)), n.ngModel && e.$parent.$watch(n.ngModel, s), n.$observe("disabled", s), e.$on("$destroy", function() {
t.selectpicker("destroy");
});
}
};
} ]), angular.module("patternfly.sort").directive("pfSort", function() {
"use strict";
return {
restrict: "A",
scope: {
config: "="
},
templateUrl: "sort/sort.html",
controller: [ "$scope", function(e) {
e.setupConfig = function() {
var t = !1;
void 0 === e.config.fields && (e.config.fields = []), e.config.fields.length > 0 && (void 0 === e.config.currentField && (e.config.currentField = e.config.fields[0], t = !0), void 0 === e.config.isAscending && (e.config.isAscending = !0, t = !0)), !0 === t && e.config.onSortChange && e.config.onSortChange(e.config.currentField, e.config.isAscending);
}, e.selectField = function(t) {
e.config.currentField = t, e.config.onSortChange && e.config.onSortChange(e.config.currentField, e.config.isAscending);
}, e.changeDirection = function() {
e.config.isAscending = !e.config.isAscending, e.config.onSortChange && e.config.onSortChange(e.config.currentField, e.config.isAscending);
}, e.getSortIconClass = function() {
return "numeric" === e.config.currentField.sortType ? e.config.isAscending ? "fa fa-sort-numeric-asc" : "fa fa-sort-numeric-desc" : e.config.isAscending ? "fa fa-sort-alpha-asc" : "fa fa-sort-alpha-desc";
}, e.setupConfig();
} ],
link: function(e, t, n) {
e.$watch("config", function() {
e.setupConfig();
}, !0);
}
};
}), angular.module("patternfly.toolbars").directive("pfToolbar", function() {
"use strict";
return {
restrict: "A",
scope: {
config: "="
},
replace: !0,
transclude: {
actions: "?"
},
templateUrl: "toolbars/toolbar.html",
controller: [ "$scope", function(e) {
e.viewSelected = function(t) {
e.config.viewsConfig.currentView = t, e.config.viewsConfig.onViewSelect && !e.checkViewDisabled(t) && e.config.viewsConfig.onViewSelect(t);
}, e.isViewSelected = function(t) {
return e.config.viewsConfig && e.config.viewsConfig.currentView === t;
}, e.checkViewDisabled = function(t) {
return e.config.viewsConfig.checkViewDisabled && e.config.viewsConfig.checkViewDisabled(t);
}, e.filterExists = function(t) {
return void 0 !== _.findWhere(e.config.filterConfig.appliedFilters, {
title: t.title,
value: t.value
});
}, e.addFilter = function(t, n) {
var i = {
id: t.id,
title: t.title,
value: n
};
e.filterExists(i) || (e.config.filterConfig.appliedFilters.push(i), e.config.filterConfig.onFilterChange && e.config.filterConfig.onFilterChange(e.config.filterConfig.appliedFilters));
}, e.handleAction = function(e) {
e && e.actionFn && !0 !== e.isDisabled && e.actionFn(e);
};
} ],
link: function(e, t, n) {
e.$watch("config", function() {
e.config && e.config.viewsConfig && e.config.viewsConfig.views && (e.config.viewsConfig.viewsList = angular.copy(e.config.viewsConfig.views), e.config.viewsConfig.currentView || (e.config.viewsConfig.currentView = e.config.viewsConfig.viewsList[0]));
}, !0);
}
};
}), angular.module("patternfly.utils").directive("pfFixedAccordion", [ "$window", "$timeout", function(e, t) {
"use strict";
return {
restrict: "A",
scope: {
scrollSelector: "@",
groupHeight: "@",
groupClass: "@"
},
link: function(n, i, r) {
var o = function() {
var e, r, o, a, s = "hidden", l = i.find(".panel-group");
e = l.height(), (r = l.find(".collapse.in")) && r.length > 0 && r.removeClass("in"), o = 0, l.children().each(function(e, t) {
var n = angular.element(t);
o += n.prop("offsetHeight"), o += parseInt(n.css("margin-top")), o += parseInt(n.css("margin-bottom"));
}), (a = e - o) < 25 && (a = 25, s = "auto"), r && r.length > 0 && r.addClass("in"), t(function() {
l.find(".panel-collapse").each(function(e, t) {
var i, r, o = angular.element(t), s = o, l = 0;
angular.isDefined(n.scrollSelector) && 1 === (i = angular.element(o.find(n.scrollSelector))).length && (s = angular.element(i[0]), o.children().each(function(e, t) {
t !== s[0] && (r = angular.element(t), l += r.prop("offsetHeight"), l += parseInt(r.css("margin-top")), l += parseInt(r.css("margin-bottom")));
})), angular.element(s).css("max-height", a - l + "px"), angular.element(s).css("overflow-y", "auto");
});
}), angular.element(l).css("overflow-y", s);
};
n.groupHeight && i.find(".panel-group").css("height", n.groupHeight), n.groupClass && i.find(".panel-group").addClass(n.groupClass), t(function() {
o();
}, 100), angular.element(e).bind("resize", function() {
o();
});
}
};
} ]), angular.module("patternfly.utils").directive("pfTransclude", function() {
"use strict";
return {
restrict: "A",
link: function(e, t, n, i, r) {
var o;
if (!r) throw new Error("pfTransclude - Illegal use of pfTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}");
switch (n.pfTransclude || "sibling") {
case "sibling":
r(function(e) {
t.empty(), t.append(e);
});
break;

case "parent":
r(e, function(e) {
t.empty(), t.append(e);
});
break;

case "child":
r(o = e.$new(), function(e) {
t.empty(), t.append(e), t.on("$destroy", function() {
o.$destroy();
});
});
}
}
};
}), function() {
"use strict";
angular.module("patternfly.utils").constant("pfUtils", {
merge: function(e, t) {
return "function" == typeof angular.merge ? this.angularMerge(e, t) : "function" == typeof _.merge ? this._merge(e, t) : "function" == typeof $.extend ? this.$extend(e, t) : this.mergeDeep(e, t);
},
angularMerge: function(e, t) {
return angular.merge({}, e, t);
},
_merge: function(e, t) {
return _.merge({}, e, t);
},
$extend: function(e, t) {
return $.extend(!0, angular.copy(e), t);
},
mergeDeep: function(e, t) {
return mergeDeep({}, angular.copy(e), angular.copy(t));
},
colorPalette: $.pfPaletteColors
});
}(), angular.module("patternfly.validation", []).directive("pfValidation", [ "$timeout", function(e) {
"use strict";
return {
restrict: "A",
require: "ngModel",
scope: {
pfValidation: "&",
pfValidationDisabled: "="
},
link: function(t, n, i, r) {
function o() {
var e, n = t.inputCtrl.$modelValue, r = t.pfValidation({
input: n
});
i.pfValidation || (r = !0), e = !n || r || "" === n, a(t.valEnabled && !e ? !0 : !1);
}
function a(e) {
var i = n.next(), r = n.parent(), o = r.hasClass("has-error"), a = i.hasClass("ng-hide");
t.inputCtrl.$setValidity("pf-validation", !e), e && (o || r.addClass("has-error"), a && i.removeClass("ng-hide")), e || (o && r.removeClass("has-error"), a || i.addClass("ng-hide"));
}
t.inputCtrl = r, t.valEnabled = !i.pfValidationDisabled, t.$watch("pfValidationDisabled", function(e) {
t.valEnabled = !e, e ? (t.inputCtrl.$setValidity("pfValidation", !0), a(!1)) : o();
}), i.pfValidation ? e(function() {
o();
}, 0) : !t.inputCtrl.$valid && t.inputCtrl.$dirty && a(!0), t.$watch("inputCtrl.$valid", function(e) {
a(e ? !1 : !0);
}), t.$watch("inputCtrl.$modelValue", function() {
o();
});
}
};
} ]), angular.module("patternfly.views").directive("pfCardView", [ "pfUtils", function(e) {
"use strict";
return {
restrict: "A",
scope: {
config: "=?",
items: "=",
eventId: "@id"
},
transclude: !0,
templateUrl: "views/cardview/card-view.html",
controller: [ "$scope", function(t) {
if (t.defaultConfig = {
selectItems: !1,
multiSelect: !1,
dblClick: !1,
selectionMatchProp: "uuid",
selectedItems: [],
checkDisabled: !1,
showSelectBox: !0,
onSelect: null,
onSelectionChange: null,
onCheckBoxChange: null,
onClick: null,
onDblClick: null
}, t.config = e.merge(t.defaultConfig, t.config), t.config.selectItems && t.config.showSelectBox) throw new Error("pfCardView - Illegal use of pfCardView directive! Cannot allow both select box and click selection in the same card view.");
} ],
link: function(t, n, i) {
i.$observe("config", function() {
t.config = e.merge(t.defaultConfig, t.config), t.config.selectItems || (t.config.selectedItems = []), !t.config.multiSelect && t.config.selectedItems && t.config.selectedItems.length > 0 && (t.config.selectedItems = [ t.config.selectedItems[0] ]);
}), t.itemClick = function(e, n) {
var i = !1, r = !0;
return t.checkDisabled(n) ? r : (t.config && t.config.selectItems && n && (t.config.multiSelect && !t.config.dblClick ? _.find(t.config.selectedItems, function(e) {
return e === n;
}) ? t.config.selectedItems = _.without(t.config.selectedItems, n) : (t.config.selectedItems.push(n), i = !0) : t.config.selectedItems[0] === n ? (t.config.dblClick || (t.config.selectedItems = [], i = !0), r = !1) : (t.config.selectedItems = [ n ], i = !0), i && t.config.onSelect && t.config.onSelect(n, e), i && t.config.onSelectionChange && t.config.onSelectionChange(t.config.selectedItems, e)), t.config.onClick && t.config.onClick(n, e), r);
}, t.dblClick = function(e, n) {
t.config.onDblClick && t.config.onDblClick(n, e);
}, t.checkBoxChange = function(e) {
t.config.onCheckBoxChange && t.config.onCheckBoxChange(e);
}, t.isSelected = function(e) {
var n = t.config.selectionMatchProp, i = !1;
if (t.config.showSelectBox) i = e.selected; else if (t.config.selectedItems.length) return _.find(t.config.selectedItems, function(t) {
return t[n] === e[n];
});
return i;
}, t.checkDisabled = function(e) {
return t.config.checkDisabled && t.config.checkDisabled(e);
};
}
};
} ]), angular.module("patternfly.views").directive("pfListView", [ "$window", "pfUtils", function(e, t) {
"use strict";
return {
restrict: "A",
scope: {
config: "=?",
items: "=",
actionButtons: "=?",
enableButtonForItemFn: "=?",
menuActions: "=?",
hideMenuForItemFn: "=?",
menuClassForItemFn: "=?",
updateMenuActionForItemFn: "=?",
actions: "=?",
updateActionForItemFn: "=?",
customScope: "=?"
},
transclude: {
expandedContent: "?listExpandedContent"
},
templateUrl: "views/listview/list-view.html",
controller: [ "$scope", "$element", function(n, i) {
var r = function(e) {
var t = e.querySelector(".dropdown-toggle"), r = e.querySelector(".dropdown-menu"), o = i[0].getBoundingClientRect(), a = t.getBoundingClientRect(), s = r.getBoundingClientRect(), l = a.top - s.height;
a.top + a.height + s.height <= o.top + o.height || l < o.top ? n.dropdownClass = "dropdown" : n.dropdownClass = "dropup";
};
if (n.defaultConfig = {
selectItems: !1,
multiSelect: !1,
dblClick: !1,
dragEnabled: !1,
dragEnd: null,
dragMoved: null,
dragStart: null,
selectionMatchProp: "uuid",
selectedItems: [],
checkDisabled: !1,
useExpandingRows: !1,
showSelectBox: !0,
onSelect: null,
onSelectionChange: null,
onCheckBoxChange: null,
onClick: null,
onDblClick: null
}, n.config = t.merge(n.defaultConfig, n.config), n.config.selectItems && n.config.showSelectBox) throw new Error("pfListView - Illegal use of pListView directive! Cannot allow both select box and click selection in the same list view.");
n.dropdownClass = "dropdown", n.handleButtonAction = function(e, t) {
!n.checkDisabled(t) && e && e.actionFn && n.enableButtonForItem(e, t) && e.actionFn(e, t);
}, n.handleMenuAction = function(e, t) {
!n.checkDisabled(t) && e && e.actionFn && !0 !== e.isDisabled && e.actionFn(e, t);
}, n.enableButtonForItem = function(e, t) {
return "function" != typeof n.enableButtonForItemFn || n.enableButtonForItemFn(e, t);
}, n.updateActions = function(e) {
"function" == typeof n.updateMenuActionForItemFn && n.menuActions.forEach(function(t) {
n.updateMenuActionForItemFn(t, e);
});
}, n.getMenuClassForItem = function(e) {
var t = "";
return angular.isFunction(n.menuClassForItemFn) && (t = n.menuClassForItemFn(e)), t;
}, n.hideMenuForItem = function(e) {
var t = !1;
return angular.isFunction(n.hideMenuForItemFn) && (t = n.hideMenuForItemFn(e)), t;
}, n.toggleItemExpansion = function(e) {
e.isExpanded = !e.isExpanded;
}, n.setupActions = function(t, i) {
n.checkDisabled(t) || (n.updateActions(t), e.requestAnimationFrame(function() {
var e, t = void 0;
for (e = i.target; e && !t; ) -1 !== e.className.indexOf("dropdown-kebab-pf") && (t = e, -1 !== e.className.indexOf("open") && r(t)), e = e.parentElement;
}));
};
} ],
link: function(e, n, i) {
i.$observe("config", function() {
e.config = t.merge(e.defaultConfig, e.config), e.config.selectItems || (e.config.selectedItems = []), !e.config.multiSelect && e.config.selectedItems && e.config.selectedItems.length > 0 && (e.config.selectedItems = [ e.config.selectedItems[0] ]);
}), e.itemClick = function(t, n) {
var i = !1, r = !0, o = e.config && e.config.useExpandingRows && n && !n.disableRowExpansion;
return e.checkDisabled(n) ? r : (e.config && e.config.selectItems && n && (e.config.multiSelect && !e.config.dblClick ? _.find(e.config.selectedItems, function(e) {
return e === n;
}) ? e.config.selectedItems = _.without(e.config.selectedItems, n) : (e.config.selectedItems.push(n), i = !0) : e.config.selectedItems[0] === n ? (e.config.dblClick || (e.config.selectedItems = [], i = !0), r = !1) : (e.config.selectedItems = [ n ], i = !0), i && e.config.onSelect && e.config.onSelect(n, t), i && e.config.onSelectionChange && e.config.onSelectionChange(e.config.selectedItems, t)), e.config.onClick ? !1 !== e.config.onClick(n, t) && o && e.toggleItemExpansion(n) : o && e.toggleItemExpansion(n), r);
}, e.dblClick = function(t, n) {
if (e.checkDisabled(n)) return continueEvent;
e.config.onDblClick && e.config.onDblClick(n, t);
}, e.checkBoxChange = function(t) {
e.config.onCheckBoxChange && e.config.onCheckBoxChange(t);
}, e.isSelected = function(t) {
var n = e.config.selectionMatchProp, i = !1;
return e.config.showSelectBox ? i = t.selected : e.config.selectItems && e.config.selectedItems.length && (i = _.find(e.config.selectedItems, function(e) {
return e[n] === t[n];
})), i;
}, e.checkDisabled = function(t) {
return e.config.checkDisabled && e.config.checkDisabled(t);
}, e.dragEnd = function() {
angular.isFunction(e.config.dragEnd) && e.config.dragEnd();
}, e.dragMoved = function() {
angular.isFunction(e.config.dragMoved) && e.config.dragMoved();
}, e.isDragOriginal = function(t) {
return t === e.dragItem;
}, e.dragStart = function(t) {
e.dragItem = t, angular.isFunction(e.config.dragStart) && e.config.dragStart(t);
};
}
};
} ]), function() {
"use strict";
angular.module("patternfly.views").constant("pfViewUtils", {
getDashboardView: function(e) {
return {
id: "dashboardView",
title: e || "Dashboard View",
iconClass: "fa fa-dashboard"
};
},
getCardView: function(e) {
return {
id: "cardView",
title: e || "Card View",
iconClass: "fa fa-th"
};
},
getListView: function(e) {
return {
id: "listView",
title: e || "List View",
iconClass: "fa fa-th-list"
};
},
getTableView: function(e) {
return {
id: "tableView",
title: e || "Table View",
iconClass: "fa fa-table"
};
},
getTopologyView: function(e) {
return {
id: "topologyView",
title: e || "Topology View",
iconClass: "fa fa-sitemap"
};
}
});
}(), function() {
"use strict";
function e(e) {
angular.module("patternfly.wizard").directive(e, function() {
return {
restrict: "A",
scope: {
callback: "=?"
},
controller: [ "$scope", function(e) {
var t = function(e) {
var n;
return e && (n = angular.isDefined(e.wizard) ? e.wizard : t(e.$parent)), n;
};
e.wizard = t(e);
} ],
link: function(t, n, i) {
n.on("click", function(n) {
n.preventDefault(), t.$apply(function() {
t.$eval(i[e]), t.wizard[e.replace("pfWiz", "").toLowerCase()](t.callback);
});
});
}
};
});
}
e("pfWizNext"), e("pfWizPrevious"), e("pfWizFinish"), e("pfWizCancel"), e("pfWizReset");
}(), angular.module("patternfly.wizard").directive("pfWizard", [ "$window", function(e) {
"use strict";
return {
restrict: "A",
transclude: !0,
scope: {
title: "@",
hideIndicators: "=?",
hideSidebar: "@",
hideHeader: "@",
hideBackButton: "@",
sidebarClass: "@",
stepClass: "@",
contentHeight: "=?",
currentStep: "=?",
cancelTitle: "=?",
backTitle: "=?",
nextTitle: "=?",
backCallback: "=?",
nextCallback: "=?",
onFinish: "&",
onCancel: "&",
wizardReady: "=?",
wizardDone: "=?",
loadingWizardTitle: "=?",
loadingSecondaryInformation: "=?",
embedInPage: "=?"
},
templateUrl: "wizard/wizard.html",
controller: [ "$scope", "$timeout", function(e, t) {
var n = !0, i = function(t) {
var n = 0, i = -1;
return angular.forEach(e.getEnabledSteps(), function(e) {
e === t && (i = n), n++;
}), i;
}, r = function() {
angular.forEach(e.getEnabledSteps(), function(e) {
e.selected = !1;
}), e.selectedStep = null;
}, o = function() {
e.nextStepEnabledWatcher && e.nextStepEnabledWatcher(), e.nextStepTooltipWatcher && e.nextStepTooltipWatcher(), e.prevStepEnabledWatcher && e.prevStepEnabledWatcher(), e.prevStepTooltipWatcher && e.prevStepTooltipWatcher(), e.nextStepEnabledWatcher = e.$watch("selectedStep.nextEnabled", function(t) {
e.nextEnabled = t;
}), e.nextStepTooltipWatcher = e.$watch("selectedStep.nextTooltip", function(t) {
e.nextTooltip = t;
}), e.prevStepEnabledWatcher = e.$watch("selectedStep.prevEnabled", function(t) {
e.prevEnabled = t;
}), e.prevStepTooltipWatcher = e.$watch("selectedStep.prevTooltip", function(t) {
e.prevTooltip = t;
});
}, a = function(t) {
var n = null;
return angular.forEach(e.getEnabledSteps(), function(e) {
e.title === t && (n = e);
}), n;
};
e.steps = [], e.context = {}, this.context = e.context, e.hideHeader = "true" === e.hideHeader, this.hideSidebar = "true" === e.hideSidebar, e.hideBaackButton = "true" === e.hideBackButton, angular.isDefined(e.stepClass) ? (this.stepClass = e.stepClass, angular.isDefined(e.sidebarClass) ? this.sidebarClass = e.sidebarClass : this.sidebarClass = e.stepClass) : (angular.isUndefined(e.contentHeight) && (e.contentHeight = "300px"), this.contentHeight = e.contentHeight, e.contentStyle = {
height: e.contentHeight,
"max-height": e.contentHeight,
"overflow-y": "auto"
}, this.contentStyle = e.contentStyle), angular.isUndefined(e.wizardReady) && (e.wizardReady = !0), e.nextEnabled = !1, e.prevEnabled = !1, e.cancelTitle || (e.cancelTitle = "Cancel"), e.backTitle || (e.backTitle = "< Back"), e.nextTitle || (e.nextTitle = "Next >"), e.getEnabledSteps = function() {
return e.steps.filter(function(e) {
return "true" !== e.disabled;
});
}, this.getReviewSteps = function() {
return e.steps.filter(function(e) {
return !e.disabled && (!angular.isUndefined(e.reviewTemplate) || e.getReviewSteps().length > 0);
});
}, e.currentStepNumber = function() {
return i(e.selectedStep) + 1;
}, e.getStepNumber = function(e) {
return i(e) + 1;
}, e.$watch("currentStep", function(t) {
t && e.selectedStep && e.selectedStep.title !== e.currentStep && e.goTo(a(e.currentStep));
}), e.$watch("[editMode, steps.length]", function() {
var t = e.editMode;
angular.isUndefined(t) || null === t || (t ? angular.forEach(e.getEnabledSteps(), function(e) {
e.completed = !0;
}) : angular.forEach(e.getEnabledSteps(), function(t, n) {
n >= e.currentStepNumber() - 1 && (t.completed = !1);
}));
}, !0), e.goTo = function(a, s) {
e.wizardDone || e.selectedStep && !e.selectedStep.okToNavAway || a === e.selectedStep || ((n || e.getStepNumber(a) < e.currentStepNumber() && e.selectedStep.isPrevEnabled() || e.selectedStep.isNextEnabled()) && (r(), !n && s && a.substeps && a.resetNav(), e.selectedStep = a, a.selected = !0, t(function() {
angular.isFunction(a.onShow) && a.onShow();
}, 100), o(), e.currentStep = a.title, a.substeps || e.$emit("wizard:stepChanged", {
step: a,
index: i(a)
}), n = !1), e.selectedStep.substeps ? e.firstStep = 0 === i(e.selectedStep) && 1 === e.selectedStep.currentStepNumber() : e.firstStep = 0 === i(e.selectedStep));
}, e.allowStepIndicatorClick = function(t) {
return t.allowClickNav && !e.wizardDone && e.selectedStep.okToNavAway && (e.selectedStep.nextEnabled || t.stepPriority < e.selectedStep.stepPriority) && (e.selectedStep.prevEnabled || t.stepPriority > e.selectedStep.stepPriority);
}, e.stepClick = function(t) {
t.allowClickNav && e.goTo(t, !0);
}, this.addStep = function(t) {
var n = _.find(e.steps, function(e) {
return e.stepPriority > t.stepPriority;
});
n ? e.steps.splice(e.steps.indexOf(n), 0, t) : e.steps.push(t), e.wizardReady && e.getEnabledSteps().length > 0 && t === e.getEnabledSteps()[0] && e.goTo(e.getEnabledSteps()[0]);
}, this.isWizardDone = function() {
return e.wizardDone;
}, this.updateSubStepNumber = function(t) {
e.firstStep = 0 === i(e.selectedStep) && 0 === t;
}, this.currentStepTitle = function() {
return e.selectedStep.title;
}, this.currentStepDescription = function() {
return e.selectedStep.description;
}, this.currentStep = function() {
return e.selectedStep;
}, this.totalStepCount = function() {
return e.getEnabledSteps().length;
}, this.getEnabledSteps = function() {
return e.getEnabledSteps();
}, this.currentStepNumber = function() {
return e.currentStepNumber();
}, this.getStepNumber = function(t) {
return e.getStepNumber(t);
}, this.goTo = function(t, n) {
var i, r = e.getEnabledSteps();
i = angular.isNumber(t) ? r[t] : a(t), e.goTo(i, n);
}, this.next = function(t) {
var n = e.getEnabledSteps(), r = i(e.selectedStep);
if (!e.selectedStep.substeps || !e.selectedStep.next(t)) {
if (angular.isFunction(t)) {
if (!t(e.selectedStep)) return;
if (!(r <= n.length - 1)) return void this.finish();
n[r + 1].substeps && n[r + 1].resetNav();
}
e.selectedStep.completed = !0, r === n.length - 1 ? this.finish() : e.goTo(n[r + 1]);
}
}, this.previous = function(t) {
var n = i(e.selectedStep);
if (!e.selectedStep.substeps || !e.selectedStep.previous(t)) if (angular.isFunction(t)) {
if (t(e.selectedStep)) {
if (0 === n) throw new Error("Can't go back. It's already in step 0");
e.goTo(e.getEnabledSteps()[n - 1]);
}
} else {
if (0 === n) throw new Error("Can't go back. It's already in step 0");
e.goTo(e.getEnabledSteps()[n - 1]);
}
}, this.finish = function() {
e.onFinish && !1 !== e.onFinish() && this.reset();
}, this.cancel = function() {
e.onCancel && !1 !== e.onCancel() && this.reset();
}, this.reset = function() {
angular.forEach(e.getEnabledSteps(), function(e) {
e.completed = !1;
}), this.goTo(0);
}, e.wizard = this;
} ],
link: function(e) {
e.$watch("wizardReady", function() {
e.wizardReady && e.goTo(e.getEnabledSteps()[0]);
});
}
};
} ]), angular.module("patternfly.wizard").directive("pfWizardReviewPage", function() {
"use strict";
return {
restrict: "A",
scope: {
shown: "=",
wizardData: "="
},
templateUrl: "wizard/wizard-review-page.html",
controller: [ "$scope", function(e) {
var t = function(e) {
var n;
return e && (n = angular.isDefined(e.wizard) ? e.wizard : t(e.$parent)), n;
};
e.wizard = t(e.$parent), e.toggleShowReviewDetails = function(e) {
!0 === e.showReviewDetails ? e.showReviewDetails = !1 : e.showReviewDetails = !0;
}, e.getSubStepNumber = function(e, t) {
return e.getStepDisplayNumber(t);
}, e.getReviewSubSteps = function(e) {
return e.getReviewSteps();
}, e.reviewSteps = [], e.updateReviewSteps = function(t) {
e.reviewSteps = t.getReviewSteps();
};
} ],
link: function(e, t, n) {
e.$watch("shown", function(t) {
t && e.updateReviewSteps(e.wizard);
});
}
};
}), angular.module("patternfly.wizard").directive("pfWizardStep", function() {
"use strict";
return {
restrict: "A",
transclude: !0,
scope: {
stepTitle: "@",
stepId: "@",
stepPriority: "@",
substeps: "=?",
nextEnabled: "=?",
prevEnabled: "=?",
nextTooltip: "=?",
prevTooltip: "=?",
disabled: "@?wzDisabled",
okToNavAway: "=?",
allowClickNav: "=?",
description: "@",
wizardData: "=",
onShow: "=?",
showReview: "@?",
showReviewDetails: "@?",
reviewTemplate: "@?"
},
templateUrl: "wizard/wizard-step.html",
controller: [ "$scope", "$timeout", function(e, t) {
var n = !0, i = function(t) {
var n = 0, i = -1;
return angular.forEach(e.getEnabledSteps(), function(e) {
e === t && (i = n), n++;
}), i;
}, r = function() {
angular.forEach(e.getEnabledSteps(), function(e) {
e.selected = !1;
}), e.selectedStep = null;
}, o = function() {
e.nextStepEnabledWatcher && e.nextStepEnabledWatcher(), e.nextStepTooltipWatcher && e.nextStepTooltipWatcher(), e.prevStepEnabledWatcher && e.prevStepEnabledWatcher(), e.prevStepTooltipWatcher && e.prevStepTooltipWatcher(), e.nextStepEnabledWatcher = e.$watch("selectedStep.nextEnabled", function(t) {
e.nextEnabled = t;
}), e.nextStepTooltipWatcher = e.$watch("selectedStep.nextTooltip", function(t) {
e.nextTooltip = t;
}), e.prevStepEnabledWatcher = e.$watch("selectedStep.prevEnabled", function(t) {
e.prevEnabled = t;
}), e.prevStepTooltipWatcher = e.$watch("selectedStep.prevTooltip", function(t) {
e.prevTooltip = t;
});
}, a = function(t) {
var n = null;
return angular.forEach(e.getEnabledSteps(), function(e) {
e.stepTitle === t && (n = e);
}), n;
}, s = function(e) {
var t;
return e && (t = angular.isDefined(e.wizard) ? e.wizard : s(e.$parent)), t;
};
e.steps = [], e.context = {}, e.wizard = s(e.$parent), this.wizard = e.wizard, this.context = e.context, angular.isUndefined(e.nextEnabled) && (e.nextEnabled = !0), angular.isUndefined(e.prevEnabled) && (e.prevEnabled = !0), angular.isUndefined(e.showReview) && (e.showReview = !1), angular.isUndefined(e.showReviewDetails) && (e.showReviewDetails = !1), angular.isUndefined(e.stepPriority) ? e.stepPriority = 999 : e.stepPriority = parseInt(e.stepPriority), angular.isUndefined(e.okToNavAway) && (e.okToNavAway = !0), angular.isUndefined(e.allowClickNav) && (e.allowClickNav = !0), e.getEnabledSteps = function() {
return e.steps.filter(function(e) {
return "true" !== e.disabled;
});
}, e.getReviewSteps = function() {
return e.getEnabledSteps().filter(function(e) {
return !angular.isUndefined(e.reviewTemplate);
});
}, e.resetNav = function() {
e.goTo(e.getEnabledSteps()[0]);
}, e.currentStepNumber = function() {
return i(e.selectedStep) + 1;
}, e.getStepNumber = function(e) {
return i(e) + 1;
}, e.isNextEnabled = function() {
var t = angular.isUndefined(e.nextEnabled) || e.nextEnabled;
return e.substeps && angular.forEach(e.getEnabledSteps(), function(e) {
t = t && e.nextEnabled;
}), t;
}, e.isPrevEnabled = function() {
var t = angular.isUndefined(e.prevEnabled) || e.prevEnabled;
return e.substeps && angular.forEach(e.getEnabledSteps(), function(e) {
t = t && e.prevEnabled;
}), t;
}, e.getStepDisplayNumber = function(t) {
return e.pageNumber + String.fromCharCode(65 + i(t)) + ".";
}, e.$watch("currentStep", function(t) {
t && e.selectedStep && e.selectedStep.stepTitle !== e.currentStep && e.goTo(a(e.currentStep));
}), e.$watch("[editMode, steps.length]", function() {
var t = e.editMode;
angular.isUndefined(t) || null === t || (t ? angular.forEach(e.getEnabledSteps(), function(e) {
e.completed = !0;
}) : angular.forEach(e.getEnabledSteps(), function(t, n) {
n >= e.currentStepNumber() - 1 && (t.completed = !1);
}));
}, !0), e.prevStepsComplete = function(t) {
var n = i(t), r = !0;
return angular.forEach(e.getEnabledSteps(), function(e, t) {
t < n && (r = r && e.nextEnabled);
}), r;
}, e.goTo = function(t) {
!e.wizard.isWizardDone() && t.okToNavAway && t !== e.selectedStep && (n || e.getStepNumber(t) < e.currentStepNumber() && e.selectedStep.prevEnabled || e.prevStepsComplete(t)) && (r(), e.selectedStep = t, t && (t.selected = !0, angular.isFunction(e.selectedStep.onShow) && e.selectedStep.onShow(), o(), e.currentStep = t.stepTitle, e.selected && (e.$emit("wizard:stepChanged", {
step: t,
index: i(t)
}), n = !1)), e.wizard.updateSubStepNumber(i(e.selectedStep)));
}, e.stepClick = function(t) {
t.allowClickNav && e.goTo(t);
}, e.$watch("selected", function() {
e.selected && e.selectedStep && e.$emit("wizard:stepChanged", {
step: e.selectedStep,
index: i(e.selectedStep)
});
}), this.addStep = function(t) {
var n = _.find(e.steps, function(e) {
return e.stepPriority > t.stepPriority;
});
n ? e.steps.splice(e.steps.indexOf(n), 0, t) : e.steps.push(t);
}, this.currentStepTitle = function() {
return e.selectedStep.stepTitle;
}, this.currentStepDescription = function() {
return e.selectedStep.description;
}, this.currentStep = function() {
return e.selectedStep;
}, this.totalStepCount = function() {
return e.getEnabledSteps().length;
}, this.getEnabledSteps = function() {
return e.getEnabledSteps();
}, this.currentStepNumber = function() {
return e.currentStepNumber();
}, this.goTo = function(t) {
var n, i = e.getEnabledSteps();
n = angular.isNumber(t) ? i[t] : a(t), e.goTo(n);
}, e.wizardStep = this, e.next = function(t) {
var n = e.getEnabledSteps(), r = i(e.selectedStep);
return angular.isFunction(t) ? !t(e.selectedStep) || r !== n.length - 1 && (e.goTo(n[r + 1]), !0) : (e.selectedStep.completed = !0, r !== n.length - 1 && (e.goTo(n[r + 1]), !0));
}, e.previous = function(t) {
var n = i(e.selectedStep), r = !1;
return angular.isFunction(t) && t(e.selectedStep) && 0 !== n && (e.goTo(e.getEnabledSteps()[n - 1]), r = !0), r;
}, e.substeps && !e.onShow && (e.onShow = function() {
t(function() {
e.selectedStep || e.goTo(e.getEnabledSteps()[0]);
}, 10);
});
} ],
link: function(e, t, n) {
e.$watch(n.ngShow, function(t) {
e.pageNumber = e.wizard.getStepNumber(e);
}), e.title = e.stepTitle, e.contentStyle = e.wizard.contentStyle, e.wizard.addStep(e);
}
};
}), angular.module("patternfly.wizard").directive("pfWizardSubstep", function() {
"use strict";
return {
restrict: "A",
transclude: !0,
scope: {
stepTitle: "@",
stepId: "@",
stepPriority: "@",
nextEnabled: "=?",
prevEnabled: "=?",
okToNavAway: "=?",
allowClickNav: "=?",
disabled: "@?wzDisabled",
description: "@",
wizardData: "=",
onShow: "=?",
showReviewDetails: "@?",
reviewTemplate: "@?"
},
templateUrl: "wizard/wizard-substep.html",
controller: [ "$scope", function(e) {
var t = function(e) {
var n;
return e && (n = angular.isDefined(e.wizardStep) ? e.wizardStep : t(e.$parent)), n;
};
e.wizardStep = t(e), angular.isUndefined(e.nextEnabled) && (e.nextEnabled = !0), angular.isUndefined(e.prevEnabled) && (e.prevEnabled = !0), angular.isUndefined(e.showReviewDetails) && (e.showReviewDetails = !1), angular.isUndefined(e.stepPriority) ? e.stepPriority = 999 : e.stepPriority = parseInt(e.stepPriority), angular.isUndefined(e.okToNavAway) && (e.okToNavAway = !0), angular.isUndefined(e.allowClickNav) && (e.allowClickNav = !0), e.isPrevEnabled = function() {
var t = angular.isUndefined(e.prevEnabled) || e.prevEnabled;
return e.substeps && angular.forEach(e.getEnabledSteps(), function(e) {
t = t && e.prevEnabled;
}), t;
};
} ],
link: function(e, t, n) {
e.title = e.stepTitle, e.wizardStep.addStep(e);
}
};
}), angular.module("patternfly.card").run([ "$templateCache", function(e) {
"use strict";
e.put("card/aggregate-status/aggregate-status-card.html", '<div ng-if=!isMiniLayout class="card-pf card-pf-aggregate-status" ng-class="{\'card-pf-accented\': shouldShowTopBorder, \'card-pf-aggregate-status-alt\': isAltLayout}"><h2 class=card-pf-title><a href={{status.href}} ng-if=status.href><image ng-if=status.iconImage ng-src={{status.iconImage}} alt="" class=card-pf-icon-image></image><span class={{status.iconClass}}></span> <span class=card-pf-aggregate-status-count>{{status.count}}</span> <span class=card-pf-aggregate-status-title>{{status.title}}</span></a> <span ng-if=!status.href><image ng-if=status.iconImage ng-src={{status.iconImage}} alt="" class=card-pf-icon-image></image><span class={{status.iconClass}}></span> <span class=card-pf-aggregate-status-count>{{status.count}}</span> <span class=card-pf-aggregate-status-title>{{status.title}}</span></span></h2><div class=card-pf-body><p class=card-pf-aggregate-status-notifications><span class=card-pf-aggregate-status-notification ng-repeat="notification in status.notifications"><a href={{notification.href}} ng-if=notification.href><image ng-if=notification.iconImage ng-src={{notification.iconImage}} alt="" class=card-pf-icon-image></image><span class={{notification.iconClass}}></span>{{ notification.count }}</a> <span ng-if=!notification.href><image ng-if=notification.iconImage ng-src={{notification.iconImage}} alt="" class=card-pf-icon-image></image><span class={{notification.iconClass}}></span>{{ notification.count }}</span></span></p></div></div><div ng-if=isMiniLayout class="card-pf card-pf-aggregate-status card-pf-aggregate-status-mini" ng-class="{\'card-pf-accented\': shouldShowTopBorder}"><h2 class=card-pf-title><a ng-if=status.href href={{status.href}}><image ng-if=status.iconImage ng-src={{status.iconImage}} alt="" class=card-pf-icon-image></image><span ng-if=status.iconClass class={{status.iconClass}}></span> <span class=card-pf-aggregate-status-count>{{status.count}}</span> {{status.title}}</a> <span ng-if=!status.href><span class=card-pf-aggregate-status-count>{{status.count}}</span> {{status.title}}</span></h2><div class=card-pf-body><p ng-if="status.notification.iconImage || status.notification.iconClass || status.notification.count" class=card-pf-aggregate-status-notifications><span class=card-pf-aggregate-status-notification><a ng-if=status.notification.href href={{status.notification.href}}><image ng-if=status.notification.iconImage ng-src={{status.notification.iconImage}} alt="" class=card-pf-icon-image></image><span ng-if=status.notification.iconClass class={{status.notification.iconClass}}></span><span ng-if=status.notification.count>{{status.notification.count}}</span></a> <span ng-if=!status.notification.href><image ng-if=status.notification.iconImage ng-src={{status.notification.iconImage}} alt="" class=card-pf-icon-image></image><span ng-if=status.notification.iconClass class={{status.notification.iconClass}}></span><span ng-if=status.notification.count>{{status.notification.count}}</span></span></span></p></div></div>'), 
e.put("card/basic/card-filter.html", '<div uib-dropdown class=card-pf-time-frame-filter><button type=button uib-dropdown-toggle class="btn btn-default">{{currentFilter.label}} <span class=caret></span></button><ul uib-dropdown-menu class=dropdown-menu-right role=menu><li ng-repeat="item in filter.filters" ng-class="{\'selected\': item === currentFilter}"><a role=menuitem tabindex=-1 ng-click=filterCallBackFn(item)>{{item.label}}</a></li></ul></div>'), e.put("card/basic/card.html", "<div ng-class=\"showTopBorder === 'true' ? 'card-pf card-pf-accented' : 'card-pf'\"><div ng-if=showHeader() ng-class=\"shouldShowTitlesSeparator ? 'card-pf-heading' : 'card-pf-heading-no-bottom'\"><div ng-if=showFilterInHeader() ng-include=\"'card/basic/card-filter.html'\"></div><h2 class=card-pf-title>{{headTitle}}</h2></div><span ng-if=subTitle class=card-pf-subtitle>{{subTitle}}</span><div class=card-pf-body><div ng-transclude></div></div><div ng-if=footer class=card-pf-footer><div ng-if=showFilterInFooter() ng-include=\"'card/basic/card-filter.html'\"></div><p><a ng-if=footer.href href={{footer.href}} ng-class=\"{'card-pf-link-with-icon':footer.iconClass,'card-pf-link':!footer.iconClass}\"><span ng-if=footer.iconClass class=\"{{footer.iconClass}} card-pf-footer-text\"></span> <span ng-if=footer.text class=card-pf-footer-text>{{footer.text}}</span></a> <a ng-if=\"footer.callBackFn && !footer.href\" ng-click=footerCallBackFn() ng-class=\"{'card-pf-link-with-icon':footer.iconClass,'card-pf-link':!footer.iconClass}\"><span class=\"{{footer.iconClass}} card-pf-footer-text\" ng-if=footer.iconClass></span> <span class=card-pf-footer-text ng-if=footer.text>{{footer.text}}</span></a> <span ng-if=\"!footer.href && !footer.callBackFn\"><span ng-if=footer.iconClass class=\"{{footer.iconClass}} card-pf-footer-text\" ng-class=\"{'card-pf-link-with-icon':footer.iconClass,'card-pf-link':!footer.iconClass}\"></span> <span ng-if=footer.text class=card-pf-footer-text>{{footer.text}}</span></span></p></div></div>");
} ]), angular.module("patternfly.charts").run([ "$templateCache", function(e) {
"use strict";
e.put("charts/donut/donut-pct-chart.html", '<span><div pf-c3-chart ng-if="data.dataAvailable !== false" id={{donutChartId}} config=config></div><div pf-empty-chart ng-if="data.dataAvailable === false" chart-height=chartHeight></div></span>'), e.put("charts/empty-chart.html", '<div class=empty-chart-content ng-style=sizeStyles><span class="pficon pficon-info"></span> <span>No data available</span></div>'), e.put("charts/heatmap/heatmap-legend.html", '<ul class=heatmap-pf-legend-container><li ng-repeat="item in legendItems" class=heatmap-pf-legend-items><span class=legend-pf-color-box ng-style="{background: item.color}"></span> <span class=legend-pf-text>{{item.text}}</span></li></ul>'), e.put("charts/heatmap/heatmap.html", '<div class=heatmap-pf-container><h3>{{chartTitle}}</h3><div class=heatmap-container ng-style=containerStyles><svg class=heatmap-pf-svg></svg></div><div pf-empty-chart ng-if="chartDataAvailable === false" chart-height=height></div><div ng-if=!loadingDone class="spinner spinner-lg loading"></div><div ng-if=showLegend pf-heatmap-legend legend=legendLabels legend-colors=heatmapColorPattern></div></div>'), 
e.put("charts/line/line-chart.html", '<span><div pf-c3-chart id={{lineChartId}} ng-if="chartData.dataAvailable !== false" config=chartConfig></div><div pf-empty-chart ng-if="chartData.dataAvailable === false" chart-height=chartConfig.size.height></div></span>'), e.put("charts/sparkline/sparkline-chart.html", '<span><div pf-c3-chart ng-if="chartData.dataAvailable !== false" id={{sparklineChartId}} config=chartConfig></div><div pf-empty-chart ng-if="chartData.dataAvailable === false" chart-height=chartHeight></div></span>'), e.put("charts/trends/trends-chart.html", '<span ng-switch on=config.layout ng-class="{\'data-unavailable-pf\': chartData.dataAvailable === false}"><div ng-switch-default ng-class="{\'trend-card-large-pf\': showLargeCardLayout,\'trend-card-small-pf\': showSmallCardLayout}"><span class=trend-header-pf ng-if=config.title>{{config.title}}</span> <span ng-if=showActualValue><span class=trend-title-big-pf>{{getLatestValue()}}</span> <span class=trend-title-small-pf>{{config.units}}</span></span> <span ng-if=showPercentageValue><span class=trend-title-big-pf>{{getPercentageValue() + \'%\'}}</span> <span class=trend-title-small-pf>of {{chartData.total + \' \' + config.units}}</span></span><div pf-sparkline-chart ng-if="chartData.dataAvailable !== false" config=config chart-data=chartData chart-height=getChartHeight() show-x-axis=showXAxis show-y-axis=showYAxis></div><div pf-empty-chart ng-if="chartData.dataAvailable === false" chart-height=getChartHeight()></div><span class=trend-footer-pf ng-if=config.timeFrame>{{config.timeFrame}}</span></div><div ng-switch-when=compact class=trend-card-compact-pf><div class="row trend-row"><div class="col-sm-4 col-md-4"><div class=trend-compact-details><span ng-if=showActualValue><span class=trend-title-compact-big-pf>{{getLatestValue()}}</span> <span class=trend-title-compact-small-pf>{{config.units}}</span></span> <span ng-if=showPercentageValue><span class=trend-title-compact-big-pf>{{getPercentageValue() + \'%\'}}</span> <span class=trend-title-compact-small-pf>of {{chartData.total + \' \' + config.units}}</span></span> <span class=trend-header-compact-pf ng-if=config.title>{{config.title}}</span></div></div><div class="col-sm-8 col-md-8"><div pf-sparkline-chart ng-if="chartData.dataAvailable !== false" config=config chart-data=chartData chart-height=getChartHeight() show-x-axis=showXAxis show-y-axis=showYAxis></div><div pf-empty-chart ng-if="chartData.dataAvailable === false" chart-height=getChartHeight()></div></div></div></div><div ng-switch-when=inline class=trend-card-inline-pf><div class="row trend-row"><div class="col-sm-8 col-md-8 trend-flat-col"><div pf-sparkline-chart ng-if="chartData.dataAvailable !== false" config=config chart-data=chartData chart-height=getChartHeight() show-x-axis=showXAxis show-y-axis=showYAxis></div><div pf-empty-chart ng-if="chartData.dataAvailable === false" chart-height=getChartHeight()></div></div><div class="col-sm-4 col-md-4 trend-flat-col"><div class=trend-flat-details><div class=trend-flat-details-cell><span class=trend-title-flat-big-pf>{{getPercentageValue() + \'%\'}}</span></div><div class=trend-flat-details-cell><span class=trend-label-flat-strong-pf>{{config.trendLabel}}</span> <span class=trend-label-flat-pf>{{getLatestValue()}} of {{chartData.total + \' \' + config.units}}</span></div></div></div></div></div></span>'), 
e.put("charts/utilization-bar/utilization-bar-chart.html", '<div class=utilization-bar-chart-pf ng-class="{\'data-unavailable-pf\': chartData.dataAvailable === false}"><span ng-if="!layout || layout.type === \'regular\'"><div ng-if=chartTitle class=progress-description>{{chartTitle}}</div><div class="progress progress-label-top-right" ng-if="chartData.dataAvailable !== false"><div class=progress-bar aria-valuenow={{chartData.percentageUsed}} aria-valuemin=0 aria-valuemax=100 ng-class="{\'animate\': animate,\n           \'progress-bar-success\': isOk, \'progress-bar-danger\': isError, \'progress-bar-warning\': isWarn}" ng-style="{width:chartData.percentageUsed + \'%\'}" uib-tooltip="{{chartData.percentageUsed}}% Used"><span ng-if=chartFooter ng-bind-html=chartFooter></span> <span ng-if="!chartFooter && (!footerLabelFormat || footerLabelFormat === \'actual\')"><strong>{{chartData.used}} of {{chartData.total}} {{units}}</strong> Used</span> <span ng-if="!chartFooter && footerLabelFormat === \'percent\'"><strong>{{chartData.percentageUsed}}%</strong> Used</span></div><div class="progress-bar progress-bar-remaining" ng-style="{width:(100 - chartData.percentageUsed) + \'%\'}" uib-tooltip="{{100 - chartData.percentageUsed}}% Available"></div></div></span> <span ng-if="layout && layout.type === \'inline\'"><div class="progress-container progress-description-left progress-label-right" ng-style="{\'padding-left\':layout.titleLabelWidth, \'padding-right\':layout.footerLabelWidth}"><div ng-if=chartTitle class=progress-description ng-style="{\'max-width\':layout.titleLabelWidth}">{{chartTitle}}</div><div class=progress ng-if="chartData.dataAvailable !== false"><div class=progress-bar aria-valuenow={{chartData.percentageUsed}} aria-valuemin=0 aria-valuemax=100 ng-class="{\'animate\': animate, \'progress-bar-success\': isOk, \'progress-bar-danger\': isError, \'progress-bar-warning\': isWarn}" ng-style="{width:chartData.percentageUsed + \'%\'}" uib-tooltip="{{chartData.percentageUsed}}% Used"><span ng-if=chartFooter ng-bind-html=chartFooter></span> <span ng-if="(!chartFooter) && (!footerLabelFormat || footerLabelFormat === \'actual\')" ng-style="{\'max-width\':layout.footerLabelWidth}"><strong>{{chartData.used}} {{units}}</strong> Used</span> <span ng-if="(!chartFooter) && footerLabelFormat === \'percent\'" ng-style="{\'max-width\':layout.footerLabelWidth}"><strong>{{chartData.percentageUsed}}%</strong> Used</span></div><div class="progress-bar progress-bar-remaining" ng-style="{width:(100 - chartData.percentageUsed) + \'%\'}" uib-tooltip="{{100 - chartData.percentageUsed}}% Available"></div></div></div></span><div pf-empty-chart ng-if="chartData.dataAvailable === false" chart-height=45></div></div>'), 
e.put("charts/utilization-trend/utilization-trend-chart.html", '<div class=utilization-trend-chart-pf ng-class="{\'data-unavailable-pf\': chartData.dataAvailable === false}"><h3>{{config.title}}</h3><div class=current-values><h1 class="available-count pull-left">{{currentValue}}</h1><div class="available-text pull-left"><div><span>{{currentText}}</span></div><div><span>of {{chartData.total}} {{config.units}}</span></div></div></div><div class=donut-chart-pf><div pf-donut-pct-chart ng-if="chartData.dataAvailable !== false" config=donutConfig data=chartData center-label=centerLabel></div><div pf-empty-chart ng-if="chartData.dataAvailable === false" chart-height=231></div></div><div ng-if="chartData.dataAvailable !== false" class=sparkline-chart><div pf-sparkline-chart config=sparklineConfig chart-data=chartData chart-height=sparklineChartHeight show-x-axis=showSparklineXAxis show-y-axis=showSparklineYAxis></div></div><span class="pull-left legend-text">{{legendLeftText}}</span> <span class="pull-right legend-text">{{legendRightText}}</span></div>');
} ]), angular.module("patternfly.filters").run([ "$templateCache", function(e) {
"use strict";
e.put("filters/filter-fields.html", '<div class="filter-pf filter-fields"><div class="input-group form-group"><div uib-dropdown class=input-group-btn><button uib-dropdown-toggle type=button class="btn btn-default filter-fields" uib-tooltip="Filter by" tooltip-placement=top tooltip-append-to-body=true>{{currentField.title}} <span class=caret></span></button><ul uib-dropdown-menu><li ng-repeat="item in config.fields"><a class=filter-field role=menuitem tabindex=-1 ng-click=selectField(item)>{{item.title}}</a></li></ul></div><div ng-if="currentField.filterType !== \'select\'"><input class=form-control type={{currentField.filterType}} ng-model=config.currentValue placeholder={{currentField.placeholder}} ng-keypress="onValueKeyPress($event)"></div><div ng-if="currentField.filterType === \'select\'"><select pf-select class="form-control filter-select" id=currentValue ng-model=config.currentValue ng-options="filterValue for filterValue in currentField.filterValues" ng-change=selectValue(config.currentValue)><option value="">{{currentField.placeholder}}</option></select></div></div></div>'), 
e.put("filters/filter-results.html", '<div class=filter-pf><div class="row toolbar-pf-results"><div class=col-sm-12><h5>{{config.resultsCount}} Results</h5><p ng-if="config.appliedFilters.length > 0">Active filters:</p><ul class=list-inline><li ng-repeat="filter in config.appliedFilters"><span class="active-filter label label-info">{{filter.title}}: {{filter.value}} <a><span class="pficon pficon-close" ng-click=clearFilter(filter)></span></a></span></li></ul><p><a class=clear-filters ng-click=clearAllFilters() ng-if="config.appliedFilters.length > 0">Clear All Filters</a></p></div>\x3c!-- /col --\x3e</div>\x3c!-- /row --\x3e</div>'), e.put("filters/filter.html", "<div class=filter-pf><div pf-filter-fields config=config add-filter-fn=addFilter></div><div pf-filter-results config=config></div></div>");
} ]), angular.module("patternfly.form").run([ "$templateCache", function(e) {
"use strict";
e.put("form/datepicker/datepicker.html", '<div class="input-group date"><input class="form-control"> <span class=input-group-addon><span class="fa fa-calendar"></span></span></div>'), e.put("form/datetimepicker/datetimepicker.html", '<div class="input-group time-picker-pf"><input class="form-control"> <span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span></div>'), e.put("form/form-buttons/form-buttons.html", '<div class=form-group><div class="{{ pfButtonContainerClass }}"><div class="control-group buttons"><button class="btn btn-default" type=button ng-click=pfHandleCancel() ng-disabled=pfWorking translate>Cancel</button> <button class="btn btn-primary" ng-click="pfHandleSave(); pfWorking = true" ng-disabled="isInvalid() || pfWorking"><i class="icon-spinner icon-spin" ng-show=pfWorking></i> <span ng-show=pfWorking translate>Saving...</span> <span ng-hide=pfWorking translate>Save</span></button></div></div></div>'), e.put("form/form-group/form-group.html", '<div class=form-group ng-class="{ \'has-error\' : hasErrors() }"><label for="{{ pfField }}" class="control-label {{ pfLabelClass }}">{{ pfLabel }}</label><div class="{{ pfInputClass }}"><span ng-transclude></span> <span class=help-block ng-show=error.messages><ul><li ng-repeat="message in error.messages">{{ message }}</li></ul></span></div></div>');
} ]), angular.module("patternfly.modals").run([ "$templateCache", function(e) {
"use strict";
e.put("modals/about-modal.html", '<script type=text/ng-template id=about-modal-template.html><div class="about-modal-pf">\n    <div class="modal-header">\n      <button type="button" class="close" ng-click="close()" aria-hidden="true">\n        <span class="pficon pficon-close"></span>\n      </button>\n    </div>\n    <div class="modal-body">\n      <h1 ng-if="title">{{title}}</h1>\n      <div ng-if="productInfo && productInfo.length > 0" class="product-versions-pf">\n        <ul class="list-unstyled">\n          <li ng-repeat="info in productInfo"><strong>{{info.name}}</strong> {{info.value}}</li>\n        </ul>\n      </div>\n      <div pf-about-modal-transclude="template" class="product-versions-pf"></div>\n      <div ng-if="additionalInfo" class="product-versions-pf">{{additionalInfo}}</div>\n      <div ng-if="copyright" class="trademark-pf">{{copyright}}</div>\n    </div>\n    <div class="modal-footer">\n      <img ng-if="imgSrc" ng-src="{{imgSrc}}" alt="{{imgAlt}}"/>\n    </div>\n  </div><\/script>');
} ]), angular.module("patternfly.navigation").run([ "$templateCache", function(e) {
"use strict";
e.put("navigation/application-launcher.html", '<div><div class="applauncher-pf dropdown dropdown-kebab-pf" ng-class="{\'applauncher-pf-block-list\': !isList()}" uib-dropdown uib-keyboard-nav=true><a id=domain-switcher-{{$id}} class="dropdown-toggle drawer-pf-trigger-icon" uib-dropdown-toggle ng-class="{\'disabled\': isDisabled() || !items().length}" href><i class="fa fa-th applauncher-pf-icon" aria-hidden=true></i> <span class=applauncher-pf-title>{{label || \'Application Launcher\'}} <span class=caret aria-hidden=true></span></span></a><ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu role=menu aria-labelledby=domain-switcher-{{$id}}><li class=applauncher-pf-item role=menuitem ng-repeat="item in items()"><a class=applauncher-pf-link ng-href={{item.href}} target="{{item.target || \'_blank\'}}" title={{item.tooltip}}><i class="applauncher-pf-link-icon pficon" ng-class=item.iconClass ng-if=!hiddenIcons() aria-hidden=true></i> <span class=applauncher-pf-link-title>{{item.title}}</span></a></li></ul></div></div>'), 
e.put("navigation/vertical-navigation.html", "<div><nav class=\"navbar navbar-pf-vertical\"><div class=navbar-header><button type=button class=navbar-toggle ng-click=handleNavBarToggleClick()><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <span class=navbar-brand><img class=navbar-brand-icon ng-if=brandSrc ng-src={{brandSrc}} alt=\"{{brandAlt}}\"> <span class=navbar-brand-txt ng-if=!brandSrc>{{brandAlt}}</span></span></div><nav class=\"collapse navbar-collapse\" ng-transclude></nav><div class=nav-pf-vertical ng-class=\"{'nav-pf-persistent-secondary': persistentSecondary,\n                    'nav-pf-vertical-collapsible-menus': pinnableMenus,\n                    'hidden-icons-pf': hiddenIcons,\n                    'nav-pf-vertical-with-badges': showBadges,\n                    'secondary-visible-pf': activeSecondary,\n                    'show-mobile-secondary': showMobileSecondary,\n                    'show-mobile-tertiary': showMobileTertiary,\n                    'hover-secondary-nav-pf': hoverSecondaryNav,\n                    'hover-tertiary-nav-pf': hoverTertiaryNav,\n                    'collapsed-secondary-nav-pf': collapsedSecondaryNav,\n                    'collapsed-tertiary-nav-pf': collapsedTertiaryNav,\n                    'hidden': inMobileState,\n                    'collapsed': navCollapsed,\n                    'force-hide-secondary-nav-pf': forceHidden,\n                    'show-mobile-nav': showMobileNav}\"><ul class=list-group><li ng-repeat=\"item in items\" class=list-group-item ng-class=\"{'secondary-nav-item-pf': item.children && item.children.length > 0,\n                       'active': item.isActive,\n                       'is-hover': item.isHover,\n                       'mobile-nav-item-pf': item.isMobileItem && showMobileSecondary,\n" + '                       \'mobile-secondary-item-pf\': item.isMobileItem && showMobileTertiary}" ng-mouseenter=handlePrimaryHover(item) ng-mouseleave=handlePrimaryUnHover(item)><a ng-click="handlePrimaryClick(item, $event)"><span class={{item.iconClass}} ng-if=item.iconClass ng-class="{hidden: hiddenIcons}" uib-tooltip={{item.title}} tooltip-append-to-body=true tooltip-enable={{navCollapsed}} tooltip-placement=bottom tooltip-class=nav-pf-vertical-tooltip></span> <span class=list-group-item-value>{{item.title}}</span><div ng-if="showBadges && item.badges" class=badge-container-pf><div class="badge {{badge.badgeClass}}" ng-repeat="badge in item.badges" uib-tooltip={{badge.tooltip}} tooltip-append-to-body=true tooltip-placement=right><span ng-if="badge.count && badge.iconClass" class={{badge.iconClass}}></span> <span ng-if=badge.count>{{badge.count}}</span></div></div></a><div ng-if="item.children && item.children.length > 0" class=nav-pf-secondary-nav><div class=nav-item-pf-header><a class=secondary-collapse-toggle-pf ng-click="collapseSecondaryNav(item, $event)" ng-class="{\'collapsed\': item.secondaryCollapsed}"></a> <span>{{item.title}}</span></div><ul class=list-group><li ng-repeat="secondaryItem in item.children" class=list-group-item ng-class="{\'tertiary-nav-item-pf\': secondaryItem.children && secondaryItem.children.length > 0,\n                             \'active\': secondaryItem.isActive,\n                             \'is-hover\': secondaryItem.isHover,\n                             \'mobile-nav-item-pf\': secondaryItem.isMobileItem}" ng-mouseenter=handleSecondaryHover(secondaryItem) ng-mouseleave=handleSecondaryUnHover(secondaryItem)><a ng-click="handleSecondaryClick(item, secondaryItem, $event)"><span class=list-group-item-value>{{secondaryItem.title}}</span><div ng-if="showBadges && secondaryItem.badges" class=badge-container-pf><div class="badge {{badge.badgeClass}}" ng-repeat="badge in secondaryItem.badges" uib-tooltip={{badge.tooltip}} tooltip-append-to-body=true tooltip-placement=right><span ng-if="badge.count && badge.iconClass" class={{badge.iconClass}}></span> <span ng-if=badge.count>{{badge.count}}</span></div></div></a><div ng-if="secondaryItem.children && secondaryItem.children.length > 0" class=nav-pf-tertiary-nav><div class=nav-item-pf-header><a class=tertiary-collapse-toggle-pf ng-click="collapseTertiaryNav(secondaryItem, $event)" ng-class="{\'collapsed\': secondaryItem.tertiaryCollapsed}"></a> <span>{{secondaryItem.title}}</span></div><ul class=list-group><li ng-repeat="tertiaryItem in secondaryItem.children" class=list-group-item ng-class="{\'active\': tertiaryItem.isActive}"><a ng-click="handleTertiaryClick(item, secondaryItem, tertiaryItem, $event)"><span class=list-group-item-value>{{tertiaryItem.title}}</span><div ng-if="showBadges && tertiaryItem.badges" class=badge-container-pf><div class="badge {{badge.badgeClass}}" ng-repeat="badge in tertiaryItem.badges" uib-tooltip={{badge.tooltip}} tooltip-append-to-body=true tooltip-placement=right><span ng-if="badge.count && badge.iconClass" class={{badge.iconClass}}></span> <span ng-if=badge.count>{{badge.count}}</span></div></div></a></li></ul></div></li></ul></div></li></ul></div></nav></div>');
} ]), angular.module("patternfly.notification").run([ "$templateCache", function(e) {
"use strict";
e.put("notification/inline-notification.html", '<div class="alert alert-{{pfNotificationType}}" ng-class="{\'alert-dismissable\': pfNotificationPersistent === true}"><button ng-show=pfNotificationPersistent ng-click=$parent.notifications.remove($index) type=button class=close data-dismiss=alert aria-hidden=true><span class="pficon pficon-close"></span></button> <span class="pficon pficon-ok" ng-show="pfNotificationType === \'success\'"></span> <span class="pficon pficon-info" ng-show="pfNotificationType === \'info\'"></span> <span class="pficon pficon-error-circle-o" ng-show="pfNotificationType === \'danger\'"></span> <span class="pficon pficon-warning-triangle-o" ng-show="pfNotificationType === \'warning\'"></span> <strong>{{pfNotificationHeader}}</strong> {{pfNotificationMessage}}</div>'), e.put("notification/notification-drawer.html", '<div class=drawer-pf ng-class="{\'hide\': drawerHidden, \'drawer-pf-expanded\': drawerExpanded}"><div ng-if=drawerTitle class=drawer-pf-title><a ng-if=allowExpand class=drawer-pf-toggle-expand ng-click=toggleExpandDrawer()></a><h3 class=text-center>{{drawerTitle}}</h3></div><div ng-if=titleInclude class=drawer-pf-title ng-include src=titleInclude></div><div pf-fixed-accordion scroll-selector=.panel-body><div class=panel-group><div class="panel panel-default" ng-repeat="notificationGroup in notificationGroups track by $index"><div class=panel-heading><h4 class=panel-title><a ng-click=toggleCollapse(notificationGroup) ng-class="{collapsed: !notificationGroup.open}" ng-include src=headingInclude></a></h4><span class=panel-counter ng-include src=subheadingInclude></span></div><div class="panel-collapse collapse" ng-class="{in: notificationGroup.open}"><div class=panel-body><div class=drawer-pf-notification ng-class="{unread: notification.unread, \'expanded-notification\': drawerExpanded}" ng-repeat="notification in notificationGroup.notifications" ng-include src=notificationBodyInclude></div><div ng-if=notificationGroup.isLoading class="drawer-pf-loading text-center"><span class="spinner spinner-xs spinner-inline"></span> Loading More</div></div><div class=drawer-pf-action ng-if=actionButtonTitle><a class="btn btn-link btn-block" ng-click=actionButtonCallback(notificationGroup)>{{actionButtonTitle}}</a></div><div ng-if=notificationFooterInclude ng-include src=notificationFooterInclude></div></div></div></div></div></div>'), 
e.put("notification/notification-list.html", '<div data-ng-show="notifications.data.length > 0"><div ng-repeat="notification in notifications.data"><pf-inline-notification pf-notification-type=notification.type pf-notification-header=notification.header pf-notification-message=notification.message pf-notification-persistent=notification.isPersistent pf-notification-index=$index></pf-inline-notification></div></div>'), e.put("notification/notification.html", '<div class="alert alert-{{pfNotificationType}}"><button ng-show=pfNotificationPersistent type=button class=close ng-click=$parent.notifications.remove($index)><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button> <span class="pficon pficon-ok" ng-show="pfNotificationType === \'success\'"></span> <span class="pficon pficon-info" ng-show="pfNotificationType === \'info\'"></span> <span class="pficon pficon-error-circle-o" ng-show="pfNotificationType === \'danger\'"></span> <span class="pficon pficon-warning-triangle-o" ng-show="pfNotificationType === \'warning\'"></span> <strong>{{pfNotificationHeader}}</strong> {{pfNotificationMessage}}</div>'), 
e.put("notification/toast-notification-list.html", '<div class=toast-notifications-list-pf data-ng-show="notifications.length > 0"><div ng-repeat="notification in notifications"><div pf-toast-notification notification-type={{notification.type}} header={{notification.header}} message={{notification.message}} show-close="{{(showClose || notification.isPersistent === true) && !(notification.menuActions && notification.menuActions.length > 0)}}" close-callback=handleClose action-title={{notification.actionTitle}} action-callback=notification.actionCallback menu-actions=notification.menuActions update-viewing=handleViewingChange data=notification></div></div></div>'), e.put("notification/toast-notification.html", '<div class="toast-pf alert alert-{{notificationType}}" ng-class="{\'alert-dismissable\': showCloseButton}" ng-mouseenter=handleEnter() ng-mouseleave=handleLeave()><div uib-dropdown class="pull-right dropdown-kebab-pf" ng-if="menuActions && menuActions.length > 0"><button uib-dropdown-toggle class="btn btn-link" type=button id=dropdownKebabRight><span class="fa fa-ellipsis-v"></span></button><ul uib-dropdown-menu class=dropdown-menu-right aria-labelledby=dropdownKebabRight><li ng-repeat="menuAction in menuActions" role="{{menuAction.isSeparator === true ? \'separator\' : \'menuitem\'}}" ng-class="{\'divider\': menuAction.isSeparator === true, \'disabled\': menuAction.isDisabled === true}"><a ng-if="menuAction.isSeparator !== true" class=secondary-action title={{menuAction.title}} ng-click=handleMenuAction(menuAction)>{{menuAction.name}}</a></li></ul></div><button ng-if=showCloseButton type=button class=close aria-hidden=true ng-click=handleClose()><span class="pficon pficon-close"></span></button><div class="pull-right toast-pf-action" ng-if=actionTitle><a ng-click=handleAction()>{{actionTitle}}</a></div><span class="pficon pficon-ok" ng-if="notificationType === \'success\'"></span> <span class="pficon pficon-info" ng-if="notificationType === \'info\'"></span> <span class="pficon pficon-error-circle-o" ng-if="notificationType === \'danger\'"></span> <span class="pficon pficon-warning-triangle-o" ng-if="notificationType === \'warning\'"></span> <span ng-if=header><strong>{{header}}</strong> {{message}}</span> <span ng-if=!header>{{message}}</span></div>');
} ]), angular.module("patternfly.sort").run([ "$templateCache", function(e) {
"use strict";
e.put("sort/sort.html", '<div class=sort-pf><div uib-dropdown class=btn-group><button uib-dropdown-toggle type=button class="btn btn-default">{{config.currentField.title}} <span class=caret></span></button><ul uib-dropdown-menu><li ng-repeat="item in config.fields" ng-class="{\'selected\': item === config.currentField}"><a href=javascript:void(0); class=sort-field role=menuitem tabindex=-1 ng-click=selectField(item)>{{item.title}}</a></li></ul></div><button class="btn btn-link" type=button ng-click=changeDirection()><span class=sort-direction ng-class=getSortIconClass()></span></button></div>');
} ]), angular.module("patternfly.toolbars").run([ "$templateCache", function(e) {
"use strict";
e.put("toolbars/toolbar.html", '<div class=container-fluid><div class="row toolbar-pf"><div class=col-sm-12><form class=toolbar-pf-actions ng-class="{\'no-filter-results\': !config.filterConfig}"><div class="form-group toolbar-apf-filter"><div pf-filter-fields id={{filterDomId}}_fields config=config.filterConfig ng-if=config.filterConfig add-filter-fn=addFilter></div></div><div class=form-group><div pf-sort id={{sortDomId}} config=config.sortConfig ng-if=config.sortConfig></div></div><div class="form-group toolbar-actions" ng-if="config.actionsConfig &&\n                   ((config.actionsConfig.primaryActions && config.actionsConfig.primaryActions.length > 0) ||\n                    (config.actionsConfig.moreActions && config.actionsConfig.moreActions.length > 0) ||\n                    config.actionsConfig.actionsInclude)"><button class="btn btn-default primary-action" type=button ng-repeat="action in config.actionsConfig.primaryActions" title={{action.title}} ng-click=handleAction(action) ng-disabled="action.isDisabled === true">{{action.name}}</button><div ng-if=config.actionsConfig.actionsInclude pf-transclude class=toolbar-pf-include-actions ng-tranclude=actions></div><div uib-dropdown class=dropdown-kebab-pf ng-if="config.actionsConfig.moreActions && config.actionsConfig.moreActions.length > 0"><button uib-dropdown-toggle class="btn btn-link" type=button id={{filterDomId}}_kebab><span class="fa fa-ellipsis-v"></span></button><ul uib-dropdown-menu aria-labelledby=dropdownKebab><li ng-repeat="action in config.actionsConfig.moreActions" role="{{action.isSeparator === true ? \'separator\' : \'menuitem\'}}" ng-class="{\'divider\': action.isSeparator === true, \'disabled\': action.isDisabled === true}"><a ng-if="action.isSeparator !== true" class=secondary-action title={{action.title}} ng-click=handleAction(action)>{{action.name}}</a></li></ul></div></div><div class=toolbar-pf-action-right><div class="form-group toolbar-pf-view-selector" ng-if="config.viewsConfig && config.viewsConfig.views"><button ng-repeat="view in config.viewsConfig.viewsList" class="btn btn-link" ng-class="{\'active\': isViewSelected(view.id), \'disabled\': checkViewDisabled(view)}" title={{view.title}} ng-click=viewSelected(view.id)><i class={{view.iconClass}}></i></button></div></div></form><div pf-filter-results id={{filterDomId}_results} config=config.filterConfig ng-if=config.filterConfig></div></div>\x3c!-- /col --\x3e</div>\x3c!-- /row --\x3e</div>\x3c!-- /container --\x3e');
} ]), angular.module("patternfly.views").run([ "$templateCache", function(e) {
"use strict";
e.put("views/cardview/card-view.html", '<div class=card-view-pf><div class=card ng-repeat="item in items" ng-class="{\'pf-selectable\': selectItems, \'active\': isSelected(item), \'disabled\': checkDisabled(item)}"><div class=card-content ng-click="itemClick($event, item)" ng-dblclick="dblClick($event, item)"><div pf-transclude=parent></div></div><div class=card-check-box ng-if=config.showSelectBox><input type=checkbox value=item.selected ng-model=item.selected ng-disabled=checkDisabled(item) ng-change="checkBoxChange(item)"></div></div></div>'), e.put("views/listview/list-view.html", '<div class="list-group list-view-pf list-view-pf-view" dnd-list=items ng-class="{\'list-view-pf-dnd\': config.dragEnabled === true}"><div class=dndPlaceholder></div><div class="list-group-item {{item.rowClass}}" ng-repeat="item in items track by $index" dnd-draggable=item dnd-effect-allowed=move dnd-disable-if="config.dragEnabled !== true" dnd-dragstart=dragStart(item) dnd-moved=dragMoved() dnd-dragend=dragEnd() ng-class="{\'drag-original\': isDragOriginal(item), \'pf-selectable\': selectItems, \'active\': isSelected(item), \'disabled\': checkDisabled(item), \'list-view-pf-expand-active\': item.isExpanded}"><div class=list-group-item-header><div class=list-view-pf-dnd-drag-items ng-if="config.dragEnabled === true"><div pf-transclude=parent class=list-view-pf-main-info></div></div><div ng-class="{\'list-view-pf-dnd-original-items\': config.dragEnabled === true}"><div class=list-view-pf-expand ng-if=config.useExpandingRows><span class="fa fa-angle-right" ng-show=!item.disableRowExpansion ng-click=toggleItemExpansion(item) ng-class="{\'fa-angle-down\': item.isExpanded}"></span> <span class=pf-expand-placeholder ng-show=item.disableRowExpansion></span></div><div class=list-view-pf-checkbox ng-if=config.showSelectBox><input type=checkbox value=item.selected ng-model=item.selected ng-disabled=checkDisabled(item) ng-change="checkBoxChange(item)"></div><div class=list-view-pf-actions ng-if="(actionButtons && actionButtons.length > 0) || (menuActions && menuActions.length > 0)"><button class="btn btn-default {{actionButton.class}}" ng-repeat="actionButton in actionButtons" title={{actionButton.title}} ng-class="{\'disabled\' : checkDisabled(item) || !enableButtonForItem(actionButton, item)}" ng-click="handleButtonAction(actionButton, item)"><div ng-if=actionButton.include class=actionButton.includeClass ng-include src=actionButton.include></div><span ng-if=!actionButton.include>{{actionButton.name}}</span></button><div uib-dropdown class="{{dropdownClass}} pull-right dropdown-kebab-pf {{getMenuClassForItem(item)}} {{hideMenuForItem(item) ? \'invisible\' : \'\'}}" id=kebab_{{$index}} ng-if="menuActions && menuActions.length > 0"><button uib-dropdown-toggle class="btn btn-link" type=button id=dropdownKebabRight_{{$index}} ng-class="{\'disabled\': checkDisabled(item)}" ng-click="setupActions(item, $event)"><span class="fa fa-ellipsis-v"></span></button><ul uib-dropdown-menu class="dropdown-menu dropdown-menu-right {{$index}}" aria-labelledby=dropdownKebabRight_{{$index}}><li ng-repeat="menuAction in menuActions" ng-if="menuAction.isVisible !== false" role="{{menuAction.isSeparator === true ? \'separator\' : \'menuitem\'}}" ng-class="{\'divider\': (menuAction.isSeparator === true), \'disabled\': (menuAction.isDisabled === true)}"><a ng-if="menuAction.isSeparator !== true" title={{menuAction.title}} ng-click="handleMenuAction(menuAction, item)">{{menuAction.name}}</a></li></ul></div></div><div pf-transclude=parent class=list-view-pf-main-info ng-click="itemClick($event, item)" ng-dblclick="dblClick($event, item)"></div><div class="list-group-item-container container-fluid" ng-transclude=expandedContent ng-if="config.useExpandingRows && item.isExpanded"></div></div></div></div></div>');
} ]), angular.module("patternfly.wizard").run([ "$templateCache", function(e) {
"use strict";
e.put("wizard/wizard-review-page.html", '<div class=wizard-pf-review-page><div class=wizard-pf-review-steps><ul class=list-group><li class=list-group-item ng-repeat="reviewStep in reviewSteps track by $index"><a class=apf-form-collapse ng-class="{\'collapsed\': !reviewStep.showReviewDetails}" ng-click=toggleShowReviewDetails(reviewStep)>{{reviewStep.stepTitle}}</a><div class=wizard-pf-review-substeps ng-class="{\'collapse\': !reviewStep.showReviewDetails}"><ul class=list-group ng-if=reviewStep.substeps><li class=list-group-item ng-repeat="substep in reviewStep.getReviewSteps()"><a class=apf-form-collapse ng-class="{\'collapsed\': !substep.showReviewDetails}" ng-click=toggleShowReviewDetails(substep)><span class=wizard-pf-substep-number>{{getSubStepNumber(reviewStep, substep)}}</span> <span class=wizard-pf-substep-title>{{substep.stepTitle}}</span></a><div class=wizard-pf-review-content ng-class="{\'collapse\': !substep.showReviewDetails}"><div ng-include=substep.reviewTemplate></div></div></li></ul><div class=wizard-pf-review-content ng-if=reviewStep.reviewTemplate ng-class="{\'collapse\': !reviewStep.showReviewDetails}"><div ng-include=reviewStep.reviewTemplate></div></div></div></li></ul></div></div>'), 
e.put("wizard/wizard-step.html", '<section ng-show=selected ng-class="{current: selected, done: completed}"><div ng-if=!wizard.hideSidebar class=wizard-pf-sidebar ng-style=contentStyle ng-class=wizard.sidebarClass ng-if="substeps === true"><ul class=list-group><li class=list-group-item ng-class="{active: step.selected}" ng-repeat="step in getEnabledSteps()"><a ng-click=stepClick(step)><span class=wizard-pf-substep-number>{{getStepDisplayNumber(step)}}</span> <span class=wizard-pf-substep-title>{{step.title}}</span></a></li></ul></div><div class="wizard-pf-main {{wizard.stepClass}}" ng-style=contentStyle ng-class="{\'wizard-pf-singlestep\': !substeps || wizard.hideSidebar}"><div class=wizard-pf-contents ng-transclude></div></div></section>'), e.put("wizard/wizard-substep.html", '<subsection ng-show=selected ng-class="{current: selected, done: completed}" class=wizard-pf-step ng-transclude></subsection>'), e.put("wizard/wizard.html", '<div><div class=modal-header ng-if=!hideHeader><button type=button class="close wizard-pf-dismiss" aria-label=Close ng-click=onCancel() ng-if=!embedInPage><span aria-hidden=true>&times;</span></button><dt class=modal-title>{{title}}</dt></div><div class="modal-body wizard-pf-body clearfix">\x3c!-- step area --\x3e<div class=wizard-pf-steps ng-class="{\'invisible\': !wizardReady}"><ul class=wizard-pf-steps-indicator ng-if=!hideIndicators ng-class="{\'invisible\': !wizardReady}"><li class=wizard-pf-step ng-class="{active: step.selected}" ng-repeat="step in getEnabledSteps()" data-tabgroup="{{$index }}"><a ng-click=stepClick(step) ng-class="{\'disabled\': !allowStepIndicatorClick(step)}"><span class=wizard-pf-step-number>{{$index + 1}}</span> <span class=wizard-pf-step-title>{{step.title}}</span></a></li></ul></div>\x3c!-- loading wizard placeholder --\x3e<div ng-if=!wizardReady class=wizard-pf-main style="margin-left: 0px"><div class="wizard-pf-loading blank-slate-pf"><div class="spinner spinner-lg blank-slate-pf-icon"></div><h3 class=blank-slate-pf-main-action>{{loadingWizardTitle}}</h3><p class=blank-slate-pf-secondary-action>{{loadingSecondaryInformation}}</p></div></div><div class=wizard-pf-position-override ng-transclude></div></div><div class="modal-footer wizard-pf-footer wizard-pf-position-override" ng-class="{\'wizard-pf-footer-inline\': embedInPage}"><button pf-wiz-cancel class="btn btn-default btn-cancel wizard-pf-cancel" ng-disabled=wizardDone ng-click=onCancel() ng-if=!embedInPage>{{cancelTitle}}</button><div ng-if=!hideBackButton class=tooltip-wrapper uib-tooltip={{prevTooltip}} tooltip-placement=left><button id=backButton pf-wiz-previous class="btn btn-default" ng-disabled="!wizardReady || wizardDone || !prevEnabled || firstStep" callback=backCallback><span class="i fa fa-angular-left"></span> {{backTitle}}</button></div><div class=tooltip-wrapper uib-tooltip={{nextTooltip}} tooltip-placement=left><button id=nextButton pf-wiz-next class="btn btn-primary wizard-pf-next" ng-disabled="!wizardReady || !nextEnabled" callback=nextCallback>{{nextTitle}} <span class="i fa fa-angular-right"></span></button></div><button pf-wiz-cancel class="btn btn-default btn-cancel wizard-pf-cancel wizard-pf-cancel-inline" ng-disabled=wizardDone ng-click=onCancel() ng-if=embedInPage>{{cancelTitle}}</button></div></div>');
} ]), angular.module("gettext", []), angular.module("gettext").constant("gettext", function(e) {
return e;
}), angular.module("gettext").factory("gettextCatalog", [ "gettextPlurals", "gettextFallbackLanguage", "$http", "$cacheFactory", "$interpolate", "$rootScope", function(e, t, n, i, r, o) {
function a() {
o.$broadcast("gettextLanguageChanged");
}
var s, l = '<span id="test" title="test" class="tested">test</span>', c = angular.element("<span>" + l + "</span>").html() !== l, u = function(e) {
return s.debug && s.currentLanguage !== s.baseLanguage ? s.debugPrefix + e : e;
}, d = function(e) {
return s.showTranslatedMarkers ? s.translatedMarkerPrefix + e + s.translatedMarkerSuffix : e;
};
return s = {
debug: !1,
debugPrefix: "[MISSING]: ",
showTranslatedMarkers: !1,
translatedMarkerPrefix: "[",
translatedMarkerSuffix: "]",
strings: {},
baseLanguage: "en",
currentLanguage: "en",
cache: i("strings"),
setCurrentLanguage: function(e) {
this.currentLanguage = e, a();
},
getCurrentLanguage: function() {
return this.currentLanguage;
},
setStrings: function(t, n) {
this.strings[t] || (this.strings[t] = {});
var i = e(t, 1);
for (var r in n) {
var o = n[r];
if (c && (r = angular.element("<span>" + r + "</span>").html()), angular.isString(o) || angular.isArray(o)) {
var s = {};
s.$$noContext = o, o = s;
}
this.strings[t][r] || (this.strings[t][r] = {});
for (var l in o) {
var u = o[l];
angular.isArray(u) ? this.strings[t][r][l] = u : (this.strings[t][r][l] = [], this.strings[t][r][l][i] = u);
}
}
a();
},
getStringFormFor: function(t, n, i, r) {
return t ? (((this.strings[t] || {})[n] || {})[r || "$$noContext"] || [])[e(t, i)] : null;
},
getString: function(e, n, i) {
var o = t(this.currentLanguage);
return e = this.getStringFormFor(this.currentLanguage, e, 1, i) || this.getStringFormFor(o, e, 1, i) || u(e), e = n ? r(e)(n) : e, d(e);
},
getPlural: function(e, n, i, o, a) {
var s = t(this.currentLanguage);
return n = this.getStringFormFor(this.currentLanguage, n, e, a) || this.getStringFormFor(s, n, e, a) || u(1 === e ? n : i), o && (o.$count = e, n = r(n)(o)), d(n);
},
loadRemote: function(e) {
return n({
method: "GET",
url: e,
cache: s.cache
}).then(function(e) {
var t = e.data;
for (var n in t) s.setStrings(n, t[n]);
return e;
});
}
};
} ]), angular.module("gettext").directive("translate", [ "gettextCatalog", "$parse", "$animate", "$compile", "$window", "gettextUtil", function(e, t, n, i, r, o) {
function a(e) {
return o.lcFirst(e.replace(c, ""));
}
function s(e, t, n) {
var i = Object.keys(t).filter(function(e) {
return o.startsWith(e, c) && e !== c;
});
if (!i.length) return null;
var r = angular.extend({}, e), s = [];
return i.forEach(function(i) {
var o = e.$watch(t[i], function(e) {
var t = a(i);
r[t] = e, n(r);
});
s.push(o);
}), e.$on("$destroy", function() {
s.forEach(function(e) {
e();
});
}), r;
}
var l = parseInt((/msie (\d+)/.exec(angular.lowercase(r.navigator.userAgent)) || [])[1], 10), c = "translateParams";
return {
restrict: "AE",
terminal: !0,
compile: function(r, a) {
o.assert(!a.translatePlural || a.translateN, "translate-n", "translate-plural"), o.assert(!a.translateN || a.translatePlural, "translate-plural", "translate-n");
var c = o.trim(r.html()), u = a.translatePlural, d = a.translateContext;
return l <= 8 && "\x3c!--IE fix--\x3e" === c.slice(-13) && (c = c.slice(0, -13)), {
post: function(r, a, l) {
function h(t) {
t = t || null;
var s;
u ? ((r = f || (f = r.$new())).$count = p(r), s = e.getPlural(r.$count, c, u, t, d)) : s = e.getString(c, t, d);
var l = a.contents();
if (0 !== l.length) if (s !== o.trim(l.html())) {
var h = angular.element("<span>" + s + "</span>");
i(h.contents())(r);
var m = h.contents();
n.enter(m, a), n.leave(l);
} else g && i(l)(r);
}
var p = t(l.translateN), f = null, g = !0, m = s(r, l, h);
h(m), g = !1, l.translateN && r.$watch(l.translateN, function() {
h(m);
}), r.$on("gettextLanguageChanged", function() {
h(m);
});
}
};
}
};
} ]), angular.module("gettext").factory("gettextFallbackLanguage", function() {
var e = {}, t = /([^_]+)_[^_]+$/;
return function(n) {
if (e[n]) return e[n];
var i = t.exec(n);
return i ? (e[n] = i[1], i[1]) : null;
};
}), angular.module("gettext").filter("translate", [ "gettextCatalog", function(e) {
function t(t, n) {
return e.getString(t, null, n);
}
return t.$stateful = !0, t;
} ]), angular.module("gettext").factory("gettextPlurals", function() {
function e(e) {
return t[e] || (t[e] = e.split(/\-|_/).shift()), t[e];
}
var t = {
pt_BR: "pt_BR",
"pt-BR": "pt_BR"
};
return function(t, n) {
switch (e(t)) {
case "ay":
case "bo":
case "cgg":
case "dz":
case "fa":
case "id":
case "ja":
case "jbo":
case "ka":
case "kk":
case "km":
case "ko":
case "ky":
case "lo":
case "ms":
case "my":
case "sah":
case "su":
case "th":
case "tt":
case "ug":
case "vi":
case "wo":
case "zh":
return 0;

case "is":
return n % 10 != 1 || n % 100 == 11 ? 1 : 0;

case "jv":
return 0 != n ? 1 : 0;

case "mk":
return 1 == n || n % 10 == 1 ? 0 : 1;

case "ach":
case "ak":
case "am":
case "arn":
case "br":
case "fil":
case "fr":
case "gun":
case "ln":
case "mfe":
case "mg":
case "mi":
case "oc":
case "pt_BR":
case "tg":
case "ti":
case "tr":
case "uz":
case "wa":
case "zh":
return n > 1 ? 1 : 0;

case "lv":
return n % 10 == 1 && n % 100 != 11 ? 0 : 0 != n ? 1 : 2;

case "lt":
return n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;

case "be":
case "bs":
case "hr":
case "ru":
case "sr":
case "uk":
return n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;

case "mnk":
return 0 == n ? 0 : 1 == n ? 1 : 2;

case "ro":
return 1 == n ? 0 : 0 == n || n % 100 > 0 && n % 100 < 20 ? 1 : 2;

case "pl":
return 1 == n ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;

case "cs":
case "sk":
return 1 == n ? 0 : n >= 2 && n <= 4 ? 1 : 2;

case "sl":
return n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0;

case "mt":
return 1 == n ? 0 : 0 == n || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3;

case "gd":
return 1 == n || 11 == n ? 0 : 2 == n || 12 == n ? 1 : n > 2 && n < 20 ? 2 : 3;

case "cy":
return 1 == n ? 0 : 2 == n ? 1 : 8 != n && 11 != n ? 2 : 3;

case "kw":
return 1 == n ? 0 : 2 == n ? 1 : 3 == n ? 2 : 3;

case "ga":
return 1 == n ? 0 : 2 == n ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4;

case "ar":
return 0 == n ? 0 : 1 == n ? 1 : 2 == n ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5;

default:
return 1 != n ? 1 : 0;
}
};
}), angular.module("gettext").factory("gettextUtil", function() {
return {
trim: String.prototype.trim ? function(e) {
return "string" == typeof e ? e.trim() : e;
} : function(e) {
return "string" == typeof e ? e.replace(/^\s*/, "").replace(/\s*$/, "") : e;
},
assert: function(e, t, n) {
if (!e) throw new Error("You should add a " + t + " attribute whenever you add a " + n + " attribute.");
},
startsWith: function(e, t) {
return 0 === e.indexOf(t);
},
lcFirst: function(e) {
return e.charAt(0).toLowerCase() + e.substr(1);
}
};
}), function(e, t) {
"use strict";
"object" == typeof exports ? module.exports = t(require("./punycode"), require("./IPv6"), require("./SecondLevelDomains")) : "function" == typeof define && define.amd ? define([ "./punycode", "./IPv6", "./SecondLevelDomains" ], t) : e.URI = t(e.punycode, e.IPv6, e.SecondLevelDomains, e);
}(this, function(e, t, n, i) {
"use strict";
function r(e, t) {
var n = arguments.length >= 1, i = arguments.length >= 2;
if (!(this instanceof r)) return n ? i ? new r(e, t) : new r(e) : new r();
if (void 0 === e) {
if (n) throw new TypeError("undefined is not a valid argument for URI");
e = "undefined" != typeof location ? location.href + "" : "";
}
return this.href(e), void 0 !== t ? this.absoluteTo(t) : this;
}
function o(e) {
return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$1");
}
function a(e) {
return void 0 === e ? "Undefined" : String(Object.prototype.toString.call(e)).slice(8, -1);
}
function s(e) {
return "Array" === a(e);
}
function l(e, t) {
var n, i, r = {};
if ("RegExp" === a(t)) r = null; else if (s(t)) for (n = 0, i = t.length; n < i; n++) r[t[n]] = !0; else r[t] = !0;
for (n = 0, i = e.length; n < i; n++) (r && void 0 !== r[e[n]] || !r && t.test(e[n])) && (e.splice(n, 1), i--, n--);
return e;
}
function c(e, t) {
var n, i;
if (s(t)) {
for (n = 0, i = t.length; n < i; n++) if (!c(e, t[n])) return !1;
return !0;
}
var r = a(t);
for (n = 0, i = e.length; n < i; n++) if ("RegExp" === r) {
if ("string" == typeof e[n] && e[n].match(t)) return !0;
} else if (e[n] === t) return !0;
return !1;
}
function u(e, t) {
if (!s(e) || !s(t)) return !1;
if (e.length !== t.length) return !1;
e.sort(), t.sort();
for (var n = 0, i = e.length; n < i; n++) if (e[n] !== t[n]) return !1;
return !0;
}
function d(e) {
var t = /^\/+|\/+$/g;
return e.replace(t, "");
}
function h(e) {
return escape(e);
}
function p(e) {
return encodeURIComponent(e).replace(/[!'()*]/g, h).replace(/\*/g, "%2A");
}
function f(e) {
return function(t, n) {
return void 0 === t ? this._parts[e] || "" : (this._parts[e] = t || null, this.build(!n), this);
};
}
function g(e, t) {
return function(n, i) {
return void 0 === n ? this._parts[e] || "" : (null !== n && (n += "").charAt(0) === t && (n = n.substring(1)), this._parts[e] = n, this.build(!i), this);
};
}
var m = i && i.URI;
r.version = "1.18.0";
var v = r.prototype, y = Object.prototype.hasOwnProperty;
r._parts = function() {
return {
protocol: null,
username: null,
password: null,
hostname: null,
urn: null,
port: null,
path: null,
query: null,
fragment: null,
duplicateQueryParameters: r.duplicateQueryParameters,
escapeQuerySpace: r.escapeQuerySpace
};
}, r.duplicateQueryParameters = !1, r.escapeQuerySpace = !0, r.protocol_expression = /^[a-z][a-z0-9.+-]*$/i, r.idn_expression = /[^a-z0-9\.-]/i, r.punycode_expression = /(xn--)/i, r.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/, r.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/, 
r.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi, r.findUri = {
start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
end: /[\s\r\n]|$/,
trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/
}, r.defaultPorts = {
http: "80",
https: "443",
ftp: "21",
gopher: "70",
ws: "80",
wss: "443"
}, r.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/, r.domAttributes = {
a: "href",
blockquote: "cite",
link: "href",
base: "href",
script: "src",
form: "action",
img: "src",
area: "href",
iframe: "src",
embed: "src",
source: "src",
track: "src",
input: "src",
audio: "src",
video: "src"
}, r.getDomAttribute = function(e) {
if (e && e.nodeName) {
var t = e.nodeName.toLowerCase();
if ("input" !== t || "image" === e.type) return r.domAttributes[t];
}
}, r.encode = p, r.decode = decodeURIComponent, r.iso8859 = function() {
r.encode = escape, r.decode = unescape;
}, r.unicode = function() {
r.encode = p, r.decode = decodeURIComponent;
}, r.characters = {
pathname: {
encode: {
expression: /%(24|26|2B|2C|3B|3D|3A|40)/gi,
map: {
"%24": "$",
"%26": "&",
"%2B": "+",
"%2C": ",",
"%3B": ";",
"%3D": "=",
"%3A": ":",
"%40": "@"
}
},
decode: {
expression: /[\/\?#]/g,
map: {
"/": "%2F",
"?": "%3F",
"#": "%23"
}
}
},
reserved: {
encode: {
expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,
map: {
"%3A": ":",
"%2F": "/",
"%3F": "?",
"%23": "#",
"%5B": "[",
"%5D": "]",
"%40": "@",
"%21": "!",
"%24": "$",
"%26": "&",
"%27": "'",
"%28": "(",
"%29": ")",
"%2A": "*",
"%2B": "+",
"%2C": ",",
"%3B": ";",
"%3D": "="
}
}
},
urnpath: {
encode: {
expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,
map: {
"%21": "!",
"%24": "$",
"%27": "'",
"%28": "(",
"%29": ")",
"%2A": "*",
"%2B": "+",
"%2C": ",",
"%3B": ";",
"%3D": "=",
"%40": "@"
}
},
decode: {
expression: /[\/\?#:]/g,
map: {
"/": "%2F",
"?": "%3F",
"#": "%23",
":": "%3A"
}
}
}
}, r.encodeQuery = function(e, t) {
var n = r.encode(e + "");
return void 0 === t && (t = r.escapeQuerySpace), t ? n.replace(/%20/g, "+") : n;
}, r.decodeQuery = function(e, t) {
e += "", void 0 === t && (t = r.escapeQuerySpace);
try {
return r.decode(t ? e.replace(/\+/g, "%20") : e);
} catch (t) {
return e;
}
};
var b, w = {
encode: "encode",
decode: "decode"
}, x = function(e, t) {
return function(n) {
try {
return r[t](n + "").replace(r.characters[e][t].expression, function(n) {
return r.characters[e][t].map[n];
});
} catch (e) {
return n;
}
};
};
for (b in w) r[b + "PathSegment"] = x("pathname", w[b]), r[b + "UrnPathSegment"] = x("urnpath", w[b]);
var C = function(e, t, n) {
return function(i) {
var o;
o = n ? function(e) {
return r[t](r[n](e));
} : r[t];
for (var a = (i + "").split(e), s = 0, l = a.length; s < l; s++) a[s] = o(a[s]);
return a.join(e);
};
};
r.decodePath = C("/", "decodePathSegment"), r.decodeUrnPath = C(":", "decodeUrnPathSegment"), r.recodePath = C("/", "encodePathSegment", "decode"), r.recodeUrnPath = C(":", "encodeUrnPathSegment", "decode"), r.encodeReserved = x("reserved", "encode"), r.parse = function(e, t) {
var n;
return t || (t = {}), (n = e.indexOf("#")) > -1 && (t.fragment = e.substring(n + 1) || null, e = e.substring(0, n)), (n = e.indexOf("?")) > -1 && (t.query = e.substring(n + 1) || null, e = e.substring(0, n)), "//" === e.substring(0, 2) ? (t.protocol = null, e = e.substring(2), e = r.parseAuthority(e, t)) : (n = e.indexOf(":")) > -1 && (t.protocol = e.substring(0, n) || null, t.protocol && !t.protocol.match(r.protocol_expression) ? t.protocol = void 0 : "//" === e.substring(n + 1, n + 3) ? (e = e.substring(n + 3), e = r.parseAuthority(e, t)) : (e = e.substring(n + 1), t.urn = !0)), t.path = e, t;
}, r.parseHost = function(e, t) {
var n, i, r = (e = e.replace(/\\/g, "/")).indexOf("/");
if (-1 === r && (r = e.length), "[" === e.charAt(0)) n = e.indexOf("]"), t.hostname = e.substring(1, n) || null, t.port = e.substring(n + 2, r) || null, "/" === t.port && (t.port = null); else {
var o = e.indexOf(":"), a = e.indexOf("/"), s = e.indexOf(":", o + 1);
-1 !== s && (-1 === a || s < a) ? (t.hostname = e.substring(0, r) || null, t.port = null) : (i = e.substring(0, r).split(":"), t.hostname = i[0] || null, t.port = i[1] || null);
}
return t.hostname && "/" !== e.substring(r).charAt(0) && (r++, e = "/" + e), e.substring(r) || "/";
}, r.parseAuthority = function(e, t) {
return e = r.parseUserinfo(e, t), r.parseHost(e, t);
}, r.parseUserinfo = function(e, t) {
var n, i = e.indexOf("/"), o = e.lastIndexOf("@", i > -1 ? i : e.length - 1);
return o > -1 && (-1 === i || o < i) ? (n = e.substring(0, o).split(":"), t.username = n[0] ? r.decode(n[0]) : null, n.shift(), t.password = n[0] ? r.decode(n.join(":")) : null, e = e.substring(o + 1)) : (t.username = null, t.password = null), e;
}, r.parseQuery = function(e, t) {
if (!e) return {};
if (!(e = e.replace(/&+/g, "&").replace(/^\?*&*|&+$/g, ""))) return {};
for (var n, i, o, a = {}, s = e.split("&"), l = s.length, c = 0; c < l; c++) n = s[c].split("="), i = r.decodeQuery(n.shift(), t), o = n.length ? r.decodeQuery(n.join("="), t) : null, y.call(a, i) ? ("string" != typeof a[i] && null !== a[i] || (a[i] = [ a[i] ]), a[i].push(o)) : a[i] = o;
return a;
}, r.build = function(e) {
var t = "";
return e.protocol && (t += e.protocol + ":"), e.urn || !t && !e.hostname || (t += "//"), t += r.buildAuthority(e) || "", "string" == typeof e.path && ("/" !== e.path.charAt(0) && "string" == typeof e.hostname && (t += "/"), t += e.path), "string" == typeof e.query && e.query && (t += "?" + e.query), "string" == typeof e.fragment && e.fragment && (t += "#" + e.fragment), t;
}, r.buildHost = function(e) {
var t = "";
return e.hostname ? (r.ip6_expression.test(e.hostname) ? t += "[" + e.hostname + "]" : t += e.hostname, e.port && (t += ":" + e.port), t) : "";
}, r.buildAuthority = function(e) {
return r.buildUserinfo(e) + r.buildHost(e);
}, r.buildUserinfo = function(e) {
var t = "";
return e.username && (t += r.encode(e.username)), e.password && (t += ":" + r.encode(e.password)), t && (t += "@"), t;
}, r.buildQuery = function(e, t, n) {
var i, o, a, l, c = "";
for (o in e) if (y.call(e, o) && o) if (s(e[o])) for (i = {}, a = 0, l = e[o].length; a < l; a++) void 0 !== e[o][a] && void 0 === i[e[o][a] + ""] && (c += "&" + r.buildQueryParameter(o, e[o][a], n), !0 !== t && (i[e[o][a] + ""] = !0)); else void 0 !== e[o] && (c += "&" + r.buildQueryParameter(o, e[o], n));
return c.substring(1);
}, r.buildQueryParameter = function(e, t, n) {
return r.encodeQuery(e, n) + (null !== t ? "=" + r.encodeQuery(t, n) : "");
}, r.addQuery = function(e, t, n) {
if ("object" == typeof t) for (var i in t) y.call(t, i) && r.addQuery(e, i, t[i]); else {
if ("string" != typeof t) throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
if (void 0 === e[t]) return void (e[t] = n);
"string" == typeof e[t] && (e[t] = [ e[t] ]), s(n) || (n = [ n ]), e[t] = (e[t] || []).concat(n);
}
}, r.removeQuery = function(e, t, n) {
var i, o, c;
if (s(t)) for (i = 0, o = t.length; i < o; i++) e[t[i]] = void 0; else if ("RegExp" === a(t)) for (c in e) t.test(c) && (e[c] = void 0); else if ("object" == typeof t) for (c in t) y.call(t, c) && r.removeQuery(e, c, t[c]); else {
if ("string" != typeof t) throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");
void 0 !== n ? "RegExp" === a(n) ? !s(e[t]) && n.test(e[t]) ? e[t] = void 0 : e[t] = l(e[t], n) : e[t] !== String(n) || s(n) && 1 !== n.length ? s(e[t]) && (e[t] = l(e[t], n)) : e[t] = void 0 : e[t] = void 0;
}
}, r.hasQuery = function(e, t, n, i) {
switch (a(t)) {
case "String":
break;

case "RegExp":
for (var o in e) if (y.call(e, o) && t.test(o) && (void 0 === n || r.hasQuery(e, o, n))) return !0;
return !1;

case "Object":
for (var l in t) if (y.call(t, l) && !r.hasQuery(e, l, t[l])) return !1;
return !0;

default:
throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter");
}
switch (a(n)) {
case "Undefined":
return t in e;

case "Boolean":
return n === Boolean(s(e[t]) ? e[t].length : e[t]);

case "Function":
return !!n(e[t], t, e);

case "Array":
return !!s(e[t]) && (i ? c : u)(e[t], n);

case "RegExp":
return s(e[t]) ? !!i && c(e[t], n) : Boolean(e[t] && e[t].match(n));

case "Number":
n = String(n);

case "String":
return s(e[t]) ? !!i && c(e[t], n) : e[t] === n;

default:
throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");
}
}, r.joinPaths = function() {
for (var e = [], t = [], n = 0, i = 0; i < arguments.length; i++) {
var o = new r(arguments[i]);
e.push(o);
for (var a = o.segment(), s = 0; s < a.length; s++) "string" == typeof a[s] && t.push(a[s]), a[s] && n++;
}
if (!t.length || !n) return new r("");
var l = new r("").segment(t);
return "" !== e[0].path() && "/" !== e[0].path().slice(0, 1) || l.path("/" + l.path()), l.normalize();
}, r.commonPath = function(e, t) {
var n, i = Math.min(e.length, t.length);
for (n = 0; n < i; n++) if (e.charAt(n) !== t.charAt(n)) {
n--;
break;
}
return n < 1 ? e.charAt(0) === t.charAt(0) && "/" === e.charAt(0) ? "/" : "" : ("/" === e.charAt(n) && "/" === t.charAt(n) || (n = e.substring(0, n).lastIndexOf("/")), e.substring(0, n + 1));
}, r.withinString = function(e, t, n) {
n || (n = {});
var i = n.start || r.findUri.start, o = n.end || r.findUri.end, a = n.trim || r.findUri.trim, s = /[a-z0-9-]=["']?$/i;
for (i.lastIndex = 0; ;) {
var l = i.exec(e);
if (!l) break;
var c = l.index;
if (n.ignoreHtml) {
var u = e.slice(Math.max(c - 3, 0), c);
if (u && s.test(u)) continue;
}
var d = c + e.slice(c).search(o), h = e.slice(c, d).replace(a, "");
if (!n.ignore || !n.ignore.test(h)) {
var p = t(h, c, d = c + h.length, e);
e = e.slice(0, c) + p + e.slice(d), i.lastIndex = c + p.length;
}
}
return i.lastIndex = 0, e;
}, r.ensureValidHostname = function(t) {
if (t.match(r.invalid_hostname_characters)) {
if (!e) throw new TypeError('Hostname "' + t + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available');
if (e.toASCII(t).match(r.invalid_hostname_characters)) throw new TypeError('Hostname "' + t + '" contains characters other than [A-Z0-9.-]');
}
}, r.noConflict = function(e) {
if (e) {
var t = {
URI: this.noConflict()
};
return i.URITemplate && "function" == typeof i.URITemplate.noConflict && (t.URITemplate = i.URITemplate.noConflict()), i.IPv6 && "function" == typeof i.IPv6.noConflict && (t.IPv6 = i.IPv6.noConflict()), i.SecondLevelDomains && "function" == typeof i.SecondLevelDomains.noConflict && (t.SecondLevelDomains = i.SecondLevelDomains.noConflict()), t;
}
return i.URI === this && (i.URI = m), this;
}, v.build = function(e) {
return !0 === e ? this._deferred_build = !0 : (void 0 === e || this._deferred_build) && (this._string = r.build(this._parts), this._deferred_build = !1), this;
}, v.clone = function() {
return new r(this);
}, v.valueOf = v.toString = function() {
return this.build(!1)._string;
}, v.protocol = f("protocol"), v.username = f("username"), v.password = f("password"), v.hostname = f("hostname"), v.port = f("port"), v.query = g("query", "?"), v.fragment = g("fragment", "#"), v.search = function(e, t) {
var n = this.query(e, t);
return "string" == typeof n && n.length ? "?" + n : n;
}, v.hash = function(e, t) {
var n = this.fragment(e, t);
return "string" == typeof n && n.length ? "#" + n : n;
}, v.pathname = function(e, t) {
if (void 0 === e || !0 === e) {
var n = this._parts.path || (this._parts.hostname ? "/" : "");
return e ? (this._parts.urn ? r.decodeUrnPath : r.decodePath)(n) : n;
}
return this._parts.urn ? this._parts.path = e ? r.recodeUrnPath(e) : "" : this._parts.path = e ? r.recodePath(e) : "/", this.build(!t), this;
}, v.path = v.pathname, v.href = function(e, t) {
var n;
if (void 0 === e) return this.toString();
this._string = "", this._parts = r._parts();
var i = e instanceof r, o = "object" == typeof e && (e.hostname || e.path || e.pathname);
if (e.nodeName && (e = e[r.getDomAttribute(e)] || "", o = !1), !i && o && void 0 !== e.pathname && (e = e.toString()), "string" == typeof e || e instanceof String) this._parts = r.parse(String(e), this._parts); else {
if (!i && !o) throw new TypeError("invalid input");
var a = i ? e._parts : e;
for (n in a) y.call(this._parts, n) && (this._parts[n] = a[n]);
}
return this.build(!t), this;
}, v.is = function(e) {
var t = !1, i = !1, o = !1, a = !1, s = !1, l = !1, c = !1, u = !this._parts.urn;
switch (this._parts.hostname && (u = !1, i = r.ip4_expression.test(this._parts.hostname), o = r.ip6_expression.test(this._parts.hostname), s = (a = !(t = i || o)) && n && n.has(this._parts.hostname), l = a && r.idn_expression.test(this._parts.hostname), c = a && r.punycode_expression.test(this._parts.hostname)), e.toLowerCase()) {
case "relative":
return u;

case "absolute":
return !u;

case "domain":
case "name":
return a;

case "sld":
return s;

case "ip":
return t;

case "ip4":
case "ipv4":
case "inet4":
return i;

case "ip6":
case "ipv6":
case "inet6":
return o;

case "idn":
return l;

case "url":
return !this._parts.urn;

case "urn":
return !!this._parts.urn;

case "punycode":
return c;
}
return null;
};
var _ = v.protocol, S = v.port, $ = v.hostname;
v.protocol = function(e, t) {
if (void 0 !== e && e && !(e = e.replace(/:(\/\/)?$/, "")).match(r.protocol_expression)) throw new TypeError('Protocol "' + e + "\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");
return _.call(this, e, t);
}, v.scheme = v.protocol, v.port = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 !== e && (0 === e && (e = null), e && (":" === (e += "").charAt(0) && (e = e.substring(1)), e.match(/[^0-9]/)))) throw new TypeError('Port "' + e + '" contains characters other than [0-9]');
return S.call(this, e, t);
}, v.hostname = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 !== e) {
var n = {};
if ("/" !== r.parseHost(e, n)) throw new TypeError('Hostname "' + e + '" contains characters other than [A-Z0-9.-]');
e = n.hostname;
}
return $.call(this, e, t);
}, v.origin = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) {
var n = this.protocol();
return this.authority() ? (n ? n + "://" : "") + this.authority() : "";
}
var i = r(e);
return this.protocol(i.protocol()).authority(i.authority()).build(!t), this;
}, v.host = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) return this._parts.hostname ? r.buildHost(this._parts) : "";
if ("/" !== r.parseHost(e, this._parts)) throw new TypeError('Hostname "' + e + '" contains characters other than [A-Z0-9.-]');
return this.build(!t), this;
}, v.authority = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) return this._parts.hostname ? r.buildAuthority(this._parts) : "";
if ("/" !== r.parseAuthority(e, this._parts)) throw new TypeError('Hostname "' + e + '" contains characters other than [A-Z0-9.-]');
return this.build(!t), this;
}, v.userinfo = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) {
var n = r.buildUserinfo(this._parts);
return n ? n.substring(0, n.length - 1) : n;
}
return "@" !== e[e.length - 1] && (e += "@"), r.parseUserinfo(e, this._parts), this.build(!t), this;
}, v.resource = function(e, t) {
var n;
return void 0 === e ? this.path() + this.search() + this.hash() : (n = r.parse(e), this._parts.path = n.path, this._parts.query = n.query, this._parts.fragment = n.fragment, this.build(!t), this);
}, v.subdomain = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e) {
if (!this._parts.hostname || this.is("IP")) return "";
var n = this._parts.hostname.length - this.domain().length - 1;
return this._parts.hostname.substring(0, n) || "";
}
var i = this._parts.hostname.length - this.domain().length, a = this._parts.hostname.substring(0, i), s = new RegExp("^" + o(a));
return e && "." !== e.charAt(e.length - 1) && (e += "."), e && r.ensureValidHostname(e), this._parts.hostname = this._parts.hostname.replace(s, e), this.build(!t), this;
}, v.domain = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if ("boolean" == typeof e && (t = e, e = void 0), void 0 === e) {
if (!this._parts.hostname || this.is("IP")) return "";
var n = this._parts.hostname.match(/\./g);
if (n && n.length < 2) return this._parts.hostname;
var i = this._parts.hostname.length - this.tld(t).length - 1;
return i = this._parts.hostname.lastIndexOf(".", i - 1) + 1, this._parts.hostname.substring(i) || "";
}
if (!e) throw new TypeError("cannot set domain empty");
if (r.ensureValidHostname(e), !this._parts.hostname || this.is("IP")) this._parts.hostname = e; else {
var a = new RegExp(o(this.domain()) + "$");
this._parts.hostname = this._parts.hostname.replace(a, e);
}
return this.build(!t), this;
}, v.tld = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if ("boolean" == typeof e && (t = e, e = void 0), void 0 === e) {
if (!this._parts.hostname || this.is("IP")) return "";
var i = this._parts.hostname.lastIndexOf("."), r = this._parts.hostname.substring(i + 1);
return !0 !== t && n && n.list[r.toLowerCase()] ? n.get(this._parts.hostname) || r : r;
}
var a;
if (!e) throw new TypeError("cannot set TLD empty");
if (e.match(/[^a-zA-Z0-9-]/)) {
if (!n || !n.is(e)) throw new TypeError('TLD "' + e + '" contains characters other than [A-Z0-9]');
a = new RegExp(o(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(a, e);
} else {
if (!this._parts.hostname || this.is("IP")) throw new ReferenceError("cannot set TLD on non-domain host");
a = new RegExp(o(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(a, e);
}
return this.build(!t), this;
}, v.directory = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e || !0 === e) {
if (!this._parts.path && !this._parts.hostname) return "";
if ("/" === this._parts.path) return "/";
var n = this._parts.path.length - this.filename().length - 1, i = this._parts.path.substring(0, n) || (this._parts.hostname ? "/" : "");
return e ? r.decodePath(i) : i;
}
var a = this._parts.path.length - this.filename().length, s = this._parts.path.substring(0, a), l = new RegExp("^" + o(s));
return this.is("relative") || (e || (e = "/"), "/" !== e.charAt(0) && (e = "/" + e)), e && "/" !== e.charAt(e.length - 1) && (e += "/"), e = r.recodePath(e), this._parts.path = this._parts.path.replace(l, e), this.build(!t), this;
}, v.filename = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e || !0 === e) {
if (!this._parts.path || "/" === this._parts.path) return "";
var n = this._parts.path.lastIndexOf("/"), i = this._parts.path.substring(n + 1);
return e ? r.decodePathSegment(i) : i;
}
var a = !1;
"/" === e.charAt(0) && (e = e.substring(1)), e.match(/\.?\//) && (a = !0);
var s = new RegExp(o(this.filename()) + "$");
return e = r.recodePath(e), this._parts.path = this._parts.path.replace(s, e), a ? this.normalizePath(t) : this.build(!t), this;
}, v.suffix = function(e, t) {
if (this._parts.urn) return void 0 === e ? "" : this;
if (void 0 === e || !0 === e) {
if (!this._parts.path || "/" === this._parts.path) return "";
var n, i, a = this.filename(), s = a.lastIndexOf(".");
return -1 === s ? "" : (n = a.substring(s + 1), i = /^[a-z0-9%]+$/i.test(n) ? n : "", e ? r.decodePathSegment(i) : i);
}
"." === e.charAt(0) && (e = e.substring(1));
var l, c = this.suffix();
if (c) l = e ? new RegExp(o(c) + "$") : new RegExp(o("." + c) + "$"); else {
if (!e) return this;
this._parts.path += "." + r.recodePath(e);
}
return l && (e = r.recodePath(e), this._parts.path = this._parts.path.replace(l, e)), this.build(!t), this;
}, v.segment = function(e, t, n) {
var i = this._parts.urn ? ":" : "/", r = this.path(), o = "/" === r.substring(0, 1), a = r.split(i);
if (void 0 !== e && "number" != typeof e && (n = t, t = e, e = void 0), void 0 !== e && "number" != typeof e) throw new Error('Bad segment "' + e + '", must be 0-based integer');
if (o && a.shift(), e < 0 && (e = Math.max(a.length + e, 0)), void 0 === t) return void 0 === e ? a : a[e];
if (null === e || void 0 === a[e]) if (s(t)) {
a = [];
for (var l = 0, c = t.length; l < c; l++) (t[l].length || a.length && a[a.length - 1].length) && (a.length && !a[a.length - 1].length && a.pop(), a.push(d(t[l])));
} else (t || "string" == typeof t) && (t = d(t), "" === a[a.length - 1] ? a[a.length - 1] = t : a.push(t)); else t ? a[e] = d(t) : a.splice(e, 1);
return o && a.unshift(""), this.path(a.join(i), n);
}, v.segmentCoded = function(e, t, n) {
var i, o, a;
if ("number" != typeof e && (n = t, t = e, e = void 0), void 0 === t) {
if (i = this.segment(e, t, n), s(i)) for (o = 0, a = i.length; o < a; o++) i[o] = r.decode(i[o]); else i = void 0 !== i ? r.decode(i) : void 0;
return i;
}
if (s(t)) for (o = 0, a = t.length; o < a; o++) t[o] = r.encode(t[o]); else t = "string" == typeof t || t instanceof String ? r.encode(t) : t;
return this.segment(e, t, n);
};
var A = v.query;
return v.query = function(e, t) {
if (!0 === e) return r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
if ("function" == typeof e) {
var n = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace), i = e.call(this, n);
return this._parts.query = r.buildQuery(i || n, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!t), this;
}
return void 0 !== e && "string" != typeof e ? (this._parts.query = r.buildQuery(e, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!t), this) : A.call(this, e, t);
}, v.setQuery = function(e, t, n) {
var i = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
if ("string" == typeof e || e instanceof String) i[e] = void 0 !== t ? t : null; else {
if ("object" != typeof e) throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
for (var o in e) y.call(e, o) && (i[o] = e[o]);
}
return this._parts.query = r.buildQuery(i, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof e && (n = t), this.build(!n), this;
}, v.addQuery = function(e, t, n) {
var i = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
return r.addQuery(i, e, void 0 === t ? null : t), this._parts.query = r.buildQuery(i, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof e && (n = t), this.build(!n), this;
}, v.removeQuery = function(e, t, n) {
var i = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
return r.removeQuery(i, e, t), this._parts.query = r.buildQuery(i, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof e && (n = t), this.build(!n), this;
}, v.hasQuery = function(e, t, n) {
var i = r.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
return r.hasQuery(i, e, t, n);
}, v.setSearch = v.setQuery, v.addSearch = v.addQuery, v.removeSearch = v.removeQuery, v.hasSearch = v.hasQuery, v.normalize = function() {
return this._parts.urn ? this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build() : this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build();
}, v.normalizeProtocol = function(e) {
return "string" == typeof this._parts.protocol && (this._parts.protocol = this._parts.protocol.toLowerCase(), this.build(!e)), this;
}, v.normalizeHostname = function(n) {
return this._parts.hostname && (this.is("IDN") && e ? this._parts.hostname = e.toASCII(this._parts.hostname) : this.is("IPv6") && t && (this._parts.hostname = t.best(this._parts.hostname)), this._parts.hostname = this._parts.hostname.toLowerCase(), this.build(!n)), this;
}, v.normalizePort = function(e) {
return "string" == typeof this._parts.protocol && this._parts.port === r.defaultPorts[this._parts.protocol] && (this._parts.port = null, this.build(!e)), this;
}, v.normalizePath = function(e) {
var t = this._parts.path;
if (!t) return this;
if (this._parts.urn) return this._parts.path = r.recodeUrnPath(this._parts.path), this.build(!e), this;
if ("/" === this._parts.path) return this;
var n, i, o, a = "";
for ("/" !== (t = r.recodePath(t)).charAt(0) && (n = !0, t = "/" + t), "/.." !== t.slice(-3) && "/." !== t.slice(-2) || (t += "/"), t = t.replace(/(\/(\.\/)+)|(\/\.$)/g, "/").replace(/\/{2,}/g, "/"), n && (a = t.substring(1).match(/^(\.\.\/)+/) || "") && (a = a[0]); ;) {
if (-1 === (i = t.search(/\/\.\.(\/|$)/))) break;
0 !== i ? (-1 === (o = t.substring(0, i).lastIndexOf("/")) && (o = i), t = t.substring(0, o) + t.substring(i + 3)) : t = t.substring(3);
}
return n && this.is("relative") && (t = a + t.substring(1)), this._parts.path = t, this.build(!e), this;
}, v.normalizePathname = v.normalizePath, v.normalizeQuery = function(e) {
return "string" == typeof this._parts.query && (this._parts.query.length ? this.query(r.parseQuery(this._parts.query, this._parts.escapeQuerySpace)) : this._parts.query = null, this.build(!e)), this;
}, v.normalizeFragment = function(e) {
return this._parts.fragment || (this._parts.fragment = null, this.build(!e)), this;
}, v.normalizeSearch = v.normalizeQuery, v.normalizeHash = v.normalizeFragment, v.iso8859 = function() {
var e = r.encode, t = r.decode;
r.encode = escape, r.decode = decodeURIComponent;
try {
this.normalize();
} finally {
r.encode = e, r.decode = t;
}
return this;
}, v.unicode = function() {
var e = r.encode, t = r.decode;
r.encode = p, r.decode = unescape;
try {
this.normalize();
} finally {
r.encode = e, r.decode = t;
}
return this;
}, v.readable = function() {
var t = this.clone();
t.username("").password("").normalize();
var n = "";
if (t._parts.protocol && (n += t._parts.protocol + "://"), t._parts.hostname && (t.is("punycode") && e ? (n += e.toUnicode(t._parts.hostname), t._parts.port && (n += ":" + t._parts.port)) : n += t.host()), t._parts.hostname && t._parts.path && "/" !== t._parts.path.charAt(0) && (n += "/"), n += t.path(!0), t._parts.query) {
for (var i = "", o = 0, a = t._parts.query.split("&"), s = a.length; o < s; o++) {
var l = (a[o] || "").split("=");
i += "&" + r.decodeQuery(l[0], this._parts.escapeQuerySpace).replace(/&/g, "%26"), void 0 !== l[1] && (i += "=" + r.decodeQuery(l[1], this._parts.escapeQuerySpace).replace(/&/g, "%26"));
}
n += "?" + i.substring(1);
}
return n += r.decodeQuery(t.hash(), !0);
}, v.absoluteTo = function(e) {
var t, n, i, o = this.clone(), a = [ "protocol", "username", "password", "hostname", "port" ];
if (this._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components");
if (e instanceof r || (e = new r(e)), o._parts.protocol || (o._parts.protocol = e._parts.protocol), this._parts.hostname) return o;
for (n = 0; i = a[n]; n++) o._parts[i] = e._parts[i];
return o._parts.path ? ".." === o._parts.path.substring(-2) && (o._parts.path += "/") : (o._parts.path = e._parts.path, o._parts.query || (o._parts.query = e._parts.query)), "/" !== o.path().charAt(0) && (t = (t = e.directory()) || (0 === e.path().indexOf("/") ? "/" : ""), o._parts.path = (t ? t + "/" : "") + o._parts.path, o.normalizePath()), o.build(), o;
}, v.relativeTo = function(e) {
var t, n, i, o, a, s = this.clone().normalize();
if (s._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components");
if (e = new r(e).normalize(), t = s._parts, n = e._parts, o = s.path(), a = e.path(), "/" !== o.charAt(0)) throw new Error("URI is already relative");
if ("/" !== a.charAt(0)) throw new Error("Cannot calculate a URI relative to another relative URI");
if (t.protocol === n.protocol && (t.protocol = null), t.username !== n.username || t.password !== n.password) return s.build();
if (null !== t.protocol || null !== t.username || null !== t.password) return s.build();
if (t.hostname !== n.hostname || t.port !== n.port) return s.build();
if (t.hostname = null, t.port = null, o === a) return t.path = "", s.build();
if (!(i = r.commonPath(o, a))) return s.build();
var l = n.path.substring(i.length).replace(/[^\/]*$/, "").replace(/.*?\//g, "../");
return t.path = l + t.path.substring(i.length) || "./", s.build();
}, v.equals = function(e) {
var t, n, i, o = this.clone(), a = new r(e), l = {}, c = {}, d = {};
if (o.normalize(), a.normalize(), o.toString() === a.toString()) return !0;
if (t = o.query(), n = a.query(), o.query(""), a.query(""), o.toString() !== a.toString()) return !1;
if (t.length !== n.length) return !1;
l = r.parseQuery(t, this._parts.escapeQuerySpace), c = r.parseQuery(n, this._parts.escapeQuerySpace);
for (i in l) if (y.call(l, i)) {
if (s(l[i])) {
if (!u(l[i], c[i])) return !1;
} else if (l[i] !== c[i]) return !1;
d[i] = !0;
}
for (i in c) if (y.call(c, i) && !d[i]) return !1;
return !0;
}, v.duplicateQueryParameters = function(e) {
return this._parts.duplicateQueryParameters = !!e, this;
}, v.escapeQuerySpace = function(e) {
return this._parts.escapeQuerySpace = !!e, this;
}, r;
}), function(e, t) {
"use strict";
"object" == typeof exports ? module.exports = t(require("./URI")) : "function" == typeof define && define.amd ? define([ "./URI" ], t) : e.URITemplate = t(e.URI, e);
}(this, function(e, t) {
"use strict";
function n(e) {
return n._cache[e] ? n._cache[e] : this instanceof n ? (this.expression = e, n._cache[e] = this, this) : new n(e);
}
function i(e) {
this.data = e, this.cache = {};
}
var r = t && t.URITemplate, o = Object.prototype.hasOwnProperty, a = n.prototype, s = {
"": {
prefix: "",
separator: ",",
named: !1,
empty_name_separator: !1,
encode: "encode"
},
"+": {
prefix: "",
separator: ",",
named: !1,
empty_name_separator: !1,
encode: "encodeReserved"
},
"#": {
prefix: "#",
separator: ",",
named: !1,
empty_name_separator: !1,
encode: "encodeReserved"
},
".": {
prefix: ".",
separator: ".",
named: !1,
empty_name_separator: !1,
encode: "encode"
},
"/": {
prefix: "/",
separator: "/",
named: !1,
empty_name_separator: !1,
encode: "encode"
},
";": {
prefix: ";",
separator: ";",
named: !0,
empty_name_separator: !1,
encode: "encode"
},
"?": {
prefix: "?",
separator: "&",
named: !0,
empty_name_separator: !0,
encode: "encode"
},
"&": {
prefix: "&",
separator: "&",
named: !0,
empty_name_separator: !0,
encode: "encode"
}
};
return n._cache = {}, n.EXPRESSION_PATTERN = /\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g, n.VARIABLE_PATTERN = /^([^*:.](?:\.?[^*:.])*)((\*)|:(\d+))?$/, n.VARIABLE_NAME_PATTERN = /[^a-zA-Z0-9%_.]/, n.LITERAL_PATTERN = /[<>{}'"`^| \\]/, n.expand = function(e, t) {
var i, r, o, a = s[e.operator], l = a.named ? "Named" : "Unnamed", c = e.variables, u = [];
for (o = 0; r = c[o]; o++) if ((i = t.get(r.name)).val.length) {
if (i.type > 1 && r.maxlength) throw new Error('Invalid expression: Prefix modifier not applicable to variable "' + r.name + '"');
u.push(n["expand" + l](i, a, r.explode, r.explode && a.separator || ",", r.maxlength, r.name));
} else i.type && u.push("");
return u.length ? a.prefix + u.join(a.separator) : "";
}, n.expandNamed = function(t, n, i, r, o, a) {
var s, l, c, u = "", d = n.encode, h = n.empty_name_separator, p = !t[d].length, f = 2 === t.type ? "" : e[d](a);
for (l = 0, c = t.val.length; l < c; l++) o ? (s = e[d](t.val[l][1].substring(0, o)), 2 === t.type && (f = e[d](t.val[l][0].substring(0, o)))) : p ? (s = e[d](t.val[l][1]), 2 === t.type ? (f = e[d](t.val[l][0]), t[d].push([ f, s ])) : t[d].push([ void 0, s ])) : (s = t[d][l][1], 2 === t.type && (f = t[d][l][0])), u && (u += r), i ? u += f + (h || s ? "=" : "") + s : (l || (u += e[d](a) + (h || s ? "=" : "")), 2 === t.type && (u += f + ","), u += s);
return u;
}, n.expandUnnamed = function(t, n, i, r, o) {
var a, s, l, c = "", u = n.encode, d = n.empty_name_separator, h = !t[u].length;
for (s = 0, l = t.val.length; s < l; s++) o ? a = e[u](t.val[s][1].substring(0, o)) : h ? (a = e[u](t.val[s][1]), t[u].push([ 2 === t.type ? e[u](t.val[s][0]) : void 0, a ])) : a = t[u][s][1], c && (c += r), 2 === t.type && (c += o ? e[u](t.val[s][0].substring(0, o)) : t[u][s][0], c += i ? d || a ? "=" : "" : ","), c += a;
return c;
}, n.noConflict = function() {
return t.URITemplate === n && (t.URITemplate = r), n;
}, a.expand = function(e) {
var t = "";
this.parts && this.parts.length || this.parse(), e instanceof i || (e = new i(e));
for (var r = 0, o = this.parts.length; r < o; r++) t += "string" == typeof this.parts[r] ? this.parts[r] : n.expand(this.parts[r], e);
return t;
}, a.parse = function() {
var e, t, i, r = this.expression, o = n.EXPRESSION_PATTERN, a = n.VARIABLE_PATTERN, l = n.VARIABLE_NAME_PATTERN, c = n.LITERAL_PATTERN, u = [], d = 0, h = function(e) {
if (e.match(c)) throw new Error('Invalid Literal "' + e + '"');
return e;
};
for (o.lastIndex = 0; ;) {
if (null === (t = o.exec(r))) {
u.push(h(r.substring(d)));
break;
}
if (u.push(h(r.substring(d, t.index))), d = t.index + t[0].length, !s[t[1]]) throw new Error('Unknown Operator "' + t[1] + '" in "' + t[0] + '"');
if (!t[3]) throw new Error('Unclosed Expression "' + t[0] + '"');
for (var p = 0, f = (e = t[2].split(",")).length; p < f; p++) {
if (null === (i = e[p].match(a))) throw new Error('Invalid Variable "' + e[p] + '" in "' + t[0] + '"');
if (i[1].match(l)) throw new Error('Invalid Variable Name "' + i[1] + '" in "' + t[0] + '"');
e[p] = {
name: i[1],
explode: !!i[3],
maxlength: i[4] && parseInt(i[4], 10)
};
}
if (!e.length) throw new Error('Expression Missing Variable(s) "' + t[0] + '"');
u.push({
expression: t[0],
operator: t[1],
variables: e
});
}
return u.length || u.push(h(r)), this.parts = u, this;
}, i.prototype.get = function(e) {
var t, n, i, r = this.data, a = {
type: 0,
val: [],
encode: [],
encodeReserved: []
};
if (void 0 !== this.cache[e]) return this.cache[e];
if (this.cache[e] = a, void 0 === (i = "[object Function]" === String(Object.prototype.toString.call(r)) ? r(e) : "[object Function]" === String(Object.prototype.toString.call(r[e])) ? r[e](e) : r[e]) || null === i) return a;
if ("[object Array]" === String(Object.prototype.toString.call(i))) {
for (t = 0, n = i.length; t < n; t++) void 0 !== i[t] && null !== i[t] && a.val.push([ void 0, String(i[t]) ]);
a.val.length && (a.type = 3);
} else if ("[object Object]" === String(Object.prototype.toString.call(i))) {
for (t in i) o.call(i, t) && void 0 !== i[t] && null !== i[t] && a.val.push([ t, String(i[t]) ]);
a.val.length && (a.type = 2);
} else a.type = 1, a.val.push([ void 0, String(i) ]);
return a;
}, e.expand = function(t, i) {
var r = new n(t).expand(i);
return new e(r);
}, n;
}), function(e, t) {
"use strict";
"object" == typeof exports ? module.exports = t(require("jquery", "./URI")) : "function" == typeof define && define.amd ? define([ "jquery", "./URI" ], t) : t(e.jQuery, e.URI);
}(this, function(e, t) {
"use strict";
function n(e) {
return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$1");
}
function i(e) {
var n = e.nodeName.toLowerCase(), i = t.domAttributes[n];
if ("input" !== n || "image" === e.type) return i;
}
function r(t) {
return {
get: function(n) {
return e(n).uri()[t]();
},
set: function(n, i) {
return e(n).uri()[t](i), i;
}
};
}
function o(t, n) {
var r, o, l;
return !(!i(t) || !n) && (!(!(r = n.match(u)) || !r[5] && ":" !== r[2] && !s[r[2]]) && (l = e(t).uri(), r[5] ? l.is(r[5]) : ":" === r[2] ? (o = r[1].toLowerCase() + ":", !!s[o] && s[o](l, r[4])) : (o = r[1].toLowerCase(), !!a[o] && s[r[2]](l[o](), r[4], o))));
}
var a = {}, s = {
"=": function(e, t) {
return e === t;
},
"^=": function(e, t) {
return !!(e + "").match(new RegExp("^" + n(t), "i"));
},
"$=": function(e, t) {
return !!(e + "").match(new RegExp(n(t) + "$", "i"));
},
"*=": function(e, t, i) {
return "directory" === i && (e += "/"), !!(e + "").match(new RegExp(n(t), "i"));
},
"equals:": function(e, t) {
return e.equals(t);
},
"is:": function(e, t) {
return e.is(t);
}
};
e.each("origin authority directory domain filename fragment hash host hostname href password path pathname port protocol query resource scheme search subdomain suffix tld username".split(" "), function(t, n) {
a[n] = !0, e.attrHooks["uri:" + n] = r(n);
});
var l = {
get: function(t) {
return e(t).uri();
},
set: function(t, n) {
return e(t).uri().href(n).toString();
}
};
e.each([ "src", "href", "action", "uri", "cite" ], function(t, n) {
e.attrHooks[n] = {
set: l.set
};
}), e.attrHooks.uri.get = l.get, e.fn.uri = function(e) {
var n = this.first(), r = n.get(0), o = i(r);
if (!o) throw new Error('Element "' + r.nodeName + '" does not have either property: href, src, action, cite');
if (void 0 !== e) {
var a = n.data("uri");
if (a) return a.href(e);
e instanceof t || (e = t(e || ""));
} else {
if (e = n.data("uri")) return e;
e = t(n.attr(o) || "");
}
return e._dom_element = r, e._dom_attribute = o, e.normalize(), n.data("uri", e), e;
}, t.prototype.build = function(e) {
return this._dom_element ? (this._string = t.build(this._parts), this._deferred_build = !1, this._dom_element.setAttribute(this._dom_attribute, this._string), this._dom_element[this._dom_attribute] = this._string) : !0 === e ? this._deferred_build = !0 : (void 0 === e || this._deferred_build) && (this._string = t.build(this._parts), this._deferred_build = !1), this;
};
var c, u = /^([a-zA-Z]+)\s*([\^\$*]?=|:)\s*(['"]?)(.+)\3|^\s*([a-zA-Z0-9]+)\s*$/;
return c = e.expr.createPseudo ? e.expr.createPseudo(function(e) {
return function(t) {
return o(t, e);
};
}) : function(e, t, n) {
return o(e, n[3]);
}, e.expr[":"].uri = c, e;
}), function(e, t) {
"use strict";
"object" == typeof exports ? module.exports = t(require("./URI")) : "function" == typeof define && define.amd ? define([ "./URI" ], t) : t(e.URI);
}(this, function(e) {
"use strict";
var t = e.prototype, n = t.fragment, i = t.build;
e.fragmentPrefix = "!";
var r = e._parts;
return e._parts = function() {
var t = r();
return t.fragmentPrefix = e.fragmentPrefix, t;
}, t.fragmentPrefix = function(e) {
return this._parts.fragmentPrefix = e, this;
}, t.fragment = function(t, i) {
var r, o = this._parts.fragmentPrefix, a = this._parts.fragment || "";
return !0 === t ? (r = a.substring(0, o.length) !== o ? e("") : new e(a.substring(o.length)), this._fragmentURI = r, r._parentURI = this, r) : void 0 !== t && "string" != typeof t ? (this._fragmentURI = t, t._parentURI = t, this._parts.fragment = o + t.toString(), this.build(!i), this) : ("string" == typeof t && (this._fragmentURI = void 0), n.call(this, t, i));
}, t.build = function(e) {
var t = i.call(this, e);
return !1 !== e && this._parentURI && this._parentURI.fragment(this), t;
}, e;
}), function(e) {
"use strict";
var t = {};
t.VERSION = "0.9.14";
var n, i = {}, r = function(e, t) {
return function() {
return t.apply(e, arguments);
};
}, o = function() {
var e, t, n = arguments, i = n[0];
for (t = 1; t < n.length; t++) for (e in n[t]) e in i || !n[t].hasOwnProperty(e) || (i[e] = n[t][e]);
return i;
}, a = function(e, t) {
return {
value: e,
name: t
};
};
t.DEBUG = a(1, "DEBUG"), t.INFO = a(2, "INFO"), t.WARN = a(4, "WARN"), t.ERROR = a(8, "ERROR"), t.OFF = a(99, "OFF");
var s = function(e) {
this.context = e, this.setLevel(e.filterLevel), this.log = this.info;
};
s.prototype = {
setLevel: function(e) {
e && "value" in e && (this.context.filterLevel = e);
},
enabledFor: function(e) {
var t = this.context.filterLevel;
return e.value >= t.value;
},
debug: function() {
this.invoke(t.DEBUG, arguments);
},
info: function() {
this.invoke(t.INFO, arguments);
},
warn: function() {
this.invoke(t.WARN, arguments);
},
error: function() {
this.invoke(t.ERROR, arguments);
},
invoke: function(e, t) {
n && this.enabledFor(e) && n(t, o({
level: e
}, this.context));
}
};
var l = new s({
filterLevel: t.OFF
});
!function() {
var e = t;
e.enabledFor = r(l, l.enabledFor), e.debug = r(l, l.debug), e.info = r(l, l.info), e.warn = r(l, l.warn), e.error = r(l, l.error), e.log = e.info;
}(), t.setHandler = function(e) {
n = e;
}, t.setLevel = function(e) {
l.setLevel(e);
for (var t in i) i.hasOwnProperty(t) && i[t].setLevel(e);
}, t.get = function(e) {
return i[e] || (i[e] = new s(o({
name: e
}, l.context)));
}, t.useDefaults = function(e) {
"undefined" != typeof console && (t.setLevel(e || t.DEBUG), t.setHandler(function(e, n) {
var i = console.log;
n.name && (e[0] = "[" + n.name + "] " + e[0]), n.level === t.WARN && console.warn ? i = console.warn : n.level === t.ERROR && console.error ? i = console.error : n.level === t.INFO && console.info && (i = console.info), Function.prototype.apply.call(i, console, e);
}));
}, "function" == typeof define && define.amd ? define(t) : "undefined" != typeof module && module.exports ? module.exports = t : (t._prevLogger = e.Logger, t.noConflict = function() {
return e.Logger = t._prevLogger, t;
}, e.Logger = t);
}(this), function() {
"use strict";
if (Logger.setLevel(Logger.INFO), Logger.storagePrefix = "hawtio", Logger.oldGet = Logger.get, Logger.loggers = {}, Logger.get = function(e) {
var t = Logger.oldGet(e);
return Logger.loggers[e] = t, t;
}, window.LogBuffer = 100, "localStorage" in window) {
"logLevel" in window.localStorage || (window.localStorage.logLevel = JSON.stringify(Logger.INFO));
var e = Logger.DEBUG;
try {
e = JSON.parse(window.localStorage.logLevel);
} catch (e) {
console.error("Failed to parse log level setting: ", e);
}
if (Logger.setLevel(e), "showLog" in window.localStorage && "true" === window.localStorage.showLog) {
var t = document.getElementById("log-panel");
t && t.setAttribute("style", "bottom: 50%;");
}
if ("logBuffer" in window.localStorage) {
var n = window.localStorage.logBuffer;
window.LogBuffer = parseInt(n, 10);
} else window.localStorage.logBuffer = window.LogBuffer;
if ("childLoggers" in window.localStorage) {
var i = [];
try {
i = JSON.parse(localStorage.childLoggers);
} catch (e) {}
i.forEach(function(e) {
Logger.get(e.logger).setLevel(Logger[e.level]);
});
}
}
var r = null;
"console" in window && (window.JSConsole = window.console, r = function(e, t) {
var n = window.JSConsole, i = n.log;
if (t.name && (e[0] = "[" + t.name + "] " + e[0]), t.level === Logger.WARN && "warn" in n ? i = n.warn : t.level === Logger.ERROR && "error" in n ? i = n.error : t.level === Logger.INFO && "info" in n && (i = n.info), i && i.apply) try {
i.apply(n, e);
} catch (t) {
n.log(e);
}
}), Logger.getType = function(e) {
return Object.prototype.toString.call(e).slice(8, -1);
}, Logger.isError = function(e) {
return e && "Error" === Logger.getType(e);
}, Logger.isArray = function(e) {
return e && "Array" === Logger.getType(e);
}, Logger.isObject = function(e) {
return e && "Object" === Logger.getType(e);
}, Logger.isString = function(e) {
return e && "String" === Logger.getType(e);
}, window.logInterceptors = [], Logger.formatStackTraceString = function(e) {
var t = e.split("\n");
if (t.length > 100) {
var n = t.length - 40;
t.splice(20, n, ">>> snipped " + n + " frames <<<");
}
for (var i = '<div class="log-stack-trace">\n', r = 0; r < t.length; r++) {
var o = t[r];
0 !== o.trim().length && (i = i + "<p>" + o + "</p>\n");
}
return i += "</div>\n";
}, Logger.setHandler(function(e, t) {
var n = void 0, i = void 0, o = document.getElementById("hawtio-log-panel");
o && (i = document.getElementById("hawtio-log-panel-statements"), n = document.createElement("li"));
var a = "", s = [];
if ("ERROR" === t.level.name && 1 === e.length && Logger.isString(e[0])) {
var l = (g = e[0]).split(/\n/);
if (l.length > 1) {
var c = "Error: Jolokia-Error: ";
if (0 === l[0].search(c)) {
var u = l[0].slice(c.length);
window.JSConsole.info("msg: ", u);
try {
var d = JSON.parse(u);
(h = new Error()).message = d.error, h.stack = d.stacktrace.replace("\\t", "&nbsp;&nbsp").replace("\\n", "\n"), e = [ h ];
} catch (e) {}
} else {
var h = new Error();
h.message = l[0], h.stack = g, e = [ h ];
}
}
}
var p = !1;
if (n) {
for (var f = 0; f < e.length; f++) {
var g = e[f];
if (Logger.isArray(g) || Logger.isObject(g)) {
var m = "";
try {
m = '<pre data-language="javascript">' + JSON.stringify(g, null, 2) + "</pre>";
} catch (h) {
m = g + " (failed to convert) ";
}
a += m;
} else Logger.isError(g) ? ("message" in g && (a += g.message), "stack" in g && s.push(function() {
var e = Logger.formatStackTraceString(g.stack), n = Logger;
t.name && (n = Logger.get(t.name)), n.info("Stack trace: ", e);
})) : a += g;
}
t.name && (a = '[<span class="green">' + t.name + "</span>] " + a), n.innerHTML = a, n.className = t.level.name, o && (0 === o.scrollHeight && (p = !0), i.scrollTop > i.scrollHeight - o.scrollHeight - 200 && (p = !0));
}
!function() {
i && n && (i.appendChild(n), i.childNodes.length > parseInt(window.LogBuffer) && i.removeChild(i.firstChild), p && (i.scrollTop = i.scrollHeight)), r && r(e, t);
for (var o = window.logInterceptors, s = 0; s < o.length; s++) o[s](t.level.name, a);
}(), s.forEach(function(e) {
e();
});
});
}();

var hawtioPluginLoader = function(e) {
"use strict";
function t(e, t) {
angular.isArray(t) || (t = [ t ]);
var n = [];
return t.forEach(function(t) {
e.forEach(function(e) {
t === e && n.push(e);
});
}), n;
}
var n = Logger.get("hawtio-loader"), i = document.documentElement;
return e.log = n, e.urls = [], e.modules = [], e.tasks = [], e.setBootstrapElement = function(e) {
n.debug("Setting bootstrap element to: ", e), i = e;
}, e.getBootstrapElement = function() {
return i;
}, e.registerPreBootstrapTask = function(t, i) {
angular.isFunction(t) && (n.debug("Adding legacy task"), t = {
task: t
}), t.name || (t.name = "unnamed-task-" + (e.tasks.length + 1)), t.depends && !angular.isArray(t.depends) && "*" !== t.depends && (t.depends = [ t.depends ]), i ? e.tasks.unshift(t) : e.tasks.push(t);
}, e.addModule = function(t) {
n.debug("Adding module: " + t), e.modules.push(t);
}, e.addUrl = function(t) {
n.debug("Adding URL: " + t), e.urls.push(t);
}, e.getModules = function() {
return e.modules;
}, e.loaderCallback = null, e.setLoaderCallback = function(t) {
e.loaderCallback = t;
}, e.loadPlugins = function(i) {
var r = e.loaderCallback, o = {}, a = e.urls.length, s = a, l = function() {
var n = [], r = [], o = {
name: "Hawtio Bootstrap",
depends: "*",
runs: 0,
task: function(t) {
function i() {
r.forEach(function(t) {
e.log.info("  name: " + t.name + " depends: ", t.depends);
});
}
r.length > 0 && (e.log.info("tasks yet to run: "), i(), o.runs = o.runs + 1, e.log.info("Task list restarted : ", o.runs, " times"), 5 === o.runs ? (e.log.info("Orphaned tasks: "), i(), r.length = 0) : r.push(o)), e.log.debug("Executed tasks: ", n), t();
}
};
e.registerPreBootstrapTask(o);
var a = function() {
var o = null, s = [];
for (0 === e.tasks.length && (o = r.shift()); !o && r.length > 0; ) {
var l = r.shift();
"*" === l.depends ? e.tasks.length > 0 ? s.push(l) : o = l : (c = t(n, l.depends)).length === l.depends.length ? o = l : s.push(l);
}
if (s.length > 0 && s.forEach(function(e) {
r.push(e);
}), o || (o = e.tasks.shift()), o && o.depends && e.tasks.length > 0) if (e.log.debug("Task '" + o.name + "' has dependencies: ", o.depends), "*" === o.depends) {
if (e.tasks.length > 0) return e.log.debug("Task '" + o.name + "' wants to run after all other tasks, deferring"), r.push(o), void a();
} else {
var c = t(n, o.depends);
if (c.length != o.depends.length) return e.log.debug("Deferring task: '" + o.name + "'"), r.push(o), void a();
}
if (o) {
e.log.debug("Executing task: '" + o.name + "'");
var u = function() {
u.notFired && (u.notFired = !1, n.push(o.name), setTimeout(a, 1));
};
u.notFired = !0, o.task(u);
} else e.log.debug("All tasks executed"), setTimeout(i, 1);
};
setTimeout(a, 1);
}, c = function() {
var e = 0;
$.each(o, function(t, n) {
e += n.Scripts.length;
});
var t = e, i = function() {
$.ajaxSetup({
async: !0
}), e -= 1, r && r.scriptLoaderCallback(r, t, e + 1), 0 === e && l();
};
e > 0 ? $.each(o, function(e, t) {
t.Scripts.forEach(function(e) {
var r = t.Context + "/" + e;
n.debug("Fetching script: ", r), $.ajaxSetup({
async: !1
}), $.getScript(r).done(function(e) {
n.debug("Loaded script: ", r);
}).fail(function(e, t, i) {
n.info('Failed loading script: "', i.message, '" (<a href="', r, ":", i.lineNumber, '">', r, ":", i.lineNumber, "</a>)");
}).always(i);
});
}) : ($.ajaxSetup({
async: !0
}), l());
};
if (0 === a) c(); else {
var u = function() {
a -= 1, r && r.urlLoaderCallback(r, s, a + 1), 0 === a && c();
}, d = new RegExp(/^jolokia:/);
$.each(e.urls, function(e, t) {
if (d.test(t)) {
var i = t.split(":");
(i = i.reverse()).pop(), t = i.pop();
var r = i.reverse().join(":"), a = new Jolokia(t);
try {
var s = a.getAttribute(r, null);
$.extend(o, s);
} catch (e) {}
u();
} else n.debug("Trying url: ", t), $.get(t, function(e) {
if (angular.isString(e)) try {
e = angular.fromJson(e);
} catch (e) {
return;
}
$.extend(o, e);
}).always(function() {
u();
});
});
}
}, e.debug = function() {
n.debug("urls and modules"), n.debug(e.urls), n.debug(e.modules);
}, e.setLoaderCallback({
scriptLoaderCallback: function(e, t, i) {
n.debug("Total scripts: ", t, " Remaining: ", i);
},
urlLoaderCallback: function(e, t, i) {
n.debug("Total URLs: ", t, " Remaining: ", i);
}
}), e;
}(hawtioPluginLoader || {}, window), HawtioCore = function() {
"use strict";
function e() {}
Object.defineProperty(e.prototype, "injector", {
get: function() {
return t.UpgradeAdapter ? t.UpgradeAdapter.ng1Injector : t._injector;
},
enumerable: !0,
configurable: !0
});
var t = new e();
t.pluginName = "hawtio-core";
var n = Logger.get(t.pluginName), i = angular.module(t.pluginName, []);
i.config([ "$locationProvider", function(e) {
e.html5Mode(!0);
} ]), i.run([ "documentBase", function(e) {
n.debug("loaded");
} ]);
var r = {
length: 0,
key: function(e) {},
getItem: function(e) {
return r[e];
},
setItem: function(e, t) {
r[e] = t;
},
removeItem: function(e) {
var t = r[e];
return delete r[e], t;
},
clear: function() {}
};
return t.dummyLocalStorage = r, t.documentBase = function() {
var e = $("head").find("base"), t = "/";
return e && e.length > 0 ? t = e.attr("href") : n.warn("Document is missing a 'base' tag, defaulting to '/'"), t;
}, i.factory("localStorage", function() {
return window.localStorage || r;
}), i.factory("documentBase", function() {
return t.documentBase();
}), i.factory("viewRegistry", function() {
return {};
}), i.factory("helpRegistry", function() {
return {
addUserDoc: function() {},
addDevDoc: function() {},
addSubTopic: function() {},
getOrCreateTopic: function() {},
mapTopicName: function() {},
mapSubTopicName: function() {},
getTopics: function() {},
disableAutodiscover: function() {},
discoverHelpFiles: function() {}
};
}), i.factory("preferencesRegistry", function() {
return {
addTab: function() {},
getTab: function() {},
getTabs: function() {}
};
}), i.factory("pageTitle", function() {
return {
addTitleElement: function() {},
getTitle: function() {},
getTitleWithSeparator: function() {},
getTitleExcluding: function() {},
getTitleArrayExcluding: function() {}
};
}), i.factory("toastr", [ "$window", function(e) {
var t = e.toastr;
return t || (t = {}, e.toastr = t), t;
} ]), i.factory("HawtioDashboard", function() {
return {
hasDashboard: !1,
inDashboard: !1,
getAddLink: function() {
return "";
}
};
}), i.factory("branding", function() {
return {};
}), i.factory("userDetails", function() {
return {
logout: function() {
n.debug("Dummy userDetails.logout()");
}
};
}), hawtioPluginLoader.addModule("ng"), hawtioPluginLoader.addModule("ngSanitize"), hawtioPluginLoader.addModule(t.pluginName), $(function() {
if (jQuery.uaMatch = function(e) {
e = e.toLowerCase();
var t = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [];
return {
browser: t[1] || "",
version: t[2] || "0"
};
}, !jQuery.browser) {
var e = jQuery.uaMatch(navigator.userAgent), i = {};
e.browser && (i[e.browser] = !0, i.version = e.version), i.chrome ? i.webkit = !0 : i.webkit && (i.safari = !0), jQuery.browser = i;
}
window.ng && window.ng.upgrade && (t.UpgradeAdapter = new ng.upgrade.UpgradeAdapter()), hawtioPluginLoader.loadPlugins(function() {
if (t.injector || t.UpgradeAdapterRef) n.debug("Application already bootstrapped"); else {
var e = localStorage.hawtioCoreStrictDi || !1;
e && n.debug("Using strict dependency injection");
var i = hawtioPluginLoader.getBootstrapElement();
n.debug("Using bootstrap element: ", i), t.UpgradeAdapter ? (n.debug("ngUpgrade detected, bootstrapping in Angular 1/2 hybrid mode"), t.UpgradeAdapterRef = t.UpgradeAdapter.bootstrap(i, hawtioPluginLoader.getModules(), {
strictDi: e
}), t._injector = t.UpgradeAdapterRef.ng1Injector) : t._injector = angular.bootstrap(i, hawtioPluginLoader.getModules(), {
strictDi: e
}), n.debug("Bootstrapped application");
}
});
}), t;
}(), HawtioExtensionService;

!function(e) {
e.pluginName = "hawtio-extension-service", e.templatePath = "plugins/hawtio-extension-service/html", e._module = angular.module(e.pluginName, []), e._module.service("HawtioExtension", function() {
this._registeredExtensions = {}, this.add = function(e, t) {
this._registeredExtensions[e] || (this._registeredExtensions[e] = []), this._registeredExtensions[e].push(t);
}, this.render = function(e, t, n) {
var i = this._registeredExtensions[e];
if (i) for (var r = 0; r < i.length; r++) {
var o = i[r](n);
if (!o) return;
"string" == typeof o && (o = document.createTextNode(o)), t.append(o);
}
};
}), e._module.directive("hawtioExtension", [ "HawtioExtension", function(e) {
return {
restrict: "EA",
link: function(t, n, i) {
i.name && e.render(i.name, n, t);
}
};
} ]), hawtioPluginLoader.addModule(e.pluginName);
}(HawtioExtensionService || (HawtioExtensionService = {})), function(e, t) {
"function" == typeof define && define.amd ? define(t) : "object" == typeof exports ? module.exports = t() : e.Sifter = t();
}(this, function() {
var e = function(e, t) {
this.items = e, this.settings = t || {
diacritics: !0
};
};
e.prototype.tokenize = function(e) {
if (!(e = i(String(e || "").toLowerCase())) || !e.length) return [];
var t, n, o, s, l = [], c = e.split(/ +/);
for (t = 0, n = c.length; t < n; t++) {
if (o = r(c[t]), this.settings.diacritics) for (s in a) a.hasOwnProperty(s) && (o = o.replace(new RegExp(s, "g"), a[s]));
l.push({
string: c[t],
regex: new RegExp(o, "i")
});
}
return l;
}, e.prototype.iterator = function(e, t) {
(o(e) ? Array.prototype.forEach || function(e) {
for (var t = 0, n = this.length; t < n; t++) e(this[t], t, this);
} : function(e) {
for (var t in this) this.hasOwnProperty(t) && e(this[t], t, this);
}).apply(e, [ t ]);
}, e.prototype.getScoreFunction = function(e, t) {
var n, i, r;
e = this.prepareSearch(e, t), i = e.tokens, n = e.options.fields, r = i.length;
var o = function(e, t) {
var n, i;
return e ? (e = String(e || ""), -1 === (i = e.search(t.regex)) ? 0 : (n = t.string.length / e.length, 0 === i && (n += .5), n)) : 0;
}, a = function() {
var e = n.length;
return e ? 1 === e ? function(e, t) {
return o(t[n[0]], e);
} : function(t, i) {
for (var r = 0, a = 0; r < e; r++) a += o(i[n[r]], t);
return a / e;
} : function() {
return 0;
};
}();
return r ? 1 === r ? function(e) {
return a(i[0], e);
} : "and" === e.options.conjunction ? function(e) {
for (var t, n = 0, o = 0; n < r; n++) {
if ((t = a(i[n], e)) <= 0) return 0;
o += t;
}
return o / r;
} : function(e) {
for (var t = 0, n = 0; t < r; t++) n += a(i[t], e);
return n / r;
} : function() {
return 0;
};
}, e.prototype.getSortFunction = function(e, n) {
var i, r, o, a, s, l, c, u, d, h, p;
if (o = this, e = o.prepareSearch(e, n), p = !e.query && n.sort_empty || n.sort, d = function(e, t) {
return "$score" === e ? t.score : o.items[t.id][e];
}, s = [], p) for (i = 0, r = p.length; i < r; i++) (e.query || "$score" !== p[i].field) && s.push(p[i]);
if (e.query) {
for (h = !0, i = 0, r = s.length; i < r; i++) if ("$score" === s[i].field) {
h = !1;
break;
}
h && s.unshift({
field: "$score",
direction: "desc"
});
} else for (i = 0, r = s.length; i < r; i++) if ("$score" === s[i].field) {
s.splice(i, 1);
break;
}
for (u = [], i = 0, r = s.length; i < r; i++) u.push("desc" === s[i].direction ? -1 : 1);
return (l = s.length) ? 1 === l ? (a = s[0].field, c = u[0], function(e, n) {
return c * t(d(a, e), d(a, n));
}) : function(e, n) {
var i, r, o;
for (i = 0; i < l; i++) if (o = s[i].field, r = u[i] * t(d(o, e), d(o, n))) return r;
return 0;
} : null;
}, e.prototype.prepareSearch = function(e, t) {
if ("object" == typeof e) return e;
var i = (t = n({}, t)).fields, r = t.sort, a = t.sort_empty;
return i && !o(i) && (t.fields = [ i ]), r && !o(r) && (t.sort = [ r ]), a && !o(a) && (t.sort_empty = [ a ]), {
options: t,
query: String(e || "").toLowerCase(),
tokens: this.tokenize(e),
total: 0,
items: []
};
}, e.prototype.search = function(e, t) {
var n, i, r, o, a = this;
return i = this.prepareSearch(e, t), t = i.options, e = i.query, o = t.score || a.getScoreFunction(i), e.length ? a.iterator(a.items, function(e, r) {
n = o(e), (!1 === t.filter || n > 0) && i.items.push({
score: n,
id: r
});
}) : a.iterator(a.items, function(e, t) {
i.items.push({
score: 1,
id: t
});
}), (r = a.getSortFunction(i, t)) && i.items.sort(r), i.total = i.items.length, "number" == typeof t.limit && (i.items = i.items.slice(0, t.limit)), i;
};
var t = function(e, t) {
return "number" == typeof e && "number" == typeof t ? e > t ? 1 : e < t ? -1 : 0 : (e = s(String(e || "")), t = s(String(t || "")), e > t ? 1 : t > e ? -1 : 0);
}, n = function(e, t) {
var n, i, r, o;
for (n = 1, i = arguments.length; n < i; n++) if (o = arguments[n]) for (r in o) o.hasOwnProperty(r) && (e[r] = o[r]);
return e;
}, i = function(e) {
return (e + "").replace(/^\s+|\s+$|/g, "");
}, r = function(e) {
return (e + "").replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
}, o = Array.isArray || $ && $.isArray || function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
}, a = {
a: "[aÀÁÂÃÄÅàáâãäåĀāąĄ]",
c: "[cÇçćĆčČ]",
d: "[dđĐďĎ]",
e: "[eÈÉÊËèéêëěĚĒēęĘ]",
i: "[iÌÍÎÏìíîïĪī]",
l: "[lłŁ]",
n: "[nÑñňŇńŃ]",
o: "[oÒÓÔÕÕÖØòóôõöøŌō]",
r: "[rřŘ]",
s: "[sŠšśŚ]",
t: "[tťŤ]",
u: "[uÙÚÛÜùúûüůŮŪū]",
y: "[yŸÿýÝ]",
z: "[zŽžżŻźŹ]"
}, s = function() {
var e, t, n, i, r = "", o = {};
for (n in a) if (a.hasOwnProperty(n)) for (r += i = a[n].substring(2, a[n].length - 1), e = 0, t = i.length; e < t; e++) o[i.charAt(e)] = n;
var s = new RegExp("[" + r + "]", "g");
return function(e) {
return e.replace(s, function(e) {
return o[e];
}).toLowerCase();
};
}();
return e;
}), function(e, t) {
"function" == typeof define && define.amd ? define(t) : "object" == typeof exports ? module.exports = t() : e.MicroPlugin = t();
}(this, function() {
var e = {};
e.mixin = function(e) {
e.plugins = {}, e.prototype.initializePlugins = function(e) {
var n, i, r, o = this, a = [];
if (o.plugins = {
names: [],
settings: {},
requested: {},
loaded: {}
}, t.isArray(e)) for (n = 0, i = e.length; n < i; n++) "string" == typeof e[n] ? a.push(e[n]) : (o.plugins.settings[e[n].name] = e[n].options, a.push(e[n].name)); else if (e) for (r in e) e.hasOwnProperty(r) && (o.plugins.settings[r] = e[r], a.push(r));
for (;a.length; ) o.require(a.shift());
}, e.prototype.loadPlugin = function(t) {
var n = this, i = n.plugins, r = e.plugins[t];
if (!e.plugins.hasOwnProperty(t)) throw new Error('Unable to find "' + t + '" plugin');
i.requested[t] = !0, i.loaded[t] = r.fn.apply(n, [ n.plugins.settings[t] || {} ]), i.names.push(t);
}, e.prototype.require = function(e) {
var t = this, n = t.plugins;
if (!t.plugins.loaded.hasOwnProperty(e)) {
if (n.requested[e]) throw new Error('Plugin has circular dependency ("' + e + '")');
t.loadPlugin(e);
}
return n.loaded[e];
}, e.define = function(t, n) {
e.plugins[t] = {
name: t,
fn: n
};
};
};
var t = {
isArray: Array.isArray || function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
}
};
return e;
}), function(e, t) {
"function" == typeof define && define.amd ? define([ "jquery", "sifter", "microplugin" ], t) : "object" == typeof exports ? module.exports = t(require("jquery"), require("sifter"), require("microplugin")) : e.Selectize = t(e.jQuery, e.Sifter, e.MicroPlugin);
}(this, function(e, t, n) {
"use strict";
var i = function(e, t) {
if ("string" != typeof t || t.length) {
var n = "string" == typeof t ? new RegExp(t, "i") : t, i = function(e) {
var t = 0;
if (3 === e.nodeType) {
var r = e.data.search(n);
if (r >= 0 && e.data.length > 0) {
var o = e.data.match(n), a = document.createElement("span");
a.className = "highlight";
var s = e.splitText(r), l = (s.splitText(o[0].length), s.cloneNode(!0));
a.appendChild(l), s.parentNode.replaceChild(a, s), t = 1;
}
} else if (1 === e.nodeType && e.childNodes && !/(script|style)/i.test(e.tagName)) for (var c = 0; c < e.childNodes.length; ++c) c += i(e.childNodes[c]);
return t;
};
return e.each(function() {
i(this);
});
}
}, r = function() {};
r.prototype = {
on: function(e, t) {
this._events = this._events || {}, this._events[e] = this._events[e] || [], this._events[e].push(t);
},
off: function(e, t) {
var n = arguments.length;
return 0 === n ? delete this._events : 1 === n ? delete this._events[e] : (this._events = this._events || {}, void (e in this._events != !1 && this._events[e].splice(this._events[e].indexOf(t), 1)));
},
trigger: function(e) {
if (this._events = this._events || {}, e in this._events != !1) for (var t = 0; t < this._events[e].length; t++) this._events[e][t].apply(this, Array.prototype.slice.call(arguments, 1));
}
}, r.mixin = function(e) {
for (var t = [ "on", "off", "trigger" ], n = 0; n < t.length; n++) e.prototype[t[n]] = r.prototype[t[n]];
};
var o = /Mac/.test(navigator.userAgent), a = o ? 91 : 17, s = o ? 18 : 17, l = !/android/i.test(window.navigator.userAgent) && !!document.createElement("form").validity, c = function(e) {
return void 0 !== e;
}, u = function(e) {
return void 0 === e || null === e ? null : "boolean" == typeof e ? e ? "1" : "0" : e + "";
}, d = function(e) {
return (e + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
}, h = function(e) {
return (e + "").replace(/\$/g, "$$$$");
}, p = {};
p.before = function(e, t, n) {
var i = e[t];
e[t] = function() {
return n.apply(e, arguments), i.apply(e, arguments);
};
}, p.after = function(e, t, n) {
var i = e[t];
e[t] = function() {
var t = i.apply(e, arguments);
return n.apply(e, arguments), t;
};
};
var f = function(e) {
var t = !1;
return function() {
t || (t = !0, e.apply(this, arguments));
};
}, g = function(e, t) {
var n;
return function() {
var i = this, r = arguments;
window.clearTimeout(n), n = window.setTimeout(function() {
e.apply(i, r);
}, t);
};
}, m = function(e, t, n) {
var i, r = e.trigger, o = {};
e.trigger = function() {
var n = arguments[0];
if (-1 === t.indexOf(n)) return r.apply(e, arguments);
o[n] = arguments;
}, n.apply(e, []), e.trigger = r;
for (i in o) o.hasOwnProperty(i) && r.apply(e, o[i]);
}, v = function(e, t, n, i) {
e.on(t, n, function(t) {
for (var n = t.target; n && n.parentNode !== e[0]; ) n = n.parentNode;
return t.currentTarget = n, i.apply(this, [ t ]);
});
}, y = function(e) {
var t = {};
if ("selectionStart" in e) t.start = e.selectionStart, t.length = e.selectionEnd - t.start; else if (document.selection) {
e.focus();
var n = document.selection.createRange(), i = document.selection.createRange().text.length;
n.moveStart("character", -e.value.length), t.start = n.text.length - i, t.length = i;
}
return t;
}, b = function(e, t, n) {
var i, r, o = {};
if (n) for (i = 0, r = n.length; i < r; i++) o[n[i]] = e.css(n[i]); else o = e.css();
t.css(o);
}, w = function(t, n) {
if (!t) return 0;
var i = e("<test>").css({
position: "absolute",
top: -99999,
left: -99999,
width: "auto",
padding: 0,
whiteSpace: "pre"
}).text(t).appendTo("body");
b(n, i, [ "letterSpacing", "fontSize", "fontFamily", "fontWeight", "textTransform" ]);
var r = i.width();
return i.remove(), r;
}, x = function(e) {
var t = null, n = function(n, i) {
var r, o, a, s, l, c, u, d;
n = n || window.event || {}, i = i || {}, n.metaKey || n.altKey || (i.force || !1 !== e.data("grow")) && (r = e.val(), n.type && "keydown" === n.type.toLowerCase() && (a = (o = n.keyCode) >= 97 && o <= 122 || o >= 65 && o <= 90 || o >= 48 && o <= 57 || 32 === o, 46 === o || 8 === o ? (d = y(e[0])).length ? r = r.substring(0, d.start) + r.substring(d.start + d.length) : 8 === o && d.start ? r = r.substring(0, d.start - 1) + r.substring(d.start + 1) : 46 === o && void 0 !== d.start && (r = r.substring(0, d.start) + r.substring(d.start + 1)) : a && (c = n.shiftKey, u = String.fromCharCode(n.keyCode), r += u = c ? u.toUpperCase() : u.toLowerCase())), s = e.attr("placeholder"), !r && s && (r = s), (l = w(r, e) + 4) !== t && (t = l, e.width(l), e.triggerHandler("resize")));
};
e.on("keydown keyup update blur", n), n();
}, C = function(n, i) {
var r, o, a, s, l = this;
(s = n[0]).selectize = l;
var c = window.getComputedStyle && window.getComputedStyle(s, null);
if (a = c ? c.getPropertyValue("direction") : s.currentStyle && s.currentStyle.direction, a = a || n.parents("[dir]:first").attr("dir") || "", e.extend(l, {
order: 0,
settings: i,
$input: n,
tabIndex: n.attr("tabindex") || "",
tagType: "select" === s.tagName.toLowerCase() ? 1 : 2,
rtl: /rtl/i.test(a),
eventNS: ".selectize" + ++C.count,
highlightedValue: null,
isOpen: !1,
isDisabled: !1,
isRequired: n.is("[required]"),
isInvalid: !1,
isLocked: !1,
isFocused: !1,
isInputHidden: !1,
isSetup: !1,
isShiftDown: !1,
isCmdDown: !1,
isCtrlDown: !1,
ignoreFocus: !1,
ignoreBlur: !1,
ignoreHover: !1,
hasOptions: !1,
currentResults: null,
lastValue: "",
caretPos: 0,
loading: 0,
loadedSearches: {},
$activeOption: null,
$activeItems: [],
optgroups: {},
options: {},
userOptions: {},
items: [],
renderCache: {},
onSearchChange: null === i.loadThrottle ? l.onSearchChange : g(l.onSearchChange, i.loadThrottle)
}), l.sifter = new t(this.options, {
diacritics: i.diacritics
}), l.settings.options) {
for (r = 0, o = l.settings.options.length; r < o; r++) l.registerOption(l.settings.options[r]);
delete l.settings.options;
}
if (l.settings.optgroups) {
for (r = 0, o = l.settings.optgroups.length; r < o; r++) l.registerOptionGroup(l.settings.optgroups[r]);
delete l.settings.optgroups;
}
l.settings.mode = l.settings.mode || (1 === l.settings.maxItems ? "single" : "multi"), "boolean" != typeof l.settings.hideSelected && (l.settings.hideSelected = "multi" === l.settings.mode), l.initializePlugins(l.settings.plugins), l.setupCallbacks(), l.setupTemplates(), l.setup();
};
return r.mixin(C), n.mixin(C), e.extend(C.prototype, {
setup: function() {
var t, n, i, r, c, u, d, h, p, f = this, g = f.settings, m = f.eventNS, y = e(window), b = e(document), w = f.$input;
if (d = f.settings.mode, h = w.attr("class") || "", t = e("<div>").addClass(g.wrapperClass).addClass(h).addClass(d), n = e("<div>").addClass(g.inputClass).addClass("items").appendTo(t), i = e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex", w.is(":disabled") ? "-1" : f.tabIndex), u = e(g.dropdownParent || t), r = e("<div>").addClass(g.dropdownClass).addClass(d).hide().appendTo(u), c = e("<div>").addClass(g.dropdownContentClass).appendTo(r), f.settings.copyClassesToDropdown && r.addClass(h), t.css({
width: w[0].style.width
}), f.plugins.names.length && (p = "plugin-" + f.plugins.names.join(" plugin-"), t.addClass(p), r.addClass(p)), (null === g.maxItems || g.maxItems > 1) && 1 === f.tagType && w.attr("multiple", "multiple"), f.settings.placeholder && i.attr("placeholder", g.placeholder), !f.settings.splitOn && f.settings.delimiter) {
var C = f.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
f.settings.splitOn = new RegExp("\\s*" + C + "+\\s*");
}
w.attr("autocorrect") && i.attr("autocorrect", w.attr("autocorrect")), w.attr("autocapitalize") && i.attr("autocapitalize", w.attr("autocapitalize")), f.$wrapper = t, f.$control = n, f.$control_input = i, f.$dropdown = r, f.$dropdown_content = c, r.on("mouseenter", "[data-selectable]", function() {
return f.onOptionHover.apply(f, arguments);
}), r.on("mousedown click", "[data-selectable]", function() {
return f.onOptionSelect.apply(f, arguments);
}), v(n, "mousedown", "*:not(input)", function() {
return f.onItemSelect.apply(f, arguments);
}), x(i), n.on({
mousedown: function() {
return f.onMouseDown.apply(f, arguments);
},
click: function() {
return f.onClick.apply(f, arguments);
}
}), i.on({
mousedown: function(e) {
e.stopPropagation();
},
keydown: function() {
return f.onKeyDown.apply(f, arguments);
},
keyup: function() {
return f.onKeyUp.apply(f, arguments);
},
keypress: function() {
return f.onKeyPress.apply(f, arguments);
},
resize: function() {
f.positionDropdown.apply(f, []);
},
blur: function() {
return f.onBlur.apply(f, arguments);
},
focus: function() {
return f.ignoreBlur = !1, f.onFocus.apply(f, arguments);
},
paste: function() {
return f.onPaste.apply(f, arguments);
}
}), b.on("keydown" + m, function(e) {
f.isCmdDown = e[o ? "metaKey" : "ctrlKey"], f.isCtrlDown = e[o ? "altKey" : "ctrlKey"], f.isShiftDown = e.shiftKey;
}), b.on("keyup" + m, function(e) {
e.keyCode === s && (f.isCtrlDown = !1), 16 === e.keyCode && (f.isShiftDown = !1), e.keyCode === a && (f.isCmdDown = !1);
}), b.on("mousedown" + m, function(e) {
if (f.isFocused) {
if (e.target === f.$dropdown[0] || e.target.parentNode === f.$dropdown[0]) return !1;
f.$control.has(e.target).length || e.target === f.$control[0] || f.blur(e.target);
}
}), y.on([ "scroll" + m, "resize" + m ].join(" "), function() {
f.isOpen && f.positionDropdown.apply(f, arguments);
}), y.on("mousemove" + m, function() {
f.ignoreHover = !1;
}), this.revertSettings = {
$children: w.children().detach(),
tabindex: w.attr("tabindex")
}, w.attr("tabindex", -1).hide().after(f.$wrapper), e.isArray(g.items) && (f.setValue(g.items), delete g.items), l && w.on("invalid" + m, function(e) {
e.preventDefault(), f.isInvalid = !0, f.refreshState();
}), f.updateOriginalInput(), f.refreshItems(), f.refreshState(), f.updatePlaceholder(), f.isSetup = !0, w.is(":disabled") && f.disable(), f.on("change", this.onChange), w.data("selectize", f), w.addClass("selectized"), f.trigger("initialize"), !0 === g.preload && f.onSearchChange("");
},
setupTemplates: function() {
var t = this, n = t.settings.labelField, i = t.settings.optgroupLabelField, r = {
optgroup: function(e) {
return '<div class="optgroup">' + e.html + "</div>";
},
optgroup_header: function(e, t) {
return '<div class="optgroup-header">' + t(e[i]) + "</div>";
},
option: function(e, t) {
return '<div class="option">' + t(e[n]) + "</div>";
},
item: function(e, t) {
return '<div class="item">' + t(e[n]) + "</div>";
},
option_create: function(e, t) {
return '<div class="create">Add <strong>' + t(e.input) + "</strong>&hellip;</div>";
}
};
t.settings.render = e.extend({}, r, t.settings.render);
},
setupCallbacks: function() {
var e, t, n = {
initialize: "onInitialize",
change: "onChange",
item_add: "onItemAdd",
item_remove: "onItemRemove",
clear: "onClear",
option_add: "onOptionAdd",
option_remove: "onOptionRemove",
option_clear: "onOptionClear",
optgroup_add: "onOptionGroupAdd",
optgroup_remove: "onOptionGroupRemove",
optgroup_clear: "onOptionGroupClear",
dropdown_open: "onDropdownOpen",
dropdown_close: "onDropdownClose",
type: "onType",
load: "onLoad",
focus: "onFocus",
blur: "onBlur"
};
for (e in n) n.hasOwnProperty(e) && (t = this.settings[n[e]]) && this.on(e, t);
},
onClick: function(e) {
var t = this;
t.isFocused || (t.focus(), e.preventDefault());
},
onMouseDown: function(t) {
var n = this, i = t.isDefaultPrevented();
e(t.target);
if (n.isFocused) {
if (t.target !== n.$control_input[0]) return "single" === n.settings.mode ? n.isOpen ? n.close() : n.open() : i || n.setActiveItem(null), !1;
} else i || window.setTimeout(function() {
n.focus();
}, 0);
},
onChange: function() {
this.$input.trigger("change");
},
onPaste: function(t) {
var n = this;
n.isFull() || n.isInputHidden || n.isLocked ? t.preventDefault() : n.settings.splitOn && setTimeout(function() {
for (var t = e.trim(n.$control_input.val() || "").split(n.settings.splitOn), i = 0, r = t.length; i < r; i++) n.createItem(t[i]);
}, 0);
},
onKeyPress: function(e) {
if (this.isLocked) return e && e.preventDefault();
var t = String.fromCharCode(e.keyCode || e.which);
return this.settings.create && "multi" === this.settings.mode && t === this.settings.delimiter ? (this.createItem(), e.preventDefault(), !1) : void 0;
},
onKeyDown: function(e) {
e.target, this.$control_input[0];
var t = this;
if (t.isLocked) 9 !== e.keyCode && e.preventDefault(); else {
switch (e.keyCode) {
case 65:
if (t.isCmdDown) return void t.selectAll();
break;

case 27:
return void (t.isOpen && (e.preventDefault(), e.stopPropagation(), t.close()));

case 78:
if (!e.ctrlKey || e.altKey) break;

case 40:
if (!t.isOpen && t.hasOptions) t.open(); else if (t.$activeOption) {
t.ignoreHover = !0;
var n = t.getAdjacentOption(t.$activeOption, 1);
n.length && t.setActiveOption(n, !0, !0);
}
return void e.preventDefault();

case 80:
if (!e.ctrlKey || e.altKey) break;

case 38:
if (t.$activeOption) {
t.ignoreHover = !0;
var i = t.getAdjacentOption(t.$activeOption, -1);
i.length && t.setActiveOption(i, !0, !0);
}
return void e.preventDefault();

case 13:
return void (t.isOpen && t.$activeOption && (t.onOptionSelect({
currentTarget: t.$activeOption
}), e.preventDefault()));

case 37:
return void t.advanceSelection(-1, e);

case 39:
return void t.advanceSelection(1, e);

case 9:
return t.settings.selectOnTab && t.isOpen && t.$activeOption && (t.onOptionSelect({
currentTarget: t.$activeOption
}), t.isFull() || e.preventDefault()), void (t.settings.create && t.createItem() && e.preventDefault());

case 8:
case 46:
return void t.deleteSelection(e);
}
!t.isFull() && !t.isInputHidden || (o ? e.metaKey : e.ctrlKey) || e.preventDefault();
}
},
onKeyUp: function(e) {
var t = this;
if (t.isLocked) return e && e.preventDefault();
var n = t.$control_input.val() || "";
t.lastValue !== n && (t.lastValue = n, t.onSearchChange(n), t.refreshOptions(), t.trigger("type", n));
},
onSearchChange: function(e) {
var t = this, n = t.settings.load;
n && (t.loadedSearches.hasOwnProperty(e) || (t.loadedSearches[e] = !0, t.load(function(i) {
n.apply(t, [ e, i ]);
})));
},
onFocus: function(e) {
var t = this, n = t.isFocused;
if (t.isDisabled) return t.blur(), e && e.preventDefault(), !1;
t.ignoreFocus || (t.isFocused = !0, "focus" === t.settings.preload && t.onSearchChange(""), n || t.trigger("focus"), t.$activeItems.length || (t.showInput(), t.setActiveItem(null), t.refreshOptions(!!t.settings.openOnFocus)), t.refreshState());
},
onBlur: function(e, t) {
var n = this;
if (n.isFocused && (n.isFocused = !1, !n.ignoreFocus)) {
if (!n.ignoreBlur && document.activeElement === n.$dropdown_content[0]) return n.ignoreBlur = !0, void n.onFocus(e);
var i = function() {
n.close(), n.setTextboxValue(""), n.setActiveItem(null), n.setActiveOption(null), n.setCaret(n.items.length), n.refreshState(), (t || document.body).focus(), n.ignoreFocus = !1, n.trigger("blur");
};
n.ignoreFocus = !0, n.settings.create && n.settings.createOnBlur ? n.createItem(null, !1, i) : i();
}
},
onOptionHover: function(e) {
this.ignoreHover || this.setActiveOption(e.currentTarget, !1);
},
onOptionSelect: function(t) {
var n, i, r = this;
t.preventDefault && (t.preventDefault(), t.stopPropagation()), (i = e(t.currentTarget)).hasClass("create") ? r.createItem(null, function() {
r.settings.closeAfterSelect && r.close();
}) : void 0 !== (n = i.attr("data-value")) && (r.lastQuery = null, r.setTextboxValue(""), r.addItem(n), r.settings.closeAfterSelect ? r.close() : !r.settings.hideSelected && t.type && /mouse/.test(t.type) && r.setActiveOption(r.getOption(n)));
},
onItemSelect: function(e) {
var t = this;
t.isLocked || "multi" === t.settings.mode && (e.preventDefault(), t.setActiveItem(e.currentTarget, e));
},
load: function(e) {
var t = this, n = t.$wrapper.addClass(t.settings.loadingClass);
t.loading++, e.apply(t, [ function(e) {
t.loading = Math.max(t.loading - 1, 0), e && e.length && (t.addOption(e), t.refreshOptions(t.isFocused && !t.isInputHidden)), t.loading || n.removeClass(t.settings.loadingClass), t.trigger("load", e);
} ]);
},
setTextboxValue: function(e) {
var t = this.$control_input;
t.val() !== e && (t.val(e).triggerHandler("update"), this.lastValue = e);
},
getValue: function() {
return 1 === this.tagType && this.$input.attr("multiple") ? this.items : this.items.join(this.settings.delimiter);
},
setValue: function(e, t) {
m(this, t ? [] : [ "change" ], function() {
this.clear(t), this.addItems(e, t);
});
},
setActiveItem: function(t, n) {
var i, r, o, a, s, l, c, u, d = this;
if ("single" !== d.settings.mode) {
if (!(t = e(t)).length) return e(d.$activeItems).removeClass("active"), d.$activeItems = [], void (d.isFocused && d.showInput());
if ("mousedown" === (i = n && n.type.toLowerCase()) && d.isShiftDown && d.$activeItems.length) {
for (u = d.$control.children(".active:last"), (a = Array.prototype.indexOf.apply(d.$control[0].childNodes, [ u[0] ])) > (s = Array.prototype.indexOf.apply(d.$control[0].childNodes, [ t[0] ])) && (c = a, a = s, s = c), r = a; r <= s; r++) l = d.$control[0].childNodes[r], -1 === d.$activeItems.indexOf(l) && (e(l).addClass("active"), d.$activeItems.push(l));
n.preventDefault();
} else "mousedown" === i && d.isCtrlDown || "keydown" === i && this.isShiftDown ? t.hasClass("active") ? (o = d.$activeItems.indexOf(t[0]), d.$activeItems.splice(o, 1), t.removeClass("active")) : d.$activeItems.push(t.addClass("active")[0]) : (e(d.$activeItems).removeClass("active"), d.$activeItems = [ t.addClass("active")[0] ]);
d.hideInput(), this.isFocused || d.focus();
}
},
setActiveOption: function(t, n, i) {
var r, o, a, s, l, u = this;
u.$activeOption && u.$activeOption.removeClass("active"), u.$activeOption = null, (t = e(t)).length && (u.$activeOption = t.addClass("active"), !n && c(n) || (r = u.$dropdown_content.height(), o = u.$activeOption.outerHeight(!0), n = u.$dropdown_content.scrollTop() || 0, s = a = u.$activeOption.offset().top - u.$dropdown_content.offset().top + n, l = a - r + o, a + o > r + n ? u.$dropdown_content.stop().animate({
scrollTop: l
}, i ? u.settings.scrollDuration : 0) : a < n && u.$dropdown_content.stop().animate({
scrollTop: s
}, i ? u.settings.scrollDuration : 0)));
},
selectAll: function() {
var e = this;
"single" !== e.settings.mode && (e.$activeItems = Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")), e.$activeItems.length && (e.hideInput(), e.close()), e.focus());
},
hideInput: function() {
var e = this;
e.setTextboxValue(""), e.$control_input.css({
opacity: 0,
position: "absolute",
left: e.rtl ? 1e4 : -1e4
}), e.isInputHidden = !0;
},
showInput: function() {
this.$control_input.css({
opacity: 1,
position: "relative",
left: 0
}), this.isInputHidden = !1;
},
focus: function() {
var e = this;
e.isDisabled || (e.ignoreFocus = !0, e.$control_input[0].focus(), window.setTimeout(function() {
e.ignoreFocus = !1, e.onFocus();
}, 0));
},
blur: function(e) {
this.$control_input[0].blur(), this.onBlur(null, e);
},
getScoreFunction: function(e) {
return this.sifter.getScoreFunction(e, this.getSearchOptions());
},
getSearchOptions: function() {
var e = this.settings, t = e.sortField;
return "string" == typeof t && (t = [ {
field: t
} ]), {
fields: e.searchField,
conjunction: e.searchConjunction,
sort: t
};
},
search: function(t) {
var n, i, r, o = this, a = o.settings, s = this.getSearchOptions();
if (a.score && "function" != typeof (r = o.settings.score.apply(this, [ t ]))) throw new Error('Selectize "score" setting must be a function that returns a function');
if (t !== o.lastQuery ? (o.lastQuery = t, i = o.sifter.search(t, e.extend(s, {
score: r
})), o.currentResults = i) : i = e.extend(!0, {}, o.currentResults), a.hideSelected) for (n = i.items.length - 1; n >= 0; n--) -1 !== o.items.indexOf(u(i.items[n].id)) && i.items.splice(n, 1);
return i;
},
refreshOptions: function(t) {
var n, r, o, a, s, l, c, d, h, p, f, g, m, v, y, b;
void 0 === t && (t = !0);
var w = this, x = e.trim(w.$control_input.val()), C = w.search(x), _ = w.$dropdown_content, S = w.$activeOption && u(w.$activeOption.attr("data-value"));
for (a = C.items.length, "number" == typeof w.settings.maxOptions && (a = Math.min(a, w.settings.maxOptions)), s = {}, l = [], n = 0; n < a; n++) for (c = w.options[C.items[n].id], d = w.render("option", c), h = c[w.settings.optgroupField] || "", r = 0, o = (p = e.isArray(h) ? h : [ h ]) && p.length; r < o; r++) h = p[r], w.optgroups.hasOwnProperty(h) || (h = ""), s.hasOwnProperty(h) || (s[h] = [], l.push(h)), s[h].push(d);
for (this.settings.lockOptgroupOrder && l.sort(function(e, t) {
return (w.optgroups[e].$order || 0) - (w.optgroups[t].$order || 0);
}), f = [], n = 0, a = l.length; n < a; n++) h = l[n], w.optgroups.hasOwnProperty(h) && s[h].length ? (g = w.render("optgroup_header", w.optgroups[h]) || "", g += s[h].join(""), f.push(w.render("optgroup", e.extend({}, w.optgroups[h], {
html: g
})))) : f.push(s[h].join(""));
if (_.html(f.join("")), w.settings.highlight && C.query.length && C.tokens.length) for (n = 0, a = C.tokens.length; n < a; n++) i(_, C.tokens[n].regex);
if (!w.settings.hideSelected) for (n = 0, a = w.items.length; n < a; n++) w.getOption(w.items[n]).addClass("selected");
(m = w.canCreate(x)) && (_.prepend(w.render("option_create", {
input: x
})), b = e(_[0].childNodes[0])), w.hasOptions = C.items.length > 0 || m, w.hasOptions ? (C.items.length > 0 ? ((y = S && w.getOption(S)) && y.length ? v = y : "single" === w.settings.mode && w.items.length && (v = w.getOption(w.items[0])), v && v.length || (v = b && !w.settings.addPrecedence ? w.getAdjacentOption(b, 1) : _.find("[data-selectable]:first"))) : v = b, w.setActiveOption(v), t && !w.isOpen && w.open()) : (w.setActiveOption(null), t && w.isOpen && w.close());
},
addOption: function(t) {
var n, i, r, o = this;
if (e.isArray(t)) for (n = 0, i = t.length; n < i; n++) o.addOption(t[n]); else (r = o.registerOption(t)) && (o.userOptions[r] = !0, o.lastQuery = null, o.trigger("option_add", r, t));
},
registerOption: function(e) {
var t = u(e[this.settings.valueField]);
return !(!t || this.options.hasOwnProperty(t)) && (e.$order = e.$order || ++this.order, this.options[t] = e, t);
},
registerOptionGroup: function(e) {
var t = u(e[this.settings.optgroupValueField]);
return !!t && (e.$order = e.$order || ++this.order, this.optgroups[t] = e, t);
},
addOptionGroup: function(e, t) {
t[this.settings.optgroupValueField] = e, (e = this.registerOptionGroup(t)) && this.trigger("optgroup_add", e, t);
},
removeOptionGroup: function(e) {
this.optgroups.hasOwnProperty(e) && (delete this.optgroups[e], this.renderCache = {}, this.trigger("optgroup_remove", e));
},
clearOptionGroups: function() {
this.optgroups = {}, this.renderCache = {}, this.trigger("optgroup_clear");
},
updateOption: function(t, n) {
var i, r, o, a, s, l, c, d = this;
if (t = u(t), o = u(n[d.settings.valueField]), null !== t && d.options.hasOwnProperty(t)) {
if ("string" != typeof o) throw new Error("Value must be set in option data");
c = d.options[t].$order, o !== t && (delete d.options[t], -1 !== (a = d.items.indexOf(t)) && d.items.splice(a, 1, o)), n.$order = n.$order || c, d.options[o] = n, s = d.renderCache.item, l = d.renderCache.option, s && (delete s[t], delete s[o]), l && (delete l[t], delete l[o]), -1 !== d.items.indexOf(o) && (i = d.getItem(t), r = e(d.render("item", n)), i.hasClass("active") && r.addClass("active"), i.replaceWith(r)), d.lastQuery = null, d.isOpen && d.refreshOptions(!1);
}
},
removeOption: function(e, t) {
var n = this;
e = u(e);
var i = n.renderCache.item, r = n.renderCache.option;
i && delete i[e], r && delete r[e], delete n.userOptions[e], delete n.options[e], n.lastQuery = null, n.trigger("option_remove", e), n.removeItem(e, t);
},
clearOptions: function() {
var e = this;
e.loadedSearches = {}, e.userOptions = {}, e.renderCache = {}, e.options = e.sifter.items = {}, e.lastQuery = null, e.trigger("option_clear"), e.clear();
},
getOption: function(e) {
return this.getElementWithValue(e, this.$dropdown_content.find("[data-selectable]"));
},
getAdjacentOption: function(t, n) {
var i = this.$dropdown.find("[data-selectable]"), r = i.index(t) + n;
return r >= 0 && r < i.length ? i.eq(r) : e();
},
getElementWithValue: function(t, n) {
if (void 0 !== (t = u(t)) && null !== t) for (var i = 0, r = n.length; i < r; i++) if (n[i].getAttribute("data-value") === t) return e(n[i]);
return e();
},
getItem: function(e) {
return this.getElementWithValue(e, this.$control.children());
},
addItems: function(t, n) {
for (var i = e.isArray(t) ? t : [ t ], r = 0, o = i.length; r < o; r++) this.isPending = r < o - 1, this.addItem(i[r], n);
},
addItem: function(t, n) {
m(this, n ? [] : [ "change" ], function() {
var i, r, o, a, s, l = this, c = l.settings.mode;
t = u(t), -1 === l.items.indexOf(t) ? l.options.hasOwnProperty(t) && ("single" === c && l.clear(n), "multi" === c && l.isFull() || (i = e(l.render("item", l.options[t])), s = l.isFull(), l.items.splice(l.caretPos, 0, t), l.insertAtCaret(i), (!l.isPending || !s && l.isFull()) && l.refreshState(), l.isSetup && (o = l.$dropdown_content.find("[data-selectable]"), l.isPending || (r = l.getOption(t), a = l.getAdjacentOption(r, 1).attr("data-value"), l.refreshOptions(l.isFocused && "single" !== c), a && l.setActiveOption(l.getOption(a))), !o.length || l.isFull() ? l.close() : l.positionDropdown(), l.updatePlaceholder(), l.trigger("item_add", t, i), l.updateOriginalInput({
silent: n
})))) : "single" === c && l.close();
});
},
removeItem: function(e, t) {
var n, i, r, o = this;
n = "object" == typeof e ? e : o.getItem(e), e = u(n.attr("data-value")), -1 !== (i = o.items.indexOf(e)) && (n.remove(), n.hasClass("active") && (r = o.$activeItems.indexOf(n[0]), o.$activeItems.splice(r, 1)), o.items.splice(i, 1), o.lastQuery = null, !o.settings.persist && o.userOptions.hasOwnProperty(e) && o.removeOption(e, t), i < o.caretPos && o.setCaret(o.caretPos - 1), o.refreshState(), o.updatePlaceholder(), o.updateOriginalInput({
silent: t
}), o.positionDropdown(), o.trigger("item_remove", e, n));
},
createItem: function(t, n) {
var i = this, r = i.caretPos;
t = t || e.trim(i.$control_input.val() || "");
var o = arguments[arguments.length - 1];
if ("function" != typeof o && (o = function() {}), "boolean" != typeof n && (n = !0), !i.canCreate(t)) return o(), !1;
i.lock();
var a = "function" == typeof i.settings.create ? this.settings.create : function(e) {
var t = {};
return t[i.settings.labelField] = e, t[i.settings.valueField] = e, t;
}, s = f(function(e) {
if (i.unlock(), !e || "object" != typeof e) return o();
var t = u(e[i.settings.valueField]);
if ("string" != typeof t) return o();
i.setTextboxValue(""), i.addOption(e), i.setCaret(r), i.addItem(t), i.refreshOptions(n && "single" !== i.settings.mode), o(e);
}), l = a.apply(this, [ t, s ]);
return void 0 !== l && s(l), !0;
},
refreshItems: function() {
this.lastQuery = null, this.isSetup && this.addItem(this.items), this.refreshState(), this.updateOriginalInput();
},
refreshState: function() {
var e = this;
e.isRequired && (e.items.length && (e.isInvalid = !1), e.$control_input.prop("required", void 0)), e.refreshClasses();
},
refreshClasses: function() {
var t = this, n = t.isFull(), i = t.isLocked;
t.$wrapper.toggleClass("rtl", t.rtl), t.$control.toggleClass("focus", t.isFocused).toggleClass("disabled", t.isDisabled).toggleClass("required", t.isRequired).toggleClass("invalid", t.isInvalid).toggleClass("locked", i).toggleClass("full", n).toggleClass("not-full", !n).toggleClass("input-active", t.isFocused && !t.isInputHidden).toggleClass("dropdown-active", t.isOpen).toggleClass("has-options", !e.isEmptyObject(t.options)).toggleClass("has-items", t.items.length > 0), t.$control_input.data("grow", !n && !i);
},
isFull: function() {
return null !== this.settings.maxItems && this.items.length >= this.settings.maxItems;
},
updateOriginalInput: function(e) {
var t, n, i, r, o = this;
if (e = e || {}, 1 === o.tagType) {
for (i = [], t = 0, n = o.items.length; t < n; t++) r = o.options[o.items[t]][o.settings.labelField] || "", i.push('<option value="' + d(o.items[t]) + '" selected="selected">' + d(r) + "</option>");
i.length || this.$input.attr("multiple") || i.push('<option value="" selected="selected"></option>'), o.$input.html(i.join(""));
} else o.$input.val(o.getValue()), o.$input.attr("value", o.$input.val());
o.isSetup && (e.silent || o.trigger("change", o.$input.val()));
},
updatePlaceholder: function() {
if (this.settings.placeholder) {
var e = this.$control_input;
this.items.length ? e.removeAttr("placeholder") : e.attr("placeholder", this.settings.placeholder), e.triggerHandler("update", {
force: !0
});
}
},
open: function() {
var e = this;
e.isLocked || e.isOpen || "multi" === e.settings.mode && e.isFull() || (e.focus(), e.isOpen = !0, e.refreshState(), e.$dropdown.css({
visibility: "hidden",
display: "block"
}), e.positionDropdown(), e.$dropdown.css({
visibility: "visible"
}), e.trigger("dropdown_open", e.$dropdown));
},
close: function() {
var e = this, t = e.isOpen;
"single" === e.settings.mode && e.items.length && e.hideInput(), e.isOpen = !1, e.$dropdown.hide(), e.setActiveOption(null), e.refreshState(), t && e.trigger("dropdown_close", e.$dropdown);
},
positionDropdown: function() {
var e = this.$control, t = "body" === this.settings.dropdownParent ? e.offset() : e.position();
t.top += e.outerHeight(!0), this.$dropdown.css({
width: e.outerWidth(),
top: t.top,
left: t.left
});
},
clear: function(e) {
var t = this;
t.items.length && (t.$control.children(":not(input)").remove(), t.items = [], t.lastQuery = null, t.setCaret(0), t.setActiveItem(null), t.updatePlaceholder(), t.updateOriginalInput({
silent: e
}), t.refreshState(), t.showInput(), t.trigger("clear"));
},
insertAtCaret: function(t) {
var n = Math.min(this.caretPos, this.items.length);
0 === n ? this.$control.prepend(t) : e(this.$control[0].childNodes[n]).before(t), this.setCaret(n + 1);
},
deleteSelection: function(t) {
var n, i, r, o, a, s, l, c, u, d = this;
if (r = t && 8 === t.keyCode ? -1 : 1, o = y(d.$control_input[0]), d.$activeOption && !d.settings.hideSelected && (l = d.getAdjacentOption(d.$activeOption, -1).attr("data-value")), a = [], d.$activeItems.length) {
for (u = d.$control.children(".active:" + (r > 0 ? "last" : "first")), s = d.$control.children(":not(input)").index(u), r > 0 && s++, n = 0, i = d.$activeItems.length; n < i; n++) a.push(e(d.$activeItems[n]).attr("data-value"));
t && (t.preventDefault(), t.stopPropagation());
} else (d.isFocused || "single" === d.settings.mode) && d.items.length && (r < 0 && 0 === o.start && 0 === o.length ? a.push(d.items[d.caretPos - 1]) : r > 0 && o.start === d.$control_input.val().length && a.push(d.items[d.caretPos]));
if (!a.length || "function" == typeof d.settings.onDelete && !1 === d.settings.onDelete.apply(d, [ a ])) return !1;
for (void 0 !== s && d.setCaret(s); a.length; ) d.removeItem(a.pop());
return d.showInput(), d.positionDropdown(), d.refreshOptions(!0), l && (c = d.getOption(l)).length && d.setActiveOption(c), !0;
},
advanceSelection: function(e, t) {
var n, i, r, o, a, s = this;
0 !== e && (s.rtl && (e *= -1), n = e > 0 ? "last" : "first", i = y(s.$control_input[0]), s.isFocused && !s.isInputHidden ? (o = s.$control_input.val().length, (e < 0 ? 0 === i.start && 0 === i.length : i.start === o) && !o && s.advanceCaret(e, t)) : (a = s.$control.children(".active:" + n)).length && (r = s.$control.children(":not(input)").index(a), s.setActiveItem(null), s.setCaret(e > 0 ? r + 1 : r)));
},
advanceCaret: function(e, t) {
var n, i, r = this;
0 !== e && (n = e > 0 ? "next" : "prev", r.isShiftDown ? (i = r.$control_input[n]()).length && (r.hideInput(), r.setActiveItem(i), t && t.preventDefault()) : r.setCaret(r.caretPos + e));
},
setCaret: function(t) {
var n = this;
if (t = "single" === n.settings.mode ? n.items.length : Math.max(0, Math.min(n.items.length, t)), !n.isPending) {
var i, r, o, a;
for (i = 0, r = (o = n.$control.children(":not(input)")).length; i < r; i++) a = e(o[i]).detach(), i < t ? n.$control_input.before(a) : n.$control.append(a);
}
n.caretPos = t;
},
lock: function() {
this.close(), this.isLocked = !0, this.refreshState();
},
unlock: function() {
this.isLocked = !1, this.refreshState();
},
disable: function() {
var e = this;
e.$input.prop("disabled", !0), e.$control_input.prop("disabled", !0).prop("tabindex", -1), e.isDisabled = !0, e.lock();
},
enable: function() {
var e = this;
e.$input.prop("disabled", !1), e.$control_input.prop("disabled", !1).prop("tabindex", e.tabIndex), e.isDisabled = !1, e.unlock();
},
destroy: function() {
var t = this, n = t.eventNS, i = t.revertSettings;
t.trigger("destroy"), t.off(), t.$wrapper.remove(), t.$dropdown.remove(), t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({
tabindex: i.tabindex
}).show(), t.$control_input.removeData("grow"), t.$input.removeData("selectize"), e(window).off(n), e(document).off(n), e(document.body).off(n), delete t.$input[0].selectize;
},
render: function(e, t) {
var n, i, r = "", o = !1, a = this, s = /^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;
return "option" !== e && "item" !== e || (o = !!(n = u(t[a.settings.valueField]))), o && (c(a.renderCache[e]) || (a.renderCache[e] = {}), a.renderCache[e].hasOwnProperty(n)) ? a.renderCache[e][n] : (r = a.settings.render[e].apply(this, [ t, d ]), "option" !== e && "option_create" !== e || (r = r.replace(s, "<$1 data-selectable")), "optgroup" === e && (i = t[a.settings.optgroupValueField] || "", r = r.replace(s, '<$1 data-group="' + h(d(i)) + '"')), "option" !== e && "item" !== e || (r = r.replace(s, '<$1 data-value="' + h(d(n || "")) + '"')), o && (a.renderCache[e][n] = r), r);
},
clearCache: function(e) {
var t = this;
void 0 === e ? t.renderCache = {} : delete t.renderCache[e];
},
canCreate: function(e) {
var t = this;
if (!t.settings.create) return !1;
var n = t.settings.createFilter;
return e.length && ("function" != typeof n || n.apply(t, [ e ])) && ("string" != typeof n || new RegExp(n).test(e)) && (!(n instanceof RegExp) || n.test(e));
}
}), C.count = 0, C.defaults = {
options: [],
optgroups: [],
plugins: [],
delimiter: ",",
splitOn: null,
persist: !0,
diacritics: !0,
create: !1,
createOnBlur: !1,
createFilter: null,
highlight: !0,
openOnFocus: !0,
maxOptions: 1e3,
maxItems: null,
hideSelected: null,
addPrecedence: !1,
selectOnTab: !1,
preload: !1,
allowEmptyOption: !1,
closeAfterSelect: !1,
scrollDuration: 60,
loadThrottle: 300,
loadingClass: "loading",
dataAttr: "data-data",
optgroupField: "optgroup",
valueField: "value",
labelField: "text",
optgroupLabelField: "label",
optgroupValueField: "value",
lockOptgroupOrder: !1,
sortField: "$order",
searchField: [ "text" ],
searchConjunction: "and",
mode: null,
wrapperClass: "selectize-control",
inputClass: "selectize-input",
dropdownClass: "selectize-dropdown",
dropdownContentClass: "selectize-dropdown-content",
dropdownParent: null,
copyClassesToDropdown: !0,
render: {}
}, e.fn.selectize = function(t) {
var n = e.fn.selectize.defaults, i = e.extend({}, n, t), r = i.dataAttr, o = i.labelField, a = i.valueField, s = i.optgroupField, l = i.optgroupLabelField, c = i.optgroupValueField, d = function(t, n) {
var s, l, c, u, d = t.attr(r);
if (d) for (n.options = JSON.parse(d), s = 0, l = n.options.length; s < l; s++) n.items.push(n.options[s][a]); else {
var h = e.trim(t.val() || "");
if (!i.allowEmptyOption && !h.length) return;
for (s = 0, l = (c = h.split(i.delimiter)).length; s < l; s++) (u = {})[o] = c[s], u[a] = c[s], n.options.push(u);
n.items = c;
}
}, h = function(t, n) {
var d, h, p, f, g = n.options, m = {}, v = function(e) {
var t = r && e.attr(r);
return "string" == typeof t && t.length ? JSON.parse(t) : null;
}, y = function(t, r) {
t = e(t);
var l = u(t.attr("value"));
if (l || i.allowEmptyOption) if (m.hasOwnProperty(l)) {
if (r) {
var c = m[l][s];
c ? e.isArray(c) ? c.push(r) : m[l][s] = [ c, r ] : m[l][s] = r;
}
} else {
var d = v(t) || {};
d[o] = d[o] || t.text(), d[a] = d[a] || l, d[s] = d[s] || r, m[l] = d, g.push(d), t.is(":selected") && n.items.push(l);
}
};
for (n.maxItems = t.attr("multiple") ? null : 1, d = 0, h = (f = t.children()).length; d < h; d++) "optgroup" === (p = f[d].tagName.toLowerCase()) ? function(t) {
var i, r, o, a, s;
for ((o = (t = e(t)).attr("label")) && ((a = v(t) || {})[l] = o, a[c] = o, n.optgroups.push(a)), i = 0, r = (s = e("option", t)).length; i < r; i++) y(s[i], o);
}(f[d]) : "option" === p && y(f[d]);
};
return this.each(function() {
if (!this.selectize) {
var r = e(this), o = this.tagName.toLowerCase(), a = r.attr("placeholder") || r.attr("data-placeholder");
a || i.allowEmptyOption || (a = r.children('option[value=""]').text());
var s = {
placeholder: a,
options: [],
optgroups: [],
items: []
};
"select" === o ? h(r, s) : d(r, s), new C(r, e.extend(!0, {}, n, s, t));
}
});
}, e.fn.selectize.defaults = C.defaults, e.fn.selectize.support = {
validity: l
}, C.define("drag_drop", function(t) {
if (!e.fn.sortable) throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');
if ("multi" === this.settings.mode) {
var n = this;
n.lock = function() {
var e = n.lock;
return function() {
var t = n.$control.data("sortable");
return t && t.disable(), e.apply(n, arguments);
};
}(), n.unlock = function() {
var e = n.unlock;
return function() {
var t = n.$control.data("sortable");
return t && t.enable(), e.apply(n, arguments);
};
}(), n.setup = function() {
var t = n.setup;
return function() {
t.apply(this, arguments);
var i = n.$control.sortable({
items: "[data-value]",
forcePlaceholderSize: !0,
disabled: n.isLocked,
start: function(e, t) {
t.placeholder.css("width", t.helper.css("width")), i.css({
overflow: "visible"
});
},
stop: function() {
i.css({
overflow: "hidden"
});
var t = n.$activeItems ? n.$activeItems.slice() : null, r = [];
i.children("[data-value]").each(function() {
r.push(e(this).attr("data-value"));
}), n.setValue(r), n.setActiveItem(t);
}
});
};
}();
}
}), C.define("dropdown_header", function(t) {
var n = this;
t = e.extend({
title: "Untitled",
headerClass: "selectize-dropdown-header",
titleRowClass: "selectize-dropdown-header-title",
labelClass: "selectize-dropdown-header-label",
closeClass: "selectize-dropdown-header-close",
html: function(e) {
return '<div class="' + e.headerClass + '"><div class="' + e.titleRowClass + '"><span class="' + e.labelClass + '">' + e.title + '</span><a href="javascript:void(0)" class="' + e.closeClass + '">&times;</a></div></div>';
}
}, t), n.setup = function() {
var i = n.setup;
return function() {
i.apply(n, arguments), n.$dropdown_header = e(t.html(t)), n.$dropdown.prepend(n.$dropdown_header);
};
}();
}), C.define("optgroup_columns", function(t) {
var n = this;
t = e.extend({
equalizeWidth: !0,
equalizeHeight: !0
}, t), this.getAdjacentOption = function(t, n) {
var i = t.closest("[data-group]").find("[data-selectable]"), r = i.index(t) + n;
return r >= 0 && r < i.length ? i.eq(r) : e();
}, this.onKeyDown = function() {
var e = n.onKeyDown;
return function(t) {
var i, r, o, a;
return !this.isOpen || 37 !== t.keyCode && 39 !== t.keyCode ? e.apply(this, arguments) : (n.ignoreHover = !0, a = this.$activeOption.closest("[data-group]"), i = a.find("[data-selectable]").index(this.$activeOption), a = 37 === t.keyCode ? a.prev("[data-group]") : a.next("[data-group]"), o = a.find("[data-selectable]"), void ((r = o.eq(Math.min(o.length - 1, i))).length && this.setActiveOption(r)));
};
}();
var i = function() {
var e, t = i.width, n = document;
return void 0 === t && ((e = n.createElement("div")).innerHTML = '<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>', e = e.firstChild, n.body.appendChild(e), t = i.width = e.offsetWidth - e.clientWidth, n.body.removeChild(e)), t;
}, r = function() {
var r, o, a, s, l, c, u;
if (u = e("[data-group]", n.$dropdown_content), (o = u.length) && n.$dropdown_content.width()) {
if (t.equalizeHeight) {
for (a = 0, r = 0; r < o; r++) a = Math.max(a, u.eq(r).height());
u.css({
height: a
});
}
t.equalizeWidth && (c = n.$dropdown_content.innerWidth() - i(), s = Math.round(c / o), u.css({
width: s
}), o > 1 && (l = c - s * (o - 1), u.eq(o - 1).css({
width: l
})));
}
};
(t.equalizeHeight || t.equalizeWidth) && (p.after(this, "positionDropdown", r), p.after(this, "refreshOptions", r));
}), C.define("remove_button", function(t) {
if ("single" !== this.settings.mode) {
var n = this, i = '<a href="javascript:void(0)" class="' + (t = e.extend({
label: "&times;",
title: "Remove",
className: "remove",
append: !0
}, t)).className + '" tabindex="-1" title="' + d(t.title) + '">' + t.label + "</a>", r = function(e, t) {
var n = e.search(/(<\/[^>]+>\s*)$/);
return e.substring(0, n) + t + e.substring(n);
};
this.setup = function() {
var o = n.setup;
return function() {
if (t.append) {
var a = n.settings.render.item;
n.settings.render.item = function(e) {
return r(a.apply(this, arguments), i);
};
}
o.apply(this, arguments), this.$control.on("click", "." + t.className, function(t) {
if (t.preventDefault(), !n.isLocked) {
var i = e(t.currentTarget).parent();
n.setActiveItem(i), n.deleteSelection() && n.setCaret(n.items.length);
}
});
};
}();
}
}), C.define("restore_on_backspace", function(e) {
var t = this;
e.text = e.text || function(e) {
return e[this.settings.labelField];
}, this.onKeyDown = function() {
var n = t.onKeyDown;
return function(t) {
var i, r;
return 8 === t.keyCode && "" === this.$control_input.val() && !this.$activeItems.length && (i = this.caretPos - 1) >= 0 && i < this.items.length ? (r = this.options[this.items[i]], this.deleteSelection(t) && (this.setTextboxValue(e.text.apply(this, [ r ])), this.refreshOptions(!0)), void t.preventDefault()) : n.apply(this, arguments);
};
}();
}), C;
}), LabelSelector.prototype.addConjunct = function(e, t, n) {
var i = {
key: e,
operator: t,
values: n
}, r = this._getIdForConjunct(i);
return this._conjuncts[r] = i, i.id = r, i.string = this._getStringForConjunct(i), i;
}, LabelSelector.prototype.removeConjunct = function(e) {
e.id ? delete this._conjuncts[e.id] : delete this._conjuncts[e];
}, LabelSelector.prototype.clearConjuncts = function() {
this._conjuncts = {};
}, LabelSelector.prototype.isEmpty = function() {
return $.isEmptyObject(this._conjuncts);
}, LabelSelector.prototype.each = function(e) {
angular.forEach(this._conjuncts, e);
}, LabelSelector.prototype.select = function(e) {
return _.isArray(e) ? _.filter(e, this.matches, this) : _.pick(e, this.matches, this);
}, LabelSelector.prototype.matches = function(e) {
if (!e) return !1;
if (this.isEmpty()) return this._emptySelectsAll;
var t = e.labels || {};
e.metadata && (t = e.metadata.labels || {});
for (var n in this._conjuncts) {
var i = this._conjuncts[n];
switch (i.operator) {
case "exists":
if (!t[i.key] && "" !== t[i.key]) return !1;
break;

case "does not exist":
if (t[i.key] || "" === t[i.key]) return !1;
break;

case "in":
var r = !1;
if (t[i.key] || "" === t[i.key]) for (a = 0; !r && a < i.values.length; a++) t[i.key] == i.values[a] && (r = !0);
if (!r) return !1;
break;

case "not in":
var o = !0;
if (t[i.key]) for (var a = 0; o && a < i.values.length; a++) o = t[i.key] != i.values[a];
if (!o) return !1;
}
}
return !0;
}, LabelSelector.prototype.hasConjunct = function(e) {
return !!this._conjuncts[this._getIdForConjunct(e)];
}, LabelSelector.prototype.findConjunctsMatching = function(e, t) {
return _.pick(this._conjuncts, _.matches({
operator: e,
key: t
}));
}, LabelSelector.prototype.covers = function(e) {
return !this.isEmpty() && _.every(this._conjuncts, function(t) {
if (e.hasConjunct(t)) return !0;
switch (t.operator) {
case "exists":
return !_.isEmpty(e.findConjunctsMatching("in", t.key));

case "does not exist":
return !1;

case "in":
var n = e.findConjunctsMatching("in", t.key);
return !_.isEmpty(n) && _.every(n, function(e) {
return e.values.length === _.intersection(e.values, t.values).length;
});

case "not in":
var i = e.findConjunctsMatching("not in", t.key);
return !_.isEmpty(i) && _.every(i, function(e) {
return t.values.length === _.intersection(e.values, t.values).length;
});
}
return !0;
});
}, LabelSelector.prototype.exportJSON = function() {
var e = {
matchExpressions: []
};
for (var t in this._conjuncts) {
var n = this._conjuncts[t], i = {
key: n.key,
operator: this._REVERSE_OPERATOR_MAP[n.operator],
values: n.values
};
e.matchExpressions.push(i);
}
return JSON.stringify(e);
}, LabelSelector.prototype._getStringForConjunct = function(e) {
var t = e.key;
if ("exists" == e.operator) return t + " exists";
if ("does not exist" == e.operator) return t + " does not exist";
"not in" == e.operator && (t += " not"), t += " in (";
for (var n = 0; n < e.values.length; n++) "" === e.values[n] ? t += '""' : t += e.values[n], n != e.values.length - 1 && (t += ", ");
return t += ")";
}, LabelSelector.prototype._getIdForConjunct = function(e) {
var t = e.key + "-" + e.operator;
return e.values && (t += "-" + e.values.join(",")), t;
};

try {
angular.module("kubernetesUI");
} catch (e) {
angular.module("kubernetesUI", []);
}

angular.module("kubernetesUI").factory("LabelFilter", [ "$location", function(e) {
function t() {
this._existingLabels = {}, this._labelSelector = new LabelSelector(null, !0), this._onActiveFiltersChangedCallbacks = $.Callbacks();
}
return t.prototype.addLabelSuggestionsFromResources = function(e, t) {
if (e.metadata && e.metadata.name) this._extractLabelsFromItem(e, t); else {
var n = this;
angular.forEach(e, function(e) {
n._extractLabelsFromItem(e, t);
});
}
}, t.prototype.setLabelSuggestions = function(e) {
if (this._existingLabels = e, this._labelFilterKeySelectize) {
this._labelFilterKeySelectize.clearOptions();
var t = this;
this._labelFilterKeySelectize.load(function(e) {
e(t._getLabelFilterKeys());
});
}
}, t.prototype.persistFilterState = function(e) {
this._shouldPersistState = !!e;
}, t.prototype._persistState = function() {
if (this._shouldPersistState) if (this._labelSelector.isEmpty()) (t = e.search()).labelFilter = null, e.replace().search(t); else {
var t = e.search();
t.labelFilter = this._labelSelector.exportJSON(), e.replace().search(t);
}
}, t.prototype.readPersistedState = function() {
var t = e.search().labelFilter;
if (t) try {
this._labelSelector = new LabelSelector(JSON.parse(t), !0);
} catch (e) {
this._labelSelector = new LabelSelector({}, !0);
} else this._labelSelector = new LabelSelector({}, !0);
}, t.prototype._extractLabelsFromItem = function(e, t) {
var n = e.metadata ? e.metadata.labels : {};
angular.forEach(n, function(e, n) {
t[n] || (t[n] = []), t[n].push({
value: e
});
});
}, t.prototype.getLabelSelector = function() {
return this._labelSelector;
}, t.prototype.setLabelSelector = function(e, t) {
if (this._labelFilterActiveFiltersElement && this._labelFilterActiveFiltersElement.find(".label-filter-active-filter").remove(), this._labelSelector = e, this._labelFilterActiveElement) if (this._labelSelector.isEmpty()) this._labelFilterActiveElement.hide(); else {
this._labelFilterActiveElement.show();
var n = this;
this._labelSelector.each(function(e) {
n._renderActiveFilter(e);
});
}
this._persistState(), t || this._onActiveFiltersChangedCallbacks.fire(this._labelSelector);
}, t.prototype.onActiveFiltersChanged = function(e) {
this._onActiveFiltersChangedCallbacks.add(e);
}, t.prototype.setupFilterWidget = function(e, t, n) {
var i = this, n = n || {};
this._labelFilterRootElement = e, this._labelFilterActiveFiltersRootElement = t;
var r = $("<div>").addClass("label-filter").appendTo(e);
this._labelFilterKeyInput = $("<select>").addClass("label-filter-key").attr("placeholder", "Filter by label ").appendTo(r), this._labelFilterOperatorInput = $("<select>").addClass("label-filter-operator").attr("placeholder", "matching(...)").hide().appendTo(r), this._labelFilterValuesInput = $("<select>").addClass("label-filter-values").attr("placeholder", "Value(s)").attr("multiple", !0).hide().appendTo(r), this._labelFilterAddBtn = $("<button>").addClass("label-filter-add btn btn-default disabled").attr("disabled", !0).appendTo(e).append($("<span>").text(n.addButtonText || "Add Filter")), this._labelFilterActiveFiltersElement = $("<span>").addClass("label-filter-active-filters").appendTo(t), this._labelFilterActiveElement = $("<span>").addClass("label-filter-clear").hide().appendTo(this._labelFilterActiveFiltersElement).append($("<a>").addClass("label-filtering-remove-all label label-primary").prop("href", "javascript:;").append($("<i>").addClass("fa fa-filter")).append($("<span>").text("Clear filters"))).click(function() {
i.clear();
}), this._labelFilterKeyInput.selectize({
dropdownParent: "body",
valueField: "key",
labelField: "key",
searchField: [ "key" ],
create: !0,
persist: !0,
preload: !0,
onItemAdd: function(e, t) {
var n = i._labelFilterValuesSelectize;
n.clearOptions(), n.load(function(e) {
var t = [], n = i._labelFilterKeySelectize.getValue();
if (!n) return t;
var r = i._existingLabels;
if (r[n]) {
for (var o = 0; o < r[n].length; o++) t.push(r[n][o]);
e(t);
} else e({});
}), i._labelFilterOperatorSelectizeInput.css("display", "inline-block"), i._labelFilterOperatorSelectize.getValue() ? n.focus() : i._labelFilterOperatorSelectize.focus();
},
onItemRemove: function(e) {
i._labelFilterOperatorSelectizeInput.hide(), i._labelFilterOperatorSelectize.clear(), i._labelFilterValuesSelectizeInput.hide(), i._labelFilterValuesSelectize.clear(), i._labelFilterAddBtn.addClass("disabled").prop("disabled", !0);
},
load: function(e, t) {
t(i._getLabelFilterKeys());
},
onFocus: function() {
r.addClass("filter-active");
},
onBlur: function() {
r.removeClass("filter-active");
}
}), this._labelFilterKeySelectize = this._labelFilterKeyInput.prop("selectize"), this._labelFilterKeySelectizeInput = $(".selectize-control.label-filter-key", r), this._labelFilterOperatorInput.selectize({
dropdownParent: "body",
valueField: "type",
labelField: "label",
searchField: [ "label" ],
options: [ {
type: "exists",
label: "exists"
}, {
type: "does not exist",
label: "does not exist"
}, {
type: "in",
label: "in ..."
}, {
type: "not in",
label: "not in ..."
} ],
onItemAdd: function(e, t) {
"exists" != e && "does not exist" != e ? (i._labelFilterValuesSelectizeInput.css("display", "inline-block"), i._labelFilterValuesSelectize.focus()) : i._labelFilterAddBtn.removeClass("disabled").prop("disabled", !1).focus();
},
onItemRemove: function(e) {
i._labelFilterValuesSelectizeInput.hide(), i._labelFilterValuesSelectize.clear(), i._labelFilterAddBtn.addClass("disabled").prop("disabled", !0);
},
onFocus: function() {
r.addClass("filter-active");
},
onBlur: function() {
r.removeClass("filter-active");
}
}), this._labelFilterOperatorSelectize = this._labelFilterOperatorInput.prop("selectize"), this._labelFilterOperatorSelectizeInput = $(".selectize-control.label-filter-operator", r), this._labelFilterOperatorSelectizeInput.hide(), this._labelFilterValuesInput.selectize({
dropdownParent: "body",
valueField: "value",
labelField: "value",
searchField: [ "value" ],
plugins: [ "remove_button" ],
create: !0,
persist: !0,
preload: !0,
onItemAdd: function(e, t) {
i._labelFilterAddBtn.removeClass("disabled").prop("disabled", !1);
},
onItemRemove: function(e) {},
load: function(e, t) {
var n = [], r = i._labelFilterKeySelectize.getValue();
if (!r) return n;
var o = i._existingLabels;
if (o[r]) {
for (var a = 0; a < o[r].length; a++) n.push(o[r][a]);
t(n);
} else t({});
},
onFocus: function() {
r.addClass("filter-active");
},
onBlur: function() {
r.removeClass("filter-active");
}
}), this._labelFilterValuesSelectize = this._labelFilterValuesInput.prop("selectize"), this._labelFilterValuesSelectizeInput = $(".selectize-control.label-filter-values", r), this._labelFilterValuesSelectizeInput.hide(), this._labelFilterAddBtn.click(function() {
var e = i._labelFilterKeySelectize.getValue(), t = i._labelFilterOperatorSelectize.getValue(), n = i._labelFilterValuesSelectize.getValue();
i._labelFilterKeySelectize.clear(), i._labelFilterOperatorSelectizeInput.hide(), i._labelFilterOperatorSelectize.clear(), i._labelFilterValuesSelectizeInput.hide(), i._labelFilterValuesSelectize.clear(), i._labelFilterAddBtn.addClass("disabled").prop("disabled", !0), i.addActiveFilter(e, t, n);
}), this._labelSelector.isEmpty() || (this._labelFilterActiveElement.show(), this._labelSelector.each(function(e) {
i._renderActiveFilter(e);
}));
}, t.prototype._getLabelFilterKeys = function() {
for (var e = [], t = Object.keys(this._existingLabels), n = 0; n < t.length; n++) e.push({
key: t[n]
});
return e;
}, t.prototype.addActiveFilter = function(e, t, n) {
this._labelFilterActiveElement.show(), this._addActiveFilter(e, t, n);
}, t.prototype._addActiveFilter = function(e, t, n) {
var i = this._labelSelector.addConjunct(e, t, n);
this._persistState(), this._onActiveFiltersChangedCallbacks.fire(this._labelSelector), this._renderActiveFilter(i);
}, t.prototype.clear = function() {
this._labelFilterActiveFiltersElement && this._labelFilterActiveFiltersElement.find(".label-filter-active-filter").remove(), this._labelFilterActiveElement && this._labelFilterActiveElement.hide(), this._labelSelector.clearConjuncts(), this._persistState(), this._onActiveFiltersChangedCallbacks.fire(this._labelSelector);
}, t.prototype._renderActiveFilter = function(e) {
$("<a>").addClass("label label-default label-filter-active-filter").prop("href", "javascript:;").prop("filter-label-id", e.id).click($.proxy(this, "_removeActiveFilter")).append($("<span>").text(e.string)).append($("<i>").addClass("fa fa-times")).appendTo(this._labelFilterActiveFiltersElement);
}, t.prototype._removeActiveFilter = function(e) {
var t = $(e.target).closest(".label-filter-active-filter"), n = t.prop("filter-label-id");
t.remove(), 0 == $(".label-filter-active-filter", this._labelFilterActiveFiltersElement).length && this._labelFilterActiveElement.hide(), this._labelSelector.removeConjunct(n), this._persistState(), this._onActiveFiltersChangedCallbacks.fire(this._labelSelector);
}, t.prototype.toggleFilterWidget = function(e) {
this._labelFilterRootElement && (e ? this._labelFilterRootElement.show() : this._labelFilterRootElement.hide()), this._labelFilterActiveFiltersRootElement && (e ? this._labelFilterActiveFiltersRootElement.show() : this._labelFilterActiveFiltersRootElement.hide());
}, new t();
} ]), function(e) {
if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).Terminal = e();
}
}(function() {
return function e(t, n, i) {
function r(a, s) {
if (!n[a]) {
if (!t[a]) {
var l = "function" == typeof require && require;
if (!s && l) return l(a, !0);
if (o) return o(a, !0);
var c = new Error("Cannot find module '" + a + "'");
throw c.code = "MODULE_NOT_FOUND", c;
}
var u = n[a] = {
exports: {}
};
t[a][0].call(u.exports, function(e) {
var n = t[a][1][e];
return r(n || e);
}, u, u.exports, e, t, n, i);
}
return n[a].exports;
}
for (var o = "function" == typeof require && require, a = 0; a < i.length; a++) r(i[a]);
return r;
}({
1: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
}), n.CHARSETS = {}, n.DEFAULT_CHARSET = n.CHARSETS.B, n.CHARSETS[0] = {
"`": "◆",
a: "▒",
b: "\t",
c: "\f",
d: "\r",
e: "\n",
f: "°",
g: "±",
h: "␤",
i: "\v",
j: "┘",
k: "┐",
l: "┌",
m: "└",
n: "┼",
o: "⎺",
p: "⎻",
q: "─",
r: "⎼",
s: "⎽",
t: "├",
u: "┤",
v: "┴",
w: "┬",
x: "│",
y: "≤",
z: "≥",
"{": "π",
"|": "≠",
"}": "£",
"~": "·"
}, n.CHARSETS.A = {
"#": "£"
}, n.CHARSETS.B = null, n.CHARSETS[4] = {
"#": "£",
"@": "¾",
"[": "ij",
"\\": "½",
"]": "|",
"{": "¨",
"|": "f",
"}": "¼",
"~": "´"
}, n.CHARSETS.C = n.CHARSETS[5] = {
"[": "Ä",
"\\": "Ö",
"]": "Å",
"^": "Ü",
"`": "é",
"{": "ä",
"|": "ö",
"}": "å",
"~": "ü"
}, n.CHARSETS.R = {
"#": "£",
"@": "à",
"[": "°",
"\\": "ç",
"]": "§",
"{": "é",
"|": "ù",
"}": "è",
"~": "¨"
}, n.CHARSETS.Q = {
"@": "à",
"[": "â",
"\\": "ç",
"]": "ê",
"^": "î",
"`": "ô",
"{": "é",
"|": "ù",
"}": "è",
"~": "û"
}, n.CHARSETS.K = {
"@": "§",
"[": "Ä",
"\\": "Ö",
"]": "Ü",
"{": "ä",
"|": "ö",
"}": "ü",
"~": "ß"
}, n.CHARSETS.Y = {
"#": "£",
"@": "§",
"[": "°",
"\\": "ç",
"]": "é",
"`": "ù",
"{": "à",
"|": "ò",
"}": "è",
"~": "ì"
}, n.CHARSETS.E = n.CHARSETS[6] = {
"@": "Ä",
"[": "Æ",
"\\": "Ø",
"]": "Å",
"^": "Ü",
"`": "ä",
"{": "æ",
"|": "ø",
"}": "å",
"~": "ü"
}, n.CHARSETS.Z = {
"#": "£",
"@": "§",
"[": "¡",
"\\": "Ñ",
"]": "¿",
"{": "°",
"|": "ñ",
"}": "ç"
}, n.CHARSETS.H = n.CHARSETS[7] = {
"@": "É",
"[": "Ä",
"\\": "Ö",
"]": "Å",
"^": "Ü",
"`": "é",
"{": "ä",
"|": "ö",
"}": "å",
"~": "ü"
}, n.CHARSETS["="] = {
"#": "ù",
"@": "à",
"[": "é",
"\\": "ç",
"]": "ê",
"^": "î",
_: "è",
"`": "ô",
"{": "ä",
"|": "ö",
"}": "ü",
"~": "û"
};
}, {} ],
2: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e(e, t, n) {
this.textarea = e, this.compositionView = t, this.terminal = n, this.isComposing = !1, this.isSendingComposition = !1, this.compositionPosition = {
start: null,
end: null
};
}
return e.prototype.compositionstart = function() {
this.isComposing = !0, this.compositionPosition.start = this.textarea.value.length, this.compositionView.textContent = "", this.compositionView.classList.add("active");
}, e.prototype.compositionupdate = function(e) {
var t = this;
this.compositionView.textContent = e.data, this.updateCompositionElements(), setTimeout(function() {
t.compositionPosition.end = t.textarea.value.length;
}, 0);
}, e.prototype.compositionend = function() {
this.finalizeComposition(!0);
}, e.prototype.keydown = function(e) {
if (this.isComposing || this.isSendingComposition) {
if (229 === e.keyCode) return !1;
if (16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode) return !1;
this.finalizeComposition(!1);
}
return 229 !== e.keyCode || (this.handleAnyTextareaChanges(), !1);
}, e.prototype.finalizeComposition = function(e) {
var t = this;
if (this.compositionView.classList.remove("active"), this.isComposing = !1, this.clearTextareaPosition(), e) {
var n = {
start: this.compositionPosition.start,
end: this.compositionPosition.end
};
this.isSendingComposition = !0, setTimeout(function() {
if (t.isSendingComposition) {
t.isSendingComposition = !1;
var e = void 0;
e = t.isComposing ? t.textarea.value.substring(n.start, n.end) : t.textarea.value.substring(n.start), t.terminal.handler(e);
}
}, 0);
} else {
this.isSendingComposition = !1;
var i = this.textarea.value.substring(this.compositionPosition.start, this.compositionPosition.end);
this.terminal.handler(i);
}
}, e.prototype.handleAnyTextareaChanges = function() {
var e = this, t = this.textarea.value;
setTimeout(function() {
if (!e.isComposing) {
var n = e.textarea.value.replace(t, "");
n.length > 0 && e.terminal.handler(n);
}
}, 0);
}, e.prototype.updateCompositionElements = function(e) {
var t = this;
if (this.isComposing) {
var n = this.terminal.element.querySelector(".terminal-cursor");
if (n) {
var i = this.terminal.element.querySelector(".xterm-rows").offsetTop + n.offsetTop;
this.compositionView.style.left = n.offsetLeft + "px", this.compositionView.style.top = i + "px", this.compositionView.style.height = n.offsetHeight + "px", this.compositionView.style.lineHeight = n.offsetHeight + "px";
var r = this.compositionView.getBoundingClientRect();
this.textarea.style.left = n.offsetLeft + "px", this.textarea.style.top = i + "px", this.textarea.style.width = r.width + "px", this.textarea.style.height = r.height + "px", this.textarea.style.lineHeight = r.height + "px";
}
e || setTimeout(function() {
return t.updateCompositionElements(!0);
}, 0);
}
}, e.prototype.clearTextareaPosition = function() {
this.textarea.style.left = "", this.textarea.style.top = "";
}, e;
}();
n.CompositionHelper = i;
}, {} ],
3: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
!function(e) {
e.NUL = "\0", e.SOH = "", e.STX = "", e.ETX = "", e.EOT = "", e.ENQ = "", e.ACK = "", e.BEL = "", e.BS = "\b", e.HT = "\t", e.LF = "\n", e.VT = "\v", e.FF = "\f", e.CR = "\r", e.SO = "", e.SI = "", e.DLE = "", e.DC1 = "", e.DC2 = "", e.DC3 = "", e.DC4 = "", e.NAK = "", e.SYN = "", e.ETB = "", e.CAN = "", e.EM = "", e.SUB = "", e.ESC = "", e.FS = "", e.GS = "", e.RS = "", e.US = "", e.SP = " ", e.DEL = "";
}(n.C0 || (n.C0 = {}));
}, {} ],
4: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e() {
this._events = this._events || {};
}
return e.prototype.on = function(e, t) {
this._events[e] = this._events[e] || [], this._events[e].push(t);
}, e.prototype.off = function(e, t) {
if (this._events[e]) for (var n = this._events[e], i = n.length; i--; ) if (n[i] === t || n[i].listener === t) return void n.splice(i, 1);
}, e.prototype.removeAllListeners = function(e) {
this._events[e] && delete this._events[e];
}, e.prototype.once = function(e, t) {
function n() {
var i = Array.prototype.slice.call(arguments);
return this.off(e, n), t.apply(this, i);
}
return n.listener = t, this.on(e, n);
}, e.prototype.emit = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
if (this._events[e]) for (var i = this._events[e], r = 0; r < i.length; r++) i[r].apply(this, t);
}, e.prototype.listeners = function(e) {
return this._events[e] || [];
}, e;
}();
n.EventEmitter = i;
}, {} ],
5: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./EscapeSequences"), r = e("./Charsets"), o = function() {
function e(e) {
this._terminal = e;
}
return e.prototype.addChar = function(e, t) {
if (e >= " ") {
var n = a(t);
this._terminal.charset && this._terminal.charset[e] && (e = this._terminal.charset[e]);
var i = this._terminal.y + this._terminal.ybase;
if (!n && this._terminal.x) return void (this._terminal.lines.get(i)[this._terminal.x - 1] && (this._terminal.lines.get(i)[this._terminal.x - 1][2] ? this._terminal.lines.get(i)[this._terminal.x - 1][1] += e : this._terminal.lines.get(i)[this._terminal.x - 2] && (this._terminal.lines.get(i)[this._terminal.x - 2][1] += e), this._terminal.updateRange(this._terminal.y)));
if (this._terminal.x + n - 1 >= this._terminal.cols) if (this._terminal.wraparoundMode) this._terminal.x = 0, ++this._terminal.y > this._terminal.scrollBottom && (this._terminal.y--, this._terminal.scroll(!0)); else if (2 === n) return;
if (i = this._terminal.y + this._terminal.ybase, this._terminal.insertMode) for (var r = 0; r < n; ++r) 0 === this._terminal.lines.get(this._terminal.y + this._terminal.ybase).pop()[2] && this._terminal.lines.get(i)[this._terminal.cols - 2] && 2 === this._terminal.lines.get(i)[this._terminal.cols - 2][2] && (this._terminal.lines.get(i)[this._terminal.cols - 2] = [ this._terminal.curAttr, " ", 1 ]), this._terminal.lines.get(i).splice(this._terminal.x, 0, [ this._terminal.curAttr, " ", 1 ]);
this._terminal.lines.get(i)[this._terminal.x] = [ this._terminal.curAttr, e, n ], this._terminal.x++, this._terminal.updateRange(this._terminal.y), 2 === n && (this._terminal.lines.get(i)[this._terminal.x] = [ this._terminal.curAttr, "", 0 ], this._terminal.x++);
}
}, e.prototype.bell = function() {
var e = this;
this._terminal.visualBell && (this._terminal.element.style.borderColor = "white", setTimeout(function() {
return e._terminal.element.style.borderColor = "";
}, 10), this._terminal.popOnBell && this._terminal.focus());
}, e.prototype.lineFeed = function() {
this._terminal.convertEol && (this._terminal.x = 0), ++this._terminal.y > this._terminal.scrollBottom && (this._terminal.y--, this._terminal.scroll()), this._terminal.x >= this._terminal.cols && this._terminal.x--;
}, e.prototype.carriageReturn = function() {
this._terminal.x = 0;
}, e.prototype.backspace = function() {
this._terminal.x > 0 && this._terminal.x--;
}, e.prototype.tab = function() {
this._terminal.x = this._terminal.nextStop();
}, e.prototype.shiftOut = function() {
this._terminal.setgLevel(1);
}, e.prototype.shiftIn = function() {
this._terminal.setgLevel(0);
}, e.prototype.insertChars = function(e) {
var t, n, i, r;
for ((t = e[0]) < 1 && (t = 1), n = this._terminal.y + this._terminal.ybase, i = this._terminal.x, r = [ this._terminal.eraseAttr(), " ", 1 ]; t-- && i < this._terminal.cols; ) this._terminal.lines.get(n).splice(i++, 0, r), this._terminal.lines.get(n).pop();
}, e.prototype.cursorUp = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.y -= t, this._terminal.y < 0 && (this._terminal.y = 0);
}, e.prototype.cursorDown = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.y += t, this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1), this._terminal.x >= this._terminal.cols && this._terminal.x--;
}, e.prototype.cursorForward = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.x += t, this._terminal.x >= this._terminal.cols && (this._terminal.x = this._terminal.cols - 1);
}, e.prototype.cursorBackward = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.x >= this._terminal.cols && this._terminal.x--, this._terminal.x -= t, this._terminal.x < 0 && (this._terminal.x = 0);
}, e.prototype.cursorNextLine = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.y += t, this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1), this._terminal.x = 0;
}, e.prototype.cursorPrecedingLine = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.y -= t, this._terminal.y < 0 && (this._terminal.y = 0), this._terminal.x = 0;
}, e.prototype.cursorCharAbsolute = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.x = t - 1;
}, e.prototype.cursorPosition = function(e) {
var t, n;
t = e[0] - 1, n = e.length >= 2 ? e[1] - 1 : 0, t < 0 ? t = 0 : t >= this._terminal.rows && (t = this._terminal.rows - 1), n < 0 ? n = 0 : n >= this._terminal.cols && (n = this._terminal.cols - 1), this._terminal.x = n, this._terminal.y = t;
}, e.prototype.cursorForwardTab = function(e) {
for (var t = e[0] || 1; t--; ) this._terminal.x = this._terminal.nextStop();
}, e.prototype.eraseInDisplay = function(e) {
var t;
switch (e[0]) {
case 0:
for (this._terminal.eraseRight(this._terminal.x, this._terminal.y), t = this._terminal.y + 1; t < this._terminal.rows; t++) this._terminal.eraseLine(t);
break;

case 1:
for (this._terminal.eraseLeft(this._terminal.x, this._terminal.y), t = this._terminal.y; t--; ) this._terminal.eraseLine(t);
break;

case 2:
for (t = this._terminal.rows; t--; ) this._terminal.eraseLine(t);
break;

case 3:
var n = this._terminal.lines.length - this._terminal.rows;
n > 0 && (this._terminal.lines.trimStart(n), this._terminal.ybase = Math.max(this._terminal.ybase - n, 0), this._terminal.ydisp = Math.max(this._terminal.ydisp - n, 0));
}
}, e.prototype.eraseInLine = function(e) {
switch (e[0]) {
case 0:
this._terminal.eraseRight(this._terminal.x, this._terminal.y);
break;

case 1:
this._terminal.eraseLeft(this._terminal.x, this._terminal.y);
break;

case 2:
this._terminal.eraseLine(this._terminal.y);
}
}, e.prototype.insertLines = function(e) {
var t, n, i;
for ((t = e[0]) < 1 && (t = 1), n = this._terminal.y + this._terminal.ybase, i = this._terminal.rows - 1 - this._terminal.scrollBottom, i = this._terminal.rows - 1 + this._terminal.ybase - i + 1; t--; ) this._terminal.lines.length === this._terminal.lines.maxLength && (this._terminal.lines.trimStart(1), this._terminal.ybase--, this._terminal.ydisp--, n--, i--), this._terminal.lines.splice(n, 0, this._terminal.blankLine(!0)), this._terminal.lines.splice(i, 1);
this._terminal.updateRange(this._terminal.y), this._terminal.updateRange(this._terminal.scrollBottom);
}, e.prototype.deleteLines = function(e) {
var t, n, i;
for ((t = e[0]) < 1 && (t = 1), n = this._terminal.y + this._terminal.ybase, i = this._terminal.rows - 1 - this._terminal.scrollBottom, i = this._terminal.rows - 1 + this._terminal.ybase - i; t--; ) this._terminal.lines.length === this._terminal.lines.maxLength && (this._terminal.lines.trimStart(1), this._terminal.ybase -= 1, this._terminal.ydisp -= 1), this._terminal.lines.splice(i + 1, 0, this._terminal.blankLine(!0)), this._terminal.lines.splice(n, 1);
this._terminal.updateRange(this._terminal.y), this._terminal.updateRange(this._terminal.scrollBottom);
}, e.prototype.deleteChars = function(e) {
var t, n, i;
for ((t = e[0]) < 1 && (t = 1), n = this._terminal.y + this._terminal.ybase, i = [ this._terminal.eraseAttr(), " ", 1 ]; t--; ) this._terminal.lines.get(n).splice(this._terminal.x, 1), this._terminal.lines.get(n).push(i);
}, e.prototype.scrollUp = function(e) {
for (var t = e[0] || 1; t--; ) this._terminal.lines.splice(this._terminal.ybase + this._terminal.scrollTop, 1), this._terminal.lines.splice(this._terminal.ybase + this._terminal.scrollBottom, 0, this._terminal.blankLine());
this._terminal.updateRange(this._terminal.scrollTop), this._terminal.updateRange(this._terminal.scrollBottom);
}, e.prototype.scrollDown = function(e) {
for (var t = e[0] || 1; t--; ) this._terminal.lines.splice(this._terminal.ybase + this._terminal.scrollBottom, 1), this._terminal.lines.splice(this._terminal.ybase + this._terminal.scrollTop, 0, this._terminal.blankLine());
this._terminal.updateRange(this._terminal.scrollTop), this._terminal.updateRange(this._terminal.scrollBottom);
}, e.prototype.eraseChars = function(e) {
var t, n, i, r;
for ((t = e[0]) < 1 && (t = 1), n = this._terminal.y + this._terminal.ybase, i = this._terminal.x, r = [ this._terminal.eraseAttr(), " ", 1 ]; t-- && i < this._terminal.cols; ) this._terminal.lines.get(n)[i++] = r;
}, e.prototype.cursorBackwardTab = function(e) {
for (var t = e[0] || 1; t--; ) this._terminal.x = this._terminal.prevStop();
}, e.prototype.charPosAbsolute = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.x = t - 1, this._terminal.x >= this._terminal.cols && (this._terminal.x = this._terminal.cols - 1);
}, e.prototype.HPositionRelative = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.x += t, this._terminal.x >= this._terminal.cols && (this._terminal.x = this._terminal.cols - 1);
}, e.prototype.repeatPrecedingCharacter = function(e) {
for (var t = e[0] || 1, n = this._terminal.lines.get(this._terminal.ybase + this._terminal.y), i = n[this._terminal.x - 1] || [ this._terminal.defAttr, " ", 1 ]; t--; ) n[this._terminal.x++] = i;
}, e.prototype.sendDeviceAttributes = function(e) {
e[0] > 0 || (this._terminal.prefix ? ">" === this._terminal.prefix && (this._terminal.is("xterm") ? this._terminal.send(i.C0.ESC + "[>0;276;0c") : this._terminal.is("rxvt-unicode") ? this._terminal.send(i.C0.ESC + "[>85;95;0c") : this._terminal.is("linux") ? this._terminal.send(e[0] + "c") : this._terminal.is("screen") && this._terminal.send(i.C0.ESC + "[>83;40003;0c")) : this._terminal.is("xterm") || this._terminal.is("rxvt-unicode") || this._terminal.is("screen") ? this._terminal.send(i.C0.ESC + "[?1;2c") : this._terminal.is("linux") && this._terminal.send(i.C0.ESC + "[?6c"));
}, e.prototype.linePosAbsolute = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.y = t - 1, this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1);
}, e.prototype.VPositionRelative = function(e) {
var t = e[0];
t < 1 && (t = 1), this._terminal.y += t, this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1), this._terminal.x >= this._terminal.cols && this._terminal.x--;
}, e.prototype.HVPosition = function(e) {
e[0] < 1 && (e[0] = 1), e[1] < 1 && (e[1] = 1), this._terminal.y = e[0] - 1, this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1), this._terminal.x = e[1] - 1, this._terminal.x >= this._terminal.cols && (this._terminal.x = this._terminal.cols - 1);
}, e.prototype.tabClear = function(e) {
var t = e[0];
t <= 0 ? delete this._terminal.tabs[this._terminal.x] : 3 === t && (this._terminal.tabs = {});
}, e.prototype.setMode = function(e) {
if (e.length > 1) for (var t = 0; t < e.length; t++) this.setMode([ e[t] ]); else if (this._terminal.prefix) {
if ("?" === this._terminal.prefix) switch (e[0]) {
case 1:
this._terminal.applicationCursor = !0;
break;

case 2:
this._terminal.setgCharset(0, r.DEFAULT_CHARSET), this._terminal.setgCharset(1, r.DEFAULT_CHARSET), this._terminal.setgCharset(2, r.DEFAULT_CHARSET), this._terminal.setgCharset(3, r.DEFAULT_CHARSET);
break;

case 3:
this._terminal.savedCols = this._terminal.cols, this._terminal.resize(132, this._terminal.rows);
break;

case 6:
this._terminal.originMode = !0;
break;

case 7:
this._terminal.wraparoundMode = !0;
break;

case 12:
break;

case 66:
this._terminal.log("Serial port requested application keypad."), this._terminal.applicationKeypad = !0, this._terminal.viewport.syncScrollArea();
break;

case 9:
case 1e3:
case 1002:
case 1003:
this._terminal.x10Mouse = 9 === e[0], this._terminal.vt200Mouse = 1e3 === e[0], this._terminal.normalMouse = e[0] > 1e3, this._terminal.mouseEvents = !0, this._terminal.element.classList.add("enable-mouse-events"), this._terminal.selectionManager.disable(), this._terminal.log("Binding to mouse events.");
break;

case 1004:
this._terminal.sendFocus = !0;
break;

case 1005:
this._terminal.utfMouse = !0;
break;

case 1006:
this._terminal.sgrMouse = !0;
break;

case 1015:
this._terminal.urxvtMouse = !0;
break;

case 25:
this._terminal.cursorHidden = !1;
break;

case 1049:
case 47:
case 1047:
if (!this._terminal.normal) {
var n = {
lines: this._terminal.lines,
ybase: this._terminal.ybase,
ydisp: this._terminal.ydisp,
x: this._terminal.x,
y: this._terminal.y,
scrollTop: this._terminal.scrollTop,
scrollBottom: this._terminal.scrollBottom,
tabs: this._terminal.tabs
};
this._terminal.reset(), this._terminal.viewport.syncScrollArea(), this._terminal.normal = n, this._terminal.showCursor();
}
}
} else switch (e[0]) {
case 4:
this._terminal.insertMode = !0;
}
}, e.prototype.resetMode = function(e) {
if (e.length > 1) for (var t = 0; t < e.length; t++) this.resetMode([ e[t] ]); else if (this._terminal.prefix) {
if ("?" === this._terminal.prefix) switch (e[0]) {
case 1:
this._terminal.applicationCursor = !1;
break;

case 3:
132 === this._terminal.cols && this._terminal.savedCols && this._terminal.resize(this._terminal.savedCols, this._terminal.rows), delete this._terminal.savedCols;
break;

case 6:
this._terminal.originMode = !1;
break;

case 7:
this._terminal.wraparoundMode = !1;
break;

case 12:
break;

case 66:
this._terminal.log("Switching back to normal keypad."), this._terminal.applicationKeypad = !1, this._terminal.viewport.syncScrollArea();
break;

case 9:
case 1e3:
case 1002:
case 1003:
this._terminal.x10Mouse = !1, this._terminal.vt200Mouse = !1, this._terminal.normalMouse = !1, this._terminal.mouseEvents = !1, this._terminal.element.classList.remove("enable-mouse-events"), this._terminal.selectionManager.enable();
break;

case 1004:
this._terminal.sendFocus = !1;
break;

case 1005:
this._terminal.utfMouse = !1;
break;

case 1006:
this._terminal.sgrMouse = !1;
break;

case 1015:
this._terminal.urxvtMouse = !1;
break;

case 25:
this._terminal.cursorHidden = !0;
break;

case 1049:
case 47:
case 1047:
this._terminal.normal && (this._terminal.lines = this._terminal.normal.lines, this._terminal.ybase = this._terminal.normal.ybase, this._terminal.ydisp = this._terminal.normal.ydisp, this._terminal.x = this._terminal.normal.x, this._terminal.y = this._terminal.normal.y, this._terminal.scrollTop = this._terminal.normal.scrollTop, this._terminal.scrollBottom = this._terminal.normal.scrollBottom, this._terminal.tabs = this._terminal.normal.tabs, this._terminal.normal = null, this._terminal.selectionManager.setBuffer(this._terminal.lines), this._terminal.refresh(0, this._terminal.rows - 1), this._terminal.viewport.syncScrollArea(), this._terminal.showCursor());
}
} else switch (e[0]) {
case 4:
this._terminal.insertMode = !1;
}
}, e.prototype.charAttributes = function(e) {
if (1 !== e.length || 0 !== e[0]) {
for (var t, n = e.length, i = 0, r = this._terminal.curAttr >> 18, o = this._terminal.curAttr >> 9 & 511, a = 511 & this._terminal.curAttr; i < n; i++) (t = e[i]) >= 30 && t <= 37 ? o = t - 30 : t >= 40 && t <= 47 ? a = t - 40 : t >= 90 && t <= 97 ? o = (t += 8) - 90 : t >= 100 && t <= 107 ? a = (t += 8) - 100 : 0 === t ? (r = this._terminal.defAttr >> 18, o = this._terminal.defAttr >> 9 & 511, a = 511 & this._terminal.defAttr) : 1 === t ? r |= 1 : 4 === t ? r |= 2 : 5 === t ? r |= 4 : 7 === t ? r |= 8 : 8 === t ? r |= 16 : 22 === t ? r &= -2 : 24 === t ? r &= -3 : 25 === t ? r &= -5 : 27 === t ? r &= -9 : 28 === t ? r &= -17 : 39 === t ? o = this._terminal.defAttr >> 9 & 511 : 49 === t ? a = 511 & this._terminal.defAttr : 38 === t ? 2 === e[i + 1] ? (i += 2, -1 === (o = this._terminal.matchColor(255 & e[i], 255 & e[i + 1], 255 & e[i + 2])) && (o = 511), i += 2) : 5 === e[i + 1] && (o = t = 255 & e[i += 2]) : 48 === t ? 2 === e[i + 1] ? (i += 2, -1 === (a = this._terminal.matchColor(255 & e[i], 255 & e[i + 1], 255 & e[i + 2])) && (a = 511), 
i += 2) : 5 === e[i + 1] && (a = t = 255 & e[i += 2]) : 100 === t ? (o = this._terminal.defAttr >> 9 & 511, a = 511 & this._terminal.defAttr) : this._terminal.error("Unknown SGR attribute: %d.", t);
this._terminal.curAttr = r << 18 | o << 9 | a;
} else this._terminal.curAttr = this._terminal.defAttr;
}, e.prototype.deviceStatus = function(e) {
if (this._terminal.prefix) {
if ("?" === this._terminal.prefix) switch (e[0]) {
case 6:
this._terminal.send(i.C0.ESC + "[?" + (this._terminal.y + 1) + ";" + (this._terminal.x + 1) + "R");
}
} else switch (e[0]) {
case 5:
this._terminal.send(i.C0.ESC + "[0n");
break;

case 6:
this._terminal.send(i.C0.ESC + "[" + (this._terminal.y + 1) + ";" + (this._terminal.x + 1) + "R");
}
}, e.prototype.softReset = function(e) {
this._terminal.cursorHidden = !1, this._terminal.insertMode = !1, this._terminal.originMode = !1, this._terminal.wraparoundMode = !0, this._terminal.applicationKeypad = !1, this._terminal.viewport.syncScrollArea(), this._terminal.applicationCursor = !1, this._terminal.scrollTop = 0, this._terminal.scrollBottom = this._terminal.rows - 1, this._terminal.curAttr = this._terminal.defAttr, this._terminal.x = this._terminal.y = 0, this._terminal.charset = null, this._terminal.glevel = 0, this._terminal.charsets = [ null ];
}, e.prototype.setCursorStyle = function(e) {
var t = e[0] < 1 ? 1 : e[0];
switch (t) {
case 1:
case 2:
this._terminal.setOption("cursorStyle", "block");
break;

case 3:
case 4:
this._terminal.setOption("cursorStyle", "underline");
break;

case 5:
case 6:
this._terminal.setOption("cursorStyle", "bar");
}
var n = t % 2 == 1;
this._terminal.setOption("cursorBlink", n);
}, e.prototype.setScrollRegion = function(e) {
this._terminal.prefix || (this._terminal.scrollTop = (e[0] || 1) - 1, this._terminal.scrollBottom = (e[1] && e[1] <= this._terminal.rows ? e[1] : this._terminal.rows) - 1, this._terminal.x = 0, this._terminal.y = 0);
}, e.prototype.saveCursor = function(e) {
this._terminal.savedX = this._terminal.x, this._terminal.savedY = this._terminal.y;
}, e.prototype.restoreCursor = function(e) {
this._terminal.x = this._terminal.savedX || 0, this._terminal.y = this._terminal.savedY || 0;
}, e;
}();
n.InputHandler = o;
var a = function(e) {
function t(e) {
var t, n = 0, r = i.length - 1;
if (e < i[0][0] || e > i[r][1]) return !1;
for (;r >= n; ) if (t = Math.floor((n + r) / 2), e > i[t][1]) n = t + 1; else {
if (!(e < i[t][0])) return !0;
r = t - 1;
}
return !1;
}
function n(e) {
return e >= 4352 && (e <= 4447 || 9001 === e || 9002 === e || e >= 11904 && e <= 42191 && 12351 !== e || e >= 44032 && e <= 55203 || e >= 63744 && e <= 64255 || e >= 65040 && e <= 65049 || e >= 65072 && e <= 65135 || e >= 65280 && e <= 65376 || e >= 65504 && e <= 65510 || e >= 131072 && e <= 196605 || e >= 196608 && e <= 262141);
}
var i = [ [ 768, 879 ], [ 1155, 1158 ], [ 1160, 1161 ], [ 1425, 1469 ], [ 1471, 1471 ], [ 1473, 1474 ], [ 1476, 1477 ], [ 1479, 1479 ], [ 1536, 1539 ], [ 1552, 1557 ], [ 1611, 1630 ], [ 1648, 1648 ], [ 1750, 1764 ], [ 1767, 1768 ], [ 1770, 1773 ], [ 1807, 1807 ], [ 1809, 1809 ], [ 1840, 1866 ], [ 1958, 1968 ], [ 2027, 2035 ], [ 2305, 2306 ], [ 2364, 2364 ], [ 2369, 2376 ], [ 2381, 2381 ], [ 2385, 2388 ], [ 2402, 2403 ], [ 2433, 2433 ], [ 2492, 2492 ], [ 2497, 2500 ], [ 2509, 2509 ], [ 2530, 2531 ], [ 2561, 2562 ], [ 2620, 2620 ], [ 2625, 2626 ], [ 2631, 2632 ], [ 2635, 2637 ], [ 2672, 2673 ], [ 2689, 2690 ], [ 2748, 2748 ], [ 2753, 2757 ], [ 2759, 2760 ], [ 2765, 2765 ], [ 2786, 2787 ], [ 2817, 2817 ], [ 2876, 2876 ], [ 2879, 2879 ], [ 2881, 2883 ], [ 2893, 2893 ], [ 2902, 2902 ], [ 2946, 2946 ], [ 3008, 3008 ], [ 3021, 3021 ], [ 3134, 3136 ], [ 3142, 3144 ], [ 3146, 3149 ], [ 3157, 3158 ], [ 3260, 3260 ], [ 3263, 3263 ], [ 3270, 3270 ], [ 3276, 3277 ], [ 3298, 3299 ], [ 3393, 3395 ], [ 3405, 3405 ], [ 3530, 3530 ], [ 3538, 3540 ], [ 3542, 3542 ], [ 3633, 3633 ], [ 3636, 3642 ], [ 3655, 3662 ], [ 3761, 3761 ], [ 3764, 3769 ], [ 3771, 3772 ], [ 3784, 3789 ], [ 3864, 3865 ], [ 3893, 3893 ], [ 3895, 3895 ], [ 3897, 3897 ], [ 3953, 3966 ], [ 3968, 3972 ], [ 3974, 3975 ], [ 3984, 3991 ], [ 3993, 4028 ], [ 4038, 4038 ], [ 4141, 4144 ], [ 4146, 4146 ], [ 4150, 4151 ], [ 4153, 4153 ], [ 4184, 4185 ], [ 4448, 4607 ], [ 4959, 4959 ], [ 5906, 5908 ], [ 5938, 5940 ], [ 5970, 5971 ], [ 6002, 6003 ], [ 6068, 6069 ], [ 6071, 6077 ], [ 6086, 6086 ], [ 6089, 6099 ], [ 6109, 6109 ], [ 6155, 6157 ], [ 6313, 6313 ], [ 6432, 6434 ], [ 6439, 6440 ], [ 6450, 6450 ], [ 6457, 6459 ], [ 6679, 6680 ], [ 6912, 6915 ], [ 6964, 6964 ], [ 6966, 6970 ], [ 6972, 6972 ], [ 6978, 6978 ], [ 7019, 7027 ], [ 7616, 7626 ], [ 7678, 7679 ], [ 8203, 8207 ], [ 8234, 8238 ], [ 8288, 8291 ], [ 8298, 8303 ], [ 8400, 8431 ], [ 12330, 12335 ], [ 12441, 12442 ], [ 43014, 43014 ], [ 43019, 43019 ], [ 43045, 43046 ], [ 64286, 64286 ], [ 65024, 65039 ], [ 65056, 65059 ], [ 65279, 65279 ], [ 65529, 65531 ], [ 68097, 68099 ], [ 68101, 68102 ], [ 68108, 68111 ], [ 68152, 68154 ], [ 68159, 68159 ], [ 119143, 119145 ], [ 119155, 119170 ], [ 119173, 119179 ], [ 119210, 119213 ], [ 119362, 119364 ], [ 917505, 917505 ], [ 917536, 917631 ], [ 917760, 917999 ] ];
return function(i) {
return 0 === i ? e.nul : i < 32 || i >= 127 && i < 160 ? e.control : t(i) ? 0 : n(i) ? 2 : 1;
};
}({
nul: 0,
control: 0
});
}, {
"./Charsets": 1,
"./EscapeSequences": 3
} ],
6: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = new RegExp("(?:^|[^\\da-z\\.-]+)((https?:\\/\\/)((([\\da-z\\.-]+)\\.([a-z\\.]{2,6}))|((\\d{1,3}\\.){3}\\d{1,3})|(localhost))(:\\d{1,5})?(\\/[\\/\\w\\.\\-%~]*)*(\\?[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?(#[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?)($|[^\\/\\w\\.\\-%]+)"), r = 0, o = function() {
function e() {
this._nextLinkMatcherId = r, this._rowTimeoutIds = [], this._linkMatchers = [], this.registerLinkMatcher(i, null, {
matchIndex: 1
});
}
return e.prototype.attachToDom = function(e, t) {
this._document = e, this._rows = t;
}, e.prototype.linkifyRow = function(t) {
if (this._document) {
var n = this._rowTimeoutIds[t];
n && clearTimeout(n), this._rowTimeoutIds[t] = setTimeout(this._linkifyRow.bind(this, t), e.TIME_BEFORE_LINKIFY);
}
}, e.prototype.setHypertextLinkHandler = function(e) {
this._linkMatchers[r].handler = e;
}, e.prototype.setHypertextValidationCallback = function(e) {
this._linkMatchers[r].validationCallback = e;
}, e.prototype.registerLinkMatcher = function(e, t, n) {
if (void 0 === n && (n = {}), this._nextLinkMatcherId !== r && !t) throw new Error("handler must be defined");
var i = {
id: this._nextLinkMatcherId++,
regex: e,
handler: t,
matchIndex: n.matchIndex,
validationCallback: n.validationCallback,
priority: n.priority || 0
};
return this._addLinkMatcherToList(i), i.id;
}, e.prototype._addLinkMatcherToList = function(e) {
if (0 !== this._linkMatchers.length) {
for (var t = this._linkMatchers.length - 1; t >= 0; t--) if (e.priority <= this._linkMatchers[t].priority) return void this._linkMatchers.splice(t + 1, 0, e);
this._linkMatchers.splice(0, 0, e);
} else this._linkMatchers.push(e);
}, e.prototype.deregisterLinkMatcher = function(e) {
for (var t = 1; t < this._linkMatchers.length; t++) if (this._linkMatchers[t].id === e) return this._linkMatchers.splice(t, 1), !0;
return !1;
}, e.prototype._linkifyRow = function(e) {
var t = this._rows[e];
if (t) {
t.textContent;
for (var n = 0; n < this._linkMatchers.length; n++) {
var i = this._linkMatchers[n], r = this._doLinkifyRow(t, i);
if (r.length > 0) {
if (i.validationCallback) for (var o = 0; o < r.length; o++) !function(e) {
var t = r[e];
i.validationCallback(t.textContent, t, function(e) {
e || t.classList.add("xterm-invalid-link");
});
}(o);
return;
}
}
}
}, e.prototype._doLinkifyRow = function(e, t) {
var n = [], i = t.id === r, o = e.childNodes, a = e.textContent.match(t.regex);
if (!a || 0 === a.length) return n;
for (var s = a["number" != typeof t.matchIndex ? 0 : t.matchIndex], l = a.index + s.length, c = 0; c < o.length; c++) {
var u = o[c], d = u.textContent.indexOf(s);
if (d >= 0) {
var h = this._createAnchorElement(s, t.handler, i);
if (u.textContent.length === s.length) if (3 === u.nodeType) this._replaceNode(u, h); else {
var p = u;
if ("A" === p.nodeName) return n;
p.innerHTML = "", p.appendChild(h);
} else if (u.childNodes.length > 1) for (var f = 0; f < u.childNodes.length; f++) {
var g = u.childNodes[f], m = g.textContent.indexOf(s);
if (-1 !== m) {
this._replaceNodeSubstringWithNode(g, h, s, m);
break;
}
} else c += this._replaceNodeSubstringWithNode(u, h, s, d);
if (n.push(h), !(a = e.textContent.substring(l).match(t.regex)) || 0 === a.length) return n;
s = a["number" != typeof t.matchIndex ? 0 : t.matchIndex], l += a.index + s.length;
}
}
return n;
}, e.prototype._createAnchorElement = function(e, t, n) {
var i = this._document.createElement("a");
return i.textContent = e, i.draggable = !1, n ? (i.href = e, i.target = "_blank", i.addEventListener("click", function(n) {
if (t) return t(n, e);
})) : i.addEventListener("click", function(n) {
if (!i.classList.contains("xterm-invalid-link")) return t(n, e);
}), i;
}, e.prototype._replaceNode = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
for (var i = e.parentNode, r = 0; r < t.length; r++) i.insertBefore(t[r], e);
i.removeChild(e);
}, e.prototype._replaceNodeSubstringWithNode = function(e, t, n, i) {
if (1 === e.childNodes.length && (e = e.childNodes[0]), 3 !== e.nodeType) throw new Error("targetNode must be a text node or only contain a single text node");
var r = e.textContent;
if (0 === i) {
var o = r.substring(n.length), a = this._document.createTextNode(o);
return this._replaceNode(e, t, a), 0;
}
if (i === e.textContent.length - n.length) {
var s = r.substring(0, i), l = this._document.createTextNode(s);
return this._replaceNode(e, l, t), 0;
}
var c = r.substring(0, i), u = this._document.createTextNode(c), d = r.substring(i + n.length), h = this._document.createTextNode(d);
return this._replaceNode(e, u, t, h), 1;
}, e;
}();
o.TIME_BEFORE_LINKIFY = 200, n.Linkifier = o;
}, {} ],
7: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./EscapeSequences"), r = e("./Charsets"), o = {};
o[i.C0.BEL] = function(e, t) {
return t.bell();
}, o[i.C0.LF] = function(e, t) {
return t.lineFeed();
}, o[i.C0.VT] = o[i.C0.LF], o[i.C0.FF] = o[i.C0.LF], o[i.C0.CR] = function(e, t) {
return t.carriageReturn();
}, o[i.C0.BS] = function(e, t) {
return t.backspace();
}, o[i.C0.HT] = function(e, t) {
return t.tab();
}, o[i.C0.SO] = function(e, t) {
return t.shiftOut();
}, o[i.C0.SI] = function(e, t) {
return t.shiftIn();
}, o[i.C0.ESC] = function(e, t) {
return e.setState(c.ESCAPED);
};
var a = {};
a["["] = function(e, t) {
t.params = [], t.currentParam = 0, e.setState(c.CSI_PARAM);
}, a["]"] = function(e, t) {
t.params = [], t.currentParam = 0, e.setState(c.OSC);
}, a.P = function(e, t) {
t.params = [], t.currentParam = 0, e.setState(c.DCS);
}, a._ = function(e, t) {
e.setState(c.IGNORE);
}, a["^"] = function(e, t) {
e.setState(c.IGNORE);
}, a.c = function(e, t) {
t.reset();
}, a.E = function(e, t) {
t.x = 0, t.index(), e.setState(c.NORMAL);
}, a.D = function(e, t) {
t.index(), e.setState(c.NORMAL);
}, a.M = function(e, t) {
t.reverseIndex(), e.setState(c.NORMAL);
}, a["%"] = function(e, t) {
t.setgLevel(0), t.setgCharset(0, r.DEFAULT_CHARSET), e.setState(c.NORMAL), e.skipNextChar();
}, a[i.C0.CAN] = function(e) {
return e.setState(c.NORMAL);
};
var s = {};
s["?"] = function(e) {
return e.setPrefix("?");
}, s[">"] = function(e) {
return e.setPrefix(">");
}, s["!"] = function(e) {
return e.setPrefix("!");
}, s[0] = function(e) {
return e.setParam(10 * e.getParam());
}, s[1] = function(e) {
return e.setParam(10 * e.getParam() + 1);
}, s[2] = function(e) {
return e.setParam(10 * e.getParam() + 2);
}, s[3] = function(e) {
return e.setParam(10 * e.getParam() + 3);
}, s[4] = function(e) {
return e.setParam(10 * e.getParam() + 4);
}, s[5] = function(e) {
return e.setParam(10 * e.getParam() + 5);
}, s[6] = function(e) {
return e.setParam(10 * e.getParam() + 6);
}, s[7] = function(e) {
return e.setParam(10 * e.getParam() + 7);
}, s[8] = function(e) {
return e.setParam(10 * e.getParam() + 8);
}, s[9] = function(e) {
return e.setParam(10 * e.getParam() + 9);
}, s.$ = function(e) {
return e.setPostfix("$");
}, s['"'] = function(e) {
return e.setPostfix('"');
}, s[" "] = function(e) {
return e.setPostfix(" ");
}, s["'"] = function(e) {
return e.setPostfix("'");
}, s[";"] = function(e) {
return e.finalizeParam();
}, s[i.C0.CAN] = function(e) {
return e.setState(c.NORMAL);
};
var l = {};
l["@"] = function(e, t, n) {
return e.insertChars(t);
}, l.A = function(e, t, n) {
return e.cursorUp(t);
}, l.B = function(e, t, n) {
return e.cursorDown(t);
}, l.C = function(e, t, n) {
return e.cursorForward(t);
}, l.D = function(e, t, n) {
return e.cursorBackward(t);
}, l.E = function(e, t, n) {
return e.cursorNextLine(t);
}, l.F = function(e, t, n) {
return e.cursorPrecedingLine(t);
}, l.G = function(e, t, n) {
return e.cursorCharAbsolute(t);
}, l.H = function(e, t, n) {
return e.cursorPosition(t);
}, l.I = function(e, t, n) {
return e.cursorForwardTab(t);
}, l.J = function(e, t, n) {
return e.eraseInDisplay(t);
}, l.K = function(e, t, n) {
return e.eraseInLine(t);
}, l.L = function(e, t, n) {
return e.insertLines(t);
}, l.M = function(e, t, n) {
return e.deleteLines(t);
}, l.P = function(e, t, n) {
return e.deleteChars(t);
}, l.S = function(e, t, n) {
return e.scrollUp(t);
}, l.T = function(e, t, n) {
t.length < 2 && !n && e.scrollDown(t);
}, l.X = function(e, t, n) {
return e.eraseChars(t);
}, l.Z = function(e, t, n) {
return e.cursorBackwardTab(t);
}, l["`"] = function(e, t, n) {
return e.charPosAbsolute(t);
}, l.a = function(e, t, n) {
return e.HPositionRelative(t);
}, l.b = function(e, t, n) {
return e.repeatPrecedingCharacter(t);
}, l.c = function(e, t, n) {
return e.sendDeviceAttributes(t);
}, l.d = function(e, t, n) {
return e.linePosAbsolute(t);
}, l.e = function(e, t, n) {
return e.VPositionRelative(t);
}, l.f = function(e, t, n) {
return e.HVPosition(t);
}, l.g = function(e, t, n) {
return e.tabClear(t);
}, l.h = function(e, t, n) {
return e.setMode(t);
}, l.l = function(e, t, n) {
return e.resetMode(t);
}, l.m = function(e, t, n) {
return e.charAttributes(t);
}, l.n = function(e, t, n) {
return e.deviceStatus(t);
}, l.p = function(e, t, n) {
switch (n) {
case "!":
e.softReset(t);
}
}, l.q = function(e, t, n, i) {
" " === i && e.setCursorStyle(t);
}, l.r = function(e, t) {
return e.setScrollRegion(t);
}, l.s = function(e, t) {
return e.saveCursor(t);
}, l.u = function(e, t) {
return e.restoreCursor(t);
}, l[i.C0.CAN] = function(e, t, n, i, r) {
return r.setState(c.NORMAL);
};
var c;
!function(e) {
e[e.NORMAL = 0] = "NORMAL", e[e.ESCAPED = 1] = "ESCAPED", e[e.CSI_PARAM = 2] = "CSI_PARAM", e[e.CSI = 3] = "CSI", e[e.OSC = 4] = "OSC", e[e.CHARSET = 5] = "CHARSET", e[e.DCS = 6] = "DCS", e[e.IGNORE = 7] = "IGNORE";
}(c || (c = {}));
var u = function() {
function e(e, t) {
this._inputHandler = e, this._terminal = t, this._state = c.NORMAL;
}
return e.prototype.parse = function(e) {
var t, n, u, d, h = e.length;
for (this._position = 0, this._terminal.surrogate_high && (e = this._terminal.surrogate_high + e, this._terminal.surrogate_high = ""); this._position < h; this._position++) {
if (n = e[this._position], 55296 <= (u = e.charCodeAt(this._position)) && u <= 56319) {
if (d = e.charCodeAt(this._position + 1), isNaN(d)) {
this._terminal.surrogate_high = n;
continue;
}
u = 1024 * (u - 55296) + (d - 56320) + 65536, n += e.charAt(this._position + 1);
}
if (!(56320 <= u && u <= 57343)) switch (this._state) {
case c.NORMAL:
n in o ? o[n](this, this._inputHandler) : this._inputHandler.addChar(n, u);
break;

case c.ESCAPED:
if (n in a) {
a[n](this, this._terminal);
break;
}
switch (n) {
case "(":
case ")":
case "*":
case "+":
case "-":
case ".":
switch (n) {
case "(":
this._terminal.gcharset = 0;
break;

case ")":
this._terminal.gcharset = 1;
break;

case "*":
this._terminal.gcharset = 2;
break;

case "+":
this._terminal.gcharset = 3;
break;

case "-":
this._terminal.gcharset = 1;
break;

case ".":
this._terminal.gcharset = 2;
}
this._state = c.CHARSET;
break;

case "/":
this._terminal.gcharset = 3, this._state = c.CHARSET, this._position--;
break;

case "N":
case "O":
break;

case "n":
this._terminal.setgLevel(2);
break;

case "o":
case "|":
this._terminal.setgLevel(3);
break;

case "}":
this._terminal.setgLevel(2);
break;

case "~":
this._terminal.setgLevel(1);
break;

case "7":
this._inputHandler.saveCursor(), this._state = c.NORMAL;
break;

case "8":
this._inputHandler.restoreCursor(), this._state = c.NORMAL;
break;

case "#":
this._state = c.NORMAL, this._position++;
break;

case "H":
this._terminal.tabSet(), this._state = c.NORMAL;
break;

case "=":
this._terminal.log("Serial port requested application keypad."), this._terminal.applicationKeypad = !0, this._terminal.viewport.syncScrollArea(), this._state = c.NORMAL;
break;

case ">":
this._terminal.log("Switching back to normal keypad."), this._terminal.applicationKeypad = !1, this._terminal.viewport.syncScrollArea(), this._state = c.NORMAL;
break;

default:
this._state = c.NORMAL, this._terminal.error("Unknown ESC control: %s.", n);
}
break;

case c.CHARSET:
n in r.CHARSETS ? (t = r.CHARSETS[n], "/" === n && this.skipNextChar()) : t = r.DEFAULT_CHARSET, this._terminal.setgCharset(this._terminal.gcharset, t), this._terminal.gcharset = null, this._state = c.NORMAL;
break;

case c.OSC:
if (n === i.C0.ESC || n === i.C0.BEL) {
switch (n === i.C0.ESC && this._position++, this._terminal.params.push(this._terminal.currentParam), this._terminal.params[0]) {
case 0:
case 1:
case 2:
this._terminal.params[1] && (this._terminal.title = this._terminal.params[1], this._terminal.handleTitle(this._terminal.title));
}
this._terminal.params = [], this._terminal.currentParam = 0, this._state = c.NORMAL;
} else this._terminal.params.length ? this._terminal.currentParam += n : n >= "0" && n <= "9" ? this._terminal.currentParam = 10 * this._terminal.currentParam + n.charCodeAt(0) - 48 : ";" === n && (this._terminal.params.push(this._terminal.currentParam), this._terminal.currentParam = "");
break;

case c.CSI_PARAM:
if (n in s) {
s[n](this);
break;
}
this.finalizeParam(), this._state = c.CSI;

case c.CSI:
n in l ? l[n](this._inputHandler, this._terminal.params, this._terminal.prefix, this._terminal.postfix, this) : this._terminal.error("Unknown CSI code: %s.", n), this._state = c.NORMAL, this._terminal.prefix = "", this._terminal.postfix = "";
break;

case c.DCS:
if (n === i.C0.ESC || n === i.C0.BEL) {
n === i.C0.ESC && this._position++;
var p = void 0, f = void 0;
switch (this._terminal.prefix) {
case "":
break;

case "$q":
switch (p = this._terminal.currentParam, f = !1, p) {
case '"q':
p = '0"q';
break;

case '"p':
p = '61"p';
break;

case "r":
p = this._terminal.scrollTop + 1 + ";" + (this._terminal.scrollBottom + 1) + "r";
break;

case "m":
p = "0m";
break;

default:
this._terminal.error("Unknown DCS Pt: %s.", p), p = "";
}
this._terminal.send(i.C0.ESC + "P" + +f + "$r" + p + i.C0.ESC + "\\");
break;

case "+p":
break;

case "+q":
p = this._terminal.currentParam, f = !1, this._terminal.send(i.C0.ESC + "P" + +f + "+r" + p + i.C0.ESC + "\\");
break;

default:
this._terminal.error("Unknown DCS prefix: %s.", this._terminal.prefix);
}
this._terminal.currentParam = 0, this._terminal.prefix = "", this._state = c.NORMAL;
} else this._terminal.currentParam ? this._terminal.currentParam += n : this._terminal.prefix || "$" === n || "+" === n ? 2 === this._terminal.prefix.length ? this._terminal.currentParam = n : this._terminal.prefix += n : this._terminal.currentParam = n;
break;

case c.IGNORE:
n !== i.C0.ESC && n !== i.C0.BEL || (n === i.C0.ESC && this._position++, this._state = c.NORMAL);
}
}
return this._state;
}, e.prototype.setState = function(e) {
this._state = e;
}, e.prototype.setPrefix = function(e) {
this._terminal.prefix = e;
}, e.prototype.setPostfix = function(e) {
this._terminal.postfix = e;
}, e.prototype.setParam = function(e) {
this._terminal.currentParam = e;
}, e.prototype.getParam = function() {
return this._terminal.currentParam;
}, e.prototype.finalizeParam = function() {
this._terminal.params.push(this._terminal.currentParam), this._terminal.currentParam = 0;
}, e.prototype.skipNextChar = function() {
this._position++;
}, e;
}();
n.Parser = u;
}, {
"./Charsets": 1,
"./EscapeSequences": 3
} ],
8: [ function(e, t, n) {
"use strict";
function i(e) {
var t = e.ownerDocument.createElement("span");
t.innerHTML = "hello world", e.appendChild(t);
var n = t.offsetWidth, i = t.offsetHeight;
t.style.fontWeight = "bold";
var r = t.offsetWidth, o = t.offsetHeight;
return e.removeChild(t), n !== r || i !== o;
}
Object.defineProperty(n, "__esModule", {
value: !0
});
var r, o = e("./utils/DomElementObjectPool");
!function(e) {
e[e.BOLD = 1] = "BOLD", e[e.UNDERLINE = 2] = "UNDERLINE", e[e.BLINK = 4] = "BLINK", e[e.INVERSE = 8] = "INVERSE", e[e.INVISIBLE = 16] = "INVISIBLE";
}(r || (r = {}));
var a = null, s = function() {
function e(e) {
this._terminal = e, this._refreshRowsQueue = [], this._refreshFramesSkipped = 0, this._refreshAnimationFrame = null, this._spanElementObjectPool = new o.DomElementObjectPool("span"), null === a && (a = i(this._terminal.element)), this._spanElementObjectPool = new o.DomElementObjectPool("span");
}
return e.prototype.queueRefresh = function(e, t) {
this._refreshRowsQueue.push({
start: e,
end: t
}), this._refreshAnimationFrame || (this._refreshAnimationFrame = window.requestAnimationFrame(this._refreshLoop.bind(this)));
}, e.prototype._refreshLoop = function() {
if (this._terminal.writeBuffer.length > 0 && this._refreshFramesSkipped++ <= 5) this._refreshAnimationFrame = window.requestAnimationFrame(this._refreshLoop.bind(this)); else {
this._refreshFramesSkipped = 0;
var e, t;
if (this._refreshRowsQueue.length > 4) e = 0, t = this._terminal.rows - 1; else {
e = this._refreshRowsQueue[0].start, t = this._refreshRowsQueue[0].end;
for (var n = 1; n < this._refreshRowsQueue.length; n++) this._refreshRowsQueue[n].start < e && (e = this._refreshRowsQueue[n].start), this._refreshRowsQueue[n].end > t && (t = this._refreshRowsQueue[n].end);
}
this._refreshRowsQueue = [], this._refreshAnimationFrame = null, this._refresh(e, t);
}
}, e.prototype._refresh = function(e, t) {
var n;
t - e >= this._terminal.rows / 2 && (n = this._terminal.element.parentNode) && this._terminal.element.removeChild(this._terminal.rowContainer);
var i = this._terminal.cols, o = e;
for (t >= this._terminal.rows && (this._terminal.log("`end` is too large. Most likely a bad CSR."), t = this._terminal.rows - 1); o <= t; o++) {
var s = o + this._terminal.ydisp, l = this._terminal.lines.get(s), c = void 0;
c = this._terminal.y === o - (this._terminal.ybase - this._terminal.ydisp) && this._terminal.cursorState && !this._terminal.cursorHidden ? this._terminal.x : -1;
for (var u = this._terminal.defAttr, d = document.createDocumentFragment(), h = "", p = void 0; this._terminal.children[o].children.length; ) {
var f = this._terminal.children[o].children[0];
this._terminal.children[o].removeChild(f), this._spanElementObjectPool.release(f);
}
for (var g = 0; g < i; g++) {
var m = l[g][0], v = l[g][1], y = l[g][2];
if (y) {
if (g === c && (m = -1), m !== u && (u !== this._terminal.defAttr && (h && (p.innerHTML = h, h = ""), d.appendChild(p), p = null), m !== this._terminal.defAttr)) if (h && !p && (p = this._spanElementObjectPool.acquire()), p && (h && (p.innerHTML = h, h = ""), d.appendChild(p)), p = this._spanElementObjectPool.acquire(), -1 === m) p.classList.add("reverse-video"), p.classList.add("terminal-cursor"); else {
var b = 511 & m, w = m >> 9 & 511, x = m >> 18;
if (x & r.BOLD && (a || p.classList.add("xterm-bold"), w < 8 && (w += 8)), x & r.UNDERLINE && p.classList.add("xterm-underline"), x & r.BLINK && p.classList.add("xterm-blink"), x & r.INVERSE) {
var C = b;
b = w, w = C, 1 & x && w < 8 && (w += 8);
}
x & r.INVISIBLE && p.classList.add("xterm-hidden"), x & r.INVERSE && (257 === b && (b = 15), 256 === w && (w = 0)), b < 256 && p.classList.add("xterm-bg-color-" + b), w < 256 && p.classList.add("xterm-color-" + w);
}
if (2 === y) h += '<span class="xterm-wide-char">' + v + "</span>"; else if (v.charCodeAt(0) > 255) h += '<span class="xterm-normal-char">' + v + "</span>"; else switch (v) {
case "&":
h += "&amp;";
break;

case "<":
h += "&lt;";
break;

case ">":
h += "&gt;";
break;

default:
h += v <= " " ? "&nbsp;" : v;
}
u = m;
}
}
h && !p && (p = this._spanElementObjectPool.acquire()), p && (h && (p.innerHTML = h, h = ""), d.appendChild(p), p = null), this._terminal.children[o].appendChild(d);
}
n && this._terminal.element.appendChild(this._terminal.rowContainer), this._terminal.emit("refresh", {
element: this._terminal.element,
start: e,
end: t
});
}, e.prototype.refreshSelection = function(e, t) {
for (;this._terminal.selectionContainer.children.length; ) this._terminal.selectionContainer.removeChild(this._terminal.selectionContainer.children[0]);
if (e && t) {
var n = e[1] - this._terminal.ydisp, i = t[1] - this._terminal.ydisp, r = Math.max(n, 0), o = Math.min(i, this._terminal.rows - 1);
if (!(r >= this._terminal.rows || o < 0)) {
var a = document.createDocumentFragment(), s = n === r ? e[0] : 0, l = r === o ? t[0] : this._terminal.cols;
a.appendChild(this._createSelectionElement(r, s, l));
var c = o - r - 1;
if (a.appendChild(this._createSelectionElement(r + 1, 0, this._terminal.cols, c)), r !== o) {
var u = i === o ? t[0] : this._terminal.cols;
a.appendChild(this._createSelectionElement(o, 0, u));
}
this._terminal.selectionContainer.appendChild(a);
}
}
}, e.prototype._createSelectionElement = function(e, t, n, i) {
void 0 === i && (i = 1);
var r = document.createElement("div");
return r.style.height = i * this._terminal.charMeasure.height + "px", r.style.top = e * this._terminal.charMeasure.height + "px", r.style.left = t * this._terminal.charMeasure.width + "px", r.style.width = this._terminal.charMeasure.width * (n - t) + "px", r;
}, e;
}();
n.Renderer = s;
}, {
"./utils/DomElementObjectPool": 16
} ],
9: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r, o = e("./utils/Mouse"), a = e("./utils/Browser"), s = e("./EventEmitter"), l = e("./SelectionModel"), c = String.fromCharCode(160), u = new RegExp(c, "g");
!function(e) {
e[e.NORMAL = 0] = "NORMAL", e[e.WORD = 1] = "WORD", e[e.LINE = 2] = "LINE";
}(r || (r = {}));
var d = function(e) {
function t(t, n, i, o) {
var a = e.call(this) || this;
return a._terminal = t, a._buffer = n, a._rowContainer = i, a._charMeasure = o, a._initListeners(), a.enable(), a._model = new l.SelectionModel(t), a._lastMouseDownTime = 0, a._activeSelectionMode = r.NORMAL, a;
}
return i(t, e), t.prototype._initListeners = function() {
var e = this;
this._bufferTrimListener = function(t) {
return e._onTrim(t);
}, this._mouseMoveListener = function(t) {
return e._onMouseMove(t);
}, this._mouseDownListener = function(t) {
return e._onMouseDown(t);
}, this._mouseUpListener = function(t) {
return e._onMouseUp(t);
};
}, t.prototype.disable = function() {
this.clearSelection(), this._buffer.off("trim", this._bufferTrimListener), this._rowContainer.removeEventListener("mousedown", this._mouseDownListener);
}, t.prototype.enable = function() {
this._buffer.on("trim", this._bufferTrimListener), this._rowContainer.addEventListener("mousedown", this._mouseDownListener);
}, t.prototype.setBuffer = function(e) {
this._buffer = e, this.clearSelection();
}, Object.defineProperty(t.prototype, "hasSelection", {
get: function() {
var e = this._model.finalSelectionStart, t = this._model.finalSelectionEnd;
return !(!e || !t) && (e[0] !== t[0] || e[1] !== t[1]);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "selectionText", {
get: function() {
var e = this._model.finalSelectionStart, t = this._model.finalSelectionEnd;
if (!e || !t) return "";
var n = e[1] === t[1] ? t[0] : null, i = [];
i.push(this._translateBufferLineToString(this._buffer.get(e[1]), !0, e[0], n));
for (var r = e[1] + 1; r <= t[1] - 1; r++) {
var o = this._buffer.get(r), s = this._translateBufferLineToString(o, !0);
o.isWrapped ? i[i.length - 1] += s : i.push(s);
}
if (e[1] !== t[1]) {
var o = this._buffer.get(t[1]), s = this._translateBufferLineToString(o, !0, 0, t[0]);
o.isWrapped ? i[i.length - 1] += s : i.push(s);
}
return i.map(function(e) {
return e.replace(u, " ");
}).join(a.isMSWindows ? "\r\n" : "\n");
},
enumerable: !0,
configurable: !0
}), t.prototype.clearSelection = function() {
this._model.clearSelection(), this._removeMouseDownListeners(), this.refresh();
}, t.prototype._translateBufferLineToString = function(e, t, n, i) {
void 0 === n && (n = 0), void 0 === i && (i = null);
for (var r = "", o = n, a = i, s = 0; s < e.length; s++) {
var l = e[s];
r += l[1], 0 === l[2] && (n >= s && o--, i >= s && a--);
}
var c = a || e.length;
if (t) {
var u = r.search(/\s+$/);
if (-1 !== u && (c = Math.min(c, u)), c <= o) return "";
}
return r.substring(o, c);
}, t.prototype.refresh = function(e) {
var t = this;
this._refreshAnimationFrame || (this._refreshAnimationFrame = window.requestAnimationFrame(function() {
return t._refresh();
})), a.isLinux && e && this.selectionText.length && this.emit("newselection", this.selectionText);
}, t.prototype._refresh = function() {
this._refreshAnimationFrame = null, this.emit("refresh", {
start: this._model.finalSelectionStart,
end: this._model.finalSelectionEnd
});
}, t.prototype.selectAll = function() {
this._model.isSelectAllActive = !0, this.refresh();
}, t.prototype._onTrim = function(e) {
this._model.onTrim(e) && this.refresh();
}, t.prototype._getMouseBufferCoords = function(e) {
var t = o.getCoords(e, this._rowContainer, this._charMeasure, this._terminal.cols, this._terminal.rows, !0);
return t[0]--, t[1]--, t[1] += this._terminal.ydisp, t;
}, t.prototype._getMouseEventScrollAmount = function(e) {
var t = o.getCoordsRelativeToElement(e, this._rowContainer)[1], n = this._terminal.rows * this._charMeasure.height;
return t >= 0 && t <= n ? 0 : (t > n && (t -= n), t = Math.min(Math.max(t, -50), 50), (t /= 50) / Math.abs(t) + Math.round(14 * t));
}, t.prototype._onMouseDown = function(e) {
0 === e.button && (e.preventDefault(), this._dragScrollAmount = 0, this._setMouseClickCount(e), e.shiftKey ? this._onShiftClick(e) : 1 === this._clickCount ? this._onSingleClick(e) : 2 === this._clickCount ? this._onDoubleClick(e) : 3 === this._clickCount && this._onTripleClick(e), this._addMouseDownListeners(), this.refresh(!0));
}, t.prototype._addMouseDownListeners = function() {
var e = this;
this._rowContainer.ownerDocument.addEventListener("mousemove", this._mouseMoveListener), this._rowContainer.ownerDocument.addEventListener("mouseup", this._mouseUpListener), this._dragScrollIntervalTimer = setInterval(function() {
return e._dragScroll();
}, 50);
}, t.prototype._removeMouseDownListeners = function() {
this._rowContainer.ownerDocument.removeEventListener("mousemove", this._mouseMoveListener), this._rowContainer.ownerDocument.removeEventListener("mouseup", this._mouseUpListener), clearInterval(this._dragScrollIntervalTimer), this._dragScrollIntervalTimer = null;
}, t.prototype._onShiftClick = function(e) {
this._model.selectionStart && (this._model.selectionEnd = this._getMouseBufferCoords(e));
}, t.prototype._onSingleClick = function(e) {
this._model.selectionStartLength = 0, this._model.isSelectAllActive = !1, this._activeSelectionMode = r.NORMAL, this._model.selectionStart = this._getMouseBufferCoords(e), this._model.selectionStart && (this._model.selectionEnd = null, 0 === this._buffer.get(this._model.selectionStart[1])[this._model.selectionStart[0]][2] && this._model.selectionStart[0]++);
}, t.prototype._onDoubleClick = function(e) {
var t = this._getMouseBufferCoords(e);
t && (this._activeSelectionMode = r.WORD, this._selectWordAt(t));
}, t.prototype._onTripleClick = function(e) {
var t = this._getMouseBufferCoords(e);
t && (this._activeSelectionMode = r.LINE, this._selectLineAt(t[1]));
}, t.prototype._setMouseClickCount = function(e) {
var t = new Date().getTime();
(t - this._lastMouseDownTime > 400 || this._distanceFromLastMousePosition(e) > 10) && (this._clickCount = 0), this._lastMouseDownTime = t, this._lastMousePosition = [ e.pageX, e.pageY ], this._clickCount++;
}, t.prototype._distanceFromLastMousePosition = function(e) {
return Math.max(Math.abs(this._lastMousePosition[0] - e.pageX), Math.abs(this._lastMousePosition[1] - e.pageY));
}, t.prototype._onMouseMove = function(e) {
var t = this._model.selectionEnd ? [ this._model.selectionEnd[0], this._model.selectionEnd[1] ] : null;
if (this._model.selectionEnd = this._getMouseBufferCoords(e), this._activeSelectionMode === r.LINE ? this._model.selectionEnd[1] < this._model.selectionStart[1] ? this._model.selectionEnd[0] = 0 : this._model.selectionEnd[0] = this._terminal.cols : this._activeSelectionMode === r.WORD && this._selectToWordAt(this._model.selectionEnd), this._dragScrollAmount = this._getMouseEventScrollAmount(e), this._dragScrollAmount > 0 ? this._model.selectionEnd[0] = this._terminal.cols - 1 : this._dragScrollAmount < 0 && (this._model.selectionEnd[0] = 0), this._model.selectionEnd[1] < this._buffer.length) {
var n = this._buffer.get(this._model.selectionEnd[1])[this._model.selectionEnd[0]];
n && 0 === n[2] && this._model.selectionEnd[0]++;
}
t && t[0] === this._model.selectionEnd[0] && t[1] === this._model.selectionEnd[1] || this.refresh(!0);
}, t.prototype._dragScroll = function() {
this._dragScrollAmount && (this._terminal.scrollDisp(this._dragScrollAmount, !1), this._dragScrollAmount > 0 ? this._model.selectionEnd = [ this._terminal.cols - 1, this._terminal.ydisp + this._terminal.rows ] : this._model.selectionEnd = [ 0, this._terminal.ydisp ], this.refresh());
}, t.prototype._onMouseUp = function(e) {
this._removeMouseDownListeners();
}, t.prototype._convertViewportColToCharacterIndex = function(e, t) {
for (var n = t[0], i = 0; t[0] >= i; i++) 0 === e[i][2] && n--;
return n;
}, t.prototype._getWordAt = function(e) {
var t = this._buffer.get(e[1]), n = this._translateBufferLineToString(t, !1), i = this._convertViewportColToCharacterIndex(t, e), r = i, o = e[0] - r, a = 0, s = 0;
if (" " === n.charAt(r)) {
for (;r > 0 && " " === n.charAt(r - 1); ) r--;
for (;i < n.length && " " === n.charAt(i + 1); ) i++;
} else {
var l = e[0], c = e[0];
for (0 === t[l][2] && (a++, l--), 2 === t[c][2] && (s++, c++); r > 0 && !this._isCharWordSeparator(n.charAt(r - 1)); ) 0 === t[l - 1][2] && (a++, l--), r--, l--;
for (;i + 1 < n.length && !this._isCharWordSeparator(n.charAt(i + 1)); ) 2 === t[c + 1][2] && (s++, c++), i++, c++;
}
return {
start: r + o - a,
length: Math.min(i - r + a + s + 1, this._terminal.cols)
};
}, t.prototype._selectWordAt = function(e) {
var t = this._getWordAt(e);
this._model.selectionStart = [ t.start, e[1] ], this._model.selectionStartLength = t.length;
}, t.prototype._selectToWordAt = function(e) {
var t = this._getWordAt(e);
this._model.selectionEnd = [ this._model.areSelectionValuesReversed() ? t.start : t.start + t.length, e[1] ];
}, t.prototype._isCharWordSeparator = function(e) {
return " ()[]{}'\"".indexOf(e) >= 0;
}, t.prototype._selectLineAt = function(e) {
this._model.selectionStart = [ 0, e ], this._model.selectionStartLength = this._terminal.cols;
}, t;
}(s.EventEmitter);
n.SelectionManager = d;
}, {
"./EventEmitter": 4,
"./SelectionModel": 10,
"./utils/Browser": 13,
"./utils/Mouse": 18
} ],
10: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e(e) {
this._terminal = e, this.clearSelection();
}
return e.prototype.clearSelection = function() {
this.selectionStart = null, this.selectionEnd = null, this.isSelectAllActive = !1, this.selectionStartLength = 0;
}, Object.defineProperty(e.prototype, "finalSelectionStart", {
get: function() {
return this.isSelectAllActive ? [ 0, 0 ] : this.selectionEnd && this.selectionStart && this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "finalSelectionEnd", {
get: function() {
return this.isSelectAllActive ? [ this._terminal.cols, this._terminal.ybase + this._terminal.rows - 1 ] : this.selectionStart ? !this.selectionEnd || this.areSelectionValuesReversed() ? [ this.selectionStart[0] + this.selectionStartLength, this.selectionStart[1] ] : this.selectionStartLength && this.selectionEnd[1] === this.selectionStart[1] ? [ Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1] ] : this.selectionEnd : null;
},
enumerable: !0,
configurable: !0
}), e.prototype.areSelectionValuesReversed = function() {
var e = this.selectionStart, t = this.selectionEnd;
return e[1] > t[1] || e[1] === t[1] && e[0] > t[0];
}, e.prototype.onTrim = function(e) {
return this.selectionStart && (this.selectionStart[1] -= e), this.selectionEnd && (this.selectionEnd[1] -= e), this.selectionEnd && this.selectionEnd[1] < 0 ? (this.clearSelection(), !0) : (this.selectionStart && this.selectionStart[1] < 0 && (this.selectionStart[1] = 0), !1);
}, e;
}();
n.SelectionModel = i;
}, {} ],
11: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e(e, t, n, i) {
var r = this;
this.terminal = e, this.viewportElement = t, this.scrollArea = n, this.charMeasure = i, this.currentRowHeight = 0, this.lastRecordedBufferLength = 0, this.lastRecordedViewportHeight = 0, this.terminal.on("scroll", this.syncScrollArea.bind(this)), this.terminal.on("resize", this.syncScrollArea.bind(this)), this.viewportElement.addEventListener("scroll", this.onScroll.bind(this)), setTimeout(function() {
return r.syncScrollArea();
}, 0);
}
return e.prototype.refresh = function() {
if (this.charMeasure.height > 0) {
var e = this.charMeasure.height !== this.currentRowHeight;
e && (this.currentRowHeight = this.charMeasure.height, this.viewportElement.style.lineHeight = this.charMeasure.height + "px", this.terminal.rowContainer.style.lineHeight = this.charMeasure.height + "px");
var t = this.lastRecordedViewportHeight !== this.terminal.rows;
(e || t) && (this.lastRecordedViewportHeight = this.terminal.rows, this.viewportElement.style.height = this.charMeasure.height * this.terminal.rows + "px", this.terminal.selectionContainer.style.height = this.viewportElement.style.height), this.scrollArea.style.height = this.charMeasure.height * this.lastRecordedBufferLength + "px";
}
}, e.prototype.syncScrollArea = function() {
this.lastRecordedBufferLength !== this.terminal.lines.length ? (this.lastRecordedBufferLength = this.terminal.lines.length, this.refresh()) : this.lastRecordedViewportHeight !== this.terminal.rows ? this.refresh() : this.charMeasure.height !== this.currentRowHeight && this.refresh();
var e = this.terminal.ydisp * this.currentRowHeight;
this.viewportElement.scrollTop !== e && (this.viewportElement.scrollTop = e);
}, e.prototype.onScroll = function(e) {
var t = Math.round(this.viewportElement.scrollTop / this.currentRowHeight) - this.terminal.ydisp;
this.terminal.scrollDisp(t, !0);
}, e.prototype.onWheel = function(e) {
if (0 !== e.deltaY) {
var t = 1;
e.deltaMode === WheelEvent.DOM_DELTA_LINE ? t = this.currentRowHeight : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t = this.currentRowHeight * this.terminal.rows), this.viewportElement.scrollTop += e.deltaY * t, e.preventDefault();
}
}, e.prototype.onTouchStart = function(e) {
this.lastTouchY = e.touches[0].pageY;
}, e.prototype.onTouchMove = function(e) {
var t = this.lastTouchY - e.touches[0].pageY;
this.lastTouchY = e.touches[0].pageY, 0 !== t && (this.viewportElement.scrollTop += t, e.preventDefault());
}, e;
}();
n.Viewport = i;
}, {} ],
12: [ function(e, t, n) {
"use strict";
function i(e, t) {
return t ? e.replace(/\r?\n/g, "\r") : e;
}
function r(e, t) {
t.style.position = "fixed", t.style.width = "20px", t.style.height = "20px", t.style.left = e.clientX - 10 + "px", t.style.top = e.clientY - 10 + "px", t.style.zIndex = "1000", t.focus(), setTimeout(function() {
t.style.position = null, t.style.width = null, t.style.height = null, t.style.left = null, t.style.top = null, t.style.zIndex = null;
}, 4);
}
Object.defineProperty(n, "__esModule", {
value: !0
}), n.prepareTextForTerminal = i, n.copyHandler = function(e, t, n) {
t.browser.isMSIE ? window.clipboardData.setData("Text", n.selectionText) : e.clipboardData.setData("text/plain", n.selectionText), e.preventDefault();
}, n.pasteHandler = function(e, t) {
e.stopPropagation();
var n = function(n) {
return n = i(n, t.browser.isMSWindows), t.handler(n), t.textarea.value = "", t.emit("paste", n), t.cancel(e);
};
t.browser.isMSIE ? window.clipboardData && n(window.clipboardData.getData("Text")) : e.clipboardData && n(e.clipboardData.getData("text/plain"));
}, n.moveTextAreaUnderMouseCursor = r, n.rightClickHandler = function(e, t, n) {
r(e, t), t.value = n.selectionText, t.select();
};
}, {} ],
13: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = e("./Generic"), r = "undefined" == typeof navigator, o = r ? "node" : navigator.userAgent, a = r ? "node" : navigator.platform;
n.isFirefox = !!~o.indexOf("Firefox"), n.isMSIE = !!~o.indexOf("MSIE") || !!~o.indexOf("Trident"), n.isMac = i.contains([ "Macintosh", "MacIntel", "MacPPC", "Mac68K" ], a), n.isIpad = "iPad" === a, n.isIphone = "iPhone" === a, n.isMSWindows = i.contains([ "Windows", "Win16", "Win32", "WinCE" ], a), n.isLinux = a.indexOf("Linux") >= 0;
}, {
"./Generic": 17
} ],
14: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function(e) {
function t(t, n) {
var i = e.call(this) || this;
return i._document = t, i._parentElement = n, i;
}
return i(t, e), Object.defineProperty(t.prototype, "width", {
get: function() {
return this._width;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "height", {
get: function() {
return this._height;
},
enumerable: !0,
configurable: !0
}), t.prototype.measure = function() {
var e = this;
this._measureElement ? this._doMeasure() : (this._measureElement = this._document.createElement("span"), this._measureElement.style.position = "absolute", this._measureElement.style.top = "0", this._measureElement.style.left = "-9999em", this._measureElement.textContent = "W", this._measureElement.setAttribute("aria-hidden", "true"), this._parentElement.appendChild(this._measureElement), setTimeout(function() {
return e._doMeasure();
}, 0));
}, t.prototype._doMeasure = function() {
var e = this._measureElement.getBoundingClientRect();
0 !== e.width && 0 !== e.height && (this._width === e.width && this._height === e.height || (this._width = e.width, this._height = e.height, this.emit("charsizechanged")));
}, t;
}(e("../EventEmitter.js").EventEmitter);
n.CharMeasure = r;
}, {
"../EventEmitter.js": 4
} ],
15: [ function(e, t, n) {
"use strict";
var i = this && this.__extends || function() {
var e = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
};
return function(t, n) {
function i() {
this.constructor = t;
}
e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i());
};
}();
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function(e) {
function t(t) {
var n = e.call(this) || this;
return n._array = new Array(t), n._startIndex = 0, n._length = 0, n;
}
return i(t, e), Object.defineProperty(t.prototype, "maxLength", {
get: function() {
return this._array.length;
},
set: function(e) {
for (var t = new Array(e), n = 0; n < Math.min(e, this.length); n++) t[n] = this._array[this._getCyclicIndex(n)];
this._array = t, this._startIndex = 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "length", {
get: function() {
return this._length;
},
set: function(e) {
if (e > this._length) for (var t = this._length; t < e; t++) this._array[t] = void 0;
this._length = e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "forEach", {
get: function() {
var e = this;
return function(t) {
for (var n = e.length, i = 0; i < n; i++) t(e.get(i), i);
};
},
enumerable: !0,
configurable: !0
}), t.prototype.get = function(e) {
return this._array[this._getCyclicIndex(e)];
}, t.prototype.set = function(e, t) {
this._array[this._getCyclicIndex(e)] = t;
}, t.prototype.push = function(e) {
this._array[this._getCyclicIndex(this._length)] = e, this._length === this.maxLength ? (++this._startIndex === this.maxLength && (this._startIndex = 0), this.emit("trim", 1)) : this._length++;
}, t.prototype.pop = function() {
return this._array[this._getCyclicIndex(this._length-- - 1)];
}, t.prototype.splice = function(e, t) {
for (var n = [], i = 2; i < arguments.length; i++) n[i - 2] = arguments[i];
if (t) {
for (r = e; r < this._length - t; r++) this._array[this._getCyclicIndex(r)] = this._array[this._getCyclicIndex(r + t)];
this._length -= t;
}
if (n && n.length) {
for (r = this._length - 1; r >= e; r--) this._array[this._getCyclicIndex(r + n.length)] = this._array[this._getCyclicIndex(r)];
for (var r = 0; r < n.length; r++) this._array[this._getCyclicIndex(e + r)] = n[r];
if (this._length + n.length > this.maxLength) {
var o = this._length + n.length - this.maxLength;
this._startIndex += o, this._length = this.maxLength, this.emit("trim", o);
} else this._length += n.length;
}
}, t.prototype.trimStart = function(e) {
e > this._length && (e = this._length), this._startIndex += e, this._length -= e, this.emit("trim", e);
}, t.prototype.shiftElements = function(e, t, n) {
if (!(t <= 0)) {
if (e < 0 || e >= this._length) throw new Error("start argument out of range");
if (e + n < 0) throw new Error("Cannot shift elements in list beyond index 0");
if (n > 0) {
for (r = t - 1; r >= 0; r--) this.set(e + r + n, this.get(e + r));
var i = e + t + n - this._length;
if (i > 0) for (this._length += i; this._length > this.maxLength; ) this._length--, this._startIndex++, this.emit("trim", 1);
} else for (var r = 0; r < t; r++) this.set(e + r + n, this.get(e + r));
}
}, t.prototype._getCyclicIndex = function(e) {
return (this._startIndex + e) % this.maxLength;
}, t;
}(e("../EventEmitter").EventEmitter);
n.CircularList = r;
}, {
"../EventEmitter": 4
} ],
16: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
});
var i = function() {
function e(e) {
this.type = e, this._type = e, this._pool = [], this._inUse = {};
}
return e.prototype.acquire = function() {
var t;
return t = 0 === this._pool.length ? this._createNew() : this._pool.pop(), this._inUse[t.getAttribute(e.OBJECT_ID_ATTRIBUTE)] = t, t;
}, e.prototype.release = function(t) {
if (!this._inUse[t.getAttribute(e.OBJECT_ID_ATTRIBUTE)]) throw new Error("Could not release an element not yet acquired");
delete this._inUse[t.getAttribute(e.OBJECT_ID_ATTRIBUTE)], this._cleanElement(t), this._pool.push(t);
}, e.prototype._createNew = function() {
var t = document.createElement(this._type), n = e._objectCount++;
return t.setAttribute(e.OBJECT_ID_ATTRIBUTE, n.toString(10)), t;
}, e.prototype._cleanElement = function(e) {
e.className = "", e.innerHTML = "";
}, e;
}();
i.OBJECT_ID_ATTRIBUTE = "data-obj-id", i._objectCount = 0, n.DomElementObjectPool = i;
}, {} ],
17: [ function(e, t, n) {
"use strict";
Object.defineProperty(n, "__esModule", {
value: !0
}), n.contains = function(e, t) {
return e.indexOf(t) >= 0;
};
}, {} ],
18: [ function(e, t, n) {
"use strict";
function i(e, t) {
if (null == e.pageX) return null;
for (var n = e.pageX, i = e.pageY; t && t !== self.document.documentElement; ) n -= t.offsetLeft, i -= t.offsetTop, t = "offsetParent" in t ? t.offsetParent : t.parentElement;
return [ n, i ];
}
function r(e, t, n, r, o, a) {
var s = i(e, t);
return s[0] = Math.ceil((s[0] + (a ? n.width / 2 : 0)) / n.width), s[1] = Math.ceil(s[1] / n.height), s[0] = Math.min(Math.max(s[0], 1), r + 1), s[1] = Math.min(Math.max(s[1], 1), o + 1), s;
}
Object.defineProperty(n, "__esModule", {
value: !0
}), n.getCoordsRelativeToElement = i, n.getCoords = r, n.getRawByteCoords = function(e, t, n, i, o) {
var a = r(e, t, n, i, o), s = a[0], l = a[1];
return s += 32, l += 32, {
x: s,
y: l
};
};
}, {} ],
19: [ function(e, t, n) {
"use strict";
function i(e) {
var t = this;
if (!(this instanceof i)) return new i(arguments[0], arguments[1], arguments[2]);
t.browser = C, t.cancel = i.cancel, d.EventEmitter.call(this), "number" == typeof e && (e = {
cols: arguments[0],
rows: arguments[1],
handler: arguments[2]
}), e = e || {}, Object.keys(i.defaults).forEach(function(n) {
null == e[n] && (e[n] = i.options[n], i[n] !== i.defaults[n] && (e[n] = i[n])), t[n] = e[n];
}), 8 === e.colors.length ? e.colors = e.colors.concat(i._colors.slice(8)) : 16 === e.colors.length ? e.colors = e.colors.concat(i._colors.slice(16)) : 10 === e.colors.length ? e.colors = e.colors.slice(0, -2).concat(i._colors.slice(8, -2), e.colors.slice(-2)) : 18 === e.colors.length && (e.colors = e.colors.concat(i._colors.slice(16, -2), e.colors.slice(-2))), this.colors = e.colors, this.options = e, this.parent = e.body || e.parent || (S ? S.getElementsByTagName("body")[0] : null), this.cols = e.cols || e.geometry[0], this.rows = e.rows || e.geometry[1], this.geometry = [ this.cols, this.rows ], e.handler && this.on("data", e.handler), this.ybase = 0, this.ydisp = 0, this.x = 0, this.y = 0, this.cursorState = 0, this.cursorHidden = !1, this.convertEol, this.queue = "", this.scrollTop = 0, this.scrollBottom = this.rows - 1, this.customKeyEventHandler = null, this.cursorBlinkInterval = null, this.applicationKeypad = !1, this.applicationCursor = !1, this.originMode = !1, this.insertMode = !1, 
this.wraparoundMode = !0, this.normal = null, this.charset = null, this.gcharset = null, this.glevel = 0, this.charsets = [ null ], this.decLocator, this.x10Mouse, this.vt200Mouse, this.vt300Mouse, this.normalMouse, this.mouseEvents, this.sendFocus, this.utfMouse, this.sgrMouse, this.urxvtMouse, this.element, this.children, this.refreshStart, this.refreshEnd, this.savedX, this.savedY, this.savedCols, this.readable = !0, this.writable = !0, this.defAttr = 131840, this.curAttr = this.defAttr, this.params = [], this.currentParam = 0, this.prefix = "", this.postfix = "", this.inputHandler = new m.InputHandler(this), this.parser = new v.Parser(this.inputHandler, this), this.renderer = this.renderer || null, this.selectionManager = this.selectionManager || null, this.linkifier = this.linkifier || new b.Linkifier(), this.writeBuffer = [], this.writeInProgress = !1, this.xoffSentToCatchUp = !1, this.writeStopped = !1, this.surrogate_high = "", this.lines = new f.CircularList(this.scrollback);
for (var n = this.rows; n--; ) this.lines.push(this.blankLine());
this.selectionManager && this.selectionManager.setBuffer(this.lines), this.tabs, this.setupStops(), this.userScrolling = !1;
}
function r(e, t, n, i) {
Array.isArray(e) || (e = [ e ]), e.forEach(function(e) {
e.addEventListener(t, n, i || !1);
});
}
function o(e, t, n, i) {
e.removeEventListener(t, n, i || !1);
}
function a(e, t) {
function n() {
this.constructor = e;
}
n.prototype = t.prototype, e.prototype = new n();
}
function s(e, t) {
var n = e.browser.isMac && t.altKey && !t.ctrlKey && !t.metaKey || e.browser.isMSWindows && t.altKey && t.ctrlKey && !t.metaKey;
return "keypress" == t.type ? n : n && (!t.keyCode || t.keyCode > 47);
}
function l(e, t, n) {
var r = e << 16 | t << 8 | n;
if (null != l._cache[r]) return l._cache[r];
for (var o, a, s, c, u, d = 1 / 0, h = -1, p = 0; p < i.vcolors.length; p++) {
if (o = i.vcolors[p], a = o[0], s = o[1], c = o[2], 0 === (u = l.distance(e, t, n, a, s, c))) {
h = p;
break;
}
u < d && (d = u, h = p);
}
return l._cache[r] = h;
}
function c(e) {
return 16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode;
}
Object.defineProperty(n, "__esModule", {
value: !0
});
var u = e("./CompositionHelper"), d = e("./EventEmitter"), h = e("./Viewport"), p = e("./handlers/Clipboard"), f = e("./utils/CircularList"), g = e("./EscapeSequences"), m = e("./InputHandler"), v = e("./Parser"), y = e("./Renderer"), b = e("./Linkifier"), w = e("./SelectionManager"), x = e("./utils/CharMeasure"), C = e("./utils/Browser"), _ = e("./utils/Mouse"), S = "undefined" != typeof window ? window.document : null;
a(i, d.EventEmitter), i.prototype.eraseAttr = function() {
return -512 & this.defAttr | 511 & this.curAttr;
}, i.tangoColors = [ "#2e3436", "#cc0000", "#4e9a06", "#c4a000", "#3465a4", "#75507b", "#06989a", "#d3d7cf", "#555753", "#ef2929", "#8ae234", "#fce94f", "#729fcf", "#ad7fa8", "#34e2e2", "#eeeeec" ], i.colors = function() {
function e(e, n, i) {
r.push("#" + t(e) + t(n) + t(i));
}
function t(e) {
return (e = e.toString(16)).length < 2 ? "0" + e : e;
}
var n, r = i.tangoColors.slice(), o = [ 0, 95, 135, 175, 215, 255 ];
for (n = 0; n < 216; n++) e(o[n / 36 % 6 | 0], o[n / 6 % 6 | 0], o[n % 6]);
for (n = 0; n < 24; n++) e(o = 8 + 10 * n, o, o);
return r;
}(), i._colors = i.colors.slice(), i.vcolors = function() {
for (var e, t = [], n = i.colors, r = 0; r < 256; r++) e = parseInt(n[r].substring(1), 16), t.push([ e >> 16 & 255, e >> 8 & 255, 255 & e ]);
return t;
}(), i.defaults = {
colors: i.colors,
theme: "default",
convertEol: !1,
termName: "xterm",
geometry: [ 80, 24 ],
cursorBlink: !1,
cursorStyle: "block",
visualBell: !1,
popOnBell: !1,
scrollback: 1e3,
screenKeys: !1,
debug: !1,
cancelEvents: !1,
disableStdin: !1,
useFlowControl: !1,
tabStopWidth: 8
}, i.options = {}, i.focus = null, function(e, t, n) {
if (e.forEach) return e.forEach(t, n);
for (var i = 0; i < e.length; i++) t.call(n, e[i], i, e);
}(function(e) {
if (Object.keys) return Object.keys(e);
var t, n = [];
for (t in e) Object.prototype.hasOwnProperty.call(e, t) && n.push(t);
return n;
}(i.defaults), function(e) {
i[e] = i.defaults[e], i.options[e] = i.defaults[e];
}), i.prototype.focus = function() {
return this.textarea.focus();
}, i.prototype.getOption = function(e, t) {
if (!(e in i.defaults)) throw new Error('No option with key "' + e + '"');
return void 0 !== this.options[e] ? this.options[e] : this[e];
}, i.prototype.setOption = function(e, t) {
if (!(e in i.defaults)) throw new Error('No option with key "' + e + '"');
switch (e) {
case "scrollback":
if (t < this.rows) {
var n = "Setting the scrollback value less than the number of rows ";
return n += "(" + this.rows + ") is not allowed.", console.warn(n), !1;
}
if (this.options[e] !== t) {
if (this.lines.length > t) {
var r = this.lines.length - t, o = this.ydisp - r < 0;
this.lines.trimStart(r), this.ybase = Math.max(this.ybase - r, 0), this.ydisp = Math.max(this.ydisp - r, 0), o && this.refresh(0, this.rows - 1);
}
this.lines.maxLength = t, this.viewport.syncScrollArea();
}
}
switch (this[e] = t, this.options[e] = t, e) {
case "cursorBlink":
this.setCursorBlinking(t);
break;

case "cursorStyle":
this.element.classList.toggle("xterm-cursor-style-underline", "underline" === t), this.element.classList.toggle("xterm-cursor-style-bar", "bar" === t);
break;

case "tabStopWidth":
this.setupStops();
}
}, i.prototype.restartCursorBlinking = function() {
this.setCursorBlinking(this.options.cursorBlink);
}, i.prototype.setCursorBlinking = function(e) {
if (this.element.classList.toggle("xterm-cursor-blink", e), this.clearCursorBlinkingInterval(), e) {
var t = this;
this.cursorBlinkInterval = setInterval(function() {
t.element.classList.toggle("xterm-cursor-blink-on");
}, 600);
}
}, i.prototype.clearCursorBlinkingInterval = function() {
this.element.classList.remove("xterm-cursor-blink-on"), this.cursorBlinkInterval && (clearInterval(this.cursorBlinkInterval), this.cursorBlinkInterval = null);
}, i.bindFocus = function(e) {
r(e.textarea, "focus", function(t) {
e.sendFocus && e.send(g.C0.ESC + "[I"), e.element.classList.add("focus"), e.showCursor(), e.restartCursorBlinking.apply(e), i.focus = e, e.emit("focus", {
terminal: e
});
});
}, i.prototype.blur = function() {
return this.textarea.blur();
}, i.bindBlur = function(e) {
r(e.textarea, "blur", function(t) {
e.refresh(e.y, e.y), e.sendFocus && e.send(g.C0.ESC + "[O"), e.element.classList.remove("focus"), e.clearCursorBlinkingInterval.apply(e), i.focus = null, e.emit("blur", {
terminal: e
});
});
}, i.prototype.initGlobal = function() {
var e = this, t = this;
i.bindKeys(this), i.bindFocus(this), i.bindBlur(this), r(this.element, "copy", function(n) {
e.mouseEvents || p.copyHandler(n, t, e.selectionManager);
});
var n = function(e) {
return p.pasteHandler(e, t);
};
r(this.textarea, "paste", n), r(this.element, "paste", n), t.browser.isFirefox ? r(this.element, "mousedown", function(t) {
2 == t.button && p.rightClickHandler(t, e.textarea, e.selectionManager);
}) : r(this.element, "contextmenu", function(t) {
p.rightClickHandler(t, e.textarea, e.selectionManager);
}), t.browser.isLinux && r(this.element, "auxclick", function(t) {
1 === t.button && p.moveTextAreaUnderMouseCursor(t, e.textarea, e.selectionManager);
});
}, i.bindKeys = function(e) {
r(e.element, "keydown", function(t) {
S.activeElement == this && e.keyDown(t);
}, !0), r(e.element, "keypress", function(t) {
S.activeElement == this && e.keyPress(t);
}, !0), r(e.element, "keyup", function(t) {
c(t) || e.focus(e);
}, !0), r(e.textarea, "keydown", function(t) {
e.keyDown(t);
}, !0), r(e.textarea, "keypress", function(t) {
e.keyPress(t), this.value = "";
}, !0), r(e.textarea, "compositionstart", e.compositionHelper.compositionstart.bind(e.compositionHelper)), r(e.textarea, "compositionupdate", e.compositionHelper.compositionupdate.bind(e.compositionHelper)), r(e.textarea, "compositionend", e.compositionHelper.compositionend.bind(e.compositionHelper)), e.on("refresh", e.compositionHelper.updateCompositionElements.bind(e.compositionHelper)), e.on("refresh", function(t) {
e.queueLinkification(t.start, t.end);
});
}, i.prototype.insertRow = function(e) {
return "object" != typeof e && (e = S.createElement("div")), this.rowContainer.appendChild(e), this.children.push(e), e;
}, i.prototype.open = function(e, t) {
var n = this, i = this, o = 0;
if (this.parent = e || this.parent, !this.parent) throw new Error("Terminal requires a parent element.");
for (this.context = this.parent.ownerDocument.defaultView, this.document = this.parent.ownerDocument, this.body = this.document.getElementsByTagName("body")[0], this.element = this.document.createElement("div"), this.element.classList.add("terminal"), this.element.classList.add("xterm"), this.element.classList.add("xterm-theme-" + this.theme), this.setCursorBlinking(this.options.cursorBlink), this.element.setAttribute("tabindex", 0), this.viewportElement = S.createElement("div"), this.viewportElement.classList.add("xterm-viewport"), this.element.appendChild(this.viewportElement), this.viewportScrollArea = S.createElement("div"), this.viewportScrollArea.classList.add("xterm-scroll-area"), this.viewportElement.appendChild(this.viewportScrollArea), this.selectionContainer = S.createElement("div"), this.selectionContainer.classList.add("xterm-selection"), this.element.appendChild(this.selectionContainer), this.rowContainer = S.createElement("div"), this.rowContainer.classList.add("xterm-rows"), 
this.element.appendChild(this.rowContainer), this.children = [], this.linkifier.attachToDom(S, this.children), this.helperContainer = S.createElement("div"), this.helperContainer.classList.add("xterm-helpers"), this.element.appendChild(this.helperContainer), this.textarea = S.createElement("textarea"), this.textarea.classList.add("xterm-helper-textarea"), this.textarea.setAttribute("autocorrect", "off"), this.textarea.setAttribute("autocapitalize", "off"), this.textarea.setAttribute("spellcheck", "false"), this.textarea.tabIndex = 0, this.textarea.addEventListener("focus", function() {
i.emit("focus", {
terminal: i
});
}), this.textarea.addEventListener("blur", function() {
i.emit("blur", {
terminal: i
});
}), this.helperContainer.appendChild(this.textarea), this.compositionView = S.createElement("div"), this.compositionView.classList.add("composition-view"), this.compositionHelper = new u.CompositionHelper(this.textarea, this.compositionView, this), this.helperContainer.appendChild(this.compositionView), this.charSizeStyleElement = S.createElement("style"), this.helperContainer.appendChild(this.charSizeStyleElement); o < this.rows; o++) this.insertRow();
if (this.parent.appendChild(this.element), this.charMeasure = new x.CharMeasure(S, this.helperContainer), this.charMeasure.on("charsizechanged", function() {
i.updateCharSizeStyles();
}), this.charMeasure.measure(), this.viewport = new h.Viewport(this, this.viewportElement, this.viewportScrollArea, this.charMeasure), this.renderer = new y.Renderer(this), this.selectionManager = new w.SelectionManager(this, this.lines, this.rowContainer, this.charMeasure), this.selectionManager.on("refresh", function(e) {
n.renderer.refreshSelection(e.start, e.end);
}), this.selectionManager.on("newselection", function(e) {
n.textarea.value = e, n.textarea.focus(), n.textarea.select();
}), this.on("scroll", function() {
return n.selectionManager.refresh();
}), this.viewportElement.addEventListener("scroll", function() {
return n.selectionManager.refresh();
}), this.refresh(0, this.rows - 1), this.initGlobal(), void 0 === t) {
var a = "You did not pass the `focus` argument in `Terminal.prototype.open()`.\n";
a += "The `focus` argument now defaults to `true` but starting with xterm.js 3.0 ", a += "it will default to `false`.", console.warn(a), t = !0;
}
t && this.focus(), r(this.element, "click", function() {
var e = S.getSelection(), t = e.isCollapsed;
("boolean" == typeof t ? !t : "Range" == e.type) || i.focus();
}), this.bindMouse(), this.emit("open");
}, i.loadAddon = function(i, r) {
return "object" == typeof n && "object" == typeof t ? e("./addons/" + i + "/" + i) : (console.error("Cannot load a module without a CommonJS or RequireJS environment."), !1);
}, i.prototype.updateCharSizeStyles = function() {
this.charSizeStyleElement.textContent = ".xterm-wide-char{width:" + 2 * this.charMeasure.width + "px;}.xterm-normal-char{width:" + this.charMeasure.width + "px;}.xterm-rows > div{height:" + this.charMeasure.height + "px;}";
}, i.prototype.bindMouse = function() {
function e(e) {
var t, n;
if (t = a(e), n = _.getRawByteCoords(e, l.rowContainer, l.charMeasure, l.cols, l.rows)) switch (i(t, n), e.overrideType || e.type) {
case "mousedown":
c = t;
break;

case "mouseup":
c = 32;
}
}
function t(e) {
var t, n = c;
(t = _.getRawByteCoords(e, l.rowContainer, l.charMeasure, l.cols, l.rows)) && i(n += 32, t);
}
function n(e, t) {
if (l.utfMouse) {
if (2047 === t) return e.push(0);
t < 127 ? e.push(t) : (t > 2047 && (t = 2047), e.push(192 | t >> 6), e.push(128 | 63 & t));
} else {
if (255 === t) return e.push(0);
t > 127 && (t = 127), e.push(t);
}
}
function i(e, t) {
if (l.vt300Mouse) {
e &= 3, t.x -= 32, t.y -= 32;
var i = g.C0.ESC + "[24";
if (0 === e) i += "1"; else if (1 === e) i += "3"; else if (2 === e) i += "5"; else {
if (3 === e) return;
i += "0";
}
return i += "~[" + t.x + "," + t.y + "]\r", void l.send(i);
}
return l.decLocator ? (e &= 3, t.x -= 32, t.y -= 32, 0 === e ? e = 2 : 1 === e ? e = 4 : 2 === e ? e = 6 : 3 === e && (e = 3), void l.send(g.C0.ESC + "[" + e + ";" + (3 === e ? 4 : 0) + ";" + t.y + ";" + t.x + ";" + (t.page || 0) + "&w")) : l.urxvtMouse ? (t.x -= 32, t.y -= 32, t.x++, t.y++, void l.send(g.C0.ESC + "[" + e + ";" + t.x + ";" + t.y + "M")) : l.sgrMouse ? (t.x -= 32, t.y -= 32, void l.send(g.C0.ESC + "[<" + ((3 == (3 & e) ? -4 & e : e) - 32) + ";" + t.x + ";" + t.y + (3 == (3 & e) ? "m" : "M"))) : (n(i = [], e), n(i, t.x), n(i, t.y), void l.send(g.C0.ESC + "[M" + String.fromCharCode.apply(String, i)));
}
function a(e) {
var t, n, i, r, o;
switch (e.overrideType || e.type) {
case "mousedown":
t = null != e.button ? +e.button : null != e.which ? e.which - 1 : null, l.browser.isMSIE && (t = 1 === t ? 0 : 4 === t ? 1 : t);
break;

case "mouseup":
t = 3;
break;

case "DOMMouseScroll":
t = e.detail < 0 ? 64 : 65;
break;

case "wheel":
t = e.wheelDeltaY > 0 ? 64 : 65;
}
return n = e.shiftKey ? 4 : 0, i = e.metaKey ? 8 : 0, r = e.ctrlKey ? 16 : 0, o = n | i | r, l.vt200Mouse ? o &= r : l.normalMouse || (o = 0), t = 32 + (o << 2) + t;
}
var s = this.element, l = this, c = 32;
r(s, "mousedown", function(n) {
if (l.mouseEvents) return e(n), l.focus(), l.vt200Mouse ? (n.overrideType = "mouseup", e(n), l.cancel(n)) : (l.normalMouse && r(l.document, "mousemove", t), l.x10Mouse || r(l.document, "mouseup", function n(i) {
return e(i), l.normalMouse && o(l.document, "mousemove", t), o(l.document, "mouseup", n), l.cancel(i);
}), l.cancel(n));
}), r(s, "wheel", function(t) {
if (l.mouseEvents && !(l.x10Mouse || l.vt300Mouse || l.decLocator)) return e(t), l.cancel(t);
}), r(s, "wheel", function(e) {
if (!l.mouseEvents) return l.viewport.onWheel(e), l.cancel(e);
}), r(s, "touchstart", function(e) {
if (!l.mouseEvents) return l.viewport.onTouchStart(e), l.cancel(e);
}), r(s, "touchmove", function(e) {
if (!l.mouseEvents) return l.viewport.onTouchMove(e), l.cancel(e);
});
}, i.prototype.destroy = function() {
this.readable = !1, this.writable = !1, this._events = {}, this.handler = function() {}, this.write = function() {}, this.element && this.element.parentNode && this.element.parentNode.removeChild(this.element);
}, i.prototype.refresh = function(e, t) {
this.renderer && this.renderer.queueRefresh(e, t);
}, i.prototype.queueLinkification = function(e, t) {
if (this.linkifier) for (var n = e; n <= t; n++) this.linkifier.linkifyRow(n);
}, i.prototype.showCursor = function() {
this.cursorState || (this.cursorState = 1, this.refresh(this.y, this.y));
}, i.prototype.scroll = function(e) {
var t;
this.lines.length === this.lines.maxLength && (this.lines.trimStart(1), this.ybase--, 0 !== this.ydisp && this.ydisp--), this.ybase++, this.userScrolling || (this.ydisp = this.ybase), t = this.ybase + this.rows - 1, (t -= this.rows - 1 - this.scrollBottom) === this.lines.length ? this.lines.push(this.blankLine(void 0, e)) : this.lines.splice(t, 0, this.blankLine(void 0, e)), 0 !== this.scrollTop && (0 !== this.ybase && (this.ybase--, this.userScrolling || (this.ydisp = this.ybase)), this.lines.splice(this.ybase + this.scrollTop, 1)), this.updateRange(this.scrollTop), this.updateRange(this.scrollBottom), this.emit("scroll", this.ydisp);
}, i.prototype.scrollDisp = function(e, t) {
if (e < 0) {
if (0 === this.ydisp) return;
this.userScrolling = !0;
} else e + this.ydisp >= this.ybase && (this.userScrolling = !1);
this.ydisp += e, this.ydisp > this.ybase ? this.ydisp = this.ybase : this.ydisp < 0 && (this.ydisp = 0), t || this.emit("scroll", this.ydisp), this.refresh(0, this.rows - 1);
}, i.prototype.scrollPages = function(e) {
this.scrollDisp(e * (this.rows - 1));
}, i.prototype.scrollToTop = function() {
this.scrollDisp(-this.ydisp);
}, i.prototype.scrollToBottom = function() {
this.scrollDisp(this.ybase - this.ydisp);
}, i.prototype.write = function(e) {
if (this.writeBuffer.push(e), this.options.useFlowControl && !this.xoffSentToCatchUp && this.writeBuffer.length >= 5 && (this.send(g.C0.DC3), this.xoffSentToCatchUp = !0), !this.writeInProgress && this.writeBuffer.length > 0) {
this.writeInProgress = !0;
var t = this;
setTimeout(function() {
t.innerWrite();
});
}
}, i.prototype.innerWrite = function() {
for (var e = this.writeBuffer.splice(0, 300); e.length > 0; ) {
var t = e.shift();
t.length;
this.xoffSentToCatchUp && 0 === e.length && 0 === this.writeBuffer.length && (this.send(g.C0.DC1), this.xoffSentToCatchUp = !1), this.refreshStart = this.y, this.refreshEnd = this.y;
var n = this.parser.parse(t);
this.parser.setState(n), this.updateRange(this.y), this.refresh(this.refreshStart, this.refreshEnd);
}
if (this.writeBuffer.length > 0) {
var i = this;
setTimeout(function() {
i.innerWrite();
}, 0);
} else this.writeInProgress = !1;
}, i.prototype.writeln = function(e) {
this.write(e + "\r\n");
}, i.prototype.attachCustomKeydownHandler = function(e) {
console.warn("attachCustomKeydownHandler() is DEPRECATED and will be removed soon. Please use attachCustomKeyEventHandler() instead."), this.attachCustomKeyEventHandler(e);
}, i.prototype.attachCustomKeyEventHandler = function(e) {
this.customKeyEventHandler = e;
}, i.prototype.setHypertextLinkHandler = function(e) {
if (!this.linkifier) throw new Error("Cannot attach a hypertext link handler before Terminal.open is called");
this.linkifier.setHypertextLinkHandler(e), this.refresh(0, this.rows - 1);
}, i.prototype.setHypertextValidationCallback = function(e) {
if (!this.linkifier) throw new Error("Cannot attach a hypertext validation callback before Terminal.open is called");
this.linkifier.setHypertextValidationCallback(e), this.refresh(0, this.rows - 1);
}, i.prototype.registerLinkMatcher = function(e, t, n) {
if (this.linkifier) {
var i = this.linkifier.registerLinkMatcher(e, t, n);
return this.refresh(0, this.rows - 1), i;
}
}, i.prototype.deregisterLinkMatcher = function(e) {
this.linkifier && this.linkifier.deregisterLinkMatcher(e) && this.refresh(0, this.rows - 1);
}, i.prototype.hasSelection = function() {
return this.selectionManager.hasSelection;
}, i.prototype.getSelection = function() {
return this.selectionManager.selectionText;
}, i.prototype.clearSelection = function() {
this.selectionManager.clearSelection();
}, i.prototype.selectAll = function() {
this.selectionManager.selectAll();
}, i.prototype.keyDown = function(e) {
if (this.customKeyEventHandler && !1 === this.customKeyEventHandler(e)) return !1;
if (this.restartCursorBlinking(), !this.compositionHelper.keydown.bind(this.compositionHelper)(e)) return this.ybase !== this.ydisp && this.scrollToBottom(), !1;
var t = this.evaluateKeyEscapeSequence(e);
return t.key === g.C0.DC3 ? this.writeStopped = !0 : t.key === g.C0.DC1 && (this.writeStopped = !1), t.scrollDisp ? (this.scrollDisp(t.scrollDisp), this.cancel(e, !0)) : !!s(this, e) || (t.cancel && this.cancel(e, !0), !t.key || (this.emit("keydown", e), this.emit("key", t.key, e), this.showCursor(), this.handler(t.key), this.cancel(e, !0)));
}, i.prototype.evaluateKeyEscapeSequence = function(e) {
var t = {
cancel: !1,
key: void 0,
scrollDisp: void 0
}, n = e.shiftKey << 0 | e.altKey << 1 | e.ctrlKey << 2 | e.metaKey << 3;
switch (e.keyCode) {
case 8:
if (e.shiftKey) {
t.key = g.C0.BS;
break;
}
t.key = g.C0.DEL;
break;

case 9:
if (e.shiftKey) {
t.key = g.C0.ESC + "[Z";
break;
}
t.key = g.C0.HT, t.cancel = !0;
break;

case 13:
t.key = g.C0.CR, t.cancel = !0;
break;

case 27:
t.key = g.C0.ESC, t.cancel = !0;
break;

case 37:
n ? (t.key = g.C0.ESC + "[1;" + (n + 1) + "D", t.key == g.C0.ESC + "[1;3D" && (t.key = this.browser.isMac ? g.C0.ESC + "b" : g.C0.ESC + "[1;5D")) : this.applicationCursor ? t.key = g.C0.ESC + "OD" : t.key = g.C0.ESC + "[D";
break;

case 39:
n ? (t.key = g.C0.ESC + "[1;" + (n + 1) + "C", t.key == g.C0.ESC + "[1;3C" && (t.key = this.browser.isMac ? g.C0.ESC + "f" : g.C0.ESC + "[1;5C")) : this.applicationCursor ? t.key = g.C0.ESC + "OC" : t.key = g.C0.ESC + "[C";
break;

case 38:
n ? (t.key = g.C0.ESC + "[1;" + (n + 1) + "A", t.key == g.C0.ESC + "[1;3A" && (t.key = g.C0.ESC + "[1;5A")) : this.applicationCursor ? t.key = g.C0.ESC + "OA" : t.key = g.C0.ESC + "[A";
break;

case 40:
n ? (t.key = g.C0.ESC + "[1;" + (n + 1) + "B", t.key == g.C0.ESC + "[1;3B" && (t.key = g.C0.ESC + "[1;5B")) : this.applicationCursor ? t.key = g.C0.ESC + "OB" : t.key = g.C0.ESC + "[B";
break;

case 45:
e.shiftKey || e.ctrlKey || (t.key = g.C0.ESC + "[2~");
break;

case 46:
t.key = n ? g.C0.ESC + "[3;" + (n + 1) + "~" : g.C0.ESC + "[3~";
break;

case 36:
n ? t.key = g.C0.ESC + "[1;" + (n + 1) + "H" : this.applicationCursor ? t.key = g.C0.ESC + "OH" : t.key = g.C0.ESC + "[H";
break;

case 35:
n ? t.key = g.C0.ESC + "[1;" + (n + 1) + "F" : this.applicationCursor ? t.key = g.C0.ESC + "OF" : t.key = g.C0.ESC + "[F";
break;

case 33:
e.shiftKey ? t.scrollDisp = -(this.rows - 1) : t.key = g.C0.ESC + "[5~";
break;

case 34:
e.shiftKey ? t.scrollDisp = this.rows - 1 : t.key = g.C0.ESC + "[6~";
break;

case 112:
t.key = n ? g.C0.ESC + "[1;" + (n + 1) + "P" : g.C0.ESC + "OP";
break;

case 113:
t.key = n ? g.C0.ESC + "[1;" + (n + 1) + "Q" : g.C0.ESC + "OQ";
break;

case 114:
t.key = n ? g.C0.ESC + "[1;" + (n + 1) + "R" : g.C0.ESC + "OR";
break;

case 115:
t.key = n ? g.C0.ESC + "[1;" + (n + 1) + "S" : g.C0.ESC + "OS";
break;

case 116:
t.key = n ? g.C0.ESC + "[15;" + (n + 1) + "~" : g.C0.ESC + "[15~";
break;

case 117:
t.key = n ? g.C0.ESC + "[17;" + (n + 1) + "~" : g.C0.ESC + "[17~";
break;

case 118:
t.key = n ? g.C0.ESC + "[18;" + (n + 1) + "~" : g.C0.ESC + "[18~";
break;

case 119:
t.key = n ? g.C0.ESC + "[19;" + (n + 1) + "~" : g.C0.ESC + "[19~";
break;

case 120:
t.key = n ? g.C0.ESC + "[20;" + (n + 1) + "~" : g.C0.ESC + "[20~";
break;

case 121:
t.key = n ? g.C0.ESC + "[21;" + (n + 1) + "~" : g.C0.ESC + "[21~";
break;

case 122:
t.key = n ? g.C0.ESC + "[23;" + (n + 1) + "~" : g.C0.ESC + "[23~";
break;

case 123:
t.key = n ? g.C0.ESC + "[24;" + (n + 1) + "~" : g.C0.ESC + "[24~";
break;

default:
!e.ctrlKey || e.shiftKey || e.altKey || e.metaKey ? this.browser.isMac || !e.altKey || e.ctrlKey || e.metaKey ? this.browser.isMac && !e.altKey && !e.ctrlKey && e.metaKey && 65 === e.keyCode && this.selectAll() : e.keyCode >= 65 && e.keyCode <= 90 ? t.key = g.C0.ESC + String.fromCharCode(e.keyCode + 32) : 192 === e.keyCode ? t.key = g.C0.ESC + "`" : e.keyCode >= 48 && e.keyCode <= 57 && (t.key = g.C0.ESC + (e.keyCode - 48)) : e.keyCode >= 65 && e.keyCode <= 90 ? t.key = String.fromCharCode(e.keyCode - 64) : 32 === e.keyCode ? t.key = String.fromCharCode(0) : e.keyCode >= 51 && e.keyCode <= 55 ? t.key = String.fromCharCode(e.keyCode - 51 + 27) : 56 === e.keyCode ? t.key = String.fromCharCode(127) : 219 === e.keyCode ? t.key = String.fromCharCode(27) : 220 === e.keyCode ? t.key = String.fromCharCode(28) : 221 === e.keyCode && (t.key = String.fromCharCode(29));
}
return t;
}, i.prototype.setgLevel = function(e) {
this.glevel = e, this.charset = this.charsets[e];
}, i.prototype.setgCharset = function(e, t) {
this.charsets[e] = t, this.glevel === e && (this.charset = t);
}, i.prototype.keyPress = function(e) {
var t;
if (this.customKeyEventHandler && !1 === this.customKeyEventHandler(e)) return !1;
if (this.cancel(e), e.charCode) t = e.charCode; else if (null == e.which) t = e.keyCode; else {
if (0 === e.which || 0 === e.charCode) return !1;
t = e.which;
}
return !(!t || (e.altKey || e.ctrlKey || e.metaKey) && !s(this, e)) && (t = String.fromCharCode(t), this.emit("keypress", t, e), this.emit("key", t, e), this.showCursor(), this.handler(t), !0);
}, i.prototype.send = function(e) {
var t = this;
this.queue || setTimeout(function() {
t.handler(t.queue), t.queue = "";
}, 1), this.queue += e;
}, i.prototype.bell = function() {
if (this.visualBell) {
var e = this;
this.element.style.borderColor = "white", setTimeout(function() {
e.element.style.borderColor = "";
}, 10), this.popOnBell && this.focus();
}
}, i.prototype.log = function() {
if (this.debug && this.context.console && this.context.console.log) {
var e = Array.prototype.slice.call(arguments);
this.context.console.log.apply(this.context.console, e);
}
}, i.prototype.error = function() {
if (this.debug && this.context.console && this.context.console.error) {
var e = Array.prototype.slice.call(arguments);
this.context.console.error.apply(this.context.console, e);
}
}, i.prototype.resize = function(e, t) {
if (!isNaN(e) && !isNaN(t)) {
t > this.getOption("scrollback") && this.setOption("scrollback", t);
var n, i, r, o, a;
if (e !== this.cols || t !== this.rows) {
if (e < 1 && (e = 1), t < 1 && (t = 1), (r = this.cols) < e) for (o = [ this.defAttr, " ", 1 ], i = this.lines.length; i--; ) for (;this.lines.get(i).length < e; ) this.lines.get(i).push(o);
if (this.cols = e, this.setupStops(this.cols), r = this.rows, a = 0, r < t) for (n = this.element; r++ < t; ) this.lines.length < t + this.ybase && (this.ybase > 0 && this.lines.length <= this.ybase + this.y + a + 1 ? (this.ybase--, a++, this.ydisp > 0 && this.ydisp--) : this.lines.push(this.blankLine())), this.children.length < t && this.insertRow(); else for (;r-- > t; ) if (this.lines.length > t + this.ybase && (this.lines.length > this.ybase + this.y + 1 ? this.lines.pop() : (this.ybase++, this.ydisp++)), this.children.length > t) {
if (!(n = this.children.shift())) continue;
n.parentNode.removeChild(n);
}
this.rows = t, this.y >= t && (this.y = t - 1), a && (this.y += a), this.x >= e && (this.x = e - 1), this.scrollTop = 0, this.scrollBottom = t - 1, this.charMeasure.measure(), this.refresh(0, this.rows - 1), this.normal = null, this.geometry = [ this.cols, this.rows ], this.emit("resize", {
terminal: this,
cols: e,
rows: t
});
}
}
}, i.prototype.updateRange = function(e) {
e < this.refreshStart && (this.refreshStart = e), e > this.refreshEnd && (this.refreshEnd = e);
}, i.prototype.maxRange = function() {
this.refreshStart = 0, this.refreshEnd = this.rows - 1;
}, i.prototype.setupStops = function(e) {
for (null != e ? this.tabs[e] || (e = this.prevStop(e)) : (this.tabs = {}, e = 0); e < this.cols; e += this.getOption("tabStopWidth")) this.tabs[e] = !0;
}, i.prototype.prevStop = function(e) {
for (null == e && (e = this.x); !this.tabs[--e] && e > 0; ) ;
return e >= this.cols ? this.cols - 1 : e < 0 ? 0 : e;
}, i.prototype.nextStop = function(e) {
for (null == e && (e = this.x); !this.tabs[++e] && e < this.cols; ) ;
return e >= this.cols ? this.cols - 1 : e < 0 ? 0 : e;
}, i.prototype.eraseRight = function(e, t) {
var n = this.lines.get(this.ybase + t);
if (n) {
for (var i = [ this.eraseAttr(), " ", 1 ]; e < this.cols; e++) n[e] = i;
this.updateRange(t);
}
}, i.prototype.eraseLeft = function(e, t) {
var n = this.lines.get(this.ybase + t);
if (n) {
var i = [ this.eraseAttr(), " ", 1 ];
for (e++; e--; ) n[e] = i;
this.updateRange(t);
}
}, i.prototype.clear = function() {
if (0 !== this.ybase || 0 !== this.y) {
this.lines.set(0, this.lines.get(this.ybase + this.y)), this.lines.length = 1, this.ydisp = 0, this.ybase = 0, this.y = 0;
for (var e = 1; e < this.rows; e++) this.lines.push(this.blankLine());
this.refresh(0, this.rows - 1), this.emit("scroll", this.ydisp);
}
}, i.prototype.eraseLine = function(e) {
this.eraseRight(0, e);
}, i.prototype.blankLine = function(e, t) {
var n = [ e ? this.eraseAttr() : this.defAttr, " ", 1 ], i = [], r = 0;
for (t && (i.isWrapped = t); r < this.cols; r++) i[r] = n;
return i;
}, i.prototype.ch = function(e) {
return e ? [ this.eraseAttr(), " ", 1 ] : [ this.defAttr, " ", 1 ];
}, i.prototype.is = function(e) {
return 0 === (this.termName + "").indexOf(e);
}, i.prototype.handler = function(e) {
this.options.disableStdin || (this.ybase !== this.ydisp && this.scrollToBottom(), this.emit("data", e));
}, i.prototype.handleTitle = function(e) {
this.emit("title", e);
}, i.prototype.index = function() {
++this.y > this.scrollBottom && (this.y--, this.scroll()), this.x >= this.cols && this.x--;
}, i.prototype.reverseIndex = function() {
this.y === this.scrollTop ? (this.lines.shiftElements(this.y + this.ybase, this.rows - 1, 1), this.lines.set(this.y + this.ybase, this.blankLine(!0)), this.updateRange(this.scrollTop), this.updateRange(this.scrollBottom)) : this.y--;
}, i.prototype.reset = function() {
this.options.rows = this.rows, this.options.cols = this.cols;
var e = this.customKeyEventHandler, t = this.cursorBlinkInterval;
i.call(this, this.options), this.customKeyEventHandler = e, this.cursorBlinkInterval = t, this.refresh(0, this.rows - 1), this.viewport.syncScrollArea();
}, i.prototype.tabSet = function() {
this.tabs[this.x] = !0;
}, i.prototype.matchColor = l, l._cache = {}, l.distance = function(e, t, n, i, r, o) {
return Math.pow(30 * (e - i), 2) + Math.pow(59 * (t - r), 2) + Math.pow(11 * (n - o), 2);
}, i.EventEmitter = d.EventEmitter, i.inherits = a, i.on = r, i.off = o, i.cancel = function(e, t) {
if (this.cancelEvents || t) return e.preventDefault(), e.stopPropagation(), !1;
}, t.exports = i;
}, {
"./CompositionHelper": 2,
"./EscapeSequences": 3,
"./EventEmitter": 4,
"./InputHandler": 5,
"./Linkifier": 6,
"./Parser": 7,
"./Renderer": 8,
"./SelectionManager": 9,
"./Viewport": 11,
"./handlers/Clipboard": 12,
"./utils/Browser": 13,
"./utils/CharMeasure": 14,
"./utils/CircularList": 15,
"./utils/Mouse": 18
} ]
}, {}, [ 19 ])(19);
}), function(e, t) {
"function" == typeof define && define.amd ? define([ "angular", "term" ], t) : t(e.angular, e.Terminal);
}(this, function(e, t) {
"use strict";
function n(e) {
return window.btoa(window.unescape(encodeURIComponent(e)));
}
function i(e) {
return decodeURIComponent(window.escape(window.atob(e)));
}
try {
e.module("kubernetesUI");
} catch (t) {
e.module("kubernetesUI", []);
}
return e.module("kubernetesUI").provider("kubernetesContainerSocket", function() {
function t(t, n) {
if (n) return e.isString(n) ? t.get(n, "kubernetesContainerSocket") : t.invoke(n);
throw "no WebSocketFactory set";
}
var n = this;
n.WebSocketFactory = function() {
return function(e, t) {
return 0 === e.indexOf("/") && (e = "http:" === window.location.protocol ? "ws://" + window.location.host + e : "wss://" + window.location.host + e), new window.WebSocket(e, t);
};
}, n.$get = [ "$injector", function(e) {
return t(e, n.WebSocketFactory);
} ];
}).directive("kubernetesContainerTerminal", [ "$q", "kubernetesContainerSocket", function(r, o) {
return {
restrict: "E",
scope: {
pod: "&",
container: "&",
command: "=?",
prevent: "=?",
rows: "=?",
cols: "=?",
screenKeys: "=?",
autofocus: "=?",
status: "=?"
},
link: function(a, s, l) {
function c() {
function e(e) {
!e && c && (e = "Could not connect to the container. Do you have sufficient privileges?"), e || (e = "disconnected"), c || (e = "\r\n" + e), m.write("[31m" + e + "[m\r\n"), a.status = "disconnected", a.$apply(u);
}
u(), m.reset();
var t = "", n = a.pod();
n.metadata ? t += n.metadata.selfLink : t += n, -1 === (t += "/exec").indexOf("?") && (t += "?"), t += "stdout=1&stdin=1&stderr=1&tty=1";
var s = a.container ? a.container() : null;
s && (t += "&container=" + encodeURIComponent(s));
var l = a.command;
l || (l = [ "/bin/sh", "-i" ]), "string" == typeof l && (l = [ l ]), l.forEach(function(e) {
t += "&command=" + encodeURIComponent(e);
});
var c = !0;
h.removeClass("hidden"), p.addClass("hidden"), r.when(o(t, "base64.channel.k8s.io"), function(t) {
(g = t).onopen = function(e) {
f = window.setInterval(function() {
g.send("0");
}, 3e4), y();
}, g.onmessage = function(e) {
var t = e.data.slice(1);
switch (e.data[0]) {
case "1":
case "2":
case "3":
m.write(i(t));
}
c && (c = !1, h.addClass("hidden"), p.addClass("hidden"), m.cursorHidden = !1, m.showCursor(), m.refresh(m.y, m.y), a.autofocus && m.element && m.focus());
}, g.onclose = function(t) {
a.status = "disconnected", e(t.reason);
};
}, function(t) {
e(t.message);
}), a.status = "connected";
}
function u() {
a.status = "disconnected", h.addClass("hidden"), p.removeClass("hidden"), m && (m.cursorHidden = !0, m.refresh(m.x, m.y)), g && (g.onopen = g.onmessage = g.onerror = g.onclose = null, g.readyState < 2 && g.close(), g = null), window.clearInterval(f), f = null;
}
a.status = "disconnected";
var d = e.element("<div class='terminal-wrapper'>");
s.append(d);
var h = e.element("<div class='spinner spinner-white hidden'>"), p = e.element("<button class='btn btn-default fa fa-refresh'>");
p.on("click", c).attr("title", "Connect"), s.append(e.element("<div class='terminal-actions'>").append(h).append(p));
var f = null, g = null, m = new t({
cols: a.cols || 80,
rows: a.rows || 24,
cursorBlink: !0,
screenKeys: a.screenKeys || !0,
applicationCursor: !0,
mouseEvents: !0
});
d.empty(), m.open(d[0]), m.cursorHidden = !0, m.refresh(m.x, m.y), m.on("data", function(e) {
g && 1 === g.readyState && g.send("0" + n(e));
});
var v = function() {
var e = a.cols || 80;
m.charMeasure.width && (document.getElementsByClassName("xterm-viewport")[0].style.width = m.charMeasure.width * e + 17 + "px");
};
m.charMeasure.on("charsizechanged", v);
var y = function() {
var e = a.cols || 80, t = a.rows || 24;
m.resize(e, t), v(), g && 1 === g.readyState && g.send("4" + window.btoa('{"Width":' + e + ',"Height":' + t + "}"));
};
a.$watchGroup([ "cols", "rows" ], y), a.$watch("prevent", function(e) {
e || c();
}), a.$on("$destroy", function() {
m && m.destroy(), u();
});
}
};
} ]);
}), function(e) {
function t(i) {
if (n[i]) return n[i].exports;
var r = n[i] = {
i: i,
l: !1,
exports: {}
};
return e[i].call(r.exports, r, r.exports, t), r.l = !0, r.exports;
}
var n = {};
t.m = e, t.c = n, t.i = function(e) {
return e;
}, t.d = function(e, n, i) {
t.o(e, n) || Object.defineProperty(e, n, {
configurable: !1,
enumerable: !0,
get: i
});
}, t.n = function(e) {
var n = e && e.__esModule ? function() {
return e.default;
} : function() {
return e;
};
return t.d(n, "a", n), n;
}, t.o = function(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}, t.p = "", t(t.s = 16);
}([ function(e, t) {}, function(e, t) {}, function(e, t) {
angular.module("registryUI.client", []).factory("WeakMap", function() {
if ("function" == typeof window.WeakMap) return window.WeakMap;
var e, t = 1;
return function() {
var n = "weakmap" + t;
t += 1, e || (e = Math.random().toString(36).slice(2));
var i = this;
i.delete = function(t) {
var i = t[e];
i && delete i[n];
}, i.has = function(t) {
var i = t[e];
return i && n in i;
}, i.get = function(t) {
var i = t[e];
if (i) return i[n];
}, i.set = function(t, i) {
var r = t[e];
r || (r = function() {}, Object.defineProperty(t, e, {
enumerable: !1,
configurable: !1,
writable: !1,
value: r
})), r[n] = i;
};
};
});
}, function(e, t) {
angular.module("registryUI.date", []).factory("dateRefreshMinute", [ "$rootScope", function(e) {
var t = null;
return {
enable: function() {
null === t && (t = window.setInterval(function() {
e.$applyAsync();
}, 6e4));
},
disable: function() {
null !== t && (window.clearInterval(t), t = null);
}
};
} ]).filter("dateRelative", [ "dateRefreshMinute", function() {
function e(e) {
return e ? moment(e).fromNow() : e;
}
return e.$stateful = !0, "function" == typeof moment ? e : function(e) {
return e;
};
} ]);
}, function(e, t) {
!function() {
"use strict";
angular.module("registryUI.images", [ "registryUI.client", "registryUI.date", "gettext" ]).factory("imageDockerManifest", [ "WeakMap", function(e) {
var t = new e();
return function(e) {
if (!e) return {};
var n = t.get(e);
return n || (n = JSON.parse(e.dockerImageManifest || "{ }"), angular.forEach(n.history || [], function(e) {
"string" == typeof e.v1Compatibility && (e.v1Compatibility = JSON.parse(e.v1Compatibility));
}), t.set(e, n)), n;
};
} ]).factory("imageDockerConfig", [ "WeakMap", "imageLayers", function(e, t) {
var n = new e();
return function(e) {
if (!e) return {};
var i, r, o, a = n.get(e);
return a || ((r = t(e)).length && (o = r[0].v1Compatibility), o && o.config ? a = o.config : (i = e.dockerImageMetadata || {}).Config && (a = i.Config), n.set(e, a)), a || {};
};
} ]).factory("imageLayers", [ "WeakMap", "imageDockerManifest", function(e, t) {
var n = new e();
return function(e) {
if (!e) return [];
var i, r = n.get(e);
return r || (r = (i = t(e)).history ? i.history : e.dockerImageLayers ? e.dockerImageLayers : [], n.set(e, r)), r;
};
} ]).factory("imagestreamTags", [ "WeakMap", function(e) {
var t = new e();
return function(e) {
if (!e) return [];
var n, i, r = t.get(e);
if (!r) {
i = {}, angular.forEach(e.spec.tags, function(t) {
i[t.name] = i[t.name] || {
name: t.name,
imagestream: e
}, i[t.name].spec = angular.copy(t);
}), angular.forEach(e.status.tags, function(t) {
i[t.tag] = i[t.tag] || {
name: t.tag,
imagestream: e
}, i[t.tag].status = angular.copy(t);
}), r = [];
for (n in i) r.push(i[n]);
t.set(e, r);
}
return r;
};
} ]).factory("imagestreamTagFromName", [ function() {
return function(e, t) {
var n, i = [];
return t && "ImageStreamImage" === t.kind ? i.delimiter = "@" : t && "ImageStreamTag" === t.kind && (i.delimiter = ":"), i.delimiter && (1 === (n = t.name.split(i.delimiter)).length ? i.push(e.spec.name, n[0]) : (i.push(n.shift()), i.push(n.join(i.delimiter))), i.qualified = i.join(i.delimiter)), i;
};
} ]).directive("registryImageBody", [ "imageLayers", "imageDockerConfig", function(e, t) {
return {
restrict: "E",
scope: {
image: "=",
names: "="
},
templateUrl: "registry-image-widgets/views/image-body.html",
link: function(n, i, r) {
n.$watch("image", function(i) {
n.layers = e(i), n.config = t(i), n.labels = n.config.Labels, angular.equals({}, n.labels) && (n.labels = null);
});
}
};
} ]).directive("registryImagePull", [ function() {
return {
restrict: "E",
scope: {
settings: "=",
names: "="
},
templateUrl: "registry-image-widgets/views/image-pull.html"
};
} ]).directive("registryImageConfig", [ "imageDockerConfig", function(e) {
return {
restrict: "E",
scope: {
image: "="
},
templateUrl: "registry-image-widgets/views/image-config.html",
link: function(t, n, i) {
t.configCommand = function(e) {
var t = [];
if (!e) return "";
e.Entrypoint && t.push.apply(t, e.Entrypoint), e.Cmd && t.push.apply(t, e.Cmd);
var n = t.join(" ");
return e.User && "root" != e.User.split(":")[0] ? "$ " + n : "# " + n;
}, t.$watch("image", function(n) {
t.config = e(n);
});
}
};
} ]).directive("registryImageMeta", [ "imageDockerConfig", function(e) {
return {
restrict: "E",
scope: {
image: "="
},
templateUrl: "registry-image-widgets/views/image-meta.html",
link: function(t, n, i) {
t.$watch("image", function(n) {
t.config = e(n), t.labels = t.config.Labels, angular.equals({}, t.labels) && (t.labels = null);
});
}
};
} ]).directive("registryImagestreamBody", [ function() {
return {
restrict: "E",
scope: {
imagestream: "=",
imagestreamFunc: "&imagestreamModify",
projectFunc: "&projectModify",
sharingFunc: "&projectSharing"
},
templateUrl: "registry-image-widgets/views/imagestream-body.html",
link: function(e, t, n) {
e.projectModify = e.projectFunc(), e.projectSharing = e.sharingFunc(), e.imagestreamModify = e.imagestreamFunc();
}
};
} ]).directive("registryImagestreamPush", [ function(e) {
return {
restrict: "E",
scope: {
imagestream: "=",
settings: "="
},
templateUrl: "registry-image-widgets/views/imagestream-push.html"
};
} ]).directive("registryAnnotations", [ function() {
return {
restrict: "E",
scope: {
annotations: "="
},
templateUrl: "registry-image-widgets/views/annotations.html"
};
} ]).directive("registryImagestreamMeta", [ function(e) {
return {
restrict: "E",
scope: {
imagestream: "="
},
templateUrl: "registry-image-widgets/views/imagestream-meta.html"
};
} ]).directive("registryImagestreamListing", [ "imagestreamTags", "imagestreamTagFromName", "$location", function(e, t, n) {
return {
restrict: "E",
scope: {
imagestream: "=",
imagestreamFunc: "&imagestreamPath"
},
templateUrl: "registry-image-widgets/views/imagestream-listing.html",
link: function(i, r, o) {
function a(e, t) {
var n = e.metadata.namespace + "/" + e.metadata.name;
return t && (n += "/" + t.name), n;
}
i.imagestreamTags = e, i.imagestreamPath = i.imagestreamFunc(), i.imagestreamTagFromName = t, i.imagestreamActivate = function(e, t, r) {
i.imagestreamExpanded(e, t) ? i.imagestreamToggle(e, t, r) : !i.$emit("activate", e, t, r).defaultPrevented && i.imagestreamPath && n.path(i.imagestreamPath(e, t)), r.preventDefault();
};
var s = {};
i.imagestreamExpanded = function(e, t) {
return a(e, t) in s;
}, i.imagestreamToggle = function(e, t, n) {
var i = a(e, t);
i in s ? delete s[i] : s[i] = !0, n.stopPropagation();
};
}
};
} ]);
}();
}, function(e, t) {
!function() {
"use strict";
function e(e, t) {
var n, i;
return e.v1Compatibility.container_config && (n = e.v1Compatibility.container_config.Cmd) ? 0 === (i = n[n.length - 1]).indexOf("#(nop)") ? i.substring(6).trim() : 1 == n.length && 0 === n[0].indexOf("/bin/sh -c #(nop)") ? n[0].substring(17).trim() : n.join(" ") : e.v1Compatibility.id;
}
angular.module("registryUI.images").factory("prepareLayer", [ "gettextCatalog", function(t) {
return function(n, i, r) {
var o;
return 0 === (o = n.v1Compatibility ? {
id: n.v1Compatibility.id,
size: n.v1Compatibility.Size || 0,
label: e(n, r[i + 1])
} : n.name && n.size ? {
id: n.name,
size: n.size || 0,
label: n.name
} : {
size: 0,
id: i,
label: t.getString("Unknown layer")
}).label.indexOf("RUN ") ? o.hint = "run" : 0 === o.label.indexOf("ADD ") || o.size > 8192 ? o.hint = "add" : o.hint = "other", o;
};
} ]).directive("registryImageLayers", [ "imageLayers", "prepareLayer", "gettextCatalog", function(e, t, n) {
return {
restrict: "E",
scope: {
image: "=",
data: "=?layers"
},
templateUrl: "registry-image-widgets/views/image-layers.html",
link: function(i, r, o) {
i.formatSize = function(e) {
var t;
return e ? e > 1024 && "undefined" != typeof cockpit ? cockpit.format_bytes(e) : e > 1048576 ? (t = (e / 1048576).toFixed(1), n.getPlural(t, i, "{0} MB", "{0} MB").replace("{0}", t)) : n.getPlural(t, i, "{0} byte", "{0} bytes").replace("{0}", e) : "";
}, i.$watch("data", function(e) {
e && e.length && (e = e.map(t).reverse()), i.layers = e;
}), i.$watch("image", function(t) {
angular.isUndefined(t) || (i.data = e(t));
});
}
};
} ]);
}();
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<dt ng-if="annotations" translate>Annotations</dt> <dd ng-repeat="(name, value) in annotations">{{name}}: {{value}}</dd>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/annotations.html", r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<dl class="dl-horizontal left"> <dt ng-if="labels.name" translate>Name</dt> <dd ng-if="labels.name">{{ labels.name }}</dd> <dt ng-if="labels.summary" translate>Summary</dt> <dd ng-if="labels.summary">{{ labels.summary }}</dd> <dt ng-if="labels.description" translate>Description</dt> <dd ng-if="labels.description">{{ labels.description }}</dd> <dt ng-if="labels.url" translate>Source URL</dt> <dd ng-if="labels.url"> <a href="labels.url"><i class="fa fa-external-link"></i> {{ labels.url }}</a> </dd> <dt translate>Author</dt> <dd ng-if="config.author">{{config.author}}</dd> <dd ng-if="!config.author && image.dockerImageMetadata.Author">{{image.dockerImageMetadata.Author}}</dd> <dd ng-if="!config.author && !image.dockerImageMetadata.Author"><em translate>Unknown</em></dd> <dt ng-if="labels[\'build-date\'] || layers[0].v1Compatibility.created || image.dockerImageMetadata.Created" translate>Built</dt> <dd ng-if="labels[\'build-date\']" title="{{labels[\'build-date\']}}">{{ labels[\'build-date\'] | dateRelative}}</dd> <dd ng-if="!labels[\'build-date\'] && layers[0].v1Compatibility.created" title="{{layers[0].v1Compatibility.created}}">{{ layers[0].v1Compatibility.created | dateRelative}}</dd> <dd ng-if="!labels[\'build-date\'] && !layers[0].v1Compatibility.created && image.dockerImageMetadata.Created" title="{{image.dockerImageMetadata.Created}}">{{image.dockerImageMetadata.Created | dateRelative}}</dd> <dt translate>Digest</dt> <dd class="indentifier"><tt>{{ image.metadata.name }}</tt></dd> <dt ng-if-start="config.Image" translate>Identifier</dt> <dd class="indentifier" ng-if-end><tt>{{ config.Image }}</tt></dd> </dl> <dl class="registry-image-tags" ng-if="names"> <dt translate>Tags</dt> <dd><span class="registry-image-tag" ng-repeat="name in names">{{name}}</span></dd> </dl>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/image-body.html", r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<dl class="dl-horizontal"> <dt translate>Command</dt> <dd><code>{{ configCommand(config) }}</code></dd> </dl> <div class="row"> <dl class="col-xs-12 col-sm-12 col-md-4 dl-horizontal"> <dt translate>Run as</dt> <dd ng-if="config.User">{{config.User}}</dd> <dd ng-if="!config.User"><em translate>Default</em></dd> <dt translate>Directory</dt> <dd ng-if="config.WorkingDir">{{config.WorkingDir}}</dd> <dd ng-if="!config.WorkingDir">/</dd> <dt ng-if="config.StopSignal" translate>Stop with</dt> <dd ng-if="config.StopSignal">{{config.StopSignal}}</dd> <dt translate>Architecture</dt> <dd ng-if="config.architecture">{{config.architecture}}</dd> <dd ng-if="!config.architecture">{{image.dockerImageMetadata.Architecture}}</dd> </dl> <dl class="col-xs-12 col-sm-12 col-md-8 dl-horizontal full-width"> <dt ng-if="config.Env.length" translate>Environment</dt> <dd ng-repeat="env in config.Env"><tt>{{env}}</tt></dd> </dl> </div> <div class="row"> <dl class="col-xs-12 col-sm-12 col-md-4 dl-horizontal"> <dt translate>Ports</dt> <dd ng-repeat="(port, data) in config.ExposedPorts">{{port}}</dd> <dd ng-if="!config.ExposedPorts"><em translate>None</em></dd> </dl> <dl class="col-xs-12 col-sm-12 col-md-8 dl-horizontal full-width"> <dt ng-if="config.Volumes" translate>Volumes</dt> <dd ng-repeat="(volume, data) in config.Volumes">{{volume}}</dd> </dl> </div>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/image-config.html", r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<ul class="registry-image-layers"> <li ng-repeat="layer in layers" class="hint-{{ layer.hint }}"> <span title="{{ layer.size }}">{{ formatSize(layer.size) }}</span> <p>{{ layer.label}}</p> </li> </ul>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/image-layers.html", r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div> <dl class="dl-horizontal left"> <dt ng-if="labels" translate>Labels</dt> <dd ng-repeat="(name, value) in labels" ng-show="name != \'description\' && name != \'name\'"> <tt>{{name}}={{value}}</tt> </dd> <dt ng-if="config.OnBuild.length" translate>On Build</dt> <dd ng-repeat="line in config.OnBuild"><tt>{{line}}</tt></dd> <registry-annotations annotations="image.metadata.annotations"></registry-annotations> <dt translate>Docker Version</dt> <dd>{{image.dockerImageMetadata.DockerVersion}}</dd> </dl> </div>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/image-meta.html", r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div ng-if="names" class="registry-image-pull"> <p> <i class="fa fa-info-circle"></i>\n<span translate>To pull this image:</span> </p> <code ng-if="!settings.registry.host">$ sudo docker pull <span class="placeholder">registry</span>/{{names[0]}}</code>\n<code ng-if="settings.registry.host">$ sudo docker pull <span>{{settings.registry.host}}</span>/{{names[0]}}</code> </div>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/image-pull.html", r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div ng-repeat="statustags in imagestream.status.tags"> <div ng-repeat="condition in statustags.conditions" ng-if="condition.type == \'ImportSuccess\' && condition.status == \'False\'" class="alert alert-danger"> <span class="pficon pficon-error-circle-o"></span>\n<span translate>{{ condition.message }}. Timestamp: {{ condition.lastTransitionTime }} Error count: {{ condition.generation }}</span>\n<a translate ng-if="imagestreamModify" ng-click="imagestreamModify(imagestream)" class="alert-link">Edit image stream</a> </div> </div> <dl class="dl-horizontal left"> <dt translate ng-if="projectSharing">Access Policy</dt> <dd ng-if="projectSharing" ng-switch="projectSharing(imagestream.metadata.namespace)"> <div ng-switch-when="anonymous"> <a translate ng-if="projectModify" ng-click="projectModify(imagestream.metadata.namespace)">Images may be pulled by anonymous users</a>\n<span translate ng-if="!projectModify">Images may be pulled by anonymous users</span>\n<i title="Images accessible to anonymous users" class="fa fa-unlock registry-imagestream-lock"></i> </div> <div ng-switch-when="shared"> <a translate ng-if="projectModify" ng-click="projectModify(imagestream.metadata.namespace)">Images may be pulled by any authenticated user or group</a>\n<span translate ng-if="!projectModify">Images may be pulled by any authenticated user or group</span>\n<i title="Images accessible to authenticated users" class="fa fa-lock registry-imagestream-lock"></i> </div> <div ng-switch-when="private"> <a translate ng-if="projectModify" ng-click="projectModify(imagestream.metadata.namespace)">Images may only be pulled by specific users or groups</a>\n<span translate ng-if="!projectModify">Images may only be pulled by specific users or groups</span>\n<i title="Images only accessible to members" class="fa fa-lock registry-imagestream-lock"></i> </div> <div ng-switch-default> <a translate ng-if="projectModify" ng-click="projectModify(imagestream.metadata.namespace)">Unknown</a>\n<span translate ng-if="!projectModify">Unknown</span>\n<i title="Unknown or invalid image access policy" class="fa fa-lock registry-imagestream-lock"></i> </div> </dd> <dt translate ng-if-start="imagestream.spec.dockerImageRepository">Follows docker repo</dt> <dd ng-if-end><tt>{{imagestream.spec.dockerImageRepository}}</tt></dd> <dt>Pulling repository</dt> <dd><tt>{{imagestream.status.dockerImageRepository}}</tt></dd> <dt translate>Image count</dt> <dd ng-if="imagestream.status.tags.length">{{imagestream.status.tags.length}}</dd> <dd ng-if="!imagestream.status.tags.length">0</dd> </dl>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/imagestream-body.html", r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<table class="listing-ct"> <thead> <tr> <th class="listing-ct-toggle"></th> <th translate="yes" width="20%">Tag</th> <th translate="yes">Identifier</th> <th translate="yes">From</th> <th translate="yes">Last Updated</th> </tr> </thead> <tbody ng-repeat-start="(link, stream) in (imagestreams || { \'one\': imagestream }) track by link" ng-if="imagestreams" data-id="{{ stream.metadata.namespace + \'/\' + stream.metadata.name }}" class="active" ng-class="{open: imagestreamExpanded(imagestream)}"> <tr ng-click="imagestreamActivate(imagestream, null, $event)" class="listing-ct-item imagestream-item"> <td ng-click="imagestreamToggle(imagestream, null, $event)" class="listing-ct-toggle"> <i class="fa fa-fw"></i> </td> <th colspan="4"> {{ stream.metadata.namespace + \'/\' + stream.metadata.name }} <div ng-repeat="statustags in stream.status.tags"> <span ng-repeat="condition in statustags.conditions" ng-if="condition.type == \'ImportSuccess\' &amp;&amp; condition.status == \'False\'" class="pficon pficon-warning-triangle-o"></span> </div> </th> </tr> <tr class="listing-ct-panel" ng-if="imagestreamExpanded(imagestream)"> <td colspan="4"> <registry-imagestream-panel></registry-imagestream-panel> </td> </tr> </tbody> <tbody ng-repeat="tag in imagestreamTags(stream) | orderBy : \'tag.name\'" data-id="{{ stream.metadata.namespace + \'/\' + stream.metadata.name + \':\' + tag.name }}" ng-class="{open: imagestreamExpanded(stream, tag), last: $last, first: $first}"> <tr ng-click="imagestreamActivate(stream, tag, $event)" class="listing-ct-item registry-listing"> <td ng-click="imagestreamToggle(stream, tag, $event)" class="listing-ct-toggle"> <i class="fa fa-fw"></i> </td> <td> <a class="registry-image-tag" ng-href="{{ imagestreamPath(stream, tag) }}" title="{{tag.name }}">{{ tag.name }}</a> </td> <td class="image-identifier"> <div class="row" ng-init="annotations = stream.metadata.annotations"> <div class="col col-xs-12" ng-if="!tag.status"> <div ng-if="annotations[\'openshift.io/image.dockerRepositoryCheck\']"> <span class="pficon pficon-warning-triangle-o" style="margin-right: 5px" ng-attr-title="{{annotations[\'openshift.io/image.dockerRepositoryCheck\']}}"></span>\n<span translate="yes">Unable to resolve</span> </div> <div ng-if="!annotations[\'openshift.io/image.dockerRepositoryCheck\']"> <span ng-if="!tag.spec.from" translate="yes">Not yet synced</span> \n<span ng-if="tag.spec.from" translate="yes">Unresolved</span> </div> </div> <div class="col col-xs-12" ng-if="tag.status"> <span ng-if="tag.status.items.length &amp;&amp; tag.status.items[0].image"> <tt title="{{tag.status.items[0].image}}">{{tag.status.items[0].image}}</tt> </span>\n<span ng-if="!tag.status.items.length"><em translate="yes">none</em></span> </div> </div> </td> <td ng-init="name = imagestreamTagFromName(stream, tag.spec.from)"> <div ng-if="!name || !tag.spec.from"><em>pushed image</em></div> <div ng-if="name" title="{{tag.spec.from.name}}"> <span ng-if="!name[0]">{{tag.spec.from.name}}</span>\n<span ng-if="name[0]"> <span ng-if="name[0] === stream.metadata.name">{{name.qualified}}</span>\n<span ng-if="name[0] !== stream.metadata.name"> <a ng-href="imagestreamPath({ metadata: { namespace: tag.spec.from.namespace, name: name[0] }})"><span ng-if="tag.spec.from.namespace &amp;&amp; tag.spec.from.namespace !== imageStream.metadata.namespace">{{tag.spec.from.namespace}}/</span>{{tag.spec.from._imageStreamName}}</a>{{name.delimiter}}{{name[1]}} </span> </span> </div> </td> <td> <div title="{{ tag.items[0].created }}"> <span ng-if="tag.status.items.length &amp;&amp; tag.status.items[0].image" title="{{ tag.items[0].created }}"> {{ tag.status.items[0].created | dateRelative }} </span> </div> </td> </tr> <tr class="listing-ct-panel" ng-if="imagestreamExpanded(stream, tag)" ng-repeat-end=""> <td colspan="4"> <registry-image-panel></registry-image-panel> </td> </tr> </tbody> <tbody data-ng-rubbish="" ng-if="0" ng-repeat-end="1"> </tbody> <thead class="listing-ct-empty" ng-if="!quiet"> <tr> <td colspan="4" ng-if="!failure && imagestreams" translate="yes">No image streams are present.</td> <td colspan="4" ng-if="!failure && !imagestreams" translate="yes">No tags are present.</td> <td colspan="4" ng-if="failure">{{failure}}</td> </tr> </thead> </table>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/imagestream-listing.html", r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<dl class="dl-horizontal left"> <registry-annotations annotations="imagestream.metadata.annotations"></registry-annotations> </dl>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/imagestream-meta.html", r);
} ]), e.exports = r;
}, function(e, t) {
var n, i = window.angular;
try {
n = i.module([ "ng" ]);
} catch (e) {
n = i.module("ng", []);
}
var r = '<div class="registry-imagestream-push"> <p> <i class="fa fa-info-circle"></i>\n<span translate>To push an image to this image stream:</span> </p> <code ng-if="settings.registry.host">$ sudo docker tag <em>myimage</em> <span>{{settings.registry.host}}</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em>\n$ sudo docker push <span>{{settings.registry.host}}</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}</code>\n<code ng-if="!settings.registry.host">$ sudo docker tag <em>myimage</em> <span class="placeholder">registry</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}:<em>tag</em>\n$ sudo docker push <span class="placeholder">registry</span>/{{ imagestream.metadata.namespace }}/{{ imagestream.metadata.name}}</code> </div>';
n.run([ "$templateCache", function(e) {
e.put("registry-image-widgets/views/imagestream-push.html", r);
} ]), e.exports = r;
}, function(e, t, n) {
n(4), n(2), n(3), n(5), n(0), n(1), n(6), n(7), n(8), n(10), n(9), n(11), n(12), n(13), n(14), e.exports = n(15);
} ]);

try {
angular.module("kubernetesUI");
} catch (e) {
angular.module("kubernetesUI", []);
}

angular.module("kubernetesUI").factory("KubernetesObjectDescriber", [ function() {
function e() {
this.kinds = {
Pod: {
templateUrl: "views/pod.html"
},
Service: {
templateUrl: "views/service.html"
},
ReplicationController: {
templateUrl: "views/replication-controller.html"
}
};
}
return e.prototype.registerKind = function(e, t, n) {
if (this.kinds[e] && !n) throw "KubernetesObjectDescriber.registerKind :: kind " + e + " is already registered.";
if (!t) throw "KubernetesObjectDescriber.registerKind :: templateUrl is required.";
this.kinds[e] = {
templateUrl: t
};
}, e.prototype.templateUrlForKind = function(e) {
return e && this.kinds[e] ? this.kinds[e].templateUrl : "views/default-describer.html";
}, new e();
} ]).directive("kubernetesObjectDescriber", [ "KubernetesObjectDescriber", "$templateCache", "$compile", function(e, t, n) {
return {
restrict: "E",
scope: {
resource: "=",
kind: "@",
moreDetailsLink: "@"
},
link: function(i, r, o) {
var a = function() {
var o = e.templateUrlForKind(i.kind);
r.html(t.get(o)), n(r.contents())(i);
};
a(), i.$watch("kind", function(e, t) {
e != t && a();
});
}
};
} ]).directive("kubernetesObjectDescribeLabels", function() {
return {
restrict: "E",
scope: {
resource: "="
},
templateUrl: "views/labels.html"
};
}).directive("kubernetesObjectDescribeAnnotations", function() {
return {
restrict: "E",
scope: {
resource: "="
},
templateUrl: "views/annotations.html"
};
}).directive("kubernetesObjectDescribeMetadata", function() {
return {
restrict: "E",
scope: {
resource: "="
},
templateUrl: "views/metadata.html"
};
}).directive("kubernetesObjectDescribeHeader", function() {
return {
restrict: "E",
scope: {
resource: "=",
kind: "="
},
templateUrl: "views/header.html"
};
}).directive("kubernetesObjectDescribeFooter", function() {
return {
restrict: "E",
scope: {
resource: "="
},
templateUrl: "views/footer.html"
};
}).directive("kubernetesObjectDescribePodTemplate", function() {
return {
restrict: "E",
scope: {
template: "="
},
templateUrl: "views/pod-template.html"
};
}).directive("kubernetesObjectDescribeVolumes", function() {
return {
restrict: "E",
scope: {
volumes: "="
},
templateUrl: "views/volumes.html"
};
}).directive("kubernetesObjectDescribeContainers", function() {
return {
restrict: "E",
scope: {
containers: "="
},
templateUrl: "views/containers.html"
};
}).directive("kubernetesObjectDescribeContainerStatuses", function() {
return {
restrict: "E",
scope: {
containerStatuses: "="
},
templateUrl: "views/container-statuses.html"
};
}).directive("kubernetesObjectDescribeContainerState", function() {
return {
restrict: "E",
scope: {
containerState: "="
},
templateUrl: "views/container-state.html"
};
}).directive("collapseLongText", function() {
return {
restrict: "A",
scope: {
value: "@",
enableCollapse: "=?"
},
controller: [ "$scope", function(e) {
e.enableCollapse = !!window.$;
} ],
link: function(e, t, n) {
e.enableCollapse && $(".reveal-contents-link", t).click(function(e) {
$(this).hide(), $(".reveal-contents", t).show();
});
},
templateUrl: "views/_collapse-long-text.html"
};
}).filter("isEmptyObj", function() {
return function(e) {
return angular.equals({}, e);
};
}), angular.module("kubernetesUI").run([ "$templateCache", function(e) {
"use strict";
e.put("views/_collapse-long-text.html", '<span ng-hide="enableCollapse && value.length > 120">{{value}}</span>\n<span ng-show="enableCollapse && value.length > 120">\n  <span class="reveal-contents-link" style="cursor: pointer;" title="Expand">{{value.substring(0, 120)}}<a href="javascript:;">...</a></span>\n  <span style="display: none;" class="reveal-contents">{{value}}</span>\n</span>'), e.put("views/annotations.html", '  <h3>Annotations</h3>\n  <p ng-if="!resource.metadata.annotations"><em>none</em></p>\n  <dl class="dl-horizontal" ng-if="resource.metadata.annotations">\n    <dt ng-repeat-start="(annotationKey, annotationValue) in resource.metadata.annotations" title="{{annotationKey}}">{{annotationKey}}</dt>\n    <dd ng-repeat-end collapse-long-text value="{{annotationValue}}"></dd>\n  </dl>\n'), e.put("views/container-state.html", '<p ng-if="containerState | isEmptyObj"><em>none</em></p>\n<span ng-repeat="(state, stateDescription) in containerState | limitTo: 1">\n  <span ng-switch="state">\n    <span ng-switch-when="waiting">\n      Waiting\n      <span ng-if="stateDescription.reason">({{stateDescription.reason}})</span>\n    </span>\n    <span ng-switch-when="running">\n      Running\n      <span ng-if="stateDescription.startedAt">since {{stateDescription.startedAt | date:\'medium\'}}</span>\n    </span>\n    <span ng-switch-when="terminated">\n      Terminated\n      <span ng-if="stateDescription.finishedAt">at {{stateDescription.finishedAt | date:\'medium\'}}</span>\n      <span ng-if="stateDescription.exitCode">with exit code {{stateDescription.exitCode}}</span>\n      <span ng-if="stateDescription.reason">({{stateDescription.reason}})</span>\n    </span>\n    <span ng-switch-default>{{state}}</span>\n  </span>\n</span>\n'), 
e.put("views/container-statuses.html", '<p ng-if="!containerStatuses"><em>none</em></p>\n<dl ng-repeat="containerStatus in containerStatuses | orderBy:\'name\'" class="dl-horizontal">\n  <dt>Name</dt>\n  <dd>{{containerStatus.name}}</dd>\n  <dt>State</dt>\n  <dd>\n    <kubernetes-object-describe-container-state container-state="containerStatus.state"></container-state>\n  </dd>\n  <dt ng-if="!(containerStatus.lastState | isEmptyObj)">Last State</dt>\n  <dd ng-if="!(containerStatus.lastState | isEmptyObj)">\n    <kubernetes-object-describe-container-state container-state="containerStatus.lastState"></container-state>\n  </dd>\n  <dt>Ready</dt>\n  <dd>{{containerStatus.ready}}</dd>\n  <dt>Restart Count</dt>\n  <dd>{{containerStatus.restartCount}}</dd>\n</dl>\n'), e.put("views/containers.html", '<p ng-if="!containers.length"><em>none</em></p>\n<dl class="dl-horizontal" ng-repeat="container in containers">\n<dt>Name</dt>\n<dd>{{container.name}}</dd>\n<dt>Image</dt>\n<dd ng-if="container.image">{{container.image}}</dd>\n<dd ng-if="!container.image"><em>none</em></dd>\n<dt>Ports</dt>\n<dd>\n  <div ng-if="!container.ports.length"><em>none</em></div>\n  <div ng-repeat="port in container.ports | orderBy:\'containerPort\'">\n    {{port.containerPort}}/{{port.protocol}}<span ng-if="port.hostPort"> to host port {{port.hostPort}}</span>\n  </div>\n</dd>\n<dt>Env vars</dt>\n<dd>\n  <div ng-if="!container.env.length"><em>none</em></div>\n  <div ng-repeat="env in container.env | orderBy:\'name\'" collapse-long-text value="{{env.name}}={{env.value}}"></div>\n</dd>\n</dl>\n<div ng-if="$index != 0" style="margin-bottom: 10px;"></div>\n'), 
e.put("views/default-describer.html", '<div>\n  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n  <kubernetes-object-describe-metadata resource="resource"></kubernetes-object-describe-metadata>\n  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n</div>'), e.put("views/footer.html", '<div style="margin-top: 10px;">\n  <a ng-if="moreDetailsLink" href="{{moreDetailsLink}}">More details...</a>  \n</div>'), e.put("views/header.html", "<h3>{{kind || resource.kind || 'Resource'}}</h3>"), e.put("views/labels.html", '<h3>Labels</h3>\n<p ng-if="!resource.metadata.labels"><em>none</em></p>\n<dl class="dl-horizontal" ng-if="resource.metadata.labels">\n  <dt ng-repeat-start="(labelKey, labelValue) in resource.metadata.labels" title="{{labelKey}}">{{labelKey}}</dt>\n  <dd ng-repeat-end>{{labelValue}}</dd>\n</dl>\n'), e.put("views/metadata.html", '<dl class="dl-horizontal">\n  <dt>Name</dt>\n  <dd>{{resource.metadata.name}}</dd>\n  <dt ng-if="resource.metadata.namespace">Namespace</dt>\n  <dd ng-if="resource.metadata.namespace">{{resource.metadata.namespace}}</dd>\n  <dt>Created</dt>\n  <dd>{{resource.metadata.creationTimestamp | date:\'medium\'}}</dd>    \n</dl>\n<kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n<kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n'), 
e.put("views/pod-template.html", '<h3>Pod Template</h3>\n<dl class="dl-horizontal">\n  <dt>Restart policy</dt>\n  <dd>{{template.restartPolicy}}</dd>\n  <dt>DNS policy</dt>\n  <dd>{{template.dnsPolicy}}</dd>\n  <dt ng-if="template.serviceAccountName">Service account</dt>\n  <dd ng-if="template.serviceAccountName">{{template.serviceAccountName}}</dd>\n</dl>  \n<h4>Containers</h4>\n<kubernetes-object-describe-containers containers="template.containers"></kubernetes-object-describe-containers>\n<h4>Volumes</h4>\n<kubernetes-object-describe-volumes volumes="template.volumes"></kubernetes-object-describe-volumes> \n'), e.put("views/pod.html", '<div>\n  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n  <dl class="dl-horizontal">\n    <dt>Name</dt>\n    <dd>{{resource.metadata.name}}</dd>\n    <dt>Namespace</dt>\n    <dd>{{resource.metadata.namespace}}</dd>\n    <dt>Created</dt>\n    <dd>{{resource.metadata.creationTimestamp | date:\'medium\'}}</dd>\n    <dt>Restart policy</dt>\n    <dd>{{resource.spec.restartPolicy || \'Always\'}}</dd>\n    <dt ng-if="resource.spec.serviceAccountName">Service account</dt>\n    <dd ng-if="resource.spec.serviceAccountName">{{resource.spec.serviceAccountName}}</dd>\n  </dl>\n  <h3>Status</h3>\n  <dl class="dl-horizontal">\n    <dt>Phase</dt>\n    <dd>{{resource.status.phase}}</dd>\n    <dt>Node</dt>\n    <dd>{{resource.spec.nodeName || \'unknown\'}}\n      <span ng-if="resource.status.hostIP && resource.spec.nodeName != resource.status.hostIP">({{resource.status.hostIP}})</span></dd>\n    <dt>IP on node</dt>\n    <dd>\n      {{resource.status.podIP}}\n      <span ng-if="!resource.status.podIP"><em>none</em></span>\n    </dd>\n  </dl>\n  <h3>Container Statuses</h3>\n  <kubernetes-object-describe-container-statuses container-statuses="resource.status.containerStatuses"></kubernetes-object-describe-container-statuses>\n  <h3>Containers</h3>\n  <kubernetes-object-describe-containers containers="resource.spec.containers"></kubernetes-object-describe-containers>\n  <h3>Volumes</h3>\n  <kubernetes-object-describe-volumes volumes="resource.spec.volumes"></kubernetes-object-describe-volumes>\n  <kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n  <kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n</div>\n'), 
e.put("views/replication-controller.html", '<div>\n  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n  <dl class="dl-horizontal">\n    <dt>Name</dt>\n    <dd>{{resource.metadata.name}}</dd>\n    <dt>Namespace</dt>\n    <dd>{{resource.metadata.namespace}}</dd>\n    <dt>Created</dt>\n    <dd>{{resource.metadata.creationTimestamp | date:\'medium\'}}</dd>\n    <dt>Replicas</dt>\n    <dd>{{(resource.spec.replicas === undefined) ? 1 : resource.spec.replicas}}</dd>\n  </dl>\n  <h3>Selector</h3>\n  <dl class="dl-horizontal">\n    <dt ng-repeat-start="(selectorKey, selectorValue) in resource.spec.selector" title="{{selectorKey}}">{{selectorKey}}</dt>\n    <dd ng-repeat-end>{{selectorValue}}</dd>\n  </dl>\n  <kubernetes-object-describe-pod-template template="resource.spec.template.spec"></kubernetes-object-describe-pod-template>\n  <kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n  <kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n</div>\n'), 
e.put("views/service.html", '<div>\n  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n  <dl class="dl-horizontal">\n    <dt>Name</dt>\n    <dd>{{resource.metadata.name}}</dd>\n    <dt>Namespace</dt>\n    <dd>{{resource.metadata.namespace}}</dd>\n    <dt>Created</dt>\n    <dd>{{resource.metadata.creationTimestamp | date:\'medium\'}}</dd>\n    <dt>Type</dt>\n    <dd>{{resource.spec.type}}</dd>\n    <dt>IP</dt>\n    <dd>{{resource.spec.clusterIP}}</dd>\n    <dt>Ports</dt>\n    <dd>\n      <div ng-if="!resource.spec.ports.length">None</div>\n      <div ng-repeat="portMapping in resource.spec.ports | orderBy:\'port\'">\n        {{portMapping.port}}/{{portMapping.protocol}} &#8594; {{portMapping.targetPort}}\n      </div>\n    </dd>\n    <dt>Session affinity</dt>\n    <dd>{{resource.spec.sessionAffinity}}</dd>    \n    <dt ng-if="resource.status.loadBalancer.ingress.length">Ingress points</dt>\n    <dd ng-if="resource.status.loadBalancer.ingress.length">\n      <span ng-repeat="ingress in resource.status.loadBalancer.ingress"\n        >{{ingress.ip}}<span ng-if="!$last">, </span></span>\n    </dd>\n  </dl>\n  <h3>Selector</h3>\n  <dl class="dl-horizontal">\n    <dt ng-repeat-start="(selectorKey, selectorValue) in resource.spec.selector">{{selectorKey}}</dt>\n    <dd ng-repeat-end>{{selectorValue}}</dd>\n  </dl>\n  <kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n  <kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n</div>\n'), 
e.put("views/volumes.html", '<p ng-if="!volumes.length"><em>none</em></p>\n<dl class="dl-horizontal" ng-repeat="volume in volumes">\n<dt>Name</dt>\n<dd>{{volume.name}}</dd>\n\x3c!-- Type = host path --\x3e\n<dt ng-if-start="volume.hostPath">Type</dt>\n<dd>host path</dd>\n<dt>Path</dt>\n<dd ng-if-end>{{volume.hostPath.path}}</dd>\n\x3c!-- Type = empty dir --\x3e\n<dt ng-if-start="volume.emptyDir">Type</dt>\n<dd ng-if-end>empty directory</dd>\n\x3c!-- Type = GCE persistent disk - TODO fill out details --\x3e\n<dt ng-if-start="volume.gcePersistentDisk">Type</dt>\n<dd ng-if-end>GCE persistent disk</dd>\n\x3c!-- Type = git repo --\x3e\n<dt ng-if-start="volume.gitRepo">Type</dt>\n<dd>Git repository</dd>\n<dt>Repository</dt>\n<dd>{{volume.gitRepo.repository}}</dd>\n<dt>Revision</dt>\n<dd ng-if-end>\n  <span ng-if="volume.gitRepo.revision">{{volume.gitRepo.revision}}</span>\n  <span ng-if="!volume.gitRepo.revision"><em>not specified</em></span>\n</dd>\n</dl>\n');
} ]), function(e, t) {
var n = e();
e.fn.dropdownHover = function(i) {
return "ontouchstart" in document ? this : (n = n.add(this.parent()), this.each(function() {
function r() {
t.clearTimeout(o), t.clearTimeout(a), a = t.setTimeout(function() {
n.find(":focus").blur(), !0 === h.instantlyCloseOthers && n.removeClass("open"), t.clearTimeout(a), s.attr("aria-expanded", "true"), l.addClass("open"), s.trigger(d);
}, h.hoverDelay);
}
var o, a, s = e(this), l = s.parent(), c = {
delay: 500,
hoverDelay: 0,
instantlyCloseOthers: !0
}, u = {
delay: e(this).data("delay"),
hoverDelay: e(this).data("hover-delay"),
instantlyCloseOthers: e(this).data("close-others")
}, d = "show.bs.dropdown", h = e.extend(!0, {}, c, i, u);
l.hover(function(e) {
return !l.hasClass("open") && !s.is(e.target) || void r();
}, function() {
t.clearTimeout(a), o = t.setTimeout(function() {
s.attr("aria-expanded", "false"), l.removeClass("open"), s.trigger("hide.bs.dropdown");
}, h.delay);
}), s.hover(function(e) {
return !l.hasClass("open") && !l.is(e.target) || void r();
}), l.find(".dropdown-submenu").each(function() {
var n, i = e(this);
i.hover(function() {
t.clearTimeout(n), i.children(".dropdown-menu").show(), i.siblings().children(".dropdown-menu").hide();
}, function() {
var e = i.children(".dropdown-menu");
n = t.setTimeout(function() {
e.hide();
}, h.delay);
});
});
}));
}, e(document).ready(function() {
e('[data-hover="dropdown"]').dropdownHover();
});
}(jQuery, window), function() {
var e = function() {
return this;
}();
!e && "undefined" != typeof window && (e = window);
var t = function(e, n, i) {
"string" == typeof e ? (2 == arguments.length && (i = n), t.modules[e] || (t.payloads[e] = i, t.modules[e] = null)) : t.original ? t.original.apply(this, arguments) : (console.error("dropping module because define wasn't a string."), console.trace());
};
t.modules = {}, t.payloads = {};
var n = function(e, t, n) {
if ("string" == typeof t) {
var r = o(e, t);
if (void 0 != r) return n && n(), r;
} else if ("[object Array]" === Object.prototype.toString.call(t)) {
for (var a = [], s = 0, l = t.length; s < l; ++s) {
var c = o(e, t[s]);
if (void 0 == c && i.original) return;
a.push(c);
}
return n && n.apply(null, a) || !0;
}
}, i = function(e, t) {
var r = n("", e, t);
return void 0 == r && i.original ? i.original.apply(this, arguments) : r;
}, r = function(e, t) {
if (-1 !== t.indexOf("!")) {
var n = t.split("!");
return r(e, n[0]) + "!" + r(e, n[1]);
}
if ("." == t.charAt(0)) for (t = e.split("/").slice(0, -1).join("/") + "/" + t; -1 !== t.indexOf(".") && i != t; ) {
var i = t;
t = t.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
}
return t;
}, o = function(e, i) {
i = r(e, i);
var o = t.modules[i];
if (!o) {
if ("function" == typeof (o = t.payloads[i])) {
var a = {}, s = {
id: i,
uri: "",
exports: a,
packaged: !0
};
a = o(function(e, t) {
return n(i, e, t);
}, a, s) || s.exports, t.modules[i] = a, delete t.payloads[i];
}
o = t.modules[i] = a || o;
}
return o;
};
!function(n) {
var r = e;
n && (e[n] || (e[n] = {}), r = e[n]), r.define && r.define.packaged || (t.original = r.define, r.define = t, r.define.packaged = !0), r.require && r.require.packaged || (i.original = r.require, r.require = i, r.require.packaged = !0);
}("ace");
}(), ace.define("ace/lib/regexp", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
function i(e) {
return (e.global ? "g" : "") + (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.extended ? "x" : "") + (e.sticky ? "y" : "");
}
function r(e, t, n) {
if (Array.prototype.indexOf) return e.indexOf(t, n);
for (var i = n || 0; i < e.length; i++) if (e[i] === t) return i;
return -1;
}
var o = {
exec: RegExp.prototype.exec,
test: RegExp.prototype.test,
match: String.prototype.match,
replace: String.prototype.replace,
split: String.prototype.split
}, a = void 0 === o.exec.call(/()??/, "")[1], s = function() {
var e = /^/g;
return o.test.call(e, ""), !e.lastIndex;
}();
s && a || (RegExp.prototype.exec = function(e) {
var t, n, l = o.exec.apply(this, arguments);
if ("string" == typeof e && l) {
if (!a && l.length > 1 && r(l, "") > -1 && (n = RegExp(this.source, o.replace.call(i(this), "g", "")), o.replace.call(e.slice(l.index), n, function() {
for (var e = 1; e < arguments.length - 2; e++) void 0 === arguments[e] && (l[e] = void 0);
})), this._xregexp && this._xregexp.captureNames) for (var c = 1; c < l.length; c++) (t = this._xregexp.captureNames[c - 1]) && (l[t] = l[c]);
!s && this.global && !l[0].length && this.lastIndex > l.index && this.lastIndex--;
}
return l;
}, s || (RegExp.prototype.test = function(e) {
var t = o.exec.call(this, e);
return t && this.global && !t[0].length && this.lastIndex > t.index && this.lastIndex--, !!t;
}));
}), ace.define("ace/lib/es5-shim", [ "require", "exports", "module" ], function(e, t, n) {
function i() {}
function r(e) {
try {
return Object.defineProperty(e, "sentinel", {}), "sentinel" in e;
} catch (e) {}
}
function o(e) {
return (e = +e) !== e ? e = 0 : 0 !== e && e !== 1 / 0 && e !== -1 / 0 && (e = (e > 0 || -1) * Math.floor(Math.abs(e))), e;
}
Function.prototype.bind || (Function.prototype.bind = function(e) {
var t = this;
if ("function" != typeof t) throw new TypeError("Function.prototype.bind called on incompatible " + t);
var n = f.call(arguments, 1), r = function() {
if (this instanceof r) {
var i = t.apply(this, n.concat(f.call(arguments)));
return Object(i) === i ? i : this;
}
return t.apply(e, n.concat(f.call(arguments)));
};
return t.prototype && (i.prototype = t.prototype, r.prototype = new i(), i.prototype = null), r;
});
var a, s, l, c, u, d = Function.prototype.call, h = Array.prototype, p = Object.prototype, f = h.slice, g = d.bind(p.toString), m = d.bind(p.hasOwnProperty);
if ((u = m(p, "__defineGetter__")) && (a = d.bind(p.__defineGetter__), s = d.bind(p.__defineSetter__), l = d.bind(p.__lookupGetter__), c = d.bind(p.__lookupSetter__)), 2 != [ 1, 2 ].splice(0).length) if (function() {
function e(e) {
var t = new Array(e + 2);
return t[0] = t[1] = 0, t;
}
var t, n = [];
if (n.splice.apply(n, e(20)), n.splice.apply(n, e(26)), t = n.length, n.splice(5, 0, "XXX"), n.length, t + 1 == n.length) return !0;
}()) {
var v = Array.prototype.splice;
Array.prototype.splice = function(e, t) {
return arguments.length ? v.apply(this, [ void 0 === e ? 0 : e, void 0 === t ? this.length - e : t ].concat(f.call(arguments, 2))) : [];
};
} else Array.prototype.splice = function(e, t) {
var n = this.length;
e > 0 ? e > n && (e = n) : void 0 == e ? e = 0 : e < 0 && (e = Math.max(n + e, 0)), e + t < n || (t = n - e);
var i = this.slice(e, e + t), r = f.call(arguments, 2), o = r.length;
if (e === n) o && this.push.apply(this, r); else {
var a = Math.min(t, n - e), s = e + a, l = s + o - a, c = n - s, u = n - a;
if (l < s) for (var d = 0; d < c; ++d) this[l + d] = this[s + d]; else if (l > s) for (d = c; d--; ) this[l + d] = this[s + d];
if (o && e === u) this.length = u, this.push.apply(this, r); else for (this.length = u + o, d = 0; d < o; ++d) this[e + d] = r[d];
}
return i;
};
Array.isArray || (Array.isArray = function(e) {
return "[object Array]" == g(e);
});
var y = Object("a"), b = "a" != y[0] || !(0 in y);
if (Array.prototype.forEach || (Array.prototype.forEach = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = arguments[1], r = -1, o = n.length >>> 0;
if ("[object Function]" != g(e)) throw new TypeError();
for (;++r < o; ) r in n && e.call(i, n[r], r, t);
}), Array.prototype.map || (Array.prototype.map = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0, r = Array(i), o = arguments[1];
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
for (var a = 0; a < i; a++) a in n && (r[a] = e.call(o, n[a], a, t));
return r;
}), Array.prototype.filter || (Array.prototype.filter = function(e) {
var t, n = F(this), i = b && "[object String]" == g(this) ? this.split("") : n, r = i.length >>> 0, o = [], a = arguments[1];
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
for (var s = 0; s < r; s++) s in i && (t = i[s], e.call(a, t, s, n) && o.push(t));
return o;
}), Array.prototype.every || (Array.prototype.every = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0, r = arguments[1];
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
for (var o = 0; o < i; o++) if (o in n && !e.call(r, n[o], o, t)) return !1;
return !0;
}), Array.prototype.some || (Array.prototype.some = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0, r = arguments[1];
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
for (var o = 0; o < i; o++) if (o in n && e.call(r, n[o], o, t)) return !0;
return !1;
}), Array.prototype.reduce || (Array.prototype.reduce = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0;
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
if (!i && 1 == arguments.length) throw new TypeError("reduce of empty array with no initial value");
var r, o = 0;
if (arguments.length >= 2) r = arguments[1]; else for (;;) {
if (o in n) {
r = n[o++];
break;
}
if (++o >= i) throw new TypeError("reduce of empty array with no initial value");
}
for (;o < i; o++) o in n && (r = e.call(void 0, r, n[o], o, t));
return r;
}), Array.prototype.reduceRight || (Array.prototype.reduceRight = function(e) {
var t = F(this), n = b && "[object String]" == g(this) ? this.split("") : t, i = n.length >>> 0;
if ("[object Function]" != g(e)) throw new TypeError(e + " is not a function");
if (!i && 1 == arguments.length) throw new TypeError("reduceRight of empty array with no initial value");
var r, o = i - 1;
if (arguments.length >= 2) r = arguments[1]; else for (;;) {
if (o in n) {
r = n[o--];
break;
}
if (--o < 0) throw new TypeError("reduceRight of empty array with no initial value");
}
do {
o in this && (r = e.call(void 0, r, n[o], o, t));
} while (o--);
return r;
}), Array.prototype.indexOf && -1 == [ 0, 1 ].indexOf(1, 2) || (Array.prototype.indexOf = function(e) {
var t = b && "[object String]" == g(this) ? this.split("") : F(this), n = t.length >>> 0;
if (!n) return -1;
var i = 0;
for (arguments.length > 1 && (i = o(arguments[1])), i = i >= 0 ? i : Math.max(0, n + i); i < n; i++) if (i in t && t[i] === e) return i;
return -1;
}), Array.prototype.lastIndexOf && -1 == [ 0, 1 ].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function(e) {
var t = b && "[object String]" == g(this) ? this.split("") : F(this), n = t.length >>> 0;
if (!n) return -1;
var i = n - 1;
for (arguments.length > 1 && (i = Math.min(i, o(arguments[1]))), i = i >= 0 ? i : n - Math.abs(i); i >= 0; i--) if (i in t && e === t[i]) return i;
return -1;
}), Object.getPrototypeOf || (Object.getPrototypeOf = function(e) {
return e.__proto__ || (e.constructor ? e.constructor.prototype : p);
}), !Object.getOwnPropertyDescriptor) {
Object.getOwnPropertyDescriptor = function(e, t) {
if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: " + e);
if (m(e, t)) {
var n;
if (n = {
enumerable: !0,
configurable: !0
}, u) {
var i = e.__proto__;
e.__proto__ = p;
var r = l(e, t), o = c(e, t);
if (e.__proto__ = i, r || o) return r && (n.get = r), o && (n.set = o), n;
}
return n.value = e[t], n;
}
};
}
if (Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function(e) {
return Object.keys(e);
}), !Object.create) {
var w;
w = null === Object.prototype.__proto__ ? function() {
return {
__proto__: null
};
} : function() {
var e = {};
for (var t in e) e[t] = null;
return e.constructor = e.hasOwnProperty = e.propertyIsEnumerable = e.isPrototypeOf = e.toLocaleString = e.toString = e.valueOf = e.__proto__ = null, e;
}, Object.create = function(e, t) {
var n;
if (null === e) n = w(); else {
if ("object" != typeof e) throw new TypeError("typeof prototype[" + typeof e + "] != 'object'");
var i = function() {};
i.prototype = e, (n = new i()).__proto__ = e;
}
return void 0 !== t && Object.defineProperties(n, t), n;
};
}
if (Object.defineProperty) {
var x = r({}), C = "undefined" == typeof document || r(document.createElement("div"));
if (!x || !C) var _ = Object.defineProperty;
}
if (!Object.defineProperty || _) {
Object.defineProperty = function(e, t, n) {
if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.defineProperty called on non-object: " + e);
if ("object" != typeof n && "function" != typeof n || null === n) throw new TypeError("Property description must be an object: " + n);
if (_) try {
return _.call(Object, e, t, n);
} catch (e) {}
if (m(n, "value")) if (u && (l(e, t) || c(e, t))) {
var i = e.__proto__;
e.__proto__ = p, delete e[t], e[t] = n.value, e.__proto__ = i;
} else e[t] = n.value; else {
if (!u) throw new TypeError("getters & setters can not be defined on this javascript engine");
m(n, "get") && a(e, t, n.get), m(n, "set") && s(e, t, n.set);
}
return e;
};
}
Object.defineProperties || (Object.defineProperties = function(e, t) {
for (var n in t) m(t, n) && Object.defineProperty(e, n, t[n]);
return e;
}), Object.seal || (Object.seal = function(e) {
return e;
}), Object.freeze || (Object.freeze = function(e) {
return e;
});
try {
Object.freeze(function() {});
} catch (e) {
Object.freeze = function(e) {
return function(t) {
return "function" == typeof t ? t : e(t);
};
}(Object.freeze);
}
if (Object.preventExtensions || (Object.preventExtensions = function(e) {
return e;
}), Object.isSealed || (Object.isSealed = function(e) {
return !1;
}), Object.isFrozen || (Object.isFrozen = function(e) {
return !1;
}), Object.isExtensible || (Object.isExtensible = function(e) {
if (Object(e) === e) throw new TypeError();
for (var t = ""; m(e, t); ) t += "?";
e[t] = !0;
var n = m(e, t);
return delete e[t], n;
}), !Object.keys) {
var S = !0, $ = [ "toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor" ], A = $.length;
for (var k in {
toString: null
}) S = !1;
Object.keys = function(e) {
if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.keys called on a non-object");
var t = [];
for (var n in e) m(e, n) && t.push(n);
if (S) for (var i = 0, r = A; i < r; i++) {
var o = $[i];
m(e, o) && t.push(o);
}
return t;
};
}
Date.now || (Date.now = function() {
return new Date().getTime();
});
var E = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";
if (!String.prototype.trim || E.trim()) {
E = "[" + E + "]";
var T = new RegExp("^" + E + E + "*"), D = new RegExp(E + E + "*$");
String.prototype.trim = function() {
return String(this).replace(T, "").replace(D, "");
};
}
var F = function(e) {
if (null == e) throw new TypeError("can't convert " + e + " to object");
return Object(e);
};
}), ace.define("ace/lib/fixoldbrowsers", [ "require", "exports", "module", "ace/lib/regexp", "ace/lib/es5-shim" ], function(e, t, n) {
"use strict";
e("./regexp"), e("./es5-shim");
}), ace.define("ace/lib/dom", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.getDocumentHead = function(e) {
return e || (e = document), e.head || e.getElementsByTagName("head")[0] || e.documentElement;
}, t.createElement = function(e, t) {
return document.createElementNS ? document.createElementNS(t || "http://www.w3.org/1999/xhtml", e) : document.createElement(e);
}, t.hasCssClass = function(e, t) {
return -1 !== (e.className || "").split(/\s+/g).indexOf(t);
}, t.addCssClass = function(e, n) {
t.hasCssClass(e, n) || (e.className += " " + n);
}, t.removeCssClass = function(e, t) {
for (var n = e.className.split(/\s+/g); ;) {
var i = n.indexOf(t);
if (-1 == i) break;
n.splice(i, 1);
}
e.className = n.join(" ");
}, t.toggleCssClass = function(e, t) {
for (var n = e.className.split(/\s+/g), i = !0; ;) {
var r = n.indexOf(t);
if (-1 == r) break;
i = !1, n.splice(r, 1);
}
return i && n.push(t), e.className = n.join(" "), i;
}, t.setCssClass = function(e, n, i) {
i ? t.addCssClass(e, n) : t.removeCssClass(e, n);
}, t.hasCssString = function(e, t) {
var n, i = 0;
if ((t = t || document).createStyleSheet && (n = t.styleSheets)) {
for (;i < n.length; ) if (n[i++].owningElement.id === e) return !0;
} else if (n = t.getElementsByTagName("style")) for (;i < n.length; ) if (n[i++].id === e) return !0;
return !1;
}, t.importCssString = function(e, n, i) {
if (i = i || document, n && t.hasCssString(n, i)) return null;
var r;
n && (e += "\n/*# sourceURL=ace/css/" + n + " */"), i.createStyleSheet ? (r = i.createStyleSheet(), r.cssText = e, n && (r.owningElement.id = n)) : ((r = t.createElement("style")).appendChild(i.createTextNode(e)), n && (r.id = n), t.getDocumentHead(i).appendChild(r));
}, t.importCssStylsheet = function(e, n) {
if (n.createStyleSheet) n.createStyleSheet(e); else {
var i = t.createElement("link");
i.rel = "stylesheet", i.href = e, t.getDocumentHead(n).appendChild(i);
}
}, t.getInnerWidth = function(e) {
return parseInt(t.computedStyle(e, "paddingLeft"), 10) + parseInt(t.computedStyle(e, "paddingRight"), 10) + e.clientWidth;
}, t.getInnerHeight = function(e) {
return parseInt(t.computedStyle(e, "paddingTop"), 10) + parseInt(t.computedStyle(e, "paddingBottom"), 10) + e.clientHeight;
}, t.scrollbarWidth = function(e) {
var n = t.createElement("ace_inner");
n.style.width = "100%", n.style.minWidth = "0px", n.style.height = "200px", n.style.display = "block";
var i = t.createElement("ace_outer"), r = i.style;
r.position = "absolute", r.left = "-10000px", r.overflow = "hidden", r.width = "200px", r.minWidth = "0px", r.height = "150px", r.display = "block", i.appendChild(n);
var o = e.documentElement;
o.appendChild(i);
var a = n.offsetWidth;
r.overflow = "scroll";
var s = n.offsetWidth;
return a == s && (s = i.clientWidth), o.removeChild(i), a - s;
}, "undefined" != typeof document ? (void 0 !== window.pageYOffset ? (t.getPageScrollTop = function() {
return window.pageYOffset;
}, t.getPageScrollLeft = function() {
return window.pageXOffset;
}) : (t.getPageScrollTop = function() {
return document.body.scrollTop;
}, t.getPageScrollLeft = function() {
return document.body.scrollLeft;
}), window.getComputedStyle ? t.computedStyle = function(e, t) {
return t ? (window.getComputedStyle(e, "") || {})[t] || "" : window.getComputedStyle(e, "") || {};
} : t.computedStyle = function(e, t) {
return t ? e.currentStyle[t] : e.currentStyle;
}, t.setInnerHtml = function(e, t) {
var n = e.cloneNode(!1);
return n.innerHTML = t, e.parentNode.replaceChild(n, e), n;
}, "textContent" in document.documentElement ? (t.setInnerText = function(e, t) {
e.textContent = t;
}, t.getInnerText = function(e) {
return e.textContent;
}) : (t.setInnerText = function(e, t) {
e.innerText = t;
}, t.getInnerText = function(e) {
return e.innerText;
}), t.getParentWindow = function(e) {
return e.defaultView || e.parentWindow;
}) : t.importCssString = function() {};
}), ace.define("ace/lib/oop", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.inherits = function(e, t) {
e.super_ = t, e.prototype = Object.create(t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
});
}, t.mixin = function(e, t) {
for (var n in t) e[n] = t[n];
return e;
}, t.implement = function(e, n) {
t.mixin(e, n);
};
}), ace.define("ace/lib/keys", [ "require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop" ], function(e, t, n) {
"use strict";
e("./fixoldbrowsers");
var i = e("./oop"), r = function() {
var e, t, n = {
MODIFIER_KEYS: {
16: "Shift",
17: "Ctrl",
18: "Alt",
224: "Meta"
},
KEY_MODS: {
ctrl: 1,
alt: 2,
option: 2,
shift: 4,
super: 8,
meta: 8,
command: 8,
cmd: 8
},
FUNCTION_KEYS: {
8: "Backspace",
9: "Tab",
13: "Return",
19: "Pause",
27: "Esc",
32: "Space",
33: "PageUp",
34: "PageDown",
35: "End",
36: "Home",
37: "Left",
38: "Up",
39: "Right",
40: "Down",
44: "Print",
45: "Insert",
46: "Delete",
96: "Numpad0",
97: "Numpad1",
98: "Numpad2",
99: "Numpad3",
100: "Numpad4",
101: "Numpad5",
102: "Numpad6",
103: "Numpad7",
104: "Numpad8",
105: "Numpad9",
"-13": "NumpadEnter",
112: "F1",
113: "F2",
114: "F3",
115: "F4",
116: "F5",
117: "F6",
118: "F7",
119: "F8",
120: "F9",
121: "F10",
122: "F11",
123: "F12",
144: "Numlock",
145: "Scrolllock"
},
PRINTABLE_KEYS: {
32: " ",
48: "0",
49: "1",
50: "2",
51: "3",
52: "4",
53: "5",
54: "6",
55: "7",
56: "8",
57: "9",
59: ";",
61: "=",
65: "a",
66: "b",
67: "c",
68: "d",
69: "e",
70: "f",
71: "g",
72: "h",
73: "i",
74: "j",
75: "k",
76: "l",
77: "m",
78: "n",
79: "o",
80: "p",
81: "q",
82: "r",
83: "s",
84: "t",
85: "u",
86: "v",
87: "w",
88: "x",
89: "y",
90: "z",
107: "+",
109: "-",
110: ".",
186: ";",
187: "=",
188: ",",
189: "-",
190: ".",
191: "/",
192: "`",
219: "[",
220: "\\",
221: "]",
222: "'",
111: "/",
106: "*"
}
};
for (t in n.FUNCTION_KEYS) e = n.FUNCTION_KEYS[t].toLowerCase(), n[e] = parseInt(t, 10);
for (t in n.PRINTABLE_KEYS) e = n.PRINTABLE_KEYS[t].toLowerCase(), n[e] = parseInt(t, 10);
return i.mixin(n, n.MODIFIER_KEYS), i.mixin(n, n.PRINTABLE_KEYS), i.mixin(n, n.FUNCTION_KEYS), n.enter = n.return, n.escape = n.esc, n.del = n.delete, n[173] = "-", function() {
for (var e = [ "cmd", "ctrl", "alt", "shift" ], t = Math.pow(2, e.length); t--; ) n.KEY_MODS[t] = e.filter(function(e) {
return t & n.KEY_MODS[e];
}).join("-") + "-";
}(), n.KEY_MODS[0] = "", n.KEY_MODS[-1] = "input-", n;
}();
i.mixin(t, r), t.keyCodeToString = function(e) {
var t = r[e];
return "string" != typeof t && (t = String.fromCharCode(e)), t.toLowerCase();
};
}), ace.define("ace/lib/useragent", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
if (t.OS = {
LINUX: "LINUX",
MAC: "MAC",
WINDOWS: "WINDOWS"
}, t.getOS = function() {
return t.isMac ? t.OS.MAC : t.isLinux ? t.OS.LINUX : t.OS.WINDOWS;
}, "object" == typeof navigator) {
var i = (navigator.platform.match(/mac|win|linux/i) || [ "other" ])[0].toLowerCase(), r = navigator.userAgent;
t.isWin = "win" == i, t.isMac = "mac" == i, t.isLinux = "linux" == i, t.isIE = "Microsoft Internet Explorer" == navigator.appName || navigator.appName.indexOf("MSAppHost") >= 0 ? parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]), t.isOldIE = t.isIE && t.isIE < 9, t.isGecko = t.isMozilla = (window.Controllers || window.controllers) && "Gecko" === window.navigator.product, t.isOldGecko = t.isGecko && parseInt((r.match(/rv\:(\d+)/) || [])[1], 10) < 4, t.isOpera = window.opera && "[object Opera]" == Object.prototype.toString.call(window.opera), t.isWebKit = parseFloat(r.split("WebKit/")[1]) || void 0, t.isChrome = parseFloat(r.split(" Chrome/")[1]) || void 0, t.isAIR = r.indexOf("AdobeAIR") >= 0, t.isIPad = r.indexOf("iPad") >= 0, t.isTouchPad = r.indexOf("TouchPad") >= 0, t.isChromeOS = r.indexOf(" CrOS ") >= 0;
}
}), ace.define("ace/lib/event", [ "require", "exports", "module", "ace/lib/keys", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
function i(e, t, n) {
var i = c(t);
if (!a.isMac && s) {
if (s.OSKey && (i |= 8), s.altGr) {
if (3 == (3 & i)) return;
s.altGr = 0;
}
if (18 === n || 17 === n) {
var r = "location" in t ? t.location : t.keyLocation;
17 === n && 1 === r ? 1 == s[n] && (l = t.timeStamp) : 18 === n && 3 === i && 2 === r && t.timeStamp - l < 50 && (s.altGr = !0);
}
}
if (n in o.MODIFIER_KEYS && (n = -1), 8 & i && n >= 91 && n <= 93 && (n = -1), i || 13 !== n || 3 !== (r = "location" in t ? t.location : t.keyLocation) || (e(t, i, -n), !t.defaultPrevented)) {
if (a.isChromeOS && 8 & i) {
if (e(t, i, n), t.defaultPrevented) return;
i &= -9;
}
return !!(i || n in o.FUNCTION_KEYS || n in o.PRINTABLE_KEYS) && e(t, i, n);
}
}
function r() {
(s = Object.create(null)).count = 0, s.lastT = 0;
}
var o = e("./keys"), a = e("./useragent"), s = null, l = 0;
t.addListener = function(e, t, n) {
if (e.addEventListener) return e.addEventListener(t, n, !1);
if (e.attachEvent) {
var i = function() {
n.call(e, window.event);
};
n._wrapper = i, e.attachEvent("on" + t, i);
}
}, t.removeListener = function(e, t, n) {
if (e.removeEventListener) return e.removeEventListener(t, n, !1);
e.detachEvent && e.detachEvent("on" + t, n._wrapper || n);
}, t.stopEvent = function(e) {
return t.stopPropagation(e), t.preventDefault(e), !1;
}, t.stopPropagation = function(e) {
e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0;
}, t.preventDefault = function(e) {
e.preventDefault ? e.preventDefault() : e.returnValue = !1;
}, t.getButton = function(e) {
return "dblclick" == e.type ? 0 : "contextmenu" == e.type || a.isMac && e.ctrlKey && !e.altKey && !e.shiftKey ? 2 : e.preventDefault ? e.button : {
1: 0,
2: 2,
4: 1
}[e.button];
}, t.capture = function(e, n, i) {
function r(e) {
n && n(e), i && i(e), t.removeListener(document, "mousemove", n, !0), t.removeListener(document, "mouseup", r, !0), t.removeListener(document, "dragstart", r, !0);
}
return t.addListener(document, "mousemove", n, !0), t.addListener(document, "mouseup", r, !0), t.addListener(document, "dragstart", r, !0), r;
}, t.addTouchMoveListener = function(e, n) {
if ("ontouchmove" in e) {
var i, r;
t.addListener(e, "touchstart", function(e) {
var t = e.changedTouches[0];
i = t.clientX, r = t.clientY;
}), t.addListener(e, "touchmove", function(e) {
var t = e.changedTouches[0];
e.wheelX = -(t.clientX - i) / 1, e.wheelY = -(t.clientY - r) / 1, i = t.clientX, r = t.clientY, n(e);
});
}
}, t.addMouseWheelListener = function(e, n) {
"onmousewheel" in e ? t.addListener(e, "mousewheel", function(e) {
void 0 !== e.wheelDeltaX ? (e.wheelX = -e.wheelDeltaX / 8, e.wheelY = -e.wheelDeltaY / 8) : (e.wheelX = 0, e.wheelY = -e.wheelDelta / 8), n(e);
}) : "onwheel" in e ? t.addListener(e, "wheel", function(e) {
switch (e.deltaMode) {
case e.DOM_DELTA_PIXEL:
e.wheelX = .35 * e.deltaX || 0, e.wheelY = .35 * e.deltaY || 0;
break;

case e.DOM_DELTA_LINE:
case e.DOM_DELTA_PAGE:
e.wheelX = 5 * (e.deltaX || 0), e.wheelY = 5 * (e.deltaY || 0);
}
n(e);
}) : t.addListener(e, "DOMMouseScroll", function(e) {
e.axis && e.axis == e.HORIZONTAL_AXIS ? (e.wheelX = 5 * (e.detail || 0), e.wheelY = 0) : (e.wheelX = 0, e.wheelY = 5 * (e.detail || 0)), n(e);
});
}, t.addMultiMouseDownListener = function(e, n, i, r) {
var o, s, l, c = 0, u = {
2: "dblclick",
3: "tripleclick",
4: "quadclick"
};
t.addListener(e, "mousedown", function(e) {
if (0 !== t.getButton(e) ? c = 0 : e.detail > 1 ? ++c > 4 && (c = 1) : c = 1, a.isIE) {
var d = Math.abs(e.clientX - o) > 5 || Math.abs(e.clientY - s) > 5;
l && !d || (c = 1), l && clearTimeout(l), l = setTimeout(function() {
l = null;
}, n[c - 1] || 600), 1 == c && (o = e.clientX, s = e.clientY);
}
if (e._clicks = c, i[r]("mousedown", e), c > 4) c = 0; else if (c > 1) return i[r](u[c], e);
}), a.isOldIE && t.addListener(e, "dblclick", function(e) {
c = 2, l && clearTimeout(l), l = setTimeout(function() {
l = null;
}, n[c - 1] || 600), i[r]("mousedown", e), i[r](u[c], e);
});
};
var c = !a.isMac || !a.isOpera || "KeyboardEvent" in window ? function(e) {
return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);
} : function(e) {
return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);
};
if (t.getModifierString = function(e) {
return o.KEY_MODS[c(e)];
}, t.addCommandKeyListener = function(e, n) {
var o = t.addListener;
if (a.isOldGecko || a.isOpera && !("KeyboardEvent" in window)) {
var l = null;
o(e, "keydown", function(e) {
l = e.keyCode;
}), o(e, "keypress", function(e) {
return i(n, e, l);
});
} else {
var c = null;
o(e, "keydown", function(e) {
var t = e.keyCode;
s[t] = (s[t] || 0) + 1, 91 == t || 92 == t ? s.OSKey = !0 : s.OSKey && e.timeStamp - s.lastT > 200 && 1 == s.count && r(), 1 == s[t] && s.count++, s.lastT = e.timeStamp;
var o = i(n, e, t);
return c = e.defaultPrevented, o;
}), o(e, "keypress", function(e) {
c && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) && (t.stopEvent(e), c = null);
}), o(e, "keyup", function(e) {
var t = e.keyCode;
s[t] ? s.count = Math.max(s.count - 1, 0) : r(), 91 != t && 92 != t || (s.OSKey = !1), s[t] = null;
}), s || (r(), o(window, "focus", r));
}
}, "object" == typeof window && window.postMessage && !a.isOldIE) {
t.nextTick = function(e, n) {
n = n || window;
var i = "zero-timeout-message-1";
t.addListener(n, "message", function r(o) {
o.data == i && (t.stopPropagation(o), t.removeListener(n, "message", r), e());
}), n.postMessage(i, "*");
};
}
t.nextFrame = "object" == typeof window && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame), t.nextFrame ? t.nextFrame = t.nextFrame.bind(window) : t.nextFrame = function(e) {
setTimeout(e, 17);
};
}), ace.define("ace/lib/lang", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.last = function(e) {
return e[e.length - 1];
}, t.stringReverse = function(e) {
return e.split("").reverse().join("");
}, t.stringRepeat = function(e, t) {
for (var n = ""; t > 0; ) 1 & t && (n += e), (t >>= 1) && (e += e);
return n;
};
var i = /^\s\s*/, r = /\s\s*$/;
t.stringTrimLeft = function(e) {
return e.replace(i, "");
}, t.stringTrimRight = function(e) {
return e.replace(r, "");
}, t.copyObject = function(e) {
var t = {};
for (var n in e) t[n] = e[n];
return t;
}, t.copyArray = function(e) {
for (var t = [], n = 0, i = e.length; n < i; n++) e[n] && "object" == typeof e[n] ? t[n] = this.copyObject(e[n]) : t[n] = e[n];
return t;
}, t.deepCopy = function e(t) {
if ("object" != typeof t || !t) return t;
var n;
if (Array.isArray(t)) {
n = [];
for (r = 0; r < t.length; r++) n[r] = e(t[r]);
return n;
}
var i = t.constructor;
if (i === RegExp) return t;
n = i();
for (var r in t) n[r] = e(t[r]);
return n;
}, t.arrayToMap = function(e) {
for (var t = {}, n = 0; n < e.length; n++) t[e[n]] = 1;
return t;
}, t.createMap = function(e) {
var t = Object.create(null);
for (var n in e) t[n] = e[n];
return t;
}, t.arrayRemove = function(e, t) {
for (var n = 0; n <= e.length; n++) t === e[n] && e.splice(n, 1);
}, t.escapeRegExp = function(e) {
return e.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1");
}, t.escapeHTML = function(e) {
return e.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;");
}, t.getMatchOffsets = function(e, t) {
var n = [];
return e.replace(t, function(e) {
n.push({
offset: arguments[arguments.length - 2],
length: e.length
});
}), n;
}, t.deferredCall = function(e) {
var t = null, n = function() {
t = null, e();
}, i = function(e) {
return i.cancel(), t = setTimeout(n, e || 0), i;
};
return i.schedule = i, i.call = function() {
return this.cancel(), e(), i;
}, i.cancel = function() {
return clearTimeout(t), t = null, i;
}, i.isPending = function() {
return t;
}, i;
}, t.delayedCall = function(e, t) {
var n = null, i = function() {
n = null, e();
}, r = function(e) {
null == n && (n = setTimeout(i, e || t));
};
return r.delay = function(e) {
n && clearTimeout(n), n = setTimeout(i, e || t);
}, r.schedule = r, r.call = function() {
this.cancel(), e();
}, r.cancel = function() {
n && clearTimeout(n), n = null;
}, r.isPending = function() {
return n;
}, r;
};
}), ace.define("ace/keyboard/textinput", [ "require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang" ], function(e, t, n) {
"use strict";
var i = e("../lib/event"), r = e("../lib/useragent"), o = e("../lib/dom"), a = e("../lib/lang"), s = r.isChrome < 18, l = r.isIE;
t.TextInput = function(e, t) {
function n(e) {
if (!g) {
if (g = !0, A) t = 0, n = e ? 0 : d.value.length - 1; else var t = e ? 2 : 1, n = 2;
try {
d.setSelectionRange(t, n);
} catch (e) {}
g = !1;
}
}
function c() {
g || (d.value = h, r.isWebKit && w.schedule());
}
function u() {
clearTimeout(B), B = setTimeout(function() {
m && (d.style.cssText = m, m = ""), null == t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = !0, t.renderer.$moveTextAreaToCursor());
}, r.isOldIE ? 200 : 0);
}
var d = o.createElement("textarea");
d.className = "ace_text-input", r.isTouchPad && d.setAttribute("x-palm-disable-auto-cap", !0), d.setAttribute("wrap", "off"), d.setAttribute("autocorrect", "off"), d.setAttribute("autocapitalize", "off"), d.setAttribute("spellcheck", !1), d.style.opacity = "0", r.isOldIE && (d.style.top = "-1000px"), e.insertBefore(d, e.firstChild);
var h = "", p = !1, f = !1, g = !1, m = "", v = !0;
try {
var y = document.activeElement === d;
} catch (e) {}
i.addListener(d, "blur", function(e) {
t.onBlur(e), y = !1;
}), i.addListener(d, "focus", function(e) {
y = !0, t.onFocus(e), n();
}), this.focus = function() {
if (m) return d.focus();
var e = d.style.top;
d.style.position = "fixed", d.style.top = "-1000px", d.focus(), setTimeout(function() {
d.style.position = "", "-1000px" == d.style.top && (d.style.top = e);
}, 0);
}, this.blur = function() {
d.blur();
}, this.isFocused = function() {
return y;
};
var b = a.delayedCall(function() {
y && n(v);
}), w = a.delayedCall(function() {
g || (d.value = h, y && n());
});
r.isWebKit || t.addEventListener("changeSelection", function() {
t.selection.isEmpty() != v && (v = !v, b.schedule());
}), c(), y && t.onFocus();
var x = function(e) {
return 0 === e.selectionStart && e.selectionEnd === e.value.length;
};
if (!d.setSelectionRange && d.createTextRange && (d.setSelectionRange = function(e, t) {
var n = this.createTextRange();
n.collapse(!0), n.moveStart("character", e), n.moveEnd("character", t), n.select();
}, x = function(e) {
try {
var t = e.ownerDocument.selection.createRange();
} catch (e) {}
return !(!t || t.parentElement() != e) && t.text == e.value;
}), r.isOldIE) {
var C = !1, _ = function(e) {
if (!C) {
var t = d.value;
if (!g && t && t != h) return e && t == h[0] ? S.schedule() : (E(t), C = !0, c(), void (C = !1));
}
}, S = a.delayedCall(_);
i.addListener(d, "propertychange", _);
var $ = {
13: 1,
27: 1
};
i.addListener(d, "keyup", function(e) {
if (g && (!d.value || $[e.keyCode]) && setTimeout(O, 0), (d.value.charCodeAt(0) || 0) < 129) return S.call();
g ? P() : L();
}), i.addListener(d, "keydown", function(e) {
S.schedule(50);
});
}
var A = null;
this.setInputHandler = function(e) {
A = e;
}, this.getInputHandler = function() {
return A;
};
var k = !1, E = function(e) {
A && (e = A(e), A = null), f ? (n(), e && t.onPaste(e), f = !1) : e == h.charAt(0) ? k ? t.execCommand("del", {
source: "ace"
}) : t.execCommand("backspace", {
source: "ace"
}) : (e.substring(0, 2) == h ? e = e.substr(2) : e.charAt(0) == h.charAt(0) ? e = e.substr(1) : e.charAt(e.length - 1) == h.charAt(0) && (e = e.slice(0, -1)), e.charAt(e.length - 1) == h.charAt(0) && (e = e.slice(0, -1)), e && t.onTextInput(e)), k && (k = !1);
}, T = function(e, t) {
var n = e.clipboardData || window.clipboardData;
if (n && !s) {
var i = l ? "Text" : "text/plain";
return t ? !1 !== n.setData(i, t) : n.getData(i);
}
}, D = function(e, r) {
var o = t.getCopyText();
if (!o) return i.preventDefault(e);
T(e, o) ? (r ? t.onCut() : t.onCopy(), i.preventDefault(e)) : (p = !0, d.value = o, d.select(), setTimeout(function() {
p = !1, c(), n(), r ? t.onCut() : t.onCopy();
}));
}, F = function(e) {
D(e, !0);
}, M = function(e) {
D(e, !1);
}, I = function(e) {
var o = T(e);
"string" == typeof o ? (o && t.onPaste(o, e), r.isIE && setTimeout(n), i.preventDefault(e)) : (d.value = "", f = !0);
};
i.addCommandKeyListener(d, t.onCommandKey.bind(t)), i.addListener(d, "select", function(e) {
p ? p = !1 : x(d) ? (t.selectAll(), n()) : A && n(t.selection.isEmpty());
}), i.addListener(d, "input", function(e) {
if (!g) {
var t = d.value;
E(t), c();
}
}), i.addListener(d, "cut", F), i.addListener(d, "copy", M), i.addListener(d, "paste", I), (!("oncut" in d) || !("oncopy" in d) || !("onpaste" in d)) && i.addListener(e, "keydown", function(e) {
if ((!r.isMac || e.metaKey) && e.ctrlKey) switch (e.keyCode) {
case 67:
M(e);
break;

case 86:
I(e);
break;

case 88:
F(e);
}
});
var L = function(e) {
g || !t.onCompositionStart || t.$readOnly || (g = {}, t.onCompositionStart(), setTimeout(P, 0), t.on("mousedown", O), t.selection.isEmpty() || (t.insert(""), t.session.markUndoGroup(), t.selection.clearSelection()), t.session.markUndoGroup());
}, P = function() {
if (g && t.onCompositionUpdate && !t.$readOnly) {
var e = d.value.replace(/\x01/g, "");
if (g.lastValue !== e && (t.onCompositionUpdate(e), g.lastValue && t.undo(), g.lastValue = e, g.lastValue)) {
var n = t.selection.getRange();
t.insert(g.lastValue), t.session.markUndoGroup(), g.range = t.selection.getRange(), t.selection.setRange(n), t.selection.clearSelection();
}
}
}, O = function(e) {
if (t.onCompositionEnd && !t.$readOnly) {
var n = g;
g = !1;
var i = setTimeout(function() {
i = null;
var e = d.value.replace(/\x01/g, "");
g || (e == n.lastValue ? c() : !n.lastValue && e && (c(), E(e)));
});
A = function(e) {
return i && clearTimeout(i), (e = e.replace(/\x01/g, "")) == n.lastValue ? "" : (n.lastValue && i && t.undo(), e);
}, t.onCompositionEnd(), t.removeListener("mousedown", O), "compositionend" == e.type && n.range && t.selection.setRange(n.range);
}
}, R = a.delayedCall(P, 50);
i.addListener(d, "compositionstart", L), r.isGecko ? i.addListener(d, "text", function() {
R.schedule();
}) : (i.addListener(d, "keyup", function() {
R.schedule();
}), i.addListener(d, "keydown", function() {
R.schedule();
})), i.addListener(d, "compositionend", O), this.getElement = function() {
return d;
}, this.setReadOnly = function(e) {
d.readOnly = e;
}, this.onContextMenu = function(e) {
k = !0, n(t.selection.isEmpty()), t._emit("nativecontextmenu", {
target: t,
domEvent: e
}), this.moveToMouse(e, !0);
}, this.moveToMouse = function(e, n) {
if (n || !r.isOldIE) {
m || (m = d.style.cssText), d.style.cssText = (n ? "z-index:100000;" : "") + "height:" + d.style.height + ";" + (r.isIE ? "opacity:0.1;" : "");
var a = t.container.getBoundingClientRect(), s = o.computedStyle(t.container), l = a.top + (parseInt(s.borderTopWidth) || 0), c = a.left + (parseInt(a.borderLeftWidth) || 0), h = a.bottom - l - d.clientHeight - 2, p = function(e) {
d.style.left = e.clientX - c - 2 + "px", d.style.top = Math.min(e.clientY - l - 2, h) + "px";
};
p(e), "mousedown" == e.type && (t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = null), r.isWin && !r.isOldIE && i.capture(t.container, p, u));
}
}, this.onContextMenuClose = u;
var B, N = function(e) {
t.textInput.onContextMenu(e), u();
};
i.addListener(t.renderer.scroller, "contextmenu", N), i.addListener(d, "contextmenu", N);
};
}), ace.define("ace/mouse/default_handlers", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
function i(e) {
e.$clickSelection = null;
var t = e.editor;
t.setDefaultHandler("mousedown", this.onMouseDown.bind(e)), t.setDefaultHandler("dblclick", this.onDoubleClick.bind(e)), t.setDefaultHandler("tripleclick", this.onTripleClick.bind(e)), t.setDefaultHandler("quadclick", this.onQuadClick.bind(e)), t.setDefaultHandler("mousewheel", this.onMouseWheel.bind(e)), t.setDefaultHandler("touchmove", this.onTouchMove.bind(e)), [ "select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd", "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait" ].forEach(function(t) {
e[t] = this[t];
}, this), e.selectByLines = this.extendSelectionBy.bind(e, "getLineRange"), e.selectByWords = this.extendSelectionBy.bind(e, "getWordRange");
}
function r(e, t, n, i) {
return Math.sqrt(Math.pow(n - e, 2) + Math.pow(i - t, 2));
}
function o(e, t) {
if (e.start.row == e.end.row) n = 2 * t.column - e.start.column - e.end.column; else if (e.start.row != e.end.row - 1 || e.start.column || e.end.column) n = 2 * t.row - e.start.row - e.end.row; else var n = t.column - 4;
return n < 0 ? {
cursor: e.start,
anchor: e.end
} : {
cursor: e.end,
anchor: e.start
};
}
e("../lib/dom"), e("../lib/event"), e("../lib/useragent");
(function() {
this.onMouseDown = function(e) {
var t = e.inSelection(), n = e.getDocumentPosition();
this.mousedownEvent = e;
var i = this.editor;
if (0 !== e.getButton()) {
var r = i.getSelectionRange().isEmpty();
return i.$blockScrolling++, r && i.selection.moveToPosition(n), i.$blockScrolling--, void i.textInput.onContextMenu(e.domEvent);
}
return this.mousedownEvent.time = Date.now(), !t || i.isFocused() || (i.focus(), !this.$focusTimout || this.$clickSelection || i.inMultiSelectMode) ? (this.captureMouse(e), this.startSelect(n, e.domEvent._clicks > 1), e.preventDefault()) : (this.setState("focusWait"), void this.captureMouse(e));
}, this.startSelect = function(e, t) {
e = e || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
var n = this.editor;
n.$blockScrolling++, this.mousedownEvent.getShiftKey() ? n.selection.selectToPosition(e) : t || n.selection.moveToPosition(e), t || this.select(), n.renderer.scroller.setCapture && n.renderer.scroller.setCapture(), n.setStyle("ace_selecting"), this.setState("select"), n.$blockScrolling--;
}, this.select = function() {
var e, t = this.editor, n = t.renderer.screenToTextCoordinates(this.x, this.y);
if (t.$blockScrolling++, this.$clickSelection) {
var i = this.$clickSelection.comparePoint(n);
if (-1 == i) e = this.$clickSelection.end; else if (1 == i) e = this.$clickSelection.start; else {
var r = o(this.$clickSelection, n);
n = r.cursor, e = r.anchor;
}
t.selection.setSelectionAnchor(e.row, e.column);
}
t.selection.selectToPosition(n), t.$blockScrolling--, t.renderer.scrollCursorIntoView();
}, this.extendSelectionBy = function(e) {
var t, n = this.editor, i = n.renderer.screenToTextCoordinates(this.x, this.y), r = n.selection[e](i.row, i.column);
if (n.$blockScrolling++, this.$clickSelection) {
var a = this.$clickSelection.comparePoint(r.start), s = this.$clickSelection.comparePoint(r.end);
if (-1 == a && s <= 0) t = this.$clickSelection.end, r.end.row == i.row && r.end.column == i.column || (i = r.start); else if (1 == s && a >= 0) t = this.$clickSelection.start, r.start.row == i.row && r.start.column == i.column || (i = r.end); else if (-1 == a && 1 == s) i = r.end, t = r.start; else {
var l = o(this.$clickSelection, i);
i = l.cursor, t = l.anchor;
}
n.selection.setSelectionAnchor(t.row, t.column);
}
n.selection.selectToPosition(i), n.$blockScrolling--, n.renderer.scrollCursorIntoView();
}, this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function() {
this.$clickSelection = null, this.editor.unsetStyle("ace_selecting"), this.editor.renderer.scroller.releaseCapture && this.editor.renderer.scroller.releaseCapture();
}, this.focusWait = function() {
var e = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y), t = Date.now();
(e > 0 || t - this.mousedownEvent.time > this.$focusTimout) && this.startSelect(this.mousedownEvent.getDocumentPosition());
}, this.onDoubleClick = function(e) {
var t = e.getDocumentPosition(), n = this.editor, i = n.session.getBracketRange(t);
i ? (i.isEmpty() && (i.start.column--, i.end.column++), this.setState("select")) : (i = n.selection.getWordRange(t.row, t.column), this.setState("selectByWords")), this.$clickSelection = i, this.select();
}, this.onTripleClick = function(e) {
var t = e.getDocumentPosition(), n = this.editor;
this.setState("selectByLines");
var i = n.getSelectionRange();
i.isMultiLine() && i.contains(t.row, t.column) ? (this.$clickSelection = n.selection.getLineRange(i.start.row), this.$clickSelection.end = n.selection.getLineRange(i.end.row).end) : this.$clickSelection = n.selection.getLineRange(t.row), this.select();
}, this.onQuadClick = function(e) {
var t = this.editor;
t.selectAll(), this.$clickSelection = t.getSelectionRange(), this.setState("selectAll");
}, this.onMouseWheel = function(e) {
if (!e.getAccelKey()) {
e.getShiftKey() && e.wheelY && !e.wheelX && (e.wheelX = e.wheelY, e.wheelY = 0);
var t = e.domEvent.timeStamp, n = t - (this.$lastScrollTime || 0), i = this.editor;
return i.renderer.isScrollableBy(e.wheelX * e.speed, e.wheelY * e.speed) || n < 200 ? (this.$lastScrollTime = t, i.renderer.scrollBy(e.wheelX * e.speed, e.wheelY * e.speed), e.stop()) : void 0;
}
}, this.onTouchMove = function(e) {
var t = e.domEvent.timeStamp, n = t - (this.$lastScrollTime || 0), i = this.editor;
if (i.renderer.isScrollableBy(e.wheelX * e.speed, e.wheelY * e.speed) || n < 200) return this.$lastScrollTime = t, i.renderer.scrollBy(e.wheelX * e.speed, e.wheelY * e.speed), e.stop();
};
}).call(i.prototype), t.DefaultHandlers = i;
}), ace.define("ace/tooltip", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom" ], function(e, t, n) {
"use strict";
function i(e) {
this.isOpen = !1, this.$element = null, this.$parentNode = e;
}
e("./lib/oop");
var r = e("./lib/dom");
(function() {
this.$init = function() {
return this.$element = r.createElement("div"), this.$element.className = "ace_tooltip", this.$element.style.display = "none", this.$parentNode.appendChild(this.$element), this.$element;
}, this.getElement = function() {
return this.$element || this.$init();
}, this.setText = function(e) {
r.setInnerText(this.getElement(), e);
}, this.setHtml = function(e) {
this.getElement().innerHTML = e;
}, this.setPosition = function(e, t) {
this.getElement().style.left = e + "px", this.getElement().style.top = t + "px";
}, this.setClassName = function(e) {
r.addCssClass(this.getElement(), e);
}, this.show = function(e, t, n) {
null != e && this.setText(e), null != t && null != n && this.setPosition(t, n), this.isOpen || (this.getElement().style.display = "block", this.isOpen = !0);
}, this.hide = function() {
this.isOpen && (this.getElement().style.display = "none", this.isOpen = !1);
}, this.getHeight = function() {
return this.getElement().offsetHeight;
}, this.getWidth = function() {
return this.getElement().offsetWidth;
};
}).call(i.prototype), t.Tooltip = i;
}), ace.define("ace/mouse/default_gutter_handler", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event", "ace/tooltip" ], function(e, t, n) {
"use strict";
function i(e) {
s.call(this, e);
}
var r = e("../lib/dom"), o = e("../lib/oop"), a = e("../lib/event"), s = e("../tooltip").Tooltip;
o.inherits(i, s), function() {
this.setPosition = function(e, t) {
var n = window.innerWidth || document.documentElement.clientWidth, i = window.innerHeight || document.documentElement.clientHeight, r = this.getWidth(), o = this.getHeight();
t += 15, (e += 15) + r > n && (e -= e + r - n), t + o > i && (t -= 20 + o), s.prototype.setPosition.call(this, e, t);
};
}.call(i.prototype), t.GutterHandler = function(e) {
function t() {
var t = d.getDocumentPosition().row, i = l.$annotations[t];
if (!i) return n();
if (t == s.session.getLength()) {
var r = s.renderer.pixelToScreenCoordinates(0, d.y).row, a = d.$pos;
if (r > s.session.documentToScreenRow(a.row, a.column)) return n();
}
if (h != i) if (h = i.text.join("<br/>"), c.setHtml(h), c.show(), s.on("mousewheel", n), e.$tooltipFollowsMouse) o(d); else {
var u = d.domEvent.target.getBoundingClientRect(), p = c.getElement().style;
p.left = u.right + "px", p.top = u.bottom + "px";
}
}
function n() {
u && (u = clearTimeout(u)), h && (c.hide(), h = null, s.removeEventListener("mousewheel", n));
}
function o(e) {
c.setPosition(e.x, e.y);
}
var s = e.editor, l = s.renderer.$gutterLayer, c = new i(s.container);
e.editor.setDefaultHandler("guttermousedown", function(t) {
if (s.isFocused() && 0 == t.getButton() && "foldWidgets" != l.getRegion(t)) {
var n = t.getDocumentPosition().row, i = s.session.selection;
if (t.getShiftKey()) i.selectTo(n, 0); else {
if (2 == t.domEvent.detail) return s.selectAll(), t.preventDefault();
e.$clickSelection = s.selection.getLineRange(n);
}
return e.setState("selectByLines"), e.captureMouse(t), t.preventDefault();
}
});
var u, d, h;
e.editor.setDefaultHandler("guttermousemove", function(i) {
var a = i.domEvent.target || i.domEvent.srcElement;
if (r.hasCssClass(a, "ace_fold-widget")) return n();
h && e.$tooltipFollowsMouse && o(i), d = i, u || (u = setTimeout(function() {
u = null, d && !e.isMousePressed ? t() : n();
}, 50));
}), a.addListener(s.renderer.$gutter, "mouseout", function(e) {
d = null, h && !u && (u = setTimeout(function() {
u = null, n();
}, 50));
}), s.on("changeSession", n);
};
}), ace.define("ace/mouse/mouse_event", [ "require", "exports", "module", "ace/lib/event", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
var i = e("../lib/event"), r = e("../lib/useragent"), o = t.MouseEvent = function(e, t) {
this.domEvent = e, this.editor = t, this.x = this.clientX = e.clientX, this.y = this.clientY = e.clientY, this.$pos = null, this.$inSelection = null, this.propagationStopped = !1, this.defaultPrevented = !1;
};
(function() {
this.stopPropagation = function() {
i.stopPropagation(this.domEvent), this.propagationStopped = !0;
}, this.preventDefault = function() {
i.preventDefault(this.domEvent), this.defaultPrevented = !0;
}, this.stop = function() {
this.stopPropagation(), this.preventDefault();
}, this.getDocumentPosition = function() {
return this.$pos ? this.$pos : (this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY), this.$pos);
}, this.inSelection = function() {
if (null !== this.$inSelection) return this.$inSelection;
var e = this.editor.getSelectionRange();
if (e.isEmpty()) this.$inSelection = !1; else {
var t = this.getDocumentPosition();
this.$inSelection = e.contains(t.row, t.column);
}
return this.$inSelection;
}, this.getButton = function() {
return i.getButton(this.domEvent);
}, this.getShiftKey = function() {
return this.domEvent.shiftKey;
}, this.getAccelKey = r.isMac ? function() {
return this.domEvent.metaKey;
} : function() {
return this.domEvent.ctrlKey;
};
}).call(o.prototype);
}), ace.define("ace/mouse/dragdrop_handler", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
function i(e) {
function t(e, t) {
var n = Date.now(), i = !t || e.row != t.row, o = !t || e.column != t.column;
!k || i || o ? (m.$blockScrolling += 1, m.moveCursorToPosition(e), m.$blockScrolling -= 1, k = n, E = {
x: b,
y: w
}) : r(E.x, E.y, b, w) > u ? k = null : n - k >= c && (m.renderer.scrollCursorIntoView(), k = null);
}
function n(e, t) {
var n = Date.now(), i = m.renderer.layerConfig.lineHeight, r = m.renderer.layerConfig.characterWidth, o = m.renderer.scroller.getBoundingClientRect(), a = {
x: {
left: b - o.left,
right: o.right - b
},
y: {
top: w - o.top,
bottom: o.bottom - w
}
}, s = Math.min(a.x.left, a.x.right), c = Math.min(a.y.top, a.y.bottom), u = {
row: e.row,
column: e.column
};
s / r <= 2 && (u.column += a.x.left < a.x.right ? -3 : 2), c / i <= 1 && (u.row += a.y.top < a.y.bottom ? -1 : 1);
var d = e.row != u.row, h = e.column != u.column, p = !t || e.row != t.row;
d || h && !p ? A ? n - A >= l && m.renderer.scrollCursorIntoView(u) : A = n : A = null;
}
function i() {
var e = _;
t(_ = m.renderer.screenToTextCoordinates(b, w), e), n(_, e);
}
function d() {
C = m.selection.toOrientedRange(), y = m.session.addMarker(C, "ace_selection", m.getSelectionStyle()), m.clearSelection(), m.isFocused() && m.renderer.$cursorLayer.setBlinking(!1), clearInterval(x), i(), x = setInterval(i, 20), D = 0, a.addListener(document, "mousemove", p);
}
function h() {
clearInterval(x), m.session.removeMarker(y), y = null, m.$blockScrolling += 1, m.selection.fromOrientedRange(C), m.$blockScrolling -= 1, m.isFocused() && !$ && m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()), C = null, _ = null, D = 0, A = null, k = null, a.removeListener(document, "mousemove", p);
}
function p() {
null == F && (F = setTimeout(function() {
null != F && y && h();
}, 20));
}
function f(e) {
var t = e.types;
return !t || Array.prototype.some.call(t, function(e) {
return "text/plain" == e || "Text" == e;
});
}
function g(e) {
var t = [ "copy", "copymove", "all", "uninitialized" ], n = [ "move", "copymove", "linkmove", "all", "uninitialized" ], i = s.isMac ? e.altKey : e.ctrlKey, r = "uninitialized";
try {
r = e.dataTransfer.effectAllowed.toLowerCase();
} catch (e) {}
var o = "none";
return i && t.indexOf(r) >= 0 ? o = "copy" : n.indexOf(r) >= 0 ? o = "move" : t.indexOf(r) >= 0 && (o = "copy"), o;
}
var m = e.editor, v = o.createElement("img");
v.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", s.isOpera && (v.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"), [ "dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag" ].forEach(function(t) {
e[t] = this[t];
}, this), m.addEventListener("mousedown", this.onMouseDown.bind(e));
var y, b, w, x, C, _, S, $, A, k, E, T = m.container, D = 0;
this.onDragStart = function(e) {
if (this.cancelDrag || !T.draggable) {
var t = this;
return setTimeout(function() {
t.startSelect(), t.captureMouse(e);
}, 0), e.preventDefault();
}
C = m.getSelectionRange();
var n = e.dataTransfer;
n.effectAllowed = m.getReadOnly() ? "copy" : "copyMove", s.isOpera && (m.container.appendChild(v), v.scrollTop = 0), n.setDragImage && n.setDragImage(v, 0, 0), s.isOpera && m.container.removeChild(v), n.clearData(), n.setData("Text", m.session.getTextRange()), $ = !0, this.setState("drag");
}, this.onDragEnd = function(e) {
if (T.draggable = !1, $ = !1, this.setState(null), !m.getReadOnly()) {
var t = e.dataTransfer.dropEffect;
!S && "move" == t && m.session.remove(m.getSelectionRange()), m.renderer.$cursorLayer.setBlinking(!0);
}
this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle("");
}, this.onDragEnter = function(e) {
if (!m.getReadOnly() && f(e.dataTransfer)) return b = e.clientX, w = e.clientY, y || d(), D++, e.dataTransfer.dropEffect = S = g(e), a.preventDefault(e);
}, this.onDragOver = function(e) {
if (!m.getReadOnly() && f(e.dataTransfer)) return b = e.clientX, w = e.clientY, y || (d(), D++), null !== F && (F = null), e.dataTransfer.dropEffect = S = g(e), a.preventDefault(e);
}, this.onDragLeave = function(e) {
if (--D <= 0 && y) return h(), S = null, a.preventDefault(e);
}, this.onDrop = function(e) {
if (_) {
var t = e.dataTransfer;
if ($) switch (S) {
case "move":
C = C.contains(_.row, _.column) ? {
start: _,
end: _
} : m.moveText(C, _);
break;

case "copy":
C = m.moveText(C, _, !0);
} else {
var n = t.getData("Text");
C = {
start: _,
end: m.session.insert(_, n)
}, m.focus(), S = null;
}
return h(), a.preventDefault(e);
}
}, a.addListener(T, "dragstart", this.onDragStart.bind(e)), a.addListener(T, "dragend", this.onDragEnd.bind(e)), a.addListener(T, "dragenter", this.onDragEnter.bind(e)), a.addListener(T, "dragover", this.onDragOver.bind(e)), a.addListener(T, "dragleave", this.onDragLeave.bind(e)), a.addListener(T, "drop", this.onDrop.bind(e));
var F = null;
}
function r(e, t, n, i) {
return Math.sqrt(Math.pow(n - e, 2) + Math.pow(i - t, 2));
}
var o = e("../lib/dom"), a = e("../lib/event"), s = e("../lib/useragent"), l = 200, c = 200, u = 5;
(function() {
this.dragWait = function() {
Date.now() - this.mousedownEvent.time > this.editor.getDragDelay() && this.startDrag();
}, this.dragWaitEnd = function() {
this.editor.container.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()), this.selectEnd();
}, this.dragReadyEnd = function(e) {
this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()), this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle(""), this.dragWaitEnd();
}, this.startDrag = function() {
this.cancelDrag = !1;
var e = this.editor;
e.container.draggable = !0, e.renderer.$cursorLayer.setBlinking(!1), e.setStyle("ace_dragging");
var t = s.isWin ? "default" : "move";
e.renderer.setCursorStyle(t), this.setState("dragReady");
}, this.onMouseDrag = function(e) {
var t = this.editor.container;
if (s.isIE && "dragReady" == this.state && (n = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y)) > 3 && t.dragDrop(), "dragWait" === this.state) {
var n = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
n > 0 && (t.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()));
}
}, this.onMouseDown = function(e) {
if (this.$dragEnabled) {
this.mousedownEvent = e;
var t = this.editor, n = e.inSelection(), i = e.getButton();
if (1 === (e.domEvent.detail || 1) && 0 === i && n) {
if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey())) return;
this.mousedownEvent.time = Date.now();
var r = e.domEvent.target || e.domEvent.srcElement;
"unselectable" in r && (r.unselectable = "on"), t.getDragDelay() ? (s.isWebKit && (this.cancelDrag = !0, t.container.draggable = !0), this.setState("dragWait")) : this.startDrag(), this.captureMouse(e, this.onMouseDrag.bind(this)), e.defaultPrevented = !0;
}
}
};
}).call(i.prototype), t.DragdropHandler = i;
}), ace.define("ace/lib/net", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
"use strict";
var i = e("./dom");
t.get = function(e, t) {
var n = new XMLHttpRequest();
n.open("GET", e, !0), n.onreadystatechange = function() {
4 === n.readyState && t(n.responseText);
}, n.send(null);
}, t.loadScript = function(e, t) {
var n = i.getDocumentHead(), r = document.createElement("script");
r.src = e, n.appendChild(r), r.onload = r.onreadystatechange = function(e, n) {
!n && r.readyState && "loaded" != r.readyState && "complete" != r.readyState || (r = r.onload = r.onreadystatechange = null, n || t());
};
}, t.qualifyURL = function(e) {
var t = document.createElement("a");
return t.href = e, t.href;
};
}), ace.define("ace/lib/event_emitter", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
var i = {}, r = function() {
this.propagationStopped = !0;
}, o = function() {
this.defaultPrevented = !0;
};
i._emit = i._dispatchEvent = function(e, t) {
this._eventRegistry || (this._eventRegistry = {}), this._defaultHandlers || (this._defaultHandlers = {});
var n = this._eventRegistry[e] || [], i = this._defaultHandlers[e];
if (n.length || i) {
"object" == typeof t && t || (t = {}), t.type || (t.type = e), t.stopPropagation || (t.stopPropagation = r), t.preventDefault || (t.preventDefault = o), n = n.slice();
for (var a = 0; a < n.length && (n[a](t, this), !t.propagationStopped); a++) ;
return i && !t.defaultPrevented ? i(t, this) : void 0;
}
}, i._signal = function(e, t) {
var n = (this._eventRegistry || {})[e];
if (n) {
n = n.slice();
for (var i = 0; i < n.length; i++) n[i](t, this);
}
}, i.once = function(e, t) {
var n = this;
t && this.addEventListener(e, function i() {
n.removeEventListener(e, i), t.apply(null, arguments);
});
}, i.setDefaultHandler = function(e, t) {
var n = this._defaultHandlers;
if (n || (n = this._defaultHandlers = {
_disabled_: {}
}), n[e]) {
var i = n[e], r = n._disabled_[e];
r || (n._disabled_[e] = r = []), r.push(i);
var o = r.indexOf(t);
-1 != o && r.splice(o, 1);
}
n[e] = t;
}, i.removeDefaultHandler = function(e, t) {
var n = this._defaultHandlers;
if (n) {
var i = n._disabled_[e];
if (n[e] == t) {
n[e];
i && this.setDefaultHandler(e, i.pop());
} else if (i) {
var r = i.indexOf(t);
-1 != r && i.splice(r, 1);
}
}
}, i.on = i.addEventListener = function(e, t, n) {
this._eventRegistry = this._eventRegistry || {};
var i = this._eventRegistry[e];
return i || (i = this._eventRegistry[e] = []), -1 == i.indexOf(t) && i[n ? "unshift" : "push"](t), t;
}, i.off = i.removeListener = i.removeEventListener = function(e, t) {
this._eventRegistry = this._eventRegistry || {};
var n = this._eventRegistry[e];
if (n) {
var i = n.indexOf(t);
-1 !== i && n.splice(i, 1);
}
}, i.removeAllListeners = function(e) {
this._eventRegistry && (this._eventRegistry[e] = []);
}, t.EventEmitter = i;
}), ace.define("ace/lib/app_config", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter" ], function(e, t, n) {
"no use strict";
function i(e) {
"undefined" != typeof console && console.warn && console.warn.apply(console, arguments);
}
function r(e, t) {
var n = new Error(e);
n.data = t, "object" == typeof console && console.error && console.error(n), setTimeout(function() {
throw n;
});
}
var o = e("./oop"), a = e("./event_emitter").EventEmitter, s = {
setOptions: function(e) {
Object.keys(e).forEach(function(t) {
this.setOption(t, e[t]);
}, this);
},
getOptions: function(e) {
var t = {};
return e ? Array.isArray(e) || (t = e, e = Object.keys(t)) : e = Object.keys(this.$options), e.forEach(function(e) {
t[e] = this.getOption(e);
}, this), t;
},
setOption: function(e, t) {
if (this["$" + e] !== t) {
var n = this.$options[e];
return n ? n.forwardTo ? this[n.forwardTo] && this[n.forwardTo].setOption(e, t) : (n.handlesSet || (this["$" + e] = t), void (n && n.set && n.set.call(this, t))) : i('misspelled option "' + e + '"');
}
},
getOption: function(e) {
var t = this.$options[e];
return t ? t.forwardTo ? this[t.forwardTo] && this[t.forwardTo].getOption(e) : t && t.get ? t.get.call(this) : this["$" + e] : i('misspelled option "' + e + '"');
}
}, l = function() {
this.$defaultOptions = {};
};
(function() {
o.implement(this, a), this.defineOptions = function(e, t, n) {
return e.$options || (this.$defaultOptions[t] = e.$options = {}), Object.keys(n).forEach(function(t) {
var i = n[t];
"string" == typeof i && (i = {
forwardTo: i
}), i.name || (i.name = t), e.$options[i.name] = i, "initialValue" in i && (e["$" + i.name] = i.initialValue);
}), o.implement(e, s), this;
}, this.resetOptions = function(e) {
Object.keys(e.$options).forEach(function(t) {
var n = e.$options[t];
"value" in n && e.setOption(t, n.value);
});
}, this.setDefaultValue = function(e, t, n) {
var i = this.$defaultOptions[e] || (this.$defaultOptions[e] = {});
i[t] && (i.forwardTo ? this.setDefaultValue(i.forwardTo, t, n) : i[t].value = n);
}, this.setDefaultValues = function(e, t) {
Object.keys(t).forEach(function(n) {
this.setDefaultValue(e, n, t[n]);
}, this);
}, this.warn = i, this.reportError = r;
}).call(l.prototype), t.AppConfig = l;
}), ace.define("ace/config", [ "require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/app_config" ], function(e, t, n) {
"no use strict";
function i(e) {
return e.replace(/-(.)/g, function(e, t) {
return t.toUpperCase();
});
}
var r = e("./lib/lang"), o = (e("./lib/oop"), e("./lib/net")), a = e("./lib/app_config").AppConfig;
n.exports = t = new a();
var s = function() {
return this || "undefined" != typeof window && window;
}(), l = {
packaged: !1,
workerPath: null,
modePath: null,
themePath: null,
basePath: "",
suffix: ".js",
$moduleUrls: {}
};
t.get = function(e) {
if (!l.hasOwnProperty(e)) throw new Error("Unknown config key: " + e);
return l[e];
}, t.set = function(e, t) {
if (!l.hasOwnProperty(e)) throw new Error("Unknown config key: " + e);
l[e] = t;
}, t.all = function() {
return r.copyObject(l);
}, t.moduleUrl = function(e, t) {
if (l.$moduleUrls[e]) return l.$moduleUrls[e];
var n = e.split("/"), i = "snippets" == (t = t || n[n.length - 2] || "") ? "/" : "-", r = n[n.length - 1];
if ("worker" == t && "-" == i) {
var o = new RegExp("^" + t + "[\\-_]|[\\-_]" + t + "$", "g");
r = r.replace(o, "");
}
(!r || r == t) && n.length > 1 && (r = n[n.length - 2]);
var a = l[t + "Path"];
return null == a ? a = l.basePath : "/" == i && (t = i = ""), a && "/" != a.slice(-1) && (a += "/"), a + t + i + r + this.get("suffix");
}, t.setModuleUrl = function(e, t) {
return l.$moduleUrls[e] = t;
}, t.$loading = {}, t.loadModule = function(n, i) {
var r, a;
Array.isArray(n) && (a = n[0], n = n[1]);
try {
r = e(n);
} catch (e) {}
if (r && !t.$loading[n]) return i && i(r);
if (t.$loading[n] || (t.$loading[n] = []), t.$loading[n].push(i), !(t.$loading[n].length > 1)) {
var s = function() {
e([ n ], function(e) {
t._emit("load.module", {
name: n,
module: e
});
var i = t.$loading[n];
t.$loading[n] = null, i.forEach(function(t) {
t && t(e);
});
});
};
if (!t.get("packaged")) return s();
o.loadScript(t.moduleUrl(n, a), s);
}
}, t.init = function(r) {
if (l.packaged = r || e.packaged || n.packaged || s.define && define.packaged, !s.document) return "";
for (var o = {}, a = "", c = document.currentScript || document._currentScript, u = (c && c.ownerDocument || document).getElementsByTagName("script"), d = 0; d < u.length; d++) {
var h = u[d], p = h.src || h.getAttribute("src");
if (p) {
for (var f = h.attributes, g = 0, m = f.length; g < m; g++) {
var v = f[g];
0 === v.name.indexOf("data-ace-") && (o[i(v.name.replace(/^data-ace-/, ""))] = v.value);
}
var y = p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
y && (a = y[1]);
}
}
a && (o.base = o.base || a, o.packaged = !0), o.basePath = o.base, o.workerPath = o.workerPath || o.base, o.modePath = o.modePath || o.base, o.themePath = o.themePath || o.base, delete o.base;
for (var b in o) void 0 !== o[b] && t.set(b, o[b]);
};
}), ace.define("ace/mouse/mouse_handler", [ "require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/config" ], function(e, t, n) {
"use strict";
var i = e("../lib/event"), r = e("../lib/useragent"), o = e("./default_handlers").DefaultHandlers, a = e("./default_gutter_handler").GutterHandler, s = e("./mouse_event").MouseEvent, l = e("./dragdrop_handler").DragdropHandler, c = e("../config"), u = function(e) {
var t = this;
this.editor = e, new o(this), new a(this), new l(this);
var n = function(t) {
(!document.hasFocus || !document.hasFocus()) && window.focus(), e.focus(), e.isFocused() || window.focus();
}, s = e.renderer.getMouseEventTarget();
i.addListener(s, "click", this.onMouseEvent.bind(this, "click")), i.addListener(s, "mousemove", this.onMouseMove.bind(this, "mousemove")), i.addMultiMouseDownListener(s, [ 400, 300, 250 ], this, "onMouseEvent"), e.renderer.scrollBarV && (i.addMultiMouseDownListener(e.renderer.scrollBarV.inner, [ 400, 300, 250 ], this, "onMouseEvent"), i.addMultiMouseDownListener(e.renderer.scrollBarH.inner, [ 400, 300, 250 ], this, "onMouseEvent"), r.isIE && (i.addListener(e.renderer.scrollBarV.element, "mousedown", n), i.addListener(e.renderer.scrollBarH.element, "mousedown", n))), i.addMouseWheelListener(e.container, this.onMouseWheel.bind(this, "mousewheel")), i.addTouchMoveListener(e.container, this.onTouchMove.bind(this, "touchmove"));
var c = e.renderer.$gutter;
i.addListener(c, "mousedown", this.onMouseEvent.bind(this, "guttermousedown")), i.addListener(c, "click", this.onMouseEvent.bind(this, "gutterclick")), i.addListener(c, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick")), i.addListener(c, "mousemove", this.onMouseEvent.bind(this, "guttermousemove")), i.addListener(s, "mousedown", n), i.addListener(c, "mousedown", function(t) {
return e.focus(), i.preventDefault(t);
}), e.on("mousemove", function(n) {
if (!t.state && !t.$dragDelay && t.$dragEnabled) {
var i = e.renderer.screenToTextCoordinates(n.x, n.y), r = e.session.selection.getRange(), o = e.renderer;
!r.isEmpty() && r.insideStart(i.row, i.column) ? o.setCursorStyle("default") : o.setCursorStyle("");
}
});
};
(function() {
this.onMouseEvent = function(e, t) {
this.editor._emit(e, new s(t, this.editor));
}, this.onMouseMove = function(e, t) {
var n = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
n && n.length && this.editor._emit(e, new s(t, this.editor));
}, this.onMouseWheel = function(e, t) {
var n = new s(t, this.editor);
n.speed = 2 * this.$scrollSpeed, n.wheelX = t.wheelX, n.wheelY = t.wheelY, this.editor._emit(e, n);
}, this.onTouchMove = function(e, t) {
var n = new s(t, this.editor);
n.speed = 1, n.wheelX = t.wheelX, n.wheelY = t.wheelY, this.editor._emit(e, n);
}, this.setState = function(e) {
this.state = e;
}, this.captureMouse = function(e, t) {
this.x = e.x, this.y = e.y, this.isMousePressed = !0;
var n = this.editor.renderer;
n.$keepTextAreaAtCursor && (n.$keepTextAreaAtCursor = null);
var o = this, a = function(e) {
if (e) return r.isWebKit && !e.which && o.releaseMouse ? o.releaseMouse() : (o.x = e.clientX, o.y = e.clientY, t && t(e), o.mouseEvent = new s(e, o.editor), void (o.$mouseMoved = !0));
}, l = function(e) {
clearInterval(u), c(), o[o.state + "End"] && o[o.state + "End"](e), o.state = "", null == n.$keepTextAreaAtCursor && (n.$keepTextAreaAtCursor = !0, n.$moveTextAreaToCursor()), o.isMousePressed = !1, o.$onCaptureMouseMove = o.releaseMouse = null, e && o.onMouseEvent("mouseup", e);
}, c = function() {
o[o.state] && o[o.state](), o.$mouseMoved = !1;
};
if (r.isOldIE && "dblclick" == e.domEvent.type) return setTimeout(function() {
l(e);
});
o.$onCaptureMouseMove = a, o.releaseMouse = i.capture(this.editor.container, a, l);
var u = setInterval(c, 20);
}, this.releaseMouse = null, this.cancelContextMenu = function() {
var e = function(t) {
t && t.domEvent && "contextmenu" != t.domEvent.type || (this.editor.off("nativecontextmenu", e), t && t.domEvent && i.stopEvent(t.domEvent));
}.bind(this);
setTimeout(e, 10), this.editor.on("nativecontextmenu", e);
};
}).call(u.prototype), c.defineOptions(u.prototype, "mouseHandler", {
scrollSpeed: {
initialValue: 2
},
dragDelay: {
initialValue: r.isMac ? 150 : 0
},
dragEnabled: {
initialValue: !0
},
focusTimout: {
initialValue: 0
},
tooltipFollowsMouse: {
initialValue: !0
}
}), t.MouseHandler = u;
}), ace.define("ace/mouse/fold_handler", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.FoldHandler = function(e) {
e.on("click", function(t) {
var n = t.getDocumentPosition(), i = e.session, r = i.getFoldAt(n.row, n.column, 1);
r && (t.getAccelKey() ? i.removeFold(r) : i.expandFold(r), t.stop());
}), e.on("gutterclick", function(t) {
if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
var n = t.getDocumentPosition().row, i = e.session;
i.foldWidgets && i.foldWidgets[n] && e.session.onFoldWidgetClick(n, t), e.isFocused() || e.focus(), t.stop();
}
}), e.on("gutterdblclick", function(t) {
if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
var n = t.getDocumentPosition().row, i = e.session, r = i.getParentFoldRangeData(n, !0), o = r.range || r.firstRange;
if (o) {
n = o.start.row;
var a = i.getFoldAt(n, i.getLine(n).length, 1);
a ? i.removeFold(a) : (i.addFold("...", o), e.renderer.scrollCursorIntoView({
row: o.start.row,
column: 0
}));
}
t.stop();
}
});
};
}), ace.define("ace/keyboard/keybinding", [ "require", "exports", "module", "ace/lib/keys", "ace/lib/event" ], function(e, t, n) {
"use strict";
var i = e("../lib/keys"), r = e("../lib/event"), o = function(e) {
this.$editor = e, this.$data = {
editor: e
}, this.$handlers = [], this.setDefaultHandler(e.commands);
};
(function() {
this.setDefaultHandler = function(e) {
this.removeKeyboardHandler(this.$defaultHandler), this.$defaultHandler = e, this.addKeyboardHandler(e, 0);
}, this.setKeyboardHandler = function(e) {
var t = this.$handlers;
if (t[t.length - 1] != e) {
for (;t[t.length - 1] && t[t.length - 1] != this.$defaultHandler; ) this.removeKeyboardHandler(t[t.length - 1]);
this.addKeyboardHandler(e, 1);
}
}, this.addKeyboardHandler = function(e, t) {
if (e) {
"function" == typeof e && !e.handleKeyboard && (e.handleKeyboard = e);
var n = this.$handlers.indexOf(e);
-1 != n && this.$handlers.splice(n, 1), void 0 == t ? this.$handlers.push(e) : this.$handlers.splice(t, 0, e), -1 == n && e.attach && e.attach(this.$editor);
}
}, this.removeKeyboardHandler = function(e) {
var t = this.$handlers.indexOf(e);
return -1 != t && (this.$handlers.splice(t, 1), e.detach && e.detach(this.$editor), !0);
}, this.getKeyboardHandler = function() {
return this.$handlers[this.$handlers.length - 1];
}, this.getStatusText = function() {
var e = this.$data, t = e.editor;
return this.$handlers.map(function(n) {
return n.getStatusText && n.getStatusText(t, e) || "";
}).filter(Boolean).join(" ");
}, this.$callKeyboardHandlers = function(e, t, n, i) {
for (var o, a = !1, s = this.$editor.commands, l = this.$handlers.length; l-- && !((o = this.$handlers[l].handleKeyboard(this.$data, e, t, n, i)) && o.command && ((a = "null" == o.command || s.exec(o.command, this.$editor, o.args, i)) && i && -1 != e && 1 != o.passEvent && 1 != o.command.passEvent && r.stopEvent(i), a)); ) ;
return !a && -1 == e && (o = {
command: "insertstring"
}, a = s.exec("insertstring", this.$editor, t)), a && this.$editor._signal("keyboardActivity", o), a;
}, this.onCommandKey = function(e, t, n) {
var r = i.keyCodeToString(n);
this.$callKeyboardHandlers(t, r, n, e);
}, this.onTextInput = function(e) {
this.$callKeyboardHandlers(-1, e);
};
}).call(o.prototype), t.KeyBinding = o;
}), ace.define("ace/range", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
var i = function(e, t, n, i) {
this.start = {
row: e,
column: t
}, this.end = {
row: n,
column: i
};
};
(function() {
this.isEqual = function(e) {
return this.start.row === e.start.row && this.end.row === e.end.row && this.start.column === e.start.column && this.end.column === e.end.column;
}, this.toString = function() {
return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]";
}, this.contains = function(e, t) {
return 0 == this.compare(e, t);
}, this.compareRange = function(e) {
var t, n = e.end, i = e.start;
return 1 == (t = this.compare(n.row, n.column)) ? 1 == (t = this.compare(i.row, i.column)) ? 2 : 0 == t ? 1 : 0 : -1 == t ? -2 : -1 == (t = this.compare(i.row, i.column)) ? -1 : 1 == t ? 42 : 0;
}, this.comparePoint = function(e) {
return this.compare(e.row, e.column);
}, this.containsRange = function(e) {
return 0 == this.comparePoint(e.start) && 0 == this.comparePoint(e.end);
}, this.intersects = function(e) {
var t = this.compareRange(e);
return -1 == t || 0 == t || 1 == t;
}, this.isEnd = function(e, t) {
return this.end.row == e && this.end.column == t;
}, this.isStart = function(e, t) {
return this.start.row == e && this.start.column == t;
}, this.setStart = function(e, t) {
"object" == typeof e ? (this.start.column = e.column, this.start.row = e.row) : (this.start.row = e, this.start.column = t);
}, this.setEnd = function(e, t) {
"object" == typeof e ? (this.end.column = e.column, this.end.row = e.row) : (this.end.row = e, this.end.column = t);
}, this.inside = function(e, t) {
return 0 == this.compare(e, t) && (!this.isEnd(e, t) && !this.isStart(e, t));
}, this.insideStart = function(e, t) {
return 0 == this.compare(e, t) && !this.isEnd(e, t);
}, this.insideEnd = function(e, t) {
return 0 == this.compare(e, t) && !this.isStart(e, t);
}, this.compare = function(e, t) {
return this.isMultiLine() || e !== this.start.row ? e < this.start.row ? -1 : e > this.end.row ? 1 : this.start.row === e ? t >= this.start.column ? 0 : -1 : this.end.row === e ? t <= this.end.column ? 0 : 1 : 0 : t < this.start.column ? -1 : t > this.end.column ? 1 : 0;
}, this.compareStart = function(e, t) {
return this.start.row == e && this.start.column == t ? -1 : this.compare(e, t);
}, this.compareEnd = function(e, t) {
return this.end.row == e && this.end.column == t ? 1 : this.compare(e, t);
}, this.compareInside = function(e, t) {
return this.end.row == e && this.end.column == t ? 1 : this.start.row == e && this.start.column == t ? -1 : this.compare(e, t);
}, this.clipRows = function(e, t) {
if (this.end.row > t) n = {
row: t + 1,
column: 0
}; else if (this.end.row < e) var n = {
row: e,
column: 0
};
if (this.start.row > t) r = {
row: t + 1,
column: 0
}; else if (this.start.row < e) var r = {
row: e,
column: 0
};
return i.fromPoints(r || this.start, n || this.end);
}, this.extend = function(e, t) {
var n = this.compare(e, t);
if (0 == n) return this;
if (-1 == n) var r = {
row: e,
column: t
}; else var o = {
row: e,
column: t
};
return i.fromPoints(r || this.start, o || this.end);
}, this.isEmpty = function() {
return this.start.row === this.end.row && this.start.column === this.end.column;
}, this.isMultiLine = function() {
return this.start.row !== this.end.row;
}, this.clone = function() {
return i.fromPoints(this.start, this.end);
}, this.collapseRows = function() {
return 0 == this.end.column ? new i(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0) : new i(this.start.row, 0, this.end.row, 0);
}, this.toScreenRange = function(e) {
var t = e.documentToScreenPosition(this.start), n = e.documentToScreenPosition(this.end);
return new i(t.row, t.column, n.row, n.column);
}, this.moveBy = function(e, t) {
this.start.row += e, this.start.column += t, this.end.row += e, this.end.column += t;
};
}).call(i.prototype), i.fromPoints = function(e, t) {
return new i(e.row, e.column, t.row, t.column);
}, i.comparePoints = function(e, t) {
return e.row - t.row || e.column - t.column;
}, i.comparePoints = function(e, t) {
return e.row - t.row || e.column - t.column;
}, t.Range = i;
}), ace.define("ace/selection", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/lang"), o = e("./lib/event_emitter").EventEmitter, a = e("./range").Range, s = function(e) {
this.session = e, this.doc = e.getDocument(), this.clearSelection(), this.lead = this.selectionLead = this.doc.createAnchor(0, 0), this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);
var t = this;
this.lead.on("change", function(e) {
t._emit("changeCursor"), t.$isEmpty || t._emit("changeSelection"), !t.$keepDesiredColumnOnChange && e.old.column != e.value.column && (t.$desiredColumn = null);
}), this.selectionAnchor.on("change", function() {
t.$isEmpty || t._emit("changeSelection");
});
};
(function() {
i.implement(this, o), this.isEmpty = function() {
return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;
}, this.isMultiLine = function() {
return !this.isEmpty() && this.getRange().isMultiLine();
}, this.getCursor = function() {
return this.lead.getPosition();
}, this.setSelectionAnchor = function(e, t) {
this.anchor.setPosition(e, t), this.$isEmpty && (this.$isEmpty = !1, this._emit("changeSelection"));
}, this.getSelectionAnchor = function() {
return this.$isEmpty ? this.getSelectionLead() : this.anchor.getPosition();
}, this.getSelectionLead = function() {
return this.lead.getPosition();
}, this.shiftSelection = function(e) {
if (this.$isEmpty) this.moveCursorTo(this.lead.row, this.lead.column + e); else {
var t = this.getSelectionAnchor(), n = this.getSelectionLead(), i = this.isBackwards();
(!i || 0 !== t.column) && this.setSelectionAnchor(t.row, t.column + e), (i || 0 !== n.column) && this.$moveSelection(function() {
this.moveCursorTo(n.row, n.column + e);
});
}
}, this.isBackwards = function() {
var e = this.anchor, t = this.lead;
return e.row > t.row || e.row == t.row && e.column > t.column;
}, this.getRange = function() {
var e = this.anchor, t = this.lead;
return this.isEmpty() ? a.fromPoints(t, t) : this.isBackwards() ? a.fromPoints(t, e) : a.fromPoints(e, t);
}, this.clearSelection = function() {
this.$isEmpty || (this.$isEmpty = !0, this._emit("changeSelection"));
}, this.selectAll = function() {
var e = this.doc.getLength() - 1;
this.setSelectionAnchor(0, 0), this.moveCursorTo(e, this.doc.getLine(e).length);
}, this.setRange = this.setSelectionRange = function(e, t) {
t ? (this.setSelectionAnchor(e.end.row, e.end.column), this.selectTo(e.start.row, e.start.column)) : (this.setSelectionAnchor(e.start.row, e.start.column), this.selectTo(e.end.row, e.end.column)), this.getRange().isEmpty() && (this.$isEmpty = !0), this.$desiredColumn = null;
}, this.$moveSelection = function(e) {
var t = this.lead;
this.$isEmpty && this.setSelectionAnchor(t.row, t.column), e.call(this);
}, this.selectTo = function(e, t) {
this.$moveSelection(function() {
this.moveCursorTo(e, t);
});
}, this.selectToPosition = function(e) {
this.$moveSelection(function() {
this.moveCursorToPosition(e);
});
}, this.moveTo = function(e, t) {
this.clearSelection(), this.moveCursorTo(e, t);
}, this.moveToPosition = function(e) {
this.clearSelection(), this.moveCursorToPosition(e);
}, this.selectUp = function() {
this.$moveSelection(this.moveCursorUp);
}, this.selectDown = function() {
this.$moveSelection(this.moveCursorDown);
}, this.selectRight = function() {
this.$moveSelection(this.moveCursorRight);
}, this.selectLeft = function() {
this.$moveSelection(this.moveCursorLeft);
}, this.selectLineStart = function() {
this.$moveSelection(this.moveCursorLineStart);
}, this.selectLineEnd = function() {
this.$moveSelection(this.moveCursorLineEnd);
}, this.selectFileEnd = function() {
this.$moveSelection(this.moveCursorFileEnd);
}, this.selectFileStart = function() {
this.$moveSelection(this.moveCursorFileStart);
}, this.selectWordRight = function() {
this.$moveSelection(this.moveCursorWordRight);
}, this.selectWordLeft = function() {
this.$moveSelection(this.moveCursorWordLeft);
}, this.getWordRange = function(e, t) {
if (void 0 === t) {
var n = e || this.lead;
e = n.row, t = n.column;
}
return this.session.getWordRange(e, t);
}, this.selectWord = function() {
this.setSelectionRange(this.getWordRange());
}, this.selectAWord = function() {
var e = this.getCursor(), t = this.session.getAWordRange(e.row, e.column);
this.setSelectionRange(t);
}, this.getLineRange = function(e, t) {
var n, i = "number" == typeof e ? e : this.lead.row, r = this.session.getFoldLine(i);
return r ? (i = r.start.row, n = r.end.row) : n = i, !0 === t ? new a(i, 0, n, this.session.getLine(n).length) : new a(i, 0, n + 1, 0);
}, this.selectLine = function() {
this.setSelectionRange(this.getLineRange());
}, this.moveCursorUp = function() {
this.moveCursorBy(-1, 0);
}, this.moveCursorDown = function() {
this.moveCursorBy(1, 0);
}, this.moveCursorLeft = function() {
var e, t = this.lead.getPosition();
if (e = this.session.getFoldAt(t.row, t.column, -1)) this.moveCursorTo(e.start.row, e.start.column); else if (0 === t.column) t.row > 0 && this.moveCursorTo(t.row - 1, this.doc.getLine(t.row - 1).length); else {
var n = this.session.getTabSize();
this.session.isTabStop(t) && this.doc.getLine(t.row).slice(t.column - n, t.column).split(" ").length - 1 == n ? this.moveCursorBy(0, -n) : this.moveCursorBy(0, -1);
}
}, this.moveCursorRight = function() {
var e, t = this.lead.getPosition();
if (e = this.session.getFoldAt(t.row, t.column, 1)) this.moveCursorTo(e.end.row, e.end.column); else if (this.lead.column == this.doc.getLine(this.lead.row).length) this.lead.row < this.doc.getLength() - 1 && this.moveCursorTo(this.lead.row + 1, 0); else {
var n = this.session.getTabSize(), t = this.lead;
this.session.isTabStop(t) && this.doc.getLine(t.row).slice(t.column, t.column + n).split(" ").length - 1 == n ? this.moveCursorBy(0, n) : this.moveCursorBy(0, 1);
}
}, this.moveCursorLineStart = function() {
var e = this.lead.row, t = this.lead.column, n = this.session.documentToScreenRow(e, t), i = this.session.screenToDocumentPosition(n, 0), r = this.session.getDisplayLine(e, null, i.row, i.column).match(/^\s*/);
r[0].length != t && !this.session.$useEmacsStyleLineStart && (i.column += r[0].length), this.moveCursorToPosition(i);
}, this.moveCursorLineEnd = function() {
var e = this.lead, t = this.session.getDocumentLastRowColumnPosition(e.row, e.column);
if (this.lead.column == t.column) {
var n = this.session.getLine(t.row);
if (t.column == n.length) {
var i = n.search(/\s+$/);
i > 0 && (t.column = i);
}
}
this.moveCursorTo(t.row, t.column);
}, this.moveCursorFileEnd = function() {
var e = this.doc.getLength() - 1, t = this.doc.getLine(e).length;
this.moveCursorTo(e, t);
}, this.moveCursorFileStart = function() {
this.moveCursorTo(0, 0);
}, this.moveCursorLongWordRight = function() {
var e = this.lead.row, t = this.lead.column, n = this.doc.getLine(e), i = n.substring(t);
this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0;
var r = this.session.getFoldAt(e, t, 1);
if (r) this.moveCursorTo(r.end.row, r.end.column); else {
if (this.session.nonTokenRe.exec(i) && (t += this.session.nonTokenRe.lastIndex, this.session.nonTokenRe.lastIndex = 0, i = n.substring(t)), t >= n.length) return this.moveCursorTo(e, n.length), this.moveCursorRight(), void (e < this.doc.getLength() - 1 && this.moveCursorWordRight());
this.session.tokenRe.exec(i) && (t += this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(e, t);
}
}, this.moveCursorLongWordLeft = function() {
var e, t = this.lead.row, n = this.lead.column;
if (e = this.session.getFoldAt(t, n, -1)) this.moveCursorTo(e.start.row, e.start.column); else {
var i = this.session.getFoldStringAt(t, n, -1);
null == i && (i = this.doc.getLine(t).substring(0, n));
var o = r.stringReverse(i);
if (this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0, this.session.nonTokenRe.exec(o) && (n -= this.session.nonTokenRe.lastIndex, o = o.slice(this.session.nonTokenRe.lastIndex), this.session.nonTokenRe.lastIndex = 0), n <= 0) return this.moveCursorTo(t, 0), this.moveCursorLeft(), void (t > 0 && this.moveCursorWordLeft());
this.session.tokenRe.exec(o) && (n -= this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(t, n);
}
}, this.$shortWordEndIndex = function(e) {
var t, n = 0, i = /\s/, r = this.session.tokenRe;
if (r.lastIndex = 0, this.session.tokenRe.exec(e)) n = this.session.tokenRe.lastIndex; else {
for (;(t = e[n]) && i.test(t); ) n++;
if (n < 1) for (r.lastIndex = 0; (t = e[n]) && !r.test(t); ) if (r.lastIndex = 0, n++, i.test(t)) {
if (n > 2) {
n--;
break;
}
for (;(t = e[n]) && i.test(t); ) n++;
if (n > 2) break;
}
}
return r.lastIndex = 0, n;
}, this.moveCursorShortWordRight = function() {
var e = this.lead.row, t = this.lead.column, n = this.doc.getLine(e), i = n.substring(t), r = this.session.getFoldAt(e, t, 1);
if (r) return this.moveCursorTo(r.end.row, r.end.column);
if (t == n.length) {
var o = this.doc.getLength();
do {
e++, i = this.doc.getLine(e);
} while (e < o && /^\s*$/.test(i));
/^\s+/.test(i) || (i = ""), t = 0;
}
var a = this.$shortWordEndIndex(i);
this.moveCursorTo(e, t + a);
}, this.moveCursorShortWordLeft = function() {
var e, t = this.lead.row, n = this.lead.column;
if (e = this.session.getFoldAt(t, n, -1)) return this.moveCursorTo(e.start.row, e.start.column);
var i = this.session.getLine(t).substring(0, n);
if (0 === n) {
do {
t--, i = this.doc.getLine(t);
} while (t > 0 && /^\s*$/.test(i));
n = i.length, /\s+$/.test(i) || (i = "");
}
var o = r.stringReverse(i), a = this.$shortWordEndIndex(o);
return this.moveCursorTo(t, n - a);
}, this.moveCursorWordRight = function() {
this.session.$selectLongWords ? this.moveCursorLongWordRight() : this.moveCursorShortWordRight();
}, this.moveCursorWordLeft = function() {
this.session.$selectLongWords ? this.moveCursorLongWordLeft() : this.moveCursorShortWordLeft();
}, this.moveCursorBy = function(e, t) {
var n = this.session.documentToScreenPosition(this.lead.row, this.lead.column);
0 === t && (this.$desiredColumn ? n.column = this.$desiredColumn : this.$desiredColumn = n.column);
var i = this.session.screenToDocumentPosition(n.row + e, n.column);
0 !== e && 0 === t && i.row === this.lead.row && i.column === this.lead.column && this.session.lineWidgets && this.session.lineWidgets[i.row] && (i.row > 0 || e > 0) && i.row++, this.moveCursorTo(i.row, i.column + t, 0 === t);
}, this.moveCursorToPosition = function(e) {
this.moveCursorTo(e.row, e.column);
}, this.moveCursorTo = function(e, t, n) {
var i = this.session.getFoldAt(e, t, 1);
i && (e = i.start.row, t = i.start.column), this.$keepDesiredColumnOnChange = !0, this.lead.setPosition(e, t), this.$keepDesiredColumnOnChange = !1, n || (this.$desiredColumn = null);
}, this.moveCursorToScreen = function(e, t, n) {
var i = this.session.screenToDocumentPosition(e, t);
this.moveCursorTo(i.row, i.column, n);
}, this.detach = function() {
this.lead.detach(), this.anchor.detach(), this.session = this.doc = null;
}, this.fromOrientedRange = function(e) {
this.setSelectionRange(e, e.cursor == e.start), this.$desiredColumn = e.desiredColumn || this.$desiredColumn;
}, this.toOrientedRange = function(e) {
var t = this.getRange();
return e ? (e.start.column = t.start.column, e.start.row = t.start.row, e.end.column = t.end.column, e.end.row = t.end.row) : e = t, e.cursor = this.isBackwards() ? e.start : e.end, e.desiredColumn = this.$desiredColumn, e;
}, this.getRangeOfMovements = function(e) {
var t = this.getCursor();
try {
e.call(null, this);
var n = this.getCursor();
return a.fromPoints(t, n);
} catch (e) {
return a.fromPoints(t, t);
} finally {
this.moveCursorToPosition(t);
}
}, this.toJSON = function() {
if (this.rangeCount) var e = this.ranges.map(function(e) {
var t = e.clone();
return t.isBackwards = e.cursor == e.start, t;
}); else (e = this.getRange()).isBackwards = this.isBackwards();
return e;
}, this.fromJSON = function(e) {
if (void 0 == e.start) {
if (this.rangeList) {
this.toSingleRange(e[0]);
for (var t = e.length; t--; ) {
var n = a.fromPoints(e[t].start, e[t].end);
e[t].isBackwards && (n.cursor = n.start), this.addRange(n, !0);
}
return;
}
e = e[0];
}
this.rangeList && this.toSingleRange(e), this.setSelectionRange(e, e.isBackwards);
}, this.isEqual = function(e) {
if ((e.length || this.rangeCount) && e.length != this.rangeCount) return !1;
if (!e.length || !this.ranges) return this.getRange().isEqual(e);
for (var t = this.ranges.length; t--; ) if (!this.ranges[t].isEqual(e[t])) return !1;
return !0;
};
}).call(s.prototype), t.Selection = s;
}), ace.define("ace/tokenizer", [ "require", "exports", "module", "ace/config" ], function(e, t, n) {
"use strict";
var i = e("./config"), r = 2e3, o = function(e) {
this.states = e, this.regExps = {}, this.matchMappings = {};
for (var t in this.states) {
for (var n = this.states[t], i = [], r = 0, o = this.matchMappings[t] = {
defaultToken: "text"
}, a = "g", s = [], l = 0; l < n.length; l++) {
var c = n[l];
if (c.defaultToken && (o.defaultToken = c.defaultToken), c.caseInsensitive && (a = "gi"), null != c.regex) {
c.regex instanceof RegExp && (c.regex = c.regex.toString().slice(1, -1));
var u = c.regex, d = new RegExp("(?:(" + u + ")|(.))").exec("a").length - 2;
Array.isArray(c.token) ? 1 == c.token.length || 1 == d ? c.token = c.token[0] : d - 1 != c.token.length ? (this.reportError("number of classes and regexp groups doesn't match", {
rule: c,
groupCount: d - 1
}), c.token = c.token[0]) : (c.tokenArray = c.token, c.token = null, c.onMatch = this.$arrayTokens) : "function" == typeof c.token && !c.onMatch && (c.onMatch = d > 1 ? this.$applyToken : c.token), d > 1 && (/\\\d/.test(c.regex) ? u = c.regex.replace(/\\([0-9]+)/g, function(e, t) {
return "\\" + (parseInt(t, 10) + r + 1);
}) : (d = 1, u = this.removeCapturingGroups(c.regex)), !c.splitRegex && "string" != typeof c.token && s.push(c)), o[r] = l, r += d, i.push(u), c.onMatch || (c.onMatch = null);
}
}
i.length || (o[0] = 0, i.push("$")), s.forEach(function(e) {
e.splitRegex = this.createSplitterRegexp(e.regex, a);
}, this), this.regExps[t] = new RegExp("(" + i.join(")|(") + ")|($)", a);
}
};
(function() {
this.$setMaxTokenCount = function(e) {
r = 0 | e;
}, this.$applyToken = function(e) {
var t = this.splitRegex.exec(e).slice(1), n = this.token.apply(this, t);
if ("string" == typeof n) return [ {
type: n,
value: e
} ];
for (var i = [], r = 0, o = n.length; r < o; r++) t[r] && (i[i.length] = {
type: n[r],
value: t[r]
});
return i;
}, this.$arrayTokens = function(e) {
if (!e) return [];
var t = this.splitRegex.exec(e);
if (!t) return "text";
for (var n = [], i = this.tokenArray, r = 0, o = i.length; r < o; r++) t[r + 1] && (n[n.length] = {
type: i[r],
value: t[r + 1]
});
return n;
}, this.removeCapturingGroups = function(e) {
return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g, function(e, t) {
return t ? "(?:" : e;
});
}, this.createSplitterRegexp = function(e, t) {
if (-1 != e.indexOf("(?=")) {
var n = 0, i = !1, r = {};
e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(e, t, o, a, s, l) {
return i ? i = "]" != s : s ? i = !0 : a ? (n == r.stack && (r.end = l + 1, r.stack = -1), n--) : o && (n++, 1 != o.length && (r.stack = n, r.start = l)), e;
}), null != r.end && /^\)*$/.test(e.substr(r.end)) && (e = e.substring(0, r.start) + e.substr(r.end));
}
return "^" != e.charAt(0) && (e = "^" + e), "$" != e.charAt(e.length - 1) && (e += "$"), new RegExp(e, (t || "").replace("g", ""));
}, this.getLineTokens = function(e, t) {
if (t && "string" != typeof t) "#tmp" === (t = (n = t.slice(0))[0]) && (n.shift(), t = n.shift()); else var n = [];
var i = t || "start", o = this.states[i];
o || (i = "start", o = this.states[i]);
var a = this.matchMappings[i], s = this.regExps[i];
s.lastIndex = 0;
for (var l, c = [], u = 0, d = 0, h = {
type: null,
value: ""
}; l = s.exec(e); ) {
var p = a.defaultToken, f = null, g = l[0], m = s.lastIndex;
if (m - g.length > u) {
var v = e.substring(u, m - g.length);
h.type == p ? h.value += v : (h.type && c.push(h), h = {
type: p,
value: v
});
}
for (y = 0; y < l.length - 2; y++) if (void 0 !== l[y + 1]) {
p = (f = o[a[y]]).onMatch ? f.onMatch(g, i, n) : f.token, f.next && (i = "string" == typeof f.next ? f.next : f.next(i, n), (o = this.states[i]) || (this.reportError("state doesn't exist", i), i = "start", o = this.states[i]), a = this.matchMappings[i], u = m, s = this.regExps[i], s.lastIndex = m);
break;
}
if (g) if ("string" == typeof p) f && !1 === f.merge || h.type !== p ? (h.type && c.push(h), h = {
type: p,
value: g
}) : h.value += g; else if (p) {
h.type && c.push(h), h = {
type: null,
value: ""
};
for (var y = 0; y < p.length; y++) c.push(p[y]);
}
if (u == e.length) break;
if (u = m, d++ > r) {
for (d > 2 * e.length && this.reportError("infinite loop with in ace tokenizer", {
startState: t,
line: e
}); u < e.length; ) h.type && c.push(h), h = {
value: e.substring(u, u += 2e3),
type: "overflow"
};
i = "start", n = [];
break;
}
}
return h.type && c.push(h), n.length > 1 && n[0] !== i && n.unshift("#tmp", i), {
tokens: c,
state: n.length ? n : i
};
}, this.reportError = i.reportError;
}).call(o.prototype), t.Tokenizer = o;
}), ace.define("ace/mode/text_highlight_rules", [ "require", "exports", "module", "ace/lib/lang" ], function(e, t, n) {
"use strict";
var i = e("../lib/lang"), r = function() {
this.$rules = {
start: [ {
token: "empty_line",
regex: "^$"
}, {
defaultToken: "text"
} ]
};
};
(function() {
this.addRules = function(e, t) {
if (t) for (var n in e) {
for (var i = e[n], r = 0; r < i.length; r++) {
var o = i[r];
(o.next || o.onMatch) && ("string" == typeof o.next && 0 !== o.next.indexOf(t) && (o.next = t + o.next), o.nextState && 0 !== o.nextState.indexOf(t) && (o.nextState = t + o.nextState));
}
this.$rules[t + n] = i;
} else for (var n in e) this.$rules[n] = e[n];
}, this.getRules = function() {
return this.$rules;
}, this.embedRules = function(e, t, n, r, o) {
var a = "function" == typeof e ? new e().getRules() : e;
if (r) for (c = 0; c < r.length; c++) r[c] = t + r[c]; else {
r = [];
for (var s in a) r.push(t + s);
}
if (this.addRules(a, t), n) for (var l = Array.prototype[o ? "push" : "unshift"], c = 0; c < r.length; c++) l.apply(this.$rules[r[c]], i.deepCopy(n));
this.$embeds || (this.$embeds = []), this.$embeds.push(t);
}, this.getEmbeds = function() {
return this.$embeds;
};
var e = function(e, t) {
return ("start" != e || t.length) && t.unshift(this.nextState, e), this.nextState;
}, t = function(e, t) {
return t.shift(), t.shift() || "start";
};
this.normalizeRules = function() {
function n(o) {
var a = r[o];
a.processed = !0;
for (var s = 0; s < a.length; s++) {
var l = a[s];
!l.regex && l.start && (l.regex = l.start, l.next || (l.next = []), l.next.push({
defaultToken: l.token
}, {
token: l.token + ".end",
regex: l.end || l.start,
next: "pop"
}), l.token = l.token + ".start", l.push = !0);
var c = l.next || l.push;
if (c && Array.isArray(c)) {
var u = l.stateName;
u || ("string" != typeof (u = l.token) && (u = u[0] || ""), r[u] && (u += i++)), r[u] = c, l.next = u, n(u);
} else "pop" == c && (l.next = t);
if (l.push && (l.nextState = l.next || l.push, l.next = e, delete l.push), l.rules) for (var d in l.rules) r[d] ? r[d].push && r[d].push.apply(r[d], l.rules[d]) : r[d] = l.rules[d];
if (l.include || "string" == typeof l) var h = l.include || l, p = r[h]; else Array.isArray(l) && (p = l);
if (p) {
var f = [ s, 1 ].concat(p);
l.noEscape && (f = f.filter(function(e) {
return !e.next;
})), a.splice.apply(a, f), s--, p = null;
}
l.keywordMap && (l.token = this.createKeywordMapper(l.keywordMap, l.defaultToken || "text", l.caseInsensitive), delete l.defaultToken);
}
}
var i = 0, r = this.$rules;
Object.keys(r).forEach(n, this);
}, this.createKeywordMapper = function(e, t, n, i) {
var r = Object.create(null);
return Object.keys(e).forEach(function(t) {
var o = e[t];
n && (o = o.toLowerCase());
for (var a = o.split(i || "|"), s = a.length; s--; ) r[a[s]] = t;
}), Object.getPrototypeOf(r) && (r.__proto__ = null), this.$keywordList = Object.keys(r), e = null, n ? function(e) {
return r[e.toLowerCase()] || t;
} : function(e) {
return r[e] || t;
};
}, this.getKeywords = function() {
return this.$keywords;
};
}).call(r.prototype), t.TextHighlightRules = r;
}), ace.define("ace/mode/behaviour", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
var i = function() {
this.$behaviours = {};
};
(function() {
this.add = function(e, t, n) {
switch (void 0) {
case this.$behaviours:
this.$behaviours = {};

case this.$behaviours[e]:
this.$behaviours[e] = {};
}
this.$behaviours[e][t] = n;
}, this.addBehaviours = function(e) {
for (var t in e) for (var n in e[t]) this.add(t, n, e[t][n]);
}, this.remove = function(e) {
this.$behaviours && this.$behaviours[e] && delete this.$behaviours[e];
}, this.inherit = function(e, t) {
if ("function" == typeof e) n = new e().getBehaviours(t); else var n = e.getBehaviours(t);
this.addBehaviours(n);
}, this.getBehaviours = function(e) {
if (!e) return this.$behaviours;
for (var t = {}, n = 0; n < e.length; n++) this.$behaviours[e[n]] && (t[e[n]] = this.$behaviours[e[n]]);
return t;
};
}).call(i.prototype), t.Behaviour = i;
}), ace.define("ace/unicode", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
t.packages = {}, function(e) {
var n = /\w{4}/g;
for (var i in e) t.packages[i] = e[i].replace(n, "\\u$&");
}({
L: "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
Ll: "0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
Lu: "0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt: "01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",
Lm: "02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",
Lo: "01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
M: "0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
Mn: "0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
Mc: "0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
Me: "0488048906DE20DD-20E020E2-20E4A670-A672",
N: "0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nd: "0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nl: "16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",
No: "00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
P: "0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
Pd: "002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",
Ps: "0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",
Pe: "0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
Pi: "00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",
Pf: "00BB2019201D203A2E032E052E0A2E0D2E1D2E21",
Pc: "005F203F20402054FE33FE34FE4D-FE4FFF3F",
Po: "0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
S: "0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
Sm: "002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",
Sc: "002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",
Sk: "005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
So: "00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
Z: "002000A01680180E2000-200A20282029202F205F3000",
Zs: "002000A01680180E2000-200A202F205F3000",
Zl: "2028",
Zp: "2029",
C: "0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
Cc: "0000-001F007F-009F",
Cf: "00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",
Co: "E000-F8FF",
Cs: "D800-DFFF",
Cn: "03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"
});
}), ace.define("ace/token_iterator", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
var i = function(e, t, n) {
this.$session = e, this.$row = t, this.$rowTokens = e.getTokens(t);
var i = e.getTokenAt(t, n);
this.$tokenIndex = i ? i.index : -1;
};
(function() {
this.stepBackward = function() {
for (this.$tokenIndex -= 1; this.$tokenIndex < 0; ) {
if (this.$row -= 1, this.$row < 0) return this.$row = 0, null;
this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = this.$rowTokens.length - 1;
}
return this.$rowTokens[this.$tokenIndex];
}, this.stepForward = function() {
this.$tokenIndex += 1;
for (var e; this.$tokenIndex >= this.$rowTokens.length; ) {
if (this.$row += 1, e || (e = this.$session.getLength()), this.$row >= e) return this.$row = e - 1, null;
this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = 0;
}
return this.$rowTokens[this.$tokenIndex];
}, this.getCurrentToken = function() {
return this.$rowTokens[this.$tokenIndex];
}, this.getCurrentTokenRow = function() {
return this.$row;
}, this.getCurrentTokenColumn = function() {
var e = this.$rowTokens, t = this.$tokenIndex, n = e[t].start;
if (void 0 !== n) return n;
for (n = 0; t > 0; ) t -= 1, n += e[t].value.length;
return n;
}, this.getCurrentTokenPosition = function() {
return {
row: this.$row,
column: this.getCurrentTokenColumn()
};
};
}).call(i.prototype), t.TokenIterator = i;
}), ace.define("ace/mode/text", [ "require", "exports", "module", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../tokenizer").Tokenizer, r = e("./text_highlight_rules").TextHighlightRules, o = e("./behaviour").Behaviour, a = e("../unicode"), s = e("../lib/lang"), l = e("../token_iterator").TokenIterator, c = e("../range").Range, u = function() {
this.HighlightRules = r, this.$behaviour = new o();
};
(function() {
this.tokenRe = new RegExp("^[" + a.packages.L + a.packages.Mn + a.packages.Mc + a.packages.Nd + a.packages.Pc + "\\$_]+", "g"), this.nonTokenRe = new RegExp("^(?:[^" + a.packages.L + a.packages.Mn + a.packages.Mc + a.packages.Nd + a.packages.Pc + "\\$_]|\\s])+", "g"), this.getTokenizer = function() {
return this.$tokenizer || (this.$highlightRules = this.$highlightRules || new this.HighlightRules(), this.$tokenizer = new i(this.$highlightRules.getRules())), this.$tokenizer;
}, this.lineCommentStart = "", this.blockComment = "", this.toggleCommentLines = function(e, t, n, i) {
function r(e) {
for (var t = n; t <= i; t++) e(o.getLine(t), t);
}
var o = t.doc, a = !0, l = !0, c = 1 / 0, u = t.getTabSize(), d = !1;
if (this.lineCommentStart) {
if (Array.isArray(this.lineCommentStart)) var h = this.lineCommentStart.map(s.escapeRegExp).join("|"), p = this.lineCommentStart[0]; else var h = s.escapeRegExp(this.lineCommentStart), p = this.lineCommentStart;
h = new RegExp("^(\\s*)(?:" + h + ") ?"), d = t.getUseSoftTabs();
var f = function(e, t) {
var n = e.match(h);
if (n) {
var i = n[1].length, r = n[0].length;
!y(e, i, r) && " " == n[0][r - 1] && r--, o.removeInLine(t, i, r);
}
}, g = p + " ", m = function(e, t) {
a && !/\S/.test(e) || (y(e, c, c) ? o.insertInLine({
row: t,
column: c
}, g) : o.insertInLine({
row: t,
column: c
}, p));
}, v = function(e, t) {
return h.test(e);
}, y = function(e, t, n) {
for (i = 0; t-- && " " == e.charAt(t); ) i++;
if (i % u != 0) return !1;
for (var i = 0; " " == e.charAt(n++); ) i++;
return u > 2 ? i % u != u - 1 : i % u == 0;
};
} else {
if (!this.blockComment) return !1;
var p = this.blockComment.start, b = this.blockComment.end, h = new RegExp("^(\\s*)(?:" + s.escapeRegExp(p) + ")"), w = new RegExp("(?:" + s.escapeRegExp(b) + ")\\s*$"), m = function(e, t) {
v(e, t) || a && !/\S/.test(e) || (o.insertInLine({
row: t,
column: e.length
}, b), o.insertInLine({
row: t,
column: c
}, p));
}, f = function(e, t) {
var n;
(n = e.match(w)) && o.removeInLine(t, e.length - n[0].length, e.length), (n = e.match(h)) && o.removeInLine(t, n[1].length, n[0].length);
}, v = function(e, n) {
if (h.test(e)) return !0;
for (var i = t.getTokens(n), r = 0; r < i.length; r++) if ("comment" === i[r].type) return !0;
};
}
var x = 1 / 0;
r(function(e, t) {
var n = e.search(/\S/);
-1 !== n ? (n < c && (c = n), l && !v(e, t) && (l = !1)) : x > e.length && (x = e.length);
}), c == 1 / 0 && (c = x, a = !1, l = !1), d && c % u != 0 && (c = Math.floor(c / u) * u), r(l ? f : m);
}, this.toggleBlockComment = function(e, t, n, i) {
var r = this.blockComment;
if (r) {
!r.start && r[0] && (r = r[0]);
var o, a, s = new l(t, i.row, i.column), u = s.getCurrentToken(), d = (t.selection, t.selection.toOrientedRange());
if (u && /comment/.test(u.type)) {
for (var h, p; u && /comment/.test(u.type); ) {
if (-1 != (m = u.value.indexOf(r.start))) {
var f = s.getCurrentTokenRow(), g = s.getCurrentTokenColumn() + m;
h = new c(f, g, f, g + r.start.length);
break;
}
u = s.stepBackward();
}
for (u = (s = new l(t, i.row, i.column)).getCurrentToken(); u && /comment/.test(u.type); ) {
var m = u.value.indexOf(r.end);
if (-1 != m) {
var f = s.getCurrentTokenRow(), g = s.getCurrentTokenColumn() + m;
p = new c(f, g, f, g + r.end.length);
break;
}
u = s.stepForward();
}
p && t.remove(p), h && (t.remove(h), o = h.start.row, a = -r.start.length);
} else a = r.start.length, o = n.start.row, t.insert(n.end, r.end), t.insert(n.start, r.start);
d.start.row == o && (d.start.column += a), d.end.row == o && (d.end.column += a), t.selection.fromOrientedRange(d);
}
}, this.getNextLineIndent = function(e, t, n) {
return this.$getIndent(t);
}, this.checkOutdent = function(e, t, n) {
return !1;
}, this.autoOutdent = function(e, t, n) {}, this.$getIndent = function(e) {
return e.match(/^\s*/)[0];
}, this.createWorker = function(e) {
return null;
}, this.createModeDelegates = function(e) {
this.$embeds = [], this.$modes = {};
for (var t in e) e[t] && (this.$embeds.push(t), this.$modes[t] = new e[t]());
for (var n = [ "toggleBlockComment", "toggleCommentLines", "getNextLineIndent", "checkOutdent", "autoOutdent", "transformAction", "getCompletions" ], t = 0; t < n.length; t++) !function(e) {
var i = n[t], r = e[i];
e[n[t]] = function() {
return this.$delegator(i, arguments, r);
};
}(this);
}, this.$delegator = function(e, t, n) {
var i = t[0];
"string" != typeof i && (i = i[0]);
for (var r = 0; r < this.$embeds.length; r++) if (this.$modes[this.$embeds[r]]) {
var o = i.split(this.$embeds[r]);
if (!o[0] && o[1]) {
t[0] = o[1];
var a = this.$modes[this.$embeds[r]];
return a[e].apply(a, t);
}
}
var s = n.apply(this, t);
return n ? s : void 0;
}, this.transformAction = function(e, t, n, i, r) {
if (this.$behaviour) {
var o = this.$behaviour.getBehaviours();
for (var a in o) if (o[a][t]) {
var s = o[a][t].apply(this, arguments);
if (s) return s;
}
}
}, this.getKeywords = function(e) {
if (!this.completionKeywords) {
var t = this.$tokenizer.rules, n = [];
for (var i in t) for (var r = t[i], o = 0, a = r.length; o < a; o++) if ("string" == typeof r[o].token) /keyword|support|storage/.test(r[o].token) && n.push(r[o].regex); else if ("object" == typeof r[o].token) for (var s = 0, l = r[o].token.length; s < l; s++) if (/keyword|support|storage/.test(r[o].token[s])) {
i = r[o].regex.match(/\(.+?\)/g)[s];
n.push(i.substr(1, i.length - 2));
}
this.completionKeywords = n;
}
return e ? n.concat(this.$keywordList || []) : this.$keywordList;
}, this.$createKeywordList = function() {
return this.$highlightRules || this.getTokenizer(), this.$keywordList = this.$highlightRules.$keywordList || [];
}, this.getCompletions = function(e, t, n, i) {
return (this.$keywordList || this.$createKeywordList()).map(function(e) {
return {
name: e,
value: e,
score: 0,
meta: "keyword"
};
});
}, this.$id = "ace/mode/text";
}).call(u.prototype), t.Mode = u;
}), ace.define("ace/apply_delta", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
function i(e, t) {
throw console.log("Invalid Delta:", e), "Invalid Delta: " + t;
}
function r(e, t) {
return t.row >= 0 && t.row < e.length && t.column >= 0 && t.column <= e[t.row].length;
}
t.applyDelta = function(e, t, n) {
var i = t.start.row, r = t.start.column, o = e[i] || "";
switch (t.action) {
case "insert":
if (1 === t.lines.length) e[i] = o.substring(0, r) + t.lines[0] + o.substring(r); else {
var a = [ i, 1 ].concat(t.lines);
e.splice.apply(e, a), e[i] = o.substring(0, r) + e[i], e[i + t.lines.length - 1] += o.substring(r);
}
break;

case "remove":
var s = t.end.column, l = t.end.row;
i === l ? e[i] = o.substring(0, r) + o.substring(s) : e.splice(i, l - i + 1, o.substring(0, r) + e[l].substring(s));
}
};
}), ace.define("ace/anchor", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/event_emitter").EventEmitter, o = t.Anchor = function(e, t, n) {
this.$onChange = this.onChange.bind(this), this.attach(e), void 0 === n ? this.setPosition(t.row, t.column) : this.setPosition(t, n);
};
(function() {
function e(e, t, n) {
var i = n ? e.column <= t.column : e.column < t.column;
return e.row < t.row || e.row == t.row && i;
}
function t(t, n, i) {
var r = "insert" == t.action, o = (r ? 1 : -1) * (t.end.row - t.start.row), a = (r ? 1 : -1) * (t.end.column - t.start.column), s = t.start, l = r ? s : t.end;
return e(n, s, i) ? {
row: n.row,
column: n.column
} : e(l, n, !i) ? {
row: n.row + o,
column: n.column + (n.row == l.row ? a : 0)
} : {
row: s.row,
column: s.column
};
}
i.implement(this, r), this.getPosition = function() {
return this.$clipPositionToDocument(this.row, this.column);
}, this.getDocument = function() {
return this.document;
}, this.$insertRight = !1, this.onChange = function(e) {
if (!(e.start.row == e.end.row && e.start.row != this.row || e.start.row > this.row)) {
var n = t(e, {
row: this.row,
column: this.column
}, this.$insertRight);
this.setPosition(n.row, n.column, !0);
}
}, this.setPosition = function(e, t, n) {
var i;
if (i = n ? {
row: e,
column: t
} : this.$clipPositionToDocument(e, t), this.row != i.row || this.column != i.column) {
var r = {
row: this.row,
column: this.column
};
this.row = i.row, this.column = i.column, this._signal("change", {
old: r,
value: i
});
}
}, this.detach = function() {
this.document.removeEventListener("change", this.$onChange);
}, this.attach = function(e) {
this.document = e || this.document, this.document.on("change", this.$onChange);
}, this.$clipPositionToDocument = function(e, t) {
var n = {};
return e >= this.document.getLength() ? (n.row = Math.max(0, this.document.getLength() - 1), n.column = this.document.getLine(n.row).length) : e < 0 ? (n.row = 0, n.column = 0) : (n.row = e, n.column = Math.min(this.document.getLine(n.row).length, Math.max(0, t))), t < 0 && (n.column = 0), n;
};
}).call(o.prototype);
}), ace.define("ace/document", [ "require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./apply_delta").applyDelta, o = e("./lib/event_emitter").EventEmitter, a = e("./range").Range, s = e("./anchor").Anchor, l = function(e) {
this.$lines = [ "" ], 0 === e.length ? this.$lines = [ "" ] : Array.isArray(e) ? this.insertMergedLines({
row: 0,
column: 0
}, e) : this.insert({
row: 0,
column: 0
}, e);
};
(function() {
i.implement(this, o), this.setValue = function(e) {
var t = this.getLength() - 1;
this.remove(new a(0, 0, t, this.getLine(t).length)), this.insert({
row: 0,
column: 0
}, e);
}, this.getValue = function() {
return this.getAllLines().join(this.getNewLineCharacter());
}, this.createAnchor = function(e, t) {
return new s(this, e, t);
}, 0 === "aaa".split(/a/).length ? this.$split = function(e) {
return e.replace(/\r\n|\r/g, "\n").split("\n");
} : this.$split = function(e) {
return e.split(/\r\n|\r|\n/);
}, this.$detectNewLine = function(e) {
var t = e.match(/^.*?(\r\n|\r|\n)/m);
this.$autoNewLine = t ? t[1] : "\n", this._signal("changeNewLineMode");
}, this.getNewLineCharacter = function() {
switch (this.$newLineMode) {
case "windows":
return "\r\n";

case "unix":
return "\n";

default:
return this.$autoNewLine || "\n";
}
}, this.$autoNewLine = "", this.$newLineMode = "auto", this.setNewLineMode = function(e) {
this.$newLineMode !== e && (this.$newLineMode = e, this._signal("changeNewLineMode"));
}, this.getNewLineMode = function() {
return this.$newLineMode;
}, this.isNewLine = function(e) {
return "\r\n" == e || "\r" == e || "\n" == e;
}, this.getLine = function(e) {
return this.$lines[e] || "";
}, this.getLines = function(e, t) {
return this.$lines.slice(e, t + 1);
}, this.getAllLines = function() {
return this.getLines(0, this.getLength());
}, this.getLength = function() {
return this.$lines.length;
}, this.getTextRange = function(e) {
return this.getLinesForRange(e).join(this.getNewLineCharacter());
}, this.getLinesForRange = function(e) {
var t;
if (e.start.row === e.end.row) t = [ this.getLine(e.start.row).substring(e.start.column, e.end.column) ]; else {
(t = this.getLines(e.start.row, e.end.row))[0] = (t[0] || "").substring(e.start.column);
var n = t.length - 1;
e.end.row - e.start.row == n && (t[n] = t[n].substring(0, e.end.column));
}
return t;
}, this.insertLines = function(e, t) {
return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."), this.insertFullLines(e, t);
}, this.removeLines = function(e, t) {
return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."), this.removeFullLines(e, t);
}, this.insertNewLine = function(e) {
return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."), this.insertMergedLines(e, [ "", "" ]);
}, this.insert = function(e, t) {
return this.getLength() <= 1 && this.$detectNewLine(t), this.insertMergedLines(e, this.$split(t));
}, this.insertInLine = function(e, t) {
var n = this.clippedPos(e.row, e.column), i = this.pos(e.row, e.column + t.length);
return this.applyDelta({
start: n,
end: i,
action: "insert",
lines: [ t ]
}, !0), this.clonePos(i);
}, this.clippedPos = function(e, t) {
var n = this.getLength();
void 0 === e ? e = n : e < 0 ? e = 0 : e >= n && (e = n - 1, t = void 0);
var i = this.getLine(e);
return void 0 == t && (t = i.length), t = Math.min(Math.max(t, 0), i.length), {
row: e,
column: t
};
}, this.clonePos = function(e) {
return {
row: e.row,
column: e.column
};
}, this.pos = function(e, t) {
return {
row: e,
column: t
};
}, this.$clipPosition = function(e) {
var t = this.getLength();
return e.row >= t ? (e.row = Math.max(0, t - 1), e.column = this.getLine(t - 1).length) : (e.row = Math.max(0, e.row), e.column = Math.min(Math.max(e.column, 0), this.getLine(e.row).length)), e;
}, this.insertFullLines = function(e, t) {
var n = 0;
(e = Math.min(Math.max(e, 0), this.getLength())) < this.getLength() ? (t = t.concat([ "" ]), n = 0) : (t = [ "" ].concat(t), e--, n = this.$lines[e].length), this.insertMergedLines({
row: e,
column: n
}, t);
}, this.insertMergedLines = function(e, t) {
var n = this.clippedPos(e.row, e.column), i = {
row: n.row + t.length - 1,
column: (1 == t.length ? n.column : 0) + t[t.length - 1].length
};
return this.applyDelta({
start: n,
end: i,
action: "insert",
lines: t
}), this.clonePos(i);
}, this.remove = function(e) {
var t = this.clippedPos(e.start.row, e.start.column), n = this.clippedPos(e.end.row, e.end.column);
return this.applyDelta({
start: t,
end: n,
action: "remove",
lines: this.getLinesForRange({
start: t,
end: n
})
}), this.clonePos(t);
}, this.removeInLine = function(e, t, n) {
var i = this.clippedPos(e, t), r = this.clippedPos(e, n);
return this.applyDelta({
start: i,
end: r,
action: "remove",
lines: this.getLinesForRange({
start: i,
end: r
})
}, !0), this.clonePos(i);
}, this.removeFullLines = function(e, t) {
e = Math.min(Math.max(0, e), this.getLength() - 1);
var n = (t = Math.min(Math.max(0, t), this.getLength() - 1)) == this.getLength() - 1 && e > 0, i = t < this.getLength() - 1, r = n ? e - 1 : e, o = n ? this.getLine(r).length : 0, s = i ? t + 1 : t, l = i ? 0 : this.getLine(s).length, c = new a(r, o, s, l), u = this.$lines.slice(e, t + 1);
return this.applyDelta({
start: c.start,
end: c.end,
action: "remove",
lines: this.getLinesForRange(c)
}), u;
}, this.removeNewLine = function(e) {
e < this.getLength() - 1 && e >= 0 && this.applyDelta({
start: this.pos(e, this.getLine(e).length),
end: this.pos(e + 1, 0),
action: "remove",
lines: [ "", "" ]
});
}, this.replace = function(e, t) {
if (e instanceof a || (e = a.fromPoints(e.start, e.end)), 0 === t.length && e.isEmpty()) return e.start;
if (t == this.getTextRange(e)) return e.end;
this.remove(e);
return t ? this.insert(e.start, t) : e.start;
}, this.applyDeltas = function(e) {
for (var t = 0; t < e.length; t++) this.applyDelta(e[t]);
}, this.revertDeltas = function(e) {
for (var t = e.length - 1; t >= 0; t--) this.revertDelta(e[t]);
}, this.applyDelta = function(e, t) {
var n = "insert" == e.action;
(n ? e.lines.length <= 1 && !e.lines[0] : !a.comparePoints(e.start, e.end)) || (n && e.lines.length > 2e4 && this.$splitAndapplyLargeDelta(e, 2e4), r(this.$lines, e, t), this._signal("change", e));
}, this.$splitAndapplyLargeDelta = function(e, t) {
for (var n = e.lines, i = n.length, r = e.start.row, o = e.start.column, a = 0, s = 0; ;) {
a = s, s += t - 1;
var l = n.slice(a, s);
if (s > i) {
e.lines = l, e.start.row = r + a, e.start.column = o;
break;
}
l.push(""), this.applyDelta({
start: this.pos(r + a, o),
end: this.pos(r + s, o = 0),
action: e.action,
lines: l
}, !0);
}
}, this.revertDelta = function(e) {
this.applyDelta({
start: this.clonePos(e.start),
end: this.clonePos(e.end),
action: "insert" == e.action ? "remove" : "insert",
lines: e.lines.slice()
});
}, this.indexToPosition = function(e, t) {
for (var n = this.$lines || this.getAllLines(), i = this.getNewLineCharacter().length, r = t || 0, o = n.length; r < o; r++) if ((e -= n[r].length + i) < 0) return {
row: r,
column: e + n[r].length + i
};
return {
row: o - 1,
column: n[o - 1].length
};
}, this.positionToIndex = function(e, t) {
for (var n = this.$lines || this.getAllLines(), i = this.getNewLineCharacter().length, r = 0, o = Math.min(e.row, n.length), a = t || 0; a < o; ++a) r += n[a].length + i;
return r + e.column;
};
}).call(l.prototype), t.Document = l;
}), ace.define("ace/background_tokenizer", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/event_emitter").EventEmitter, o = function(e, t) {
this.running = !1, this.lines = [], this.states = [], this.currentLine = 0, this.tokenizer = e;
var n = this;
this.$worker = function() {
if (n.running) {
for (var e = new Date(), t = n.currentLine, i = -1, r = n.doc, o = t; n.lines[t]; ) t++;
var a = r.getLength(), s = 0;
for (n.running = !1; t < a; ) {
n.$tokenizeRow(t), i = t;
do {
t++;
} while (n.lines[t]);
if (++s % 5 == 0 && new Date() - e > 20) {
n.running = setTimeout(n.$worker, 20);
break;
}
}
n.currentLine = t, o <= i && n.fireUpdateEvent(o, i);
}
};
};
(function() {
i.implement(this, r), this.setTokenizer = function(e) {
this.tokenizer = e, this.lines = [], this.states = [], this.start(0);
}, this.setDocument = function(e) {
this.doc = e, this.lines = [], this.states = [], this.stop();
}, this.fireUpdateEvent = function(e, t) {
var n = {
first: e,
last: t
};
this._signal("update", {
data: n
});
}, this.start = function(e) {
this.currentLine = Math.min(e || 0, this.currentLine, this.doc.getLength()), this.lines.splice(this.currentLine, this.lines.length), this.states.splice(this.currentLine, this.states.length), this.stop(), this.running = setTimeout(this.$worker, 700);
}, this.scheduleStart = function() {
this.running || (this.running = setTimeout(this.$worker, 700));
}, this.$updateOnChange = function(e) {
var t = e.start.row, n = e.end.row - t;
if (0 === n) this.lines[t] = null; else if ("remove" == e.action) this.lines.splice(t, n + 1, null), this.states.splice(t, n + 1, null); else {
var i = Array(n + 1);
i.unshift(t, 1), this.lines.splice.apply(this.lines, i), this.states.splice.apply(this.states, i);
}
this.currentLine = Math.min(t, this.currentLine, this.doc.getLength()), this.stop();
}, this.stop = function() {
this.running && clearTimeout(this.running), this.running = !1;
}, this.getTokens = function(e) {
return this.lines[e] || this.$tokenizeRow(e);
}, this.getState = function(e) {
return this.currentLine == e && this.$tokenizeRow(e), this.states[e] || "start";
}, this.$tokenizeRow = function(e) {
var t = this.doc.getLine(e), n = this.states[e - 1], i = this.tokenizer.getLineTokens(t, n, e);
return this.states[e] + "" != i.state + "" ? (this.states[e] = i.state, this.lines[e + 1] = null, this.currentLine > e + 1 && (this.currentLine = e + 1)) : this.currentLine == e && (this.currentLine = e + 1), this.lines[e] = i.tokens;
};
}).call(o.prototype), t.BackgroundTokenizer = o;
}), ace.define("ace/search_highlight", [ "require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("./lib/lang"), r = (e("./lib/oop"), e("./range").Range), o = function(e, t, n) {
this.setRegexp(e), this.clazz = t, this.type = n || "text";
};
(function() {
this.MAX_RANGES = 500, this.setRegexp = function(e) {
this.regExp + "" != e + "" && (this.regExp = e, this.cache = []);
}, this.update = function(e, t, n, o) {
if (this.regExp) for (var a = o.firstRow, s = o.lastRow, l = a; l <= s; l++) {
var c = this.cache[l];
null == c && ((c = i.getMatchOffsets(n.getLine(l), this.regExp)).length > this.MAX_RANGES && (c = c.slice(0, this.MAX_RANGES)), c = c.map(function(e) {
return new r(l, e.offset, l, e.offset + e.length);
}), this.cache[l] = c.length ? c : "");
for (var u = c.length; u--; ) t.drawSingleLineMarker(e, c[u].toScreenRange(n), this.clazz, o);
}
};
}).call(o.prototype), t.SearchHighlight = o;
}), ace.define("ace/edit_session/fold_line", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
function i(e, t) {
this.foldData = e, Array.isArray(t) ? this.folds = t : t = this.folds = [ t ];
var n = t[t.length - 1];
this.range = new r(t[0].start.row, t[0].start.column, n.end.row, n.end.column), this.start = this.range.start, this.end = this.range.end, this.folds.forEach(function(e) {
e.setFoldLine(this);
}, this);
}
var r = e("../range").Range;
(function() {
this.shiftRow = function(e) {
this.start.row += e, this.end.row += e, this.folds.forEach(function(t) {
t.start.row += e, t.end.row += e;
});
}, this.addFold = function(e) {
if (e.sameRow) {
if (e.start.row < this.startRow || e.endRow > this.endRow) throw new Error("Can't add a fold to this FoldLine as it has no connection");
this.folds.push(e), this.folds.sort(function(e, t) {
return -e.range.compareEnd(t.start.row, t.start.column);
}), this.range.compareEnd(e.start.row, e.start.column) > 0 ? (this.end.row = e.end.row, this.end.column = e.end.column) : this.range.compareStart(e.end.row, e.end.column) < 0 && (this.start.row = e.start.row, this.start.column = e.start.column);
} else if (e.start.row == this.end.row) this.folds.push(e), this.end.row = e.end.row, this.end.column = e.end.column; else {
if (e.end.row != this.start.row) throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
this.folds.unshift(e), this.start.row = e.start.row, this.start.column = e.start.column;
}
e.foldLine = this;
}, this.containsRow = function(e) {
return e >= this.start.row && e <= this.end.row;
}, this.walk = function(e, t, n) {
var i, r, o, a = 0, s = this.folds, l = !0;
null == t && (t = this.end.row, n = this.end.column);
for (var c = 0; c < s.length; c++) {
if (i = s[c], -1 == (r = i.range.compareStart(t, n))) return void e(null, t, n, a, l);
if (o = e(null, i.start.row, i.start.column, a, l), (o = !o && e(i.placeholder, i.start.row, i.start.column, a)) || 0 === r) return;
l = !i.sameRow, a = i.end.column;
}
e(null, t, n, a, l);
}, this.getNextFoldTo = function(e, t) {
for (var n, i, r = 0; r < this.folds.length; r++) {
if (n = this.folds[r], -1 == (i = n.range.compareEnd(e, t))) return {
fold: n,
kind: "after"
};
if (0 === i) return {
fold: n,
kind: "inside"
};
}
return null;
}, this.addRemoveChars = function(e, t, n) {
var i, r, o = this.getNextFoldTo(e, t);
if (o) if (i = o.fold, "inside" == o.kind && i.start.column != t && i.start.row != e) window.console && window.console.log(e, t, i); else if (i.start.row == e) {
var a = (r = this.folds).indexOf(i);
for (0 === a && (this.start.column += n), a; a < r.length; a++) {
if (i = r[a], i.start.column += n, !i.sameRow) return;
i.end.column += n;
}
this.end.column += n;
}
}, this.split = function(e, t) {
var n = this.getNextFoldTo(e, t);
if (!n || "inside" == n.kind) return null;
var r = n.fold, o = this.folds, a = this.foldData, s = o.indexOf(r), l = o[s - 1];
this.end.row = l.end.row, this.end.column = l.end.column;
var c = new i(a, o = o.splice(s, o.length - s));
return a.splice(a.indexOf(this) + 1, 0, c), c;
}, this.merge = function(e) {
for (var t = e.folds, n = 0; n < t.length; n++) this.addFold(t[n]);
var i = this.foldData;
i.splice(i.indexOf(e), 1);
}, this.toString = function() {
var e = [ this.range.toString() + ": [" ];
return this.folds.forEach(function(t) {
e.push("  " + t.toString());
}), e.push("]"), e.join("\n");
}, this.idxToPosition = function(e) {
for (var t = 0, n = 0; n < this.folds.length; n++) {
var i = this.folds[n];
if ((e -= i.start.column - t) < 0) return {
row: i.start.row,
column: i.start.column + e
};
if ((e -= i.placeholder.length) < 0) return i.start;
t = i.end.column;
}
return {
row: this.end.row,
column: this.end.column + e
};
};
}).call(i.prototype), t.FoldLine = i;
}), ace.define("ace/range_list", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("./range").Range.comparePoints, r = function() {
this.ranges = [];
};
(function() {
this.comparePoints = i, this.pointIndex = function(e, t, n) {
for (var r = this.ranges, o = n || 0; o < r.length; o++) {
var a = r[o], s = i(e, a.end);
if (!(s > 0)) {
var l = i(e, a.start);
return 0 === s ? t && 0 !== l ? -o - 2 : o : l > 0 || 0 === l && !t ? o : -o - 1;
}
}
return -o - 1;
}, this.add = function(e) {
var t = !e.isEmpty(), n = this.pointIndex(e.start, t);
n < 0 && (n = -n - 1);
var i = this.pointIndex(e.end, t, n);
return i < 0 ? i = -i - 1 : i++, this.ranges.splice(n, i - n, e);
}, this.addList = function(e) {
for (var t = [], n = e.length; n--; ) t.push.call(t, this.add(e[n]));
return t;
}, this.substractPoint = function(e) {
var t = this.pointIndex(e);
if (t >= 0) return this.ranges.splice(t, 1);
}, this.merge = function() {
for (var e, t = [], n = this.ranges, r = (n = n.sort(function(e, t) {
return i(e.start, t.start);
}))[0], o = 1; o < n.length; o++) {
e = r, r = n[o];
var a = i(e.end, r.start);
a < 0 || (0 != a || e.isEmpty() || r.isEmpty()) && (i(e.end, r.end) < 0 && (e.end.row = r.end.row, e.end.column = r.end.column), n.splice(o, 1), t.push(r), r = e, o--);
}
return this.ranges = n, t;
}, this.contains = function(e, t) {
return this.pointIndex({
row: e,
column: t
}) >= 0;
}, this.containsPoint = function(e) {
return this.pointIndex(e) >= 0;
}, this.rangeAtPoint = function(e) {
var t = this.pointIndex(e);
if (t >= 0) return this.ranges[t];
}, this.clipRows = function(e, t) {
var n = this.ranges;
if (n[0].start.row > t || n[n.length - 1].start.row < e) return [];
var i = this.pointIndex({
row: e,
column: 0
});
i < 0 && (i = -i - 1);
var r = this.pointIndex({
row: t,
column: 0
}, i);
r < 0 && (r = -r - 1);
for (var o = [], a = i; a < r; a++) o.push(n[a]);
return o;
}, this.removeAll = function() {
return this.ranges.splice(0, this.ranges.length);
}, this.attach = function(e) {
this.session && this.detach(), this.session = e, this.onChange = this.$onChange.bind(this), this.session.on("change", this.onChange);
}, this.detach = function() {
this.session && (this.session.removeListener("change", this.onChange), this.session = null);
}, this.$onChange = function(e) {
if ("insert" == e.action) var t = e.start, n = e.end; else var n = e.start, t = e.end;
for (var i = t.row, r = n.row - i, o = -t.column + n.column, a = this.ranges, s = 0, l = a.length; s < l; s++) if (!((c = a[s]).end.row < i)) {
if (c.start.row > i) break;
if (c.start.row == i && c.start.column >= t.column && (c.start.column != t.column || !this.$insertRight) && (c.start.column += o, c.start.row += r), c.end.row == i && c.end.column >= t.column) {
if (c.end.column == t.column && this.$insertRight) continue;
c.end.column == t.column && o > 0 && s < l - 1 && c.end.column > c.start.column && c.end.column == a[s + 1].start.column && (c.end.column -= o), c.end.column += o, c.end.row += r;
}
}
if (0 != r && s < l) for (;s < l; s++) {
var c = a[s];
c.start.row += r, c.end.row += r;
}
};
}).call(r.prototype), t.RangeList = r;
}), ace.define("ace/edit_session/fold", [ "require", "exports", "module", "ace/range", "ace/range_list", "ace/lib/oop" ], function(e, t, n) {
"use strict";
function i(e, t) {
e.row -= t.row, 0 == e.row && (e.column -= t.column);
}
function r(e, t) {
i(e.start, t), i(e.end, t);
}
function o(e, t) {
0 == e.row && (e.column += t.column), e.row += t.row;
}
function a(e, t) {
o(e.start, t), o(e.end, t);
}
e("../range").Range;
var s = e("../range_list").RangeList, l = e("../lib/oop"), c = t.Fold = function(e, t) {
this.foldLine = null, this.placeholder = t, this.range = e, this.start = e.start, this.end = e.end, this.sameRow = e.start.row == e.end.row, this.subFolds = this.ranges = [];
};
l.inherits(c, s), function() {
this.toString = function() {
return '"' + this.placeholder + '" ' + this.range.toString();
}, this.setFoldLine = function(e) {
this.foldLine = e, this.subFolds.forEach(function(t) {
t.setFoldLine(e);
});
}, this.clone = function() {
var e = this.range.clone(), t = new c(e, this.placeholder);
return this.subFolds.forEach(function(e) {
t.subFolds.push(e.clone());
}), t.collapseChildren = this.collapseChildren, t;
}, this.addSubFold = function(e) {
if (!this.range.isEqual(e)) {
if (!this.range.containsRange(e)) throw new Error("A fold can't intersect already existing fold" + e.range + this.range);
r(e, this.start);
for (var t = e.start.row, n = e.start.column, i = 0, o = -1; i < this.subFolds.length && 1 == (o = this.subFolds[i].range.compare(t, n)); i++) ;
var a = this.subFolds[i];
if (0 == o) return a.addSubFold(e);
for (var t = e.range.end.row, n = e.range.end.column, s = i, o = -1; s < this.subFolds.length && 1 == (o = this.subFolds[s].range.compare(t, n)); s++) ;
this.subFolds[s];
if (0 == o) throw new Error("A fold can't intersect already existing fold" + e.range + this.range);
this.subFolds.splice(i, s - i, e);
return e.setFoldLine(this.foldLine), e;
}
}, this.restoreRange = function(e) {
return a(e, this.start);
};
}.call(c.prototype);
}), ace.define("ace/edit_session/folding", [ "require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator" ], function(e, t, n) {
"use strict";
var i = e("../range").Range, r = e("./fold_line").FoldLine, o = e("./fold").Fold, a = e("../token_iterator").TokenIterator;
t.Folding = function() {
this.getFoldAt = function(e, t, n) {
var i = this.getFoldLine(e);
if (!i) return null;
for (var r = i.folds, o = 0; o < r.length; o++) {
var a = r[o];
if (a.range.contains(e, t)) {
if (1 == n && a.range.isEnd(e, t)) continue;
if (-1 == n && a.range.isStart(e, t)) continue;
return a;
}
}
}, this.getFoldsInRange = function(e) {
var t = e.start, n = e.end, i = this.$foldData, r = [];
t.column += 1, n.column -= 1;
for (var o = 0; o < i.length; o++) {
var a = i[o].range.compareRange(e);
if (2 != a) {
if (-2 == a) break;
for (var s = i[o].folds, l = 0; l < s.length; l++) {
var c = s[l];
if (-2 == (a = c.range.compareRange(e))) break;
if (2 != a) {
if (42 == a) break;
r.push(c);
}
}
}
}
return t.column -= 1, n.column += 1, r;
}, this.getFoldsInRangeList = function(e) {
if (Array.isArray(e)) t = [], e.forEach(function(e) {
t = t.concat(this.getFoldsInRange(e));
}, this); else var t = this.getFoldsInRange(e);
return t;
}, this.getAllFolds = function() {
for (var e = [], t = this.$foldData, n = 0; n < t.length; n++) for (var i = 0; i < t[n].folds.length; i++) e.push(t[n].folds[i]);
return e;
}, this.getFoldStringAt = function(e, t, n, i) {
if (!(i = i || this.getFoldLine(e))) return null;
for (var r, o, a = {
end: {
column: 0
}
}, s = 0; s < i.folds.length; s++) {
var l = (o = i.folds[s]).range.compareEnd(e, t);
if (-1 == l) {
r = this.getLine(o.start.row).substring(a.end.column, o.start.column);
break;
}
if (0 === l) return null;
a = o;
}
return r || (r = this.getLine(o.start.row).substring(a.end.column)), -1 == n ? r.substring(0, t - a.end.column) : 1 == n ? r.substring(t - a.end.column) : r;
}, this.getFoldLine = function(e, t) {
var n = this.$foldData, i = 0;
for (t && (i = n.indexOf(t)), -1 == i && (i = 0), i; i < n.length; i++) {
var r = n[i];
if (r.start.row <= e && r.end.row >= e) return r;
if (r.end.row > e) return null;
}
return null;
}, this.getNextFoldLine = function(e, t) {
var n = this.$foldData, i = 0;
for (t && (i = n.indexOf(t)), -1 == i && (i = 0), i; i < n.length; i++) {
var r = n[i];
if (r.end.row >= e) return r;
}
return null;
}, this.getFoldedRowCount = function(e, t) {
for (var n = this.$foldData, i = t - e + 1, r = 0; r < n.length; r++) {
var o = n[r], a = o.end.row, s = o.start.row;
if (a >= t) {
s < t && (s >= e ? i -= t - s : i = 0);
break;
}
a >= e && (i -= s >= e ? a - s : a - e + 1);
}
return i;
}, this.$addFoldLine = function(e) {
return this.$foldData.push(e), this.$foldData.sort(function(e, t) {
return e.start.row - t.start.row;
}), e;
}, this.addFold = function(e, t) {
var n, i = this.$foldData, a = !1;
e instanceof o ? n = e : (n = new o(t, e), n.collapseChildren = t.collapseChildren), this.$clipRangeToDocument(n.range);
var s = n.start.row, l = n.start.column, c = n.end.row, u = n.end.column;
if (s < c || s == c && l <= u - 2) {
var d = this.getFoldAt(s, l, 1), h = this.getFoldAt(c, u, -1);
if (d && h == d) return d.addSubFold(n);
d && !d.range.isStart(s, l) && this.removeFold(d), h && !h.range.isEnd(c, u) && this.removeFold(h);
var p = this.getFoldsInRange(n.range);
p.length > 0 && (this.removeFolds(p), p.forEach(function(e) {
n.addSubFold(e);
}));
for (var f = 0; f < i.length; f++) {
var g = i[f];
if (c == g.start.row) {
g.addFold(n), a = !0;
break;
}
if (s == g.end.row) {
if (g.addFold(n), a = !0, !n.sameRow) {
var m = i[f + 1];
if (m && m.start.row == c) {
g.merge(m);
break;
}
}
break;
}
if (c <= g.start.row) break;
}
return a || (g = this.$addFoldLine(new r(this.$foldData, n))), this.$useWrapMode ? this.$updateWrapData(g.start.row, g.start.row) : this.$updateRowLengthCache(g.start.row, g.start.row), this.$modified = !0, this._signal("changeFold", {
data: n,
action: "add"
}), n;
}
throw new Error("The range has to be at least 2 characters width");
}, this.addFolds = function(e) {
e.forEach(function(e) {
this.addFold(e);
}, this);
}, this.removeFold = function(e) {
var t = e.foldLine, n = t.start.row, i = t.end.row, r = this.$foldData, o = t.folds;
if (1 == o.length) r.splice(r.indexOf(t), 1); else if (t.range.isEnd(e.end.row, e.end.column)) o.pop(), t.end.row = o[o.length - 1].end.row, t.end.column = o[o.length - 1].end.column; else if (t.range.isStart(e.start.row, e.start.column)) o.shift(), t.start.row = o[0].start.row, t.start.column = o[0].start.column; else if (e.sameRow) o.splice(o.indexOf(e), 1); else {
var a = t.split(e.start.row, e.start.column);
(o = a.folds).shift(), a.start.row = o[0].start.row, a.start.column = o[0].start.column;
}
this.$updating || (this.$useWrapMode ? this.$updateWrapData(n, i) : this.$updateRowLengthCache(n, i)), this.$modified = !0, this._signal("changeFold", {
data: e,
action: "remove"
});
}, this.removeFolds = function(e) {
for (var t = [], n = 0; n < e.length; n++) t.push(e[n]);
t.forEach(function(e) {
this.removeFold(e);
}, this), this.$modified = !0;
}, this.expandFold = function(e) {
this.removeFold(e), e.subFolds.forEach(function(t) {
e.restoreRange(t), this.addFold(t);
}, this), e.collapseChildren > 0 && this.foldAll(e.start.row + 1, e.end.row, e.collapseChildren - 1), e.subFolds = [];
}, this.expandFolds = function(e) {
e.forEach(function(e) {
this.expandFold(e);
}, this);
}, this.unfold = function(e, t) {
var n, r;
if (null == e ? (n = new i(0, 0, this.getLength(), 0), t = !0) : n = "number" == typeof e ? new i(e, 0, e, this.getLine(e).length) : "row" in e ? i.fromPoints(e, e) : e, r = this.getFoldsInRangeList(n), t) this.removeFolds(r); else for (var o = r; o.length; ) this.expandFolds(o), o = this.getFoldsInRangeList(n);
if (r.length) return r;
}, this.isRowFolded = function(e, t) {
return !!this.getFoldLine(e, t);
}, this.getRowFoldEnd = function(e, t) {
var n = this.getFoldLine(e, t);
return n ? n.end.row : e;
}, this.getRowFoldStart = function(e, t) {
var n = this.getFoldLine(e, t);
return n ? n.start.row : e;
}, this.getFoldDisplayLine = function(e, t, n, i, r) {
null == i && (i = e.start.row), null == r && (r = 0), null == t && (t = e.end.row), null == n && (n = this.getLine(t).length);
var o = this.doc, a = "";
return e.walk(function(e, t, n, s) {
if (!(t < i)) {
if (t == i) {
if (n < r) return;
s = Math.max(r, s);
}
a += null != e ? e : o.getLine(t).substring(s, n);
}
}, t, n), a;
}, this.getDisplayLine = function(e, t, n, i) {
var r = this.getFoldLine(e);
if (!r) {
var o;
return (o = this.doc.getLine(e)).substring(i || 0, t || o.length);
}
return this.getFoldDisplayLine(r, e, t, n, i);
}, this.$cloneFoldData = function() {
var e = [];
return e = this.$foldData.map(function(t) {
var n = t.folds.map(function(e) {
return e.clone();
});
return new r(e, n);
});
}, this.toggleFold = function(e) {
var t, n, i = this.selection.getRange();
if (i.isEmpty()) {
var r = i.start;
if (t = this.getFoldAt(r.row, r.column)) return void this.expandFold(t);
(n = this.findMatchingBracket(r)) ? 1 == i.comparePoint(n) ? i.end = n : (i.start = n, i.start.column++, i.end.column--) : (n = this.findMatchingBracket({
row: r.row,
column: r.column + 1
})) ? (1 == i.comparePoint(n) ? i.end = n : i.start = n, i.start.column++) : i = this.getCommentFoldRange(r.row, r.column) || i;
} else {
var o = this.getFoldsInRange(i);
if (e && o.length) return void this.expandFolds(o);
1 == o.length && (t = o[0]);
}
if (t || (t = this.getFoldAt(i.start.row, i.start.column)), t && t.range.toString() == i.toString()) this.expandFold(t); else {
var a = "...";
if (!i.isMultiLine()) {
if ((a = this.getTextRange(i)).length < 4) return;
a = a.trim().substring(0, 2) + "..";
}
this.addFold(a, i);
}
}, this.getCommentFoldRange = function(e, t, n) {
var r = new a(this, e, t), o = r.getCurrentToken();
if (o && /^comment|string/.test(o.type)) {
var s = new i(), l = new RegExp(o.type.replace(/\..*/, "\\."));
if (1 != n) {
do {
o = r.stepBackward();
} while (o && l.test(o.type));
r.stepForward();
}
if (s.start.row = r.getCurrentTokenRow(), s.start.column = r.getCurrentTokenColumn() + 2, r = new a(this, e, t), -1 != n) {
do {
o = r.stepForward();
} while (o && l.test(o.type));
o = r.stepBackward();
} else o = r.getCurrentToken();
return s.end.row = r.getCurrentTokenRow(), s.end.column = r.getCurrentTokenColumn() + o.value.length - 2, s;
}
}, this.foldAll = function(e, t, n) {
void 0 == n && (n = 1e5);
var i = this.foldWidgets;
if (i) {
t = t || this.getLength();
for (var r = e = e || 0; r < t; r++) if (null == i[r] && (i[r] = this.getFoldWidget(r)), "start" == i[r]) {
var o = this.getFoldWidgetRange(r);
if (o && o.isMultiLine() && o.end.row <= t && o.start.row >= e) {
r = o.end.row;
try {
var a = this.addFold("...", o);
a && (a.collapseChildren = n);
} catch (e) {}
}
}
}
}, this.$foldStyles = {
manual: 1,
markbegin: 1,
markbeginend: 1
}, this.$foldStyle = "markbegin", this.setFoldStyle = function(e) {
if (!this.$foldStyles[e]) throw new Error("invalid fold style: " + e + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
if (this.$foldStyle != e) {
this.$foldStyle = e, "manual" == e && this.unfold();
var t = this.$foldMode;
this.$setFolding(null), this.$setFolding(t);
}
}, this.$setFolding = function(e) {
this.$foldMode != e && (this.$foldMode = e, this.off("change", this.$updateFoldWidgets), this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets), this._signal("changeAnnotation"), e && "manual" != this.$foldStyle ? (this.foldWidgets = [], this.getFoldWidget = e.getFoldWidget.bind(e, this, this.$foldStyle), this.getFoldWidgetRange = e.getFoldWidgetRange.bind(e, this, this.$foldStyle), this.$updateFoldWidgets = this.updateFoldWidgets.bind(this), this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this), this.on("change", this.$updateFoldWidgets), this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets)) : this.foldWidgets = null);
}, this.getParentFoldRangeData = function(e, t) {
var n = this.foldWidgets;
if (!n || t && n[e]) return {};
for (var i, r = e - 1; r >= 0; ) {
var o = n[r];
if (null == o && (o = n[r] = this.getFoldWidget(r)), "start" == o) {
var a = this.getFoldWidgetRange(r);
if (i || (i = a), a && a.end.row >= e) break;
}
r--;
}
return {
range: -1 !== r && a,
firstRange: i
};
}, this.onFoldWidgetClick = function(e, t) {
var n = {
children: (t = t.domEvent).shiftKey,
all: t.ctrlKey || t.metaKey,
siblings: t.altKey
};
if (!this.$toggleFoldWidget(e, n)) {
var i = t.target || t.srcElement;
i && /ace_fold-widget/.test(i.className) && (i.className += " ace_invalid");
}
}, this.$toggleFoldWidget = function(e, t) {
if (this.getFoldWidget) {
var n = this.getFoldWidget(e), i = this.getLine(e), r = "end" === n ? -1 : 1, o = this.getFoldAt(e, -1 === r ? 0 : i.length, r);
if (o) t.children || t.all ? this.removeFold(o) : this.expandFold(o); else {
var a = this.getFoldWidgetRange(e, !0);
if (!a || a.isMultiLine() || !(o = this.getFoldAt(a.start.row, a.start.column, 1)) || !a.isEqual(o.range)) {
if (t.siblings) {
var s = this.getParentFoldRangeData(e);
if (s.range) var l = s.range.start.row + 1, c = s.range.end.row;
this.foldAll(l, c, t.all ? 1e4 : 0);
} else t.children ? (c = a ? a.end.row : this.getLength(), this.foldAll(e + 1, c, t.all ? 1e4 : 0)) : a && (t.all && (a.collapseChildren = 1e4), this.addFold("...", a));
return a;
}
this.removeFold(o);
}
}
}, this.toggleFoldWidget = function(e) {
var t = this.selection.getCursor().row;
t = this.getRowFoldStart(t);
var n = this.$toggleFoldWidget(t, {});
if (!n) {
var i = this.getParentFoldRangeData(t, !0);
if (n = i.range || i.firstRange) {
t = n.start.row;
var r = this.getFoldAt(t, this.getLine(t).length, 1);
r ? this.removeFold(r) : this.addFold("...", n);
}
}
}, this.updateFoldWidgets = function(e) {
var t = e.start.row, n = e.end.row - t;
if (0 === n) this.foldWidgets[t] = null; else if ("remove" == e.action) this.foldWidgets.splice(t, n + 1, null); else {
var i = Array(n + 1);
i.unshift(t, 1), this.foldWidgets.splice.apply(this.foldWidgets, i);
}
}, this.tokenizerUpdateFoldWidgets = function(e) {
var t = e.data;
t.first != t.last && this.foldWidgets.length > t.first && this.foldWidgets.splice(t.first, this.foldWidgets.length);
};
};
}), ace.define("ace/edit_session/bracket_match", [ "require", "exports", "module", "ace/token_iterator", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../token_iterator").TokenIterator, r = e("../range").Range;
t.BracketMatch = function() {
this.findMatchingBracket = function(e, t) {
if (0 == e.column) return null;
var n = t || this.getLine(e.row).charAt(e.column - 1);
if ("" == n) return null;
var i = n.match(/([\(\[\{])|([\)\]\}])/);
return i ? i[1] ? this.$findClosingBracket(i[1], e) : this.$findOpeningBracket(i[2], e) : null;
}, this.getBracketRange = function(e) {
var t, n = this.getLine(e.row), i = !0, o = n.charAt(e.column - 1), a = o && o.match(/([\(\[\{])|([\)\]\}])/);
if (a || (o = n.charAt(e.column), e = {
row: e.row,
column: e.column + 1
}, a = o && o.match(/([\(\[\{])|([\)\]\}])/), i = !1), !a) return null;
if (a[1]) {
if (!(s = this.$findClosingBracket(a[1], e))) return null;
t = r.fromPoints(e, s), i || (t.end.column++, t.start.column--), t.cursor = t.end;
} else {
var s = this.$findOpeningBracket(a[2], e);
if (!s) return null;
t = r.fromPoints(s, e), i || (t.start.column++, t.end.column--), t.cursor = t.start;
}
return t;
}, this.$brackets = {
")": "(",
"(": ")",
"]": "[",
"[": "]",
"{": "}",
"}": "{"
}, this.$findOpeningBracket = function(e, t, n) {
var r = this.$brackets[e], o = 1, a = new i(this, t.row, t.column), s = a.getCurrentToken();
if (s || (s = a.stepForward()), s) {
n || (n = new RegExp("(\\.?" + s.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)") + ")+"));
for (var l = t.column - a.getCurrentTokenColumn() - 2, c = s.value; ;) {
for (;l >= 0; ) {
var u = c.charAt(l);
if (u == r) {
if (0 == (o -= 1)) return {
row: a.getCurrentTokenRow(),
column: l + a.getCurrentTokenColumn()
};
} else u == e && (o += 1);
l -= 1;
}
do {
s = a.stepBackward();
} while (s && !n.test(s.type));
if (null == s) break;
l = (c = s.value).length - 1;
}
return null;
}
}, this.$findClosingBracket = function(e, t, n) {
var r = this.$brackets[e], o = 1, a = new i(this, t.row, t.column), s = a.getCurrentToken();
if (s || (s = a.stepForward()), s) {
n || (n = new RegExp("(\\.?" + s.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)") + ")+"));
for (var l = t.column - a.getCurrentTokenColumn(); ;) {
for (var c = s.value, u = c.length; l < u; ) {
var d = c.charAt(l);
if (d == r) {
if (0 == (o -= 1)) return {
row: a.getCurrentTokenRow(),
column: l + a.getCurrentTokenColumn()
};
} else d == e && (o += 1);
l += 1;
}
do {
s = a.stepForward();
} while (s && !n.test(s.type));
if (null == s) break;
l = 0;
}
return null;
}
};
};
}), ace.define("ace/edit_session", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/lang"), o = e("./config"), a = e("./lib/event_emitter").EventEmitter, s = e("./selection").Selection, l = e("./mode/text").Mode, c = e("./range").Range, u = e("./document").Document, d = e("./background_tokenizer").BackgroundTokenizer, h = e("./search_highlight").SearchHighlight, p = function(e, t) {
this.$breakpoints = [], this.$decorations = [], this.$frontMarkers = {}, this.$backMarkers = {}, this.$markerId = 1, this.$undoSelect = !0, this.$foldData = [], this.$foldData.toString = function() {
return this.join("\n");
}, this.on("changeFold", this.onChangeFold.bind(this)), this.$onChange = this.onChange.bind(this), "object" == typeof e && e.getLine || (e = new u(e)), this.setDocument(e), this.selection = new s(this), o.resetOptions(this), this.setMode(t), o._signal("session", this);
};
(function() {
function e(e) {
return !(e < 4352) && (e >= 4352 && e <= 4447 || e >= 4515 && e <= 4519 || e >= 4602 && e <= 4607 || e >= 9001 && e <= 9002 || e >= 11904 && e <= 11929 || e >= 11931 && e <= 12019 || e >= 12032 && e <= 12245 || e >= 12272 && e <= 12283 || e >= 12288 && e <= 12350 || e >= 12353 && e <= 12438 || e >= 12441 && e <= 12543 || e >= 12549 && e <= 12589 || e >= 12593 && e <= 12686 || e >= 12688 && e <= 12730 || e >= 12736 && e <= 12771 || e >= 12784 && e <= 12830 || e >= 12832 && e <= 12871 || e >= 12880 && e <= 13054 || e >= 13056 && e <= 19903 || e >= 19968 && e <= 42124 || e >= 42128 && e <= 42182 || e >= 43360 && e <= 43388 || e >= 44032 && e <= 55203 || e >= 55216 && e <= 55238 || e >= 55243 && e <= 55291 || e >= 63744 && e <= 64255 || e >= 65040 && e <= 65049 || e >= 65072 && e <= 65106 || e >= 65108 && e <= 65126 || e >= 65128 && e <= 65131 || e >= 65281 && e <= 65376 || e >= 65504 && e <= 65510);
}
i.implement(this, a), this.setDocument = function(e) {
this.doc && this.doc.removeListener("change", this.$onChange), this.doc = e, e.on("change", this.$onChange), this.bgTokenizer && this.bgTokenizer.setDocument(this.getDocument()), this.resetCaches();
}, this.getDocument = function() {
return this.doc;
}, this.$resetRowCache = function(e) {
if (!e) return this.$docRowCache = [], void (this.$screenRowCache = []);
var t = this.$docRowCache.length, n = this.$getRowCacheIndex(this.$docRowCache, e) + 1;
t > n && (this.$docRowCache.splice(n, t), this.$screenRowCache.splice(n, t));
}, this.$getRowCacheIndex = function(e, t) {
for (var n = 0, i = e.length - 1; n <= i; ) {
var r = n + i >> 1, o = e[r];
if (t > o) n = r + 1; else {
if (!(t < o)) return r;
i = r - 1;
}
}
return n - 1;
}, this.resetCaches = function() {
this.$modified = !0, this.$wrapData = [], this.$rowLengthCache = [], this.$resetRowCache(0), this.bgTokenizer && this.bgTokenizer.start(0);
}, this.onChangeFold = function(e) {
var t = e.data;
this.$resetRowCache(t.start.row);
}, this.onChange = function(e) {
this.$modified = !0, this.$resetRowCache(e.start.row);
var t = this.$updateInternalDataOnChange(e);
!this.$fromUndo && this.$undoManager && !e.ignore && (this.$deltasDoc.push(e), t && 0 != t.length && this.$deltasFold.push({
action: "removeFolds",
folds: t
}), this.$informUndoManager.schedule()), this.bgTokenizer && this.bgTokenizer.$updateOnChange(e), this._signal("change", e);
}, this.setValue = function(e) {
this.doc.setValue(e), this.selection.moveTo(0, 0), this.$resetRowCache(0), this.$deltas = [], this.$deltasDoc = [], this.$deltasFold = [], this.setUndoManager(this.$undoManager), this.getUndoManager().reset();
}, this.getValue = this.toString = function() {
return this.doc.getValue();
}, this.getSelection = function() {
return this.selection;
}, this.getState = function(e) {
return this.bgTokenizer.getState(e);
}, this.getTokens = function(e) {
return this.bgTokenizer.getTokens(e);
}, this.getTokenAt = function(e, t) {
var n, i = this.bgTokenizer.getTokens(e), r = 0;
if (null == t) o = i.length - 1, r = this.getLine(e).length; else for (var o = 0; o < i.length && !((r += i[o].value.length) >= t); o++) ;
return (n = i[o]) ? (n.index = o, n.start = r - n.value.length, n) : null;
}, this.setUndoManager = function(e) {
if (this.$undoManager = e, this.$deltas = [], this.$deltasDoc = [], this.$deltasFold = [], this.$informUndoManager && this.$informUndoManager.cancel(), e) {
var t = this;
this.$syncInformUndoManager = function() {
t.$informUndoManager.cancel(), t.$deltasFold.length && (t.$deltas.push({
group: "fold",
deltas: t.$deltasFold
}), t.$deltasFold = []), t.$deltasDoc.length && (t.$deltas.push({
group: "doc",
deltas: t.$deltasDoc
}), t.$deltasDoc = []), t.$deltas.length > 0 && e.execute({
action: "aceupdate",
args: [ t.$deltas, t ],
merge: t.mergeUndoDeltas
}), t.mergeUndoDeltas = !1, t.$deltas = [];
}, this.$informUndoManager = r.delayedCall(this.$syncInformUndoManager);
}
}, this.markUndoGroup = function() {
this.$syncInformUndoManager && this.$syncInformUndoManager();
}, this.$defaultUndoManager = {
undo: function() {},
redo: function() {},
reset: function() {}
}, this.getUndoManager = function() {
return this.$undoManager || this.$defaultUndoManager;
}, this.getTabString = function() {
return this.getUseSoftTabs() ? r.stringRepeat(" ", this.getTabSize()) : "\t";
}, this.setUseSoftTabs = function(e) {
this.setOption("useSoftTabs", e);
}, this.getUseSoftTabs = function() {
return this.$useSoftTabs && !this.$mode.$indentWithTabs;
}, this.setTabSize = function(e) {
this.setOption("tabSize", e);
}, this.getTabSize = function() {
return this.$tabSize;
}, this.isTabStop = function(e) {
return this.$useSoftTabs && e.column % this.$tabSize == 0;
}, this.$overwrite = !1, this.setOverwrite = function(e) {
this.setOption("overwrite", e);
}, this.getOverwrite = function() {
return this.$overwrite;
}, this.toggleOverwrite = function() {
this.setOverwrite(!this.$overwrite);
}, this.addGutterDecoration = function(e, t) {
this.$decorations[e] || (this.$decorations[e] = ""), this.$decorations[e] += " " + t, this._signal("changeBreakpoint", {});
}, this.removeGutterDecoration = function(e, t) {
this.$decorations[e] = (this.$decorations[e] || "").replace(" " + t, ""), this._signal("changeBreakpoint", {});
}, this.getBreakpoints = function() {
return this.$breakpoints;
}, this.setBreakpoints = function(e) {
this.$breakpoints = [];
for (var t = 0; t < e.length; t++) this.$breakpoints[e[t]] = "ace_breakpoint";
this._signal("changeBreakpoint", {});
}, this.clearBreakpoints = function() {
this.$breakpoints = [], this._signal("changeBreakpoint", {});
}, this.setBreakpoint = function(e, t) {
void 0 === t && (t = "ace_breakpoint"), t ? this.$breakpoints[e] = t : delete this.$breakpoints[e], this._signal("changeBreakpoint", {});
}, this.clearBreakpoint = function(e) {
delete this.$breakpoints[e], this._signal("changeBreakpoint", {});
}, this.addMarker = function(e, t, n, i) {
var r = this.$markerId++, o = {
range: e,
type: n || "line",
renderer: "function" == typeof n ? n : null,
clazz: t,
inFront: !!i,
id: r
};
return i ? (this.$frontMarkers[r] = o, this._signal("changeFrontMarker")) : (this.$backMarkers[r] = o, this._signal("changeBackMarker")), r;
}, this.addDynamicMarker = function(e, t) {
if (e.update) {
var n = this.$markerId++;
return e.id = n, e.inFront = !!t, t ? (this.$frontMarkers[n] = e, this._signal("changeFrontMarker")) : (this.$backMarkers[n] = e, this._signal("changeBackMarker")), e;
}
}, this.removeMarker = function(e) {
var t = this.$frontMarkers[e] || this.$backMarkers[e];
if (t) {
var n = t.inFront ? this.$frontMarkers : this.$backMarkers;
t && (delete n[e], this._signal(t.inFront ? "changeFrontMarker" : "changeBackMarker"));
}
}, this.getMarkers = function(e) {
return e ? this.$frontMarkers : this.$backMarkers;
}, this.highlight = function(e) {
if (!this.$searchHighlight) {
var t = new h(null, "ace_selected-word", "text");
this.$searchHighlight = this.addDynamicMarker(t);
}
this.$searchHighlight.setRegexp(e);
}, this.highlightLines = function(e, t, n, i) {
"number" != typeof t && (n = t, t = e), n || (n = "ace_step");
var r = new c(e, 0, t, 1 / 0);
return r.id = this.addMarker(r, n, "fullLine", i), r;
}, this.setAnnotations = function(e) {
this.$annotations = e, this._signal("changeAnnotation", {});
}, this.getAnnotations = function() {
return this.$annotations || [];
}, this.clearAnnotations = function() {
this.setAnnotations([]);
}, this.$detectNewLine = function(e) {
var t = e.match(/^.*?(\r?\n)/m);
this.$autoNewLine = t ? t[1] : "\n";
}, this.getWordRange = function(e, t) {
var n = this.getLine(e), i = !1;
if (t > 0 && (i = !!n.charAt(t - 1).match(this.tokenRe)), i || (i = !!n.charAt(t).match(this.tokenRe)), i) r = this.tokenRe; else if (/^\s+$/.test(n.slice(t - 1, t + 1))) r = /\s/; else var r = this.nonTokenRe;
var o = t;
if (o > 0) {
do {
o--;
} while (o >= 0 && n.charAt(o).match(r));
o++;
}
for (var a = t; a < n.length && n.charAt(a).match(r); ) a++;
return new c(e, o, e, a);
}, this.getAWordRange = function(e, t) {
for (var n = this.getWordRange(e, t), i = this.getLine(n.end.row); i.charAt(n.end.column).match(/[ \t]/); ) n.end.column += 1;
return n;
}, this.setNewLineMode = function(e) {
this.doc.setNewLineMode(e);
}, this.getNewLineMode = function() {
return this.doc.getNewLineMode();
}, this.setUseWorker = function(e) {
this.setOption("useWorker", e);
}, this.getUseWorker = function() {
return this.$useWorker;
}, this.onReloadTokenizer = function(e) {
var t = e.data;
this.bgTokenizer.start(t.first), this._signal("tokenizerUpdate", e);
}, this.$modes = {}, this.$mode = null, this.$modeId = null, this.setMode = function(e, t) {
if (e && "object" == typeof e) {
if (e.getTokenizer) return this.$onChangeMode(e);
var n = e, i = n.path;
} else i = e || "ace/mode/text";
if (this.$modes["ace/mode/text"] || (this.$modes["ace/mode/text"] = new l()), this.$modes[i] && !n) return this.$onChangeMode(this.$modes[i]), void (t && t());
this.$modeId = i, o.loadModule([ "mode", i ], function(e) {
if (this.$modeId !== i) return t && t();
this.$modes[i] && !n ? this.$onChangeMode(this.$modes[i]) : e && e.Mode && (e = new e.Mode(n), n || (this.$modes[i] = e, e.$id = i), this.$onChangeMode(e)), t && t();
}.bind(this)), this.$mode || this.$onChangeMode(this.$modes["ace/mode/text"], !0);
}, this.$onChangeMode = function(e, t) {
if (t || (this.$modeId = e.$id), this.$mode !== e) {
this.$mode = e, this.$stopWorker(), this.$useWorker && this.$startWorker();
var n = e.getTokenizer();
if (void 0 !== n.addEventListener) {
var i = this.onReloadTokenizer.bind(this);
n.addEventListener("update", i);
}
if (this.bgTokenizer) this.bgTokenizer.setTokenizer(n); else {
this.bgTokenizer = new d(n);
var r = this;
this.bgTokenizer.addEventListener("update", function(e) {
r._signal("tokenizerUpdate", e);
});
}
this.bgTokenizer.setDocument(this.getDocument()), this.tokenRe = e.tokenRe, this.nonTokenRe = e.nonTokenRe, t || (e.attachToSession && e.attachToSession(this), this.$options.wrapMethod.set.call(this, this.$wrapMethod), this.$setFolding(e.foldingRules), this.bgTokenizer.start(0), this._emit("changeMode"));
}
}, this.$stopWorker = function() {
this.$worker && (this.$worker.terminate(), this.$worker = null);
}, this.$startWorker = function() {
try {
this.$worker = this.$mode.createWorker(this);
} catch (e) {
o.warn("Could not load worker", e), this.$worker = null;
}
}, this.getMode = function() {
return this.$mode;
}, this.$scrollTop = 0, this.setScrollTop = function(e) {
this.$scrollTop === e || isNaN(e) || (this.$scrollTop = e, this._signal("changeScrollTop", e));
}, this.getScrollTop = function() {
return this.$scrollTop;
}, this.$scrollLeft = 0, this.setScrollLeft = function(e) {
this.$scrollLeft === e || isNaN(e) || (this.$scrollLeft = e, this._signal("changeScrollLeft", e));
}, this.getScrollLeft = function() {
return this.$scrollLeft;
}, this.getScreenWidth = function() {
return this.$computeWidth(), this.lineWidgets ? Math.max(this.getLineWidgetMaxWidth(), this.screenWidth) : this.screenWidth;
}, this.getLineWidgetMaxWidth = function() {
if (null != this.lineWidgetsWidth) return this.lineWidgetsWidth;
var e = 0;
return this.lineWidgets.forEach(function(t) {
t && t.screenWidth > e && (e = t.screenWidth);
}), this.lineWidgetWidth = e;
}, this.$computeWidth = function(e) {
if (this.$modified || e) {
if (this.$modified = !1, this.$useWrapMode) return this.screenWidth = this.$wrapLimit;
for (var t = this.doc.getAllLines(), n = this.$rowLengthCache, i = 0, r = 0, o = this.$foldData[r], a = o ? o.start.row : 1 / 0, s = t.length, l = 0; l < s; l++) {
if (l > a) {
if ((l = o.end.row + 1) >= s) break;
a = (o = this.$foldData[r++]) ? o.start.row : 1 / 0;
}
null == n[l] && (n[l] = this.$getStringScreenWidth(t[l])[0]), n[l] > i && (i = n[l]);
}
this.screenWidth = i;
}
}, this.getLine = function(e) {
return this.doc.getLine(e);
}, this.getLines = function(e, t) {
return this.doc.getLines(e, t);
}, this.getLength = function() {
return this.doc.getLength();
}, this.getTextRange = function(e) {
return this.doc.getTextRange(e || this.selection.getRange());
}, this.insert = function(e, t) {
return this.doc.insert(e, t);
}, this.remove = function(e) {
return this.doc.remove(e);
}, this.removeFullLines = function(e, t) {
return this.doc.removeFullLines(e, t);
}, this.undoChanges = function(e, t) {
if (e.length) {
this.$fromUndo = !0;
for (var n = null, i = e.length - 1; -1 != i; i--) {
var r = e[i];
"doc" == r.group ? (this.doc.revertDeltas(r.deltas), n = this.$getUndoSelection(r.deltas, !0, n)) : r.deltas.forEach(function(e) {
this.addFolds(e.folds);
}, this);
}
return this.$fromUndo = !1, n && this.$undoSelect && !t && this.selection.setSelectionRange(n), n;
}
}, this.redoChanges = function(e, t) {
if (e.length) {
this.$fromUndo = !0;
for (var n = null, i = 0; i < e.length; i++) {
var r = e[i];
"doc" == r.group && (this.doc.applyDeltas(r.deltas), n = this.$getUndoSelection(r.deltas, !1, n));
}
return this.$fromUndo = !1, n && this.$undoSelect && !t && this.selection.setSelectionRange(n), n;
}
}, this.setUndoSelect = function(e) {
this.$undoSelect = e;
}, this.$getUndoSelection = function(e, t, n) {
function i(e) {
return t ? "insert" !== e.action : "insert" === e.action;
}
var r, o, a = e[0];
i(a) ? r = c.fromPoints(a.start, a.end) : r = c.fromPoints(a.start, a.start);
for (var s = 1; s < e.length; s++) a = e[s], i(a) ? (o = a.start, -1 == r.compare(o.row, o.column) && r.setStart(o), o = a.end, 1 == r.compare(o.row, o.column) && r.setEnd(o), !0) : (o = a.start, -1 == r.compare(o.row, o.column) && (r = c.fromPoints(a.start, a.start)), !1);
if (null != n) {
0 === c.comparePoints(n.start, r.start) && (n.start.column += r.end.column - r.start.column, n.end.column += r.end.column - r.start.column);
var l = n.compareRange(r);
1 == l ? r.setStart(n.start) : -1 == l && r.setEnd(n.end);
}
return r;
}, this.replace = function(e, t) {
return this.doc.replace(e, t);
}, this.moveText = function(e, t, n) {
var i = this.getTextRange(e), r = this.getFoldsInRange(e), o = c.fromPoints(t, t);
if (!n) {
this.remove(e);
l = e.start.row - e.end.row;
(u = l ? -e.end.column : e.start.column - e.end.column) && (o.start.row == e.end.row && o.start.column > e.end.column && (o.start.column += u), o.end.row == e.end.row && o.end.column > e.end.column && (o.end.column += u)), l && o.start.row >= e.end.row && (o.start.row += l, o.end.row += l);
}
if (o.end = this.insert(o.start, i), r.length) {
var a = e.start, s = o.start, l = s.row - a.row, u = s.column - a.column;
this.addFolds(r.map(function(e) {
return (e = e.clone()).start.row == a.row && (e.start.column += u), e.end.row == a.row && (e.end.column += u), e.start.row += l, e.end.row += l, e;
}));
}
return o;
}, this.indentRows = function(e, t, n) {
n = n.replace(/\t/g, this.getTabString());
for (var i = e; i <= t; i++) this.doc.insertInLine({
row: i,
column: 0
}, n);
}, this.outdentRows = function(e) {
for (var t = e.collapseRows(), n = new c(0, 0, 0, 0), i = this.getTabSize(), r = t.start.row; r <= t.end.row; ++r) {
var o = this.getLine(r);
n.start.row = r, n.end.row = r;
for (var a = 0; a < i && " " == o.charAt(a); ++a) ;
a < i && "\t" == o.charAt(a) ? (n.start.column = a, n.end.column = a + 1) : (n.start.column = 0, n.end.column = a), this.remove(n);
}
}, this.$moveLines = function(e, t, n) {
if (e = this.getRowFoldStart(e), t = this.getRowFoldEnd(t), n < 0) {
if ((i = this.getRowFoldStart(e + n)) < 0) return 0;
r = i - e;
} else if (n > 0) {
var i = this.getRowFoldEnd(t + n);
if (i > this.doc.getLength() - 1) return 0;
r = i - t;
} else {
e = this.$clipRowToDocument(e);
var r = (t = this.$clipRowToDocument(t)) - e + 1;
}
var o = new c(e, 0, t, Number.MAX_VALUE), a = this.getFoldsInRange(o).map(function(e) {
return e = e.clone(), e.start.row += r, e.end.row += r, e;
}), s = 0 == n ? this.doc.getLines(e, t) : this.doc.removeFullLines(e, t);
return this.doc.insertFullLines(e + r, s), a.length && this.addFolds(a), r;
}, this.moveLinesUp = function(e, t) {
return this.$moveLines(e, t, -1);
}, this.moveLinesDown = function(e, t) {
return this.$moveLines(e, t, 1);
}, this.duplicateLines = function(e, t) {
return this.$moveLines(e, t, 0);
}, this.$clipRowToDocument = function(e) {
return Math.max(0, Math.min(e, this.doc.getLength() - 1));
}, this.$clipColumnToRow = function(e, t) {
return t < 0 ? 0 : Math.min(this.doc.getLine(e).length, t);
}, this.$clipPositionToDocument = function(e, t) {
if (t = Math.max(0, t), e < 0) e = 0, t = 0; else {
var n = this.doc.getLength();
e >= n ? (e = n - 1, t = this.doc.getLine(n - 1).length) : t = Math.min(this.doc.getLine(e).length, t);
}
return {
row: e,
column: t
};
}, this.$clipRangeToDocument = function(e) {
e.start.row < 0 ? (e.start.row = 0, e.start.column = 0) : e.start.column = this.$clipColumnToRow(e.start.row, e.start.column);
var t = this.doc.getLength() - 1;
return e.end.row > t ? (e.end.row = t, e.end.column = this.doc.getLine(t).length) : e.end.column = this.$clipColumnToRow(e.end.row, e.end.column), e;
}, this.$wrapLimit = 80, this.$useWrapMode = !1, this.$wrapLimitRange = {
min: null,
max: null
}, this.setUseWrapMode = function(e) {
if (e != this.$useWrapMode) {
if (this.$useWrapMode = e, this.$modified = !0, this.$resetRowCache(0), e) {
var t = this.getLength();
this.$wrapData = Array(t), this.$updateWrapData(0, t - 1);
}
this._signal("changeWrapMode");
}
}, this.getUseWrapMode = function() {
return this.$useWrapMode;
}, this.setWrapLimitRange = function(e, t) {
this.$wrapLimitRange.min === e && this.$wrapLimitRange.max === t || (this.$wrapLimitRange = {
min: e,
max: t
}, this.$modified = !0, this.$useWrapMode && this._signal("changeWrapMode"));
}, this.adjustWrapLimit = function(e, t) {
var n = this.$wrapLimitRange;
n.max < 0 && (n = {
min: t,
max: t
});
var i = this.$constrainWrapLimit(e, n.min, n.max);
return i != this.$wrapLimit && i > 1 && (this.$wrapLimit = i, this.$modified = !0, this.$useWrapMode && (this.$updateWrapData(0, this.getLength() - 1), this.$resetRowCache(0), this._signal("changeWrapLimit")), !0);
}, this.$constrainWrapLimit = function(e, t, n) {
return t && (e = Math.max(t, e)), n && (e = Math.min(n, e)), e;
}, this.getWrapLimit = function() {
return this.$wrapLimit;
}, this.setWrapLimit = function(e) {
this.setWrapLimitRange(e, e);
}, this.getWrapLimitRange = function() {
return {
min: this.$wrapLimitRange.min,
max: this.$wrapLimitRange.max
};
}, this.$updateInternalDataOnChange = function(e) {
var t = this.$useWrapMode, n = e.action, i = e.start, r = e.end, o = i.row, a = r.row, s = a - o, l = null;
if (this.$updating = !0, 0 != s) if ("remove" === n) {
this[t ? "$wrapData" : "$rowLengthCache"].splice(o, s);
h = this.$foldData;
l = this.getFoldsInRange(e), this.removeFolds(l);
p = 0;
if (g = this.getFoldLine(r.row)) {
g.addRemoveChars(r.row, r.column, i.column - r.column), g.shiftRow(-s);
var c = this.getFoldLine(o);
c && c !== g && (c.merge(g), g = c), p = h.indexOf(g) + 1;
}
for (p; p < h.length; p++) (g = h[p]).start.row >= r.row && g.shiftRow(-s);
a = o;
} else {
var u = Array(s);
u.unshift(o, 0);
var d = t ? this.$wrapData : this.$rowLengthCache;
d.splice.apply(d, u);
var h = this.$foldData, p = 0;
if (g = this.getFoldLine(o)) {
var f = g.range.compareInside(i.row, i.column);
0 == f ? (g = g.split(i.row, i.column)) && (g.shiftRow(s), g.addRemoveChars(a, 0, r.column - i.column)) : -1 == f && (g.addRemoveChars(o, 0, r.column - i.column), g.shiftRow(s)), p = h.indexOf(g) + 1;
}
for (p; p < h.length; p++) (g = h[p]).start.row >= o && g.shiftRow(s);
} else {
s = Math.abs(e.start.column - e.end.column), "remove" === n && (l = this.getFoldsInRange(e), this.removeFolds(l), s = -s);
var g = this.getFoldLine(o);
g && g.addRemoveChars(o, i.column, s);
}
return t && this.$wrapData.length != this.doc.getLength() && console.error("doc.getLength() and $wrapData.length have to be the same!"), this.$updating = !1, t ? this.$updateWrapData(o, a) : this.$updateRowLengthCache(o, a), l;
}, this.$updateRowLengthCache = function(e, t, n) {
this.$rowLengthCache[e] = null, this.$rowLengthCache[t] = null;
}, this.$updateWrapData = function(e, i) {
var r, o, a = this.doc.getAllLines(), s = this.getTabSize(), l = this.$wrapData, c = this.$wrapLimit, u = e;
for (i = Math.min(i, a.length - 1); u <= i; ) (o = this.getFoldLine(u, o)) ? (r = [], o.walk(function(e, i, o, s) {
var l;
if (null != e) {
(l = this.$getDisplayTokens(e, r.length))[0] = t;
for (var c = 1; c < l.length; c++) l[c] = n;
} else l = this.$getDisplayTokens(a[i].substring(s, o), r.length);
r = r.concat(l);
}.bind(this), o.end.row, a[o.end.row].length + 1), l[o.start.row] = this.$computeWrapSplits(r, c, s), u = o.end.row + 1) : (r = this.$getDisplayTokens(a[u]), l[u] = this.$computeWrapSplits(r, c, s), u++);
};
var t = 3, n = 4, s = 10, u = 11, p = 12;
this.$computeWrapSplits = function(e, i, r) {
function o() {
var t = 0;
if (0 === m) return t;
if (g) for (var n = 0; n < e.length; n++) {
var i = e[n];
if (i == s) t += 1; else {
if (i != u) {
if (i == p) continue;
break;
}
t += r;
}
}
return f && !1 !== g && (t += r), Math.min(t, m);
}
function a(t) {
var n = e.slice(d, t), i = n.length;
n.join("").replace(/12/g, function() {
i -= 1;
}).replace(/2/g, function() {
i -= 1;
}), l.length || (v = o(), l.indent = v), h += i, l.push(h), d = t;
}
if (0 == e.length) return [];
for (var l = [], c = e.length, d = 0, h = 0, f = this.$wrapAsCode, g = this.$indentedSoftWrap, m = i <= Math.max(2 * r, 8) || !1 === g ? 0 : Math.floor(i / 2), v = 0; c - d > i - v; ) {
var y = d + i - v;
if (e[y - 1] >= s && e[y] >= s) a(y); else if (e[y] != t && e[y] != n) {
for (var b = Math.max(y - (i - (i >> 2)), d - 1); y > b && e[y] < t; ) y--;
if (f) {
for (;y > b && e[y] < t; ) y--;
for (;y > b && 9 == e[y]; ) y--;
} else for (;y > b && e[y] < s; ) y--;
y > b ? a(++y) : (2 == e[y = d + i] && y--, a(y - v));
} else {
for (y; y != d - 1 && e[y] != t; y--) ;
if (y > d) {
a(y);
continue;
}
for (y = d + i; y < e.length && e[y] == n; y++) ;
if (y == e.length) break;
a(y);
}
}
return l;
}, this.$getDisplayTokens = function(t, n) {
var i, r = [];
n = n || 0;
for (var o = 0; o < t.length; o++) {
var a = t.charCodeAt(o);
if (9 == a) {
i = this.getScreenTabSize(r.length + n), r.push(u);
for (var l = 1; l < i; l++) r.push(p);
} else 32 == a ? r.push(s) : a > 39 && a < 48 || a > 57 && a < 64 ? r.push(9) : a >= 4352 && e(a) ? r.push(1, 2) : r.push(1);
}
return r;
}, this.$getStringScreenWidth = function(t, n, i) {
if (0 == n) return [ 0, 0 ];
null == n && (n = 1 / 0), i = i || 0;
var r, o;
for (o = 0; o < t.length && (9 == (r = t.charCodeAt(o)) ? i += this.getScreenTabSize(i) : r >= 4352 && e(r) ? i += 2 : i += 1, !(i > n)); o++) ;
return [ i, o ];
}, this.lineWidgets = null, this.getRowLength = function(e) {
if (this.lineWidgets) var t = this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0; else t = 0;
return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t;
}, this.getRowLineCount = function(e) {
return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 : 1;
}, this.getRowWrapIndent = function(e) {
if (this.$useWrapMode) {
var t = this.screenToDocumentPosition(e, Number.MAX_VALUE), n = this.$wrapData[t.row];
return n.length && n[0] < t.column ? n.indent : 0;
}
return 0;
}, this.getScreenLastRowColumn = function(e) {
var t = this.screenToDocumentPosition(e, Number.MAX_VALUE);
return this.documentToScreenColumn(t.row, t.column);
}, this.getDocumentLastRowColumn = function(e, t) {
var n = this.documentToScreenRow(e, t);
return this.getScreenLastRowColumn(n);
}, this.getDocumentLastRowColumnPosition = function(e, t) {
var n = this.documentToScreenRow(e, t);
return this.screenToDocumentPosition(n, Number.MAX_VALUE / 10);
}, this.getRowSplitData = function(e) {
return this.$useWrapMode ? this.$wrapData[e] : void 0;
}, this.getScreenTabSize = function(e) {
return this.$tabSize - e % this.$tabSize;
}, this.screenToDocumentRow = function(e, t) {
return this.screenToDocumentPosition(e, t).row;
}, this.screenToDocumentColumn = function(e, t) {
return this.screenToDocumentPosition(e, t).column;
}, this.screenToDocumentPosition = function(e, t) {
if (e < 0) return {
row: 0,
column: 0
};
var n, i, r = 0, o = 0, a = 0, s = 0, l = this.$screenRowCache, c = this.$getRowCacheIndex(l, e), u = l.length;
if (u && c >= 0) var a = l[c], r = this.$docRowCache[c], d = e > l[u - 1]; else d = !u;
for (var h = this.getLength() - 1, p = this.getNextFoldLine(r), f = p ? p.start.row : 1 / 0; a <= e && (s = this.getRowLength(r), !(a + s > e || r >= h)); ) a += s, ++r > f && (r = p.end.row + 1, p = this.getNextFoldLine(r, p), f = p ? p.start.row : 1 / 0), d && (this.$docRowCache.push(r), this.$screenRowCache.push(a));
if (p && p.start.row <= r) n = this.getFoldDisplayLine(p), r = p.start.row; else {
if (a + s <= e || r > h) return {
row: h,
column: this.getLine(h).length
};
n = this.getLine(r), p = null;
}
var g = 0;
if (this.$useWrapMode) {
var m = this.$wrapData[r];
if (m) {
var v = Math.floor(e - a);
i = m[v], v > 0 && m.length && (g = m.indent, o = m[v - 1] || m[m.length - 1], n = n.substring(o));
}
}
return o += this.$getStringScreenWidth(n, t - g)[1], this.$useWrapMode && o >= i && (o = i - 1), p ? p.idxToPosition(o) : {
row: r,
column: o
};
}, this.documentToScreenPosition = function(e, t) {
if (void 0 === t) var n = this.$clipPositionToDocument(e.row, e.column); else n = this.$clipPositionToDocument(e, t);
e = n.row, t = n.column;
var i = 0, r = null, o = null;
(o = this.getFoldAt(e, t, 1)) && (e = o.start.row, t = o.start.column);
var a, s = 0, l = this.$docRowCache, c = this.$getRowCacheIndex(l, e), u = l.length;
if (u && c >= 0) var s = l[c], i = this.$screenRowCache[c], d = e > l[u - 1]; else d = !u;
for (var h = this.getNextFoldLine(s), p = h ? h.start.row : 1 / 0; s < e; ) {
if (s >= p) {
if ((a = h.end.row + 1) > e) break;
p = (h = this.getNextFoldLine(a, h)) ? h.start.row : 1 / 0;
} else a = s + 1;
i += this.getRowLength(s), s = a, d && (this.$docRowCache.push(s), this.$screenRowCache.push(i));
}
var f = "";
h && s >= p ? (f = this.getFoldDisplayLine(h, e, t), r = h.start.row) : (f = this.getLine(e).substring(0, t), r = e);
var g = 0;
if (this.$useWrapMode) {
var m = this.$wrapData[r];
if (m) {
for (var v = 0; f.length >= m[v]; ) i++, v++;
f = f.substring(m[v - 1] || 0, f.length), g = v > 0 ? m.indent : 0;
}
}
return {
row: i,
column: g + this.$getStringScreenWidth(f)[0]
};
}, this.documentToScreenColumn = function(e, t) {
return this.documentToScreenPosition(e, t).column;
}, this.documentToScreenRow = function(e, t) {
return this.documentToScreenPosition(e, t).row;
}, this.getScreenLength = function() {
var e = 0, t = null;
if (this.$useWrapMode) for (var n = this.$wrapData.length, i = 0, r = 0, o = (t = this.$foldData[r++]) ? t.start.row : 1 / 0; i < n; ) {
var a = this.$wrapData[i];
e += a ? a.length + 1 : 1, ++i > o && (i = t.end.row + 1, t = this.$foldData[r++], o = t ? t.start.row : 1 / 0);
} else {
e = this.getLength();
for (var s = this.$foldData, r = 0; r < s.length; r++) t = s[r], e -= t.end.row - t.start.row;
}
return this.lineWidgets && (e += this.$getWidgetScreenLength()), e;
}, this.$setFontMetrics = function(e) {
this.$enableVarChar && (this.$getStringScreenWidth = function(t, n, i) {
if (0 === n) return [ 0, 0 ];
n || (n = 1 / 0), i = i || 0;
var r, o;
for (o = 0; o < t.length && (r = t.charAt(o), !((i += "\t" === r ? this.getScreenTabSize(i) : e.getCharacterWidth(r)) > n)); o++) ;
return [ i, o ];
});
}, this.destroy = function() {
this.bgTokenizer && (this.bgTokenizer.setDocument(null), this.bgTokenizer = null), this.$stopWorker();
};
}).call(p.prototype), e("./edit_session/folding").Folding.call(p.prototype), e("./edit_session/bracket_match").BracketMatch.call(p.prototype), o.defineOptions(p.prototype, "session", {
wrap: {
set: function(e) {
if (e && "off" != e ? "free" == e ? e = !0 : "printMargin" == e ? e = -1 : "string" == typeof e && (e = parseInt(e, 10) || !1) : e = !1, this.$wrap != e) if (this.$wrap = e, e) {
var t = "number" == typeof e ? e : null;
this.setWrapLimitRange(t, t), this.setUseWrapMode(!0);
} else this.setUseWrapMode(!1);
},
get: function() {
return this.getUseWrapMode() ? -1 == this.$wrap ? "printMargin" : this.getWrapLimitRange().min ? this.$wrap : "free" : "off";
},
handlesSet: !0
},
wrapMethod: {
set: function(e) {
(e = "auto" == e ? "text" != this.$mode.type : "text" != e) != this.$wrapAsCode && (this.$wrapAsCode = e, this.$useWrapMode && (this.$modified = !0, this.$resetRowCache(0), this.$updateWrapData(0, this.getLength() - 1)));
},
initialValue: "auto"
},
indentedSoftWrap: {
initialValue: !0
},
firstLineNumber: {
set: function() {
this._signal("changeBreakpoint");
},
initialValue: 1
},
useWorker: {
set: function(e) {
this.$useWorker = e, this.$stopWorker(), e && this.$startWorker();
},
initialValue: !0
},
useSoftTabs: {
initialValue: !0
},
tabSize: {
set: function(e) {
isNaN(e) || this.$tabSize === e || (this.$modified = !0, this.$rowLengthCache = [], this.$tabSize = e, this._signal("changeTabSize"));
},
initialValue: 4,
handlesSet: !0
},
overwrite: {
set: function(e) {
this._signal("changeOverwrite");
},
initialValue: !1
},
newLineMode: {
set: function(e) {
this.doc.setNewLineMode(e);
},
get: function() {
return this.doc.getNewLineMode();
},
handlesSet: !0
},
mode: {
set: function(e) {
this.setMode(e);
},
get: function() {
return this.$modeId;
}
}
}), t.EditSession = p;
}), ace.define("ace/search", [ "require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("./lib/lang"), r = e("./lib/oop"), o = e("./range").Range, a = function() {
this.$options = {};
};
(function() {
this.set = function(e) {
return r.mixin(this.$options, e), this;
}, this.getOptions = function() {
return i.copyObject(this.$options);
}, this.setOptions = function(e) {
this.$options = e;
}, this.find = function(e) {
var t = this.$options, n = this.$matchIterator(e, t);
if (!n) return !1;
var i = null;
return n.forEach(function(e, n, r) {
if (e.start) i = e; else {
var a = e.offset + (r || 0);
if (i = new o(n, a, n, a + e.length), !e.length && t.start && t.start.start && 0 != t.skipCurrent && i.isEqual(t.start)) return i = null, !1;
}
return !0;
}), i;
}, this.findAll = function(e) {
var t = this.$options;
if (!t.needle) return [];
this.$assembleRegExp(t);
var n = t.range, r = n ? e.getLines(n.start.row, n.end.row) : e.doc.getAllLines(), a = [], s = t.re;
if (t.$isMultiLine) {
var l, c = s.length, u = r.length - c;
e: for (var d = s.offset || 0; d <= u; d++) {
for (v = 0; v < c; v++) if (-1 == r[d + v].search(s[v])) continue e;
var h = r[d], p = r[d + c - 1], f = h.length - h.match(s[0])[0].length, g = p.match(s[c - 1])[0].length;
l && l.end.row === d && l.end.column > f || (a.push(l = new o(d, f, d + c - 1, g)), c > 2 && (d = d + c - 2));
}
} else for (x = 0; x < r.length; x++) for (var m = i.getMatchOffsets(r[x], s), v = 0; v < m.length; v++) {
var y = m[v];
a.push(new o(x, y.offset, x, y.offset + y.length));
}
if (n) {
for (var b = n.start.column, w = n.start.column, x = 0, v = a.length - 1; x < v && a[x].start.column < b && a[x].start.row == n.start.row; ) x++;
for (;x < v && a[v].end.column > w && a[v].end.row == n.end.row; ) v--;
for (a = a.slice(x, v + 1), x = 0, v = a.length; x < v; x++) a[x].start.row += n.start.row, a[x].end.row += n.start.row;
}
return a;
}, this.replace = function(e, t) {
var n = this.$options, i = this.$assembleRegExp(n);
if (n.$isMultiLine) return t;
if (i) {
var r = i.exec(e);
if (!r || r[0].length != e.length) return null;
if (t = e.replace(i, t), n.preserveCase) {
t = t.split("");
for (var o = Math.min(e.length, e.length); o--; ) {
var a = e[o];
a && a.toLowerCase() != a ? t[o] = t[o].toUpperCase() : t[o] = t[o].toLowerCase();
}
t = t.join("");
}
return t;
}
}, this.$matchIterator = function(e, t) {
var n = this.$assembleRegExp(t);
if (!n) return !1;
var r;
if (t.$isMultiLine) var a = n.length, s = function(t, i, s) {
var l = t.search(n[0]);
if (-1 != l) {
for (var c = 1; c < a; c++) if (-1 == (t = e.getLine(i + c)).search(n[c])) return;
var u = t.match(n[a - 1])[0].length, d = new o(i, l, i + a - 1, u);
return 1 == n.offset ? (d.start.row--, d.start.column = Number.MAX_VALUE) : s && (d.start.column += s), !!r(d) || void 0;
}
}; else if (t.backwards) s = function(e, t, o) {
for (var a = i.getMatchOffsets(e, n), s = a.length - 1; s >= 0; s--) if (r(a[s], t, o)) return !0;
}; else s = function(e, t, o) {
for (var a = i.getMatchOffsets(e, n), s = 0; s < a.length; s++) if (r(a[s], t, o)) return !0;
};
var l = this.$lineIterator(e, t);
return {
forEach: function(e) {
r = e, l.forEach(s);
}
};
}, this.$assembleRegExp = function(e, t) {
if (e.needle instanceof RegExp) return e.re = e.needle;
var n = e.needle;
if (!e.needle) return e.re = !1;
e.regExp || (n = i.escapeRegExp(n)), e.wholeWord && (n = "\\b" + n + "\\b");
var r = e.caseSensitive ? "gm" : "gmi";
if (e.$isMultiLine = !t && /[\n\r]/.test(n), e.$isMultiLine) return e.re = this.$assembleMultilineRegExp(n, r);
try {
var o = new RegExp(n, r);
} catch (e) {
o = !1;
}
return e.re = o;
}, this.$assembleMultilineRegExp = function(e, t) {
for (var n = e.replace(/\r\n|\r|\n/g, "$\n^").split("\n"), i = [], r = 0; r < n.length; r++) try {
i.push(new RegExp(n[r], t));
} catch (e) {
return !1;
}
return "" == n[0] ? (i.shift(), i.offset = 1) : i.offset = 0, i;
}, this.$lineIterator = function(e, t) {
var n = 1 == t.backwards, i = 0 != t.skipCurrent, r = t.range, o = t.start;
o || (o = r ? r[n ? "end" : "start"] : e.selection.getRange()), o.start && (o = o[i != n ? "end" : "start"]);
var a = r ? r.start.row : 0, s = r ? r.end.row : e.getLength() - 1;
return {
forEach: n ? function(n) {
var i = o.row;
if (!n(e.getLine(i).substring(0, o.column), i)) {
for (i--; i >= a; i--) if (n(e.getLine(i), i)) return;
if (0 != t.wrap) for (i = s, a = o.row; i >= a; i--) if (n(e.getLine(i), i)) return;
}
} : function(n) {
var i = o.row;
if (!n(e.getLine(i).substr(o.column), i, o.column)) {
for (i += 1; i <= s; i++) if (n(e.getLine(i), i)) return;
if (0 != t.wrap) for (i = a, s = o.row; i <= s; i++) if (n(e.getLine(i), i)) return;
}
}
};
};
}).call(a.prototype), t.Search = a;
}), ace.define("ace/keyboard/hash_handler", [ "require", "exports", "module", "ace/lib/keys", "ace/lib/useragent" ], function(e, t, n) {
"use strict";
function i(e, t) {
this.platform = t || (a.isMac ? "mac" : "win"), this.commands = {}, this.commandKeyBinding = {}, this.addCommands(e), this.$singleCommand = !0;
}
function r(e, t) {
i.call(this, e, t), this.$singleCommand = !1;
}
var o = e("../lib/keys"), a = e("../lib/useragent"), s = o.KEY_MODS;
r.prototype = i.prototype, function() {
function e(e) {
return "object" == typeof e && e.bindKey && e.bindKey.position || 0;
}
this.addCommand = function(e) {
this.commands[e.name] && this.removeCommand(e), this.commands[e.name] = e, e.bindKey && this._buildKeyHash(e);
}, this.removeCommand = function(e, t) {
var n = e && ("string" == typeof e ? e : e.name);
e = this.commands[n], t || delete this.commands[n];
var i = this.commandKeyBinding;
for (var r in i) {
var o = i[r];
if (o == e) delete i[r]; else if (Array.isArray(o)) {
var a = o.indexOf(e);
-1 != a && (o.splice(a, 1), 1 == o.length && (i[r] = o[0]));
}
}
}, this.bindKey = function(e, t, n) {
if ("object" == typeof e && (void 0 == n && (n = e.position), e = e[this.platform]), e) return "function" == typeof t ? this.addCommand({
exec: t,
bindKey: e,
name: t.name || e
}) : void e.split("|").forEach(function(e) {
var i = "";
if (-1 != e.indexOf(" ")) {
var r = e.split(/\s+/);
e = r.pop(), r.forEach(function(e) {
var t = this.parseKeys(e), n = s[t.hashId] + t.key;
i += (i ? " " : "") + n, this._addCommandToBinding(i, "chainKeys");
}, this), i += " ";
}
var o = this.parseKeys(e), a = s[o.hashId] + o.key;
this._addCommandToBinding(i + a, t, n);
}, this);
}, this._addCommandToBinding = function(t, n, i) {
var r, o = this.commandKeyBinding;
if (n) if (!o[t] || this.$singleCommand) o[t] = n; else {
Array.isArray(o[t]) ? -1 != (r = o[t].indexOf(n)) && o[t].splice(r, 1) : o[t] = [ o[t] ], "number" != typeof i && (i = i || n.isDefault ? -100 : e(n));
var a = o[t];
for (r = 0; r < a.length && !(e(a[r]) > i); r++) ;
a.splice(r, 0, n);
} else delete o[t];
}, this.addCommands = function(e) {
e && Object.keys(e).forEach(function(t) {
var n = e[t];
if (n) {
if ("string" == typeof n) return this.bindKey(n, t);
"function" == typeof n && (n = {
exec: n
}), "object" == typeof n && (n.name || (n.name = t), this.addCommand(n));
}
}, this);
}, this.removeCommands = function(e) {
Object.keys(e).forEach(function(t) {
this.removeCommand(e[t]);
}, this);
}, this.bindKeys = function(e) {
Object.keys(e).forEach(function(t) {
this.bindKey(t, e[t]);
}, this);
}, this._buildKeyHash = function(e) {
this.bindKey(e.bindKey, e);
}, this.parseKeys = function(e) {
var t = e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e) {
return e;
}), n = t.pop(), i = o[n];
if (o.FUNCTION_KEYS[i]) n = o.FUNCTION_KEYS[i].toLowerCase(); else {
if (!t.length) return {
key: n,
hashId: -1
};
if (1 == t.length && "shift" == t[0]) return {
key: n.toUpperCase(),
hashId: -1
};
}
for (var r = 0, a = t.length; a--; ) {
var s = o.KEY_MODS[t[a]];
if (null == s) return "undefined" != typeof console && console.error("invalid modifier " + t[a] + " in " + e), !1;
r |= s;
}
return {
key: n,
hashId: r
};
}, this.findKeyCommand = function(e, t) {
var n = s[e] + t;
return this.commandKeyBinding[n];
}, this.handleKeyboard = function(e, t, n, i) {
if (!(i < 0)) {
var r = s[t] + n, o = this.commandKeyBinding[r];
return e.$keyChain && (e.$keyChain += " " + r, o = this.commandKeyBinding[e.$keyChain] || o), !o || "chainKeys" != o && "chainKeys" != o[o.length - 1] ? (e.$keyChain && (t && 4 != t || 1 != n.length ? (-1 == t || i > 0) && (e.$keyChain = "") : e.$keyChain = e.$keyChain.slice(0, -r.length - 1)), {
command: o
}) : (e.$keyChain = e.$keyChain || r, {
command: "null"
});
}
}, this.getStatusText = function(e, t) {
return t.$keyChain || "";
};
}.call(i.prototype), t.HashHandler = i, t.MultiHashHandler = r;
}), ace.define("ace/commands/command_manager", [ "require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("../keyboard/hash_handler").MultiHashHandler, o = e("../lib/event_emitter").EventEmitter, a = function(e, t) {
r.call(this, t, e), this.byName = this.commands, this.setDefaultHandler("exec", function(e) {
return e.command.exec(e.editor, e.args || {});
});
};
i.inherits(a, r), function() {
i.implement(this, o), this.exec = function(e, t, n) {
if (Array.isArray(e)) {
for (var i = e.length; i--; ) if (this.exec(e[i], t, n)) return !0;
return !1;
}
if ("string" == typeof e && (e = this.commands[e]), !e) return !1;
if (t && t.$readOnly && !e.readOnly) return !1;
var r = {
editor: t,
command: e,
args: n
};
return r.returnValue = this._emit("exec", r), this._signal("afterExec", r), !1 !== r.returnValue;
}, this.toggleRecording = function(e) {
if (!this.$inReplay) return e && e._emit("changeStatus"), this.recording ? (this.macro.pop(), this.removeEventListener("exec", this.$addCommandToMacro), this.macro.length || (this.macro = this.oldMacro), this.recording = !1) : (this.$addCommandToMacro || (this.$addCommandToMacro = function(e) {
this.macro.push([ e.command, e.args ]);
}.bind(this)), this.oldMacro = this.macro, this.macro = [], this.on("exec", this.$addCommandToMacro), this.recording = !0);
}, this.replay = function(e) {
if (!this.$inReplay && this.macro) {
if (this.recording) return this.toggleRecording(e);
try {
this.$inReplay = !0, this.macro.forEach(function(t) {
"string" == typeof t ? this.exec(t, e) : this.exec(t[0], e, t[1]);
}, this);
} finally {
this.$inReplay = !1;
}
}
}, this.trimMacro = function(e) {
return e.map(function(e) {
return "string" != typeof e[0] && (e[0] = e[0].name), e[1] || (e = e[0]), e;
});
};
}.call(a.prototype), t.CommandManager = a;
}), ace.define("ace/commands/default_commands", [ "require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range" ], function(e, t, n) {
"use strict";
function i(e, t) {
return {
win: e,
mac: t
};
}
var r = e("../lib/lang"), o = e("../config"), a = e("../range").Range;
t.commands = [ {
name: "showSettingsMenu",
bindKey: i("Ctrl-,", "Command-,"),
exec: function(e) {
o.loadModule("ace/ext/settings_menu", function(t) {
t.init(e), e.showSettingsMenu();
});
},
readOnly: !0
}, {
name: "goToNextError",
bindKey: i("Alt-E", "Ctrl-E"),
exec: function(e) {
o.loadModule("ace/ext/error_marker", function(t) {
t.showErrorMarker(e, 1);
});
},
scrollIntoView: "animate",
readOnly: !0
}, {
name: "goToPreviousError",
bindKey: i("Alt-Shift-E", "Ctrl-Shift-E"),
exec: function(e) {
o.loadModule("ace/ext/error_marker", function(t) {
t.showErrorMarker(e, -1);
});
},
scrollIntoView: "animate",
readOnly: !0
}, {
name: "selectall",
bindKey: i("Ctrl-A", "Command-A"),
exec: function(e) {
e.selectAll();
},
readOnly: !0
}, {
name: "centerselection",
bindKey: i(null, "Ctrl-L"),
exec: function(e) {
e.centerSelection();
},
readOnly: !0
}, {
name: "gotoline",
bindKey: i("Ctrl-L", "Command-L"),
exec: function(e) {
var t = parseInt(prompt("Enter line number:"), 10);
isNaN(t) || e.gotoLine(t);
},
readOnly: !0
}, {
name: "fold",
bindKey: i("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
exec: function(e) {
e.session.toggleFold(!1);
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "unfold",
bindKey: i("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
exec: function(e) {
e.session.toggleFold(!0);
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "toggleFoldWidget",
bindKey: i("F2", "F2"),
exec: function(e) {
e.session.toggleFoldWidget();
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "toggleParentFoldWidget",
bindKey: i("Alt-F2", "Alt-F2"),
exec: function(e) {
e.session.toggleFoldWidget(!0);
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "foldall",
bindKey: i(null, "Ctrl-Command-Option-0"),
exec: function(e) {
e.session.foldAll();
},
scrollIntoView: "center",
readOnly: !0
}, {
name: "foldOther",
bindKey: i("Alt-0", "Command-Option-0"),
exec: function(e) {
e.session.foldAll(), e.session.unfold(e.selection.getAllRanges());
},
scrollIntoView: "center",
readOnly: !0
}, {
name: "unfoldall",
bindKey: i("Alt-Shift-0", "Command-Option-Shift-0"),
exec: function(e) {
e.session.unfold();
},
scrollIntoView: "center",
readOnly: !0
}, {
name: "findnext",
bindKey: i("Ctrl-K", "Command-G"),
exec: function(e) {
e.findNext();
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "findprevious",
bindKey: i("Ctrl-Shift-K", "Command-Shift-G"),
exec: function(e) {
e.findPrevious();
},
multiSelectAction: "forEach",
scrollIntoView: "center",
readOnly: !0
}, {
name: "selectOrFindNext",
bindKey: i("Alt-K", "Ctrl-G"),
exec: function(e) {
e.selection.isEmpty() ? e.selection.selectWord() : e.findNext();
},
readOnly: !0
}, {
name: "selectOrFindPrevious",
bindKey: i("Alt-Shift-K", "Ctrl-Shift-G"),
exec: function(e) {
e.selection.isEmpty() ? e.selection.selectWord() : e.findPrevious();
},
readOnly: !0
}, {
name: "find",
bindKey: i("Ctrl-F", "Command-F"),
exec: function(e) {
o.loadModule("ace/ext/searchbox", function(t) {
t.Search(e);
});
},
readOnly: !0
}, {
name: "overwrite",
bindKey: "Insert",
exec: function(e) {
e.toggleOverwrite();
},
readOnly: !0
}, {
name: "selecttostart",
bindKey: i("Ctrl-Shift-Home", "Command-Shift-Up"),
exec: function(e) {
e.getSelection().selectFileStart();
},
multiSelectAction: "forEach",
readOnly: !0,
scrollIntoView: "animate",
aceCommandGroup: "fileJump"
}, {
name: "gotostart",
bindKey: i("Ctrl-Home", "Command-Home|Command-Up"),
exec: function(e) {
e.navigateFileStart();
},
multiSelectAction: "forEach",
readOnly: !0,
scrollIntoView: "animate",
aceCommandGroup: "fileJump"
}, {
name: "selectup",
bindKey: i("Shift-Up", "Shift-Up"),
exec: function(e) {
e.getSelection().selectUp();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "golineup",
bindKey: i("Up", "Up|Ctrl-P"),
exec: function(e, t) {
e.navigateUp(t.times);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selecttoend",
bindKey: i("Ctrl-Shift-End", "Command-Shift-Down"),
exec: function(e) {
e.getSelection().selectFileEnd();
},
multiSelectAction: "forEach",
readOnly: !0,
scrollIntoView: "animate",
aceCommandGroup: "fileJump"
}, {
name: "gotoend",
bindKey: i("Ctrl-End", "Command-End|Command-Down"),
exec: function(e) {
e.navigateFileEnd();
},
multiSelectAction: "forEach",
readOnly: !0,
scrollIntoView: "animate",
aceCommandGroup: "fileJump"
}, {
name: "selectdown",
bindKey: i("Shift-Down", "Shift-Down"),
exec: function(e) {
e.getSelection().selectDown();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "golinedown",
bindKey: i("Down", "Down|Ctrl-N"),
exec: function(e, t) {
e.navigateDown(t.times);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectwordleft",
bindKey: i("Ctrl-Shift-Left", "Option-Shift-Left"),
exec: function(e) {
e.getSelection().selectWordLeft();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotowordleft",
bindKey: i("Ctrl-Left", "Option-Left"),
exec: function(e) {
e.navigateWordLeft();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selecttolinestart",
bindKey: i("Alt-Shift-Left", "Command-Shift-Left"),
exec: function(e) {
e.getSelection().selectLineStart();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotolinestart",
bindKey: i("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
exec: function(e) {
e.navigateLineStart();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectleft",
bindKey: i("Shift-Left", "Shift-Left"),
exec: function(e) {
e.getSelection().selectLeft();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotoleft",
bindKey: i("Left", "Left|Ctrl-B"),
exec: function(e, t) {
e.navigateLeft(t.times);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectwordright",
bindKey: i("Ctrl-Shift-Right", "Option-Shift-Right"),
exec: function(e) {
e.getSelection().selectWordRight();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotowordright",
bindKey: i("Ctrl-Right", "Option-Right"),
exec: function(e) {
e.navigateWordRight();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selecttolineend",
bindKey: i("Alt-Shift-Right", "Command-Shift-Right"),
exec: function(e) {
e.getSelection().selectLineEnd();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotolineend",
bindKey: i("Alt-Right|End", "Command-Right|End|Ctrl-E"),
exec: function(e) {
e.navigateLineEnd();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectright",
bindKey: i("Shift-Right", "Shift-Right"),
exec: function(e) {
e.getSelection().selectRight();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "gotoright",
bindKey: i("Right", "Right|Ctrl-F"),
exec: function(e, t) {
e.navigateRight(t.times);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectpagedown",
bindKey: "Shift-PageDown",
exec: function(e) {
e.selectPageDown();
},
readOnly: !0
}, {
name: "pagedown",
bindKey: i(null, "Option-PageDown"),
exec: function(e) {
e.scrollPageDown();
},
readOnly: !0
}, {
name: "gotopagedown",
bindKey: i("PageDown", "PageDown|Ctrl-V"),
exec: function(e) {
e.gotoPageDown();
},
readOnly: !0
}, {
name: "selectpageup",
bindKey: "Shift-PageUp",
exec: function(e) {
e.selectPageUp();
},
readOnly: !0
}, {
name: "pageup",
bindKey: i(null, "Option-PageUp"),
exec: function(e) {
e.scrollPageUp();
},
readOnly: !0
}, {
name: "gotopageup",
bindKey: "PageUp",
exec: function(e) {
e.gotoPageUp();
},
readOnly: !0
}, {
name: "scrollup",
bindKey: i("Ctrl-Up", null),
exec: function(e) {
e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight);
},
readOnly: !0
}, {
name: "scrolldown",
bindKey: i("Ctrl-Down", null),
exec: function(e) {
e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight);
},
readOnly: !0
}, {
name: "selectlinestart",
bindKey: "Shift-Home",
exec: function(e) {
e.getSelection().selectLineStart();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectlineend",
bindKey: "Shift-End",
exec: function(e) {
e.getSelection().selectLineEnd();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "togglerecording",
bindKey: i("Ctrl-Alt-E", "Command-Option-E"),
exec: function(e) {
e.commands.toggleRecording(e);
},
readOnly: !0
}, {
name: "replaymacro",
bindKey: i("Ctrl-Shift-E", "Command-Shift-E"),
exec: function(e) {
e.commands.replay(e);
},
readOnly: !0
}, {
name: "jumptomatching",
bindKey: i("Ctrl-P", "Ctrl-P"),
exec: function(e) {
e.jumpToMatching();
},
multiSelectAction: "forEach",
scrollIntoView: "animate",
readOnly: !0
}, {
name: "selecttomatching",
bindKey: i("Ctrl-Shift-P", "Ctrl-Shift-P"),
exec: function(e) {
e.jumpToMatching(!0);
},
multiSelectAction: "forEach",
scrollIntoView: "animate",
readOnly: !0
}, {
name: "expandToMatching",
bindKey: i("Ctrl-Shift-M", "Ctrl-Shift-M"),
exec: function(e) {
e.jumpToMatching(!0, !0);
},
multiSelectAction: "forEach",
scrollIntoView: "animate",
readOnly: !0
}, {
name: "passKeysToBrowser",
bindKey: i(null, null),
exec: function() {},
passEvent: !0,
readOnly: !0
}, {
name: "copy",
exec: function(e) {},
readOnly: !0
}, {
name: "cut",
exec: function(e) {
var t = e.getSelectionRange();
e._emit("cut", t), e.selection.isEmpty() || (e.session.remove(t), e.clearSelection());
},
scrollIntoView: "cursor",
multiSelectAction: "forEach"
}, {
name: "paste",
exec: function(e, t) {
e.$handlePaste(t);
},
scrollIntoView: "cursor"
}, {
name: "removeline",
bindKey: i("Ctrl-D", "Command-D"),
exec: function(e) {
e.removeLines();
},
scrollIntoView: "cursor",
multiSelectAction: "forEachLine"
}, {
name: "duplicateSelection",
bindKey: i("Ctrl-Shift-D", "Command-Shift-D"),
exec: function(e) {
e.duplicateSelection();
},
scrollIntoView: "cursor",
multiSelectAction: "forEach"
}, {
name: "sortlines",
bindKey: i("Ctrl-Alt-S", "Command-Alt-S"),
exec: function(e) {
e.sortLines();
},
scrollIntoView: "selection",
multiSelectAction: "forEachLine"
}, {
name: "togglecomment",
bindKey: i("Ctrl-/", "Command-/"),
exec: function(e) {
e.toggleCommentLines();
},
multiSelectAction: "forEachLine",
scrollIntoView: "selectionPart"
}, {
name: "toggleBlockComment",
bindKey: i("Ctrl-Shift-/", "Command-Shift-/"),
exec: function(e) {
e.toggleBlockComment();
},
multiSelectAction: "forEach",
scrollIntoView: "selectionPart"
}, {
name: "modifyNumberUp",
bindKey: i("Ctrl-Shift-Up", "Alt-Shift-Up"),
exec: function(e) {
e.modifyNumber(1);
},
scrollIntoView: "cursor",
multiSelectAction: "forEach"
}, {
name: "modifyNumberDown",
bindKey: i("Ctrl-Shift-Down", "Alt-Shift-Down"),
exec: function(e) {
e.modifyNumber(-1);
},
scrollIntoView: "cursor",
multiSelectAction: "forEach"
}, {
name: "replace",
bindKey: i("Ctrl-H", "Command-Option-F"),
exec: function(e) {
o.loadModule("ace/ext/searchbox", function(t) {
t.Search(e, !0);
});
}
}, {
name: "undo",
bindKey: i("Ctrl-Z", "Command-Z"),
exec: function(e) {
e.undo();
}
}, {
name: "redo",
bindKey: i("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
exec: function(e) {
e.redo();
}
}, {
name: "copylinesup",
bindKey: i("Alt-Shift-Up", "Command-Option-Up"),
exec: function(e) {
e.copyLinesUp();
},
scrollIntoView: "cursor"
}, {
name: "movelinesup",
bindKey: i("Alt-Up", "Option-Up"),
exec: function(e) {
e.moveLinesUp();
},
scrollIntoView: "cursor"
}, {
name: "copylinesdown",
bindKey: i("Alt-Shift-Down", "Command-Option-Down"),
exec: function(e) {
e.copyLinesDown();
},
scrollIntoView: "cursor"
}, {
name: "movelinesdown",
bindKey: i("Alt-Down", "Option-Down"),
exec: function(e) {
e.moveLinesDown();
},
scrollIntoView: "cursor"
}, {
name: "del",
bindKey: i("Delete", "Delete|Ctrl-D|Shift-Delete"),
exec: function(e) {
e.remove("right");
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "backspace",
bindKey: i("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
exec: function(e) {
e.remove("left");
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "cut_or_delete",
bindKey: i("Shift-Delete", null),
exec: function(e) {
if (!e.selection.isEmpty()) return !1;
e.remove("left");
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removetolinestart",
bindKey: i("Alt-Backspace", "Command-Backspace"),
exec: function(e) {
e.removeToLineStart();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removetolineend",
bindKey: i("Alt-Delete", "Ctrl-K"),
exec: function(e) {
e.removeToLineEnd();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removewordleft",
bindKey: i("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
exec: function(e) {
e.removeWordLeft();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "removewordright",
bindKey: i("Ctrl-Delete", "Alt-Delete"),
exec: function(e) {
e.removeWordRight();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "outdent",
bindKey: i("Shift-Tab", "Shift-Tab"),
exec: function(e) {
e.blockOutdent();
},
multiSelectAction: "forEach",
scrollIntoView: "selectionPart"
}, {
name: "indent",
bindKey: i("Tab", "Tab"),
exec: function(e) {
e.indent();
},
multiSelectAction: "forEach",
scrollIntoView: "selectionPart"
}, {
name: "blockoutdent",
bindKey: i("Ctrl-[", "Ctrl-["),
exec: function(e) {
e.blockOutdent();
},
multiSelectAction: "forEachLine",
scrollIntoView: "selectionPart"
}, {
name: "blockindent",
bindKey: i("Ctrl-]", "Ctrl-]"),
exec: function(e) {
e.blockIndent();
},
multiSelectAction: "forEachLine",
scrollIntoView: "selectionPart"
}, {
name: "insertstring",
exec: function(e, t) {
e.insert(t);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "inserttext",
exec: function(e, t) {
e.insert(r.stringRepeat(t.text || "", t.times || 1));
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "splitline",
bindKey: i(null, "Ctrl-O"),
exec: function(e) {
e.splitLine();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "transposeletters",
bindKey: i("Ctrl-T", "Ctrl-T"),
exec: function(e) {
e.transposeLetters();
},
multiSelectAction: function(e) {
e.transposeSelections(1);
},
scrollIntoView: "cursor"
}, {
name: "touppercase",
bindKey: i("Ctrl-U", "Ctrl-U"),
exec: function(e) {
e.toUpperCase();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "tolowercase",
bindKey: i("Ctrl-Shift-U", "Ctrl-Shift-U"),
exec: function(e) {
e.toLowerCase();
},
multiSelectAction: "forEach",
scrollIntoView: "cursor"
}, {
name: "expandtoline",
bindKey: i("Ctrl-Shift-L", "Command-Shift-L"),
exec: function(e) {
var t = e.selection.getRange();
t.start.column = t.end.column = 0, t.end.row++, e.selection.setRange(t, !1);
},
multiSelectAction: "forEach",
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "joinlines",
bindKey: i(null, null),
exec: function(e) {
for (var t = e.selection.isBackwards(), n = t ? e.selection.getSelectionLead() : e.selection.getSelectionAnchor(), i = t ? e.selection.getSelectionAnchor() : e.selection.getSelectionLead(), o = e.session.doc.getLine(n.row).length, s = e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/, " ").length, l = e.session.doc.getLine(n.row), c = n.row + 1; c <= i.row + 1; c++) {
var u = r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));
0 !== u.length && (u = " " + u), l += u;
}
i.row + 1 < e.session.doc.getLength() - 1 && (l += e.session.doc.getNewLineCharacter()), e.clearSelection(), e.session.doc.replace(new a(n.row, 0, i.row + 2, 0), l), s > 0 ? (e.selection.moveCursorTo(n.row, n.column), e.selection.selectTo(n.row, n.column + s)) : (o = e.session.doc.getLine(n.row).length > o ? o + 1 : o, e.selection.moveCursorTo(n.row, o));
},
multiSelectAction: "forEach",
readOnly: !0
}, {
name: "invertSelection",
bindKey: i(null, null),
exec: function(e) {
var t = e.session.doc.getLength() - 1, n = e.session.doc.getLine(t).length, i = e.selection.rangeList.ranges, r = [];
i.length < 1 && (i = [ e.selection.getRange() ]);
for (o = 0; o < i.length; o++) o == i.length - 1 && (i[o].end.row !== t || i[o].end.column !== n) && r.push(new a(i[o].end.row, i[o].end.column, t, n)), 0 === o ? (0 !== i[o].start.row || 0 !== i[o].start.column) && r.push(new a(0, 0, i[o].start.row, i[o].start.column)) : r.push(new a(i[o - 1].end.row, i[o - 1].end.column, i[o].start.row, i[o].start.column));
e.exitMultiSelectMode(), e.clearSelection();
for (var o = 0; o < r.length; o++) e.selection.addRange(r[o], !1);
},
readOnly: !0,
scrollIntoView: "none"
} ];
}), ace.define("ace/editor", [ "require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator" ], function(e, t, n) {
"use strict";
e("./lib/fixoldbrowsers");
var i = e("./lib/oop"), r = e("./lib/dom"), o = e("./lib/lang"), a = e("./lib/useragent"), s = e("./keyboard/textinput").TextInput, l = e("./mouse/mouse_handler").MouseHandler, c = e("./mouse/fold_handler").FoldHandler, u = e("./keyboard/keybinding").KeyBinding, d = e("./edit_session").EditSession, h = e("./search").Search, p = e("./range").Range, f = e("./lib/event_emitter").EventEmitter, g = e("./commands/command_manager").CommandManager, m = e("./commands/default_commands").commands, v = e("./config"), y = e("./token_iterator").TokenIterator, b = function(e, t) {
var n = e.getContainerElement();
this.container = n, this.renderer = e, this.commands = new g(a.isMac ? "mac" : "win", m), this.textInput = new s(e.getTextAreaContainer(), this), this.renderer.textarea = this.textInput.getElement(), this.keyBinding = new u(this), this.$mouseHandler = new l(this), new c(this), this.$blockScrolling = 0, this.$search = new h().set({
wrap: !0
}), this.$historyTracker = this.$historyTracker.bind(this), this.commands.on("exec", this.$historyTracker), this.$initOperationListeners(), this._$emitInputEvent = o.delayedCall(function() {
this._signal("input", {}), this.session && this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart();
}.bind(this)), this.on("change", function(e, t) {
t._$emitInputEvent.schedule(31);
}), this.setSession(t || new d("")), v.resetOptions(this), v._signal("editor", this);
};
(function() {
i.implement(this, f), this.$initOperationListeners = function() {
this.selections = [], this.commands.on("exec", this.startOperation.bind(this), !0), this.commands.on("afterExec", this.endOperation.bind(this), !0), this.$opResetTimer = o.delayedCall(this.endOperation.bind(this)), this.on("change", function() {
this.curOp || this.startOperation(), this.curOp.docChanged = !0;
}.bind(this), !0), this.on("changeSelection", function() {
this.curOp || this.startOperation(), this.curOp.selectionChanged = !0;
}.bind(this), !0);
}, this.curOp = null, this.prevOp = {}, this.startOperation = function(e) {
if (this.curOp) {
if (!e || this.curOp.command) return;
this.prevOp = this.curOp;
}
e || (this.previousCommand = null, e = {}), this.$opResetTimer.schedule(), this.curOp = {
command: e.command || {},
args: e.args,
scrollTop: this.renderer.scrollTop
}, this.curOp.command.name && void 0 !== this.curOp.command.scrollIntoView && this.$blockScrolling++;
}, this.endOperation = function(e) {
if (this.curOp) {
if (e && !1 === e.returnValue) return this.curOp = null;
this._signal("beforeEndOperation");
var t = this.curOp.command;
t.name && this.$blockScrolling > 0 && this.$blockScrolling--;
var n = t && t.scrollIntoView;
if (n) {
switch (n) {
case "center-animate":
n = "animate";

case "center":
this.renderer.scrollCursorIntoView(null, .5);
break;

case "animate":
case "cursor":
this.renderer.scrollCursorIntoView();
break;

case "selectionPart":
var i = this.selection.getRange(), r = this.renderer.layerConfig;
(i.start.row >= r.lastRow || i.end.row <= r.firstRow) && this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);
}
"animate" == n && this.renderer.animateScrolling(this.curOp.scrollTop);
}
this.prevOp = this.curOp, this.curOp = null;
}
}, this.$mergeableCommands = [ "backspace", "del", "insertstring" ], this.$historyTracker = function(e) {
if (this.$mergeUndoDeltas) {
var t = this.prevOp, n = this.$mergeableCommands, i = t.command && e.command.name == t.command.name;
if ("insertstring" == e.command.name) {
var r = e.args;
void 0 === this.mergeNextCommand && (this.mergeNextCommand = !0), i = i && this.mergeNextCommand && (!/\s/.test(r) || /\s/.test(t.args)), this.mergeNextCommand = !0;
} else i = i && -1 !== n.indexOf(e.command.name);
"always" != this.$mergeUndoDeltas && Date.now() - this.sequenceStartTime > 2e3 && (i = !1), i ? this.session.mergeUndoDeltas = !0 : -1 !== n.indexOf(e.command.name) && (this.sequenceStartTime = Date.now());
}
}, this.setKeyboardHandler = function(e, t) {
if (e && "string" == typeof e) {
this.$keybindingId = e;
var n = this;
v.loadModule([ "keybinding", e ], function(i) {
n.$keybindingId == e && n.keyBinding.setKeyboardHandler(i && i.handler), t && t();
});
} else this.$keybindingId = null, this.keyBinding.setKeyboardHandler(e), t && t();
}, this.getKeyboardHandler = function() {
return this.keyBinding.getKeyboardHandler();
}, this.setSession = function(e) {
if (this.session != e) {
this.curOp && this.endOperation(), this.curOp = {};
var t = this.session;
if (t) {
this.session.removeEventListener("change", this.$onDocumentChange), this.session.removeEventListener("changeMode", this.$onChangeMode), this.session.removeEventListener("tokenizerUpdate", this.$onTokenizerUpdate), this.session.removeEventListener("changeTabSize", this.$onChangeTabSize), this.session.removeEventListener("changeWrapLimit", this.$onChangeWrapLimit), this.session.removeEventListener("changeWrapMode", this.$onChangeWrapMode), this.session.removeEventListener("onChangeFold", this.$onChangeFold), this.session.removeEventListener("changeFrontMarker", this.$onChangeFrontMarker), this.session.removeEventListener("changeBackMarker", this.$onChangeBackMarker), this.session.removeEventListener("changeBreakpoint", this.$onChangeBreakpoint), this.session.removeEventListener("changeAnnotation", this.$onChangeAnnotation), this.session.removeEventListener("changeOverwrite", this.$onCursorChange), this.session.removeEventListener("changeScrollTop", this.$onScrollTopChange), this.session.removeEventListener("changeScrollLeft", this.$onScrollLeftChange);
var n = this.session.getSelection();
n.removeEventListener("changeCursor", this.$onCursorChange), n.removeEventListener("changeSelection", this.$onSelectionChange);
}
this.session = e, e ? (this.$onDocumentChange = this.onDocumentChange.bind(this), e.addEventListener("change", this.$onDocumentChange), this.renderer.setSession(e), this.$onChangeMode = this.onChangeMode.bind(this), e.addEventListener("changeMode", this.$onChangeMode), this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this), e.addEventListener("tokenizerUpdate", this.$onTokenizerUpdate), this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer), e.addEventListener("changeTabSize", this.$onChangeTabSize), this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this), e.addEventListener("changeWrapLimit", this.$onChangeWrapLimit), this.$onChangeWrapMode = this.onChangeWrapMode.bind(this), e.addEventListener("changeWrapMode", this.$onChangeWrapMode), this.$onChangeFold = this.onChangeFold.bind(this), e.addEventListener("changeFold", this.$onChangeFold), this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this), this.session.addEventListener("changeFrontMarker", this.$onChangeFrontMarker), 
this.$onChangeBackMarker = this.onChangeBackMarker.bind(this), this.session.addEventListener("changeBackMarker", this.$onChangeBackMarker), this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this), this.session.addEventListener("changeBreakpoint", this.$onChangeBreakpoint), this.$onChangeAnnotation = this.onChangeAnnotation.bind(this), this.session.addEventListener("changeAnnotation", this.$onChangeAnnotation), this.$onCursorChange = this.onCursorChange.bind(this), this.session.addEventListener("changeOverwrite", this.$onCursorChange), this.$onScrollTopChange = this.onScrollTopChange.bind(this), this.session.addEventListener("changeScrollTop", this.$onScrollTopChange), this.$onScrollLeftChange = this.onScrollLeftChange.bind(this), this.session.addEventListener("changeScrollLeft", this.$onScrollLeftChange), this.selection = e.getSelection(), this.selection.addEventListener("changeCursor", this.$onCursorChange), this.$onSelectionChange = this.onSelectionChange.bind(this), this.selection.addEventListener("changeSelection", this.$onSelectionChange), 
this.onChangeMode(), this.$blockScrolling += 1, this.onCursorChange(), this.$blockScrolling -= 1, this.onScrollTopChange(), this.onScrollLeftChange(), this.onSelectionChange(), this.onChangeFrontMarker(), this.onChangeBackMarker(), this.onChangeBreakpoint(), this.onChangeAnnotation(), this.session.getUseWrapMode() && this.renderer.adjustWrapLimit(), this.renderer.updateFull()) : (this.selection = null, this.renderer.setSession(e)), this._signal("changeSession", {
session: e,
oldSession: t
}), this.curOp = null, t && t._signal("changeEditor", {
oldEditor: this
}), e && e._signal("changeEditor", {
editor: this
});
}
}, this.getSession = function() {
return this.session;
}, this.setValue = function(e, t) {
return this.session.doc.setValue(e), t ? 1 == t ? this.navigateFileEnd() : -1 == t && this.navigateFileStart() : this.selectAll(), e;
}, this.getValue = function() {
return this.session.getValue();
}, this.getSelection = function() {
return this.selection;
}, this.resize = function(e) {
this.renderer.onResize(e);
}, this.setTheme = function(e, t) {
this.renderer.setTheme(e, t);
}, this.getTheme = function() {
return this.renderer.getTheme();
}, this.setStyle = function(e) {
this.renderer.setStyle(e);
}, this.unsetStyle = function(e) {
this.renderer.unsetStyle(e);
}, this.getFontSize = function() {
return this.getOption("fontSize") || r.computedStyle(this.container, "fontSize");
}, this.setFontSize = function(e) {
this.setOption("fontSize", e);
}, this.$highlightBrackets = function() {
if (this.session.$bracketHighlight && (this.session.removeMarker(this.session.$bracketHighlight), this.session.$bracketHighlight = null), !this.$highlightPending) {
var e = this;
this.$highlightPending = !0, setTimeout(function() {
e.$highlightPending = !1;
var t = e.session;
if (t && t.bgTokenizer) {
var n = t.findMatchingBracket(e.getCursorPosition());
if (n) i = new p(n.row, n.column, n.row, n.column + 1); else if (t.$mode.getMatching) var i = t.$mode.getMatching(e.session);
i && (t.$bracketHighlight = t.addMarker(i, "ace_bracket", "text"));
}
}, 50);
}
}, this.$highlightTags = function() {
if (!this.$highlightTagPending) {
var e = this;
this.$highlightTagPending = !0, setTimeout(function() {
e.$highlightTagPending = !1;
var t = e.session;
if (t && t.bgTokenizer) {
var n = e.getCursorPosition(), i = new y(e.session, n.row, n.column), r = i.getCurrentToken();
if (!r || !/\b(?:tag-open|tag-name)/.test(r.type)) return t.removeMarker(t.$tagHighlight), void (t.$tagHighlight = null);
if (-1 == r.type.indexOf("tag-open") || (r = i.stepForward())) {
var o = r.value, a = 0, s = i.stepBackward();
if ("<" == s.value) do {
s = r, (r = i.stepForward()) && r.value === o && -1 !== r.type.indexOf("tag-name") && ("<" === s.value ? a++ : "</" === s.value && a--);
} while (r && a >= 0); else {
do {
r = s, s = i.stepBackward(), r && r.value === o && -1 !== r.type.indexOf("tag-name") && ("<" === s.value ? a++ : "</" === s.value && a--);
} while (s && a <= 0);
i.stepForward();
}
if (!r) return t.removeMarker(t.$tagHighlight), void (t.$tagHighlight = null);
var l = i.getCurrentTokenRow(), c = i.getCurrentTokenColumn(), u = new p(l, c, l, c + r.value.length);
t.$tagHighlight && 0 !== u.compareRange(t.$backMarkers[t.$tagHighlight].range) && (t.removeMarker(t.$tagHighlight), t.$tagHighlight = null), u && !t.$tagHighlight && (t.$tagHighlight = t.addMarker(u, "ace_bracket", "text"));
}
}
}, 50);
}
}, this.focus = function() {
var e = this;
setTimeout(function() {
e.textInput.focus();
}), this.textInput.focus();
}, this.isFocused = function() {
return this.textInput.isFocused();
}, this.blur = function() {
this.textInput.blur();
}, this.onFocus = function(e) {
this.$isFocused || (this.$isFocused = !0, this.renderer.showCursor(), this.renderer.visualizeFocus(), this._emit("focus", e));
}, this.onBlur = function(e) {
this.$isFocused && (this.$isFocused = !1, this.renderer.hideCursor(), this.renderer.visualizeBlur(), this._emit("blur", e));
}, this.$cursorChange = function() {
this.renderer.updateCursor();
}, this.onDocumentChange = function(e) {
var t = this.session.$useWrapMode, n = e.start.row == e.end.row ? e.end.row : 1 / 0;
this.renderer.updateLines(e.start.row, n, t), this._signal("change", e), this.$cursorChange(), this.$updateHighlightActiveLine();
}, this.onTokenizerUpdate = function(e) {
var t = e.data;
this.renderer.updateLines(t.first, t.last);
}, this.onScrollTopChange = function() {
this.renderer.scrollToY(this.session.getScrollTop());
}, this.onScrollLeftChange = function() {
this.renderer.scrollToX(this.session.getScrollLeft());
}, this.onCursorChange = function() {
this.$cursorChange(), this.$blockScrolling || (v.warn("Automatically scrolling cursor into view after selection change", "this will be disabled in the next version", "set editor.$blockScrolling = Infinity to disable this message"), this.renderer.scrollCursorIntoView()), this.$highlightBrackets(), this.$highlightTags(), this.$updateHighlightActiveLine(), this._signal("changeSelection");
}, this.$updateHighlightActiveLine = function() {
var e, t = this.getSession();
if (this.$highlightActiveLine && ("line" == this.$selectionStyle && this.selection.isMultiLine() || (e = this.getCursorPosition()), this.renderer.$maxLines && 1 === this.session.getLength() && !(this.renderer.$minLines > 1) && (e = !1)), t.$highlightLineMarker && !e) t.removeMarker(t.$highlightLineMarker.id), t.$highlightLineMarker = null; else if (!t.$highlightLineMarker && e) {
var n = new p(e.row, e.column, e.row, 1 / 0);
n.id = t.addMarker(n, "ace_active-line", "screenLine"), t.$highlightLineMarker = n;
} else e && (t.$highlightLineMarker.start.row = e.row, t.$highlightLineMarker.end.row = e.row, t.$highlightLineMarker.start.column = e.column, t._signal("changeBackMarker"));
}, this.onSelectionChange = function(e) {
var t = this.session;
if (t.$selectionMarker && t.removeMarker(t.$selectionMarker), t.$selectionMarker = null, this.selection.isEmpty()) this.$updateHighlightActiveLine(); else {
var n = this.selection.getRange(), i = this.getSelectionStyle();
t.$selectionMarker = t.addMarker(n, "ace_selection", i);
}
var r = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
this.session.highlight(r), this._signal("changeSelection");
}, this.$getSelectionHighLightRegexp = function() {
var e = this.session, t = this.getSelectionRange();
if (!t.isEmpty() && !t.isMultiLine()) {
var n = t.start.column - 1, i = t.end.column + 1, r = e.getLine(t.start.row), o = r.length, a = r.substring(Math.max(n, 0), Math.min(i, o));
if (!(n >= 0 && /^[\w\d]/.test(a) || i <= o && /[\w\d]$/.test(a)) && (a = r.substring(t.start.column, t.end.column), /^[\w\d]+$/.test(a))) return this.$search.$assembleRegExp({
wholeWord: !0,
caseSensitive: !0,
needle: a
});
}
}, this.onChangeFrontMarker = function() {
this.renderer.updateFrontMarkers();
}, this.onChangeBackMarker = function() {
this.renderer.updateBackMarkers();
}, this.onChangeBreakpoint = function() {
this.renderer.updateBreakpoints();
}, this.onChangeAnnotation = function() {
this.renderer.setAnnotations(this.session.getAnnotations());
}, this.onChangeMode = function(e) {
this.renderer.updateText(), this._emit("changeMode", e);
}, this.onChangeWrapLimit = function() {
this.renderer.updateFull();
}, this.onChangeWrapMode = function() {
this.renderer.onResize(!0);
}, this.onChangeFold = function() {
this.$updateHighlightActiveLine(), this.renderer.updateFull();
}, this.getSelectedText = function() {
return this.session.getTextRange(this.getSelectionRange());
}, this.getCopyText = function() {
var e = this.getSelectedText();
return this._signal("copy", e), e;
}, this.onCopy = function() {
this.commands.exec("copy", this);
}, this.onCut = function() {
this.commands.exec("cut", this);
}, this.onPaste = function(e, t) {
var n = {
text: e,
event: t
};
this.commands.exec("paste", this, n);
}, this.$handlePaste = function(e) {
"string" == typeof e && (e = {
text: e
}), this._signal("paste", e);
var t = e.text;
if (!this.inMultiSelectMode || this.inVirtualSelectionMode) this.insert(t); else {
var n = t.split(/\r\n|\r|\n/), i = this.selection.rangeList.ranges;
if (n.length > i.length || n.length < 2 || !n[1]) return this.commands.exec("insertstring", this, t);
for (var r = i.length; r--; ) {
var o = i[r];
o.isEmpty() || this.session.remove(o), this.session.insert(o.start, n[r]);
}
}
}, this.execCommand = function(e, t) {
return this.commands.exec(e, this, t);
}, this.insert = function(e, t) {
var n = this.session, i = n.getMode(), r = this.getCursorPosition();
if (this.getBehavioursEnabled() && !t) {
var o = i.transformAction(n.getState(r.row), "insertion", this, n, e);
o && (e !== o.text && (this.session.mergeUndoDeltas = !1, this.$mergeNextCommand = !1), e = o.text);
}
if ("\t" == e && (e = this.session.getTabString()), this.selection.isEmpty()) this.session.getOverwrite() && ((a = new p.fromPoints(r, r)).end.column += e.length, this.session.remove(a)); else {
var a = this.getSelectionRange();
r = this.session.remove(a), this.clearSelection();
}
if ("\n" == e || "\r\n" == e) {
u = n.getLine(r.row);
if (r.column > u.search(/\S|$/)) {
var s = u.substr(r.column).search(/\S|$/);
n.doc.removeInLine(r.row, r.column, r.column + s);
}
}
this.clearSelection();
var l = r.column, c = n.getState(r.row), u = n.getLine(r.row), d = i.checkOutdent(c, u, e);
n.insert(r, e);
if (o && o.selection && (2 == o.selection.length ? this.selection.setSelectionRange(new p(r.row, l + o.selection[0], r.row, l + o.selection[1])) : this.selection.setSelectionRange(new p(r.row + o.selection[0], o.selection[1], r.row + o.selection[2], o.selection[3]))), n.getDocument().isNewLine(e)) {
var h = i.getNextLineIndent(c, u.slice(0, r.column), n.getTabString());
n.insert({
row: r.row + 1,
column: 0
}, h);
}
d && i.autoOutdent(c, n, r.row);
}, this.onTextInput = function(e) {
this.keyBinding.onTextInput(e);
}, this.onCommandKey = function(e, t, n) {
this.keyBinding.onCommandKey(e, t, n);
}, this.setOverwrite = function(e) {
this.session.setOverwrite(e);
}, this.getOverwrite = function() {
return this.session.getOverwrite();
}, this.toggleOverwrite = function() {
this.session.toggleOverwrite();
}, this.setScrollSpeed = function(e) {
this.setOption("scrollSpeed", e);
}, this.getScrollSpeed = function() {
return this.getOption("scrollSpeed");
}, this.setDragDelay = function(e) {
this.setOption("dragDelay", e);
}, this.getDragDelay = function() {
return this.getOption("dragDelay");
}, this.setSelectionStyle = function(e) {
this.setOption("selectionStyle", e);
}, this.getSelectionStyle = function() {
return this.getOption("selectionStyle");
}, this.setHighlightActiveLine = function(e) {
this.setOption("highlightActiveLine", e);
}, this.getHighlightActiveLine = function() {
return this.getOption("highlightActiveLine");
}, this.setHighlightGutterLine = function(e) {
this.setOption("highlightGutterLine", e);
}, this.getHighlightGutterLine = function() {
return this.getOption("highlightGutterLine");
}, this.setHighlightSelectedWord = function(e) {
this.setOption("highlightSelectedWord", e);
}, this.getHighlightSelectedWord = function() {
return this.$highlightSelectedWord;
}, this.setAnimatedScroll = function(e) {
this.renderer.setAnimatedScroll(e);
}, this.getAnimatedScroll = function() {
return this.renderer.getAnimatedScroll();
}, this.setShowInvisibles = function(e) {
this.renderer.setShowInvisibles(e);
}, this.getShowInvisibles = function() {
return this.renderer.getShowInvisibles();
}, this.setDisplayIndentGuides = function(e) {
this.renderer.setDisplayIndentGuides(e);
}, this.getDisplayIndentGuides = function() {
return this.renderer.getDisplayIndentGuides();
}, this.setShowPrintMargin = function(e) {
this.renderer.setShowPrintMargin(e);
}, this.getShowPrintMargin = function() {
return this.renderer.getShowPrintMargin();
}, this.setPrintMarginColumn = function(e) {
this.renderer.setPrintMarginColumn(e);
}, this.getPrintMarginColumn = function() {
return this.renderer.getPrintMarginColumn();
}, this.setReadOnly = function(e) {
this.setOption("readOnly", e);
}, this.getReadOnly = function() {
return this.getOption("readOnly");
}, this.setBehavioursEnabled = function(e) {
this.setOption("behavioursEnabled", e);
}, this.getBehavioursEnabled = function() {
return this.getOption("behavioursEnabled");
}, this.setWrapBehavioursEnabled = function(e) {
this.setOption("wrapBehavioursEnabled", e);
}, this.getWrapBehavioursEnabled = function() {
return this.getOption("wrapBehavioursEnabled");
}, this.setShowFoldWidgets = function(e) {
this.setOption("showFoldWidgets", e);
}, this.getShowFoldWidgets = function() {
return this.getOption("showFoldWidgets");
}, this.setFadeFoldWidgets = function(e) {
this.setOption("fadeFoldWidgets", e);
}, this.getFadeFoldWidgets = function() {
return this.getOption("fadeFoldWidgets");
}, this.remove = function(e) {
this.selection.isEmpty() && ("left" == e ? this.selection.selectLeft() : this.selection.selectRight());
var t = this.getSelectionRange();
if (this.getBehavioursEnabled()) {
var n = this.session, i = n.getState(t.start.row), r = n.getMode().transformAction(i, "deletion", this, n, t);
if (0 === t.end.column) {
var o = n.getTextRange(t);
if ("\n" == o[o.length - 1]) {
var a = n.getLine(t.end.row);
/^\s+$/.test(a) && (t.end.column = a.length);
}
}
r && (t = r);
}
this.session.remove(t), this.clearSelection();
}, this.removeWordRight = function() {
this.selection.isEmpty() && this.selection.selectWordRight(), this.session.remove(this.getSelectionRange()), this.clearSelection();
}, this.removeWordLeft = function() {
this.selection.isEmpty() && this.selection.selectWordLeft(), this.session.remove(this.getSelectionRange()), this.clearSelection();
}, this.removeToLineStart = function() {
this.selection.isEmpty() && this.selection.selectLineStart(), this.session.remove(this.getSelectionRange()), this.clearSelection();
}, this.removeToLineEnd = function() {
this.selection.isEmpty() && this.selection.selectLineEnd();
var e = this.getSelectionRange();
e.start.column == e.end.column && e.start.row == e.end.row && (e.end.column = 0, e.end.row++), this.session.remove(e), this.clearSelection();
}, this.splitLine = function() {
this.selection.isEmpty() || (this.session.remove(this.getSelectionRange()), this.clearSelection());
var e = this.getCursorPosition();
this.insert("\n"), this.moveCursorToPosition(e);
}, this.transposeLetters = function() {
if (this.selection.isEmpty()) {
var e = this.getCursorPosition(), t = e.column;
if (0 !== t) {
var n, i, r = this.session.getLine(e.row);
t < r.length ? (n = r.charAt(t) + r.charAt(t - 1), i = new p(e.row, t - 1, e.row, t + 1)) : (n = r.charAt(t - 1) + r.charAt(t - 2), i = new p(e.row, t - 2, e.row, t)), this.session.replace(i, n);
}
}
}, this.toLowerCase = function() {
var e = this.getSelectionRange();
this.selection.isEmpty() && this.selection.selectWord();
var t = this.getSelectionRange(), n = this.session.getTextRange(t);
this.session.replace(t, n.toLowerCase()), this.selection.setSelectionRange(e);
}, this.toUpperCase = function() {
var e = this.getSelectionRange();
this.selection.isEmpty() && this.selection.selectWord();
var t = this.getSelectionRange(), n = this.session.getTextRange(t);
this.session.replace(t, n.toUpperCase()), this.selection.setSelectionRange(e);
}, this.indent = function() {
var e = this.session, t = this.getSelectionRange();
{
if (!(t.start.row < t.end.row)) {
if (t.start.column < t.end.column) {
var n = e.getTextRange(t);
if (!/^\s+$/.test(n)) {
u = this.$getSelectedRows();
return void e.indentRows(u.first, u.last, "\t");
}
}
var i = e.getLine(t.start.row), r = t.start, a = e.getTabSize(), s = e.documentToScreenColumn(r.row, r.column);
if (this.session.getUseSoftTabs()) var l = a - s % a, c = o.stringRepeat(" ", l); else {
for (l = s % a; " " == i[t.start.column] && l; ) t.start.column--, l--;
this.selection.setSelectionRange(t), c = "\t";
}
return this.insert(c);
}
var u = this.$getSelectedRows();
e.indentRows(u.first, u.last, "\t");
}
}, this.blockIndent = function() {
var e = this.$getSelectedRows();
this.session.indentRows(e.first, e.last, "\t");
}, this.blockOutdent = function() {
var e = this.session.getSelection();
this.session.outdentRows(e.getRange());
}, this.sortLines = function() {
var e = this.$getSelectedRows(), t = this.session, n = [];
for (r = e.first; r <= e.last; r++) n.push(t.getLine(r));
n.sort(function(e, t) {
return e.toLowerCase() < t.toLowerCase() ? -1 : e.toLowerCase() > t.toLowerCase() ? 1 : 0;
});
for (var i = new p(0, 0, 0, 0), r = e.first; r <= e.last; r++) {
var o = t.getLine(r);
i.start.row = r, i.end.row = r, i.end.column = o.length, t.replace(i, n[r - e.first]);
}
}, this.toggleCommentLines = function() {
var e = this.session.getState(this.getCursorPosition().row), t = this.$getSelectedRows();
this.session.getMode().toggleCommentLines(e, this.session, t.first, t.last);
}, this.toggleBlockComment = function() {
var e = this.getCursorPosition(), t = this.session.getState(e.row), n = this.getSelectionRange();
this.session.getMode().toggleBlockComment(t, this.session, n, e);
}, this.getNumberAt = function(e, t) {
var n = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
n.lastIndex = 0;
for (var i = this.session.getLine(e); n.lastIndex < t; ) {
var r = n.exec(i);
if (r.index <= t && r.index + r[0].length >= t) return {
value: r[0],
start: r.index,
end: r.index + r[0].length
};
}
return null;
}, this.modifyNumber = function(e) {
var t = this.selection.getCursor().row, n = this.selection.getCursor().column, i = new p(t, n - 1, t, n), r = this.session.getTextRange(i);
if (!isNaN(parseFloat(r)) && isFinite(r)) {
var o = this.getNumberAt(t, n);
if (o) {
var a = o.value.indexOf(".") >= 0 ? o.start + o.value.indexOf(".") + 1 : o.end, s = o.start + o.value.length - a, l = parseFloat(o.value);
l *= Math.pow(10, s), a !== o.end && n < a ? e *= Math.pow(10, o.end - n - 1) : e *= Math.pow(10, o.end - n), l += e;
var c = (l /= Math.pow(10, s)).toFixed(s), u = new p(t, o.start, t, o.end);
this.session.replace(u, c), this.moveCursorTo(t, Math.max(o.start + 1, n + c.length - o.value.length));
}
}
}, this.removeLines = function() {
var e = this.$getSelectedRows();
this.session.removeFullLines(e.first, e.last), this.clearSelection();
}, this.duplicateSelection = function() {
var e = this.selection, t = this.session, n = e.getRange(), i = e.isBackwards();
if (n.isEmpty()) {
var r = n.start.row;
t.duplicateLines(r, r);
} else {
var o = i ? n.start : n.end, a = t.insert(o, t.getTextRange(n), !1);
n.start = o, n.end = a, e.setSelectionRange(n, i);
}
}, this.moveLinesDown = function() {
this.$moveLines(1, !1);
}, this.moveLinesUp = function() {
this.$moveLines(-1, !1);
}, this.moveText = function(e, t, n) {
return this.session.moveText(e, t, n);
}, this.copyLinesUp = function() {
this.$moveLines(-1, !0);
}, this.copyLinesDown = function() {
this.$moveLines(1, !0);
}, this.$moveLines = function(e, t) {
var n, i, r = this.selection;
if (!r.inMultiSelectMode || this.inVirtualSelectionMode) {
var o = r.toOrientedRange();
n = this.$getSelectedRows(o), i = this.session.$moveLines(n.first, n.last, t ? 0 : e), t && -1 == e && (i = 0), o.moveBy(i, 0), r.fromOrientedRange(o);
} else {
var a = r.rangeList.ranges;
r.rangeList.detach(this.session), this.inVirtualSelectionMode = !0;
for (var s = 0, l = 0, c = a.length, u = 0; u < c; u++) {
var d = u;
a[u].moveBy(s, 0);
for (var h = (n = this.$getSelectedRows(a[u])).first, p = n.last; ++u < c; ) {
l && a[u].moveBy(l, 0);
var f = this.$getSelectedRows(a[u]);
if (t && f.first != p) break;
if (!t && f.first > p + 1) break;
p = f.last;
}
for (u--, s = this.session.$moveLines(h, p, t ? 0 : e), t && -1 == e && (d = u + 1); d <= u; ) a[d].moveBy(s, 0), d++;
t || (s = 0), l += s;
}
r.fromOrientedRange(r.ranges[0]), r.rangeList.attach(this.session), this.inVirtualSelectionMode = !1;
}
}, this.$getSelectedRows = function(e) {
return e = (e || this.getSelectionRange()).collapseRows(), {
first: this.session.getRowFoldStart(e.start.row),
last: this.session.getRowFoldEnd(e.end.row)
};
}, this.onCompositionStart = function(e) {
this.renderer.showComposition(this.getCursorPosition());
}, this.onCompositionUpdate = function(e) {
this.renderer.setCompositionText(e);
}, this.onCompositionEnd = function() {
this.renderer.hideComposition();
}, this.getFirstVisibleRow = function() {
return this.renderer.getFirstVisibleRow();
}, this.getLastVisibleRow = function() {
return this.renderer.getLastVisibleRow();
}, this.isRowVisible = function(e) {
return e >= this.getFirstVisibleRow() && e <= this.getLastVisibleRow();
}, this.isRowFullyVisible = function(e) {
return e >= this.renderer.getFirstFullyVisibleRow() && e <= this.renderer.getLastFullyVisibleRow();
}, this.$getVisibleRowCount = function() {
return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;
}, this.$moveByPage = function(e, t) {
var n = this.renderer, i = this.renderer.layerConfig, r = e * Math.floor(i.height / i.lineHeight);
this.$blockScrolling++, !0 === t ? this.selection.$moveSelection(function() {
this.moveCursorBy(r, 0);
}) : !1 === t && (this.selection.moveCursorBy(r, 0), this.selection.clearSelection()), this.$blockScrolling--;
var o = n.scrollTop;
n.scrollBy(0, r * i.lineHeight), null != t && n.scrollCursorIntoView(null, .5), n.animateScrolling(o);
}, this.selectPageDown = function() {
this.$moveByPage(1, !0);
}, this.selectPageUp = function() {
this.$moveByPage(-1, !0);
}, this.gotoPageDown = function() {
this.$moveByPage(1, !1);
}, this.gotoPageUp = function() {
this.$moveByPage(-1, !1);
}, this.scrollPageDown = function() {
this.$moveByPage(1);
}, this.scrollPageUp = function() {
this.$moveByPage(-1);
}, this.scrollToRow = function(e) {
this.renderer.scrollToRow(e);
}, this.scrollToLine = function(e, t, n, i) {
this.renderer.scrollToLine(e, t, n, i);
}, this.centerSelection = function() {
var e = this.getSelectionRange(), t = {
row: Math.floor(e.start.row + (e.end.row - e.start.row) / 2),
column: Math.floor(e.start.column + (e.end.column - e.start.column) / 2)
};
this.renderer.alignCursor(t, .5);
}, this.getCursorPosition = function() {
return this.selection.getCursor();
}, this.getCursorPositionScreen = function() {
return this.session.documentToScreenPosition(this.getCursorPosition());
}, this.getSelectionRange = function() {
return this.selection.getRange();
}, this.selectAll = function() {
this.$blockScrolling += 1, this.selection.selectAll(), this.$blockScrolling -= 1;
}, this.clearSelection = function() {
this.selection.clearSelection();
}, this.moveCursorTo = function(e, t) {
this.selection.moveCursorTo(e, t);
}, this.moveCursorToPosition = function(e) {
this.selection.moveCursorToPosition(e);
}, this.jumpToMatching = function(e, t) {
var n = this.getCursorPosition(), i = new y(this.session, n.row, n.column), r = i.getCurrentToken(), o = r || i.stepForward();
if (o) {
var a, s, l = !1, c = {}, u = n.column - o.start, d = {
")": "(",
"(": "(",
"]": "[",
"[": "[",
"{": "{",
"}": "{"
};
do {
if (o.value.match(/[{}()\[\]]/g)) {
for (;u < o.value.length && !l; u++) if (d[o.value[u]]) switch (s = d[o.value[u]] + "." + o.type.replace("rparen", "lparen"), isNaN(c[s]) && (c[s] = 0), o.value[u]) {
case "(":
case "[":
case "{":
c[s]++;
break;

case ")":
case "]":
case "}":
c[s]--, -1 === c[s] && (a = "bracket", l = !0);
}
} else o && -1 !== o.type.indexOf("tag-name") && (isNaN(c[o.value]) && (c[o.value] = 0), "<" === r.value ? c[o.value]++ : "</" === r.value && c[o.value]--, -1 === c[o.value] && (a = "tag", l = !0));
l || (r = o, o = i.stepForward(), u = 0);
} while (o && !l);
if (a) {
var h, f;
if ("bracket" === a) (h = this.session.getBracketRange(n)) || (f = (h = new p(i.getCurrentTokenRow(), i.getCurrentTokenColumn() + u - 1, i.getCurrentTokenRow(), i.getCurrentTokenColumn() + u - 1)).start, (t || f.row === n.row && Math.abs(f.column - n.column) < 2) && (h = this.session.getBracketRange(f))); else if ("tag" === a) {
if (!o || -1 === o.type.indexOf("tag-name")) return;
var g = o.value;
if (0 === (h = new p(i.getCurrentTokenRow(), i.getCurrentTokenColumn() - 2, i.getCurrentTokenRow(), i.getCurrentTokenColumn() - 2)).compare(n.row, n.column)) {
l = !1;
do {
o = r, (r = i.stepBackward()) && (-1 !== r.type.indexOf("tag-close") && h.setEnd(i.getCurrentTokenRow(), i.getCurrentTokenColumn() + 1), o.value === g && -1 !== o.type.indexOf("tag-name") && ("<" === r.value ? c[g]++ : "</" === r.value && c[g]--, 0 === c[g] && (l = !0)));
} while (r && !l);
}
o && o.type.indexOf("tag-name") && (f = h.start).row == n.row && Math.abs(f.column - n.column) < 2 && (f = h.end);
}
(f = h && h.cursor || f) && (e ? h && t ? this.selection.setRange(h) : h && h.isEqual(this.getSelectionRange()) ? this.clearSelection() : this.selection.selectTo(f.row, f.column) : this.selection.moveTo(f.row, f.column));
}
}
}, this.gotoLine = function(e, t, n) {
this.selection.clearSelection(), this.session.unfold({
row: e - 1,
column: t || 0
}), this.$blockScrolling += 1, this.exitMultiSelectMode && this.exitMultiSelectMode(), this.moveCursorTo(e - 1, t || 0), this.$blockScrolling -= 1, this.isRowFullyVisible(e - 1) || this.scrollToLine(e - 1, !0, n);
}, this.navigateTo = function(e, t) {
this.selection.moveTo(e, t);
}, this.navigateUp = function(e) {
if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
var t = this.selection.anchor.getPosition();
return this.moveCursorToPosition(t);
}
this.selection.clearSelection(), this.selection.moveCursorBy(-e || -1, 0);
}, this.navigateDown = function(e) {
if (this.selection.isMultiLine() && this.selection.isBackwards()) {
var t = this.selection.anchor.getPosition();
return this.moveCursorToPosition(t);
}
this.selection.clearSelection(), this.selection.moveCursorBy(e || 1, 0);
}, this.navigateLeft = function(e) {
if (this.selection.isEmpty()) for (e = e || 1; e--; ) this.selection.moveCursorLeft(); else {
var t = this.getSelectionRange().start;
this.moveCursorToPosition(t);
}
this.clearSelection();
}, this.navigateRight = function(e) {
if (this.selection.isEmpty()) for (e = e || 1; e--; ) this.selection.moveCursorRight(); else {
var t = this.getSelectionRange().end;
this.moveCursorToPosition(t);
}
this.clearSelection();
}, this.navigateLineStart = function() {
this.selection.moveCursorLineStart(), this.clearSelection();
}, this.navigateLineEnd = function() {
this.selection.moveCursorLineEnd(), this.clearSelection();
}, this.navigateFileEnd = function() {
this.selection.moveCursorFileEnd(), this.clearSelection();
}, this.navigateFileStart = function() {
this.selection.moveCursorFileStart(), this.clearSelection();
}, this.navigateWordRight = function() {
this.selection.moveCursorWordRight(), this.clearSelection();
}, this.navigateWordLeft = function() {
this.selection.moveCursorWordLeft(), this.clearSelection();
}, this.replace = function(e, t) {
t && this.$search.set(t);
var n = this.$search.find(this.session), i = 0;
return n ? (this.$tryReplace(n, e) && (i = 1), null !== n && (this.selection.setSelectionRange(n), this.renderer.scrollSelectionIntoView(n.start, n.end)), i) : i;
}, this.replaceAll = function(e, t) {
t && this.$search.set(t);
var n = this.$search.findAll(this.session), i = 0;
if (!n.length) return i;
this.$blockScrolling += 1;
var r = this.getSelectionRange();
this.selection.moveTo(0, 0);
for (var o = n.length - 1; o >= 0; --o) this.$tryReplace(n[o], e) && i++;
return this.selection.setSelectionRange(r), this.$blockScrolling -= 1, i;
}, this.$tryReplace = function(e, t) {
var n = this.session.getTextRange(e);
return null !== (t = this.$search.replace(n, t)) ? (e.end = this.session.replace(e, t), e) : null;
}, this.getLastSearchOptions = function() {
return this.$search.getOptions();
}, this.find = function(e, t, n) {
t || (t = {}), "string" == typeof e || e instanceof RegExp ? t.needle = e : "object" == typeof e && i.mixin(t, e);
var r = this.selection.getRange();
null == t.needle && ((e = this.session.getTextRange(r) || this.$search.$options.needle) || (r = this.session.getWordRange(r.start.row, r.start.column), e = this.session.getTextRange(r)), this.$search.set({
needle: e
})), this.$search.set(t), t.start || this.$search.set({
start: r
});
var o = this.$search.find(this.session);
return t.preventScroll ? o : o ? (this.revealRange(o, n), o) : (t.backwards ? r.start = r.end : r.end = r.start, void this.selection.setRange(r));
}, this.findNext = function(e, t) {
this.find({
skipCurrent: !0,
backwards: !1
}, e, t);
}, this.findPrevious = function(e, t) {
this.find(e, {
skipCurrent: !0,
backwards: !0
}, t);
}, this.revealRange = function(e, t) {
this.$blockScrolling += 1, this.session.unfold(e), this.selection.setSelectionRange(e), this.$blockScrolling -= 1;
var n = this.renderer.scrollTop;
this.renderer.scrollSelectionIntoView(e.start, e.end, .5), !1 !== t && this.renderer.animateScrolling(n);
}, this.undo = function() {
this.$blockScrolling++, this.session.getUndoManager().undo(), this.$blockScrolling--, this.renderer.scrollCursorIntoView(null, .5);
}, this.redo = function() {
this.$blockScrolling++, this.session.getUndoManager().redo(), this.$blockScrolling--, this.renderer.scrollCursorIntoView(null, .5);
}, this.destroy = function() {
this.renderer.destroy(), this._signal("destroy", this), this.session && this.session.destroy();
}, this.setAutoScrollEditorIntoView = function(e) {
if (e) {
var t, n = this, i = !1;
this.$scrollAnchor || (this.$scrollAnchor = document.createElement("div"));
var r = this.$scrollAnchor;
r.style.cssText = "position:absolute", this.container.insertBefore(r, this.container.firstChild);
var o = this.on("changeSelection", function() {
i = !0;
}), a = this.renderer.on("beforeRender", function() {
i && (t = n.renderer.container.getBoundingClientRect());
}), s = this.renderer.on("afterRender", function() {
if (i && t && (n.isFocused() || n.searchBox && n.searchBox.isFocused())) {
var e = n.renderer, o = e.$cursorLayer.$pixelPos, a = e.layerConfig, s = o.top - a.offset;
null != (i = o.top >= 0 && s + t.top < 0 || !(o.top < a.height && o.top + t.top + a.lineHeight > window.innerHeight) && null) && (r.style.top = s + "px", r.style.left = o.left + "px", r.style.height = a.lineHeight + "px", r.scrollIntoView(i)), i = t = null;
}
});
this.setAutoScrollEditorIntoView = function(e) {
e || (delete this.setAutoScrollEditorIntoView, this.removeEventListener("changeSelection", o), this.renderer.removeEventListener("afterRender", s), this.renderer.removeEventListener("beforeRender", a));
};
}
}, this.$resetCursorStyle = function() {
var e = this.$cursorStyle || "ace", t = this.renderer.$cursorLayer;
t && (t.setSmoothBlinking(/smooth/.test(e)), t.isBlinking = !this.$readOnly && "wide" != e, r.setCssClass(t.element, "ace_slim-cursors", /slim/.test(e)));
};
}).call(b.prototype), v.defineOptions(b.prototype, "editor", {
selectionStyle: {
set: function(e) {
this.onSelectionChange(), this._signal("changeSelectionStyle", {
data: e
});
},
initialValue: "line"
},
highlightActiveLine: {
set: function() {
this.$updateHighlightActiveLine();
},
initialValue: !0
},
highlightSelectedWord: {
set: function(e) {
this.$onSelectionChange();
},
initialValue: !0
},
readOnly: {
set: function(e) {
this.$resetCursorStyle();
},
initialValue: !1
},
cursorStyle: {
set: function(e) {
this.$resetCursorStyle();
},
values: [ "ace", "slim", "smooth", "wide" ],
initialValue: "ace"
},
mergeUndoDeltas: {
values: [ !1, !0, "always" ],
initialValue: !0
},
behavioursEnabled: {
initialValue: !0
},
wrapBehavioursEnabled: {
initialValue: !0
},
autoScrollEditorIntoView: {
set: function(e) {
this.setAutoScrollEditorIntoView(e);
}
},
hScrollBarAlwaysVisible: "renderer",
vScrollBarAlwaysVisible: "renderer",
highlightGutterLine: "renderer",
animatedScroll: "renderer",
showInvisibles: "renderer",
showPrintMargin: "renderer",
printMarginColumn: "renderer",
printMargin: "renderer",
fadeFoldWidgets: "renderer",
showFoldWidgets: "renderer",
showLineNumbers: "renderer",
showGutter: "renderer",
displayIndentGuides: "renderer",
fontSize: "renderer",
fontFamily: "renderer",
maxLines: "renderer",
minLines: "renderer",
scrollPastEnd: "renderer",
fixedWidthGutter: "renderer",
theme: "renderer",
scrollSpeed: "$mouseHandler",
dragDelay: "$mouseHandler",
dragEnabled: "$mouseHandler",
focusTimout: "$mouseHandler",
tooltipFollowsMouse: "$mouseHandler",
firstLineNumber: "session",
overwrite: "session",
newLineMode: "session",
useWorker: "session",
useSoftTabs: "session",
tabSize: "session",
wrap: "session",
indentedSoftWrap: "session",
foldStyle: "session",
mode: "session"
}), t.Editor = b;
}), ace.define("ace/undomanager", [ "require", "exports", "module" ], function(e, t, n) {
"use strict";
var i = function() {
this.reset();
};
(function() {
function e(e) {
return {
action: e.action,
start: e.start,
end: e.end,
lines: 1 == e.lines.length ? null : e.lines,
text: 1 == e.lines.length ? e.lines[0] : null
};
}
function t(e) {
return {
action: e.action,
start: e.start,
end: e.end,
lines: e.lines || [ e.text ]
};
}
function n(e, t) {
for (var n = new Array(e.length), i = 0; i < e.length; i++) {
for (var r = e[i], o = {
group: r.group,
deltas: new Array(r.length)
}, a = 0; a < r.deltas.length; a++) {
var s = r.deltas[a];
o.deltas[a] = t(s);
}
n[i] = o;
}
return n;
}
this.execute = function(e) {
var t = e.args[0];
this.$doc = e.args[1], e.merge && this.hasUndo() && (this.dirtyCounter--, t = this.$undoStack.pop().concat(t)), this.$undoStack.push(t), this.$redoStack = [], this.dirtyCounter < 0 && (this.dirtyCounter = NaN), this.dirtyCounter++;
}, this.undo = function(e) {
var t = this.$undoStack.pop(), n = null;
return t && (n = this.$doc.undoChanges(t, e), this.$redoStack.push(t), this.dirtyCounter--), n;
}, this.redo = function(e) {
var t = this.$redoStack.pop(), n = null;
return t && (n = this.$doc.redoChanges(this.$deserializeDeltas(t), e), this.$undoStack.push(t), this.dirtyCounter++), n;
}, this.reset = function() {
this.$undoStack = [], this.$redoStack = [], this.dirtyCounter = 0;
}, this.hasUndo = function() {
return this.$undoStack.length > 0;
}, this.hasRedo = function() {
return this.$redoStack.length > 0;
}, this.markClean = function() {
this.dirtyCounter = 0;
}, this.isClean = function() {
return 0 === this.dirtyCounter;
}, this.$serializeDeltas = function(t) {
return n(t, e);
}, this.$deserializeDeltas = function(e) {
return n(e, t);
};
}).call(i.prototype), t.UndoManager = i;
}), ace.define("ace/layer/gutter", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("../lib/dom"), r = e("../lib/oop"), o = e("../lib/lang"), a = e("../lib/event_emitter").EventEmitter, s = function(e) {
this.element = i.createElement("div"), this.element.className = "ace_layer ace_gutter-layer", e.appendChild(this.element), this.setShowFoldWidgets(this.$showFoldWidgets), this.gutterWidth = 0, this.$annotations = [], this.$updateAnnotations = this.$updateAnnotations.bind(this), this.$cells = [];
};
(function() {
r.implement(this, a), this.setSession = function(e) {
this.session && this.session.removeEventListener("change", this.$updateAnnotations), this.session = e, e && e.on("change", this.$updateAnnotations);
}, this.addGutterDecoration = function(e, t) {
window.console && console.warn && console.warn("deprecated use session.addGutterDecoration"), this.session.addGutterDecoration(e, t);
}, this.removeGutterDecoration = function(e, t) {
window.console && console.warn && console.warn("deprecated use session.removeGutterDecoration"), this.session.removeGutterDecoration(e, t);
}, this.setAnnotations = function(e) {
this.$annotations = [];
for (var t = 0; t < e.length; t++) {
var n = e[t], i = n.row, r = this.$annotations[i];
r || (r = this.$annotations[i] = {
text: []
});
var a = n.text;
a = a ? o.escapeHTML(a) : n.html || "", -1 === r.text.indexOf(a) && r.text.push(a);
var s = n.type;
"error" == s ? r.className = " ace_error" : "warning" == s && " ace_error" != r.className ? r.className = " ace_warning" : "info" == s && !r.className && (r.className = " ace_info");
}
}, this.$updateAnnotations = function(e) {
if (this.$annotations.length) {
var t = e.start.row, n = e.end.row - t;
if (0 !== n) if ("remove" == e.action) this.$annotations.splice(t, n + 1, null); else {
var i = new Array(n + 1);
i.unshift(t, 1), this.$annotations.splice.apply(this.$annotations, i);
}
}
}, this.update = function(e) {
for (var t = this.session, n = e.firstRow, r = Math.min(e.lastRow + e.gutterOffset, t.getLength() - 1), o = t.getNextFoldLine(n), a = o ? o.start.row : 1 / 0, s = this.$showFoldWidgets && t.foldWidgets, l = t.$breakpoints, c = t.$decorations, u = t.$firstLineNumber, d = 0, h = t.gutterRenderer || this.$renderer, p = null, f = -1, g = n; ;) {
if (g > a && (g = o.end.row + 1, o = t.getNextFoldLine(g, o), a = o ? o.start.row : 1 / 0), g > r) {
for (;this.$cells.length > f + 1; ) p = this.$cells.pop(), this.element.removeChild(p.element);
break;
}
(p = this.$cells[++f]) || (p = {
element: null,
textNode: null,
foldWidget: null
}, p.element = i.createElement("div"), p.textNode = document.createTextNode(""), p.element.appendChild(p.textNode), this.element.appendChild(p.element), this.$cells[f] = p);
v = "ace_gutter-cell ";
if (l[g] && (v += l[g]), c[g] && (v += c[g]), this.$annotations[g] && (v += this.$annotations[g].className), p.element.className != v && (p.element.className = v), (y = t.getRowLength(g) * e.lineHeight + "px") != p.element.style.height && (p.element.style.height = y), s) {
var m = s[g];
null == m && (m = s[g] = t.getFoldWidget(g));
}
if (m) {
p.foldWidget || (p.foldWidget = i.createElement("span"), p.element.appendChild(p.foldWidget));
var v = "ace_fold-widget ace_" + m;
"start" == m && g == a && g < o.end.row ? v += " ace_closed" : v += " ace_open", p.foldWidget.className != v && (p.foldWidget.className = v);
var y = e.lineHeight + "px";
p.foldWidget.style.height != y && (p.foldWidget.style.height = y);
} else p.foldWidget && (p.element.removeChild(p.foldWidget), p.foldWidget = null);
var b = d = h ? h.getText(t, g) : g + u;
b != p.textNode.data && (p.textNode.data = b), g++;
}
this.element.style.height = e.minHeight + "px", (this.$fixedWidth || t.$useWrapMode) && (d = t.getLength() + u);
var w = h ? h.getWidth(t, d, e) : d.toString().length * e.characterWidth, x = this.$padding || this.$computePadding();
(w += x.left + x.right) !== this.gutterWidth && !isNaN(w) && (this.gutterWidth = w, this.element.style.width = Math.ceil(this.gutterWidth) + "px", this._emit("changeGutterWidth", w));
}, this.$fixedWidth = !1, this.$showLineNumbers = !0, this.$renderer = "", this.setShowLineNumbers = function(e) {
this.$renderer = !e && {
getWidth: function() {
return "";
},
getText: function() {
return "";
}
};
}, this.getShowLineNumbers = function() {
return this.$showLineNumbers;
}, this.$showFoldWidgets = !0, this.setShowFoldWidgets = function(e) {
e ? i.addCssClass(this.element, "ace_folding-enabled") : i.removeCssClass(this.element, "ace_folding-enabled"), this.$showFoldWidgets = e, this.$padding = null;
}, this.getShowFoldWidgets = function() {
return this.$showFoldWidgets;
}, this.$computePadding = function() {
if (!this.element.firstChild) return {
left: 0,
right: 0
};
var e = i.computedStyle(this.element.firstChild);
return this.$padding = {}, this.$padding.left = parseInt(e.paddingLeft) + 1 || 0, this.$padding.right = parseInt(e.paddingRight) || 0, this.$padding;
}, this.getRegion = function(e) {
var t = this.$padding || this.$computePadding(), n = this.element.getBoundingClientRect();
return e.x < t.left + n.left ? "markers" : this.$showFoldWidgets && e.x > n.right - t.right ? "foldWidgets" : void 0;
};
}).call(s.prototype), t.Gutter = s;
}), ace.define("ace/layer/marker", [ "require", "exports", "module", "ace/range", "ace/lib/dom" ], function(e, t, n) {
"use strict";
var i = e("../range").Range, r = e("../lib/dom"), o = function(e) {
this.element = r.createElement("div"), this.element.className = "ace_layer ace_marker-layer", e.appendChild(this.element);
};
(function() {
function e(e, t, n, i) {
return (e ? 1 : 0) | (t ? 2 : 0) | (n ? 4 : 0) | (i ? 8 : 0);
}
this.$padding = 0, this.setPadding = function(e) {
this.$padding = e;
}, this.setSession = function(e) {
this.session = e;
}, this.setMarkers = function(e) {
this.markers = e;
}, this.update = function(e) {
if (e = e || this.config) {
this.config = e;
var t = [];
for (var n in this.markers) {
var i = this.markers[n];
if (i.range) {
var r = i.range.clipRows(e.firstRow, e.lastRow);
if (!r.isEmpty()) if (r = r.toScreenRange(this.session), i.renderer) {
var o = this.$getTop(r.start.row, e), a = this.$padding + r.start.column * e.characterWidth;
i.renderer(t, r, a, o, e);
} else "fullLine" == i.type ? this.drawFullLineMarker(t, r, i.clazz, e) : "screenLine" == i.type ? this.drawScreenLineMarker(t, r, i.clazz, e) : r.isMultiLine() ? "text" == i.type ? this.drawTextMarker(t, r, i.clazz, e) : this.drawMultiLineMarker(t, r, i.clazz, e) : this.drawSingleLineMarker(t, r, i.clazz + " ace_start ace_br15", e);
} else i.update(t, this, this.session, e);
}
this.element.innerHTML = t.join("");
}
}, this.$getTop = function(e, t) {
return (e - t.firstRowScreen) * t.lineHeight;
}, this.drawTextMarker = function(t, n, r, o, a) {
for (var s = this.session, l = n.start.row, c = n.end.row, u = l, d = 0, h = 0, p = s.getScreenLastRowColumn(u), f = new i(u, n.start.column, u, h); u <= c; u++) f.start.row = f.end.row = u, f.start.column = u == l ? n.start.column : s.getRowWrapIndent(u), f.end.column = p, d = h, h = p, p = u + 1 < c ? s.getScreenLastRowColumn(u + 1) : u == c ? 0 : n.end.column, this.drawSingleLineMarker(t, f, r + (u == l ? " ace_start" : "") + " ace_br" + e(u == l || u == l + 1 && n.start.column, d < h, h > p, u == c), o, u == c ? 0 : 1, a);
}, this.drawMultiLineMarker = function(e, t, n, i, r) {
var o = this.$padding, a = i.lineHeight, s = this.$getTop(t.start.row, i), l = o + t.start.column * i.characterWidth;
r = r || "", e.push("<div class='", n, " ace_br1 ace_start' style='", "height:", a, "px;", "right:0;", "top:", s, "px;", "left:", l, "px;", r, "'></div>"), s = this.$getTop(t.end.row, i);
var c = t.end.column * i.characterWidth;
if (e.push("<div class='", n, " ace_br12' style='", "height:", a, "px;", "width:", c, "px;", "top:", s, "px;", "left:", o, "px;", r, "'></div>"), !((a = (t.end.row - t.start.row - 1) * i.lineHeight) <= 0)) {
s = this.$getTop(t.start.row + 1, i);
var u = (t.start.column ? 1 : 0) | (t.end.column ? 0 : 8);
e.push("<div class='", n, u ? " ace_br" + u : "", "' style='", "height:", a, "px;", "right:0;", "top:", s, "px;", "left:", o, "px;", r, "'></div>");
}
}, this.drawSingleLineMarker = function(e, t, n, i, r, o) {
var a = i.lineHeight, s = (t.end.column + (r || 0) - t.start.column) * i.characterWidth, l = this.$getTop(t.start.row, i), c = this.$padding + t.start.column * i.characterWidth;
e.push("<div class='", n, "' style='", "height:", a, "px;", "width:", s, "px;", "top:", l, "px;", "left:", c, "px;", o || "", "'></div>");
}, this.drawFullLineMarker = function(e, t, n, i, r) {
var o = this.$getTop(t.start.row, i), a = i.lineHeight;
t.start.row != t.end.row && (a += this.$getTop(t.end.row, i) - o), e.push("<div class='", n, "' style='", "height:", a, "px;", "top:", o, "px;", "left:0;right:0;", r || "", "'></div>");
}, this.drawScreenLineMarker = function(e, t, n, i, r) {
var o = this.$getTop(t.start.row, i), a = i.lineHeight;
e.push("<div class='", n, "' style='", "height:", a, "px;", "top:", o, "px;", "left:0;right:0;", r || "", "'></div>");
};
}).call(o.prototype), t.Marker = o;
}), ace.define("ace/layer/text", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("../lib/dom"), o = e("../lib/lang"), a = (e("../lib/useragent"), e("../lib/event_emitter").EventEmitter), s = function(e) {
this.element = r.createElement("div"), this.element.className = "ace_layer ace_text-layer", e.appendChild(this.element), this.$updateEolChar = this.$updateEolChar.bind(this);
};
(function() {
i.implement(this, a), this.EOF_CHAR = "¶", this.EOL_CHAR_LF = "¬", this.EOL_CHAR_CRLF = "¤", this.EOL_CHAR = this.EOL_CHAR_LF, this.TAB_CHAR = "—", this.SPACE_CHAR = "·", this.$padding = 0, this.$updateEolChar = function() {
var e = "\n" == this.session.doc.getNewLineCharacter() ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
if (this.EOL_CHAR != e) return this.EOL_CHAR = e, !0;
}, this.setPadding = function(e) {
this.$padding = e, this.element.style.padding = "0 " + e + "px";
}, this.getLineHeight = function() {
return this.$fontMetrics.$characterSize.height || 0;
}, this.getCharacterWidth = function() {
return this.$fontMetrics.$characterSize.width || 0;
}, this.$setFontMetrics = function(e) {
this.$fontMetrics = e, this.$fontMetrics.on("changeCharacterSize", function(e) {
this._signal("changeCharacterSize", e);
}.bind(this)), this.$pollSizeChanges();
}, this.checkForSizeChanges = function() {
this.$fontMetrics.checkForSizeChanges();
}, this.$pollSizeChanges = function() {
return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();
}, this.setSession = function(e) {
this.session = e, e && this.$computeTabString();
}, this.showInvisibles = !1, this.setShowInvisibles = function(e) {
return this.showInvisibles != e && (this.showInvisibles = e, this.$computeTabString(), !0);
}, this.displayIndentGuides = !0, this.setDisplayIndentGuides = function(e) {
return this.displayIndentGuides != e && (this.displayIndentGuides = e, this.$computeTabString(), !0);
}, this.$tabStrings = [], this.onChangeTabSize = this.$computeTabString = function() {
var e = this.session.getTabSize();
this.tabSize = e;
for (var t = this.$tabStrings = [ 0 ], n = 1; n < e + 1; n++) this.showInvisibles ? t.push("<span class='ace_invisible ace_invisible_tab'>" + o.stringRepeat(this.TAB_CHAR, n) + "</span>") : t.push(o.stringRepeat(" ", n));
if (this.displayIndentGuides) {
this.$indentGuideRe = /\s\S| \t|\t |\s$/;
var i = "ace_indent-guide", r = "", a = "";
if (this.showInvisibles) {
i += " ace_invisible", r = " ace_invisible_space", a = " ace_invisible_tab";
var s = o.stringRepeat(this.SPACE_CHAR, this.tabSize), l = o.stringRepeat(this.TAB_CHAR, this.tabSize);
} else var s = o.stringRepeat(" ", this.tabSize), l = s;
this.$tabStrings[" "] = "<span class='" + i + r + "'>" + s + "</span>", this.$tabStrings["\t"] = "<span class='" + i + a + "'>" + l + "</span>";
}
}, this.updateLines = function(e, t, n) {
(this.config.lastRow != e.lastRow || this.config.firstRow != e.firstRow) && this.scrollLines(e), this.config = e;
for (var i = Math.max(t, e.firstRow), r = Math.min(n, e.lastRow), o = this.element.childNodes, a = 0, s = e.firstRow; s < i; s++) {
if (l = this.session.getFoldLine(s)) {
if (l.containsRow(i)) {
i = l.start.row;
break;
}
s = l.end.row;
}
a++;
}
for (var s = i, l = this.session.getNextFoldLine(s), c = l ? l.start.row : 1 / 0; s > c && (s = l.end.row + 1, l = this.session.getNextFoldLine(s, l), c = l ? l.start.row : 1 / 0), !(s > r); ) {
var u = o[a++];
if (u) {
var d = [];
this.$renderLine(d, s, !this.$useLineGroups(), s == c && l), u.style.height = e.lineHeight * this.session.getRowLength(s) + "px", u.innerHTML = d.join("");
}
s++;
}
}, this.scrollLines = function(e) {
var t = this.config;
if (this.config = e, !t || t.lastRow < e.firstRow) return this.update(e);
if (e.lastRow < t.firstRow) return this.update(e);
var n = this.element;
if (t.firstRow < e.firstRow) for (i = this.session.getFoldedRowCount(t.firstRow, e.firstRow - 1); i > 0; i--) n.removeChild(n.firstChild);
if (t.lastRow > e.lastRow) for (var i = this.session.getFoldedRowCount(e.lastRow + 1, t.lastRow); i > 0; i--) n.removeChild(n.lastChild);
if (e.firstRow < t.firstRow) {
r = this.$renderLinesFragment(e, e.firstRow, t.firstRow - 1);
n.firstChild ? n.insertBefore(r, n.firstChild) : n.appendChild(r);
}
if (e.lastRow > t.lastRow) {
var r = this.$renderLinesFragment(e, t.lastRow + 1, e.lastRow);
n.appendChild(r);
}
}, this.$renderLinesFragment = function(e, t, n) {
for (var i = this.element.ownerDocument.createDocumentFragment(), o = t, a = this.session.getNextFoldLine(o), s = a ? a.start.row : 1 / 0; o > s && (o = a.end.row + 1, a = this.session.getNextFoldLine(o, a), s = a ? a.start.row : 1 / 0), !(o > n); ) {
var l = r.createElement("div"), c = [];
if (this.$renderLine(c, o, !1, o == s && a), l.innerHTML = c.join(""), this.$useLineGroups()) l.className = "ace_line_group", i.appendChild(l), l.style.height = e.lineHeight * this.session.getRowLength(o) + "px"; else for (;l.firstChild; ) i.appendChild(l.firstChild);
o++;
}
return i;
}, this.update = function(e) {
this.config = e;
for (var t = [], n = e.firstRow, i = e.lastRow, r = n, o = this.session.getNextFoldLine(r), a = o ? o.start.row : 1 / 0; r > a && (r = o.end.row + 1, o = this.session.getNextFoldLine(r, o), a = o ? o.start.row : 1 / 0), !(r > i); ) this.$useLineGroups() && t.push("<div class='ace_line_group' style='height:", e.lineHeight * this.session.getRowLength(r), "px'>"), this.$renderLine(t, r, !1, r == a && o), this.$useLineGroups() && t.push("</div>"), r++;
this.element.innerHTML = t.join("");
}, this.$textToken = {
text: !0,
rparen: !0,
lparen: !0
}, this.$renderToken = function(e, t, n, i) {
var r = this, a = /\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g, s = i.replace(a, function(e, n, i, a, s) {
if (n) return r.showInvisibles ? "<span class='ace_invisible ace_invisible_space'>" + o.stringRepeat(r.SPACE_CHAR, e.length) + "</span>" : e;
if ("&" == e) return "&#38;";
if ("<" == e) return "&#60;";
if (">" == e) return "&#62;";
if ("\t" == e) {
var l = r.session.getScreenTabSize(t + a);
return t += l - 1, r.$tabStrings[l];
}
if ("　" == e) {
var c = r.showInvisibles ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk", u = r.showInvisibles ? r.SPACE_CHAR : "";
return t += 1, "<span class='" + c + "' style='width:" + 2 * r.config.characterWidth + "px'>" + u + "</span>";
}
return i ? "<span class='ace_invisible ace_invisible_space ace_invalid'>" + r.SPACE_CHAR + "</span>" : (t += 1, "<span class='ace_cjk' style='width:" + 2 * r.config.characterWidth + "px'>" + e + "</span>");
});
if (this.$textToken[n.type]) e.push(s); else {
var l = "ace_" + n.type.replace(/\./g, " ace_"), c = "";
"fold" == n.type && (c = " style='width:" + n.value.length * this.config.characterWidth + "px;' "), e.push("<span class='", l, "'", c, ">", s, "</span>");
}
return t + i.length;
}, this.renderIndentGuide = function(e, t, n) {
var i = t.search(this.$indentGuideRe);
return i <= 0 || i >= n ? t : " " == t[0] ? (i -= i % this.tabSize, e.push(o.stringRepeat(this.$tabStrings[" "], i / this.tabSize)), t.substr(i)) : "\t" == t[0] ? (e.push(o.stringRepeat(this.$tabStrings["\t"], i)), t.substr(i)) : t;
}, this.$renderWrappedLine = function(e, t, n, i) {
for (var r = 0, a = 0, s = n[0], l = 0, c = 0; c < t.length; c++) {
var u = t[c], d = u.value;
if (0 == c && this.displayIndentGuides) {
if (r = d.length, !(d = this.renderIndentGuide(e, d, s))) continue;
r -= d.length;
}
if (r + d.length < s) l = this.$renderToken(e, l, u, d), r += d.length; else {
for (;r + d.length >= s; ) l = this.$renderToken(e, l, u, d.substring(0, s - r)), d = d.substring(s - r), r = s, i || e.push("</div>", "<div class='ace_line' style='height:", this.config.lineHeight, "px'>"), e.push(o.stringRepeat(" ", n.indent)), a++, l = 0, s = n[a] || Number.MAX_VALUE;
0 != d.length && (r += d.length, l = this.$renderToken(e, l, u, d));
}
}
}, this.$renderSimpleLine = function(e, t) {
var n = 0, i = t[0], r = i.value;
this.displayIndentGuides && (r = this.renderIndentGuide(e, r)), r && (n = this.$renderToken(e, n, i, r));
for (var o = 1; o < t.length; o++) i = t[o], r = i.value, n = this.$renderToken(e, n, i, r);
}, this.$renderLine = function(e, t, n, i) {
if (!i && 0 != i && (i = this.session.getFoldLine(t)), i) r = this.$getFoldLineTokens(t, i); else var r = this.session.getTokens(t);
if (n || e.push("<div class='ace_line' style='height:", this.config.lineHeight * (this.$useLineGroups() ? 1 : this.session.getRowLength(t)), "px'>"), r.length) {
var o = this.session.getRowSplitData(t);
o && o.length ? this.$renderWrappedLine(e, r, o, n) : this.$renderSimpleLine(e, r);
}
this.showInvisibles && (i && (t = i.end.row), e.push("<span class='ace_invisible ace_invisible_eol'>", t == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, "</span>")), n || e.push("</div>");
}, this.$getFoldLineTokens = function(e, t) {
function n(e, t, n) {
for (var i = 0, o = 0; o + e[i].value.length < t; ) if (o += e[i].value.length, ++i == e.length) return;
for (o != t && ((a = e[i].value.substring(t - o)).length > n - t && (a = a.substring(0, n - t)), r.push({
type: e[i].type,
value: a
}), o = t + a.length, i += 1); o < n && i < e.length; ) {
var a = e[i].value;
a.length + o > n ? r.push({
type: e[i].type,
value: a.substring(0, n - o)
}) : r.push(e[i]), o += a.length, i += 1;
}
}
var i = this.session, r = [], o = i.getTokens(e);
return t.walk(function(e, t, a, s, l) {
null != e ? r.push({
type: "fold",
value: e
}) : (l && (o = i.getTokens(t)), o.length && n(o, s, a));
}, t.end.row, this.session.getLine(t.end.row).length), r;
}, this.$useLineGroups = function() {
return this.session.getUseWrapMode();
}, this.destroy = function() {
clearInterval(this.$pollSizeChangesTimer), this.$measureNode && this.$measureNode.parentNode.removeChild(this.$measureNode), delete this.$measureNode;
};
}).call(s.prototype), t.Text = s;
}), ace.define("ace/layer/cursor", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
"use strict";
var i, r = e("../lib/dom"), o = function(e) {
this.element = r.createElement("div"), this.element.className = "ace_layer ace_cursor-layer", e.appendChild(this.element), void 0 === i && (i = !("opacity" in this.element.style)), this.isVisible = !1, this.isBlinking = !0, this.blinkInterval = 1e3, this.smoothBlinking = !1, this.cursors = [], this.cursor = this.addCursor(), r.addCssClass(this.element, "ace_hidden-cursors"), this.$updateCursors = (i ? this.$updateVisibility : this.$updateOpacity).bind(this);
};
(function() {
this.$updateVisibility = function(e) {
for (var t = this.cursors, n = t.length; n--; ) t[n].style.visibility = e ? "" : "hidden";
}, this.$updateOpacity = function(e) {
for (var t = this.cursors, n = t.length; n--; ) t[n].style.opacity = e ? "" : "0";
}, this.$padding = 0, this.setPadding = function(e) {
this.$padding = e;
}, this.setSession = function(e) {
this.session = e;
}, this.setBlinking = function(e) {
e != this.isBlinking && (this.isBlinking = e, this.restartTimer());
}, this.setBlinkInterval = function(e) {
e != this.blinkInterval && (this.blinkInterval = e, this.restartTimer());
}, this.setSmoothBlinking = function(e) {
e != this.smoothBlinking && !i && (this.smoothBlinking = e, r.setCssClass(this.element, "ace_smooth-blinking", e), this.$updateCursors(!0), this.$updateCursors = this.$updateOpacity.bind(this), this.restartTimer());
}, this.addCursor = function() {
var e = r.createElement("div");
return e.className = "ace_cursor", this.element.appendChild(e), this.cursors.push(e), e;
}, this.removeCursor = function() {
if (this.cursors.length > 1) {
var e = this.cursors.pop();
return e.parentNode.removeChild(e), e;
}
}, this.hideCursor = function() {
this.isVisible = !1, r.addCssClass(this.element, "ace_hidden-cursors"), this.restartTimer();
}, this.showCursor = function() {
this.isVisible = !0, r.removeCssClass(this.element, "ace_hidden-cursors"), this.restartTimer();
}, this.restartTimer = function() {
var e = this.$updateCursors;
if (clearInterval(this.intervalId), clearTimeout(this.timeoutId), this.smoothBlinking && r.removeCssClass(this.element, "ace_smooth-blinking"), e(!0), this.isBlinking && this.blinkInterval && this.isVisible) {
this.smoothBlinking && setTimeout(function() {
r.addCssClass(this.element, "ace_smooth-blinking");
}.bind(this));
var t = function() {
this.timeoutId = setTimeout(function() {
e(!1);
}, .6 * this.blinkInterval);
}.bind(this);
this.intervalId = setInterval(function() {
e(!0), t();
}, this.blinkInterval), t();
}
}, this.getPixelPosition = function(e, t) {
if (!this.config || !this.session) return {
left: 0,
top: 0
};
e || (e = this.session.selection.getCursor());
var n = this.session.documentToScreenPosition(e);
return {
left: this.$padding + n.column * this.config.characterWidth,
top: (n.row - (t ? this.config.firstRowScreen : 0)) * this.config.lineHeight
};
}, this.update = function(e) {
this.config = e;
var t = this.session.$selectionMarkers, n = 0, i = 0;
void 0 !== t && 0 !== t.length || (t = [ {
cursor: null
} ]);
for (var n = 0, r = t.length; n < r; n++) {
var o = this.getPixelPosition(t[n].cursor, !0);
if (!((o.top > e.height + e.offset || o.top < 0) && n > 1)) {
var a = (this.cursors[i++] || this.addCursor()).style;
this.drawCursor ? this.drawCursor(a, o, e, t[n], this.session) : (a.left = o.left + "px", a.top = o.top + "px", a.width = e.characterWidth + "px", a.height = e.lineHeight + "px");
}
}
for (;this.cursors.length > i; ) this.removeCursor();
var s = this.session.getOverwrite();
this.$setOverwrite(s), this.$pixelPos = o, this.restartTimer();
}, this.drawCursor = null, this.$setOverwrite = function(e) {
e != this.overwrite && (this.overwrite = e, e ? r.addCssClass(this.element, "ace_overwrite-cursors") : r.removeCssClass(this.element, "ace_overwrite-cursors"));
}, this.destroy = function() {
clearInterval(this.intervalId), clearTimeout(this.timeoutId);
};
}).call(o.prototype), t.Cursor = o;
}), ace.define("ace/scrollbar", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/dom"), o = e("./lib/event"), a = e("./lib/event_emitter").EventEmitter, s = function(e) {
this.element = r.createElement("div"), this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix, this.inner = r.createElement("div"), this.inner.className = "ace_scrollbar-inner", this.element.appendChild(this.inner), e.appendChild(this.element), this.setVisible(!1), this.skipEvent = !1, o.addListener(this.element, "scroll", this.onScroll.bind(this)), o.addListener(this.element, "mousedown", o.preventDefault);
};
(function() {
i.implement(this, a), this.setVisible = function(e) {
this.element.style.display = e ? "" : "none", this.isVisible = e;
};
}).call(s.prototype);
var l = function(e, t) {
s.call(this, e), this.scrollTop = 0, t.$scrollbarWidth = this.width = r.scrollbarWidth(e.ownerDocument), this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px";
};
i.inherits(l, s), function() {
this.classSuffix = "-v", this.onScroll = function() {
this.skipEvent || (this.scrollTop = this.element.scrollTop, this._emit("scroll", {
data: this.scrollTop
})), this.skipEvent = !1;
}, this.getWidth = function() {
return this.isVisible ? this.width : 0;
}, this.setHeight = function(e) {
this.element.style.height = e + "px";
}, this.setInnerHeight = function(e) {
this.inner.style.height = e + "px";
}, this.setScrollHeight = function(e) {
this.inner.style.height = e + "px";
}, this.setScrollTop = function(e) {
this.scrollTop != e && (this.skipEvent = !0, this.scrollTop = this.element.scrollTop = e);
};
}.call(l.prototype);
var c = function(e, t) {
s.call(this, e), this.scrollLeft = 0, this.height = t.$scrollbarWidth, this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px";
};
i.inherits(c, s), function() {
this.classSuffix = "-h", this.onScroll = function() {
this.skipEvent || (this.scrollLeft = this.element.scrollLeft, this._emit("scroll", {
data: this.scrollLeft
})), this.skipEvent = !1;
}, this.getHeight = function() {
return this.isVisible ? this.height : 0;
}, this.setWidth = function(e) {
this.element.style.width = e + "px";
}, this.setInnerWidth = function(e) {
this.inner.style.width = e + "px";
}, this.setScrollWidth = function(e) {
this.inner.style.width = e + "px";
}, this.setScrollLeft = function(e) {
this.scrollLeft != e && (this.skipEvent = !0, this.scrollLeft = this.element.scrollLeft = e);
};
}.call(c.prototype), t.ScrollBar = l, t.ScrollBarV = l, t.ScrollBarH = c, t.VScrollBar = l, t.HScrollBar = c;
}), ace.define("ace/renderloop", [ "require", "exports", "module", "ace/lib/event" ], function(e, t, n) {
"use strict";
var i = e("./lib/event"), r = function(e, t) {
this.onRender = e, this.pending = !1, this.changes = 0, this.window = t || window;
};
(function() {
this.schedule = function(e) {
if (this.changes = this.changes | e, !this.pending && this.changes) {
this.pending = !0;
var t = this;
i.nextFrame(function() {
t.pending = !1;
for (var e; e = t.changes; ) t.changes = 0, t.onRender(e);
}, this.window);
}
};
}).call(r.prototype), t.RenderLoop = r;
}), ace.define("ace/layer/font_metrics", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter" ], function(e, t, n) {
var i = e("../lib/oop"), r = e("../lib/dom"), o = e("../lib/lang"), a = e("../lib/useragent"), s = e("../lib/event_emitter").EventEmitter, l = 0, c = t.FontMetrics = function(e, t) {
this.el = r.createElement("div"), this.$setMeasureNodeStyles(this.el.style, !0), this.$main = r.createElement("div"), this.$setMeasureNodeStyles(this.$main.style), this.$measureNode = r.createElement("div"), this.$setMeasureNodeStyles(this.$measureNode.style), this.el.appendChild(this.$main), this.el.appendChild(this.$measureNode), e.appendChild(this.el), l || this.$testFractionalRect(), this.$measureNode.innerHTML = o.stringRepeat("X", l), this.$characterSize = {
width: 0,
height: 0
}, this.checkForSizeChanges();
};
(function() {
i.implement(this, s), this.$characterSize = {
width: 0,
height: 0
}, this.$testFractionalRect = function() {
var e = r.createElement("div");
this.$setMeasureNodeStyles(e.style), e.style.width = "0.2px", document.documentElement.appendChild(e);
var t = e.getBoundingClientRect().width;
l = t > 0 && t < 1 ? 50 : 100, e.parentNode.removeChild(e);
}, this.$setMeasureNodeStyles = function(e, t) {
e.width = e.height = "auto", e.left = e.top = "0px", e.visibility = "hidden", e.position = "absolute", e.whiteSpace = "pre", a.isIE < 8 ? e["font-family"] = "inherit" : e.font = "inherit", e.overflow = t ? "hidden" : "visible";
}, this.checkForSizeChanges = function() {
var e = this.$measureSizes();
if (e && (this.$characterSize.width !== e.width || this.$characterSize.height !== e.height)) {
this.$measureNode.style.fontWeight = "bold";
var t = this.$measureSizes();
this.$measureNode.style.fontWeight = "", this.$characterSize = e, this.charSizes = Object.create(null), this.allowBoldFonts = t && t.width === e.width && t.height === e.height, this._emit("changeCharacterSize", {
data: e
});
}
}, this.$pollSizeChanges = function() {
if (this.$pollSizeChangesTimer) return this.$pollSizeChangesTimer;
var e = this;
return this.$pollSizeChangesTimer = setInterval(function() {
e.checkForSizeChanges();
}, 500);
}, this.setPolling = function(e) {
e ? this.$pollSizeChanges() : this.$pollSizeChangesTimer && (clearInterval(this.$pollSizeChangesTimer), this.$pollSizeChangesTimer = 0);
}, this.$measureSizes = function() {
if (50 === l) {
var e = null;
try {
e = this.$measureNode.getBoundingClientRect();
} catch (t) {
e = {
width: 0,
height: 0
};
}
t = {
height: e.height,
width: e.width / l
};
} else var t = {
height: this.$measureNode.clientHeight,
width: this.$measureNode.clientWidth / l
};
return 0 === t.width || 0 === t.height ? null : t;
}, this.$measureCharWidth = function(e) {
return this.$main.innerHTML = o.stringRepeat(e, l), this.$main.getBoundingClientRect().width / l;
}, this.getCharacterWidth = function(e) {
var t = this.charSizes[e];
return void 0 === t && (t = this.charSizes[e] = this.$measureCharWidth(e) / this.$characterSize.width), t;
}, this.destroy = function() {
clearInterval(this.$pollSizeChangesTimer), this.el && this.el.parentNode && this.el.parentNode.removeChild(this.el);
};
}).call(c.prototype);
}), ace.define("ace/virtual_renderer", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/config", "ace/lib/useragent", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter" ], function(e, t, n) {
"use strict";
var i = e("./lib/oop"), r = e("./lib/dom"), o = e("./config"), a = e("./lib/useragent"), s = e("./layer/gutter").Gutter, l = e("./layer/marker").Marker, c = e("./layer/text").Text, u = e("./layer/cursor").Cursor, d = e("./scrollbar").HScrollBar, h = e("./scrollbar").VScrollBar, p = e("./renderloop").RenderLoop, f = e("./layer/font_metrics").FontMetrics, g = e("./lib/event_emitter").EventEmitter;
r.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}', "ace_editor.css");
var m = function(e, t) {
var n = this;
this.container = e || r.createElement("div"), this.$keepTextAreaAtCursor = !a.isOldIE, r.addCssClass(this.container, "ace_editor"), this.setTheme(t), this.$gutter = r.createElement("div"), this.$gutter.className = "ace_gutter", this.container.appendChild(this.$gutter), this.scroller = r.createElement("div"), this.scroller.className = "ace_scroller", this.container.appendChild(this.scroller), this.content = r.createElement("div"), this.content.className = "ace_content", this.scroller.appendChild(this.content), this.$gutterLayer = new s(this.$gutter), this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this)), this.$markerBack = new l(this.content);
var i = this.$textLayer = new c(this.content);
this.canvas = i.element, this.$markerFront = new l(this.content), this.$cursorLayer = new u(this.content), this.$horizScroll = !1, this.$vScroll = !1, this.scrollBar = this.scrollBarV = new h(this.container, this), this.scrollBarH = new d(this.container, this), this.scrollBarV.addEventListener("scroll", function(e) {
n.$scrollAnimation || n.session.setScrollTop(e.data - n.scrollMargin.top);
}), this.scrollBarH.addEventListener("scroll", function(e) {
n.$scrollAnimation || n.session.setScrollLeft(e.data - n.scrollMargin.left);
}), this.scrollTop = 0, this.scrollLeft = 0, this.cursorPos = {
row: 0,
column: 0
}, this.$fontMetrics = new f(this.container, 500), this.$textLayer.$setFontMetrics(this.$fontMetrics), this.$textLayer.addEventListener("changeCharacterSize", function(e) {
n.updateCharacterSize(), n.onResize(!0, n.gutterWidth, n.$size.width, n.$size.height), n._signal("changeCharacterSize", e);
}), this.$size = {
width: 0,
height: 0,
scrollerHeight: 0,
scrollerWidth: 0,
$dirty: !0
}, this.layerConfig = {
width: 1,
padding: 0,
firstRow: 0,
firstRowScreen: 0,
lastRow: 0,
lineHeight: 0,
characterWidth: 0,
minHeight: 1,
maxHeight: 1,
offset: 0,
height: 1,
gutterOffset: 1
}, this.scrollMargin = {
left: 0,
right: 0,
top: 0,
bottom: 0,
v: 0,
h: 0
}, this.$loop = new p(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView), this.$loop.schedule(this.CHANGE_FULL), this.updateCharacterSize(), this.setPadding(4), o.resetOptions(this), o._emit("renderer", this);
};
(function() {
this.CHANGE_CURSOR = 1, this.CHANGE_MARKER = 2, this.CHANGE_GUTTER = 4, this.CHANGE_SCROLL = 8, this.CHANGE_LINES = 16, this.CHANGE_TEXT = 32, this.CHANGE_SIZE = 64, this.CHANGE_MARKER_BACK = 128, this.CHANGE_MARKER_FRONT = 256, this.CHANGE_FULL = 512, this.CHANGE_H_SCROLL = 1024, i.implement(this, g), this.updateCharacterSize = function() {
this.$textLayer.allowBoldFonts != this.$allowBoldFonts && (this.$allowBoldFonts = this.$textLayer.allowBoldFonts, this.setStyle("ace_nobold", !this.$allowBoldFonts)), this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth(), this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight(), this.$updatePrintMargin();
}, this.setSession = function(e) {
this.session && this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode), this.session = e, e && this.scrollMargin.top && e.getScrollTop() <= 0 && e.setScrollTop(-this.scrollMargin.top), this.$cursorLayer.setSession(e), this.$markerBack.setSession(e), this.$markerFront.setSession(e), this.$gutterLayer.setSession(e), this.$textLayer.setSession(e), e && (this.$loop.schedule(this.CHANGE_FULL), this.session.$setFontMetrics(this.$fontMetrics), this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this), this.onChangeNewLineMode(), this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode));
}, this.updateLines = function(e, t, n) {
if (void 0 === t && (t = 1 / 0), this.$changedLines ? (this.$changedLines.firstRow > e && (this.$changedLines.firstRow = e), this.$changedLines.lastRow < t && (this.$changedLines.lastRow = t)) : this.$changedLines = {
firstRow: e,
lastRow: t
}, this.$changedLines.lastRow < this.layerConfig.firstRow) {
if (!n) return;
this.$changedLines.lastRow = this.layerConfig.lastRow;
}
this.$changedLines.firstRow > this.layerConfig.lastRow || this.$loop.schedule(this.CHANGE_LINES);
}, this.onChangeNewLineMode = function() {
this.$loop.schedule(this.CHANGE_TEXT), this.$textLayer.$updateEolChar();
}, this.onChangeTabSize = function() {
this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER), this.$textLayer.onChangeTabSize();
}, this.updateText = function() {
this.$loop.schedule(this.CHANGE_TEXT);
}, this.updateFull = function(e) {
e ? this.$renderChanges(this.CHANGE_FULL, !0) : this.$loop.schedule(this.CHANGE_FULL);
}, this.updateFontSize = function() {
this.$textLayer.checkForSizeChanges();
}, this.$changes = 0, this.$updateSizeAsync = function() {
this.$loop.pending ? this.$size.$dirty = !0 : this.onResize();
}, this.onResize = function(e, t, n, i) {
if (!(this.resizing > 2)) {
this.resizing > 0 ? this.resizing++ : this.resizing = e ? 1 : 0;
var r = this.container;
i || (i = r.clientHeight || r.scrollHeight), n || (n = r.clientWidth || r.scrollWidth);
var o = this.$updateCachedSize(e, t, n, i);
if (!this.$size.scrollerHeight || !n && !i) return this.resizing = 0;
e && (this.$gutterLayer.$padding = null), e ? this.$renderChanges(o | this.$changes, !0) : this.$loop.schedule(o | this.$changes), this.resizing && (this.resizing = 0), this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;
}
}, this.$updateCachedSize = function(e, t, n, i) {
i -= this.$extraHeight || 0;
var r = 0, o = this.$size, a = {
width: o.width,
height: o.height,
scrollerHeight: o.scrollerHeight,
scrollerWidth: o.scrollerWidth
};
return i && (e || o.height != i) && (o.height = i, r |= this.CHANGE_SIZE, o.scrollerHeight = o.height, this.$horizScroll && (o.scrollerHeight -= this.scrollBarH.getHeight()), this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px", r |= this.CHANGE_SCROLL), n && (e || o.width != n) && (r |= this.CHANGE_SIZE, o.width = n, null == t && (t = this.$showGutter ? this.$gutter.offsetWidth : 0), this.gutterWidth = t, this.scrollBarH.element.style.left = this.scroller.style.left = t + "px", o.scrollerWidth = Math.max(0, n - t - this.scrollBarV.getWidth()), this.scrollBarH.element.style.right = this.scroller.style.right = this.scrollBarV.getWidth() + "px", this.scroller.style.bottom = this.scrollBarH.getHeight() + "px", (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || e) && (r |= this.CHANGE_FULL)), o.$dirty = !n || !i, r && this._signal("resize", a), r;
}, this.onGutterResize = function() {
var e = this.$showGutter ? this.$gutter.offsetWidth : 0;
e != this.gutterWidth && (this.$changes |= this.$updateCachedSize(!0, e, this.$size.width, this.$size.height)), this.session.getUseWrapMode() && this.adjustWrapLimit() ? this.$loop.schedule(this.CHANGE_FULL) : this.$size.$dirty ? this.$loop.schedule(this.CHANGE_FULL) : (this.$computeLayerConfig(), this.$loop.schedule(this.CHANGE_MARKER));
}, this.adjustWrapLimit = function() {
var e = this.$size.scrollerWidth - 2 * this.$padding, t = Math.floor(e / this.characterWidth);
return this.session.adjustWrapLimit(t, this.$showPrintMargin && this.$printMarginColumn);
}, this.setAnimatedScroll = function(e) {
this.setOption("animatedScroll", e);
}, this.getAnimatedScroll = function() {
return this.$animatedScroll;
}, this.setShowInvisibles = function(e) {
this.setOption("showInvisibles", e);
}, this.getShowInvisibles = function() {
return this.getOption("showInvisibles");
}, this.getDisplayIndentGuides = function() {
return this.getOption("displayIndentGuides");
}, this.setDisplayIndentGuides = function(e) {
this.setOption("displayIndentGuides", e);
}, this.setShowPrintMargin = function(e) {
this.setOption("showPrintMargin", e);
}, this.getShowPrintMargin = function() {
return this.getOption("showPrintMargin");
}, this.setPrintMarginColumn = function(e) {
this.setOption("printMarginColumn", e);
}, this.getPrintMarginColumn = function() {
return this.getOption("printMarginColumn");
}, this.getShowGutter = function() {
return this.getOption("showGutter");
}, this.setShowGutter = function(e) {
return this.setOption("showGutter", e);
}, this.getFadeFoldWidgets = function() {
return this.getOption("fadeFoldWidgets");
}, this.setFadeFoldWidgets = function(e) {
this.setOption("fadeFoldWidgets", e);
}, this.setHighlightGutterLine = function(e) {
this.setOption("highlightGutterLine", e);
}, this.getHighlightGutterLine = function() {
return this.getOption("highlightGutterLine");
}, this.$updateGutterLineHighlight = function() {
var e = this.$cursorLayer.$pixelPos, t = this.layerConfig.lineHeight;
if (this.session.getUseWrapMode()) {
var n = this.session.selection.getCursor();
n.column = 0, e = this.$cursorLayer.getPixelPosition(n, !0), t *= this.session.getRowLength(n.row);
}
this.$gutterLineHighlight.style.top = e.top - this.layerConfig.offset + "px", this.$gutterLineHighlight.style.height = t + "px";
}, this.$updatePrintMargin = function() {
if (this.$showPrintMargin || this.$printMarginEl) {
if (!this.$printMarginEl) {
var e = r.createElement("div");
e.className = "ace_layer ace_print-margin-layer", this.$printMarginEl = r.createElement("div"), this.$printMarginEl.className = "ace_print-margin", e.appendChild(this.$printMarginEl), this.content.insertBefore(e, this.content.firstChild);
}
var t = this.$printMarginEl.style;
t.left = this.characterWidth * this.$printMarginColumn + this.$padding + "px", t.visibility = this.$showPrintMargin ? "visible" : "hidden", this.session && -1 == this.session.$wrap && this.adjustWrapLimit();
}
}, this.getContainerElement = function() {
return this.container;
}, this.getMouseEventTarget = function() {
return this.scroller;
}, this.getTextAreaContainer = function() {
return this.container;
}, this.$moveTextAreaToCursor = function() {
if (this.$keepTextAreaAtCursor) {
var e = this.layerConfig, t = this.$cursorLayer.$pixelPos.top, n = this.$cursorLayer.$pixelPos.left;
t -= e.offset;
var i = this.textarea.style, r = this.lineHeight;
if (t < 0 || t > e.height - r) i.top = i.left = "0"; else {
var o = this.characterWidth;
if (this.$composition) {
var a = this.textarea.value.replace(/^\x01+/, "");
o *= this.session.$getStringScreenWidth(a)[0] + 2, r += 2;
}
(n -= this.scrollLeft) > this.$size.scrollerWidth - o && (n = this.$size.scrollerWidth - o), n += this.gutterWidth, i.height = r + "px", i.width = o + "px", i.left = Math.min(n, this.$size.scrollerWidth - o) + "px", i.top = Math.min(t, this.$size.height - r) + "px";
}
}
}, this.getFirstVisibleRow = function() {
return this.layerConfig.firstRow;
}, this.getFirstFullyVisibleRow = function() {
return this.layerConfig.firstRow + (0 === this.layerConfig.offset ? 0 : 1);
}, this.getLastFullyVisibleRow = function() {
var e = Math.floor((this.layerConfig.height + this.layerConfig.offset) / this.layerConfig.lineHeight);
return this.layerConfig.firstRow - 1 + e;
}, this.getLastVisibleRow = function() {
return this.layerConfig.lastRow;
}, this.$padding = null, this.setPadding = function(e) {
this.$padding = e, this.$textLayer.setPadding(e), this.$cursorLayer.setPadding(e), this.$markerFront.setPadding(e), this.$markerBack.setPadding(e), this.$loop.schedule(this.CHANGE_FULL), this.$updatePrintMargin();
}, this.setScrollMargin = function(e, t, n, i) {
var r = this.scrollMargin;
r.top = 0 | e, r.bottom = 0 | t, r.right = 0 | i, r.left = 0 | n, r.v = r.top + r.bottom, r.h = r.left + r.right, r.top && this.scrollTop <= 0 && this.session && this.session.setScrollTop(-r.top), this.updateFull();
}, this.getHScrollBarAlwaysVisible = function() {
return this.$hScrollBarAlwaysVisible;
}, this.setHScrollBarAlwaysVisible = function(e) {
this.setOption("hScrollBarAlwaysVisible", e);
}, this.getVScrollBarAlwaysVisible = function() {
return this.$vScrollBarAlwaysVisible;
}, this.setVScrollBarAlwaysVisible = function(e) {
this.setOption("vScrollBarAlwaysVisible", e);
}, this.$updateScrollBarV = function() {
var e = this.layerConfig.maxHeight, t = this.$size.scrollerHeight;
!this.$maxLines && this.$scrollPastEnd && (e -= (t - this.lineHeight) * this.$scrollPastEnd, this.scrollTop > e - t && (e = this.scrollTop + t, this.scrollBarV.scrollTop = null)), this.scrollBarV.setScrollHeight(e + this.scrollMargin.v), this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);
}, this.$updateScrollBarH = function() {
this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h), this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);
}, this.$frozen = !1, this.freeze = function() {
this.$frozen = !0;
}, this.unfreeze = function() {
this.$frozen = !1;
}, this.$renderChanges = function(e, t) {
this.$changes && (e |= this.$changes, this.$changes = 0);
{
if (this.session && this.container.offsetWidth && !this.$frozen && (e || t)) {
if (this.$size.$dirty) return this.$changes |= e, this.onResize(!0);
this.lineHeight || this.$textLayer.checkForSizeChanges(), this._signal("beforeRender");
var n = this.layerConfig;
if (e & this.CHANGE_FULL || e & this.CHANGE_SIZE || e & this.CHANGE_TEXT || e & this.CHANGE_LINES || e & this.CHANGE_SCROLL || e & this.CHANGE_H_SCROLL) {
if (e |= this.$computeLayerConfig(), n.firstRow != this.layerConfig.firstRow && n.firstRowScreen == this.layerConfig.firstRowScreen) {
var i = this.scrollTop + (n.firstRow - this.layerConfig.firstRow) * this.lineHeight;
i > 0 && (this.scrollTop = i, e |= this.CHANGE_SCROLL, e |= this.$computeLayerConfig());
}
n = this.layerConfig, this.$updateScrollBarV(), e & this.CHANGE_H_SCROLL && this.$updateScrollBarH(), this.$gutterLayer.element.style.marginTop = -n.offset + "px", this.content.style.marginTop = -n.offset + "px", this.content.style.width = n.width + 2 * this.$padding + "px", this.content.style.height = n.minHeight + "px";
}
return e & this.CHANGE_H_SCROLL && (this.content.style.marginLeft = -this.scrollLeft + "px", this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left"), e & this.CHANGE_FULL ? (this.$textLayer.update(n), this.$showGutter && this.$gutterLayer.update(n), this.$markerBack.update(n), this.$markerFront.update(n), this.$cursorLayer.update(n), this.$moveTextAreaToCursor(), this.$highlightGutterLine && this.$updateGutterLineHighlight(), void this._signal("afterRender")) : e & this.CHANGE_SCROLL ? (e & this.CHANGE_TEXT || e & this.CHANGE_LINES ? this.$textLayer.update(n) : this.$textLayer.scrollLines(n), this.$showGutter && this.$gutterLayer.update(n), this.$markerBack.update(n), this.$markerFront.update(n), this.$cursorLayer.update(n), this.$highlightGutterLine && this.$updateGutterLineHighlight(), this.$moveTextAreaToCursor(), void this._signal("afterRender")) : (e & this.CHANGE_TEXT ? (this.$textLayer.update(n), this.$showGutter && this.$gutterLayer.update(n)) : e & this.CHANGE_LINES ? (this.$updateLines() || e & this.CHANGE_GUTTER && this.$showGutter) && this.$gutterLayer.update(n) : (e & this.CHANGE_TEXT || e & this.CHANGE_GUTTER) && this.$showGutter && this.$gutterLayer.update(n), 
e & this.CHANGE_CURSOR && (this.$cursorLayer.update(n), this.$moveTextAreaToCursor(), this.$highlightGutterLine && this.$updateGutterLineHighlight()), e & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT) && this.$markerFront.update(n), e & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK) && this.$markerBack.update(n), void this._signal("afterRender"));
}
this.$changes |= e;
}
}, this.$autosize = function() {
var e = this.session.getScreenLength() * this.lineHeight, t = this.$maxLines * this.lineHeight, n = Math.max((this.$minLines || 1) * this.lineHeight, Math.min(t, e)) + this.scrollMargin.v + (this.$extraHeight || 0);
this.$horizScroll && (n += this.scrollBarH.getHeight());
var i = e > t;
if (n != this.desiredHeight || this.$size.height != this.desiredHeight || i != this.$vScroll) {
i != this.$vScroll && (this.$vScroll = i, this.scrollBarV.setVisible(i));
var r = this.container.clientWidth;
this.container.style.height = n + "px", this.$updateCachedSize(!0, this.$gutterWidth, r, n), this.desiredHeight = n, this._signal("autosize");
}
}, this.$computeLayerConfig = function() {
var e = this.session, t = this.$size, n = t.height <= 2 * this.lineHeight, i = this.session.getScreenLength() * this.lineHeight, r = this.$getLongestLine(), o = !n && (this.$hScrollBarAlwaysVisible || t.scrollerWidth - r - 2 * this.$padding < 0), a = this.$horizScroll !== o;
a && (this.$horizScroll = o, this.scrollBarH.setVisible(o));
var s = this.$vScroll;
this.$maxLines && this.lineHeight > 1 && this.$autosize();
var l = this.scrollTop % this.lineHeight, c = t.scrollerHeight + this.lineHeight, u = !this.$maxLines && this.$scrollPastEnd ? (t.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
i += u;
var d = this.scrollMargin;
this.session.setScrollTop(Math.max(-d.top, Math.min(this.scrollTop, i - t.scrollerHeight + d.bottom))), this.session.setScrollLeft(Math.max(-d.left, Math.min(this.scrollLeft, r + 2 * this.$padding - t.scrollerWidth + d.right)));
var h = !n && (this.$vScrollBarAlwaysVisible || t.scrollerHeight - i + u < 0 || this.scrollTop > d.top), p = s !== h;
p && (this.$vScroll = h, this.scrollBarV.setVisible(h));
var f, g, m = Math.ceil(c / this.lineHeight) - 1, v = Math.max(0, Math.round((this.scrollTop - l) / this.lineHeight)), y = v + m, b = this.lineHeight;
v = e.screenToDocumentRow(v, 0);
var w = e.getFoldLine(v);
w && (v = w.start.row), f = e.documentToScreenRow(v, 0), g = e.getRowLength(v) * b, y = Math.min(e.screenToDocumentRow(y, 0), e.getLength() - 1), c = t.scrollerHeight + e.getRowLength(y) * b + g, l = this.scrollTop - f * b;
var x = 0;
return this.layerConfig.width != r && (x = this.CHANGE_H_SCROLL), (a || p) && (x = this.$updateCachedSize(!0, this.gutterWidth, t.width, t.height), this._signal("scrollbarVisibilityChanged"), p && (r = this.$getLongestLine())), this.layerConfig = {
width: r,
padding: this.$padding,
firstRow: v,
firstRowScreen: f,
lastRow: y,
lineHeight: b,
characterWidth: this.characterWidth,
minHeight: c,
maxHeight: i,
offset: l,
gutterOffset: Math.max(0, Math.ceil((l + t.height - t.scrollerHeight) / b)),
height: this.$size.scrollerHeight
}, x;
}, this.$updateLines = function() {
var e = this.$changedLines.firstRow, t = this.$changedLines.lastRow;
this.$changedLines = null;
var n = this.layerConfig;
if (!(e > n.lastRow + 1 || t < n.firstRow)) return t === 1 / 0 ? (this.$showGutter && this.$gutterLayer.update(n), void this.$textLayer.update(n)) : (this.$textLayer.updateLines(n, e, t), !0);
}, this.$getLongestLine = function() {
var e = this.session.getScreenWidth();
return this.showInvisibles && !this.session.$useWrapMode && (e += 1), Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(e * this.characterWidth));
}, this.updateFrontMarkers = function() {
this.$markerFront.setMarkers(this.session.getMarkers(!0)), this.$loop.schedule(this.CHANGE_MARKER_FRONT);
}, this.updateBackMarkers = function() {
this.$markerBack.setMarkers(this.session.getMarkers()), this.$loop.schedule(this.CHANGE_MARKER_BACK);
}, this.addGutterDecoration = function(e, t) {
this.$gutterLayer.addGutterDecoration(e, t);
}, this.removeGutterDecoration = function(e, t) {
this.$gutterLayer.removeGutterDecoration(e, t);
}, this.updateBreakpoints = function(e) {
this.$loop.schedule(this.CHANGE_GUTTER);
}, this.setAnnotations = function(e) {
this.$gutterLayer.setAnnotations(e), this.$loop.schedule(this.CHANGE_GUTTER);
}, this.updateCursor = function() {
this.$loop.schedule(this.CHANGE_CURSOR);
}, this.hideCursor = function() {
this.$cursorLayer.hideCursor();
}, this.showCursor = function() {
this.$cursorLayer.showCursor();
}, this.scrollSelectionIntoView = function(e, t, n) {
this.scrollCursorIntoView(e, n), this.scrollCursorIntoView(t, n);
}, this.scrollCursorIntoView = function(e, t, n) {
if (0 !== this.$size.scrollerHeight) {
var i = this.$cursorLayer.getPixelPosition(e), r = i.left, o = i.top, a = n && n.top || 0, s = n && n.bottom || 0, l = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
l + a > o ? (t && (o -= t * this.$size.scrollerHeight), 0 === o && (o = -this.scrollMargin.top), this.session.setScrollTop(o)) : l + this.$size.scrollerHeight - s < o + this.lineHeight && (t && (o += t * this.$size.scrollerHeight), this.session.setScrollTop(o + this.lineHeight - this.$size.scrollerHeight));
var c = this.scrollLeft;
c > r ? (r < this.$padding + 2 * this.layerConfig.characterWidth && (r = -this.scrollMargin.left), this.session.setScrollLeft(r)) : c + this.$size.scrollerWidth < r + this.characterWidth ? this.session.setScrollLeft(Math.round(r + this.characterWidth - this.$size.scrollerWidth)) : c <= this.$padding && r - c < this.characterWidth && this.session.setScrollLeft(0);
}
}, this.getScrollTop = function() {
return this.session.getScrollTop();
}, this.getScrollLeft = function() {
return this.session.getScrollLeft();
}, this.getScrollTopRow = function() {
return this.scrollTop / this.lineHeight;
}, this.getScrollBottomRow = function() {
return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);
}, this.scrollToRow = function(e) {
this.session.setScrollTop(e * this.lineHeight);
}, this.alignCursor = function(e, t) {
"number" == typeof e && (e = {
row: e,
column: 0
});
var n = this.$cursorLayer.getPixelPosition(e), i = this.$size.scrollerHeight - this.lineHeight, r = n.top - i * (t || 0);
return this.session.setScrollTop(r), r;
}, this.STEPS = 8, this.$calcSteps = function(e, t) {
var n = 0, i = this.STEPS, r = [];
for (n = 0; n < i; ++n) r.push(function(e, t, n) {
return n * (Math.pow(e - 1, 3) + 1) + t;
}(n / this.STEPS, e, t - e));
return r;
}, this.scrollToLine = function(e, t, n, i) {
var r = this.$cursorLayer.getPixelPosition({
row: e,
column: 0
}).top;
t && (r -= this.$size.scrollerHeight / 2);
var o = this.scrollTop;
this.session.setScrollTop(r), !1 !== n && this.animateScrolling(o, i);
}, this.animateScrolling = function(e, t) {
var n = this.scrollTop;
if (this.$animatedScroll) {
var i = this;
if (e != n) {
if (this.$scrollAnimation) {
var r = this.$scrollAnimation.steps;
if (r.length && (e = r[0]) == n) return;
}
var o = i.$calcSteps(e, n);
this.$scrollAnimation = {
from: e,
to: n,
steps: o
}, clearInterval(this.$timer), i.session.setScrollTop(o.shift()), i.session.$scrollTop = n, this.$timer = setInterval(function() {
o.length ? (i.session.setScrollTop(o.shift()), i.session.$scrollTop = n) : null != n ? (i.session.$scrollTop = -1, i.session.setScrollTop(n), n = null) : (i.$timer = clearInterval(i.$timer), i.$scrollAnimation = null, t && t());
}, 10);
}
}
}, this.scrollToY = function(e) {
this.scrollTop !== e && (this.$loop.schedule(this.CHANGE_SCROLL), this.scrollTop = e);
}, this.scrollToX = function(e) {
this.scrollLeft !== e && (this.scrollLeft = e), this.$loop.schedule(this.CHANGE_H_SCROLL);
}, this.scrollTo = function(e, t) {
this.session.setScrollTop(t), this.session.setScrollLeft(t);
}, this.scrollBy = function(e, t) {
t && this.session.setScrollTop(this.session.getScrollTop() + t), e && this.session.setScrollLeft(this.session.getScrollLeft() + e);
}, this.isScrollableBy = function(e, t) {
return t < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top || (t > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom || (e < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left || (e > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right || void 0)));
}, this.pixelToScreenCoordinates = function(e, t) {
var n = this.scroller.getBoundingClientRect(), i = (e + this.scrollLeft - n.left - this.$padding) / this.characterWidth, r = Math.floor((t + this.scrollTop - n.top) / this.lineHeight), o = Math.round(i);
return {
row: r,
column: o,
side: i - o > 0 ? 1 : -1
};
}, this.screenToTextCoordinates = function(e, t) {
var n = this.scroller.getBoundingClientRect(), i = Math.round((e + this.scrollLeft - n.left - this.$padding) / this.characterWidth), r = (t + this.scrollTop - n.top) / this.lineHeight;
return this.session.screenToDocumentPosition(r, Math.max(i, 0));
}, this.textToScreenCoordinates = function(e, t) {
var n = this.scroller.getBoundingClientRect(), i = this.session.documentToScreenPosition(e, t), r = this.$padding + Math.round(i.column * this.characterWidth), o = i.row * this.lineHeight;
return {
pageX: n.left + r - this.scrollLeft,
pageY: n.top + o - this.scrollTop
};
}, this.visualizeFocus = function() {
r.addCssClass(this.container, "ace_focus");
}, this.visualizeBlur = function() {
r.removeCssClass(this.container, "ace_focus");
}, this.showComposition = function(e) {
this.$composition || (this.$composition = {
keepTextAreaAtCursor: this.$keepTextAreaAtCursor,
cssText: this.textarea.style.cssText
}), this.$keepTextAreaAtCursor = !0, r.addCssClass(this.textarea, "ace_composition"), this.textarea.style.cssText = "", this.$moveTextAreaToCursor();
}, this.setCompositionText = function(e) {
this.$moveTextAreaToCursor();
}, this.hideComposition = function() {
this.$composition && (r.removeCssClass(this.textarea, "ace_composition"), this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor, this.textarea.style.cssText = this.$composition.cssText, this.$composition = null);
}, this.setTheme = function(e, t) {
function n(n) {
if (i.$themeId != e) return t && t();
if (n.cssClass) {
r.importCssString(n.cssText, n.cssClass, i.container.ownerDocument), i.theme && r.removeCssClass(i.container, i.theme.cssClass);
var o = "padding" in n ? n.padding : "padding" in (i.theme || {}) ? 4 : i.$padding;
i.$padding && o != i.$padding && i.setPadding(o), i.$theme = n.cssClass, i.theme = n, r.addCssClass(i.container, n.cssClass), r.setCssClass(i.container, "ace_dark", n.isDark), i.$size && (i.$size.width = 0, i.$updateSizeAsync()), i._dispatchEvent("themeLoaded", {
theme: n
}), t && t();
}
}
var i = this;
if (this.$themeId = e, i._dispatchEvent("themeChange", {
theme: e
}), e && "string" != typeof e) n(e); else {
var a = e || this.$options.theme.initialValue;
o.loadModule([ "theme", a ], n);
}
}, this.getTheme = function() {
return this.$themeId;
}, this.setStyle = function(e, t) {
r.setCssClass(this.container, e, !1 !== t);
}, this.unsetStyle = function(e) {
r.removeCssClass(this.container, e);
}, this.setCursorStyle = function(e) {
this.scroller.style.cursor != e && (this.scroller.style.cursor = e);
}, this.setMouseCursor = function(e) {
this.scroller.style.cursor = e;
}, this.destroy = function() {
this.$textLayer.destroy(), this.$cursorLayer.destroy();
};
}).call(m.prototype), o.defineOptions(m.prototype, "renderer", {
animatedScroll: {
initialValue: !1
},
showInvisibles: {
set: function(e) {
this.$textLayer.setShowInvisibles(e) && this.$loop.schedule(this.CHANGE_TEXT);
},
initialValue: !1
},
showPrintMargin: {
set: function() {
this.$updatePrintMargin();
},
initialValue: !0
},
printMarginColumn: {
set: function() {
this.$updatePrintMargin();
},
initialValue: 80
},
printMargin: {
set: function(e) {
"number" == typeof e && (this.$printMarginColumn = e), this.$showPrintMargin = !!e, this.$updatePrintMargin();
},
get: function() {
return this.$showPrintMargin && this.$printMarginColumn;
}
},
showGutter: {
set: function(e) {
this.$gutter.style.display = e ? "block" : "none", this.$loop.schedule(this.CHANGE_FULL), this.onGutterResize();
},
initialValue: !0
},
fadeFoldWidgets: {
set: function(e) {
r.setCssClass(this.$gutter, "ace_fade-fold-widgets", e);
},
initialValue: !1
},
showFoldWidgets: {
set: function(e) {
this.$gutterLayer.setShowFoldWidgets(e);
},
initialValue: !0
},
showLineNumbers: {
set: function(e) {
this.$gutterLayer.setShowLineNumbers(e), this.$loop.schedule(this.CHANGE_GUTTER);
},
initialValue: !0
},
displayIndentGuides: {
set: function(e) {
this.$textLayer.setDisplayIndentGuides(e) && this.$loop.schedule(this.CHANGE_TEXT);
},
initialValue: !0
},
highlightGutterLine: {
set: function(e) {
if (!this.$gutterLineHighlight) return this.$gutterLineHighlight = r.createElement("div"), this.$gutterLineHighlight.className = "ace_gutter-active-line", void this.$gutter.appendChild(this.$gutterLineHighlight);
this.$gutterLineHighlight.style.display = e ? "" : "none", this.$cursorLayer.$pixelPos && this.$updateGutterLineHighlight();
},
initialValue: !1,
value: !0
},
hScrollBarAlwaysVisible: {
set: function(e) {
(!this.$hScrollBarAlwaysVisible || !this.$horizScroll) && this.$loop.schedule(this.CHANGE_SCROLL);
},
initialValue: !1
},
vScrollBarAlwaysVisible: {
set: function(e) {
(!this.$vScrollBarAlwaysVisible || !this.$vScroll) && this.$loop.schedule(this.CHANGE_SCROLL);
},
initialValue: !1
},
fontSize: {
set: function(e) {
"number" == typeof e && (e += "px"), this.container.style.fontSize = e, this.updateFontSize();
},
initialValue: 12
},
fontFamily: {
set: function(e) {
this.container.style.fontFamily = e, this.updateFontSize();
}
},
maxLines: {
set: function(e) {
this.updateFull();
}
},
minLines: {
set: function(e) {
this.updateFull();
}
},
scrollPastEnd: {
set: function(e) {
e = +e || 0, this.$scrollPastEnd != e && (this.$scrollPastEnd = e, this.$loop.schedule(this.CHANGE_SCROLL));
},
initialValue: 0,
handlesSet: !0
},
fixedWidthGutter: {
set: function(e) {
this.$gutterLayer.$fixedWidth = !!e, this.$loop.schedule(this.CHANGE_GUTTER);
}
},
theme: {
set: function(e) {
this.setTheme(e);
},
get: function() {
return this.$themeId || this.theme;
},
initialValue: "./theme/textmate",
handlesSet: !0
}
}), t.VirtualRenderer = m;
}), ace.define("ace/worker/worker_client", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("../lib/net"), o = e("../lib/event_emitter").EventEmitter, a = e("../config"), s = function(t, n, i, r) {
if (this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.onMessage = this.onMessage.bind(this), e.nameToUrl && !e.toUrl && (e.toUrl = e.nameToUrl), a.get("packaged") || !e.toUrl) r = r || a.moduleUrl(n, "worker"); else {
var o = this.$normalizePath;
r = r || o(e.toUrl("ace/worker/worker.js", null, "_"));
var s = {};
t.forEach(function(t) {
s[t] = o(e.toUrl(t, null, "_").replace(/(\.js)?(\?.*)?$/, ""));
});
}
try {
this.$worker = new Worker(r);
} catch (e) {
if (!(e instanceof window.DOMException)) throw e;
var l = this.$workerBlob(r), c = window.URL || window.webkitURL, u = c.createObjectURL(l);
this.$worker = new Worker(u), c.revokeObjectURL(u);
}
this.$worker.postMessage({
init: !0,
tlns: s,
module: n,
classname: i
}), this.callbackId = 1, this.callbacks = {}, this.$worker.onmessage = this.onMessage;
};
(function() {
i.implement(this, o), this.onMessage = function(e) {
var t = e.data;
switch (t.type) {
case "event":
this._signal(t.name, {
data: t.data
});
break;

case "call":
var n = this.callbacks[t.id];
n && (n(t.data), delete this.callbacks[t.id]);
break;

case "error":
this.reportError(t.data);
break;

case "log":
window.console && console.log && console.log.apply(console, t.data);
}
}, this.reportError = function(e) {
window.console && console.error && console.error(e);
}, this.$normalizePath = function(e) {
return r.qualifyURL(e);
}, this.terminate = function() {
this._signal("terminate", {}), this.deltaQueue = null, this.$worker.terminate(), this.$worker = null, this.$doc && this.$doc.off("change", this.changeListener), this.$doc = null;
}, this.send = function(e, t) {
this.$worker.postMessage({
command: e,
args: t
});
}, this.call = function(e, t, n) {
if (n) {
var i = this.callbackId++;
this.callbacks[i] = n, t.push(i);
}
this.send(e, t);
}, this.emit = function(e, t) {
try {
this.$worker.postMessage({
event: e,
data: {
data: t.data
}
});
} catch (e) {
console.error(e.stack);
}
}, this.attachToDocument = function(e) {
this.$doc && this.terminate(), this.$doc = e, this.call("setValue", [ e.getValue() ]), e.on("change", this.changeListener);
}, this.changeListener = function(e) {
this.deltaQueue || (this.deltaQueue = [], setTimeout(this.$sendDeltaQueue, 0)), "insert" == e.action ? this.deltaQueue.push(e.start, e.lines) : this.deltaQueue.push(e.start, e.end);
}, this.$sendDeltaQueue = function() {
var e = this.deltaQueue;
e && (this.deltaQueue = null, e.length > 50 && e.length > this.$doc.getLength() >> 1 ? this.call("setValue", [ this.$doc.getValue() ]) : this.emit("change", {
data: e
}));
}, this.$workerBlob = function(e) {
var t = "importScripts('" + r.qualifyURL(e) + "');";
try {
return new Blob([ t ], {
type: "application/javascript"
});
} catch (e) {
var n = new (window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder)();
return n.append(t), n.getBlob("application/javascript");
}
};
}).call(s.prototype);
var l = function(e, t, n) {
this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.callbackId = 1, this.callbacks = {}, this.messageBuffer = [];
var i = null, r = !1, s = Object.create(o), l = this;
this.$worker = {}, this.$worker.terminate = function() {}, this.$worker.postMessage = function(e) {
l.messageBuffer.push(e), i && (r ? setTimeout(c) : c());
}, this.setEmitSync = function(e) {
r = e;
};
var c = function() {
var e = l.messageBuffer.shift();
e.command ? i[e.command].apply(i, e.args) : e.event && s._signal(e.event, e.data);
};
s.postMessage = function(e) {
l.onMessage({
data: e
});
}, s.callback = function(e, t) {
this.postMessage({
type: "call",
id: t,
data: e
});
}, s.emit = function(e, t) {
this.postMessage({
type: "event",
name: e,
data: t
});
}, a.loadModule([ "worker", t ], function(e) {
for (i = new e[n](s); l.messageBuffer.length; ) c();
});
};
l.prototype = s.prototype, t.UIWorkerClient = l, t.WorkerClient = s;
}), ace.define("ace/placeholder", [ "require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop" ], function(e, t, n) {
"use strict";
var i = e("./range").Range, r = e("./lib/event_emitter").EventEmitter, o = e("./lib/oop"), a = function(e, t, n, i, r, o) {
var a = this;
this.length = t, this.session = e, this.doc = e.getDocument(), this.mainClass = r, this.othersClass = o, this.$onUpdate = this.onUpdate.bind(this), this.doc.on("change", this.$onUpdate), this.$others = i, this.$onCursorChange = function() {
setTimeout(function() {
a.onCursorChange();
});
}, this.$pos = n;
var s = e.getUndoManager().$undoStack || e.getUndoManager().$undostack || {
length: -1
};
this.$undoStackDepth = s.length, this.setup(), e.selection.on("changeCursor", this.$onCursorChange);
};
(function() {
o.implement(this, r), this.setup = function() {
var e = this, t = this.doc, n = this.session;
this.selectionBefore = n.selection.toJSON(), n.selection.inMultiSelectMode && n.selection.toSingleRange(), this.pos = t.createAnchor(this.$pos.row, this.$pos.column);
var r = this.pos;
r.$insertRight = !0, r.detach(), r.markerId = n.addMarker(new i(r.row, r.column, r.row, r.column + this.length), this.mainClass, null, !1), this.others = [], this.$others.forEach(function(n) {
var i = t.createAnchor(n.row, n.column);
i.$insertRight = !0, i.detach(), e.others.push(i);
}), n.setUndoSelect(!1);
}, this.showOtherMarkers = function() {
if (!this.othersActive) {
var e = this.session, t = this;
this.othersActive = !0, this.others.forEach(function(n) {
n.markerId = e.addMarker(new i(n.row, n.column, n.row, n.column + t.length), t.othersClass, null, !1);
});
}
}, this.hideOtherMarkers = function() {
if (this.othersActive) {
this.othersActive = !1;
for (var e = 0; e < this.others.length; e++) this.session.removeMarker(this.others[e].markerId);
}
}, this.onUpdate = function(e) {
if (this.$updating) return this.updateAnchors(e);
var t = e;
if (t.start.row === t.end.row && t.start.row === this.pos.row) {
this.$updating = !0;
var n = "insert" === e.action ? t.end.column - t.start.column : t.start.column - t.end.column, r = t.start.column >= this.pos.column && t.start.column <= this.pos.column + this.length + 1, o = t.start.column - this.pos.column;
if (this.updateAnchors(e), r && (this.length += n), r && !this.session.$fromUndo) if ("insert" === e.action) for (a = this.others.length - 1; a >= 0; a--) {
l = {
row: (s = this.others[a]).row,
column: s.column + o
};
this.doc.insertMergedLines(l, e.lines);
} else if ("remove" === e.action) for (var a = this.others.length - 1; a >= 0; a--) {
var s = this.others[a], l = {
row: s.row,
column: s.column + o
};
this.doc.remove(new i(l.row, l.column, l.row, l.column - n));
}
this.$updating = !1, this.updateMarkers();
}
}, this.updateAnchors = function(e) {
this.pos.onChange(e);
for (var t = this.others.length; t--; ) this.others[t].onChange(e);
this.updateMarkers();
}, this.updateMarkers = function() {
if (!this.$updating) {
var e = this, t = this.session, n = function(n, r) {
t.removeMarker(n.markerId), n.markerId = t.addMarker(new i(n.row, n.column, n.row, n.column + e.length), r, null, !1);
};
n(this.pos, this.mainClass);
for (var r = this.others.length; r--; ) n(this.others[r], this.othersClass);
}
}, this.onCursorChange = function(e) {
if (!this.$updating && this.session) {
var t = this.session.selection.getCursor();
t.row === this.pos.row && t.column >= this.pos.column && t.column <= this.pos.column + this.length ? (this.showOtherMarkers(), this._emit("cursorEnter", e)) : (this.hideOtherMarkers(), this._emit("cursorLeave", e));
}
}, this.detach = function() {
this.session.removeMarker(this.pos && this.pos.markerId), this.hideOtherMarkers(), this.doc.removeEventListener("change", this.$onUpdate), this.session.selection.removeEventListener("changeCursor", this.$onCursorChange), this.session.setUndoSelect(!0), this.session = null;
}, this.cancel = function() {
if (-1 !== this.$undoStackDepth) {
for (var e = this.session.getUndoManager(), t = (e.$undoStack || e.$undostack).length - this.$undoStackDepth, n = 0; n < t; n++) e.undo(!0);
this.selectionBefore && this.session.selection.fromJSON(this.selectionBefore);
}
};
}).call(a.prototype), t.PlaceHolder = a;
}), ace.define("ace/mouse/multi_select_handler", [ "require", "exports", "module", "ace/lib/event", "ace/lib/useragent" ], function(e, t, n) {
function i(e, t) {
return e.row == t.row && e.column == t.column;
}
var r = e("../lib/event"), o = e("../lib/useragent");
t.onMouseDown = function(e) {
var t = e.domEvent, n = t.altKey, a = t.shiftKey, s = t.ctrlKey, l = e.getAccelKey(), c = e.getButton();
if (s && o.isMac && (c = t.button), e.editor.inMultiSelectMode && 2 == c) e.editor.textInput.onContextMenu(e.domEvent); else if (s || n || l) {
if (0 === c) {
var u, d = e.editor, h = d.selection, p = d.inMultiSelectMode, f = e.getDocumentPosition(), g = h.getCursor(), m = e.inSelection() || h.isEmpty() && i(f, g), v = e.x, y = e.y, b = d.session, w = d.renderer.pixelToScreenCoordinates(v, y), x = w;
if (d.$mouseHandler.$enableJumpToDef) s && n || l && n ? u = a ? "block" : "add" : n && d.$blockSelectEnabled && (u = "block"); else if (l && !n) {
if (u = "add", !p && a) return;
} else n && d.$blockSelectEnabled && (u = "block");
if (u && o.isMac && t.ctrlKey && d.$mouseHandler.cancelContextMenu(), "add" == u) {
if (!p && m) return;
if (!p) {
var C = h.toOrientedRange();
d.addSelectionMarker(C);
}
var _ = h.rangeList.rangeAtPoint(f);
d.$blockScrolling++, d.inVirtualSelectionMode = !0, a && (_ = null, C = h.ranges[0] || C, d.removeSelectionMarker(C)), d.once("mouseup", function() {
var e = h.toOrientedRange();
_ && e.isEmpty() && i(_.cursor, e.cursor) ? h.substractPoint(e.cursor) : (a ? h.substractPoint(C.cursor) : C && (d.removeSelectionMarker(C), h.addRange(C)), h.addRange(e)), d.$blockScrolling--, d.inVirtualSelectionMode = !1;
});
} else if ("block" == u) {
e.stop(), d.inVirtualSelectionMode = !0;
var S, $ = [];
d.$blockScrolling++, p && !l ? h.toSingleRange() : !p && l && (S = h.toOrientedRange(), d.addSelectionMarker(S)), a ? w = b.documentToScreenPosition(h.lead) : h.moveToPosition(f), d.$blockScrolling--, x = {
row: -1,
column: -1
};
var A = function() {
var e = d.renderer.pixelToScreenCoordinates(v, y), t = b.screenToDocumentPosition(e.row, e.column);
i(x, e) && i(t, h.lead) || (x = e, d.$blockScrolling++, d.selection.moveToPosition(t), d.renderer.scrollCursorIntoView(), d.removeSelectionMarkers($), $ = h.rectangularRangeBlock(x, w), d.$mouseHandler.$clickSelection && 1 == $.length && $[0].isEmpty() && ($[0] = d.$mouseHandler.$clickSelection.clone()), $.forEach(d.addSelectionMarker, d), d.updateSelectionMarkers(), d.$blockScrolling--);
};
r.capture(d.container, function(e) {
v = e.clientX, y = e.clientY;
}, function(e) {
clearInterval(k), d.removeSelectionMarkers($), $.length || ($ = [ h.toOrientedRange() ]), d.$blockScrolling++, S && (d.removeSelectionMarker(S), h.toSingleRange(S));
for (var t = 0; t < $.length; t++) h.addRange($[t]);
d.inVirtualSelectionMode = !1, d.$mouseHandler.$clickSelection = null, d.$blockScrolling--;
});
var k = setInterval(function() {
A();
}, 20);
return e.preventDefault();
}
}
} else 0 === c && e.editor.inMultiSelectMode && e.editor.exitMultiSelectMode();
};
}), ace.define("ace/commands/multi_select_commands", [ "require", "exports", "module", "ace/keyboard/hash_handler" ], function(e, t, n) {
t.defaultCommands = [ {
name: "addCursorAbove",
exec: function(e) {
e.selectMoreLines(-1);
},
bindKey: {
win: "Ctrl-Alt-Up",
mac: "Ctrl-Alt-Up"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "addCursorBelow",
exec: function(e) {
e.selectMoreLines(1);
},
bindKey: {
win: "Ctrl-Alt-Down",
mac: "Ctrl-Alt-Down"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "addCursorAboveSkipCurrent",
exec: function(e) {
e.selectMoreLines(-1, !0);
},
bindKey: {
win: "Ctrl-Alt-Shift-Up",
mac: "Ctrl-Alt-Shift-Up"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "addCursorBelowSkipCurrent",
exec: function(e) {
e.selectMoreLines(1, !0);
},
bindKey: {
win: "Ctrl-Alt-Shift-Down",
mac: "Ctrl-Alt-Shift-Down"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectMoreBefore",
exec: function(e) {
e.selectMore(-1);
},
bindKey: {
win: "Ctrl-Alt-Left",
mac: "Ctrl-Alt-Left"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectMoreAfter",
exec: function(e) {
e.selectMore(1);
},
bindKey: {
win: "Ctrl-Alt-Right",
mac: "Ctrl-Alt-Right"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectNextBefore",
exec: function(e) {
e.selectMore(-1, !0);
},
bindKey: {
win: "Ctrl-Alt-Shift-Left",
mac: "Ctrl-Alt-Shift-Left"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "selectNextAfter",
exec: function(e) {
e.selectMore(1, !0);
},
bindKey: {
win: "Ctrl-Alt-Shift-Right",
mac: "Ctrl-Alt-Shift-Right"
},
scrollIntoView: "cursor",
readOnly: !0
}, {
name: "splitIntoLines",
exec: function(e) {
e.multiSelect.splitIntoLines();
},
bindKey: {
win: "Ctrl-Alt-L",
mac: "Ctrl-Alt-L"
},
readOnly: !0
}, {
name: "alignCursors",
exec: function(e) {
e.alignCursors();
},
bindKey: {
win: "Ctrl-Alt-A",
mac: "Ctrl-Alt-A"
},
scrollIntoView: "cursor"
}, {
name: "findAll",
exec: function(e) {
e.findAll();
},
bindKey: {
win: "Ctrl-Alt-K",
mac: "Ctrl-Alt-G"
},
scrollIntoView: "cursor",
readOnly: !0
} ], t.multiSelectCommands = [ {
name: "singleSelection",
bindKey: "esc",
exec: function(e) {
e.exitMultiSelectMode();
},
scrollIntoView: "cursor",
readOnly: !0,
isAvailable: function(e) {
return e && e.inMultiSelectMode;
}
} ];
var i = e("../keyboard/hash_handler").HashHandler;
t.keyboardHandler = new i(t.multiSelectCommands);
}), ace.define("ace/multi_select", [ "require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config" ], function(e, t, n) {
function i(e, t, n) {
return f.$options.wrap = !0, f.$options.needle = t, f.$options.backwards = -1 == n, f.find(e);
}
function r(e, t) {
return e.row == t.row && e.column == t.column;
}
function o(e) {
e.$multiselectOnSessionChange || (e.$onAddRange = e.$onAddRange.bind(e), e.$onRemoveRange = e.$onRemoveRange.bind(e), e.$onMultiSelect = e.$onMultiSelect.bind(e), e.$onSingleSelect = e.$onSingleSelect.bind(e), e.$multiselectOnSessionChange = t.onSessionChange.bind(e), e.$checkMultiselectChange = e.$checkMultiselectChange.bind(e), e.$multiselectOnSessionChange(e), e.on("changeSession", e.$multiselectOnSessionChange), e.on("mousedown", u), e.commands.addCommands(p.defaultCommands), a(e));
}
function a(e) {
function t(t) {
i && (e.renderer.setMouseCursor(""), i = !1);
}
var n = e.textInput.getElement(), i = !1;
d.addListener(n, "keydown", function(n) {
var r = 18 == n.keyCode && !(n.ctrlKey || n.shiftKey || n.metaKey);
e.$blockSelectEnabled && r ? i || (e.renderer.setMouseCursor("crosshair"), i = !0) : i && t();
}), d.addListener(n, "keyup", t), d.addListener(n, "blur", t);
}
var s = e("./range_list").RangeList, l = e("./range").Range, c = e("./selection").Selection, u = e("./mouse/multi_select_handler").onMouseDown, d = e("./lib/event"), h = e("./lib/lang"), p = e("./commands/multi_select_commands");
t.commands = p.defaultCommands.concat(p.multiSelectCommands);
var f = new (0, e("./search").Search)(), g = e("./edit_session").EditSession;
(function() {
this.getSelectionMarkers = function() {
return this.$selectionMarkers;
};
}).call(g.prototype), function() {
this.ranges = null, this.rangeList = null, this.addRange = function(e, t) {
if (e) {
if (!this.inMultiSelectMode && 0 === this.rangeCount) {
var n = this.toOrientedRange();
if (this.rangeList.add(n), this.rangeList.add(e), 2 != this.rangeList.ranges.length) return this.rangeList.removeAll(), t || this.fromOrientedRange(e);
this.rangeList.removeAll(), this.rangeList.add(n), this.$onAddRange(n);
}
e.cursor || (e.cursor = e.end);
var i = this.rangeList.add(e);
return this.$onAddRange(e), i.length && this.$onRemoveRange(i), this.rangeCount > 1 && !this.inMultiSelectMode && (this._signal("multiSelect"), this.inMultiSelectMode = !0, this.session.$undoSelect = !1, this.rangeList.attach(this.session)), t || this.fromOrientedRange(e);
}
}, this.toSingleRange = function(e) {
e = e || this.ranges[0];
var t = this.rangeList.removeAll();
t.length && this.$onRemoveRange(t), e && this.fromOrientedRange(e);
}, this.substractPoint = function(e) {
var t = this.rangeList.substractPoint(e);
if (t) return this.$onRemoveRange(t), t[0];
}, this.mergeOverlappingRanges = function() {
var e = this.rangeList.merge();
e.length ? this.$onRemoveRange(e) : this.ranges[0] && this.fromOrientedRange(this.ranges[0]);
}, this.$onAddRange = function(e) {
this.rangeCount = this.rangeList.ranges.length, this.ranges.unshift(e), this._signal("addRange", {
range: e
});
}, this.$onRemoveRange = function(e) {
if (this.rangeCount = this.rangeList.ranges.length, 1 == this.rangeCount && this.inMultiSelectMode) {
var t = this.rangeList.ranges.pop();
e.push(t), this.rangeCount = 0;
}
for (var n = e.length; n--; ) {
var i = this.ranges.indexOf(e[n]);
this.ranges.splice(i, 1);
}
this._signal("removeRange", {
ranges: e
}), 0 === this.rangeCount && this.inMultiSelectMode && (this.inMultiSelectMode = !1, this._signal("singleSelect"), this.session.$undoSelect = !0, this.rangeList.detach(this.session)), (t = t || this.ranges[0]) && !t.isEqual(this.getRange()) && this.fromOrientedRange(t);
}, this.$initRangeList = function() {
this.rangeList || (this.rangeList = new s(), this.ranges = [], this.rangeCount = 0);
}, this.getAllRanges = function() {
return this.rangeCount ? this.rangeList.ranges.concat() : [ this.getRange() ];
}, this.splitIntoLines = function() {
if (this.rangeCount > 1) {
var e = this.rangeList.ranges, t = e[e.length - 1], n = l.fromPoints(e[0].start, t.end);
this.toSingleRange(), this.setSelectionRange(n, t.cursor == t.start);
} else {
var n = this.getRange(), i = this.isBackwards(), r = n.start.row, o = n.end.row;
if (r == o) {
if (i) var a = n.end, s = n.start; else var a = n.start, s = n.end;
return this.addRange(l.fromPoints(s, s)), void this.addRange(l.fromPoints(a, a));
}
var c = [], u = this.getLineRange(r, !0);
u.start.column = n.start.column, c.push(u);
for (var d = r + 1; d < o; d++) c.push(this.getLineRange(d, !0));
(u = this.getLineRange(o, !0)).end.column = n.end.column, c.push(u), c.forEach(this.addRange, this);
}
}, this.toggleBlockSelection = function() {
if (this.rangeCount > 1) {
var e = this.rangeList.ranges, t = e[e.length - 1], n = l.fromPoints(e[0].start, t.end);
this.toSingleRange(), this.setSelectionRange(n, t.cursor == t.start);
} else {
var i = this.session.documentToScreenPosition(this.selectionLead), r = this.session.documentToScreenPosition(this.selectionAnchor);
this.rectangularRangeBlock(i, r).forEach(this.addRange, this);
}
}, this.rectangularRangeBlock = function(e, t, n) {
var i = [], o = e.column < t.column;
if (o) var a = e.column, s = t.column; else var a = t.column, s = e.column;
var c = e.row < t.row;
if (c) var u = e.row, d = t.row; else var u = t.row, d = e.row;
a < 0 && (a = 0), u < 0 && (u = 0), u == d && (n = !0);
for (var h = u; h <= d; h++) {
var p = l.fromPoints(this.session.screenToDocumentPosition(h, a), this.session.screenToDocumentPosition(h, s));
if (p.isEmpty()) {
if (f && r(p.end, f)) break;
var f = p.end;
}
p.cursor = o ? p.start : p.end, i.push(p);
}
if (c && i.reverse(), !n) {
for (var g = i.length - 1; i[g].isEmpty() && g > 0; ) g--;
if (g > 0) for (var m = 0; i[m].isEmpty(); ) m++;
for (var v = g; v >= m; v--) i[v].isEmpty() && i.splice(v, 1);
}
return i;
};
}.call(c.prototype);
var m = e("./editor").Editor;
(function() {
this.updateSelectionMarkers = function() {
this.renderer.updateCursor(), this.renderer.updateBackMarkers();
}, this.addSelectionMarker = function(e) {
e.cursor || (e.cursor = e.end);
var t = this.getSelectionStyle();
return e.marker = this.session.addMarker(e, "ace_selection", t), this.session.$selectionMarkers.push(e), this.session.selectionMarkerCount = this.session.$selectionMarkers.length, e;
}, this.removeSelectionMarker = function(e) {
if (e.marker) {
this.session.removeMarker(e.marker);
var t = this.session.$selectionMarkers.indexOf(e);
-1 != t && this.session.$selectionMarkers.splice(t, 1), this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
}
}, this.removeSelectionMarkers = function(e) {
for (var t = this.session.$selectionMarkers, n = e.length; n--; ) {
var i = e[n];
if (i.marker) {
this.session.removeMarker(i.marker);
var r = t.indexOf(i);
-1 != r && t.splice(r, 1);
}
}
this.session.selectionMarkerCount = t.length;
}, this.$onAddRange = function(e) {
this.addSelectionMarker(e.range), this.renderer.updateCursor(), this.renderer.updateBackMarkers();
}, this.$onRemoveRange = function(e) {
this.removeSelectionMarkers(e.ranges), this.renderer.updateCursor(), this.renderer.updateBackMarkers();
}, this.$onMultiSelect = function(e) {
this.inMultiSelectMode || (this.inMultiSelectMode = !0, this.setStyle("ace_multiselect"), this.keyBinding.addKeyboardHandler(p.keyboardHandler), this.commands.setDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers());
}, this.$onSingleSelect = function(e) {
this.session.multiSelect.inVirtualMode || (this.inMultiSelectMode = !1, this.unsetStyle("ace_multiselect"), this.keyBinding.removeKeyboardHandler(p.keyboardHandler), this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers(), this._emit("changeSelection"));
}, this.$onMultiSelectExec = function(e) {
var t = e.command, n = e.editor;
if (n.multiSelect) {
if (t.multiSelectAction) "forEach" == t.multiSelectAction ? i = n.forEachSelection(t, e.args) : "forEachLine" == t.multiSelectAction ? i = n.forEachSelection(t, e.args, !0) : "single" == t.multiSelectAction ? (n.exitMultiSelectMode(), i = t.exec(n, e.args || {})) : i = t.multiSelectAction(n, e.args || {}); else {
var i = t.exec(n, e.args || {});
n.multiSelect.addRange(n.multiSelect.toOrientedRange()), n.multiSelect.mergeOverlappingRanges();
}
return i;
}
}, this.forEachSelection = function(e, t, n) {
if (!this.inVirtualSelectionMode) {
var i, r = n && n.keepOrder, o = 1 == n || n && n.$byLines, a = this.session, s = this.selection, l = s.rangeList, u = (r ? s : l).ranges;
if (!u.length) return e.exec ? e.exec(this, t || {}) : e(this, t || {});
var d = s._eventRegistry;
s._eventRegistry = {};
var h = new c(a);
this.inVirtualSelectionMode = !0;
for (var p = u.length; p--; ) {
if (o) for (;p > 0 && u[p].start.row == u[p - 1].end.row; ) p--;
h.fromOrientedRange(u[p]), h.index = p, this.selection = a.selection = h;
var f = e.exec ? e.exec(this, t || {}) : e(this, t || {});
!i && void 0 !== f && (i = f), h.toOrientedRange(u[p]);
}
h.detach(), this.selection = a.selection = s, this.inVirtualSelectionMode = !1, s._eventRegistry = d, s.mergeOverlappingRanges();
var g = this.renderer.$scrollAnimation;
return this.onCursorChange(), this.onSelectionChange(), g && g.from == g.to && this.renderer.animateScrolling(g.from), i;
}
}, this.exitMultiSelectMode = function() {
this.inMultiSelectMode && !this.inVirtualSelectionMode && this.multiSelect.toSingleRange();
}, this.getSelectedText = function() {
var e = "";
if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
for (var t = this.multiSelect.rangeList.ranges, n = [], i = 0; i < t.length; i++) n.push(this.session.getTextRange(t[i]));
var r = this.session.getDocument().getNewLineCharacter();
(e = n.join(r)).length == (n.length - 1) * r.length && (e = "");
} else this.selection.isEmpty() || (e = this.session.getTextRange(this.getSelectionRange()));
return e;
}, this.$checkMultiselectChange = function(e, t) {
if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
var n = this.multiSelect.ranges[0];
if (this.multiSelect.isEmpty() && t == this.multiSelect.anchor) return;
var i = t == this.multiSelect.anchor ? n.cursor == n.start ? n.end : n.start : n.cursor;
(i.row != t.row || this.session.$clipPositionToDocument(i.row, i.column).column != t.column) && this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());
}
}, this.findAll = function(e, t, n) {
if (t = t || {}, t.needle = e || t.needle, void 0 == t.needle) {
var i = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
t.needle = this.session.getTextRange(i);
}
this.$search.set(t);
var r = this.$search.findAll(this.session);
if (!r.length) return 0;
this.$blockScrolling += 1;
var o = this.multiSelect;
n || o.toSingleRange(r[0]);
for (var a = r.length; a--; ) o.addRange(r[a], !0);
return i && o.rangeList.rangeAtPoint(i.start) && o.addRange(i, !0), this.$blockScrolling -= 1, r.length;
}, this.selectMoreLines = function(e, t) {
var n = this.selection.toOrientedRange(), i = n.cursor == n.end, r = this.session.documentToScreenPosition(n.cursor);
this.selection.$desiredColumn && (r.column = this.selection.$desiredColumn);
var o = this.session.screenToDocumentPosition(r.row + e, r.column);
if (n.isEmpty()) s = o; else var a = this.session.documentToScreenPosition(i ? n.end : n.start), s = this.session.screenToDocumentPosition(a.row + e, a.column);
if (i) (c = l.fromPoints(o, s)).cursor = c.start; else {
var c = l.fromPoints(s, o);
c.cursor = c.end;
}
if (c.desiredColumn = r.column, this.selection.inMultiSelectMode) {
if (t) var u = n.cursor;
} else this.selection.addRange(n);
this.selection.addRange(c), u && this.selection.substractPoint(u);
}, this.transposeSelections = function(e) {
for (var t = this.session, n = t.multiSelect, i = n.ranges, r = i.length; r--; ) if ((a = i[r]).isEmpty()) {
s = t.getWordRange(a.start.row, a.start.column);
a.start.row = s.start.row, a.start.column = s.start.column, a.end.row = s.end.row, a.end.column = s.end.column;
}
n.mergeOverlappingRanges();
for (var o = [], r = i.length; r--; ) {
var a = i[r];
o.unshift(t.getTextRange(a));
}
e < 0 ? o.unshift(o.pop()) : o.push(o.shift());
for (r = i.length; r--; ) {
var s = (a = i[r]).clone();
t.replace(a, o[r]), a.start.row = s.start.row, a.start.column = s.start.column;
}
}, this.selectMore = function(e, t, n) {
var r = this.session, o = r.multiSelect.toOrientedRange();
if (!o.isEmpty() || (o = r.getWordRange(o.start.row, o.start.column), o.cursor = -1 == e ? o.start : o.end, this.multiSelect.addRange(o), !n)) {
var a = i(r, r.getTextRange(o), e);
a && (a.cursor = -1 == e ? a.start : a.end, this.$blockScrolling += 1, this.session.unfold(a), this.multiSelect.addRange(a), this.$blockScrolling -= 1, this.renderer.scrollCursorIntoView(null, .5)), t && this.multiSelect.substractPoint(o.cursor);
}
}, this.alignCursors = function() {
var e = this.session, t = e.multiSelect, n = t.ranges, i = -1, r = n.filter(function(e) {
if (e.cursor.row == i) return !0;
i = e.cursor.row;
});
if (n.length && r.length != n.length - 1) {
r.forEach(function(e) {
t.substractPoint(e.cursor);
});
var o = 0, a = 1 / 0, s = n.map(function(t) {
var n = t.cursor, i = e.getLine(n.row).substr(n.column).search(/\S/g);
return -1 == i && (i = 0), n.column > o && (o = n.column), i < a && (a = i), i;
});
n.forEach(function(t, n) {
var i = t.cursor, r = o - i.column, c = s[n] - a;
r > c ? e.insert(i, h.stringRepeat(" ", r - c)) : e.remove(new l(i.row, i.column, i.row, i.column - r + c)), t.start.column = t.end.column = o, t.start.row = t.end.row = i.row, t.cursor = t.end;
}), t.fromOrientedRange(n[0]), this.renderer.updateCursor(), this.renderer.updateBackMarkers();
} else {
var c = this.selection.getRange(), u = c.start.row, d = c.end.row, p = u == d;
if (p) {
var f, g = this.session.getLength();
do {
f = this.session.getLine(d);
} while (/[=:]/.test(f) && ++d < g);
do {
f = this.session.getLine(u);
} while (/[=:]/.test(f) && --u > 0);
u < 0 && (u = 0), d >= g && (d = g - 1);
}
var m = this.session.removeFullLines(u, d);
m = this.$reAlignText(m, p), this.session.insert({
row: u,
column: 0
}, m.join("\n") + "\n"), p || (c.start.column = 0, c.end.column = m[m.length - 1].length), this.selection.setRange(c);
}
}, this.$reAlignText = function(e, t) {
function n(e) {
return h.stringRepeat(" ", e);
}
function i(e) {
return e[2] ? n(r) + e[2] + n(o - e[2].length + a) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0];
}
var r, o, a, s = !0, l = !0;
return e.map(function(e) {
var t = e.match(/(\s*)(.*?)(\s*)([=:].*)/);
return t ? null == r ? (r = t[1].length, o = t[2].length, a = t[3].length, t) : (r + o + a != t[1].length + t[2].length + t[3].length && (l = !1), r != t[1].length && (s = !1), r > t[1].length && (r = t[1].length), o < t[2].length && (o = t[2].length), a > t[3].length && (a = t[3].length), t) : [ e ];
}).map(t ? i : s ? l ? function(e) {
return e[2] ? n(r + o - e[2].length) + e[2] + n(a, " ") + e[4].replace(/^([=:])\s+/, "$1 ") : e[0];
} : i : function(e) {
return e[2] ? n(r) + e[2] + n(a) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0];
});
};
}).call(m.prototype), t.onSessionChange = function(e) {
var t = e.session;
t && !t.multiSelect && (t.$selectionMarkers = [], t.selection.$initRangeList(), t.multiSelect = t.selection), this.multiSelect = t && t.multiSelect;
var n = e.oldSession;
n && (n.multiSelect.off("addRange", this.$onAddRange), n.multiSelect.off("removeRange", this.$onRemoveRange), n.multiSelect.off("multiSelect", this.$onMultiSelect), n.multiSelect.off("singleSelect", this.$onSingleSelect), n.multiSelect.lead.off("change", this.$checkMultiselectChange), n.multiSelect.anchor.off("change", this.$checkMultiselectChange)), t && (t.multiSelect.on("addRange", this.$onAddRange), t.multiSelect.on("removeRange", this.$onRemoveRange), t.multiSelect.on("multiSelect", this.$onMultiSelect), t.multiSelect.on("singleSelect", this.$onSingleSelect), t.multiSelect.lead.on("change", this.$checkMultiselectChange), t.multiSelect.anchor.on("change", this.$checkMultiselectChange)), t && this.inMultiSelectMode != t.selection.inMultiSelectMode && (t.selection.inMultiSelectMode ? this.$onMultiSelect() : this.$onSingleSelect());
}, t.MultiSelect = o, e("./config").defineOptions(m.prototype, "editor", {
enableMultiselect: {
set: function(e) {
o(this), e ? (this.on("changeSession", this.$multiselectOnSessionChange), this.on("mousedown", u)) : (this.off("changeSession", this.$multiselectOnSessionChange), this.off("mousedown", u));
},
value: !0
},
enableBlockSelect: {
set: function(e) {
this.$blockSelectEnabled = e;
},
value: !0
}
});
}), ace.define("ace/mode/folding/fold_mode", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../../range").Range, r = t.FoldMode = function() {};
(function() {
this.foldingStartMarker = null, this.foldingStopMarker = null, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n);
return this.foldingStartMarker.test(i) ? "start" : "markbeginend" == t && this.foldingStopMarker && this.foldingStopMarker.test(i) ? "end" : "";
}, this.getFoldWidgetRange = function(e, t, n) {
return null;
}, this.indentationBlock = function(e, t, n) {
var r = /\S/, o = e.getLine(t), a = o.search(r);
if (-1 != a) {
for (var s = n || o.length, l = e.getLength(), c = t, u = t; ++t < l; ) {
var d = e.getLine(t).search(r);
if (-1 != d) {
if (d <= a) break;
u = t;
}
}
if (u > c) {
var h = e.getLine(u).length;
return new i(c, s, u, h);
}
}
}, this.openingBracketBlock = function(e, t, n, r, o) {
var a = {
row: n,
column: r + 1
}, s = e.$findClosingBracket(t, a, o);
if (s) {
var l = e.foldWidgets[s.row];
return null == l && (l = e.getFoldWidget(s.row)), "start" == l && s.row > a.row && (s.row--, s.column = e.getLine(s.row).length), i.fromPoints(a, s);
}
}, this.closingBracketBlock = function(e, t, n, r, o) {
var a = {
row: n,
column: r
}, s = e.$findOpeningBracket(t, a);
if (s) return s.column++, a.column--, i.fromPoints(s, a);
};
}).call(r.prototype);
}), ace.define("ace/theme/textmate", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
"use strict";
t.isDark = !1, t.cssClass = "ace-tm", t.cssText = '.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}', 
e("../lib/dom").importCssString(t.cssText, t.cssClass);
}), ace.define("ace/line_widgets", [ "require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/range" ], function(e, t, n) {
"use strict";
function i(e) {
this.session = e, this.session.widgetManager = this, this.session.getRowLength = this.getRowLength, this.session.$getWidgetScreenLength = this.$getWidgetScreenLength, this.updateOnChange = this.updateOnChange.bind(this), this.renderWidgets = this.renderWidgets.bind(this), this.measureWidgets = this.measureWidgets.bind(this), this.session._changedWidgets = [], this.$onChangeEditor = this.$onChangeEditor.bind(this), this.session.on("change", this.updateOnChange), this.session.on("changeFold", this.updateOnFold), this.session.on("changeEditor", this.$onChangeEditor);
}
e("./lib/oop");
var r = e("./lib/dom");
e("./range").Range;
(function() {
this.getRowLength = function(e) {
var t;
return t = this.lineWidgets ? this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0 : 0, this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t;
}, this.$getWidgetScreenLength = function() {
var e = 0;
return this.lineWidgets.forEach(function(t) {
t && t.rowCount && !t.hidden && (e += t.rowCount);
}), e;
}, this.$onChangeEditor = function(e) {
this.attach(e.editor);
}, this.attach = function(e) {
e && e.widgetManager && e.widgetManager != this && e.widgetManager.detach(), this.editor != e && (this.detach(), this.editor = e, e && (e.widgetManager = this, e.renderer.on("beforeRender", this.measureWidgets), e.renderer.on("afterRender", this.renderWidgets)));
}, this.detach = function(e) {
var t = this.editor;
if (t) {
this.editor = null, t.widgetManager = null, t.renderer.off("beforeRender", this.measureWidgets), t.renderer.off("afterRender", this.renderWidgets);
var n = this.session.lineWidgets;
n && n.forEach(function(e) {
e && e.el && e.el.parentNode && (e._inDocument = !1, e.el.parentNode.removeChild(e.el));
});
}
}, this.updateOnFold = function(e, t) {
var n = t.lineWidgets;
if (n && e.action) {
for (var i = e.data, r = i.start.row, o = i.end.row, a = "add" == e.action, s = r + 1; s < o; s++) n[s] && (n[s].hidden = a);
n[o] && (a ? n[r] ? n[o].hidden = a : n[r] = n[o] : (n[r] == n[o] && (n[r] = void 0), n[o].hidden = a));
}
}, this.updateOnChange = function(e) {
var t = this.session.lineWidgets;
if (t) {
var n = e.start.row, i = e.end.row - n;
if (0 !== i) if ("remove" == e.action) t.splice(n + 1, i).forEach(function(e) {
e && this.removeLineWidget(e);
}, this), this.$updateRows(); else {
var r = new Array(i);
r.unshift(n, 0), t.splice.apply(t, r), this.$updateRows();
}
}
}, this.$updateRows = function() {
var e = this.session.lineWidgets;
if (e) {
var t = !0;
e.forEach(function(e, n) {
if (e) for (t = !1, e.row = n; e.$oldWidget; ) e.$oldWidget.row = n, e = e.$oldWidget;
}), t && (this.session.lineWidgets = null);
}
}, this.addLineWidget = function(e) {
this.session.lineWidgets || (this.session.lineWidgets = new Array(this.session.getLength()));
var t = this.session.lineWidgets[e.row];
t && (e.$oldWidget = t, t.el && t.el.parentNode && (t.el.parentNode.removeChild(t.el), t._inDocument = !1)), this.session.lineWidgets[e.row] = e, e.session = this.session;
var n = this.editor.renderer;
e.html && !e.el && (e.el = r.createElement("div"), e.el.innerHTML = e.html), e.el && (r.addCssClass(e.el, "ace_lineWidgetContainer"), e.el.style.position = "absolute", e.el.style.zIndex = 5, n.container.appendChild(e.el), e._inDocument = !0), e.coverGutter || (e.el.style.zIndex = 3), e.pixelHeight || (e.pixelHeight = e.el.offsetHeight), null == e.rowCount && (e.rowCount = e.pixelHeight / n.layerConfig.lineHeight);
var i = this.session.getFoldAt(e.row, 0);
if (e.$fold = i, i) {
var o = this.session.lineWidgets;
e.row != i.end.row || o[i.start.row] ? e.hidden = !0 : o[i.start.row] = e;
}
return this.session._emit("changeFold", {
data: {
start: {
row: e.row
}
}
}), this.$updateRows(), this.renderWidgets(null, n), this.onWidgetChanged(e), e;
}, this.removeLineWidget = function(e) {
if (e._inDocument = !1, e.session = null, e.el && e.el.parentNode && e.el.parentNode.removeChild(e.el), e.editor && e.editor.destroy) try {
e.editor.destroy();
} catch (e) {}
if (this.session.lineWidgets) {
var t = this.session.lineWidgets[e.row];
if (t == e) this.session.lineWidgets[e.row] = e.$oldWidget, e.$oldWidget && this.onWidgetChanged(e.$oldWidget); else for (;t; ) {
if (t.$oldWidget == e) {
t.$oldWidget = e.$oldWidget;
break;
}
t = t.$oldWidget;
}
}
this.session._emit("changeFold", {
data: {
start: {
row: e.row
}
}
}), this.$updateRows();
}, this.getWidgetsAtRow = function(e) {
for (var t = this.session.lineWidgets, n = t && t[e], i = []; n; ) i.push(n), n = n.$oldWidget;
return i;
}, this.onWidgetChanged = function(e) {
this.session._changedWidgets.push(e), this.editor && this.editor.renderer.updateFull();
}, this.measureWidgets = function(e, t) {
var n = this.session._changedWidgets, i = t.layerConfig;
if (n && n.length) {
for (var r = 1 / 0, o = 0; o < n.length; o++) {
var a = n[o];
if (a && a.el && a.session == this.session) {
if (!a._inDocument) {
if (this.session.lineWidgets[a.row] != a) continue;
a._inDocument = !0, t.container.appendChild(a.el);
}
a.h = a.el.offsetHeight, a.fixedWidth || (a.w = a.el.offsetWidth, a.screenWidth = Math.ceil(a.w / i.characterWidth));
var s = a.h / i.lineHeight;
a.coverLine && (s -= this.session.getRowLineCount(a.row)) < 0 && (s = 0), a.rowCount != s && (a.rowCount = s, a.row < r && (r = a.row));
}
}
r != 1 / 0 && (this.session._emit("changeFold", {
data: {
start: {
row: r
}
}
}), this.session.lineWidgetWidth = null), this.session._changedWidgets = [];
}
}, this.renderWidgets = function(e, t) {
var n = t.layerConfig, i = this.session.lineWidgets;
if (i) {
for (var r = Math.min(this.firstRow, n.firstRow), o = Math.max(this.lastRow, n.lastRow, i.length); r > 0 && !i[r]; ) r--;
this.firstRow = n.firstRow, this.lastRow = n.lastRow, t.$cursorLayer.config = n;
for (var a = r; a <= o; a++) {
var s = i[a];
if (s && s.el) if (s.hidden) s.el.style.top = -100 - (s.pixelHeight || 0) + "px"; else {
s._inDocument || (s._inDocument = !0, t.container.appendChild(s.el));
var l = t.$cursorLayer.getPixelPosition({
row: a,
column: 0
}, !0).top;
s.coverLine || (l += n.lineHeight * this.session.getRowLineCount(s.row)), s.el.style.top = l - n.offset + "px";
var c = s.coverGutter ? 0 : t.gutterWidth;
s.fixedWidth || (c -= t.scrollLeft), s.el.style.left = c + "px", s.fullWidth && s.screenWidth && (s.el.style.minWidth = n.width + 2 * n.padding + "px"), s.fixedWidth ? s.el.style.right = t.scrollBar.getWidth() + "px" : s.el.style.right = "";
}
}
}
};
}).call(i.prototype), t.LineWidgets = i;
}), ace.define("ace/ext/error_marker", [ "require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range" ], function(e, t, n) {
"use strict";
function i(e, t, n) {
for (var i = 0, r = e.length - 1; i <= r; ) {
var o = i + r >> 1, a = n(t, e[o]);
if (a > 0) i = o + 1; else {
if (!(a < 0)) return o;
r = o - 1;
}
}
return -(i + 1);
}
function r(e, t, n) {
var r = e.getAnnotations().sort(s.comparePoints);
if (r.length) {
var o = i(r, {
row: t,
column: -1
}, s.comparePoints);
o < 0 && (o = -o - 1), o >= r.length ? o = n > 0 ? 0 : r.length - 1 : 0 === o && n < 0 && (o = r.length - 1);
var a = r[o];
if (a && n) {
if (a.row === t) {
do {
a = r[o += n];
} while (a && a.row === t);
if (!a) return r.slice();
}
var l = [];
t = a.row;
do {
l[n < 0 ? "unshift" : "push"](a), a = r[o += n];
} while (a && a.row == t);
return l.length && l;
}
}
}
var o = e("../line_widgets").LineWidgets, a = e("../lib/dom"), s = e("../range").Range;
t.showErrorMarker = function(e, t) {
var n = e.session;
n.widgetManager || (n.widgetManager = new o(n), n.widgetManager.attach(e));
var i = e.getCursorPosition(), s = i.row, l = n.widgetManager.getWidgetsAtRow(s).filter(function(e) {
return "errorMarker" == e.type;
})[0];
l ? l.destroy() : s -= t;
var c, u = r(n, s, t);
if (u) {
var d = u[0];
i.column = (d.pos && "number" != typeof d.column ? d.pos.sc : d.column) || 0, i.row = d.row, c = e.renderer.$gutterLayer.$annotations[i.row];
} else {
if (l) return;
c = {
text: [ "Looks good!" ],
className: "ace_ok"
};
}
e.session.unfold(i.row), e.selection.moveToPosition(i);
var h = {
row: i.row,
fixedWidth: !0,
coverGutter: !0,
el: a.createElement("div"),
type: "errorMarker"
}, p = h.el.appendChild(a.createElement("div")), f = h.el.appendChild(a.createElement("div"));
f.className = "error_widget_arrow " + c.className;
var g = e.renderer.$cursorLayer.getPixelPosition(i).left;
f.style.left = g + e.renderer.gutterWidth - 5 + "px", h.el.className = "error_widget_wrapper", p.className = "error_widget " + c.className, p.innerHTML = c.text.join("<br>"), p.appendChild(a.createElement("div"));
var m = function(e, t, n) {
if (0 === t && ("esc" === n || "return" === n)) return h.destroy(), {
command: "null"
};
};
h.destroy = function() {
e.$mouseHandler.isMousePressed || (e.keyBinding.removeKeyboardHandler(m), n.widgetManager.removeLineWidget(h), e.off("changeSelection", h.destroy), e.off("changeSession", h.destroy), e.off("mouseup", h.destroy), e.off("change", h.destroy));
}, e.keyBinding.addKeyboardHandler(m), e.on("changeSelection", h.destroy), e.on("changeSession", h.destroy), e.on("mouseup", h.destroy), e.on("change", h.destroy), e.session.widgetManager.addLineWidget(h), h.el.onmousedown = e.focus.bind(e), e.renderer.scrollCursorIntoView(null, .5, {
bottom: h.el.offsetHeight
});
}, a.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }", "");
}), ace.define("ace/ace", [ "require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/dom", "ace/lib/event", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config" ], function(e, t, n) {
"use strict";
e("./lib/fixoldbrowsers");
var i = e("./lib/dom"), r = e("./lib/event"), o = e("./editor").Editor, a = e("./edit_session").EditSession, s = e("./undomanager").UndoManager, l = e("./virtual_renderer").VirtualRenderer;
e("./worker/worker_client"), e("./keyboard/hash_handler"), e("./placeholder"), e("./multi_select"), e("./mode/folding/fold_mode"), e("./theme/textmate"), e("./ext/error_marker"), t.config = e("./config"), t.require = e, t.edit = function(e) {
if ("string" == typeof e) {
var n = e;
if (!(e = document.getElementById(n))) throw new Error("ace.edit can't find div #" + n);
}
if (e && e.env && e.env.editor instanceof o) return e.env.editor;
var a = "";
if (e && /input|textarea/i.test(e.tagName)) {
var s = e;
a = s.value, e = i.createElement("pre"), s.parentNode.replaceChild(e, s);
} else e && (a = i.getInnerText(e), e.innerHTML = "");
var c = t.createEditSession(a), u = new o(new l(e));
u.setSession(c);
var d = {
document: c,
editor: u,
onResize: u.resize.bind(u, null)
};
return s && (d.textarea = s), r.addListener(window, "resize", d.onResize), u.on("destroy", function() {
r.removeListener(window, "resize", d.onResize), d.editor.container.env = null;
}), u.container.env = u.env = d, u;
}, t.createEditSession = function(e, t) {
var n = new a(e, t);
return n.setUndoManager(new s()), n;
}, t.EditSession = a, t.UndoManager = s, t.version = "1.2.2";
}), ace.require([ "ace/ace" ], function(e) {
e && e.config.init(!0), window.ace || (window.ace = e);
for (var t in e) e.hasOwnProperty(t) && (window.ace[t] = e[t]);
}), ace.define("ace/ext/searchbox", [ "require", "exports", "module", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/keyboard/hash_handler", "ace/lib/keys" ], function(e, t, n) {
"use strict";
var i = e("../lib/dom"), r = e("../lib/lang"), o = e("../lib/event"), a = e("../keyboard/hash_handler").HashHandler, s = e("../lib/keys");
i.importCssString(".ace_search {background-color: #ddd;border: 1px solid #cbcbcb;border-top: 0 none;max-width: 325px;overflow: hidden;margin: 0;padding: 4px;padding-right: 6px;padding-bottom: 0;position: absolute;top: 0px;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {border-radius: 3px;border: 1px solid #cbcbcb;float: left;margin-bottom: 4px;overflow: hidden;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {background-color: white;border-right: 1px solid #cbcbcb;border: 0 none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;float: left;height: 22px;outline: 0;padding: 0 7px;width: 214px;margin: 0;}.ace_searchbtn,.ace_replacebtn {background: #fff;border: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;float: left;height: 22px;margin: 0;position: relative;}.ace_searchbtn:last-child,.ace_replacebtn:last-child {border-top-right-radius: 3px;border-bottom-right-radius: 3px;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn {background-position: 50% 50%;background-repeat: no-repeat;width: 27px;}.ace_searchbtn.prev {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    }.ace_searchbtn.next {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    }.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;float: right;font: 16px/16px Arial;height: 14px;margin: 5px 1px 9px 5px;padding: 0;text-align: center;width: 14px;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_replacebtn.prev {width: 54px}.ace_replacebtn.next {width: 27px}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;-moz-box-sizing: border-box;box-sizing:    border-box;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;}", "ace_searchbox");
var l = '<div class="ace_search right">    <button type="button" action="hide" class="ace_searchbtn_close"></button>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <button type="button" action="findNext" class="ace_searchbtn next"></button>        <button type="button" action="findPrev" class="ace_searchbtn prev"></button>        <button type="button" action="findAll" class="ace_searchbtn" title="Alt-Enter">All</button>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <button type="button" action="replaceAndFindNext" class="ace_replacebtn">Replace</button>        <button type="button" action="replaceAll" class="ace_replacebtn">All</button>    </div>    <div class="ace_search_options">        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>    </div></div>'.replace(/>\s+/g, ">"), c = function(e, t, n) {
var r = i.createElement("div");
r.innerHTML = l, this.element = r.firstChild, this.$init(), this.setEditor(e);
};
(function() {
this.setEditor = function(e) {
e.searchBox = this, e.container.appendChild(this.element), this.editor = e;
}, this.$initElements = function(e) {
this.searchBox = e.querySelector(".ace_search_form"), this.replaceBox = e.querySelector(".ace_replace_form"), this.searchOptions = e.querySelector(".ace_search_options"), this.regExpOption = e.querySelector("[action=toggleRegexpMode]"), this.caseSensitiveOption = e.querySelector("[action=toggleCaseSensitive]"), this.wholeWordOption = e.querySelector("[action=toggleWholeWords]"), this.searchInput = this.searchBox.querySelector(".ace_search_field"), this.replaceInput = this.replaceBox.querySelector(".ace_search_field");
}, this.$init = function() {
var e = this.element;
this.$initElements(e);
var t = this;
o.addListener(e, "mousedown", function(e) {
setTimeout(function() {
t.activeInput.focus();
}, 0), o.stopPropagation(e);
}), o.addListener(e, "click", function(e) {
var n = (e.target || e.srcElement).getAttribute("action");
n && t[n] ? t[n]() : t.$searchBarKb.commands[n] && t.$searchBarKb.commands[n].exec(t), o.stopPropagation(e);
}), o.addCommandKeyListener(e, function(e, n, i) {
var r = s.keyCodeToString(i), a = t.$searchBarKb.findKeyCommand(n, r);
a && a.exec && (a.exec(t), o.stopEvent(e));
}), this.$onChange = r.delayedCall(function() {
t.find(!1, !1);
}), o.addListener(this.searchInput, "input", function() {
t.$onChange.schedule(20);
}), o.addListener(this.searchInput, "focus", function() {
t.activeInput = t.searchInput, t.searchInput.value && t.highlight();
}), o.addListener(this.replaceInput, "focus", function() {
t.activeInput = t.replaceInput, t.searchInput.value && t.highlight();
});
}, this.$closeSearchBarKb = new a([ {
bindKey: "Esc",
name: "closeSearchBar",
exec: function(e) {
e.searchBox.hide();
}
} ]), this.$searchBarKb = new a(), this.$searchBarKb.bindKeys({
"Ctrl-f|Command-f": function(e) {
var t = e.isReplace = !e.isReplace;
e.replaceBox.style.display = t ? "" : "none", e.searchInput.focus();
},
"Ctrl-H|Command-Option-F": function(e) {
e.replaceBox.style.display = "", e.replaceInput.focus();
},
"Ctrl-G|Command-G": function(e) {
e.findNext();
},
"Ctrl-Shift-G|Command-Shift-G": function(e) {
e.findPrev();
},
esc: function(e) {
setTimeout(function() {
e.hide();
});
},
Return: function(e) {
e.activeInput == e.replaceInput && e.replace(), e.findNext();
},
"Shift-Return": function(e) {
e.activeInput == e.replaceInput && e.replace(), e.findPrev();
},
"Alt-Return": function(e) {
e.activeInput == e.replaceInput && e.replaceAll(), e.findAll();
},
Tab: function(e) {
(e.activeInput == e.replaceInput ? e.searchInput : e.replaceInput).focus();
}
}), this.$searchBarKb.addCommands([ {
name: "toggleRegexpMode",
bindKey: {
win: "Alt-R|Alt-/",
mac: "Ctrl-Alt-R|Ctrl-Alt-/"
},
exec: function(e) {
e.regExpOption.checked = !e.regExpOption.checked, e.$syncOptions();
}
}, {
name: "toggleCaseSensitive",
bindKey: {
win: "Alt-C|Alt-I",
mac: "Ctrl-Alt-R|Ctrl-Alt-I"
},
exec: function(e) {
e.caseSensitiveOption.checked = !e.caseSensitiveOption.checked, e.$syncOptions();
}
}, {
name: "toggleWholeWords",
bindKey: {
win: "Alt-B|Alt-W",
mac: "Ctrl-Alt-B|Ctrl-Alt-W"
},
exec: function(e) {
e.wholeWordOption.checked = !e.wholeWordOption.checked, e.$syncOptions();
}
} ]), this.$syncOptions = function() {
i.setCssClass(this.regExpOption, "checked", this.regExpOption.checked), i.setCssClass(this.wholeWordOption, "checked", this.wholeWordOption.checked), i.setCssClass(this.caseSensitiveOption, "checked", this.caseSensitiveOption.checked), this.find(!1, !1);
}, this.highlight = function(e) {
this.editor.session.highlight(e || this.editor.$search.$options.re), this.editor.renderer.updateBackMarkers();
}, this.find = function(e, t, n) {
var r = !this.editor.find(this.searchInput.value, {
skipCurrent: e,
backwards: t,
wrap: !0,
regExp: this.regExpOption.checked,
caseSensitive: this.caseSensitiveOption.checked,
wholeWord: this.wholeWordOption.checked,
preventScroll: n
}) && this.searchInput.value;
i.setCssClass(this.searchBox, "ace_nomatch", r), this.editor._emit("findSearchBox", {
match: !r
}), this.highlight();
}, this.findNext = function() {
this.find(!0, !1);
}, this.findPrev = function() {
this.find(!0, !0);
}, this.findAll = function() {
var e = !this.editor.findAll(this.searchInput.value, {
regExp: this.regExpOption.checked,
caseSensitive: this.caseSensitiveOption.checked,
wholeWord: this.wholeWordOption.checked
}) && this.searchInput.value;
i.setCssClass(this.searchBox, "ace_nomatch", e), this.editor._emit("findSearchBox", {
match: !e
}), this.highlight(), this.hide();
}, this.replace = function() {
this.editor.getReadOnly() || this.editor.replace(this.replaceInput.value);
}, this.replaceAndFindNext = function() {
this.editor.getReadOnly() || (this.editor.replace(this.replaceInput.value), this.findNext());
}, this.replaceAll = function() {
this.editor.getReadOnly() || this.editor.replaceAll(this.replaceInput.value);
}, this.hide = function() {
this.element.style.display = "none", this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb), this.editor.focus();
}, this.show = function(e, t) {
this.element.style.display = "", this.replaceBox.style.display = t ? "" : "none", this.isReplace = t, e && (this.searchInput.value = e), this.find(!1, !1, !0), this.searchInput.focus(), this.searchInput.select(), this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb);
}, this.isFocused = function() {
var e = document.activeElement;
return e == this.searchInput || e == this.replaceInput;
};
}).call(c.prototype), t.SearchBox = c, t.Search = function(e, t) {
(e.searchBox || new c(e)).show(e.session.getTextRange(), t);
};
}), ace.require([ "ace/ext/searchbox" ], function() {}), ace.define("ace/mode/sh_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text_highlight_rules").TextHighlightRules, o = t.reservedKeywords = "!|{|}|case|do|done|elif|else|esac|fi|for|if|in|then|until|while|&|;|export|local|read|typeset|unset|elif|select|set|function|declare|readonly", a = t.languageConstructs = "[|]|alias|bg|bind|break|builtin|cd|command|compgen|complete|continue|dirs|disown|echo|enable|eval|exec|exit|fc|fg|getopts|hash|help|history|jobs|kill|let|logout|popd|printf|pushd|pwd|return|set|shift|shopt|source|suspend|test|times|trap|type|ulimit|umask|unalias|wait", s = function() {
var e = this.createKeywordMapper({
keyword: o,
"support.function.builtin": a,
"invalid.deprecated": "debugger"
}, "identifier"), t = "(?:\\d+)";
this.$rules = {
start: [ {
token: "constant",
regex: /\\./
}, {
token: [ "text", "comment" ],
regex: /(^|\s)(#.*)$/
}, {
token: "string",
regex: '"',
push: [ {
token: "constant.language.escape",
regex: /\\(?:[$`"\\]|$)/
}, {
include: "variables"
}, {
token: "keyword.operator",
regex: /`/
}, {
token: "string",
regex: '"',
next: "pop"
}, {
defaultToken: "string"
} ]
}, {
token: "string",
regex: "\\$'",
push: [ {
token: "constant.language.escape",
regex: /\\(?:[abeEfnrtv\\'"]|x[a-fA-F\d]{1,2}|u[a-fA-F\d]{4}([a-fA-F\d]{4})?|c.|\d{1,3})/
}, {
token: "string",
regex: "'",
next: "pop"
}, {
defaultToken: "string"
} ]
}, {
regex: "<<<",
token: "keyword.operator"
}, {
stateName: "heredoc",
regex: "(<<-?)(\\s*)(['\"`]?)([\\w\\-]+)(['\"`]?)",
onMatch: function(e, t, n) {
var i = "-" == e[2] ? "indentedHeredoc" : "heredoc", r = e.split(this.splitRegex);
return n.push(i, r[4]), [ {
type: "constant",
value: r[1]
}, {
type: "text",
value: r[2]
}, {
type: "string",
value: r[3]
}, {
type: "support.class",
value: r[4]
}, {
type: "string",
value: r[5]
} ];
},
rules: {
heredoc: [ {
onMatch: function(e, t, n) {
return e === n[1] ? (n.shift(), n.shift(), this.next = n[0] || "start", "support.class") : (this.next = "", "string");
},
regex: ".*$",
next: "start"
} ],
indentedHeredoc: [ {
token: "string",
regex: "^\t+"
}, {
onMatch: function(e, t, n) {
return e === n[1] ? (n.shift(), n.shift(), this.next = n[0] || "start", "support.class") : (this.next = "", "string");
},
regex: ".*$",
next: "start"
} ]
}
}, {
regex: "$",
token: "empty",
next: function(e, t) {
return "heredoc" === t[0] || "indentedHeredoc" === t[0] ? t[0] : e;
}
}, {
token: [ "keyword", "text", "text", "text", "variable" ],
regex: /(declare|local|readonly)(\s+)(?:(-[fixar]+)(\s+))?([a-zA-Z_][a-zA-Z0-9_]*\b)/
}, {
token: "variable.language",
regex: "(?:\\$(?:SHLVL|\\$|\\!|\\?))"
}, {
token: "variable",
regex: "(?:[a-zA-Z_][a-zA-Z0-9_]*=)"
}, {
include: "variables"
}, {
token: "support.function",
regex: "(?:[a-zA-Z_][a-zA-Z0-9_]*\\s*\\(\\))"
}, {
token: "support.function",
regex: "(?:&(?:\\d+))"
}, {
token: "string",
start: "'",
end: "'"
}, {
token: "constant.numeric",
regex: "(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+)))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))"
}, {
token: "constant.numeric",
regex: "(?:(?:[1-9]\\d*)|(?:0))\\b"
}, {
token: e,
regex: "[a-zA-Z_][a-zA-Z0-9_]*\\b"
}, {
token: "keyword.operator",
regex: "\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!=|[%&|`]"
}, {
token: "punctuation.operator",
regex: ";"
}, {
token: "paren.lparen",
regex: "[\\[\\(\\{]"
}, {
token: "paren.rparen",
regex: "[\\]]"
}, {
token: "paren.rparen",
regex: "[\\)\\}]",
next: "pop"
} ],
variables: [ {
token: "variable",
regex: /(\$)(\w+)/
}, {
token: [ "variable", "paren.lparen" ],
regex: /(\$)(\()/,
push: "start"
}, {
token: [ "variable", "paren.lparen", "keyword.operator", "variable", "keyword.operator" ],
regex: /(\$)(\{)([#!]?)(\w+|[*@#?\-$!0_])(:[?+\-=]?|##?|%%?|,,?\/|\^\^?)?/,
push: "start"
}, {
token: "variable",
regex: /\$[*@#?\-$!0_]/
}, {
token: [ "variable", "paren.lparen" ],
regex: /(\$)(\{)/,
push: "start"
} ]
}, this.normalizeRules();
};
i.inherits(s, r), t.ShHighlightRules = s;
}), ace.define("ace/mode/folding/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode" ], function(e, t, n) {
"use strict";
var i = e("../../lib/oop"), r = e("../../range").Range, o = e("./fold_mode").FoldMode, a = t.FoldMode = function(e) {
e && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end)));
};
i.inherits(a, o), function() {
this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n);
if (this.singleLineBlockCommentRe.test(i) && !this.startRegionRe.test(i) && !this.tripleStarBlockCommentRe.test(i)) return "";
var r = this._getFoldWidgetBase(e, t, n);
return !r && this.startRegionRe.test(i) ? "start" : r;
}, this.getFoldWidgetRange = function(e, t, n, i) {
var r = e.getLine(n);
if (this.startRegionRe.test(r)) return this.getCommentRegionBlock(e, r, n);
var o = r.match(this.foldingStartMarker);
if (o) {
s = o.index;
if (o[1]) return this.openingBracketBlock(e, o[1], n, s);
var a = e.getCommentFoldRange(n, s + o[0].length, 1);
return a && !a.isMultiLine() && (i ? a = this.getSectionRange(e, n) : "all" != t && (a = null)), a;
}
if ("markbegin" !== t && (o = r.match(this.foldingStopMarker))) {
var s = o.index + o[0].length;
return o[1] ? this.closingBracketBlock(e, o[1], n, s) : e.getCommentFoldRange(n, s, -1);
}
}, this.getSectionRange = function(e, t) {
for (var n = e.getLine(t), i = n.search(/\S/), o = t, a = n.length, s = t += 1, l = e.getLength(); ++t < l; ) {
var c = (n = e.getLine(t)).search(/\S/);
if (-1 !== c) {
if (i > c) break;
var u = this.getFoldWidgetRange(e, "all", t);
if (u) {
if (u.start.row <= o) break;
if (u.isMultiLine()) t = u.end.row; else if (i == c) break;
}
s = t;
}
}
return new r(o, a, s, e.getLine(s).length);
}, this.getCommentRegionBlock = function(e, t, n) {
for (var i = t.search(/\s*$/), o = e.getLength(), a = n, s = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, l = 1; ++n < o; ) {
t = e.getLine(n);
var c = s.exec(t);
if (c && (c[1] ? l-- : l++, !l)) break;
}
var u = n;
if (u > a) return new r(a, i, u, t.length);
};
}.call(a.prototype);
}), ace.define("ace/mode/behaviour/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang" ], function(e, t, n) {
"use strict";
var i, r = e("../../lib/oop"), o = e("../behaviour").Behaviour, a = e("../../token_iterator").TokenIterator, s = e("../../lib/lang"), l = [ "text", "paren.rparen", "punctuation.operator" ], c = [ "text", "paren.rparen", "punctuation.operator", "comment" ], u = {}, d = function(e) {
var t = -1;
if (e.multiSelect && (t = e.selection.index, u.rangeCount != e.multiSelect.rangeCount && (u = {
rangeCount: e.multiSelect.rangeCount
})), u[t]) return i = u[t];
i = u[t] = {
autoInsertedBrackets: 0,
autoInsertedRow: -1,
autoInsertedLineEnd: "",
maybeInsertedBrackets: 0,
maybeInsertedRow: -1,
maybeInsertedLineStart: "",
maybeInsertedLineEnd: ""
};
}, h = function(e, t, n, i) {
var r = e.end.row - e.start.row;
return {
text: n + t + i,
selection: [ 0, e.start.column + 1, r, e.end.column + (r ? 0 : 1) ]
};
}, p = function() {
this.add("braces", "insertion", function(e, t, n, r, o) {
var a = n.getCursorPosition(), l = r.doc.getLine(a.row);
if ("{" == o) {
d(n);
var c = n.getSelectionRange(), u = r.doc.getTextRange(c);
if ("" !== u && "{" !== u && n.getWrapBehavioursEnabled()) return h(c, u, "{", "}");
if (p.isSaneInsertion(n, r)) return /[\]\}\)]/.test(l[a.column]) || n.inMultiSelectMode ? (p.recordAutoInsert(n, r, "}"), {
text: "{}",
selection: [ 1, 1 ]
}) : (p.recordMaybeInsert(n, r, "{"), {
text: "{",
selection: [ 1, 1 ]
});
} else if ("}" == o) {
if (d(n), "}" == (g = l.substring(a.column, a.column + 1)) && null !== r.$findOpeningBracket("}", {
column: a.column + 1,
row: a.row
}) && p.isAutoInsertedClosing(a, l, o)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
} else {
if ("\n" == o || "\r\n" == o) {
d(n);
var f = "";
p.isMaybeInsertedClosing(a, l) && (f = s.stringRepeat("}", i.maybeInsertedBrackets), p.clearMaybeInsertedClosing());
var g = l.substring(a.column, a.column + 1);
if ("}" === g) {
var m = r.findMatchingBracket({
row: a.row,
column: a.column + 1
}, "}");
if (!m) return null;
v = this.$getIndent(r.getLine(m.row));
} else {
if (!f) return void p.clearMaybeInsertedClosing();
var v = this.$getIndent(l);
}
var y = v + r.getTabString();
return {
text: "\n" + y + "\n" + v + f,
selection: [ 1, y.length, 1, y.length ]
};
}
p.clearMaybeInsertedClosing();
}
}), this.add("braces", "deletion", function(e, t, n, r, o) {
var a = r.doc.getTextRange(o);
if (!o.isMultiLine() && "{" == a) {
if (d(n), "}" == r.doc.getLine(o.start.row).substring(o.end.column, o.end.column + 1)) return o.end.column++, o;
i.maybeInsertedBrackets--;
}
}), this.add("parens", "insertion", function(e, t, n, i, r) {
if ("(" == r) {
d(n);
var o = n.getSelectionRange(), a = i.doc.getTextRange(o);
if ("" !== a && n.getWrapBehavioursEnabled()) return h(o, a, "(", ")");
if (p.isSaneInsertion(n, i)) return p.recordAutoInsert(n, i, ")"), {
text: "()",
selection: [ 1, 1 ]
};
} else if (")" == r) {
d(n);
var s = n.getCursorPosition(), l = i.doc.getLine(s.row);
if (")" == l.substring(s.column, s.column + 1) && null !== i.$findOpeningBracket(")", {
column: s.column + 1,
row: s.row
}) && p.isAutoInsertedClosing(s, l, r)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
}
}), this.add("parens", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && "(" == o && (d(n), ")" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))) return r.end.column++, r;
}), this.add("brackets", "insertion", function(e, t, n, i, r) {
if ("[" == r) {
d(n);
var o = n.getSelectionRange(), a = i.doc.getTextRange(o);
if ("" !== a && n.getWrapBehavioursEnabled()) return h(o, a, "[", "]");
if (p.isSaneInsertion(n, i)) return p.recordAutoInsert(n, i, "]"), {
text: "[]",
selection: [ 1, 1 ]
};
} else if ("]" == r) {
d(n);
var s = n.getCursorPosition(), l = i.doc.getLine(s.row);
if ("]" == l.substring(s.column, s.column + 1) && null !== i.$findOpeningBracket("]", {
column: s.column + 1,
row: s.row
}) && p.isAutoInsertedClosing(s, l, r)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
}
}), this.add("brackets", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && "[" == o && (d(n), "]" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))) return r.end.column++, r;
}), this.add("string_dquotes", "insertion", function(e, t, n, i, r) {
if ('"' == r || "'" == r) {
d(n);
var o = r, a = n.getSelectionRange(), s = i.doc.getTextRange(a);
if ("" !== s && "'" !== s && '"' != s && n.getWrapBehavioursEnabled()) return h(a, s, o, o);
if (!s) {
var l = n.getCursorPosition(), c = i.doc.getLine(l.row), u = c.substring(l.column - 1, l.column), p = c.substring(l.column, l.column + 1), f = i.getTokenAt(l.row, l.column), g = i.getTokenAt(l.row, l.column + 1);
if ("\\" == u && f && /escape/.test(f.type)) return null;
var m, v = f && /string|escape/.test(f.type), y = !g || /string|escape/.test(g.type);
if (p == o) m = v !== y; else {
if (v && !y) return null;
if (v && y) return null;
var b = i.$mode.tokenRe;
b.lastIndex = 0;
var w = b.test(u);
b.lastIndex = 0;
var x = b.test(u);
if (w || x) return null;
if (p && !/[\s;,.})\]\\]/.test(p)) return null;
m = !0;
}
return {
text: m ? o + o : "",
selection: [ 1, 1 ]
};
}
}
}), this.add("string_dquotes", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && ('"' == o || "'" == o) && (d(n), i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2) == o)) return r.end.column++, r;
});
};
p.isSaneInsertion = function(e, t) {
var n = e.getCursorPosition(), i = new a(t, n.row, n.column);
if (!this.$matchTokenType(i.getCurrentToken() || "text", l)) {
var r = new a(t, n.row, n.column + 1);
if (!this.$matchTokenType(r.getCurrentToken() || "text", l)) return !1;
}
return i.stepForward(), i.getCurrentTokenRow() !== n.row || this.$matchTokenType(i.getCurrentToken() || "text", c);
}, p.$matchTokenType = function(e, t) {
return t.indexOf(e.type || e) > -1;
}, p.recordAutoInsert = function(e, t, n) {
var r = e.getCursorPosition(), o = t.doc.getLine(r.row);
this.isAutoInsertedClosing(r, o, i.autoInsertedLineEnd[0]) || (i.autoInsertedBrackets = 0), i.autoInsertedRow = r.row, i.autoInsertedLineEnd = n + o.substr(r.column), i.autoInsertedBrackets++;
}, p.recordMaybeInsert = function(e, t, n) {
var r = e.getCursorPosition(), o = t.doc.getLine(r.row);
this.isMaybeInsertedClosing(r, o) || (i.maybeInsertedBrackets = 0), i.maybeInsertedRow = r.row, i.maybeInsertedLineStart = o.substr(0, r.column) + n, i.maybeInsertedLineEnd = o.substr(r.column), i.maybeInsertedBrackets++;
}, p.isAutoInsertedClosing = function(e, t, n) {
return i.autoInsertedBrackets > 0 && e.row === i.autoInsertedRow && n === i.autoInsertedLineEnd[0] && t.substr(e.column) === i.autoInsertedLineEnd;
}, p.isMaybeInsertedClosing = function(e, t) {
return i.maybeInsertedBrackets > 0 && e.row === i.maybeInsertedRow && t.substr(e.column) === i.maybeInsertedLineEnd && t.substr(0, e.column) == i.maybeInsertedLineStart;
}, p.popAutoInsertedClosing = function() {
i.autoInsertedLineEnd = i.autoInsertedLineEnd.substr(1), i.autoInsertedBrackets--;
}, p.clearMaybeInsertedClosing = function() {
i && (i.maybeInsertedBrackets = 0, i.maybeInsertedRow = -1);
}, r.inherits(p, o), t.CstyleBehaviour = p;
}), ace.define("ace/mode/sh", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/sh_highlight_rules", "ace/range", "ace/mode/folding/cstyle", "ace/mode/behaviour/cstyle" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text").Mode, o = e("./sh_highlight_rules").ShHighlightRules, a = e("../range").Range, s = e("./folding/cstyle").FoldMode, l = e("./behaviour/cstyle").CstyleBehaviour, c = function() {
this.HighlightRules = o, this.foldingRules = new s(), this.$behaviour = new l();
};
i.inherits(c, r), function() {
this.lineCommentStart = "#", this.getNextLineIndent = function(e, t, n) {
var i = this.$getIndent(t), r = this.getTokenizer().getLineTokens(t, e).tokens;
return r.length && "comment" == r[r.length - 1].type ? i : ("start" == e && t.match(/^.*[\{\(\[\:]\s*$/) && (i += n), i);
};
var e = {
pass: 1,
return: 1,
raise: 1,
break: 1,
continue: 1
};
this.checkOutdent = function(t, n, i) {
if ("\r\n" !== i && "\r" !== i && "\n" !== i) return !1;
var r = this.getTokenizer().getLineTokens(n.trim(), t).tokens;
if (!r) return !1;
do {
var o = r.pop();
} while (o && ("comment" == o.type || "text" == o.type && o.value.match(/^\s+$/)));
return !!o && ("keyword" == o.type && e[o.value]);
}, this.autoOutdent = function(e, t, n) {
n += 1;
var i = this.$getIndent(t.getLine(n)), r = t.getTabString();
i.slice(-r.length) == r && t.remove(new a(n, i.length - r.length, n, i.length));
}, this.$id = "ace/mode/sh";
}.call(c.prototype), t.Mode = c;
}), ace.define("ace/mode/dockerfile_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/sh_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./sh_highlight_rules").ShHighlightRules, o = function() {
r.call(this);
for (var e = this.$rules.start, t = 0; t < e.length; t++) if ("variable.language" == e[t].token) {
e.splice(t, 0, {
token: "constant.language",
regex: "(?:^(?:FROM|MAINTAINER|RUN|CMD|EXPOSE|ENV|ADD|ENTRYPOINT|VOLUME|USER|WORKDIR|ONBUILD|COPY|LABEL)\\b)",
caseInsensitive: !0
});
break;
}
};
i.inherits(o, r), t.DockerfileHighlightRules = o;
}), ace.define("ace/mode/dockerfile", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/sh", "ace/mode/dockerfile_highlight_rules", "ace/mode/folding/cstyle" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./sh").Mode, o = e("./dockerfile_highlight_rules").DockerfileHighlightRules, a = e("./folding/cstyle").FoldMode, s = function() {
r.call(this), this.HighlightRules = o, this.foldingRules = new a();
};
i.inherits(s, r), function() {
this.$id = "ace/mode/dockerfile";
}.call(s.prototype), t.Mode = s;
}), ace.define("ace/mode/doc_comment_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text_highlight_rules").TextHighlightRules, o = function() {
this.$rules = {
start: [ {
token: "comment.doc.tag",
regex: "@[\\w\\d_]+"
}, o.getTagRule(), {
defaultToken: "comment.doc",
caseInsensitive: !0
} ]
};
};
i.inherits(o, r), o.getTagRule = function(e) {
return {
token: "comment.doc.tag.storage.type",
regex: "\\b(?:TODO|FIXME|XXX|HACK)\\b"
};
}, o.getStartRule = function(e) {
return {
token: "comment.doc",
regex: "\\/\\*(?=\\*)",
next: e
};
}, o.getEndRule = function(e) {
return {
token: "comment.doc",
regex: "\\*\\/",
next: e
};
}, t.DocCommentHighlightRules = o;
}), ace.define("ace/mode/javascript_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/doc_comment_highlight_rules", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
function i() {
var e = s.replace("\\d", "\\d\\-"), t = {
onMatch: function(e, t, n) {
var i = "/" == e.charAt(1) ? 2 : 1;
return 1 == i ? (t != this.nextState ? n.unshift(this.next, this.nextState, 0) : n.unshift(this.next), n[2]++) : 2 == i && t == this.nextState && (n[1]--, (!n[1] || n[1] < 0) && (n.shift(), n.shift())), [ {
type: "meta.tag.punctuation." + (1 == i ? "" : "end-") + "tag-open.xml",
value: e.slice(0, i)
}, {
type: "meta.tag.tag-name.xml",
value: e.substr(i)
} ];
},
regex: "</?" + e,
next: "jsxAttributes",
nextState: "jsx"
};
this.$rules.start.unshift(t);
var n = {
regex: "{",
token: "paren.quasi.start",
push: "start"
};
this.$rules.jsx = [ n, t, {
include: "reference"
}, {
defaultToken: "string"
} ], this.$rules.jsxAttributes = [ {
token: "meta.tag.punctuation.tag-close.xml",
regex: "/?>",
onMatch: function(e, t, n) {
return t == n[0] && n.shift(), 2 == e.length && (n[0] == this.nextState && n[1]--, (!n[1] || n[1] < 0) && n.splice(0, 2)), this.next = n[0] || "start", [ {
type: this.token,
value: e
} ];
},
nextState: "jsx"
}, n, {
token: "entity.other.attribute-name.xml",
regex: e
}, {
token: "keyword.operator.attribute-equals.xml",
regex: "="
}, {
token: "text.tag-whitespace.xml",
regex: "\\s+"
}, {
token: "string.attribute-value.xml",
regex: "'",
stateName: "jsx_attr_q",
push: [ {
token: "string.attribute-value.xml",
regex: "'",
next: "pop"
}, n, {
include: "reference"
}, {
defaultToken: "string.attribute-value.xml"
} ]
}, {
token: "string.attribute-value.xml",
regex: '"',
stateName: "jsx_attr_qq",
push: [ n, {
token: "string.attribute-value.xml",
regex: '"',
next: "pop"
}, {
include: "reference"
}, {
defaultToken: "string.attribute-value.xml"
} ]
} ], this.$rules.reference = [ {
token: "constant.language.escape.reference.xml",
regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
} ];
}
var r = e("../lib/oop"), o = e("./doc_comment_highlight_rules").DocCommentHighlightRules, a = e("./text_highlight_rules").TextHighlightRules, s = "[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*\\b", l = function(e) {
var t = this.createKeywordMapper({
"variable.language": "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",
keyword: "const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
"storage.type": "const|let|var|function",
"constant.language": "null|Infinity|NaN|undefined",
"support.function": "alert",
"constant.language.boolean": "true|false"
}, "identifier"), n = "\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";
this.$rules = {
no_regex: [ {
token: "comment",
regex: "\\/\\/",
next: "line_comment"
}, o.getStartRule("doc-start"), {
token: "comment",
regex: /\/\*/,
next: "comment"
}, {
token: "string",
regex: "'(?=.)",
next: "qstring"
}, {
token: "string",
regex: '"(?=.)',
next: "qqstring"
}, {
token: "constant.numeric",
regex: /0[xX][0-9a-fA-F]+\b/
}, {
token: "constant.numeric",
regex: /[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/
}, {
token: [ "storage.type", "punctuation.operator", "support.function", "punctuation.operator", "entity.name.function", "text", "keyword.operator" ],
regex: "(" + s + ")(\\.)(prototype)(\\.)(" + s + ")(\\s*)(=)",
next: "function_arguments"
}, {
token: [ "storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen" ],
regex: "(" + s + ")(\\.)(" + s + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen" ],
regex: "(" + s + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "entity.name.function", "text", "paren.lparen" ],
regex: "(" + s + ")(\\.)(" + s + ")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "storage.type", "text", "entity.name.function", "text", "paren.lparen" ],
regex: "(function)(\\s+)(" + s + ")(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "entity.name.function", "text", "punctuation.operator", "text", "storage.type", "text", "paren.lparen" ],
regex: "(" + s + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
next: "function_arguments"
}, {
token: [ "text", "text", "storage.type", "text", "paren.lparen" ],
regex: "(:)(\\s*)(function)(\\s*)(\\()",
next: "function_arguments"
}, {
token: "keyword",
regex: "(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",
next: "start"
}, {
token: [ "support.constant" ],
regex: /that\b/
}, {
token: [ "storage.type", "punctuation.operator", "support.function.firebug" ],
regex: /(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/
}, {
token: t,
regex: s
}, {
token: "punctuation.operator",
regex: /[.](?![.])/,
next: "property"
}, {
token: "keyword.operator",
regex: /--|\+\+|\.{3}|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,
next: "start"
}, {
token: "punctuation.operator",
regex: /[?:,;.]/,
next: "start"
}, {
token: "paren.lparen",
regex: /[\[({]/,
next: "start"
}, {
token: "paren.rparen",
regex: /[\])}]/
}, {
token: "comment",
regex: /^#!.*$/
} ],
property: [ {
token: "text",
regex: "\\s+"
}, {
token: [ "storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "entity.name.function", "text", "paren.lparen" ],
regex: "(" + s + ")(\\.)(" + s + ")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",
next: "function_arguments"
}, {
token: "punctuation.operator",
regex: /[.](?![.])/
}, {
token: "support.function",
regex: /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
}, {
token: "support.function.dom",
regex: /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
}, {
token: "support.constant",
regex: /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
}, {
token: "identifier",
regex: s
}, {
regex: "",
token: "empty",
next: "no_regex"
} ],
start: [ o.getStartRule("doc-start"), {
token: "comment",
regex: "\\/\\*",
next: "comment_regex_allowed"
}, {
token: "comment",
regex: "\\/\\/",
next: "line_comment_regex_allowed"
}, {
token: "string.regexp",
regex: "\\/",
next: "regex"
}, {
token: "text",
regex: "\\s+|^$",
next: "start"
}, {
token: "empty",
regex: "",
next: "no_regex"
} ],
regex: [ {
token: "regexp.keyword.operator",
regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
}, {
token: "string.regexp",
regex: "/[sxngimy]*",
next: "no_regex"
}, {
token: "invalid",
regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
}, {
token: "constant.language.escape",
regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/
}, {
token: "constant.language.delimiter",
regex: /\|/
}, {
token: "constant.language.escape",
regex: /\[\^?/,
next: "regex_character_class"
}, {
token: "empty",
regex: "$",
next: "no_regex"
}, {
defaultToken: "string.regexp"
} ],
regex_character_class: [ {
token: "regexp.charclass.keyword.operator",
regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
}, {
token: "constant.language.escape",
regex: "]",
next: "regex"
}, {
token: "constant.language.escape",
regex: "-"
}, {
token: "empty",
regex: "$",
next: "no_regex"
}, {
defaultToken: "string.regexp.charachterclass"
} ],
function_arguments: [ {
token: "variable.parameter",
regex: s
}, {
token: "punctuation.operator",
regex: "[, ]+"
}, {
token: "punctuation.operator",
regex: "$"
}, {
token: "empty",
regex: "",
next: "no_regex"
} ],
comment_regex_allowed: [ o.getTagRule(), {
token: "comment",
regex: "\\*\\/",
next: "start"
}, {
defaultToken: "comment",
caseInsensitive: !0
} ],
comment: [ o.getTagRule(), {
token: "comment",
regex: "\\*\\/",
next: "no_regex"
}, {
defaultToken: "comment",
caseInsensitive: !0
} ],
line_comment_regex_allowed: [ o.getTagRule(), {
token: "comment",
regex: "$|^",
next: "start"
}, {
defaultToken: "comment",
caseInsensitive: !0
} ],
line_comment: [ o.getTagRule(), {
token: "comment",
regex: "$|^",
next: "no_regex"
}, {
defaultToken: "comment",
caseInsensitive: !0
} ],
qqstring: [ {
token: "constant.language.escape",
regex: n
}, {
token: "string",
regex: "\\\\$",
next: "qqstring"
}, {
token: "string",
regex: '"|$',
next: "no_regex"
}, {
defaultToken: "string"
} ],
qstring: [ {
token: "constant.language.escape",
regex: n
}, {
token: "string",
regex: "\\\\$",
next: "qstring"
}, {
token: "string",
regex: "'|$",
next: "no_regex"
}, {
defaultToken: "string"
} ]
}, e && e.noES6 || (this.$rules.no_regex.unshift({
regex: "[{}]",
onMatch: function(e, t, n) {
return this.next = "{" == e ? this.nextState : "", "{" == e && n.length ? (n.unshift("start", t), "paren") : "}" == e && n.length && (n.shift(), this.next = n.shift(), -1 != this.next.indexOf("string") || -1 != this.next.indexOf("jsx")) ? "paren.quasi.end" : "{" == e ? "paren.lparen" : "paren.rparen";
},
nextState: "start"
}, {
token: "string.quasi.start",
regex: /`/,
push: [ {
token: "constant.language.escape",
regex: n
}, {
token: "paren.quasi.start",
regex: /\${/,
push: "start"
}, {
token: "string.quasi.end",
regex: /`/,
next: "pop"
}, {
defaultToken: "string.quasi"
} ]
}), (!e || !e.noJSX) && i.call(this)), this.embedRules(o, "doc-", [ o.getEndRule("no_regex") ]), this.normalizeRules();
};
r.inherits(l, a), t.JavaScriptHighlightRules = l;
}), ace.define("ace/mode/matching_brace_outdent", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../range").Range, r = function() {};
(function() {
this.checkOutdent = function(e, t) {
return !!/^\s+$/.test(e) && /^\s*\}/.test(t);
}, this.autoOutdent = function(e, t) {
var n = e.getLine(t).match(/^(\s*\})/);
if (!n) return 0;
var r = n[1].length, o = e.findMatchingBracket({
row: t,
column: r
});
if (!o || o.row == t) return 0;
var a = this.$getIndent(e.getLine(o.row));
e.replace(new i(t, 0, t, r - 1), a);
}, this.$getIndent = function(e) {
return e.match(/^\s*/)[0];
};
}).call(r.prototype), t.MatchingBraceOutdent = r;
}), ace.define("ace/mode/behaviour/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang" ], function(e, t, n) {
"use strict";
var i, r = e("../../lib/oop"), o = e("../behaviour").Behaviour, a = e("../../token_iterator").TokenIterator, s = e("../../lib/lang"), l = [ "text", "paren.rparen", "punctuation.operator" ], c = [ "text", "paren.rparen", "punctuation.operator", "comment" ], u = {}, d = function(e) {
var t = -1;
if (e.multiSelect && (t = e.selection.index, u.rangeCount != e.multiSelect.rangeCount && (u = {
rangeCount: e.multiSelect.rangeCount
})), u[t]) return i = u[t];
i = u[t] = {
autoInsertedBrackets: 0,
autoInsertedRow: -1,
autoInsertedLineEnd: "",
maybeInsertedBrackets: 0,
maybeInsertedRow: -1,
maybeInsertedLineStart: "",
maybeInsertedLineEnd: ""
};
}, h = function(e, t, n, i) {
var r = e.end.row - e.start.row;
return {
text: n + t + i,
selection: [ 0, e.start.column + 1, r, e.end.column + (r ? 0 : 1) ]
};
}, p = function() {
this.add("braces", "insertion", function(e, t, n, r, o) {
var a = n.getCursorPosition(), l = r.doc.getLine(a.row);
if ("{" == o) {
d(n);
var c = n.getSelectionRange(), u = r.doc.getTextRange(c);
if ("" !== u && "{" !== u && n.getWrapBehavioursEnabled()) return h(c, u, "{", "}");
if (p.isSaneInsertion(n, r)) return /[\]\}\)]/.test(l[a.column]) || n.inMultiSelectMode ? (p.recordAutoInsert(n, r, "}"), {
text: "{}",
selection: [ 1, 1 ]
}) : (p.recordMaybeInsert(n, r, "{"), {
text: "{",
selection: [ 1, 1 ]
});
} else if ("}" == o) {
if (d(n), "}" == (g = l.substring(a.column, a.column + 1)) && null !== r.$findOpeningBracket("}", {
column: a.column + 1,
row: a.row
}) && p.isAutoInsertedClosing(a, l, o)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
} else {
if ("\n" == o || "\r\n" == o) {
d(n);
var f = "";
p.isMaybeInsertedClosing(a, l) && (f = s.stringRepeat("}", i.maybeInsertedBrackets), p.clearMaybeInsertedClosing());
var g = l.substring(a.column, a.column + 1);
if ("}" === g) {
var m = r.findMatchingBracket({
row: a.row,
column: a.column + 1
}, "}");
if (!m) return null;
v = this.$getIndent(r.getLine(m.row));
} else {
if (!f) return void p.clearMaybeInsertedClosing();
var v = this.$getIndent(l);
}
var y = v + r.getTabString();
return {
text: "\n" + y + "\n" + v + f,
selection: [ 1, y.length, 1, y.length ]
};
}
p.clearMaybeInsertedClosing();
}
}), this.add("braces", "deletion", function(e, t, n, r, o) {
var a = r.doc.getTextRange(o);
if (!o.isMultiLine() && "{" == a) {
if (d(n), "}" == r.doc.getLine(o.start.row).substring(o.end.column, o.end.column + 1)) return o.end.column++, o;
i.maybeInsertedBrackets--;
}
}), this.add("parens", "insertion", function(e, t, n, i, r) {
if ("(" == r) {
d(n);
var o = n.getSelectionRange(), a = i.doc.getTextRange(o);
if ("" !== a && n.getWrapBehavioursEnabled()) return h(o, a, "(", ")");
if (p.isSaneInsertion(n, i)) return p.recordAutoInsert(n, i, ")"), {
text: "()",
selection: [ 1, 1 ]
};
} else if (")" == r) {
d(n);
var s = n.getCursorPosition(), l = i.doc.getLine(s.row);
if (")" == l.substring(s.column, s.column + 1) && null !== i.$findOpeningBracket(")", {
column: s.column + 1,
row: s.row
}) && p.isAutoInsertedClosing(s, l, r)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
}
}), this.add("parens", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && "(" == o && (d(n), ")" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))) return r.end.column++, r;
}), this.add("brackets", "insertion", function(e, t, n, i, r) {
if ("[" == r) {
d(n);
var o = n.getSelectionRange(), a = i.doc.getTextRange(o);
if ("" !== a && n.getWrapBehavioursEnabled()) return h(o, a, "[", "]");
if (p.isSaneInsertion(n, i)) return p.recordAutoInsert(n, i, "]"), {
text: "[]",
selection: [ 1, 1 ]
};
} else if ("]" == r) {
d(n);
var s = n.getCursorPosition(), l = i.doc.getLine(s.row);
if ("]" == l.substring(s.column, s.column + 1) && null !== i.$findOpeningBracket("]", {
column: s.column + 1,
row: s.row
}) && p.isAutoInsertedClosing(s, l, r)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
}
}), this.add("brackets", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && "[" == o && (d(n), "]" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))) return r.end.column++, r;
}), this.add("string_dquotes", "insertion", function(e, t, n, i, r) {
if ('"' == r || "'" == r) {
d(n);
var o = r, a = n.getSelectionRange(), s = i.doc.getTextRange(a);
if ("" !== s && "'" !== s && '"' != s && n.getWrapBehavioursEnabled()) return h(a, s, o, o);
if (!s) {
var l = n.getCursorPosition(), c = i.doc.getLine(l.row), u = c.substring(l.column - 1, l.column), p = c.substring(l.column, l.column + 1), f = i.getTokenAt(l.row, l.column), g = i.getTokenAt(l.row, l.column + 1);
if ("\\" == u && f && /escape/.test(f.type)) return null;
var m, v = f && /string|escape/.test(f.type), y = !g || /string|escape/.test(g.type);
if (p == o) m = v !== y; else {
if (v && !y) return null;
if (v && y) return null;
var b = i.$mode.tokenRe;
b.lastIndex = 0;
var w = b.test(u);
b.lastIndex = 0;
var x = b.test(u);
if (w || x) return null;
if (p && !/[\s;,.})\]\\]/.test(p)) return null;
m = !0;
}
return {
text: m ? o + o : "",
selection: [ 1, 1 ]
};
}
}
}), this.add("string_dquotes", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && ('"' == o || "'" == o) && (d(n), i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2) == o)) return r.end.column++, r;
});
};
p.isSaneInsertion = function(e, t) {
var n = e.getCursorPosition(), i = new a(t, n.row, n.column);
if (!this.$matchTokenType(i.getCurrentToken() || "text", l)) {
var r = new a(t, n.row, n.column + 1);
if (!this.$matchTokenType(r.getCurrentToken() || "text", l)) return !1;
}
return i.stepForward(), i.getCurrentTokenRow() !== n.row || this.$matchTokenType(i.getCurrentToken() || "text", c);
}, p.$matchTokenType = function(e, t) {
return t.indexOf(e.type || e) > -1;
}, p.recordAutoInsert = function(e, t, n) {
var r = e.getCursorPosition(), o = t.doc.getLine(r.row);
this.isAutoInsertedClosing(r, o, i.autoInsertedLineEnd[0]) || (i.autoInsertedBrackets = 0), i.autoInsertedRow = r.row, i.autoInsertedLineEnd = n + o.substr(r.column), i.autoInsertedBrackets++;
}, p.recordMaybeInsert = function(e, t, n) {
var r = e.getCursorPosition(), o = t.doc.getLine(r.row);
this.isMaybeInsertedClosing(r, o) || (i.maybeInsertedBrackets = 0), i.maybeInsertedRow = r.row, i.maybeInsertedLineStart = o.substr(0, r.column) + n, i.maybeInsertedLineEnd = o.substr(r.column), i.maybeInsertedBrackets++;
}, p.isAutoInsertedClosing = function(e, t, n) {
return i.autoInsertedBrackets > 0 && e.row === i.autoInsertedRow && n === i.autoInsertedLineEnd[0] && t.substr(e.column) === i.autoInsertedLineEnd;
}, p.isMaybeInsertedClosing = function(e, t) {
return i.maybeInsertedBrackets > 0 && e.row === i.maybeInsertedRow && t.substr(e.column) === i.maybeInsertedLineEnd && t.substr(0, e.column) == i.maybeInsertedLineStart;
}, p.popAutoInsertedClosing = function() {
i.autoInsertedLineEnd = i.autoInsertedLineEnd.substr(1), i.autoInsertedBrackets--;
}, p.clearMaybeInsertedClosing = function() {
i && (i.maybeInsertedBrackets = 0, i.maybeInsertedRow = -1);
}, r.inherits(p, o), t.CstyleBehaviour = p;
}), ace.define("ace/mode/folding/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode" ], function(e, t, n) {
"use strict";
var i = e("../../lib/oop"), r = e("../../range").Range, o = e("./fold_mode").FoldMode, a = t.FoldMode = function(e) {
e && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end)));
};
i.inherits(a, o), function() {
this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n);
if (this.singleLineBlockCommentRe.test(i) && !this.startRegionRe.test(i) && !this.tripleStarBlockCommentRe.test(i)) return "";
var r = this._getFoldWidgetBase(e, t, n);
return !r && this.startRegionRe.test(i) ? "start" : r;
}, this.getFoldWidgetRange = function(e, t, n, i) {
var r = e.getLine(n);
if (this.startRegionRe.test(r)) return this.getCommentRegionBlock(e, r, n);
var o = r.match(this.foldingStartMarker);
if (o) {
s = o.index;
if (o[1]) return this.openingBracketBlock(e, o[1], n, s);
var a = e.getCommentFoldRange(n, s + o[0].length, 1);
return a && !a.isMultiLine() && (i ? a = this.getSectionRange(e, n) : "all" != t && (a = null)), a;
}
if ("markbegin" !== t && (o = r.match(this.foldingStopMarker))) {
var s = o.index + o[0].length;
return o[1] ? this.closingBracketBlock(e, o[1], n, s) : e.getCommentFoldRange(n, s, -1);
}
}, this.getSectionRange = function(e, t) {
for (var n = e.getLine(t), i = n.search(/\S/), o = t, a = n.length, s = t += 1, l = e.getLength(); ++t < l; ) {
var c = (n = e.getLine(t)).search(/\S/);
if (-1 !== c) {
if (i > c) break;
var u = this.getFoldWidgetRange(e, "all", t);
if (u) {
if (u.start.row <= o) break;
if (u.isMultiLine()) t = u.end.row; else if (i == c) break;
}
s = t;
}
}
return new r(o, a, s, e.getLine(s).length);
}, this.getCommentRegionBlock = function(e, t, n) {
for (var i = t.search(/\s*$/), o = e.getLength(), a = n, s = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, l = 1; ++n < o; ) {
t = e.getLine(n);
var c = s.exec(t);
if (c && (c[1] ? l-- : l++, !l)) break;
}
var u = n;
if (u > a) return new r(a, i, u, t.length);
};
}.call(a.prototype);
}), ace.define("ace/mode/javascript", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/javascript_highlight_rules", "ace/mode/matching_brace_outdent", "ace/range", "ace/worker/worker_client", "ace/mode/behaviour/cstyle", "ace/mode/folding/cstyle" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text").Mode, o = e("./javascript_highlight_rules").JavaScriptHighlightRules, a = e("./matching_brace_outdent").MatchingBraceOutdent, s = (e("../range").Range, e("../worker/worker_client").WorkerClient), l = e("./behaviour/cstyle").CstyleBehaviour, c = e("./folding/cstyle").FoldMode, u = function() {
this.HighlightRules = o, this.$outdent = new a(), this.$behaviour = new l(), this.foldingRules = new c();
};
i.inherits(u, r), function() {
this.lineCommentStart = "//", this.blockComment = {
start: "/*",
end: "*/"
}, this.getNextLineIndent = function(e, t, n) {
var i = this.$getIndent(t), r = this.getTokenizer().getLineTokens(t, e), o = r.tokens, a = r.state;
if (o.length && "comment" == o[o.length - 1].type) return i;
if ("start" == e || "no_regex" == e) (s = t.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/)) && (i += n); else if ("doc-start" == e) {
if ("start" == a || "no_regex" == a) return "";
var s = t.match(/^\s*(\/?)\*/);
s && (s[1] && (i += " "), i += "* ");
}
return i;
}, this.checkOutdent = function(e, t, n) {
return this.$outdent.checkOutdent(t, n);
}, this.autoOutdent = function(e, t, n) {
this.$outdent.autoOutdent(t, n);
}, this.createWorker = function(e) {
var t = new s([ "ace" ], "ace/mode/javascript_worker", "JavaScriptWorker");
return t.attachToDocument(e.getDocument()), t.on("annotate", function(t) {
e.setAnnotations(t.data);
}), t.on("terminate", function() {
e.clearAnnotations();
}), t;
}, this.$id = "ace/mode/javascript";
}.call(u.prototype), t.Mode = u;
}), ace.define("ace/mode/groovy_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/doc_comment_highlight_rules", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./doc_comment_highlight_rules").DocCommentHighlightRules, o = e("./text_highlight_rules").TextHighlightRules, a = function() {
var e = this.createKeywordMapper({
"variable.language": "this",
keyword: "assert|with|abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|def|float|native|super|while",
"support.function": "AbstractMethodError|AssertionError|ClassCircularityError|ClassFormatError|Deprecated|EnumConstantNotPresentException|ExceptionInInitializerError|IllegalAccessError|IllegalThreadStateException|InstantiationError|InternalError|NegativeArraySizeException|NoSuchFieldError|Override|Process|ProcessBuilder|SecurityManager|StringIndexOutOfBoundsException|SuppressWarnings|TypeNotPresentException|UnknownError|UnsatisfiedLinkError|UnsupportedClassVersionError|VerifyError|InstantiationException|IndexOutOfBoundsException|ArrayIndexOutOfBoundsException|CloneNotSupportedException|NoSuchFieldException|IllegalArgumentException|NumberFormatException|SecurityException|Void|InheritableThreadLocal|IllegalStateException|InterruptedException|NoSuchMethodException|IllegalAccessException|UnsupportedOperationException|Enum|StrictMath|Package|Compiler|Readable|Runtime|StringBuilder|Math|IncompatibleClassChangeError|NoSuchMethodError|ThreadLocal|RuntimePermission|ArithmeticException|NullPointerException|Long|Integer|Short|Byte|Double|Number|Float|Character|Boolean|StackTraceElement|Appendable|StringBuffer|Iterable|ThreadGroup|Runnable|Thread|IllegalMonitorStateException|StackOverflowError|OutOfMemoryError|VirtualMachineError|ArrayStoreException|ClassCastException|LinkageError|NoClassDefFoundError|ClassNotFoundException|RuntimeException|Exception|ThreadDeath|Error|Throwable|System|ClassLoader|Cloneable|Class|CharSequence|Comparable|String|Object",
"constant.language": "null|Infinity|NaN|undefined"
}, "identifier");
this.$rules = {
start: [ {
token: "comment",
regex: "\\/\\/.*$"
}, r.getStartRule("doc-start"), {
token: "comment",
regex: "\\/\\*",
next: "comment"
}, {
token: "string.regexp",
regex: "[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"
}, {
token: "string",
regex: '"""',
next: "qqstring"
}, {
token: "string",
regex: "'''",
next: "qstring"
}, {
token: "string",
regex: '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'
}, {
token: "string",
regex: "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"
}, {
token: "constant.numeric",
regex: "0[xX][0-9a-fA-F]+\\b"
}, {
token: "constant.numeric",
regex: "[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"
}, {
token: "constant.language.boolean",
regex: "(?:true|false)\\b"
}, {
token: e,
regex: "[a-zA-Z_$][a-zA-Z0-9_$]*\\b"
}, {
token: "keyword.operator",
regex: "\\?:|\\?\\.|\\*\\.|<=>|=~|==~|\\.@|\\*\\.@|\\.&|as|in|is|!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"
}, {
token: "lparen",
regex: "[[({]"
}, {
token: "rparen",
regex: "[\\])}]"
}, {
token: "text",
regex: "\\s+"
} ],
comment: [ {
token: "comment",
regex: ".*?\\*\\/",
next: "start"
}, {
token: "comment",
regex: ".+"
} ],
qqstring: [ {
token: "constant.language.escape",
regex: /\\(?:u[0-9A-Fa-f]{4}|.|$)/
}, {
token: "constant.language.escape",
regex: /\$[\w\d]+/
}, {
token: "constant.language.escape",
regex: /\$\{[^"\}]+\}?/
}, {
token: "string",
regex: '"{3,5}',
next: "start"
}, {
token: "string",
regex: ".+?"
} ],
qstring: [ {
token: "constant.language.escape",
regex: /\\(?:u[0-9A-Fa-f]{4}|.|$)/
}, {
token: "string",
regex: "'{3,5}",
next: "start"
}, {
token: "string",
regex: ".+?"
} ]
}, this.embedRules(r, "doc-", [ r.getEndRule("start") ]);
};
i.inherits(a, o), t.GroovyHighlightRules = a;
}), ace.define("ace/mode/groovy", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/javascript", "ace/mode/groovy_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./javascript").Mode, o = e("./groovy_highlight_rules").GroovyHighlightRules, a = function() {
r.call(this), this.HighlightRules = o;
};
i.inherits(a, r), function() {
this.createWorker = function(e) {
return null;
}, this.$id = "ace/mode/groovy";
}.call(a.prototype), t.Mode = a;
}), ace.define("ace/mode/yaml_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text_highlight_rules").TextHighlightRules, o = function() {
this.$rules = {
start: [ {
token: "comment",
regex: "#.*$"
}, {
token: "list.markup",
regex: /^(?:-{3}|\.{3})\s*(?=#|$)/
}, {
token: "list.markup",
regex: /^\s*[\-?](?:$|\s)/
}, {
token: "constant",
regex: "!![\\w//]+"
}, {
token: "constant.language",
regex: "[&\\*][a-zA-Z0-9-_]+"
}, {
token: [ "meta.tag", "keyword" ],
regex: /^(\s*\w.*?)(\:(?:\s+|$))/
}, {
token: [ "meta.tag", "keyword" ],
regex: /(\w+?)(\s*\:(?:\s+|$))/
}, {
token: "keyword.operator",
regex: "<<\\w*:\\w*"
}, {
token: "keyword.operator",
regex: "-\\s*(?=[{])"
}, {
token: "string",
regex: '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'
}, {
token: "string",
regex: "[|>][-+\\d\\s]*$",
next: "qqstring"
}, {
token: "string",
regex: "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"
}, {
token: "constant.numeric",
regex: /(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)/
}, {
token: "constant.numeric",
regex: /[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/
}, {
token: "constant.language.boolean",
regex: "(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"
}, {
token: "paren.lparen",
regex: "[[({]"
}, {
token: "paren.rparen",
regex: "[\\])}]"
} ],
qqstring: [ {
token: "string",
regex: "(?=(?:(?:\\\\.)|(?:[^:]))*?:)",
next: "start"
}, {
token: "string",
regex: ".+"
} ]
};
};
i.inherits(o, r), t.YamlHighlightRules = o;
}), ace.define("ace/mode/matching_brace_outdent", [ "require", "exports", "module", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../range").Range, r = function() {};
(function() {
this.checkOutdent = function(e, t) {
return !!/^\s+$/.test(e) && /^\s*\}/.test(t);
}, this.autoOutdent = function(e, t) {
var n = e.getLine(t).match(/^(\s*\})/);
if (!n) return 0;
var r = n[1].length, o = e.findMatchingBracket({
row: t,
column: r
});
if (!o || o.row == t) return 0;
var a = this.$getIndent(e.getLine(o.row));
e.replace(new i(t, 0, t, r - 1), a);
}, this.$getIndent = function(e) {
return e.match(/^\s*/)[0];
};
}).call(r.prototype), t.MatchingBraceOutdent = r;
}), ace.define("ace/mode/folding/coffee", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/folding/fold_mode", "ace/range" ], function(e, t, n) {
"use strict";
var i = e("../../lib/oop"), r = e("./fold_mode").FoldMode, o = e("../../range").Range, a = t.FoldMode = function() {};
i.inherits(a, r), function() {
this.getFoldWidgetRange = function(e, t, n) {
var i = this.indentationBlock(e, n);
if (i) return i;
var r = /\S/, a = e.getLine(n), s = a.search(r);
if (-1 != s && "#" == a[s]) {
for (var l = a.length, c = e.getLength(), u = n, d = n; ++n < c; ) {
var h = (a = e.getLine(n)).search(r);
if (-1 != h) {
if ("#" != a[h]) break;
d = n;
}
}
if (d > u) {
var p = e.getLine(d).length;
return new o(u, l, d, p);
}
}
}, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n), r = i.search(/\S/), o = e.getLine(n + 1), a = e.getLine(n - 1), s = a.search(/\S/), l = o.search(/\S/);
if (-1 == r) return e.foldWidgets[n - 1] = -1 != s && s < l ? "start" : "", "";
if (-1 == s) {
if (r == l && "#" == i[r] && "#" == o[r]) return e.foldWidgets[n - 1] = "", e.foldWidgets[n + 1] = "", "start";
} else if (s == r && "#" == i[r] && "#" == a[r] && -1 == e.getLine(n - 2).search(/\S/)) return e.foldWidgets[n - 1] = "start", e.foldWidgets[n + 1] = "", "";
return e.foldWidgets[n - 1] = -1 != s && s < r ? "start" : "", r < l ? "start" : "";
};
}.call(a.prototype);
}), ace.define("ace/mode/yaml", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/yaml_highlight_rules", "ace/mode/matching_brace_outdent", "ace/mode/folding/coffee" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text").Mode, o = e("./yaml_highlight_rules").YamlHighlightRules, a = e("./matching_brace_outdent").MatchingBraceOutdent, s = e("./folding/coffee").FoldMode, l = function() {
this.HighlightRules = o, this.$outdent = new a(), this.foldingRules = new s();
};
i.inherits(l, r), function() {
this.lineCommentStart = "#", this.getNextLineIndent = function(e, t, n) {
var i = this.$getIndent(t);
return "start" == e && t.match(/^.*[\{\(\[]\s*$/) && (i += n), i;
}, this.checkOutdent = function(e, t, n) {
return this.$outdent.checkOutdent(t, n);
}, this.autoOutdent = function(e, t, n) {
this.$outdent.autoOutdent(t, n);
}, this.$id = "ace/mode/yaml";
}.call(l.prototype), t.Mode = l;
}), ace.define("ace/theme/dreamweaver", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
t.isDark = !1, t.cssClass = "ace-dreamweaver", t.cssText = '.ace-dreamweaver .ace_gutter {background: #e8e8e8;color: #333;}.ace-dreamweaver .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-dreamweaver {background-color: #FFFFFF;color: black;}.ace-dreamweaver .ace_fold {background-color: #757AD8;}.ace-dreamweaver .ace_cursor {color: black;}.ace-dreamweaver .ace_invisible {color: rgb(191, 191, 191);}.ace-dreamweaver .ace_storage,.ace-dreamweaver .ace_keyword {color: blue;}.ace-dreamweaver .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-dreamweaver .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-dreamweaver .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-dreamweaver .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-dreamweaver .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-dreamweaver .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-dreamweaver .ace_support.ace_type,.ace-dreamweaver .ace_support.ace_class {color: #009;}.ace-dreamweaver .ace_support.ace_php_tag {color: #f00;}.ace-dreamweaver .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-dreamweaver .ace_string {color: #00F;}.ace-dreamweaver .ace_comment {color: rgb(76, 136, 107);}.ace-dreamweaver .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-dreamweaver .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-dreamweaver .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-dreamweaver .ace_variable {color: #06F}.ace-dreamweaver .ace_xml-pe {color: rgb(104, 104, 91);}.ace-dreamweaver .ace_entity.ace_name.ace_function {color: #00F;}.ace-dreamweaver .ace_heading {color: rgb(12, 7, 255);}.ace-dreamweaver .ace_list {color:rgb(185, 6, 144);}.ace-dreamweaver .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-dreamweaver .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-dreamweaver .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-dreamweaver .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-dreamweaver .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-dreamweaver .ace_gutter-active-line {background-color : #DCDCDC;}.ace-dreamweaver .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-dreamweaver .ace_meta.ace_tag {color:#009;}.ace-dreamweaver .ace_meta.ace_tag.ace_anchor {color:#060;}.ace-dreamweaver .ace_meta.ace_tag.ace_form {color:#F90;}.ace-dreamweaver .ace_meta.ace_tag.ace_image {color:#909;}.ace-dreamweaver .ace_meta.ace_tag.ace_script {color:#900;}.ace-dreamweaver .ace_meta.ace_tag.ace_style {color:#909;}.ace-dreamweaver .ace_meta.ace_tag.ace_table {color:#099;}.ace-dreamweaver .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-dreamweaver .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}', 
e("../lib/dom").importCssString(t.cssText, t.cssClass);
}), ace.define("ace/theme/eclipse", [ "require", "exports", "module", "ace/lib/dom" ], function(e, t, n) {
"use strict";
t.isDark = !1, t.cssText = '.ace-eclipse .ace_gutter {background: #ebebeb;border-right: 1px solid rgb(159, 159, 159);color: rgb(136, 136, 136);}.ace-eclipse .ace_print-margin {width: 1px;background: #ebebeb;}.ace-eclipse {background-color: #FFFFFF;color: black;}.ace-eclipse .ace_fold {background-color: rgb(60, 76, 114);}.ace-eclipse .ace_cursor {color: black;}.ace-eclipse .ace_storage,.ace-eclipse .ace_keyword,.ace-eclipse .ace_variable {color: rgb(127, 0, 85);}.ace-eclipse .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-eclipse .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-eclipse .ace_function {color: rgb(60, 76, 114);}.ace-eclipse .ace_string {color: rgb(42, 0, 255);}.ace-eclipse .ace_comment {color: rgb(113, 150, 130);}.ace-eclipse .ace_comment.ace_doc {color: rgb(63, 95, 191);}.ace-eclipse .ace_comment.ace_doc.ace_tag {color: rgb(127, 159, 191);}.ace-eclipse .ace_constant.ace_numeric {color: darkblue;}.ace-eclipse .ace_tag {color: rgb(25, 118, 116);}.ace-eclipse .ace_type {color: rgb(127, 0, 127);}.ace-eclipse .ace_xml-pe {color: rgb(104, 104, 91);}.ace-eclipse .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-eclipse .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-eclipse .ace_meta.ace_tag {color:rgb(25, 118, 116);}.ace-eclipse .ace_invisible {color: #ddd;}.ace-eclipse .ace_entity.ace_other.ace_attribute-name {color:rgb(127, 0, 127);}.ace-eclipse .ace_marker-layer .ace_step {background: rgb(255, 255, 0);}.ace-eclipse .ace_active-line {background: rgb(232, 242, 254);}.ace-eclipse .ace_gutter-active-line {background-color : #DADADA;}.ace-eclipse .ace_marker-layer .ace_selected-word {border: 1px solid rgb(181, 213, 255);}.ace-eclipse .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}', 
t.cssClass = "ace-eclipse", e("../lib/dom").importCssString(t.cssText, t.cssClass);
}), ace.define("ace/mode/sh_highlight_rules", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text_highlight_rules").TextHighlightRules, o = t.reservedKeywords = "!|{|}|case|do|done|elif|else|esac|fi|for|if|in|then|until|while|&|;|export|local|read|typeset|unset|elif|select|set|function|declare|readonly", a = t.languageConstructs = "[|]|alias|bg|bind|break|builtin|cd|command|compgen|complete|continue|dirs|disown|echo|enable|eval|exec|exit|fc|fg|getopts|hash|help|history|jobs|kill|let|logout|popd|printf|pushd|pwd|return|set|shift|shopt|source|suspend|test|times|trap|type|ulimit|umask|unalias|wait", s = function() {
var e = this.createKeywordMapper({
keyword: o,
"support.function.builtin": a,
"invalid.deprecated": "debugger"
}, "identifier"), t = "(?:\\d+)";
this.$rules = {
start: [ {
token: "constant",
regex: /\\./
}, {
token: [ "text", "comment" ],
regex: /(^|\s)(#.*)$/
}, {
token: "string",
regex: '"',
push: [ {
token: "constant.language.escape",
regex: /\\(?:[$`"\\]|$)/
}, {
include: "variables"
}, {
token: "keyword.operator",
regex: /`/
}, {
token: "string",
regex: '"',
next: "pop"
}, {
defaultToken: "string"
} ]
}, {
token: "string",
regex: "\\$'",
push: [ {
token: "constant.language.escape",
regex: /\\(?:[abeEfnrtv\\'"]|x[a-fA-F\d]{1,2}|u[a-fA-F\d]{4}([a-fA-F\d]{4})?|c.|\d{1,3})/
}, {
token: "string",
regex: "'",
next: "pop"
}, {
defaultToken: "string"
} ]
}, {
regex: "<<<",
token: "keyword.operator"
}, {
stateName: "heredoc",
regex: "(<<-?)(\\s*)(['\"`]?)([\\w\\-]+)(['\"`]?)",
onMatch: function(e, t, n) {
var i = "-" == e[2] ? "indentedHeredoc" : "heredoc", r = e.split(this.splitRegex);
return n.push(i, r[4]), [ {
type: "constant",
value: r[1]
}, {
type: "text",
value: r[2]
}, {
type: "string",
value: r[3]
}, {
type: "support.class",
value: r[4]
}, {
type: "string",
value: r[5]
} ];
},
rules: {
heredoc: [ {
onMatch: function(e, t, n) {
return e === n[1] ? (n.shift(), n.shift(), this.next = n[0] || "start", "support.class") : (this.next = "", "string");
},
regex: ".*$",
next: "start"
} ],
indentedHeredoc: [ {
token: "string",
regex: "^\t+"
}, {
onMatch: function(e, t, n) {
return e === n[1] ? (n.shift(), n.shift(), this.next = n[0] || "start", "support.class") : (this.next = "", "string");
},
regex: ".*$",
next: "start"
} ]
}
}, {
regex: "$",
token: "empty",
next: function(e, t) {
return "heredoc" === t[0] || "indentedHeredoc" === t[0] ? t[0] : e;
}
}, {
token: [ "keyword", "text", "text", "text", "variable" ],
regex: /(declare|local|readonly)(\s+)(?:(-[fixar]+)(\s+))?([a-zA-Z_][a-zA-Z0-9_]*\b)/
}, {
token: "variable.language",
regex: "(?:\\$(?:SHLVL|\\$|\\!|\\?))"
}, {
token: "variable",
regex: "(?:[a-zA-Z_][a-zA-Z0-9_]*=)"
}, {
include: "variables"
}, {
token: "support.function",
regex: "(?:[a-zA-Z_][a-zA-Z0-9_]*\\s*\\(\\))"
}, {
token: "support.function",
regex: "(?:&(?:\\d+))"
}, {
token: "string",
start: "'",
end: "'"
}, {
token: "constant.numeric",
regex: "(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+)))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))"
}, {
token: "constant.numeric",
regex: "(?:(?:[1-9]\\d*)|(?:0))\\b"
}, {
token: e,
regex: "[a-zA-Z_][a-zA-Z0-9_]*\\b"
}, {
token: "keyword.operator",
regex: "\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!=|[%&|`]"
}, {
token: "punctuation.operator",
regex: ";"
}, {
token: "paren.lparen",
regex: "[\\[\\(\\{]"
}, {
token: "paren.rparen",
regex: "[\\]]"
}, {
token: "paren.rparen",
regex: "[\\)\\}]",
next: "pop"
} ],
variables: [ {
token: "variable",
regex: /(\$)(\w+)/
}, {
token: [ "variable", "paren.lparen" ],
regex: /(\$)(\()/,
push: "start"
}, {
token: [ "variable", "paren.lparen", "keyword.operator", "variable", "keyword.operator" ],
regex: /(\$)(\{)([#!]?)(\w+|[*@#?\-$!0_])(:[?+\-=]?|##?|%%?|,,?\/|\^\^?)?/,
push: "start"
}, {
token: "variable",
regex: /\$[*@#?\-$!0_]/
}, {
token: [ "variable", "paren.lparen" ],
regex: /(\$)(\{)/,
push: "start"
} ]
}, this.normalizeRules();
};
i.inherits(s, r), t.ShHighlightRules = s;
}), ace.define("ace/mode/folding/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode" ], function(e, t, n) {
"use strict";
var i = e("../../lib/oop"), r = e("../../range").Range, o = e("./fold_mode").FoldMode, a = t.FoldMode = function(e) {
e && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end)));
};
i.inherits(a, o), function() {
this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e, t, n) {
var i = e.getLine(n);
if (this.singleLineBlockCommentRe.test(i) && !this.startRegionRe.test(i) && !this.tripleStarBlockCommentRe.test(i)) return "";
var r = this._getFoldWidgetBase(e, t, n);
return !r && this.startRegionRe.test(i) ? "start" : r;
}, this.getFoldWidgetRange = function(e, t, n, i) {
var r = e.getLine(n);
if (this.startRegionRe.test(r)) return this.getCommentRegionBlock(e, r, n);
var o = r.match(this.foldingStartMarker);
if (o) {
s = o.index;
if (o[1]) return this.openingBracketBlock(e, o[1], n, s);
var a = e.getCommentFoldRange(n, s + o[0].length, 1);
return a && !a.isMultiLine() && (i ? a = this.getSectionRange(e, n) : "all" != t && (a = null)), a;
}
if ("markbegin" !== t && (o = r.match(this.foldingStopMarker))) {
var s = o.index + o[0].length;
return o[1] ? this.closingBracketBlock(e, o[1], n, s) : e.getCommentFoldRange(n, s, -1);
}
}, this.getSectionRange = function(e, t) {
for (var n = e.getLine(t), i = n.search(/\S/), o = t, a = n.length, s = t += 1, l = e.getLength(); ++t < l; ) {
var c = (n = e.getLine(t)).search(/\S/);
if (-1 !== c) {
if (i > c) break;
var u = this.getFoldWidgetRange(e, "all", t);
if (u) {
if (u.start.row <= o) break;
if (u.isMultiLine()) t = u.end.row; else if (i == c) break;
}
s = t;
}
}
return new r(o, a, s, e.getLine(s).length);
}, this.getCommentRegionBlock = function(e, t, n) {
for (var i = t.search(/\s*$/), o = e.getLength(), a = n, s = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, l = 1; ++n < o; ) {
t = e.getLine(n);
var c = s.exec(t);
if (c && (c[1] ? l-- : l++, !l)) break;
}
var u = n;
if (u > a) return new r(a, i, u, t.length);
};
}.call(a.prototype);
}), ace.define("ace/mode/behaviour/cstyle", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang" ], function(e, t, n) {
"use strict";
var i, r = e("../../lib/oop"), o = e("../behaviour").Behaviour, a = e("../../token_iterator").TokenIterator, s = e("../../lib/lang"), l = [ "text", "paren.rparen", "punctuation.operator" ], c = [ "text", "paren.rparen", "punctuation.operator", "comment" ], u = {}, d = function(e) {
var t = -1;
if (e.multiSelect && (t = e.selection.index, u.rangeCount != e.multiSelect.rangeCount && (u = {
rangeCount: e.multiSelect.rangeCount
})), u[t]) return i = u[t];
i = u[t] = {
autoInsertedBrackets: 0,
autoInsertedRow: -1,
autoInsertedLineEnd: "",
maybeInsertedBrackets: 0,
maybeInsertedRow: -1,
maybeInsertedLineStart: "",
maybeInsertedLineEnd: ""
};
}, h = function(e, t, n, i) {
var r = e.end.row - e.start.row;
return {
text: n + t + i,
selection: [ 0, e.start.column + 1, r, e.end.column + (r ? 0 : 1) ]
};
}, p = function() {
this.add("braces", "insertion", function(e, t, n, r, o) {
var a = n.getCursorPosition(), l = r.doc.getLine(a.row);
if ("{" == o) {
d(n);
var c = n.getSelectionRange(), u = r.doc.getTextRange(c);
if ("" !== u && "{" !== u && n.getWrapBehavioursEnabled()) return h(c, u, "{", "}");
if (p.isSaneInsertion(n, r)) return /[\]\}\)]/.test(l[a.column]) || n.inMultiSelectMode ? (p.recordAutoInsert(n, r, "}"), {
text: "{}",
selection: [ 1, 1 ]
}) : (p.recordMaybeInsert(n, r, "{"), {
text: "{",
selection: [ 1, 1 ]
});
} else if ("}" == o) {
if (d(n), "}" == (g = l.substring(a.column, a.column + 1)) && null !== r.$findOpeningBracket("}", {
column: a.column + 1,
row: a.row
}) && p.isAutoInsertedClosing(a, l, o)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
} else {
if ("\n" == o || "\r\n" == o) {
d(n);
var f = "";
p.isMaybeInsertedClosing(a, l) && (f = s.stringRepeat("}", i.maybeInsertedBrackets), p.clearMaybeInsertedClosing());
var g = l.substring(a.column, a.column + 1);
if ("}" === g) {
var m = r.findMatchingBracket({
row: a.row,
column: a.column + 1
}, "}");
if (!m) return null;
v = this.$getIndent(r.getLine(m.row));
} else {
if (!f) return void p.clearMaybeInsertedClosing();
var v = this.$getIndent(l);
}
var y = v + r.getTabString();
return {
text: "\n" + y + "\n" + v + f,
selection: [ 1, y.length, 1, y.length ]
};
}
p.clearMaybeInsertedClosing();
}
}), this.add("braces", "deletion", function(e, t, n, r, o) {
var a = r.doc.getTextRange(o);
if (!o.isMultiLine() && "{" == a) {
if (d(n), "}" == r.doc.getLine(o.start.row).substring(o.end.column, o.end.column + 1)) return o.end.column++, o;
i.maybeInsertedBrackets--;
}
}), this.add("parens", "insertion", function(e, t, n, i, r) {
if ("(" == r) {
d(n);
var o = n.getSelectionRange(), a = i.doc.getTextRange(o);
if ("" !== a && n.getWrapBehavioursEnabled()) return h(o, a, "(", ")");
if (p.isSaneInsertion(n, i)) return p.recordAutoInsert(n, i, ")"), {
text: "()",
selection: [ 1, 1 ]
};
} else if (")" == r) {
d(n);
var s = n.getCursorPosition(), l = i.doc.getLine(s.row);
if (")" == l.substring(s.column, s.column + 1) && null !== i.$findOpeningBracket(")", {
column: s.column + 1,
row: s.row
}) && p.isAutoInsertedClosing(s, l, r)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
}
}), this.add("parens", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && "(" == o && (d(n), ")" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))) return r.end.column++, r;
}), this.add("brackets", "insertion", function(e, t, n, i, r) {
if ("[" == r) {
d(n);
var o = n.getSelectionRange(), a = i.doc.getTextRange(o);
if ("" !== a && n.getWrapBehavioursEnabled()) return h(o, a, "[", "]");
if (p.isSaneInsertion(n, i)) return p.recordAutoInsert(n, i, "]"), {
text: "[]",
selection: [ 1, 1 ]
};
} else if ("]" == r) {
d(n);
var s = n.getCursorPosition(), l = i.doc.getLine(s.row);
if ("]" == l.substring(s.column, s.column + 1) && null !== i.$findOpeningBracket("]", {
column: s.column + 1,
row: s.row
}) && p.isAutoInsertedClosing(s, l, r)) return p.popAutoInsertedClosing(), {
text: "",
selection: [ 1, 1 ]
};
}
}), this.add("brackets", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && "[" == o && (d(n), "]" == i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2))) return r.end.column++, r;
}), this.add("string_dquotes", "insertion", function(e, t, n, i, r) {
if ('"' == r || "'" == r) {
d(n);
var o = r, a = n.getSelectionRange(), s = i.doc.getTextRange(a);
if ("" !== s && "'" !== s && '"' != s && n.getWrapBehavioursEnabled()) return h(a, s, o, o);
if (!s) {
var l = n.getCursorPosition(), c = i.doc.getLine(l.row), u = c.substring(l.column - 1, l.column), p = c.substring(l.column, l.column + 1), f = i.getTokenAt(l.row, l.column), g = i.getTokenAt(l.row, l.column + 1);
if ("\\" == u && f && /escape/.test(f.type)) return null;
var m, v = f && /string|escape/.test(f.type), y = !g || /string|escape/.test(g.type);
if (p == o) m = v !== y; else {
if (v && !y) return null;
if (v && y) return null;
var b = i.$mode.tokenRe;
b.lastIndex = 0;
var w = b.test(u);
b.lastIndex = 0;
var x = b.test(u);
if (w || x) return null;
if (p && !/[\s;,.})\]\\]/.test(p)) return null;
m = !0;
}
return {
text: m ? o + o : "",
selection: [ 1, 1 ]
};
}
}
}), this.add("string_dquotes", "deletion", function(e, t, n, i, r) {
var o = i.doc.getTextRange(r);
if (!r.isMultiLine() && ('"' == o || "'" == o) && (d(n), i.doc.getLine(r.start.row).substring(r.start.column + 1, r.start.column + 2) == o)) return r.end.column++, r;
});
};
p.isSaneInsertion = function(e, t) {
var n = e.getCursorPosition(), i = new a(t, n.row, n.column);
if (!this.$matchTokenType(i.getCurrentToken() || "text", l)) {
var r = new a(t, n.row, n.column + 1);
if (!this.$matchTokenType(r.getCurrentToken() || "text", l)) return !1;
}
return i.stepForward(), i.getCurrentTokenRow() !== n.row || this.$matchTokenType(i.getCurrentToken() || "text", c);
}, p.$matchTokenType = function(e, t) {
return t.indexOf(e.type || e) > -1;
}, p.recordAutoInsert = function(e, t, n) {
var r = e.getCursorPosition(), o = t.doc.getLine(r.row);
this.isAutoInsertedClosing(r, o, i.autoInsertedLineEnd[0]) || (i.autoInsertedBrackets = 0), i.autoInsertedRow = r.row, i.autoInsertedLineEnd = n + o.substr(r.column), i.autoInsertedBrackets++;
}, p.recordMaybeInsert = function(e, t, n) {
var r = e.getCursorPosition(), o = t.doc.getLine(r.row);
this.isMaybeInsertedClosing(r, o) || (i.maybeInsertedBrackets = 0), i.maybeInsertedRow = r.row, i.maybeInsertedLineStart = o.substr(0, r.column) + n, i.maybeInsertedLineEnd = o.substr(r.column), i.maybeInsertedBrackets++;
}, p.isAutoInsertedClosing = function(e, t, n) {
return i.autoInsertedBrackets > 0 && e.row === i.autoInsertedRow && n === i.autoInsertedLineEnd[0] && t.substr(e.column) === i.autoInsertedLineEnd;
}, p.isMaybeInsertedClosing = function(e, t) {
return i.maybeInsertedBrackets > 0 && e.row === i.maybeInsertedRow && t.substr(e.column) === i.maybeInsertedLineEnd && t.substr(0, e.column) == i.maybeInsertedLineStart;
}, p.popAutoInsertedClosing = function() {
i.autoInsertedLineEnd = i.autoInsertedLineEnd.substr(1), i.autoInsertedBrackets--;
}, p.clearMaybeInsertedClosing = function() {
i && (i.maybeInsertedBrackets = 0, i.maybeInsertedRow = -1);
}, r.inherits(p, o), t.CstyleBehaviour = p;
}), ace.define("ace/mode/sh", [ "require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/sh_highlight_rules", "ace/range", "ace/mode/folding/cstyle", "ace/mode/behaviour/cstyle" ], function(e, t, n) {
"use strict";
var i = e("../lib/oop"), r = e("./text").Mode, o = e("./sh_highlight_rules").ShHighlightRules, a = e("../range").Range, s = e("./folding/cstyle").FoldMode, l = e("./behaviour/cstyle").CstyleBehaviour, c = function() {
this.HighlightRules = o, this.foldingRules = new s(), this.$behaviour = new l();
};
i.inherits(c, r), function() {
this.lineCommentStart = "#", this.getNextLineIndent = function(e, t, n) {
var i = this.$getIndent(t), r = this.getTokenizer().getLineTokens(t, e).tokens;
return r.length && "comment" == r[r.length - 1].type ? i : ("start" == e && t.match(/^.*[\{\(\[\:]\s*$/) && (i += n), i);
};
var e = {
pass: 1,
return: 1,
raise: 1,
break: 1,
continue: 1
};
this.checkOutdent = function(t, n, i) {
if ("\r\n" !== i && "\r" !== i && "\n" !== i) return !1;
var r = this.getTokenizer().getLineTokens(n.trim(), t).tokens;
if (!r) return !1;
do {
var o = r.pop();
} while (o && ("comment" == o.type || "text" == o.type && o.value.match(/^\s+$/)));
return !!o && ("keyword" == o.type && e[o.value]);
}, this.autoOutdent = function(e, t, n) {
n += 1;
var i = this.$getIndent(t.getLine(n)), r = t.getTabString();
i.slice(-r.length) == r && t.remove(new a(n, i.length - r.length, n, i.length));
}, this.$id = "ace/mode/sh";
}.call(c.prototype), t.Mode = c;
}), angular.module("ui.ace", []).constant("uiAceConfig", {}).directive("uiAce", [ "uiAceConfig", function(e) {
if (angular.isUndefined(window.ace)) throw new Error("ui-ace need ace to work... (o rly?)");
var t = function(e, t, n) {
angular.isDefined(n.workerPath) && window.ace.require("ace/config").set("workerPath", n.workerPath), angular.isDefined(n.require) && n.require.forEach(function(e) {
window.ace.require(e);
}), angular.isDefined(n.showGutter) && e.renderer.setShowGutter(n.showGutter), angular.isDefined(n.useWrapMode) && t.setUseWrapMode(n.useWrapMode), angular.isDefined(n.showInvisibles) && e.renderer.setShowInvisibles(n.showInvisibles), angular.isDefined(n.showIndentGuides) && e.renderer.setDisplayIndentGuides(n.showIndentGuides), angular.isDefined(n.useSoftTabs) && t.setUseSoftTabs(n.useSoftTabs), angular.isDefined(n.showPrintMargin) && e.setShowPrintMargin(n.showPrintMargin), angular.isDefined(n.disableSearch) && n.disableSearch && e.commands.addCommands([ {
name: "unfind",
bindKey: {
win: "Ctrl-F",
mac: "Command-F"
},
exec: function() {
return !1;
},
readOnly: !0
} ]), angular.isString(n.theme) && e.setTheme("ace/theme/" + n.theme), angular.isString(n.mode) && t.setMode("ace/mode/" + n.mode), angular.isDefined(n.firstLineNumber) && (angular.isNumber(n.firstLineNumber) ? t.setOption("firstLineNumber", n.firstLineNumber) : angular.isFunction(n.firstLineNumber) && t.setOption("firstLineNumber", n.firstLineNumber()));
var i, r;
if (angular.isDefined(n.advanced)) for (i in n.advanced) r = {
name: i,
value: n.advanced[i]
}, e.setOption(r.name, r.value);
if (angular.isDefined(n.rendererOptions)) for (i in n.rendererOptions) r = {
name: i,
value: n.rendererOptions[i]
}, e.renderer.setOption(r.name, r.value);
angular.forEach(n.callbacks, function(t) {
angular.isFunction(t) && t(e);
});
};
return {
restrict: "EA",
require: "?ngModel",
link: function(n, i, r, o) {
var a, s, l = e.ace || {}, c = angular.extend({}, l, n.$eval(r.uiAce)), u = window.ace.edit(i[0]), d = u.getSession(), h = function() {
var e = arguments[0], t = Array.prototype.slice.call(arguments, 1);
angular.isDefined(e) && n.$evalAsync(function() {
if (!angular.isFunction(e)) throw new Error("ui-ace use a function as callback.");
e(t);
});
}, p = {
onChange: function(e) {
return function(t) {
var i = d.getValue();
!o || i === o.$viewValue || n.$$phase || n.$root.$$phase || n.$evalAsync(function() {
o.$setViewValue(i);
}), h(e, t, u);
};
},
onBlur: function(e) {
return function() {
h(e, u);
};
}
};
r.$observe("readonly", function(e) {
u.setReadOnly(!!e || "" === e);
}), o && (o.$formatters.push(function(e) {
if (angular.isUndefined(e) || null === e) return "";
if (angular.isObject(e) || angular.isArray(e)) throw new Error("ui-ace cannot use an object or an array as a model");
return e;
}), o.$render = function() {
d.setValue(o.$viewValue);
});
var f = function(e, i) {
e !== i && ((c = angular.extend({}, l, n.$eval(r.uiAce))).callbacks = [ c.onLoad ], c.onLoad !== l.onLoad && c.callbacks.unshift(l.onLoad), d.removeListener("change", a), a = p.onChange(c.onChange), d.on("change", a), u.removeListener("blur", s), s = p.onBlur(c.onBlur), u.on("blur", s), t(u, d, c));
};
n.$watch(r.uiAce, f, !0), f(l), i.on("$destroy", function() {
u.session.$stopWorker(), u.destroy();
}), n.$watch(function() {
return [ i[0].offsetWidth, i[0].offsetHeight ];
}, function() {
u.resize(), u.renderer.updateFull();
}, !0);
}
};
} ]), function(e) {
if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).Clipboard = e();
}
}(function() {
return function e(t, n, i) {
function r(a, s) {
if (!n[a]) {
if (!t[a]) {
var l = "function" == typeof require && require;
if (!s && l) return l(a, !0);
if (o) return o(a, !0);
var c = new Error("Cannot find module '" + a + "'");
throw c.code = "MODULE_NOT_FOUND", c;
}
var u = n[a] = {
exports: {}
};
t[a][0].call(u.exports, function(e) {
var n = t[a][1][e];
return r(n || e);
}, u, u.exports, e, t, n, i);
}
return n[a].exports;
}
for (var o = "function" == typeof require && require, a = 0; a < i.length; a++) r(i[a]);
return r;
}({
1: [ function(e, t, n) {
var i = e("matches-selector");
t.exports = function(e, t, n) {
for (var r = n ? e : e.parentNode; r && r !== document; ) {
if (i(r, t)) return r;
r = r.parentNode;
}
};
}, {
"matches-selector": 5
} ],
2: [ function(e, t, n) {
function i(e, t, n, i) {
return function(n) {
n.delegateTarget = r(n.target, t, !0), n.delegateTarget && i.call(e, n);
};
}
var r = e("closest");
t.exports = function(e, t, n, r, o) {
var a = i.apply(this, arguments);
return e.addEventListener(n, a, o), {
destroy: function() {
e.removeEventListener(n, a, o);
}
};
};
}, {
closest: 1
} ],
3: [ function(e, t, n) {
n.node = function(e) {
return void 0 !== e && e instanceof HTMLElement && 1 === e.nodeType;
}, n.nodeList = function(e) {
var t = Object.prototype.toString.call(e);
return void 0 !== e && ("[object NodeList]" === t || "[object HTMLCollection]" === t) && "length" in e && (0 === e.length || n.node(e[0]));
}, n.string = function(e) {
return "string" == typeof e || e instanceof String;
}, n.fn = function(e) {
return "[object Function]" === Object.prototype.toString.call(e);
};
}, {} ],
4: [ function(e, t, n) {
function i(e, t, n) {
return e.addEventListener(t, n), {
destroy: function() {
e.removeEventListener(t, n);
}
};
}
function r(e, t, n) {
return Array.prototype.forEach.call(e, function(e) {
e.addEventListener(t, n);
}), {
destroy: function() {
Array.prototype.forEach.call(e, function(e) {
e.removeEventListener(t, n);
});
}
};
}
function o(e, t, n) {
return s(document.body, e, t, n);
}
var a = e("./is"), s = e("delegate");
t.exports = function(e, t, n) {
if (!e && !t && !n) throw new Error("Missing required arguments");
if (!a.string(t)) throw new TypeError("Second argument must be a String");
if (!a.fn(n)) throw new TypeError("Third argument must be a Function");
if (a.node(e)) return i(e, t, n);
if (a.nodeList(e)) return r(e, t, n);
if (a.string(e)) return o(e, t, n);
throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");
};
}, {
"./is": 3,
delegate: 2
} ],
5: [ function(e, t, n) {
var i = Element.prototype, r = i.matchesSelector || i.webkitMatchesSelector || i.mozMatchesSelector || i.msMatchesSelector || i.oMatchesSelector;
t.exports = function(e, t) {
if (r) return r.call(e, t);
for (var n = e.parentNode.querySelectorAll(t), i = 0; i < n.length; ++i) if (n[i] == e) return !0;
return !1;
};
}, {} ],
6: [ function(e, t, n) {
t.exports = function(e) {
var t;
if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName) e.focus(), e.setSelectionRange(0, e.value.length), t = e.value; else {
e.hasAttribute("contenteditable") && e.focus();
var n = window.getSelection(), i = document.createRange();
i.selectNodeContents(e), n.removeAllRanges(), n.addRange(i), t = n.toString();
}
return t;
};
}, {} ],
7: [ function(e, t, n) {
function i() {}
i.prototype = {
on: function(e, t, n) {
var i = this.e || (this.e = {});
return (i[e] || (i[e] = [])).push({
fn: t,
ctx: n
}), this;
},
once: function(e, t, n) {
function i() {
r.off(e, i), t.apply(n, arguments);
}
var r = this;
return i._ = t, this.on(e, i, n);
},
emit: function(e) {
var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), i = 0, r = n.length;
for (i; i < r; i++) n[i].fn.apply(n[i].ctx, t);
return this;
},
off: function(e, t) {
var n = this.e || (this.e = {}), i = n[e], r = [];
if (i && t) for (var o = 0, a = i.length; o < a; o++) i[o].fn !== t && i[o].fn._ !== t && r.push(i[o]);
return r.length ? n[e] = r : delete n[e], this;
}
}, t.exports = i;
}, {} ],
8: [ function(e, t, n) {
"use strict";
function i(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
n.__esModule = !0;
var r = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var i = t[n];
i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
}
}
return function(t, n, i) {
return n && e(t.prototype, n), i && e(t, i), t;
};
}(), o = function(e) {
return e && e.__esModule ? e : {
default: e
};
}(e("select")), a = function() {
function e(t) {
i(this, e), this.resolveOptions(t), this.initSelection();
}
return e.prototype.resolveOptions = function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
this.action = e.action, this.emitter = e.emitter, this.target = e.target, this.text = e.text, this.trigger = e.trigger, this.selectedText = "";
}, e.prototype.initSelection = function() {
if (this.text && this.target) throw new Error('Multiple attributes declared, use either "target" or "text"');
if (this.text) this.selectFake(); else {
if (!this.target) throw new Error('Missing required attributes, use either "target" or "text"');
this.selectTarget();
}
}, e.prototype.selectFake = function() {
var e = this, t = "rtl" == document.documentElement.getAttribute("dir");
this.removeFake(), this.fakeHandler = document.body.addEventListener("click", function() {
return e.removeFake();
}), this.fakeElem = document.createElement("textarea"), this.fakeElem.style.fontSize = "12pt", this.fakeElem.style.border = "0", this.fakeElem.style.padding = "0", this.fakeElem.style.margin = "0", this.fakeElem.style.position = "absolute", this.fakeElem.style[t ? "right" : "left"] = "-9999px", this.fakeElem.style.top = (window.pageYOffset || document.documentElement.scrollTop) + "px", this.fakeElem.setAttribute("readonly", ""), this.fakeElem.value = this.text, document.body.appendChild(this.fakeElem), this.selectedText = o.default(this.fakeElem), this.copyText();
}, e.prototype.removeFake = function() {
this.fakeHandler && (document.body.removeEventListener("click"), this.fakeHandler = null), this.fakeElem && (document.body.removeChild(this.fakeElem), this.fakeElem = null);
}, e.prototype.selectTarget = function() {
this.selectedText = o.default(this.target), this.copyText();
}, e.prototype.copyText = function() {
var e = void 0;
try {
e = document.execCommand(this.action);
} catch (t) {
e = !1;
}
this.handleResult(e);
}, e.prototype.handleResult = function(e) {
e ? this.emitter.emit("success", {
action: this.action,
text: this.selectedText,
trigger: this.trigger,
clearSelection: this.clearSelection.bind(this)
}) : this.emitter.emit("error", {
action: this.action,
trigger: this.trigger,
clearSelection: this.clearSelection.bind(this)
});
}, e.prototype.clearSelection = function() {
this.target && this.target.blur(), window.getSelection().removeAllRanges();
}, e.prototype.destroy = function() {
this.removeFake();
}, r(e, [ {
key: "action",
set: function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? "copy" : arguments[0];
if (this._action = e, "copy" !== this._action && "cut" !== this._action) throw new Error('Invalid "action" value, use either "copy" or "cut"');
},
get: function() {
return this._action;
}
}, {
key: "target",
set: function(e) {
if (void 0 !== e) {
if (!e || "object" != typeof e || 1 !== e.nodeType) throw new Error('Invalid "target" value, use a valid Element');
this._target = e;
}
},
get: function() {
return this._target;
}
} ]), e;
}();
n.default = a, t.exports = n.default;
}, {
select: 6
} ],
9: [ function(e, t, n) {
"use strict";
function i(e) {
return e && e.__esModule ? e : {
default: e
};
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}
function a(e, t) {
var n = "data-clipboard-" + e;
if (t.hasAttribute(n)) return t.getAttribute(n);
}
n.__esModule = !0;
var s = i(e("./clipboard-action")), l = i(e("tiny-emitter")), c = i(e("good-listener")), u = function(e) {
function t(n, i) {
r(this, t), e.call(this), this.resolveOptions(i), this.listenClick(n);
}
return o(t, e), t.prototype.resolveOptions = function() {
var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
this.action = "function" == typeof e.action ? e.action : this.defaultAction, this.target = "function" == typeof e.target ? e.target : this.defaultTarget, this.text = "function" == typeof e.text ? e.text : this.defaultText;
}, t.prototype.listenClick = function(e) {
var t = this;
this.listener = c.default(e, "click", function(e) {
return t.onClick(e);
});
}, t.prototype.onClick = function(e) {
var t = e.delegateTarget || e.currentTarget;
this.clipboardAction && (this.clipboardAction = null), this.clipboardAction = new s.default({
action: this.action(t),
target: this.target(t),
text: this.text(t),
trigger: t,
emitter: this
});
}, t.prototype.defaultAction = function(e) {
return a("action", e);
}, t.prototype.defaultTarget = function(e) {
var t = a("target", e);
if (t) return document.querySelector(t);
}, t.prototype.defaultText = function(e) {
return a("text", e);
}, t.prototype.destroy = function() {
this.listener.destroy(), this.clipboardAction && (this.clipboardAction.destroy(), this.clipboardAction = null);
}, t;
}(l.default);
n.default = u, t.exports = n.default;
}, {
"./clipboard-action": 8,
"good-listener": 4,
"tiny-emitter": 7
} ]
}, {}, [ 9 ])(9);
}), function(e, t) {
function n() {
this.fg = this.bg = this.fg_truecolor = this.bg_truecolor = null, this.bright = 0;
}
var i, r, o = "undefined" != typeof module, a = [ [ {
color: "0, 0, 0",
class: "ansi-black"
}, {
color: "187, 0, 0",
class: "ansi-red"
}, {
color: "0, 187, 0",
class: "ansi-green"
}, {
color: "187, 187, 0",
class: "ansi-yellow"
}, {
color: "0, 0, 187",
class: "ansi-blue"
}, {
color: "187, 0, 187",
class: "ansi-magenta"
}, {
color: "0, 187, 187",
class: "ansi-cyan"
}, {
color: "255,255,255",
class: "ansi-white"
} ], [ {
color: "85, 85, 85",
class: "ansi-bright-black"
}, {
color: "255, 85, 85",
class: "ansi-bright-red"
}, {
color: "0, 255, 0",
class: "ansi-bright-green"
}, {
color: "255, 255, 85",
class: "ansi-bright-yellow"
}, {
color: "85, 85, 255",
class: "ansi-bright-blue"
}, {
color: "255, 85, 255",
class: "ansi-bright-magenta"
}, {
color: "85, 255, 255",
class: "ansi-bright-cyan"
}, {
color: "255, 255, 255",
class: "ansi-bright-white"
} ] ];
n.prototype.setup_palette = function() {
r = [], function() {
var e, t;
for (e = 0; e < 2; ++e) for (t = 0; t < 8; ++t) r.push(a[e][t].color);
}(), function() {
var e, t, n, i = [ 0, 95, 135, 175, 215, 255 ];
for (e = 0; e < 6; ++e) for (t = 0; t < 6; ++t) for (n = 0; n < 6; ++n) r.push(function(e, t, n) {
return i[e] + ", " + i[t] + ", " + i[n];
}.call(this, e, t, n));
}(), function() {
var e, t = 8;
for (e = 0; e < 24; ++e, t += 10) r.push(function(e) {
return e + ", " + e + ", " + e;
}.call(this, t));
}();
}, n.prototype.escape_for_html = function(e) {
return e.replace(/[&<>]/gm, function(e) {
return "&" == e ? "&amp;" : "<" == e ? "&lt;" : ">" == e ? "&gt;" : void 0;
});
}, n.prototype.linkify = function(e) {
return e.replace(/(https?:\/\/[^\s]+)/gm, function(e) {
return '<a href="' + e + '">' + e + "</a>";
});
}, n.prototype.ansi_to_html = function(e, t) {
return this.process(e, t, !0);
}, n.prototype.ansi_to_text = function(e) {
var t = {};
return this.process(e, t, !1);
}, n.prototype.process = function(e, t, n) {
var i = this, r = e.split(/\033\[/), o = r.shift(), a = r.map(function(e) {
return i.process_chunk(e, t, n);
});
return a.unshift(o), a.join("");
}, n.prototype.process_chunk = function(e, t, n) {
var i = void 0 !== (t = void 0 === t ? {} : t).use_classes && t.use_classes, o = i ? "class" : "color", s = e.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);
if (!s) return e;
var l = s[4], c = s[2].split(";");
if ("" !== s[1] || "m" !== s[3]) return l;
if (!n) return l;
for (var u = this; c.length > 0; ) {
var d = c.shift(), h = parseInt(d);
isNaN(h) || 0 === h ? (u.fg = u.bg = null, u.bright = 0) : 1 === h ? u.bright = 1 : 39 == h ? u.fg = null : 49 == h ? u.bg = null : h >= 30 && h < 38 ? u.fg = a[u.bright][h % 10][o] : h >= 90 && h < 98 ? u.fg = a[1][h % 10][o] : h >= 40 && h < 48 ? u.bg = a[0][h % 10][o] : h >= 100 && h < 108 ? u.bg = a[1][h % 10][o] : 38 !== h && 48 !== h || function() {
var e = 38 === h;
if (c.length >= 1) {
var t = c.shift();
if ("5" === t && c.length >= 1) {
var n = parseInt(c.shift());
if (n >= 0 && n <= 255) if (i) {
var o = n >= 16 ? "ansi-palette-" + n : a[n > 7 ? 1 : 0][n % 8].class;
e ? u.fg = o : u.bg = o;
} else r || u.setup_palette.call(u), e ? u.fg = r[n] : u.bg = r[n];
} else if ("2" === t && c.length >= 3) {
var s = parseInt(c.shift()), l = parseInt(c.shift()), d = parseInt(c.shift());
if (s >= 0 && s <= 255 && l >= 0 && l <= 255 && d >= 0 && d <= 255) {
var p = s + ", " + l + ", " + d;
i ? e ? (u.fg = "ansi-truecolor", u.fg_truecolor = p) : (u.bg = "ansi-truecolor", u.bg_truecolor = p) : e ? u.fg = p : u.bg = p;
}
}
}
}();
}
if (null === u.fg && null === u.bg) return l;
var p = [], f = [], g = {}, m = function(e) {
var t, n = [];
for (t in e) e.hasOwnProperty(t) && n.push("data-" + t + '="' + this.escape_for_html(e[t]) + '"');
return n.length > 0 ? " " + n.join(" ") : "";
};
return u.fg && (i ? (f.push(u.fg + "-fg"), null !== u.fg_truecolor && (g["ansi-truecolor-fg"] = u.fg_truecolor, u.fg_truecolor = null)) : p.push("color:rgb(" + u.fg + ")")), u.bg && (i ? (f.push(u.bg + "-bg"), null !== u.bg_truecolor && (g["ansi-truecolor-bg"] = u.bg_truecolor, u.bg_truecolor = null)) : p.push("background-color:rgb(" + u.bg + ")")), i ? '<span class="' + f.join(" ") + '"' + m.call(u, g) + ">" + l + "</span>" : '<span style="' + p.join(";") + '"' + m.call(u, g) + ">" + l + "</span>";
}, i = {
escape_for_html: function(e) {
return new n().escape_for_html(e);
},
linkify: function(e) {
return new n().linkify(e);
},
ansi_to_html: function(e, t) {
return new n().ansi_to_html(e, t);
},
ansi_to_text: function(e) {
return new n().ansi_to_text(e);
},
ansi_to_html_obj: function() {
return new n();
}
}, o && (module.exports = i), "undefined" != typeof window && "undefined" == typeof ender && (window.ansi_up = i), "function" == typeof define && define.amd && define("ansi_up", [], function() {
return i;
});
}(Date), angular.module("extension-registry", [ "extension-registry-utils" ]), function() {
"use strict";
angular.module("extension-registry-utils", []).constant("extensionRegistryUtils", function() {
var e = Function.prototype.bind.bind(Function.prototype.call), t = e(String.prototype.split), n = e(Object.prototype.toString), i = function(e) {
return "[object Array]" === n(e);
}, r = e(Array.prototype.slice), o = function(e, t) {
for (var n = 0; n < e.length; n++) t(e[n], n, e);
}, a = function(e) {
var t = [];
return o(e, function(e) {
t = i(e) ? t.concat(a(e)) : t.concat(e);
}), t;
};
return {
unbind: e,
split: t,
slice: r,
contains: function() {
var e = arguments[0], t = r(arguments, 1), n = [];
return o(t, function(t) {
o(e, function(e) {
e === t && n.push(!0);
});
}), n.length === t.length;
},
each: o,
map: function(e, t) {
for (var n = [], i = 0; i < e.length; i++) n.push(t(e[i], i, e));
return n;
},
reduce: function(e, t, n) {
for (var i = 0; i < e.length; i++) n = t(n, e[i], i, e);
return n;
},
filter: function(e, t) {
for (var n = [], i = 0; i < e.length; i++) t(e[i], i, e) && n.push(e[i]);
return n;
},
flatten: a,
ownKeys: function(e) {
var t = [];
for (var n in e) e.hasOwnProperty(n) && t.push(n);
return t;
},
toArray: function(e) {
var t = [];
for (var n in e) e.hasOwnProperty(n) && t.push(e[n]);
return t;
},
isFunction: function(e) {
return "[object Function]" === n(e);
},
isObject: function(e) {
return "[object Object]" === n(e);
},
isNumber: function(e) {
return "[object Number]" === n(e);
}
};
}());
}(), function() {
"use strict";
angular.module("extension-registry").provider("extensionRegistry", [ "extensionRegistryUtils", function(e) {
var t = {}, n = {}, i = 1e3, r = e.split, o = e.slice, a = e.each, s = e.map, l = e.contains, c = e.filter, u = e.flatten, d = e.reduce, h = e.ownKeys, p = e.toArray, f = e.isFunction, g = function() {
a(p(n), function(e) {
e && e();
});
}, m = function(e, n) {
var r = i++;
return t[e] || (t[e] = {}), n && f(n) && (t[e][r] = n, g()), {
_name: e,
_key: r,
remove: function() {
delete t[e][r], g();
}
};
}, v = function(e) {
delete t[e._name][e._key], g();
}, y = function() {
return t;
}, b = function() {
t = {};
};
this.add = m, this.dump = y, this.clean = b, this.$get = [ "$log", "$q", "$templateCache", function(e, a, p) {
return {
addType: function(e, t) {
p.put("__extension-" + e + ".html", t);
},
add: m,
remove: v,
get: function(e, n, i, p) {
return a.all(u(d(s(r(e, " "), function(e) {
return t[e];
}), function(e, t) {
return e.concat(u(s(h(t), function(e) {
return t[e] && t[e](i);
})));
}, []))).then(function() {
return d(c(u(o(arguments)), function(e) {
return l(n, e && e.type) ? e : void 0;
}), function(e, t) {
return e.length >= p ? e : (e.push(t), e);
}, []);
});
},
subscribe: function(e) {
var t = i++;
return n[t] = e, {
unsubscribe: function() {
delete n[t];
}
};
},
dump: y,
clean: b
};
} ];
} ]);
}(), function() {
"use strict";
angular.module("extension-registry").directive("extensionPoint", [ "$compile", "$templateCache", "extensionRegistryUtils", function(e, t, n) {
var i = n.each, r = function(e) {
return "__extension-" + e + ".html";
};
return {
restrict: "EA",
scope: {
extensionName: "=",
extensionFilters: "=",
extensionArgs: "=",
extensionLimit: "="
},
transclude: !0,
controller: [ "$scope", "$q", "extensionRegistry", function(n, o, a) {
this.initialize = function(s, l, c) {
var u = function() {
o.when(a.get(l, c, n.extensionArgs, Number(n.extensionLimit))).then(function(o) {
s.html(""), i(o, function(i) {
s.append(e("dom" === i.type ? i.node : t.get(r(i.type)))(angular.extend(n.$new(!0), {
item: i
})));
});
});
};
u();
var d = a.subscribe(u);
n.$on("$destroy", function() {
d.unsubscribe();
});
};
} ],
link: function(e, t, n, i) {
var o = n.extensionName, a = n.extensionTypes && n.extensionTypes.split(" ") || [], s = n.extensionArgs || {};
angular.extend(e, {
extTpl: r
}), i.initialize(t, o, a, s);
}
};
} ]);
}(), function() {
"use strict";
angular.module("extension-registry").directive("extensionRenderer", [ "$compile", function(e) {
return {
restrict: "AE",
scope: {
item: "=",
index: "=",
context: "="
},
templateUrl: "__extension-renderer.html",
link: function(t, n) {
t.extTpl = function(e) {
return "__extension-" + e + ".html";
}, "dom" === t.item.type && (n.html(t.item.node), e(n.contents())(t));
}
};
} ]);
}(), angular.module("extension-registry").run([ "$templateCache", function(e) {
e.put("__extension-dom.html", ""), e.put("__extension-link.html", '<a ng-if="!item.onClick"\n   ng-href="{{item.href}}"\n   target="{{item.target}}"\n   title="{{item.linkText}}"\n   class="extension-link extension-{{index}} {{item.className}}">\n   {{item.linkText}}\n </a>\n\n<a ng-if="item.onClick"\n   ng-href="#"\n   ng-click="item.onClick(args)"\n   title="{{item.linkText}}"\n   class="extension-link extension-{{index}} {{item.className}}">\n   {{item.linkText}}\n </a>\n'), e.put("__extension-select.html", '<select\n  name="item.nameText"\n  ng-model="selected"\n  ng-init="selected = item.options[0]"\n  ng-change="item.onChange(selected)"\n  class="extension-select extension-{{index}} {{item.className}}"\n  ng-options="foo.label for foo in item.options"></select>\n'), e.put("__extension-text.html", "<span>{{item.text}}</span>\n");
} ]), function() {
"use strict";
angular.module("as.sortable", []).constant("sortableConfig", {
itemClass: "as-sortable-item",
handleClass: "as-sortable-item-handle",
placeHolderClass: "as-sortable-placeholder",
dragClass: "as-sortable-drag",
hiddenClass: "as-sortable-hidden",
dragging: "as-sortable-dragging"
});
}(), function() {
"use strict";
angular.module("as.sortable").factory("$helper", [ "$document", "$window", function(e, t) {
return {
height: function(e) {
return e[0].getBoundingClientRect().height;
},
width: function(e) {
return e[0].getBoundingClientRect().width;
},
offset: function(n, i) {
var r = n[0].getBoundingClientRect();
return i || (i = e[0].documentElement), {
width: r.width || n.prop("offsetWidth"),
height: r.height || n.prop("offsetHeight"),
top: r.top + (t.pageYOffset || i.scrollTop - i.offsetTop),
left: r.left + (t.pageXOffset || i.scrollLeft - i.offsetLeft)
};
},
eventObj: function(e) {
var t = e;
return void 0 !== e.targetTouches ? t = e.targetTouches.item(0) : void 0 !== e.originalEvent && void 0 !== e.originalEvent.targetTouches && (t = e.originalEvent.targetTouches.item(0)), t;
},
isTouchInvalid: function(e) {
var t = !1;
return void 0 !== e.touches && e.touches.length > 1 ? t = !0 : void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && e.originalEvent.touches.length > 1 && (t = !0), t;
},
positionStarted: function(e, t, n) {
var i = {};
return i.offsetX = e.pageX - this.offset(t, n).left, i.offsetY = e.pageY - this.offset(t, n).top, i.startX = i.lastX = e.pageX, i.startY = i.lastY = e.pageY, i.nowX = i.nowY = i.distX = i.distY = i.dirAx = 0, i.dirX = i.dirY = i.lastDirX = i.lastDirY = i.distAxX = i.distAxY = 0, i;
},
calculatePosition: function(e, t) {
e.lastX = e.nowX, e.lastY = e.nowY, e.nowX = t.pageX, e.nowY = t.pageY, e.distX = e.nowX - e.lastX, e.distY = e.nowY - e.lastY, e.lastDirX = e.dirX, e.lastDirY = e.dirY, e.dirX = 0 === e.distX ? 0 : e.distX > 0 ? 1 : -1, e.dirY = 0 === e.distY ? 0 : e.distY > 0 ? 1 : -1;
var n = Math.abs(e.distX) > Math.abs(e.distY) ? 1 : 0;
e.dirAx !== n ? (e.distAxX = 0, e.distAxY = 0) : (e.distAxX += Math.abs(e.distX), 0 !== e.dirX && e.dirX !== e.lastDirX && (e.distAxX = 0), e.distAxY += Math.abs(e.distY), 0 !== e.dirY && e.dirY !== e.lastDirY && (e.distAxY = 0)), e.dirAx = n;
},
movePosition: function(e, t, n, i, r, o) {
var a, s = "relative" === r;
t.x = e.pageX - n.offsetX, t.y = e.pageY - n.offsetY, i && (a = this.offset(i, o), s && (t.x -= a.left, t.y -= a.top, a.left = 0, a.top = 0), t.x < a.left ? t.x = a.left : t.x >= a.width + a.left - this.offset(t).width && (t.x = a.width + a.left - this.offset(t).width), t.y < a.top ? t.y = a.top : t.y >= a.height + a.top - this.offset(t).height && (t.y = a.height + a.top - this.offset(t).height)), t.css({
left: t.x + "px",
top: t.y + "px"
}), this.calculatePosition(n, e);
},
dragItem: function(e) {
return {
index: e.index(),
parent: e.sortableScope,
source: e,
targetElement: null,
targetElementOffset: null,
sourceInfo: {
index: e.index(),
itemScope: e.itemScope,
sortableScope: e.sortableScope
},
canMove: function(e, t, n) {
return this.targetElement !== t ? (this.targetElement = t, this.targetElementOffset = n, !0) : (e.dirX * (n.left - this.targetElementOffset.left) > 0 || e.dirY * (n.top - this.targetElementOffset.top) > 0) && (this.targetElementOffset = n, !0);
},
moveTo: function(e, t) {
this.parent = e, this.isSameParent() && this.source.index() < t && !this.sourceInfo.sortableScope.cloning && (t -= 1), this.index = t;
},
isSameParent: function() {
return this.parent.element === this.sourceInfo.sortableScope.element;
},
isOrderChanged: function() {
return this.index !== this.sourceInfo.index;
},
eventArgs: function() {
return {
source: this.sourceInfo,
dest: {
index: this.index,
sortableScope: this.parent
}
};
},
apply: function() {
this.sourceInfo.sortableScope.cloning ? this.parent.options.clone || this.parent.insertItem(this.index, angular.copy(this.source.modelValue)) : (this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index), (this.parent.options.allowDuplicates || this.parent.modelValue.indexOf(this.source.modelValue) < 0) && this.parent.insertItem(this.index, this.source.modelValue));
}
};
},
noDrag: function(e) {
return void 0 !== e.attr("no-drag") || void 0 !== e.attr("data-no-drag");
},
findAncestor: function(e, t) {
e = e[0];
for (var n = Element.matches || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector; (e = e.parentElement) && !n.call(e, t); ) ;
return e ? angular.element(e) : angular.element(document.body);
}
};
} ]);
}(), function() {
"use strict";
var e = angular.module("as.sortable");
e.controller("as.sortable.sortableController", [ "$scope", function(e) {
this.scope = e, e.modelValue = null, e.callbacks = null, e.type = "sortable", e.options = {
longTouch: !1
}, e.isDisabled = !1, e.insertItem = function(t, n) {
e.options.allowDuplicates ? e.modelValue.splice(t, 0, angular.copy(n)) : e.modelValue.splice(t, 0, n);
}, e.removeItem = function(t) {
var n = null;
return t > -1 && (n = e.modelValue.splice(t, 1)[0]), n;
}, e.isEmpty = function() {
return e.modelValue && 0 === e.modelValue.length;
}, e.accept = function(t, n, i) {
return e.callbacks.accept(t, n, i);
};
} ]), e.directive("asSortable", function() {
return {
require: "ngModel",
restrict: "A",
scope: !0,
controller: "as.sortable.sortableController",
link: function(e, t, n, i) {
var r, o;
(r = i) && (r.$render = function() {
e.modelValue = r.$modelValue;
}, e.element = t, t.data("_scope", e), (o = {
accept: null,
orderChanged: null,
itemMoved: null,
dragStart: null,
dragMove: null,
dragCancel: null,
dragEnd: null
}).accept = function(e, t, n) {
return !0;
}, o.orderChanged = function(e) {}, o.itemMoved = function(e) {}, o.dragStart = function(e) {}, o.dragMove = angular.noop, o.dragCancel = function(e) {}, o.dragEnd = function(e) {}, e.$watch(n.asSortable, function(t, n) {
angular.forEach(t, function(t, n) {
o[n] ? "function" == typeof t && (o[n] = t) : e.options[n] = t;
}), e.callbacks = o;
}, !0), angular.isDefined(n.isDisabled) && e.$watch(n.isDisabled, function(t, n) {
angular.isUndefined(t) || (e.isDisabled = t);
}, !0));
}
};
});
}(), function() {
"use strict";
function e(t, n) {
return !(!n || "HTML" === n.nodeName) && (n.parentNode === t || e(t, n.parentNode));
}
var t = angular.module("as.sortable");
t.controller("as.sortable.sortableItemHandleController", [ "$scope", function(e) {
this.scope = e, e.itemScope = null, e.type = "handle";
} ]), t.directive("asSortableItemHandle", [ "sortableConfig", "$helper", "$window", "$document", "$timeout", function(t, n, i, r, o) {
return {
require: "^asSortableItem",
scope: !0,
restrict: "A",
controller: "as.sortable.sortableItemHandleController",
link: function(a, s, l, c) {
function u(e, t) {
"table-row" !== g.css("display") && g.css("display", "block"), t.sortableScope.options.clone || (e[0].parentNode.insertBefore(g[0], e[0]), y.moveTo(t.sortableScope, t.index()));
}
function d(e, t) {
"table-row" !== g.css("display") && g.css("display", "block"), t.sortableScope.options.clone || (e.after(g), y.moveTo(t.sortableScope, t.index() + 1));
}
function h(e) {
for (var t; !t && e.length; ) (t = e.data("_scope")) || (e = e.parent());
return t;
}
function p() {
a.itemScope.sortableScope.cloning || m.replaceWith(a.itemScope.element), g.remove(), f.remove(), f = null, B = !1, b.css("cursor", ""), b.removeClass("as-sortable-un-selectable");
}
var f, g, m, v, y, b, w, x, C, _, S, $, A, k, E, T, D, F, M, I, L, P, O, R, B, N, j, U, V = !1, H = !1;
I = "ontouchstart" in i, L = /iPad|iPhone|iPod/.test(i.navigator.userAgent) && !i.MSStream, t.handleClass && s.addClass(t.handleClass), a.itemScope = c.scope, s.data("_scope", a), a.$watchGroup([ "sortableScope.isDisabled", "sortableScope.options.longTouch" ], function(e) {
V !== e[0] ? (V = e[0]) ? D() : T() : H !== e[1] ? (H = e[1], D(), T()) : T();
}), a.$on("$destroy", function() {
angular.element(r[0].body).unbind("keydown", U);
}), N = function(e) {
return "function" == typeof a.sortableScope.options.placeholder ? angular.element(a.sortableScope.options.placeholder(e)) : "string" == typeof a.sortableScope.options.placeholder ? angular.element(a.sortableScope.options.placeholder) : angular.element(r[0].createElement(e.element.prop("tagName")));
}, x = function(e) {
e.preventDefault();
var t, i = function() {
angular.element(r).unbind("mousemove", o), angular.element(r).unbind("touchmove", o), s.unbind("mouseup", i), s.unbind("touchend", i), s.unbind("touchcancel", i);
}, o = function(r) {
r.preventDefault();
var o = n.eventObj(r);
t || (t = {
clientX: o.clientX,
clientY: o.clientY
}), Math.abs(o.clientX - t.clientX) + Math.abs(o.clientY - t.clientY) > 10 && (i(), _(e));
};
angular.element(r).bind("mousemove", o), angular.element(r).bind("touchmove", o), s.bind("mouseup", i), s.bind("touchend", i), s.bind("touchcancel", i), e.stopPropagation();
}, _ = function(e) {
var i, o;
(I || 2 !== e.button && 3 !== e.which) && (I && n.isTouchInvalid(e) || !B && k(e) && (B = !0, e.preventDefault(), i = n.eventObj(e), a.sortableScope = a.sortableScope || a.itemScope.sortableScope, a.callbacks = a.callbacks || a.itemScope.callbacks, a.itemScope.sortableScope.options.clone || a.itemScope.sortableScope.options.ctrlClone && e.ctrlKey ? a.itemScope.sortableScope.cloning = !0 : a.itemScope.sortableScope.cloning = !1, C = angular.element(r[0].querySelector(a.sortableScope.options.scrollableContainer)).length > 0 ? r[0].querySelector(a.sortableScope.options.scrollableContainer) : r[0].documentElement, (b = a.sortableScope.options.containment ? n.findAncestor(s, a.sortableScope.options.containment) : angular.element(r[0].body)).css("cursor", "move"), b.css("cursor", "-webkit-grabbing"), b.css("cursor", "-moz-grabbing"), b.addClass("as-sortable-un-selectable"), w = a.sortableScope.options.containerPositioning || "absolute", y = n.dragItem(a), o = a.itemScope.element.prop("tagName"), 
(f = angular.element(r[0].createElement(a.sortableScope.element.prop("tagName"))).addClass(a.sortableScope.element.attr("class")).addClass(t.dragClass)).css("width", n.width(a.itemScope.element) + "px"), f.css("height", n.height(a.itemScope.element) + "px"), (g = N(a.itemScope).addClass(t.placeHolderClass).addClass(a.sortableScope.options.additionalPlaceholderClass)).css("width", n.width(a.itemScope.element) + "px"), g.css("height", n.height(a.itemScope.element) + "px"), m = angular.element(r[0].createElement(o)), t.hiddenClass && m.addClass(t.hiddenClass), v = n.positionStarted(i, a.itemScope.element, C), a.itemScope.sortableScope.options.clone || a.itemScope.element.after(g), a.itemScope.sortableScope.cloning ? f.append(a.itemScope.element.clone()) : (a.itemScope.element.after(m), f.append(a.itemScope.element)), b.append(f), n.movePosition(i, f, v, b, w, C), a.sortableScope.$apply(function() {
a.callbacks.dragStart(y.eventArgs());
}), F()));
}, k = function(e) {
var t, i, r;
for (r = (i = h(t = angular.element(e.target))) && "handle" === i.type; r && t[0] !== s[0]; ) n.noDrag(t) && (r = !1), t = t.parent();
return r;
}, S = function(o) {
var s, l, c, p, m;
if ((!I || !n.isTouchInvalid(o)) && B && f) {
if (o.preventDefault(), s = n.eventObj(o), a.callbacks.dragMove !== angular.noop && a.sortableScope.$apply(function() {
a.callbacks.dragMove(v, b, s);
}), l = s.pageX - r[0].documentElement.scrollLeft, c = s.pageY - (i.pageYOffset || r[0].documentElement.scrollTop), m = angular.element(r[0].elementFromPoint(l, c)), f.addClass(t.hiddenClass), f.removeClass(t.hiddenClass), n.movePosition(s, f, v, b, w, C), f.addClass(t.dragging), !(p = h(m)) || !p.type) return;
if ("handle" === p.type && (p = p.itemScope), "item" !== p.type && "sortable" !== p.type) return;
if ("item" === p.type && p.accept(a, p.sortableScope, p)) {
m = p.element;
var x = n.offset(m, C);
if (!y.canMove(v, m, x)) return;
var _ = E(p.sortableScope.element);
_ < 0 ? u(m, p) : _ <= p.index() ? d(m, p) : u(m, p);
}
"sortable" === p.type && p.accept(a, p) && !e(p.element[0], m[0]) && (j(m) || p.options.clone || (m[0].appendChild(g[0]), y.moveTo(p, p.modelValue.length)));
}
}, E = function(e) {
var n, i;
if (e.hasClass(t.placeHolderClass)) return 0;
for (n = e.children(), i = 0; i < n.length; i += 1) if (angular.element(n[i]).hasClass(t.placeHolderClass)) return i;
return -1;
}, j = function(e) {
return E(e) >= 0;
}, $ = function(e) {
B && (e.preventDefault(), f && (p(), y.apply(), a.sortableScope.$apply(function() {
y.isSameParent() ? y.isOrderChanged() && a.callbacks.orderChanged(y.eventArgs()) : a.callbacks.itemMoved(y.eventArgs());
}), a.sortableScope.$apply(function() {
a.callbacks.dragEnd(y.eventArgs());
}), y = null), M());
}, A = function(e) {
B && (e.preventDefault(), f && (p(), a.sortableScope.$apply(function() {
a.callbacks.dragCancel(y.eventArgs());
}), y = null), M());
}, T = function() {
I && (H ? L ? (s.bind("touchstart", P), s.bind("touchend", O), s.bind("touchmove", O)) : s.bind("contextmenu", x) : s.bind("touchstart", x)), s.bind("mousedown", x);
}, D = function() {
s.unbind("touchstart", P), s.unbind("touchend", O), s.unbind("touchmove", O), s.unbind("contextmenu", x), s.unbind("touchstart", x), s.unbind("mousedown", x);
}, P = function(e) {
R = o(function() {
x(e);
}, 500);
}, O = function() {
o.cancel(R);
}, U = function(e) {
27 === e.keyCode && A(e);
}, angular.element(r[0].body).bind("keydown", U), F = function() {
angular.element(r).bind("touchmove", S), angular.element(r).bind("touchend", $), angular.element(r).bind("touchcancel", A), angular.element(r).bind("mousemove", S), angular.element(r).bind("mouseup", $);
}, M = function() {
angular.element(r).unbind("touchend", $), angular.element(r).unbind("touchcancel", A), angular.element(r).unbind("touchmove", S), angular.element(r).unbind("mouseup", $), angular.element(r).unbind("mousemove", S);
};
}
};
} ]);
}(), function() {
"use strict";
var e = angular.module("as.sortable");
e.controller("as.sortable.sortableItemController", [ "$scope", function(e) {
this.scope = e, e.sortableScope = null, e.modelValue = null, e.type = "item", e.index = function() {
return e.$index;
}, e.itemData = function() {
return e.sortableScope.modelValue[e.$index];
};
} ]), e.directive("asSortableItem", [ "sortableConfig", function(e) {
return {
require: [ "^asSortable", "?ngModel" ],
restrict: "A",
controller: "as.sortable.sortableItemController",
link: function(t, n, i, r) {
var o = r[0], a = r[1];
e.itemClass && n.addClass(e.itemClass), t.sortableScope = o.scope, a ? a.$render = function() {
t.modelValue = a.$modelValue;
} : t.modelValue = o.scope.modelValue[t.$index], t.element = n, n.data("_scope", t);
}
};
} ]);
}(), function() {
"use strict";
var e = {
TAB: 9,
ENTER: 13,
ESC: 27,
SPACE: 32,
LEFT: 37,
UP: 38,
RIGHT: 39,
DOWN: 40,
SHIFT: 16,
CTRL: 17,
ALT: 18,
PAGE_UP: 33,
PAGE_DOWN: 34,
HOME: 36,
END: 35,
BACKSPACE: 8,
DELETE: 46,
COMMAND: 91,
MAP: {
91: "COMMAND",
8: "BACKSPACE",
9: "TAB",
13: "ENTER",
16: "SHIFT",
17: "CTRL",
18: "ALT",
19: "PAUSEBREAK",
20: "CAPSLOCK",
27: "ESC",
32: "SPACE",
33: "PAGE_UP",
34: "PAGE_DOWN",
35: "END",
36: "HOME",
37: "LEFT",
38: "UP",
39: "RIGHT",
40: "DOWN",
43: "+",
44: "PRINTSCREEN",
45: "INSERT",
46: "DELETE",
48: "0",
49: "1",
50: "2",
51: "3",
52: "4",
53: "5",
54: "6",
55: "7",
56: "8",
57: "9",
59: ";",
61: "=",
65: "A",
66: "B",
67: "C",
68: "D",
69: "E",
70: "F",
71: "G",
72: "H",
73: "I",
74: "J",
75: "K",
76: "L",
77: "M",
78: "N",
79: "O",
80: "P",
81: "Q",
82: "R",
83: "S",
84: "T",
85: "U",
86: "V",
87: "W",
88: "X",
89: "Y",
90: "Z",
96: "0",
97: "1",
98: "2",
99: "3",
100: "4",
101: "5",
102: "6",
103: "7",
104: "8",
105: "9",
106: "*",
107: "+",
109: "-",
110: ".",
111: "/",
112: "F1",
113: "F2",
114: "F3",
115: "F4",
116: "F5",
117: "F6",
118: "F7",
119: "F8",
120: "F9",
121: "F10",
122: "F11",
123: "F12",
144: "NUMLOCK",
145: "SCROLLLOCK",
186: ";",
187: "=",
188: ",",
189: "-",
190: ".",
191: "/",
192: "`",
219: "[",
220: "\\",
221: "]",
222: "'"
},
isControl: function(t) {
switch (t.which) {
case e.COMMAND:
case e.SHIFT:
case e.CTRL:
case e.ALT:
return !0;
}
return !!(t.metaKey || t.ctrlKey || t.altKey);
},
isFunctionKey: function(e) {
return (e = e.which ? e.which : e) >= 112 && e <= 123;
},
isVerticalMovement: function(t) {
return ~[ e.UP, e.DOWN ].indexOf(t);
},
isHorizontalMovement: function(t) {
return ~[ e.LEFT, e.RIGHT, e.BACKSPACE, e.DELETE ].indexOf(t);
},
toSeparator: function(t) {
var n = {
ENTER: "\n",
TAB: "\t",
SPACE: " "
}[t];
return n || (e[t] ? void 0 : t);
}
};
void 0 === angular.element.prototype.querySelectorAll && (angular.element.prototype.querySelectorAll = function(e) {
return angular.element(this[0].querySelectorAll(e));
}), void 0 === angular.element.prototype.closest && (angular.element.prototype.closest = function(e) {
for (var t = this[0], n = t.matches || t.webkitMatchesSelector || t.mozMatchesSelector || t.msMatchesSelector; t; ) {
if (n.bind(t)(e)) return t;
t = t.parentElement;
}
return !1;
});
var t = 0, n = angular.module("ui.select", []).constant("uiSelectConfig", {
theme: "bootstrap",
searchEnabled: !0,
sortable: !1,
placeholder: "",
refreshDelay: 1e3,
closeOnSelect: !0,
skipFocusser: !1,
dropdownPosition: "auto",
removeSelected: !0,
resetSearchInput: !0,
generateId: function() {
return t++;
},
appendToBody: !1
}).service("uiSelectMinErr", function() {
var e = angular.$$minErr("ui.select");
return function() {
var t = e.apply(this, arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"), "");
return new Error(t);
};
}).directive("uisTranscludeAppend", function() {
return {
link: function(e, t, n, i, r) {
r(e, function(e) {
t.append(e);
});
}
};
}).filter("highlight", function() {
function e(e) {
return ("" + e).replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
}
return function(t, n) {
return n && t ? ("" + t).replace(new RegExp(e(n), "gi"), '<span class="ui-select-highlight">$&</span>') : t;
};
}).factory("uisOffset", [ "$document", "$window", function(e, t) {
return function(n) {
var i = n[0].getBoundingClientRect();
return {
width: i.width || n.prop("offsetWidth"),
height: i.height || n.prop("offsetHeight"),
top: i.top + (t.pageYOffset || e[0].documentElement.scrollTop),
left: i.left + (t.pageXOffset || e[0].documentElement.scrollLeft)
};
};
} ]);
n.directive("uiSelectChoices", [ "uiSelectConfig", "uisRepeatParser", "uiSelectMinErr", "$compile", "$window", function(e, t, n, i, r) {
return {
restrict: "EA",
require: "^uiSelect",
replace: !0,
transclude: !0,
templateUrl: function(t) {
return t.addClass("ui-select-choices"), (t.parent().attr("theme") || e.theme) + "/choices.tpl.html";
},
compile: function(i, o) {
if (!o.repeat) throw n("repeat", "Expected 'repeat' expression.");
var a = o.groupBy, s = o.groupFilter;
if (a) {
var l = i.querySelectorAll(".ui-select-choices-group");
if (1 !== l.length) throw n("rows", "Expected 1 .ui-select-choices-group but got '{0}'.", l.length);
l.attr("ng-repeat", t.getGroupNgRepeatExpression());
}
var c = t.parse(o.repeat), u = i.querySelectorAll(".ui-select-choices-row");
if (1 !== u.length) throw n("rows", "Expected 1 .ui-select-choices-row but got '{0}'.", u.length);
u.attr("ng-repeat", c.repeatExpression(a)).attr("ng-if", "$select.open");
var d = i.querySelectorAll(".ui-select-choices-row-inner");
if (1 !== d.length) throw n("rows", "Expected 1 .ui-select-choices-row-inner but got '{0}'.", d.length);
return d.attr("uis-transclude-append", ""), (r.document.addEventListener ? u : d).attr("ng-click", "$select.select(" + c.itemName + ",$select.skipFocusser,$event)"), function(t, n, i, r) {
r.parseRepeatAttr(i.repeat, a, s), r.disableChoiceExpression = i.uiDisableChoice, r.onHighlightCallback = i.onHighlight, r.dropdownPosition = i.position ? i.position.toLowerCase() : e.dropdownPosition, t.$on("$destroy", function() {
u.remove();
}), t.$watch("$select.search", function(e) {
e && !r.open && r.multiple && r.activate(!1, !0), r.activeIndex = r.tagging.isActivated ? -1 : 0, !i.minimumInputLength || r.search.length >= i.minimumInputLength ? r.refresh(i.refresh) : r.items = [];
}), i.$observe("refreshDelay", function() {
var n = t.$eval(i.refreshDelay);
r.refreshDelay = void 0 !== n ? n : e.refreshDelay;
});
};
}
};
} ]), n.controller("uiSelectCtrl", [ "$scope", "$element", "$timeout", "$filter", "$$uisDebounce", "uisRepeatParser", "uiSelectMinErr", "uiSelectConfig", "$parse", "$injector", "$window", function(t, n, i, r, o, a, s, l, c, u, d) {
function h(e, t, n) {
if (e.findIndex) return e.findIndex(t, n);
for (var i, r = Object(e), o = r.length >>> 0, a = 0; a < o; a++) if (i = r[a], t.call(n, i, a, r)) return a;
return -1;
}
function p() {
b.resetSearchInput && (b.search = w, b.selected && b.items.length && !b.multiple && (b.activeIndex = h(b.items, function(e) {
return angular.equals(this, e);
}, b.selected)));
}
function f(e, t) {
var n, i, r = [];
for (n = 0; n < t.length; n++) for (i = 0; i < e.length; i++) e[i].name == [ t[n] ] && r.push(e[i]);
return r;
}
function g(e, t) {
var n = _.indexOf(e);
t && -1 === n && _.push(e), !t && n > -1 && _.splice(n, 1);
}
function m(e) {
return _.indexOf(e) > -1;
}
function v(t) {
var n = !0;
switch (t) {
case e.DOWN:
!b.open && b.multiple ? b.activate(!1, !0) : b.activeIndex < b.items.length - 1 && b.activeIndex++;
break;

case e.UP:
!b.open && b.multiple ? b.activate(!1, !0) : (b.activeIndex > 0 || 0 === b.search.length && b.tagging.isActivated && b.activeIndex > -1) && b.activeIndex--;
break;

case e.TAB:
b.multiple && !b.open || b.select(b.items[b.activeIndex], !0);
break;

case e.ENTER:
b.open && (b.tagging.isActivated || b.activeIndex >= 0) ? b.select(b.items[b.activeIndex], b.skipFocusser) : b.activate(!1, !0);
break;

case e.ESC:
b.close();
break;

default:
n = !1;
}
return n;
}
function y() {
var e = n.querySelectorAll(".ui-select-choices-content"), t = e.querySelectorAll(".ui-select-choices-row");
if (t.length < 1) throw s("choices", "Expected multiple .ui-select-choices-row but got '{0}'.", t.length);
if (!(b.activeIndex < 0)) {
var i = t[b.activeIndex], r = i.offsetTop + i.clientHeight - e[0].scrollTop, o = e[0].offsetHeight;
r > o ? e[0].scrollTop += r - o : r < i.clientHeight && (b.isGrouped && 0 === b.activeIndex ? e[0].scrollTop = 0 : e[0].scrollTop -= i.clientHeight - r);
}
}
var b = this, w = "";
if (b.placeholder = l.placeholder, b.searchEnabled = l.searchEnabled, b.sortable = l.sortable, b.refreshDelay = l.refreshDelay, b.paste = l.paste, b.resetSearchInput = l.resetSearchInput, b.removeSelected = l.removeSelected, b.closeOnSelect = !0, b.skipFocusser = !1, b.search = w, b.activeIndex = 0, b.items = [], b.open = !1, b.focus = !1, b.disabled = !1, b.selected = void 0, b.dropdownPosition = "auto", b.focusser = void 0, b.multiple = void 0, b.disableChoiceExpression = void 0, b.tagging = {
isActivated: !1,
fct: void 0
}, b.taggingTokens = {
isActivated: !1,
tokens: void 0
}, b.lockChoiceExpression = void 0, b.clickTriggeredSelect = !1, b.$filter = r, b.$element = n, b.$animate = function() {
try {
return u.get("$animate");
} catch (e) {
return null;
}
}(), b.searchInput = n.querySelectorAll("input.ui-select-search"), 1 !== b.searchInput.length) throw s("searchInput", "Expected 1 input.ui-select-search but got '{0}'.", b.searchInput.length);
b.isEmpty = function() {
return angular.isUndefined(b.selected) || null === b.selected || "" === b.selected || b.multiple && 0 === b.selected.length;
}, b.activate = function(e, r) {
if (b.disabled || b.open) b.open && !b.searchEnabled && b.close(); else {
r || p(), t.$broadcast("uis:activate"), b.open = !0, b.activeIndex = b.activeIndex >= b.items.length ? 0 : b.activeIndex, -1 === b.activeIndex && !1 !== b.taggingLabel && (b.activeIndex = 0);
var o = n.querySelectorAll(".ui-select-choices-content"), a = n.querySelectorAll(".ui-select-search");
if (b.$animate && b.$animate.on && b.$animate.enabled(o[0])) {
var s = function(t, n) {
"start" === n && 0 === b.items.length ? (b.$animate.off("removeClass", a[0], s), i(function() {
b.focusSearchInput(e);
})) : "close" === n && (b.$animate.off("enter", o[0], s), i(function() {
b.focusSearchInput(e);
}));
};
b.items.length > 0 ? b.$animate.on("enter", o[0], s) : b.$animate.on("removeClass", a[0], s);
} else i(function() {
b.focusSearchInput(e), !b.tagging.isActivated && b.items.length > 1 && y();
});
}
}, b.focusSearchInput = function(e) {
b.search = e || b.search, b.searchInput[0].focus();
}, b.findGroupByName = function(e) {
return b.groups && b.groups.filter(function(t) {
return t.name === e;
})[0];
}, b.parseRepeatAttr = function(e, n, i) {
b.setItemsFn = n ? function(e) {
var r = t.$eval(n);
if (b.groups = [], angular.forEach(e, function(e) {
var t = angular.isFunction(r) ? r(e) : e[r], n = b.findGroupByName(t);
n ? n.items.push(e) : b.groups.push({
name: t,
items: [ e ]
});
}), i) {
var o = t.$eval(i);
angular.isFunction(o) ? b.groups = o(b.groups) : angular.isArray(o) && (b.groups = f(b.groups, o));
}
b.items = [], b.groups.forEach(function(e) {
b.items = b.items.concat(e.items);
});
} : function(e) {
b.items = e;
}, b.parserResult = a.parse(e), b.isGrouped = !!n, b.itemProperty = b.parserResult.itemName;
var r = b.parserResult.source, o = function() {
var e = r(t);
t.$uisSource = Object.keys(e).map(function(t) {
var n = {};
return n[b.parserResult.keyName] = t, n.value = e[t], n;
});
};
b.parserResult.keyName && (o(), b.parserResult.source = c("$uisSource" + b.parserResult.filters), t.$watch(r, function(e, t) {
e !== t && o();
}, !0)), b.refreshItems = function(e) {
e = e || b.parserResult.source(t);
var n = b.selected;
if (b.isEmpty() || angular.isArray(n) && !n.length || !b.multiple || !b.removeSelected) b.setItemsFn(e); else if (void 0 !== e && null !== e) {
var i = e.filter(function(e) {
return angular.isArray(n) ? n.every(function(t) {
return !angular.equals(e, t);
}) : !angular.equals(e, n);
});
b.setItemsFn(i);
}
"auto" !== b.dropdownPosition && "up" !== b.dropdownPosition || t.calculateDropdownPos(), t.$broadcast("uis:refresh");
}, t.$watchCollection(b.parserResult.source, function(e) {
if (void 0 === e || null === e) b.items = []; else {
if (!angular.isArray(e)) throw s("items", "Expected an array but got '{0}'.", e);
b.refreshItems(e), angular.isDefined(b.ngModel.$modelValue) && (b.ngModel.$modelValue = null);
}
});
};
var x;
b.refresh = function(e) {
void 0 !== e && (x && i.cancel(x), x = i(function() {
t.$eval(e);
}, b.refreshDelay));
}, b.isActive = function(e) {
if (!b.open) return !1;
var t = b.items.indexOf(e[b.itemProperty]), n = t == b.activeIndex;
return !(!n || t < 0) && (n && !angular.isUndefined(b.onHighlightCallback) && e.$eval(b.onHighlightCallback), n);
};
var C = function(e) {
return b.selected && angular.isArray(b.selected) && b.selected.filter(function(t) {
return angular.equals(t, e);
}).length > 0;
}, _ = [];
b.isDisabled = function(e) {
if (b.open) {
var t = e[b.itemProperty], n = !1;
if (b.items.indexOf(t) >= 0 && (angular.isDefined(b.disableChoiceExpression) || b.multiple)) {
if (t.isTag) return !1;
b.multiple && (n = C(t)), !n && angular.isDefined(b.disableChoiceExpression) && (n = !!e.$eval(b.disableChoiceExpression)), g(t, n);
}
return n;
}
}, b.select = function(e, n, r) {
if (void 0 === e || !m(e)) {
if (!b.items && !b.search && !b.tagging.isActivated) return;
if (!e || !m(e)) {
if (b.clickTriggeredSelect = !1, r && "click" === r.type && e && (b.clickTriggeredSelect = !0), b.tagging.isActivated && !1 === b.clickTriggeredSelect) {
if (!1 === b.taggingLabel) if (b.activeIndex < 0) {
if (void 0 === e && (e = void 0 !== b.tagging.fct ? b.tagging.fct(b.search) : b.search), !e || angular.equals(b.items[0], e)) return;
} else e = b.items[b.activeIndex]; else if (0 === b.activeIndex) {
if (void 0 === e) return;
if (void 0 !== b.tagging.fct && "string" == typeof e) {
if (!(e = b.tagging.fct(e))) return;
} else "string" == typeof e && (e = e.replace(b.taggingLabel, "").trim());
}
if (C(e)) return void b.close(n);
}
p(), t.$broadcast("uis:select", e);
var o = {};
o[b.parserResult.itemName] = e, i(function() {
b.onSelectCallback(t, {
$item: e,
$model: b.parserResult.modelMapper(t, o)
});
}), b.closeOnSelect && b.close(n);
}
}
}, b.close = function(e) {
b.open && (b.ngModel && b.ngModel.$setTouched && b.ngModel.$setTouched(), b.open = !1, p(), t.$broadcast("uis:close", e));
}, b.setFocus = function() {
b.focus || b.focusInput[0].focus();
}, b.clear = function(e) {
b.select(void 0), e.stopPropagation(), i(function() {
b.focusser[0].focus();
}, 0, !1);
}, b.toggle = function(e) {
b.open ? (b.close(), e.preventDefault(), e.stopPropagation()) : b.activate();
}, b.isLocked = function() {
return !1;
}, t.$watch(function() {
return angular.isDefined(b.lockChoiceExpression) && "" !== b.lockChoiceExpression;
}, function(e) {
function t(e, t) {
var n = i.indexOf(e);
t && -1 === n && i.push(e), !t && n > -1 && i.splice(n, 0);
}
function n(e) {
return i.indexOf(e) > -1;
}
if (e) {
var i = [];
b.isLocked = function(e, i) {
var r = !1, o = b.selected[i];
return o && (e ? t(o, r = !!e.$eval(b.lockChoiceExpression)) : r = n(o)), r;
};
}
});
var S = null, $ = !1;
b.sizeSearchInput = function() {
var e = b.searchInput[0], n = b.searchInput.parent().parent()[0], r = function() {
return n.clientWidth * !!e.offsetParent;
}, o = function(t) {
if (0 === t) return !1;
var n = t - e.offsetLeft - 10;
return n < 50 && (n = t), b.searchInput.css("width", n + "px"), !0;
};
b.searchInput.css("width", "10px"), i(function() {
null !== S || o(r()) || (S = t.$watch(function() {
$ || ($ = !0, t.$$postDigest(function() {
$ = !1, o(r()) && (S(), S = null);
}));
}, angular.noop));
});
}, b.searchInput.on("keydown", function(n) {
var r = n.which;
~[ e.ENTER, e.ESC ].indexOf(r) && (n.preventDefault(), n.stopPropagation()), t.$apply(function() {
var t = !1;
if ((b.items.length > 0 || b.tagging.isActivated) && (v(r) || b.searchEnabled || (n.preventDefault(), n.stopPropagation()), b.taggingTokens.isActivated)) {
for (var o = 0; o < b.taggingTokens.tokens.length; o++) b.taggingTokens.tokens[o] === e.MAP[n.keyCode] && b.search.length > 0 && (t = !0);
t && i(function() {
b.searchInput.triggerHandler("tagged");
var t = b.search.replace(e.MAP[n.keyCode], "").trim();
b.tagging.fct && (t = b.tagging.fct(t)), t && b.select(t, !0);
});
}
}), e.isVerticalMovement(r) && b.items.length > 0 && y(), r !== e.ENTER && r !== e.ESC || (n.preventDefault(), n.stopPropagation());
}), b.searchInput.on("paste", function(t) {
var n;
if (n = window.clipboardData && window.clipboardData.getData ? window.clipboardData.getData("Text") : (t.originalEvent || t).clipboardData.getData("text/plain"), (n = b.search + n) && n.length > 0) if (b.taggingTokens.isActivated) {
for (var i = [], r = 0; r < b.taggingTokens.tokens.length; r++) {
var o = e.toSeparator(b.taggingTokens.tokens[r]) || b.taggingTokens.tokens[r];
if (n.indexOf(o) > -1) {
i = n.split(o);
break;
}
}
0 === i.length && (i = [ n ]);
var a = b.search;
angular.forEach(i, function(e) {
var t = b.tagging.fct ? b.tagging.fct(e) : e;
t && b.select(t, !0);
}), b.search = a || w, t.preventDefault(), t.stopPropagation();
} else b.paste && (b.paste(n), b.search = w, t.preventDefault(), t.stopPropagation());
}), b.searchInput.on("tagged", function() {
i(function() {
p();
});
});
var A = o(function() {
b.sizeSearchInput();
}, 50);
angular.element(d).bind("resize", A), t.$on("$destroy", function() {
b.searchInput.off("keyup keydown tagged blur paste"), angular.element(d).off("resize", A);
});
} ]), n.directive("uiSelect", [ "$document", "uiSelectConfig", "uiSelectMinErr", "uisOffset", "$compile", "$parse", "$timeout", function(e, t, n, i, r, o, a) {
return {
restrict: "EA",
templateUrl: function(e, n) {
return (n.theme || t.theme) + (angular.isDefined(n.multiple) ? "/select-multiple.tpl.html" : "/select.tpl.html");
},
replace: !0,
transclude: !0,
require: [ "uiSelect", "^ngModel" ],
scope: !0,
controller: "uiSelectCtrl",
controllerAs: "$select",
compile: function(r, s) {
var l = /{(.*)}\s*{(.*)}/.exec(s.ngClass);
if (l) {
var c = "{" + l[1] + ", " + l[2] + "}";
s.ngClass = c, r.attr("ng-class", c);
}
return angular.isDefined(s.multiple) ? r.append("<ui-select-multiple/>").removeAttr("multiple") : r.append("<ui-select-single/>"), s.inputId && (r.querySelectorAll("input.ui-select-search")[0].id = s.inputId), function(r, s, l, c, u) {
function d(e) {
if (f.open) {
if (!(window.jQuery ? window.jQuery.contains(s[0], e.target) : s[0].contains(e.target)) && !f.clickTriggeredSelect) {
var t;
if (f.skipFocusser) t = !0; else {
var n = [ "input", "button", "textarea", "select" ], i = angular.element(e.target).controller("uiSelect");
(t = i && i !== f) || (t = ~n.indexOf(e.target.tagName.toLowerCase()));
}
f.close(t), r.$digest();
}
f.clickTriggeredSelect = !1;
}
}
function h() {
var t = i(s);
(v = angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width = t.width + "px", v[0].style.height = t.height + "px", s.after(v), y = s[0].style.width, e.find("body").append(s), s[0].style.position = "absolute", s[0].style.left = t.left + "px", s[0].style.top = t.top + "px", s[0].style.width = t.width + "px";
}
function p() {
null !== v && (v.replaceWith(s), v = null, s[0].style.position = "", s[0].style.left = "", s[0].style.top = "", s[0].style.width = y, f.setFocus());
}
var f = c[0], g = c[1];
f.generatedId = t.generateId(), f.baseTitle = l.title || "Select box", f.focusserTitle = f.baseTitle + " focus", f.focusserId = "focusser-" + f.generatedId, f.closeOnSelect = angular.isDefined(l.closeOnSelect) ? o(l.closeOnSelect)() : t.closeOnSelect, r.$watch("skipFocusser", function() {
var e = r.$eval(l.skipFocusser);
f.skipFocusser = void 0 !== e ? e : t.skipFocusser;
}), f.onSelectCallback = o(l.onSelect), f.onRemoveCallback = o(l.onRemove), f.ngModel = g, f.choiceGrouped = function(e) {
return f.isGrouped && e && e.name;
}, l.tabindex && l.$observe("tabindex", function(e) {
f.focusInput.attr("tabindex", e), s.removeAttr("tabindex");
}), r.$watch(function() {
return r.$eval(l.searchEnabled);
}, function(e) {
f.searchEnabled = void 0 !== e ? e : t.searchEnabled;
}), r.$watch("sortable", function() {
var e = r.$eval(l.sortable);
f.sortable = void 0 !== e ? e : t.sortable;
}), l.$observe("limit", function() {
f.limit = angular.isDefined(l.limit) ? parseInt(l.limit, 10) : void 0;
}), r.$watch("removeSelected", function() {
var e = r.$eval(l.removeSelected);
f.removeSelected = void 0 !== e ? e : t.removeSelected;
}), l.$observe("disabled", function() {
f.disabled = void 0 !== l.disabled && l.disabled;
}), l.$observe("resetSearchInput", function() {
var e = r.$eval(l.resetSearchInput);
f.resetSearchInput = void 0 === e || e;
}), l.$observe("paste", function() {
f.paste = r.$eval(l.paste);
}), l.$observe("tagging", function() {
if (void 0 !== l.tagging) {
var e = r.$eval(l.tagging);
f.tagging = {
isActivated: !0,
fct: !0 !== e ? e : void 0
};
} else f.tagging = {
isActivated: !1,
fct: void 0
};
}), l.$observe("taggingLabel", function() {
void 0 !== l.tagging && ("false" === l.taggingLabel ? f.taggingLabel = !1 : f.taggingLabel = void 0 !== l.taggingLabel ? l.taggingLabel : "(new)");
}), l.$observe("taggingTokens", function() {
if (void 0 !== l.tagging) {
var e = void 0 !== l.taggingTokens ? l.taggingTokens.split("|") : [ ",", "ENTER" ];
f.taggingTokens = {
isActivated: !0,
tokens: e
};
}
}), angular.isDefined(l.autofocus) && a(function() {
f.setFocus();
}), angular.isDefined(l.focusOn) && r.$on(l.focusOn, function() {
a(function() {
f.setFocus();
});
}), e.on("click", d), r.$on("$destroy", function() {
e.off("click", d);
}), u(r, function(e) {
var t = angular.element("<div>").append(e), i = t.querySelectorAll(".ui-select-match");
if (i.removeAttr("ui-select-match"), i.removeAttr("data-ui-select-match"), 1 !== i.length) throw n("transcluded", "Expected 1 .ui-select-match but got '{0}'.", i.length);
s.querySelectorAll(".ui-select-match").replaceWith(i);
var r = t.querySelectorAll(".ui-select-choices");
if (r.removeAttr("ui-select-choices"), r.removeAttr("data-ui-select-choices"), 1 !== r.length) throw n("transcluded", "Expected 1 .ui-select-choices but got '{0}'.", r.length);
s.querySelectorAll(".ui-select-choices").replaceWith(r);
var o = t.querySelectorAll(".ui-select-no-choice");
o.removeAttr("ui-select-no-choice"), o.removeAttr("data-ui-select-no-choice"), 1 == o.length && s.querySelectorAll(".ui-select-no-choice").replaceWith(o);
});
var m = r.$eval(l.appendToBody);
(void 0 !== m ? m : t.appendToBody) && (r.$watch("$select.open", function(e) {
e ? h() : p();
}), r.$on("$destroy", function() {
p();
}));
var v = null, y = "", b = null;
r.$watch("$select.open", function() {
"auto" !== f.dropdownPosition && "up" !== f.dropdownPosition || r.calculateDropdownPos();
});
var w = function(e, t) {
e = e || i(s), t = t || i(b), b[0].style.position = "absolute", b[0].style.top = -1 * t.height + "px", s.addClass("direction-up");
}, x = function(e, t) {
s.removeClass("direction-up"), e = e || i(s), t = t || i(b), b[0].style.position = "", b[0].style.top = "";
}, C = function() {
a(function() {
if ("up" === f.dropdownPosition) w(); else {
s.removeClass("direction-up");
var t = i(s), n = i(b), r = e[0].documentElement.scrollTop || e[0].body.scrollTop;
t.top + t.height + n.height > r + e[0].documentElement.clientHeight ? w(t, n) : x(t, n);
}
b[0].style.opacity = 1;
});
}, _ = !1;
r.calculateDropdownPos = function() {
if (f.open) {
if (0 === (b = angular.element(s).querySelectorAll(".ui-select-dropdown")).length) return;
if ("" !== f.search || _ || (b[0].style.opacity = 0, _ = !0), !i(b).height && f.$animate && f.$animate.on && f.$animate.enabled(b)) {
var e = !0;
f.$animate.on("enter", b, function(t, n) {
"close" === n && e && (C(), e = !1);
});
} else C();
} else {
if (null === b || 0 === b.length) return;
b[0].style.opacity = 0, b[0].style.position = "", b[0].style.top = "", s.removeClass("direction-up");
}
};
};
}
};
} ]), n.directive("uiSelectMatch", [ "uiSelectConfig", function(e) {
function t(e, t) {
return e[0].hasAttribute(t) ? e.attr(t) : e[0].hasAttribute("data-" + t) ? e.attr("data-" + t) : e[0].hasAttribute("x-" + t) ? e.attr("x-" + t) : void 0;
}
return {
restrict: "EA",
require: "^uiSelect",
replace: !0,
transclude: !0,
templateUrl: function(n) {
n.addClass("ui-select-match");
var i = n.parent();
return (t(i, "theme") || e.theme) + (angular.isDefined(t(i, "multiple")) ? "/match-multiple.tpl.html" : "/match.tpl.html");
},
link: function(t, n, i, r) {
function o(e) {
r.allowClear = !!angular.isDefined(e) && ("" === e || "true" === e.toLowerCase());
}
r.lockChoiceExpression = i.uiLockChoice, i.$observe("placeholder", function(t) {
r.placeholder = void 0 !== t ? t : e.placeholder;
}), i.$observe("allowClear", o), o(i.allowClear), r.multiple && r.sizeSearchInput();
}
};
} ]), n.directive("uiSelectMultiple", [ "uiSelectMinErr", "$timeout", function(t, n) {
return {
restrict: "EA",
require: [ "^uiSelect", "^ngModel" ],
controller: [ "$scope", "$timeout", function(e, t) {
var n, i = this, r = e.$select;
angular.isUndefined(r.selected) && (r.selected = []), e.$evalAsync(function() {
n = e.ngModel;
}), i.activeMatchIndex = -1, i.updateModel = function() {
n.$setViewValue(Date.now()), i.refreshComponent();
}, i.refreshComponent = function() {
r.refreshItems && r.refreshItems(), r.sizeSearchInput && r.sizeSearchInput();
}, i.removeChoice = function(n) {
if (r.isLocked(null, n)) return !1;
var o = r.selected[n], a = {};
return a[r.parserResult.itemName] = o, r.selected.splice(n, 1), i.activeMatchIndex = -1, r.sizeSearchInput(), t(function() {
r.onRemoveCallback(e, {
$item: o,
$model: r.parserResult.modelMapper(e, a)
});
}), i.updateModel(), !0;
}, i.getPlaceholder = function() {
if (!r.selected || !r.selected.length) return r.placeholder;
};
} ],
controllerAs: "$selectMultiple",
link: function(i, r, o, a) {
function s(e) {
return angular.isNumber(e.selectionStart) ? e.selectionStart : e.value.length;
}
function l(t) {
var n = s(d.searchInput[0]), i = d.selected.length - 1, r = p.activeMatchIndex, o = p.activeMatchIndex + 1, a = p.activeMatchIndex - 1, l = r;
return !(n > 0 || d.search.length && t == e.RIGHT) && (d.close(), l = function() {
switch (t) {
case e.LEFT:
return ~p.activeMatchIndex ? a : i;

case e.RIGHT:
return ~p.activeMatchIndex && r !== i ? o : (d.activate(), !1);

case e.BACKSPACE:
return ~p.activeMatchIndex ? p.removeChoice(r) ? a : r : i;

case e.DELETE:
return !!~p.activeMatchIndex && (p.removeChoice(p.activeMatchIndex), r);
}
}(), d.selected.length && !1 !== l ? p.activeMatchIndex = Math.min(i, Math.max(0, l)) : p.activeMatchIndex = -1, !0);
}
function c(e) {
return void 0 !== e && void 0 !== d.search && e.filter(function(e) {
return void 0 !== d.search.toUpperCase() && void 0 !== e && e.toUpperCase() === d.search.toUpperCase();
}).length > 0;
}
function u(e, t) {
var n = -1;
if (angular.isArray(e)) for (var i = angular.copy(e), r = 0; r < i.length; r++) if (void 0 === d.tagging.fct) i[r] + " " + d.taggingLabel === t && (n = r); else {
var o = i[r];
angular.isObject(o) && (o.isTag = !0), angular.equals(o, t) && (n = r);
}
return n;
}
var d = a[0], h = i.ngModel = a[1], p = i.$selectMultiple;
d.multiple = !0, d.focusInput = d.searchInput, h.$isEmpty = function(e) {
return !e || 0 === e.length;
}, h.$parsers.unshift(function() {
for (var e, t = {}, n = [], r = d.selected.length - 1; r >= 0; r--) (t = {})[d.parserResult.itemName] = d.selected[r], e = d.parserResult.modelMapper(i, t), n.unshift(e);
return n;
}), h.$formatters.unshift(function(e) {
var t, n = d.parserResult && d.parserResult.source(i, {
$select: {
search: ""
}
}), r = {};
if (!n) return e;
var o = [], a = function(e, n) {
if (e && e.length) {
for (var a = e.length - 1; a >= 0; a--) {
if (r[d.parserResult.itemName] = e[a], t = d.parserResult.modelMapper(i, r), d.parserResult.trackByExp) {
var s = /(\w*)\./.exec(d.parserResult.trackByExp), l = /\.([^\s]+)/.exec(d.parserResult.trackByExp);
if (s && s.length > 0 && s[1] == d.parserResult.itemName && l && l.length > 0 && t[l[1]] == n[l[1]]) return o.unshift(e[a]), !0;
}
if (angular.equals(t, n)) return o.unshift(e[a]), !0;
}
return !1;
}
};
if (!e) return o;
for (var s = e.length - 1; s >= 0; s--) a(d.selected, e[s]) || a(n, e[s]) || o.unshift(e[s]);
return o;
}), i.$watchCollection(function() {
return h.$modelValue;
}, function(e, t) {
t != e && (angular.isDefined(h.$modelValue) && (h.$modelValue = null), p.refreshComponent());
}), h.$render = function() {
if (!angular.isArray(h.$viewValue)) {
if (!angular.isUndefined(h.$viewValue) && null !== h.$viewValue) throw t("multiarr", "Expected model value to be array but got '{0}'", h.$viewValue);
h.$viewValue = [];
}
d.selected = h.$viewValue, p.refreshComponent(), i.$evalAsync();
}, i.$on("uis:select", function(e, t) {
d.selected.length >= d.limit || (d.selected.push(t), p.updateModel());
}), i.$on("uis:activate", function() {
p.activeMatchIndex = -1;
}), i.$watch("$select.disabled", function(e, t) {
t && !e && d.sizeSearchInput();
}), d.searchInput.on("keydown", function(t) {
var n = t.which;
i.$apply(function() {
var i = !1;
e.isHorizontalMovement(n) && (i = l(n)), i && n != e.TAB && (t.preventDefault(), t.stopPropagation());
});
}), d.searchInput.on("keyup", function(t) {
if (e.isVerticalMovement(t.which) || i.$evalAsync(function() {
d.activeIndex = !1 === d.taggingLabel ? -1 : 0;
}), d.tagging.isActivated && d.search.length > 0) {
if (t.which === e.TAB || e.isControl(t) || e.isFunctionKey(t) || t.which === e.ESC || e.isVerticalMovement(t.which)) return;
if (d.activeIndex = !1 === d.taggingLabel ? -1 : 0, !1 === d.taggingLabel) return;
var n, r, o, a = angular.copy(d.items), s = angular.copy(d.items), l = !1, h = -1;
if (void 0 !== d.tagging.fct) {
if ((r = d.$filter("filter")(a, {
isTag: !0
})).length > 0 && (o = r[0]), a.length > 0 && o && (l = !0, a = a.slice(1, a.length), s = s.slice(1, s.length)), n = d.tagging.fct(d.search), s.some(function(e) {
return angular.equals(e, n);
}) || d.selected.some(function(e) {
return angular.equals(e, n);
})) return void i.$evalAsync(function() {
d.activeIndex = 0, d.items = a;
});
n && (n.isTag = !0);
} else {
if ((r = d.$filter("filter")(a, function(e) {
return e.match(d.taggingLabel);
})).length > 0 && (o = r[0]), void 0 !== a[0] && a.length > 0 && o && (l = !0, a = a.slice(1, a.length), s = s.slice(1, s.length)), n = d.search + " " + d.taggingLabel, u(d.selected, d.search) > -1) return;
if (c(s.concat(d.selected))) return void (l && (a = s, i.$evalAsync(function() {
d.activeIndex = 0, d.items = a;
})));
if (c(s)) return void (l && (d.items = s.slice(1, s.length)));
}
l && (h = u(d.selected, n)), h > -1 ? a = a.slice(h + 1, a.length - 1) : (a = [], n && a.push(n), a = a.concat(s)), i.$evalAsync(function() {
if (d.activeIndex = 0, d.items = a, d.isGrouped) {
var e = n ? a.slice(1) : a;
d.setItemsFn(e), n && (d.items.unshift(n), d.groups.unshift({
name: "",
items: [ n ],
tagging: !0
}));
}
});
}
}), d.searchInput.on("blur", function() {
n(function() {
p.activeMatchIndex = -1;
});
});
}
};
} ]), n.directive("uiSelectNoChoice", [ "uiSelectConfig", function(e) {
return {
restrict: "EA",
require: "^uiSelect",
replace: !0,
transclude: !0,
templateUrl: function(t) {
return t.addClass("ui-select-no-choice"), (t.parent().attr("theme") || e.theme) + "/no-choice.tpl.html";
}
};
} ]), n.directive("uiSelectSingle", [ "$timeout", "$compile", function(t, n) {
return {
restrict: "EA",
require: [ "^uiSelect", "^ngModel" ],
link: function(i, r, o, a) {
var s = a[0], l = a[1];
l.$parsers.unshift(function(e) {
var t = {};
return t[s.parserResult.itemName] = e, s.parserResult.modelMapper(i, t);
}), l.$formatters.unshift(function(e) {
var t, n = s.parserResult && s.parserResult.source(i, {
$select: {
search: ""
}
}), r = {};
if (n) {
var o = function(n) {
return r[s.parserResult.itemName] = n, (t = s.parserResult.modelMapper(i, r)) === e;
};
if (s.selected && o(s.selected)) return s.selected;
for (var a = n.length - 1; a >= 0; a--) if (o(n[a])) return n[a];
}
return e;
}), i.$watch("$select.selected", function(e) {
l.$viewValue !== e && l.$setViewValue(e);
}), l.$render = function() {
s.selected = l.$viewValue;
}, i.$on("uis:select", function(e, t) {
s.selected = t;
}), i.$on("uis:close", function(e, n) {
t(function() {
s.focusser.prop("disabled", !1), n || s.focusser[0].focus();
}, 0, !1);
}), i.$on("uis:activate", function() {
c.prop("disabled", !0);
});
var c = angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");
n(c)(i), s.focusser = c, s.focusInput = c, r.parent().append(c), c.bind("focus", function() {
i.$evalAsync(function() {
s.focus = !0;
});
}), c.bind("blur", function() {
i.$evalAsync(function() {
s.focus = !1;
});
}), c.bind("keydown", function(t) {
if (t.which === e.BACKSPACE) return t.preventDefault(), t.stopPropagation(), s.select(void 0), void i.$apply();
t.which === e.TAB || e.isControl(t) || e.isFunctionKey(t) || t.which === e.ESC || (t.which != e.DOWN && t.which != e.UP && t.which != e.ENTER && t.which != e.SPACE || (t.preventDefault(), t.stopPropagation(), s.activate()), i.$digest());
}), c.bind("keyup input", function(t) {
t.which === e.TAB || e.isControl(t) || e.isFunctionKey(t) || t.which === e.ESC || t.which == e.ENTER || t.which === e.BACKSPACE || (s.activate(c.val()), c.val(""), i.$digest());
});
}
};
} ]), n.directive("uiSelectSort", [ "$timeout", "uiSelectConfig", "uiSelectMinErr", function(e, t, n) {
return {
require: [ "^^uiSelect", "^ngModel" ],
link: function(t, i, r, o) {
if (null === t[r.uiSelectSort]) throw n("sort", "Expected a list to sort");
var a = o[0], s = o[1], l = angular.extend({
axis: "horizontal"
}, t.$eval(r.uiSelectSortOptions)).axis;
t.$watch(function() {
return a.sortable;
}, function(e) {
e ? i.attr("draggable", !0) : i.removeAttr("draggable");
}), i.on("dragstart", function(e) {
i.addClass("dragging"), (e.dataTransfer || e.originalEvent.dataTransfer).setData("text", t.$index.toString());
}), i.on("dragend", function() {
d("dragging");
});
var c, u = function(e, t) {
this.splice(t, 0, this.splice(e, 1)[0]);
}, d = function(e) {
angular.forEach(a.$element.querySelectorAll("." + e), function(t) {
angular.element(t).removeClass(e);
});
}, h = function(e) {
e.preventDefault(), ("vertical" === l ? e.offsetY || e.layerY || (e.originalEvent ? e.originalEvent.offsetY : 0) : e.offsetX || e.layerX || (e.originalEvent ? e.originalEvent.offsetX : 0)) < this["vertical" === l ? "offsetHeight" : "offsetWidth"] / 2 ? (d("dropping-after"), i.addClass("dropping-before")) : (d("dropping-before"), i.addClass("dropping-after"));
}, p = function(t) {
t.preventDefault();
var n = parseInt((t.dataTransfer || t.originalEvent.dataTransfer).getData("text"), 10);
e.cancel(c), c = e(function() {
f(n);
}, 20);
}, f = function(e) {
var n = t.$eval(r.uiSelectSort), o = n[e], a = null;
a = i.hasClass("dropping-before") ? e < t.$index ? t.$index - 1 : t.$index : e < t.$index ? t.$index : t.$index + 1, u.apply(n, [ e, a ]), s.$setViewValue(Date.now()), t.$apply(function() {
t.$emit("uiSelectSort:change", {
array: n,
item: o,
from: e,
to: a
});
}), d("dropping"), d("dropping-before"), d("dropping-after"), i.off("drop", p);
};
i.on("dragenter", function() {
i.hasClass("dragging") || (i.addClass("dropping"), i.on("dragover", h), i.on("drop", p));
}), i.on("dragleave", function(e) {
e.target == i && (d("dropping"), d("dropping-before"), d("dropping-after"), i.off("dragover", h), i.off("drop", p));
});
}
};
} ]), n.factory("$$uisDebounce", [ "$timeout", function(e) {
return function(t, n) {
var i;
return function() {
var r = this, o = Array.prototype.slice.call(arguments);
i && e.cancel(i), i = e(function() {
t.apply(r, o);
}, n);
};
};
} ]), n.directive("uisOpenClose", [ "$parse", "$timeout", function(e, t) {
return {
restrict: "A",
require: "uiSelect",
link: function(n, i, r, o) {
o.onOpenCloseCallback = e(r.uisOpenClose), n.$watch("$select.open", function(e, i) {
e !== i && t(function() {
o.onOpenCloseCallback(n, {
isOpen: e
});
});
});
}
};
} ]), n.service("uisRepeatParser", [ "uiSelectMinErr", "$parse", function(e, t) {
var n = this;
n.parse = function(n) {
var i;
if (!(i = n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/))) throw e("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", n);
var r = i[5], o = "";
if (i[3]) {
r = i[5].replace(/(^\()|(\)$)/g, "");
var a = i[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);
a && a[1].trim() && (o = a[1], r = r.replace(o, ""));
}
return {
itemName: i[4] || i[2],
keyName: i[3],
source: t(r),
filters: o,
trackByExp: i[6],
modelMapper: t(i[1] || i[4] || i[2]),
repeatExpression: function(e) {
var t = this.itemName + " in " + (e ? "$group.items" : "$select.items");
return this.trackByExp && (t += " track by " + this.trackByExp), t;
}
};
}, n.getGroupNgRepeatExpression = function() {
return "$group in $select.groups track by $group.name";
};
} ]);
}(), angular.module("ui.select").run([ "$templateCache", function(e) {
e.put("bootstrap/choices.tpl.html", '<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'), e.put("bootstrap/match-multiple.tpl.html", '<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'), 
e.put("bootstrap/match.tpl.html", '<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'), 
e.put("bootstrap/no-choice.tpl.html", '<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'), e.put("bootstrap/select-multiple.tpl.html", '<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'), e.put("bootstrap/select.tpl.html", '<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'), 
e.put("select2/choices.tpl.html", '<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'), e.put("select2/match-multiple.tpl.html", '<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'), 
e.put("select2/match.tpl.html", '<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'), e.put("select2/no-choice.tpl.html", '<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'), e.put("select2/select-multiple.tpl.html", '<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'), 
e.put("select2/select.tpl.html", '<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'), 
e.put("selectize/choices.tpl.html", '<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'), e.put("selectize/match.tpl.html", '<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'), e.put("selectize/no-choice.tpl.html", '<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'), 
e.put("selectize/select.tpl.html", '<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>');
} ]), function() {
"use strict";
function e() {
var e = {
top: 0,
left: 0,
width: window.innerWidth,
right: window.innerWidth,
height: window.innerHeight,
bottom: window.innerHeight
};
return e.height ? e : ("CSS1Compat" === document.compatMode ? (e.width = e.right = document.documentElement.clientWidth, e.height = e.bottom = document.documentElement.clientHeight) : (e.width = e.right = document.body.clientWidth, e.height = e.bottom = document.body.clientHeight), e);
}
function t(e, t) {
return !(t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top);
}
function n(e) {
return angular.isArray(e) ? 2 == e.length ? e.concat(e) : 3 == e.length ? e.concat([ e[1] ]) : e : [ e, e, e, e ];
}
function i(e, t) {
if (!t) return e;
var n = {
top: r(t[0]) ? parseFloat(t[0]) * e.height : t[0],
right: r(t[1]) ? parseFloat(t[1]) * e.width : t[1],
bottom: r(t[2]) ? parseFloat(t[2]) * e.height : t[2],
left: r(t[3]) ? parseFloat(t[3]) * e.width : t[3]
};
return {
top: e.top - n.top,
left: e.left - n.left,
bottom: e.bottom + n.bottom,
right: e.right + n.right,
height: e.height + n.top + n.bottom,
width: e.width + n.left + n.right
};
}
function r(e) {
return angular.isString(e) && e.indexOf("%") > 0;
}
function o(e) {
this.didSubscribeFunc = e;
}
function a() {
var e = arguments;
return new o(function(t) {
for (var n = [], i = e.length - 1; i >= 0; i--) n.push(e[i].subscribe(function() {
t.apply(null, arguments);
}));
t.$dispose = function() {
for (var e = n.length - 1; e >= 0; e--) n[e] && n[e]();
};
});
}
function s(e, t) {
return new o(function(n) {
var i = function(e) {
n(e);
}, r = angular.element(e);
r.on(t, i), n.$dispose = function() {
r.off(t, i);
};
});
}
function l(e) {
return new o(function(t) {
setTimeout(function() {
t(e);
});
});
}
var c = angular.module("angular-inview", []).directive("inView", [ "$parse", function(r) {
return {
restrict: "A",
require: "?^^inViewContainer",
link: function(o, a, c, u) {
var d = {};
c.inViewOptions && (d = o.$eval(c.inViewOptions)), d.offset && (d.offset = n(d.offset)), d.viewportOffset && (d.viewportOffset = n(d.viewportOffset));
var h = l({
type: "initial"
}).merge(s(window, "checkInView click ready wheel mousewheel DomMouseScroll MozMousePixelScroll resize scroll touchmove mouseup keydown"));
u && (h = h.merge(u.eventsSignal)), d.throttle && (h = h.throttle(d.throttle));
var p = h.map(function(n) {
var r;
r = i(r = u ? u.getViewportRect() : e(), d.viewportOffset);
var o = i(a[0].getBoundingClientRect(), d.offset), s = {
inView: !!(a[0].offsetWidth || a[0].offsetHeight || a[0].getClientRects().length) && t(o, r),
event: n,
element: a,
elementRect: o,
viewportRect: r
};
return d.generateParts && s.inView && (s.parts = {}, s.parts.top = o.top >= r.top, s.parts.left = o.left >= r.left, s.parts.bottom = o.bottom <= r.bottom, s.parts.right = o.right <= r.right), s;
}).scan({}, function(e, t) {
return d.generateDirection && t.inView && e.elementRect && (t.direction = {
horizontal: t.elementRect.left - e.elementRect.left,
vertical: t.elementRect.top - e.elementRect.top
}), t.changed = t.inView !== e.inView || !angular.equals(t.parts, e.parts) || !angular.equals(t.direction, e.direction), t;
}).filter(function(e) {
return !(!e.changed || "initial" === e.event.type && !e.inView);
}), f = r(c.inView), g = p.subscribe(function(e) {
o.$applyAsync(function() {
f(o, {
$inview: e.inView,
$inviewInfo: e
});
});
});
o.$on("$destroy", g);
}
};
} ]).directive("inViewContainer", function() {
return {
restrict: "A",
controller: [ "$element", function(e) {
this.element = e, this.eventsSignal = s(e, "scroll"), this.getViewportRect = function() {
return e[0].getBoundingClientRect();
};
} ]
};
});
o.prototype.subscribe = function(e) {
this.didSubscribeFunc(e);
return function() {
e.$dispose && (e.$dispose(), e.$dispose = null);
};
}, o.prototype.map = function(e) {
var t = this;
return new o(function(n) {
n.$dispose = t.subscribe(function(t) {
n(e(t));
});
});
}, o.prototype.filter = function(e) {
var t = this;
return new o(function(n) {
n.$dispose = t.subscribe(function(t) {
e(t) && n(t);
});
});
}, o.prototype.scan = function(e, t) {
var n = this;
return new o(function(i) {
var r = e;
i.$dispose = n.subscribe(function(e) {
r = t(r, e), i(r);
});
});
}, o.prototype.merge = function(e) {
return a(this, e);
}, o.prototype.throttle = function(e) {
var t, n, i = this;
return new o(function(r) {
var o = i.subscribe(function() {
var i = +new Date(), o = arguments;
t && i < t + e ? (clearTimeout(n), n = setTimeout(function() {
t = i, r.apply(null, o);
}, e)) : (t = i, r.apply(null, o));
});
r.$dispose = function() {
clearTimeout(n), o && o();
};
});
}, "function" == typeof define && define.amd ? define([ "angular" ], c) : "undefined" != typeof module && module && module.exports && (module.exports = c);
}(), function(e) {
if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).jsyaml = e();
}
}(function() {
return function e(t, n, i) {
function r(a, s) {
if (!n[a]) {
if (!t[a]) {
var l = "function" == typeof require && require;
if (!s && l) return l(a, !0);
if (o) return o(a, !0);
var c = new Error("Cannot find module '" + a + "'");
throw c.code = "MODULE_NOT_FOUND", c;
}
var u = n[a] = {
exports: {}
};
t[a][0].call(u.exports, function(e) {
var n = t[a][1][e];
return r(n || e);
}, u, u.exports, e, t, n, i);
}
return n[a].exports;
}
for (var o = "function" == typeof require && require, a = 0; a < i.length; a++) r(i[a]);
return r;
}({
1: [ function(e, t, n) {
"use strict";
function i(e) {
return function() {
throw new Error("Function " + e + " is deprecated and cannot be used.");
};
}
var r = e("./js-yaml/loader"), o = e("./js-yaml/dumper");
t.exports.Type = e("./js-yaml/type"), t.exports.Schema = e("./js-yaml/schema"), t.exports.FAILSAFE_SCHEMA = e("./js-yaml/schema/failsafe"), t.exports.JSON_SCHEMA = e("./js-yaml/schema/json"), t.exports.CORE_SCHEMA = e("./js-yaml/schema/core"), t.exports.DEFAULT_SAFE_SCHEMA = e("./js-yaml/schema/default_safe"), t.exports.DEFAULT_FULL_SCHEMA = e("./js-yaml/schema/default_full"), t.exports.load = r.load, t.exports.loadAll = r.loadAll, t.exports.safeLoad = r.safeLoad, t.exports.safeLoadAll = r.safeLoadAll, t.exports.dump = o.dump, t.exports.safeDump = o.safeDump, t.exports.YAMLException = e("./js-yaml/exception"), t.exports.MINIMAL_SCHEMA = e("./js-yaml/schema/failsafe"), t.exports.SAFE_SCHEMA = e("./js-yaml/schema/default_safe"), t.exports.DEFAULT_SCHEMA = e("./js-yaml/schema/default_full"), t.exports.scan = i("scan"), t.exports.parse = i("parse"), t.exports.compose = i("compose"), t.exports.addConstructor = i("addConstructor");
}, {
"./js-yaml/dumper": 3,
"./js-yaml/exception": 4,
"./js-yaml/loader": 5,
"./js-yaml/schema": 7,
"./js-yaml/schema/core": 8,
"./js-yaml/schema/default_full": 9,
"./js-yaml/schema/default_safe": 10,
"./js-yaml/schema/failsafe": 11,
"./js-yaml/schema/json": 12,
"./js-yaml/type": 13
} ],
2: [ function(e, t, n) {
"use strict";
function i(e) {
return void 0 === e || null === e;
}
t.exports.isNothing = i, t.exports.isObject = function(e) {
return "object" == typeof e && null !== e;
}, t.exports.toArray = function(e) {
return Array.isArray(e) ? e : i(e) ? [] : [ e ];
}, t.exports.repeat = function(e, t) {
var n, i = "";
for (n = 0; n < t; n += 1) i += e;
return i;
}, t.exports.isNegativeZero = function(e) {
return 0 === e && Number.NEGATIVE_INFINITY === 1 / e;
}, t.exports.extend = function(e, t) {
var n, i, r, o;
if (t) for (n = 0, i = (o = Object.keys(t)).length; n < i; n += 1) e[r = o[n]] = t[r];
return e;
};
}, {} ],
3: [ function(e, t, n) {
"use strict";
function i(e, t) {
var n, i, r, o, a, s, l;
if (null === t) return {};
for (n = {}, r = 0, o = (i = Object.keys(t)).length; r < o; r += 1) a = i[r], s = String(t[a]), "!!" === a.slice(0, 2) && (a = "tag:yaml.org,2002:" + a.slice(2)), (l = e.compiledTypeMap[a]) && L.call(l.styleAliases, s) && (s = l.styleAliases[s]), n[a] = s;
return n;
}
function r(e) {
var t, n, i;
if (t = e.toString(16).toUpperCase(), e <= 255) n = "x", i = 2; else if (e <= 65535) n = "u", i = 4; else {
if (!(e <= 4294967295)) throw new D("code point within a string may not be greater than 0xFFFFFFFF");
n = "U", i = 8;
}
return "\\" + n + T.repeat("0", i - t.length) + t;
}
function o(e) {
this.schema = e.schema || F, this.indent = Math.max(1, e.indent || 2), this.skipInvalid = e.skipInvalid || !1, this.flowLevel = T.isNothing(e.flowLevel) ? -1 : e.flowLevel, this.styleMap = i(this.schema, e.styles || null), this.sortKeys = e.sortKeys || !1, this.lineWidth = e.lineWidth || 80, this.noRefs = e.noRefs || !1, this.noCompatMode = e.noCompatMode || !1, this.implicitTypes = this.schema.compiledImplicit, this.explicitTypes = this.schema.compiledExplicit, this.tag = null, this.result = "", this.duplicates = [], this.usedDuplicates = null;
}
function a(e, t) {
for (var n, i = T.repeat(" ", t), r = 0, o = -1, a = "", s = e.length; r < s; ) -1 === (o = e.indexOf("\n", r)) ? (n = e.slice(r), r = s) : (n = e.slice(r, o + 1), r = o + 1), n.length && "\n" !== n && (a += i), a += n;
return a;
}
function s(e, t) {
return "\n" + T.repeat(" ", e.indent * t);
}
function l(e, t) {
var n, i;
for (n = 0, i = e.implicitTypes.length; n < i; n += 1) if (e.implicitTypes[n].resolve(t)) return !0;
return !1;
}
function c(e) {
return e === R || e === P;
}
function u(e) {
return 32 <= e && e <= 126 || 161 <= e && e <= 55295 && 8232 !== e && 8233 !== e || 57344 <= e && e <= 65533 && 65279 !== e || 65536 <= e && e <= 1114111;
}
function d(e) {
return u(e) && 65279 !== e && e !== W && e !== Q && e !== J && e !== ee && e !== ne && e !== q && e !== j;
}
function h(e) {
return u(e) && 65279 !== e && !c(e) && e !== G && e !== K && e !== q && e !== W && e !== Q && e !== J && e !== ee && e !== ne && e !== j && e !== V && e !== z && e !== B && e !== te && e !== Y && e !== H && e !== N && e !== U && e !== X && e !== Z;
}
function p(e, t, n, i, r) {
var o, a, s = !1, l = !1, p = -1 !== i, f = -1, g = h(e.charCodeAt(0)) && !c(e.charCodeAt(e.length - 1));
if (t) for (o = 0; o < e.length; o++) {
if (a = e.charCodeAt(o), !u(a)) return ce;
g = g && d(a);
} else {
for (o = 0; o < e.length; o++) {
if ((a = e.charCodeAt(o)) === O) s = !0, p && (l = l || o - f - 1 > i && " " !== e[f + 1], f = o); else if (!u(a)) return ce;
g = g && d(a);
}
l = l || p && o - f - 1 > i && " " !== e[f + 1];
}
return s || l ? " " === e[0] && n > 9 ? ce : l ? le : se : g && !r(e) ? oe : ae;
}
function f(e, t, n, i) {
e.dump = function() {
if (0 === t.length) return "''";
if (!e.noCompatMode && -1 !== re.indexOf(t)) return "'" + t + "'";
var r = e.indent * Math.max(1, n), o = -1 === e.lineWidth ? -1 : Math.max(Math.min(e.lineWidth, 40), e.lineWidth - r), s = i || e.flowLevel > -1 && n >= e.flowLevel;
switch (p(t, s, e.indent, o, function(t) {
return l(e, t);
})) {
case oe:
return t;

case ae:
return "'" + t.replace(/'/g, "''") + "'";

case se:
return "|" + g(t, e.indent) + m(a(t, r));

case le:
return ">" + g(t, e.indent) + m(a(v(t, o), r));

case ce:
return '"' + b(t) + '"';

default:
throw new D("impossible error: invalid scalar style");
}
}();
}
function g(e, t) {
var n = " " === e[0] ? String(t) : "", i = "\n" === e[e.length - 1];
return n + (i && ("\n" === e[e.length - 2] || "\n" === e) ? "+" : i ? "" : "-") + "\n";
}
function m(e) {
return "\n" === e[e.length - 1] ? e.slice(0, -1) : e;
}
function v(e, t) {
for (var n, i, r = /(\n+)([^\n]*)/g, o = function() {
var n = e.indexOf("\n");
return n = -1 !== n ? n : e.length, r.lastIndex = n, y(e.slice(0, n), t);
}(), a = "\n" === e[0] || " " === e[0]; i = r.exec(e); ) {
var s = i[1], l = i[2];
n = " " === l[0], o += s + (a || n || "" === l ? "" : "\n") + y(l, t), a = n;
}
return o;
}
function y(e, t) {
if ("" === e || " " === e[0]) return e;
for (var n, i, r = / [^ ]/g, o = 0, a = 0, s = 0, l = ""; n = r.exec(e); ) (s = n.index) - o > t && (i = a > o ? a : s, l += "\n" + e.slice(o, i), o = i + 1), a = s;
return l += "\n", e.length - o > t && a > o ? l += e.slice(o, a) + "\n" + e.slice(a + 1) : l += e.slice(o), l.slice(1);
}
function b(e) {
for (var t, n, i = "", o = 0; o < e.length; o++) t = e.charCodeAt(o), i += !(n = ie[t]) && u(t) ? e[o] : n || r(t);
return i;
}
function w(e, t, n) {
var i, r, o = "", a = e.tag;
for (i = 0, r = n.length; i < r; i += 1) $(e, t, n[i], !1, !1) && (0 !== i && (o += ", "), o += e.dump);
e.tag = a, e.dump = "[" + o + "]";
}
function x(e, t, n, i) {
var r, o, a = "", l = e.tag;
for (r = 0, o = n.length; r < o; r += 1) $(e, t + 1, n[r], !0, !0) && (i && 0 === r || (a += s(e, t)), a += "- " + e.dump);
e.tag = l, e.dump = a || "[]";
}
function C(e, t, n) {
var i, r, o, a, s, l = "", c = e.tag, u = Object.keys(n);
for (i = 0, r = u.length; i < r; i += 1) s = "", 0 !== i && (s += ", "), a = n[o = u[i]], $(e, t, o, !1, !1) && (e.dump.length > 1024 && (s += "? "), s += e.dump + ": ", $(e, t, a, !1, !1) && (l += s += e.dump));
e.tag = c, e.dump = "{" + l + "}";
}
function _(e, t, n, i) {
var r, o, a, l, c, u, d = "", h = e.tag, p = Object.keys(n);
if (!0 === e.sortKeys) p.sort(); else if ("function" == typeof e.sortKeys) p.sort(e.sortKeys); else if (e.sortKeys) throw new D("sortKeys must be a boolean or a function");
for (r = 0, o = p.length; r < o; r += 1) u = "", i && 0 === r || (u += s(e, t)), l = n[a = p[r]], $(e, t + 1, a, !0, !0, !0) && ((c = null !== e.tag && "?" !== e.tag || e.dump && e.dump.length > 1024) && (e.dump && O === e.dump.charCodeAt(0) ? u += "?" : u += "? "), u += e.dump, c && (u += s(e, t)), $(e, t + 1, l, !0, c) && (e.dump && O === e.dump.charCodeAt(0) ? u += ":" : u += ": ", d += u += e.dump));
e.tag = h, e.dump = d || "{}";
}
function S(e, t, n) {
var i, r, o, a, s, l;
for (o = 0, a = (r = n ? e.explicitTypes : e.implicitTypes).length; o < a; o += 1) if (((s = r[o]).instanceOf || s.predicate) && (!s.instanceOf || "object" == typeof t && t instanceof s.instanceOf) && (!s.predicate || s.predicate(t))) {
if (e.tag = n ? s.tag : "?", s.represent) {
if (l = e.styleMap[s.tag] || s.defaultStyle, "[object Function]" === I.call(s.represent)) i = s.represent(t, l); else {
if (!L.call(s.represent, l)) throw new D("!<" + s.tag + '> tag resolver accepts not "' + l + '" style');
i = s.represent[l](t, l);
}
e.dump = i;
}
return !0;
}
return !1;
}
function $(e, t, n, i, r, o) {
e.tag = null, e.dump = n, S(e, n, !1) || S(e, n, !0);
var a = I.call(e.dump);
i && (i = e.flowLevel < 0 || e.flowLevel > t);
var s, l, c = "[object Object]" === a || "[object Array]" === a;
if (c && (l = -1 !== (s = e.duplicates.indexOf(n))), (null !== e.tag && "?" !== e.tag || l || 2 !== e.indent && t > 0) && (r = !1), l && e.usedDuplicates[s]) e.dump = "*ref_" + s; else {
if (c && l && !e.usedDuplicates[s] && (e.usedDuplicates[s] = !0), "[object Object]" === a) i && 0 !== Object.keys(e.dump).length ? (_(e, t, e.dump, r), l && (e.dump = "&ref_" + s + e.dump)) : (C(e, t, e.dump), l && (e.dump = "&ref_" + s + " " + e.dump)); else if ("[object Array]" === a) i && 0 !== e.dump.length ? (x(e, t, e.dump, r), l && (e.dump = "&ref_" + s + e.dump)) : (w(e, t, e.dump), l && (e.dump = "&ref_" + s + " " + e.dump)); else {
if ("[object String]" !== a) {
if (e.skipInvalid) return !1;
throw new D("unacceptable kind of an object to dump " + a);
}
"?" !== e.tag && f(e, e.dump, t, o);
}
null !== e.tag && "?" !== e.tag && (e.dump = "!<" + e.tag + "> " + e.dump);
}
return !0;
}
function A(e, t) {
var n, i, r = [], o = [];
for (k(e, r, o), n = 0, i = o.length; n < i; n += 1) t.duplicates.push(r[o[n]]);
t.usedDuplicates = new Array(i);
}
function k(e, t, n) {
var i, r, o;
if (null !== e && "object" == typeof e) if (-1 !== (r = t.indexOf(e))) -1 === n.indexOf(r) && n.push(r); else if (t.push(e), Array.isArray(e)) for (r = 0, o = e.length; r < o; r += 1) k(e[r], t, n); else for (r = 0, o = (i = Object.keys(e)).length; r < o; r += 1) k(e[i[r]], t, n);
}
function E(e, t) {
var n = new o(t = t || {});
return n.noRefs || A(e, n), $(n, 0, e, !0, !0) ? n.dump + "\n" : "";
}
var T = e("./common"), D = e("./exception"), F = e("./schema/default_full"), M = e("./schema/default_safe"), I = Object.prototype.toString, L = Object.prototype.hasOwnProperty, P = 9, O = 10, R = 32, B = 33, N = 34, j = 35, U = 37, V = 38, H = 39, z = 42, W = 44, G = 45, q = 58, Y = 62, K = 63, X = 64, Q = 91, J = 93, Z = 96, ee = 123, te = 124, ne = 125, ie = {};
ie[0] = "\\0", ie[7] = "\\a", ie[8] = "\\b", ie[9] = "\\t", ie[10] = "\\n", ie[11] = "\\v", ie[12] = "\\f", ie[13] = "\\r", ie[27] = "\\e", ie[34] = '\\"', ie[92] = "\\\\", ie[133] = "\\N", ie[160] = "\\_", ie[8232] = "\\L", ie[8233] = "\\P";
var re = [ "y", "Y", "yes", "Yes", "YES", "on", "On", "ON", "n", "N", "no", "No", "NO", "off", "Off", "OFF" ], oe = 1, ae = 2, se = 3, le = 4, ce = 5;
t.exports.dump = E, t.exports.safeDump = function(e, t) {
return E(e, T.extend({
schema: M
}, t));
};
}, {
"./common": 2,
"./exception": 4,
"./schema/default_full": 9,
"./schema/default_safe": 10
} ],
4: [ function(e, t, n) {
"use strict";
function i(e, t) {
Error.call(this), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack || "", this.name = "YAMLException", this.reason = e, this.mark = t, this.message = (this.reason || "(unknown reason)") + (this.mark ? " " + this.mark.toString() : "");
}
(i.prototype = Object.create(Error.prototype)).constructor = i, i.prototype.toString = function(e) {
var t = this.name + ": ";
return t += this.reason || "(unknown reason)", !e && this.mark && (t += " " + this.mark.toString()), t;
}, t.exports = i;
}, {} ],
5: [ function(e, t, n) {
"use strict";
function i(e) {
return 10 === e || 13 === e;
}
function r(e) {
return 9 === e || 32 === e;
}
function o(e) {
return 9 === e || 32 === e || 10 === e || 13 === e;
}
function a(e) {
return 44 === e || 91 === e || 93 === e || 123 === e || 125 === e;
}
function s(e) {
var t;
return 48 <= e && e <= 57 ? e - 48 : 97 <= (t = 32 | e) && t <= 102 ? t - 97 + 10 : -1;
}
function l(e) {
return 120 === e ? 2 : 117 === e ? 4 : 85 === e ? 8 : 0;
}
function c(e) {
return 48 <= e && e <= 57 ? e - 48 : -1;
}
function u(e) {
return 48 === e ? "\0" : 97 === e ? "" : 98 === e ? "\b" : 116 === e ? "\t" : 9 === e ? "\t" : 110 === e ? "\n" : 118 === e ? "\v" : 102 === e ? "\f" : 114 === e ? "\r" : 101 === e ? "" : 32 === e ? " " : 34 === e ? '"' : 47 === e ? "/" : 92 === e ? "\\" : 78 === e ? "" : 95 === e ? " " : 76 === e ? "\u2028" : 80 === e ? "\u2029" : "";
}
function d(e) {
return e <= 65535 ? String.fromCharCode(e) : String.fromCharCode(55296 + (e - 65536 >> 10), 56320 + (e - 65536 & 1023));
}
function h(e, t) {
this.input = e, this.filename = t.filename || null, this.schema = t.schema || V, this.onWarning = t.onWarning || null, this.legacy = t.legacy || !1, this.json = t.json || !1, this.listener = t.listener || null, this.implicitTypes = this.schema.compiledImplicit, this.typeMap = this.schema.compiledTypeMap, this.length = e.length, this.position = 0, this.line = 0, this.lineStart = 0, this.lineIndent = 0, this.documents = [];
}
function p(e, t) {
return new N(t, new j(e.filename, e.input, e.position, e.line, e.position - e.lineStart));
}
function f(e, t) {
throw p(e, t);
}
function g(e, t) {
e.onWarning && e.onWarning.call(null, p(e, t));
}
function m(e, t, n, i) {
var r, o, a, s;
if (t < n) {
if (s = e.input.slice(t, n), i) for (r = 0, o = s.length; r < o; r += 1) 9 === (a = s.charCodeAt(r)) || 32 <= a && a <= 1114111 || f(e, "expected valid JSON character"); else Q.test(s) && f(e, "the stream contains non-printable characters");
e.result += s;
}
}
function v(e, t, n, i) {
var r, o, a, s;
for (B.isObject(n) || f(e, "cannot merge mappings; the provided source object is unacceptable"), a = 0, s = (r = Object.keys(n)).length; a < s; a += 1) o = r[a], H.call(t, o) || (t[o] = n[o], i[o] = !0);
}
function y(e, t, n, i, r, o) {
var a, s;
if (r = String(r), null === t && (t = {}), "tag:yaml.org,2002:merge" === i) if (Array.isArray(o)) for (a = 0, s = o.length; a < s; a += 1) v(e, t, o[a], n); else v(e, t, o, n); else e.json || H.call(n, r) || !H.call(t, r) || f(e, "duplicated mapping key"), t[r] = o, delete n[r];
return t;
}
function b(e) {
var t;
10 === (t = e.input.charCodeAt(e.position)) ? e.position++ : 13 === t ? (e.position++, 10 === e.input.charCodeAt(e.position) && e.position++) : f(e, "a line break is expected"), e.line += 1, e.lineStart = e.position;
}
function w(e, t, n) {
for (var o = 0, a = e.input.charCodeAt(e.position); 0 !== a; ) {
for (;r(a); ) a = e.input.charCodeAt(++e.position);
if (t && 35 === a) do {
a = e.input.charCodeAt(++e.position);
} while (10 !== a && 13 !== a && 0 !== a);
if (!i(a)) break;
for (b(e), a = e.input.charCodeAt(e.position), o++, e.lineIndent = 0; 32 === a; ) e.lineIndent++, a = e.input.charCodeAt(++e.position);
}
return -1 !== n && 0 !== o && e.lineIndent < n && g(e, "deficient indentation"), o;
}
function x(e) {
var t, n = e.position;
return !(45 !== (t = e.input.charCodeAt(n)) && 46 !== t || t !== e.input.charCodeAt(n + 1) || t !== e.input.charCodeAt(n + 2) || (n += 3, 0 !== (t = e.input.charCodeAt(n)) && !o(t)));
}
function C(e, t) {
1 === t ? e.result += " " : t > 1 && (e.result += B.repeat("\n", t - 1));
}
function _(e, t, n) {
var s, l, c, u, d, h, p, f, g, v = e.kind, y = e.result;
if (g = e.input.charCodeAt(e.position), o(g) || a(g) || 35 === g || 38 === g || 42 === g || 33 === g || 124 === g || 62 === g || 39 === g || 34 === g || 37 === g || 64 === g || 96 === g) return !1;
if ((63 === g || 45 === g) && (l = e.input.charCodeAt(e.position + 1), o(l) || n && a(l))) return !1;
for (e.kind = "scalar", e.result = "", c = u = e.position, d = !1; 0 !== g; ) {
if (58 === g) {
if (l = e.input.charCodeAt(e.position + 1), o(l) || n && a(l)) break;
} else if (35 === g) {
if (s = e.input.charCodeAt(e.position - 1), o(s)) break;
} else {
if (e.position === e.lineStart && x(e) || n && a(g)) break;
if (i(g)) {
if (h = e.line, p = e.lineStart, f = e.lineIndent, w(e, !1, -1), e.lineIndent >= t) {
d = !0, g = e.input.charCodeAt(e.position);
continue;
}
e.position = u, e.line = h, e.lineStart = p, e.lineIndent = f;
break;
}
}
d && (m(e, c, u, !1), C(e, e.line - h), c = u = e.position, d = !1), r(g) || (u = e.position + 1), g = e.input.charCodeAt(++e.position);
}
return m(e, c, u, !1), !!e.result || (e.kind = v, e.result = y, !1);
}
function S(e, t) {
var n, r, o;
if (39 !== (n = e.input.charCodeAt(e.position))) return !1;
for (e.kind = "scalar", e.result = "", e.position++, r = o = e.position; 0 !== (n = e.input.charCodeAt(e.position)); ) if (39 === n) {
if (m(e, r, e.position, !0), 39 !== (n = e.input.charCodeAt(++e.position))) return !0;
r = o = e.position, e.position++;
} else i(n) ? (m(e, r, o, !0), C(e, w(e, !1, t)), r = o = e.position) : e.position === e.lineStart && x(e) ? f(e, "unexpected end of the document within a single quoted scalar") : (e.position++, o = e.position);
f(e, "unexpected end of the stream within a single quoted scalar");
}
function $(e, t) {
var n, r, o, a, c, u;
if (34 !== (u = e.input.charCodeAt(e.position))) return !1;
for (e.kind = "scalar", e.result = "", e.position++, n = r = e.position; 0 !== (u = e.input.charCodeAt(e.position)); ) {
if (34 === u) return m(e, n, e.position, !0), e.position++, !0;
if (92 === u) {
if (m(e, n, e.position, !0), u = e.input.charCodeAt(++e.position), i(u)) w(e, !1, t); else if (u < 256 && ne[u]) e.result += ie[u], e.position++; else if ((c = l(u)) > 0) {
for (o = c, a = 0; o > 0; o--) (c = s(u = e.input.charCodeAt(++e.position))) >= 0 ? a = (a << 4) + c : f(e, "expected hexadecimal character");
e.result += d(a), e.position++;
} else f(e, "unknown escape sequence");
n = r = e.position;
} else i(u) ? (m(e, n, r, !0), C(e, w(e, !1, t)), n = r = e.position) : e.position === e.lineStart && x(e) ? f(e, "unexpected end of the document within a double quoted scalar") : (e.position++, r = e.position);
}
f(e, "unexpected end of the stream within a double quoted scalar");
}
function A(e, t) {
var n, i, r, a, s, l, c, u, d, h, p = !0, g = e.tag, m = e.anchor, v = {};
if (91 === (h = e.input.charCodeAt(e.position))) r = 93, l = !1, i = []; else {
if (123 !== h) return !1;
r = 125, l = !0, i = {};
}
for (null !== e.anchor && (e.anchorMap[e.anchor] = i), h = e.input.charCodeAt(++e.position); 0 !== h; ) {
if (w(e, !0, t), (h = e.input.charCodeAt(e.position)) === r) return e.position++, e.tag = g, e.anchor = m, e.kind = l ? "mapping" : "sequence", e.result = i, !0;
p || f(e, "missed comma between flow collection entries"), u = c = d = null, a = s = !1, 63 === h && o(e.input.charCodeAt(e.position + 1)) && (a = s = !0, e.position++, w(e, !0, t)), n = e.line, I(e, t, z, !1, !0), u = e.tag, c = e.result, w(e, !0, t), h = e.input.charCodeAt(e.position), !s && e.line !== n || 58 !== h || (a = !0, h = e.input.charCodeAt(++e.position), w(e, !0, t), I(e, t, z, !1, !0), d = e.result), l ? y(e, i, v, u, c, d) : a ? i.push(y(e, null, v, u, c, d)) : i.push(c), w(e, !0, t), 44 === (h = e.input.charCodeAt(e.position)) ? (p = !0, h = e.input.charCodeAt(++e.position)) : p = !1;
}
f(e, "unexpected end of the stream within a flow collection");
}
function k(e, t) {
var n, o, a, s, l = Y, u = !1, d = !1, h = t, p = 0, g = !1;
if (124 === (s = e.input.charCodeAt(e.position))) o = !1; else {
if (62 !== s) return !1;
o = !0;
}
for (e.kind = "scalar", e.result = ""; 0 !== s; ) if (43 === (s = e.input.charCodeAt(++e.position)) || 45 === s) Y === l ? l = 43 === s ? X : K : f(e, "repeat of a chomping mode identifier"); else {
if (!((a = c(s)) >= 0)) break;
0 === a ? f(e, "bad explicit indentation width of a block scalar; it cannot be less than one") : d ? f(e, "repeat of an indentation width identifier") : (h = t + a - 1, d = !0);
}
if (r(s)) {
do {
s = e.input.charCodeAt(++e.position);
} while (r(s));
if (35 === s) do {
s = e.input.charCodeAt(++e.position);
} while (!i(s) && 0 !== s);
}
for (;0 !== s; ) {
for (b(e), e.lineIndent = 0, s = e.input.charCodeAt(e.position); (!d || e.lineIndent < h) && 32 === s; ) e.lineIndent++, s = e.input.charCodeAt(++e.position);
if (!d && e.lineIndent > h && (h = e.lineIndent), i(s)) p++; else {
if (e.lineIndent < h) {
l === X ? e.result += B.repeat("\n", u ? 1 + p : p) : l === Y && u && (e.result += "\n");
break;
}
for (o ? r(s) ? (g = !0, e.result += B.repeat("\n", u ? 1 + p : p)) : g ? (g = !1, e.result += B.repeat("\n", p + 1)) : 0 === p ? u && (e.result += " ") : e.result += B.repeat("\n", p) : e.result += B.repeat("\n", u ? 1 + p : p), u = !0, d = !0, p = 0, n = e.position; !i(s) && 0 !== s; ) s = e.input.charCodeAt(++e.position);
m(e, n, e.position, !1);
}
}
return !0;
}
function E(e, t) {
var n, i, r, a = e.tag, s = e.anchor, l = [], c = !1;
for (null !== e.anchor && (e.anchorMap[e.anchor] = l), r = e.input.charCodeAt(e.position); 0 !== r && 45 === r && (i = e.input.charCodeAt(e.position + 1), o(i)); ) if (c = !0, e.position++, w(e, !0, -1) && e.lineIndent <= t) l.push(null), r = e.input.charCodeAt(e.position); else if (n = e.line, I(e, t, G, !1, !0), l.push(e.result), w(e, !0, -1), r = e.input.charCodeAt(e.position), (e.line === n || e.lineIndent > t) && 0 !== r) f(e, "bad indentation of a sequence entry"); else if (e.lineIndent < t) break;
return !!c && (e.tag = a, e.anchor = s, e.kind = "sequence", e.result = l, !0);
}
function T(e, t, n) {
var i, a, s, l, c = e.tag, u = e.anchor, d = {}, h = {}, p = null, g = null, m = null, v = !1, b = !1;
for (null !== e.anchor && (e.anchorMap[e.anchor] = d), l = e.input.charCodeAt(e.position); 0 !== l; ) {
if (i = e.input.charCodeAt(e.position + 1), s = e.line, 63 !== l && 58 !== l || !o(i)) {
if (!I(e, n, W, !1, !0)) break;
if (e.line === s) {
for (l = e.input.charCodeAt(e.position); r(l); ) l = e.input.charCodeAt(++e.position);
if (58 === l) o(l = e.input.charCodeAt(++e.position)) || f(e, "a whitespace character is expected after the key-value separator within a block mapping"), v && (y(e, d, h, p, g, null), p = g = m = null), b = !0, v = !1, a = !1, p = e.tag, g = e.result; else {
if (!b) return e.tag = c, e.anchor = u, !0;
f(e, "can not read an implicit mapping pair; a colon is missed");
}
} else {
if (!b) return e.tag = c, e.anchor = u, !0;
f(e, "can not read a block mapping entry; a multiline key may not be an implicit key");
}
} else 63 === l ? (v && (y(e, d, h, p, g, null), p = g = m = null), b = !0, v = !0, a = !0) : v ? (v = !1, a = !0) : f(e, "incomplete explicit mapping pair; a key node is missed"), e.position += 1, l = i;
if ((e.line === s || e.lineIndent > t) && (I(e, t, q, !0, a) && (v ? g = e.result : m = e.result), v || (y(e, d, h, p, g, m), p = g = m = null), w(e, !0, -1), l = e.input.charCodeAt(e.position)), e.lineIndent > t && 0 !== l) f(e, "bad indentation of a mapping entry"); else if (e.lineIndent < t) break;
}
return v && y(e, d, h, p, g, null), b && (e.tag = c, e.anchor = u, e.kind = "mapping", e.result = d), b;
}
function D(e) {
var t, n, i, r, a = !1, s = !1;
if (33 !== (r = e.input.charCodeAt(e.position))) return !1;
if (null !== e.tag && f(e, "duplication of a tag property"), 60 === (r = e.input.charCodeAt(++e.position)) ? (a = !0, r = e.input.charCodeAt(++e.position)) : 33 === r ? (s = !0, n = "!!", r = e.input.charCodeAt(++e.position)) : n = "!", t = e.position, a) {
do {
r = e.input.charCodeAt(++e.position);
} while (0 !== r && 62 !== r);
e.position < e.length ? (i = e.input.slice(t, e.position), r = e.input.charCodeAt(++e.position)) : f(e, "unexpected end of the stream within a verbatim tag");
} else {
for (;0 !== r && !o(r); ) 33 === r && (s ? f(e, "tag suffix cannot contain exclamation marks") : (n = e.input.slice(t - 1, e.position + 1), ee.test(n) || f(e, "named tag handle cannot contain such characters"), s = !0, t = e.position + 1)), r = e.input.charCodeAt(++e.position);
i = e.input.slice(t, e.position), Z.test(i) && f(e, "tag suffix cannot contain flow indicator characters");
}
return i && !te.test(i) && f(e, "tag name cannot contain such characters: " + i), a ? e.tag = i : H.call(e.tagMap, n) ? e.tag = e.tagMap[n] + i : "!" === n ? e.tag = "!" + i : "!!" === n ? e.tag = "tag:yaml.org,2002:" + i : f(e, 'undeclared tag handle "' + n + '"'), !0;
}
function F(e) {
var t, n;
if (38 !== (n = e.input.charCodeAt(e.position))) return !1;
for (null !== e.anchor && f(e, "duplication of an anchor property"), n = e.input.charCodeAt(++e.position), t = e.position; 0 !== n && !o(n) && !a(n); ) n = e.input.charCodeAt(++e.position);
return e.position === t && f(e, "name of an anchor node must contain at least one character"), e.anchor = e.input.slice(t, e.position), !0;
}
function M(e) {
var t, n, i;
if (42 !== (i = e.input.charCodeAt(e.position))) return !1;
for (i = e.input.charCodeAt(++e.position), t = e.position; 0 !== i && !o(i) && !a(i); ) i = e.input.charCodeAt(++e.position);
return e.position === t && f(e, "name of an alias node must contain at least one character"), n = e.input.slice(t, e.position), e.anchorMap.hasOwnProperty(n) || f(e, 'unidentified alias "' + n + '"'), e.result = e.anchorMap[n], w(e, !0, -1), !0;
}
function I(e, t, n, i, r) {
var o, a, s, l, c, u, d, h, p = 1, g = !1, m = !1;
if (null !== e.listener && e.listener("open", e), e.tag = null, e.anchor = null, e.kind = null, e.result = null, o = a = s = q === n || G === n, i && w(e, !0, -1) && (g = !0, e.lineIndent > t ? p = 1 : e.lineIndent === t ? p = 0 : e.lineIndent < t && (p = -1)), 1 === p) for (;D(e) || F(e); ) w(e, !0, -1) ? (g = !0, s = o, e.lineIndent > t ? p = 1 : e.lineIndent === t ? p = 0 : e.lineIndent < t && (p = -1)) : s = !1;
if (s && (s = g || r), 1 !== p && q !== n || (d = z === n || W === n ? t : t + 1, h = e.position - e.lineStart, 1 === p ? s && (E(e, h) || T(e, h, d)) || A(e, d) ? m = !0 : (a && k(e, d) || S(e, d) || $(e, d) ? m = !0 : M(e) ? (m = !0, null === e.tag && null === e.anchor || f(e, "alias node should not have any properties")) : _(e, d, z === n) && (m = !0, null === e.tag && (e.tag = "?")), null !== e.anchor && (e.anchorMap[e.anchor] = e.result)) : 0 === p && (m = s && E(e, h))), null !== e.tag && "!" !== e.tag) if ("?" === e.tag) {
for (l = 0, c = e.implicitTypes.length; l < c; l += 1) if ((u = e.implicitTypes[l]).resolve(e.result)) {
e.result = u.construct(e.result), e.tag = u.tag, null !== e.anchor && (e.anchorMap[e.anchor] = e.result);
break;
}
} else H.call(e.typeMap, e.tag) ? (u = e.typeMap[e.tag], null !== e.result && u.kind !== e.kind && f(e, "unacceptable node kind for !<" + e.tag + '> tag; it should be "' + u.kind + '", not "' + e.kind + '"'), u.resolve(e.result) ? (e.result = u.construct(e.result), null !== e.anchor && (e.anchorMap[e.anchor] = e.result)) : f(e, "cannot resolve a node with !<" + e.tag + "> explicit tag")) : f(e, "unknown tag !<" + e.tag + ">");
return null !== e.listener && e.listener("close", e), null !== e.tag || null !== e.anchor || m;
}
function L(e) {
var t, n, a, s, l = e.position, c = !1;
for (e.version = null, e.checkLineBreaks = e.legacy, e.tagMap = {}, e.anchorMap = {}; 0 !== (s = e.input.charCodeAt(e.position)) && (w(e, !0, -1), s = e.input.charCodeAt(e.position), !(e.lineIndent > 0 || 37 !== s)); ) {
for (c = !0, s = e.input.charCodeAt(++e.position), t = e.position; 0 !== s && !o(s); ) s = e.input.charCodeAt(++e.position);
for (a = [], (n = e.input.slice(t, e.position)).length < 1 && f(e, "directive name must not be less than one character in length"); 0 !== s; ) {
for (;r(s); ) s = e.input.charCodeAt(++e.position);
if (35 === s) {
do {
s = e.input.charCodeAt(++e.position);
} while (0 !== s && !i(s));
break;
}
if (i(s)) break;
for (t = e.position; 0 !== s && !o(s); ) s = e.input.charCodeAt(++e.position);
a.push(e.input.slice(t, e.position));
}
0 !== s && b(e), H.call(oe, n) ? oe[n](e, n, a) : g(e, 'unknown document directive "' + n + '"');
}
w(e, !0, -1), 0 === e.lineIndent && 45 === e.input.charCodeAt(e.position) && 45 === e.input.charCodeAt(e.position + 1) && 45 === e.input.charCodeAt(e.position + 2) ? (e.position += 3, w(e, !0, -1)) : c && f(e, "directives end mark is expected"), I(e, e.lineIndent - 1, q, !1, !0), w(e, !0, -1), e.checkLineBreaks && J.test(e.input.slice(l, e.position)) && g(e, "non-ASCII line breaks are interpreted as content"), e.documents.push(e.result), e.position === e.lineStart && x(e) ? 46 === e.input.charCodeAt(e.position) && (e.position += 3, w(e, !0, -1)) : e.position < e.length - 1 && f(e, "end of the stream or a document separator is expected");
}
function P(e, t) {
e = String(e), t = t || {}, 0 !== e.length && (10 !== e.charCodeAt(e.length - 1) && 13 !== e.charCodeAt(e.length - 1) && (e += "\n"), 65279 === e.charCodeAt(0) && (e = e.slice(1)));
var n = new h(e, t);
for (n.input += "\0"; 32 === n.input.charCodeAt(n.position); ) n.lineIndent += 1, n.position += 1;
for (;n.position < n.length - 1; ) L(n);
return n.documents;
}
function O(e, t, n) {
var i, r, o = P(e, n);
for (i = 0, r = o.length; i < r; i += 1) t(o[i]);
}
function R(e, t) {
var n = P(e, t);
if (0 !== n.length) {
if (1 === n.length) return n[0];
throw new N("expected a single document in the stream, but found more");
}
}
for (var B = e("./common"), N = e("./exception"), j = e("./mark"), U = e("./schema/default_safe"), V = e("./schema/default_full"), H = Object.prototype.hasOwnProperty, z = 1, W = 2, G = 3, q = 4, Y = 1, K = 2, X = 3, Q = /[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/, J = /[\x85\u2028\u2029]/, Z = /[,\[\]\{\}]/, ee = /^(?:!|!!|![a-z\-]+!)$/i, te = /^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i, ne = new Array(256), ie = new Array(256), re = 0; re < 256; re++) ne[re] = u(re) ? 1 : 0, ie[re] = u(re);
var oe = {
YAML: function(e, t, n) {
var i, r, o;
null !== e.version && f(e, "duplication of %YAML directive"), 1 !== n.length && f(e, "YAML directive accepts exactly one argument"), null === (i = /^([0-9]+)\.([0-9]+)$/.exec(n[0])) && f(e, "ill-formed argument of the YAML directive"), r = parseInt(i[1], 10), o = parseInt(i[2], 10), 1 !== r && f(e, "unacceptable YAML version of the document"), e.version = n[0], e.checkLineBreaks = o < 2, 1 !== o && 2 !== o && g(e, "unsupported YAML version of the document");
},
TAG: function(e, t, n) {
var i, r;
2 !== n.length && f(e, "TAG directive accepts exactly two arguments"), i = n[0], r = n[1], ee.test(i) || f(e, "ill-formed tag handle (first argument) of the TAG directive"), H.call(e.tagMap, i) && f(e, 'there is a previously declared suffix for "' + i + '" tag handle'), te.test(r) || f(e, "ill-formed tag prefix (second argument) of the TAG directive"), e.tagMap[i] = r;
}
};
t.exports.loadAll = O, t.exports.load = R, t.exports.safeLoadAll = function(e, t, n) {
O(e, t, B.extend({
schema: U
}, n));
}, t.exports.safeLoad = function(e, t) {
return R(e, B.extend({
schema: U
}, t));
};
}, {
"./common": 2,
"./exception": 4,
"./mark": 6,
"./schema/default_full": 9,
"./schema/default_safe": 10
} ],
6: [ function(e, t, n) {
"use strict";
function i(e, t, n, i, r) {
this.name = e, this.buffer = t, this.position = n, this.line = i, this.column = r;
}
var r = e("./common");
i.prototype.getSnippet = function(e, t) {
var n, i, o, a, s;
if (!this.buffer) return null;
for (e = e || 4, t = t || 75, n = "", i = this.position; i > 0 && -1 === "\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i - 1)); ) if (i -= 1, this.position - i > t / 2 - 1) {
n = " ... ", i += 5;
break;
}
for (o = "", a = this.position; a < this.buffer.length && -1 === "\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(a)); ) if ((a += 1) - this.position > t / 2 - 1) {
o = " ... ", a -= 5;
break;
}
return s = this.buffer.slice(i, a), r.repeat(" ", e) + n + s + o + "\n" + r.repeat(" ", e + this.position - i + n.length) + "^";
}, i.prototype.toString = function(e) {
var t, n = "";
return this.name && (n += 'in "' + this.name + '" '), n += "at line " + (this.line + 1) + ", column " + (this.column + 1), e || (t = this.getSnippet()) && (n += ":\n" + t), n;
}, t.exports = i;
}, {
"./common": 2
} ],
7: [ function(e, t, n) {
"use strict";
function i(e, t, n) {
var r = [];
return e.include.forEach(function(e) {
n = i(e, t, n);
}), e[t].forEach(function(e) {
n.forEach(function(t, n) {
t.tag === e.tag && r.push(n);
}), n.push(e);
}), n.filter(function(e, t) {
return -1 === r.indexOf(t);
});
}
function r() {
var e, t, n = {};
for (e = 0, t = arguments.length; e < t; e += 1) arguments[e].forEach(function(e) {
n[e.tag] = e;
});
return n;
}
function o(e) {
this.include = e.include || [], this.implicit = e.implicit || [], this.explicit = e.explicit || [], this.implicit.forEach(function(e) {
if (e.loadKind && "scalar" !== e.loadKind) throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");
}), this.compiledImplicit = i(this, "implicit", []), this.compiledExplicit = i(this, "explicit", []), this.compiledTypeMap = r(this.compiledImplicit, this.compiledExplicit);
}
var a = e("./common"), s = e("./exception"), l = e("./type");
o.DEFAULT = null, o.create = function() {
var e, t;
switch (arguments.length) {
case 1:
e = o.DEFAULT, t = arguments[0];
break;

case 2:
e = arguments[0], t = arguments[1];
break;

default:
throw new s("Wrong number of arguments for Schema.create function");
}
if (e = a.toArray(e), t = a.toArray(t), !e.every(function(e) {
return e instanceof o;
})) throw new s("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");
if (!t.every(function(e) {
return e instanceof l;
})) throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");
return new o({
include: e,
explicit: t
});
}, t.exports = o;
}, {
"./common": 2,
"./exception": 4,
"./type": 13
} ],
8: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = new i({
include: [ e("./json") ]
});
}, {
"../schema": 7,
"./json": 12
} ],
9: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = i.DEFAULT = new i({
include: [ e("./default_safe") ],
explicit: [ e("../type/js/undefined"), e("../type/js/regexp"), e("../type/js/function") ]
});
}, {
"../schema": 7,
"../type/js/function": 18,
"../type/js/regexp": 19,
"../type/js/undefined": 20,
"./default_safe": 10
} ],
10: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = new i({
include: [ e("./core") ],
implicit: [ e("../type/timestamp"), e("../type/merge") ],
explicit: [ e("../type/binary"), e("../type/omap"), e("../type/pairs"), e("../type/set") ]
});
}, {
"../schema": 7,
"../type/binary": 14,
"../type/merge": 22,
"../type/omap": 24,
"../type/pairs": 25,
"../type/set": 27,
"../type/timestamp": 29,
"./core": 8
} ],
11: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = new i({
explicit: [ e("../type/str"), e("../type/seq"), e("../type/map") ]
});
}, {
"../schema": 7,
"../type/map": 21,
"../type/seq": 26,
"../type/str": 28
} ],
12: [ function(e, t, n) {
"use strict";
var i = e("../schema");
t.exports = new i({
include: [ e("./failsafe") ],
implicit: [ e("../type/null"), e("../type/bool"), e("../type/int"), e("../type/float") ]
});
}, {
"../schema": 7,
"../type/bool": 15,
"../type/float": 16,
"../type/int": 17,
"../type/null": 23,
"./failsafe": 11
} ],
13: [ function(e, t, n) {
"use strict";
function i(e) {
var t = {};
return null !== e && Object.keys(e).forEach(function(n) {
e[n].forEach(function(e) {
t[String(e)] = n;
});
}), t;
}
var r = e("./exception"), o = [ "kind", "resolve", "construct", "instanceOf", "predicate", "represent", "defaultStyle", "styleAliases" ], a = [ "scalar", "sequence", "mapping" ];
t.exports = function(e, t) {
if (t = t || {}, Object.keys(t).forEach(function(t) {
if (-1 === o.indexOf(t)) throw new r('Unknown option "' + t + '" is met in definition of "' + e + '" YAML type.');
}), this.tag = e, this.kind = t.kind || null, this.resolve = t.resolve || function() {
return !0;
}, this.construct = t.construct || function(e) {
return e;
}, this.instanceOf = t.instanceOf || null, this.predicate = t.predicate || null, this.represent = t.represent || null, this.defaultStyle = t.defaultStyle || null, this.styleAliases = i(t.styleAliases || null), -1 === a.indexOf(this.kind)) throw new r('Unknown kind "' + this.kind + '" is specified for "' + e + '" YAML type.');
};
}, {
"./exception": 4
} ],
14: [ function(e, t, n) {
"use strict";
var i;
try {
i = e("buffer").Buffer;
} catch (e) {}
var r = e("../type"), o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";
t.exports = new r("tag:yaml.org,2002:binary", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
var t, n, i = 0, r = e.length, a = o;
for (n = 0; n < r; n++) if (!((t = a.indexOf(e.charAt(n))) > 64)) {
if (t < 0) return !1;
i += 6;
}
return i % 8 == 0;
},
construct: function(e) {
var t, n, r = e.replace(/[\r\n=]/g, ""), a = r.length, s = o, l = 0, c = [];
for (t = 0; t < a; t++) t % 4 == 0 && t && (c.push(l >> 16 & 255), c.push(l >> 8 & 255), c.push(255 & l)), l = l << 6 | s.indexOf(r.charAt(t));
return 0 == (n = a % 4 * 6) ? (c.push(l >> 16 & 255), c.push(l >> 8 & 255), c.push(255 & l)) : 18 === n ? (c.push(l >> 10 & 255), c.push(l >> 2 & 255)) : 12 === n && c.push(l >> 4 & 255), i ? new i(c) : c;
},
predicate: function(e) {
return i && i.isBuffer(e);
},
represent: function(e) {
var t, n, i = "", r = 0, a = e.length, s = o;
for (t = 0; t < a; t++) t % 3 == 0 && t && (i += s[r >> 18 & 63], i += s[r >> 12 & 63], i += s[r >> 6 & 63], i += s[63 & r]), r = (r << 8) + e[t];
return 0 == (n = a % 3) ? (i += s[r >> 18 & 63], i += s[r >> 12 & 63], i += s[r >> 6 & 63], i += s[63 & r]) : 2 === n ? (i += s[r >> 10 & 63], i += s[r >> 4 & 63], i += s[r << 2 & 63], i += s[64]) : 1 === n && (i += s[r >> 2 & 63], i += s[r << 4 & 63], i += s[64], i += s[64]), i;
}
});
}, {
"../type": 13
} ],
15: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:bool", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
var t = e.length;
return 4 === t && ("true" === e || "True" === e || "TRUE" === e) || 5 === t && ("false" === e || "False" === e || "FALSE" === e);
},
construct: function(e) {
return "true" === e || "True" === e || "TRUE" === e;
},
predicate: function(e) {
return "[object Boolean]" === Object.prototype.toString.call(e);
},
represent: {
lowercase: function(e) {
return e ? "true" : "false";
},
uppercase: function(e) {
return e ? "TRUE" : "FALSE";
},
camelcase: function(e) {
return e ? "True" : "False";
}
},
defaultStyle: "lowercase"
});
}, {
"../type": 13
} ],
16: [ function(e, t, n) {
"use strict";
var i = e("../common"), r = e("../type"), o = new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"), a = /^[-+]?[0-9]+e/;
t.exports = new r("tag:yaml.org,2002:float", {
kind: "scalar",
resolve: function(e) {
return null !== e && !!o.test(e);
},
construct: function(e) {
var t, n, i, r;
return t = e.replace(/_/g, "").toLowerCase(), n = "-" === t[0] ? -1 : 1, r = [], "+-".indexOf(t[0]) >= 0 && (t = t.slice(1)), ".inf" === t ? 1 === n ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY : ".nan" === t ? NaN : t.indexOf(":") >= 0 ? (t.split(":").forEach(function(e) {
r.unshift(parseFloat(e, 10));
}), t = 0, i = 1, r.forEach(function(e) {
t += e * i, i *= 60;
}), n * t) : n * parseFloat(t, 10);
},
predicate: function(e) {
return "[object Number]" === Object.prototype.toString.call(e) && (e % 1 != 0 || i.isNegativeZero(e));
},
represent: function(e, t) {
var n;
if (isNaN(e)) switch (t) {
case "lowercase":
return ".nan";

case "uppercase":
return ".NAN";

case "camelcase":
return ".NaN";
} else if (Number.POSITIVE_INFINITY === e) switch (t) {
case "lowercase":
return ".inf";

case "uppercase":
return ".INF";

case "camelcase":
return ".Inf";
} else if (Number.NEGATIVE_INFINITY === e) switch (t) {
case "lowercase":
return "-.inf";

case "uppercase":
return "-.INF";

case "camelcase":
return "-.Inf";
} else if (i.isNegativeZero(e)) return "-0.0";
return n = e.toString(10), a.test(n) ? n.replace("e", ".e") : n;
},
defaultStyle: "lowercase"
});
}, {
"../common": 2,
"../type": 13
} ],
17: [ function(e, t, n) {
"use strict";
function i(e) {
return 48 <= e && e <= 57 || 65 <= e && e <= 70 || 97 <= e && e <= 102;
}
function r(e) {
return 48 <= e && e <= 55;
}
function o(e) {
return 48 <= e && e <= 57;
}
var a = e("../common"), s = e("../type");
t.exports = new s("tag:yaml.org,2002:int", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
var t, n = e.length, a = 0, s = !1;
if (!n) return !1;
if ("-" !== (t = e[a]) && "+" !== t || (t = e[++a]), "0" === t) {
if (a + 1 === n) return !0;
if ("b" === (t = e[++a])) {
for (a++; a < n; a++) if ("_" !== (t = e[a])) {
if ("0" !== t && "1" !== t) return !1;
s = !0;
}
return s;
}
if ("x" === t) {
for (a++; a < n; a++) if ("_" !== (t = e[a])) {
if (!i(e.charCodeAt(a))) return !1;
s = !0;
}
return s;
}
for (;a < n; a++) if ("_" !== (t = e[a])) {
if (!r(e.charCodeAt(a))) return !1;
s = !0;
}
return s;
}
for (;a < n; a++) if ("_" !== (t = e[a])) {
if (":" === t) break;
if (!o(e.charCodeAt(a))) return !1;
s = !0;
}
return !!s && (":" !== t || /^(:[0-5]?[0-9])+$/.test(e.slice(a)));
},
construct: function(e) {
var t, n, i = e, r = 1, o = [];
return -1 !== i.indexOf("_") && (i = i.replace(/_/g, "")), "-" !== (t = i[0]) && "+" !== t || ("-" === t && (r = -1), t = (i = i.slice(1))[0]), "0" === i ? 0 : "0" === t ? "b" === i[1] ? r * parseInt(i.slice(2), 2) : "x" === i[1] ? r * parseInt(i, 16) : r * parseInt(i, 8) : -1 !== i.indexOf(":") ? (i.split(":").forEach(function(e) {
o.unshift(parseInt(e, 10));
}), i = 0, n = 1, o.forEach(function(e) {
i += e * n, n *= 60;
}), r * i) : r * parseInt(i, 10);
},
predicate: function(e) {
return "[object Number]" === Object.prototype.toString.call(e) && e % 1 == 0 && !a.isNegativeZero(e);
},
represent: {
binary: function(e) {
return "0b" + e.toString(2);
},
octal: function(e) {
return "0" + e.toString(8);
},
decimal: function(e) {
return e.toString(10);
},
hexadecimal: function(e) {
return "0x" + e.toString(16).toUpperCase();
}
},
defaultStyle: "decimal",
styleAliases: {
binary: [ 2, "bin" ],
octal: [ 8, "oct" ],
decimal: [ 10, "dec" ],
hexadecimal: [ 16, "hex" ]
}
});
}, {
"../common": 2,
"../type": 13
} ],
18: [ function(e, t, n) {
"use strict";
var i;
try {
i = e("esprima");
} catch (e) {
"undefined" != typeof window && (i = window.esprima);
}
var r = e("../../type");
t.exports = new r("tag:yaml.org,2002:js/function", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
try {
var t = "(" + e + ")", n = i.parse(t, {
range: !0
});
return "Program" === n.type && 1 === n.body.length && "ExpressionStatement" === n.body[0].type && "FunctionExpression" === n.body[0].expression.type;
} catch (e) {
return !1;
}
},
construct: function(e) {
var t, n = "(" + e + ")", r = i.parse(n, {
range: !0
}), o = [];
if ("Program" !== r.type || 1 !== r.body.length || "ExpressionStatement" !== r.body[0].type || "FunctionExpression" !== r.body[0].expression.type) throw new Error("Failed to resolve function");
return r.body[0].expression.params.forEach(function(e) {
o.push(e.name);
}), t = r.body[0].expression.body.range, new Function(o, n.slice(t[0] + 1, t[1] - 1));
},
predicate: function(e) {
return "[object Function]" === Object.prototype.toString.call(e);
},
represent: function(e) {
return e.toString();
}
});
}, {
"../../type": 13
} ],
19: [ function(e, t, n) {
"use strict";
var i = e("../../type");
t.exports = new i("tag:yaml.org,2002:js/regexp", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !1;
if (0 === e.length) return !1;
var t = e, n = /\/([gim]*)$/.exec(e), i = "";
if ("/" === t[0]) {
if (n && (i = n[1]), i.length > 3) return !1;
if ("/" !== t[t.length - i.length - 1]) return !1;
}
return !0;
},
construct: function(e) {
var t = e, n = /\/([gim]*)$/.exec(e), i = "";
return "/" === t[0] && (n && (i = n[1]), t = t.slice(1, t.length - i.length - 1)), new RegExp(t, i);
},
predicate: function(e) {
return "[object RegExp]" === Object.prototype.toString.call(e);
},
represent: function(e) {
var t = "/" + e.source + "/";
return e.global && (t += "g"), e.multiline && (t += "m"), e.ignoreCase && (t += "i"), t;
}
});
}, {
"../../type": 13
} ],
20: [ function(e, t, n) {
"use strict";
var i = e("../../type");
t.exports = new i("tag:yaml.org,2002:js/undefined", {
kind: "scalar",
resolve: function() {
return !0;
},
construct: function() {},
predicate: function(e) {
return void 0 === e;
},
represent: function() {
return "";
}
});
}, {
"../../type": 13
} ],
21: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:map", {
kind: "mapping",
construct: function(e) {
return null !== e ? e : {};
}
});
}, {
"../type": 13
} ],
22: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:merge", {
kind: "scalar",
resolve: function(e) {
return "<<" === e || null === e;
}
});
}, {
"../type": 13
} ],
23: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:null", {
kind: "scalar",
resolve: function(e) {
if (null === e) return !0;
var t = e.length;
return 1 === t && "~" === e || 4 === t && ("null" === e || "Null" === e || "NULL" === e);
},
construct: function() {
return null;
},
predicate: function(e) {
return null === e;
},
represent: {
canonical: function() {
return "~";
},
lowercase: function() {
return "null";
},
uppercase: function() {
return "NULL";
},
camelcase: function() {
return "Null";
}
},
defaultStyle: "lowercase"
});
}, {
"../type": 13
} ],
24: [ function(e, t, n) {
"use strict";
var i = e("../type"), r = Object.prototype.hasOwnProperty, o = Object.prototype.toString;
t.exports = new i("tag:yaml.org,2002:omap", {
kind: "sequence",
resolve: function(e) {
if (null === e) return !0;
var t, n, i, a, s, l = [], c = e;
for (t = 0, n = c.length; t < n; t += 1) {
if (i = c[t], s = !1, "[object Object]" !== o.call(i)) return !1;
for (a in i) if (r.call(i, a)) {
if (s) return !1;
s = !0;
}
if (!s) return !1;
if (-1 !== l.indexOf(a)) return !1;
l.push(a);
}
return !0;
},
construct: function(e) {
return null !== e ? e : [];
}
});
}, {
"../type": 13
} ],
25: [ function(e, t, n) {
"use strict";
var i = e("../type"), r = Object.prototype.toString;
t.exports = new i("tag:yaml.org,2002:pairs", {
kind: "sequence",
resolve: function(e) {
if (null === e) return !0;
var t, n, i, o, a, s = e;
for (a = new Array(s.length), t = 0, n = s.length; t < n; t += 1) {
if (i = s[t], "[object Object]" !== r.call(i)) return !1;
if (1 !== (o = Object.keys(i)).length) return !1;
a[t] = [ o[0], i[o[0]] ];
}
return !0;
},
construct: function(e) {
if (null === e) return [];
var t, n, i, r, o, a = e;
for (o = new Array(a.length), t = 0, n = a.length; t < n; t += 1) i = a[t], r = Object.keys(i), o[t] = [ r[0], i[r[0]] ];
return o;
}
});
}, {
"../type": 13
} ],
26: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:seq", {
kind: "sequence",
construct: function(e) {
return null !== e ? e : [];
}
});
}, {
"../type": 13
} ],
27: [ function(e, t, n) {
"use strict";
var i = e("../type"), r = Object.prototype.hasOwnProperty;
t.exports = new i("tag:yaml.org,2002:set", {
kind: "mapping",
resolve: function(e) {
if (null === e) return !0;
var t, n = e;
for (t in n) if (r.call(n, t) && null !== n[t]) return !1;
return !0;
},
construct: function(e) {
return null !== e ? e : {};
}
});
}, {
"../type": 13
} ],
28: [ function(e, t, n) {
"use strict";
var i = e("../type");
t.exports = new i("tag:yaml.org,2002:str", {
kind: "scalar",
construct: function(e) {
return null !== e ? e : "";
}
});
}, {
"../type": 13
} ],
29: [ function(e, t, n) {
"use strict";
var i = e("../type"), r = new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"), o = new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");
t.exports = new i("tag:yaml.org,2002:timestamp", {
kind: "scalar",
resolve: function(e) {
return null !== e && (null !== r.exec(e) || null !== o.exec(e));
},
construct: function(e) {
var t, n, i, a, s, l, c, u, d = 0, h = null;
if (null === (t = r.exec(e)) && (t = o.exec(e)), null === t) throw new Error("Date resolve error");
if (n = +t[1], i = +t[2] - 1, a = +t[3], !t[4]) return new Date(Date.UTC(n, i, a));
if (s = +t[4], l = +t[5], c = +t[6], t[7]) {
for (d = t[7].slice(0, 3); d.length < 3; ) d += "0";
d = +d;
}
return t[9] && (h = 6e4 * (60 * +t[10] + +(t[11] || 0)), "-" === t[9] && (h = -h)), u = new Date(Date.UTC(n, i, a, s, l, c, d)), h && u.setTime(u.getTime() - h), u;
},
instanceOf: Date,
represent: function(e) {
return e.toISOString();
}
});
}, {
"../type": 13
} ],
"/": [ function(e, t, n) {
"use strict";
var i = e("./lib/js-yaml.js");
t.exports = i;
}, {
"./lib/js-yaml.js": 1
} ]
}, {}, [])("/");
}), function() {
"use strict";
function e(e) {
return angular.isUndefined(e) || null === e;
}
function t() {
try {
return require("moment");
} catch (e) {
throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment");
}
}
function n(n, i) {
if (void 0 === i) {
if ("function" != typeof require) throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");
i = t();
}
return n.module("angularMoment", []).constant("angularMomentConfig", {
preprocess: null,
timezone: null,
format: null,
statefulFilters: !0
}).constant("moment", i).constant("amTimeAgoConfig", {
withoutSuffix: !1,
serverTime: null,
titleFormat: null,
fullDateThreshold: null,
fullDateFormat: null,
fullDateThresholdUnit: "day"
}).directive("amTimeAgo", [ "$window", "moment", "amMoment", "amTimeAgoConfig", function(t, i, r, o) {
return function(a, s, l) {
function c() {
var e;
if (g) e = g; else if (o.serverTime) {
var t = new Date().getTime() - C + o.serverTime;
e = i(t);
} else e = i();
return e;
}
function u() {
m && (t.clearTimeout(m), m = null);
}
function d(e) {
var n = c().diff(e, x), i = b && n >= b;
if (i ? s.text(e.format(w)) : s.text(e.from(c(), v)), y && $ && s.attr("title", e.format(y)), !i) {
var r = Math.abs(c().diff(e, "minute")), o = 3600;
r < 1 ? o = 1 : r < 60 ? o = 30 : r < 180 && (o = 300), m = t.setTimeout(function() {
d(e);
}, 1e3 * o);
}
}
function h(e) {
S && s.attr("datetime", e);
}
function p() {
if (u(), f) {
var e = r.preprocessDate(f);
d(e), h(e.toISOString());
}
}
var f, g, m = null, v = o.withoutSuffix, y = o.titleFormat, b = o.fullDateThreshold, w = o.fullDateFormat, x = o.fullDateThresholdUnit, C = new Date().getTime(), _ = l.amTimeAgo, S = "TIME" === s[0].nodeName.toUpperCase(), $ = !s.attr("title");
a.$watch(_, function(t) {
if (e(t) || "" === t) return u(), void (f && (s.text(""), h(""), f = null));
f = t, p();
}), n.isDefined(l.amFrom) && a.$watch(l.amFrom, function(t) {
g = e(t) || "" === t ? null : i(t), p();
}), n.isDefined(l.amWithoutSuffix) && a.$watch(l.amWithoutSuffix, function(e) {
"boolean" == typeof e ? (v = e, p()) : v = o.withoutSuffix;
}), l.$observe("amFullDateThreshold", function(e) {
b = e, p();
}), l.$observe("amFullDateFormat", function(e) {
w = e, p();
}), l.$observe("amFullDateThresholdUnit", function(e) {
x = e, p();
}), a.$on("$destroy", function() {
u();
}), a.$on("amMoment:localeChanged", function() {
p();
});
};
} ]).service("amMoment", [ "moment", "$rootScope", "$log", "angularMomentConfig", function(e, t, i, r) {
var o = null;
this.changeLocale = function(i, r) {
var o = e.locale(i, r);
return n.isDefined(i) && t.$broadcast("amMoment:localeChanged"), o;
}, this.changeTimezone = function(n) {
e.tz && e.tz.setDefault ? (e.tz.setDefault(n), t.$broadcast("amMoment:timezoneChanged")) : i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."), r.timezone = n, o = n;
}, this.preprocessDate = function(t) {
return o !== r.timezone && this.changeTimezone(r.timezone), r.preprocess ? r.preprocess(t) : e(!isNaN(parseFloat(t)) && isFinite(t) ? parseInt(t, 10) : t);
};
} ]).filter("amParse", [ "moment", function(e) {
return function(t, n) {
return e(t, n);
};
} ]).filter("amFromUnix", [ "moment", function(e) {
return function(t) {
return e.unix(t);
};
} ]).filter("amUtc", [ "moment", function(e) {
return function(t) {
return e.utc(t);
};
} ]).filter("amUtcOffset", [ "amMoment", function(e) {
return function(t, n) {
return e.preprocessDate(t).utcOffset(n);
};
} ]).filter("amLocal", [ "moment", function(e) {
return function(t) {
return e.isMoment(t) ? t.local() : null;
};
} ]).filter("amTimezone", [ "amMoment", "angularMomentConfig", "$log", function(e, t, n) {
return function(t, i) {
var r = e.preprocessDate(t);
return i ? r.tz ? r.tz(i) : (n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"), r) : r;
};
} ]).filter("amCalendar", [ "moment", "amMoment", "angularMomentConfig", function(t, n, i) {
function r(t, i, r) {
if (e(t)) return "";
var o = n.preprocessDate(t);
return o.isValid() ? o.calendar(i, r) : "";
}
return r.$stateful = i.statefulFilters, r;
} ]).filter("amDifference", [ "moment", "amMoment", "angularMomentConfig", function(t, n, i) {
function r(i, r, o, a) {
if (e(i)) return "";
var s = n.preprocessDate(i), l = e(r) ? t() : n.preprocessDate(r);
return s.isValid() && l.isValid() ? s.diff(l, o, a) : "";
}
return r.$stateful = i.statefulFilters, r;
} ]).filter("amDateFormat", [ "moment", "amMoment", "angularMomentConfig", function(t, n, i) {
function r(t, i) {
if (e(t)) return "";
var r = n.preprocessDate(t);
return r.isValid() ? r.format(i) : "";
}
return r.$stateful = i.statefulFilters, r;
} ]).filter("amDurationFormat", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i, r) {
return e(n) ? "" : t.duration(n, i).humanize(r);
}
return i.$stateful = n.statefulFilters, i;
} ]).filter("amTimeAgo", [ "moment", "amMoment", "angularMomentConfig", function(t, n, i) {
function r(i, r, o) {
var a, s;
return e(i) ? "" : (i = n.preprocessDate(i), (a = t(i)).isValid() ? (s = t(o), !e(o) && s.isValid() ? a.from(s, r) : a.fromNow(r)) : "");
}
return r.$stateful = i.statefulFilters, r;
} ]).filter("amSubtract", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i, r) {
return e(n) ? "" : t(n).subtract(parseInt(i, 10), r);
}
return i.$stateful = n.statefulFilters, i;
} ]).filter("amAdd", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i, r) {
return e(n) ? "" : t(n).add(parseInt(i, 10), r);
}
return i.$stateful = n.statefulFilters, i;
} ]).filter("amStartOf", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i) {
return e(n) ? "" : t(n).startOf(i);
}
return i.$stateful = n.statefulFilters, i;
} ]).filter("amEndOf", [ "moment", "angularMomentConfig", function(t, n) {
function i(n, i) {
return e(n) ? "" : t(n).endOf(i);
}
return i.$stateful = n.statefulFilters, i;
} ]), "angularMoment";
}
"function" == typeof define && define.amd ? define([ "angular", "moment" ], n) : "undefined" != typeof module && module && module.exports && "function" == typeof require ? module.exports = n(require("angular"), require("moment")) : n(angular, ("undefined" != typeof global ? global : window).moment);
}(), angular.module("ab-base64", []).constant("base64", function() {
var e = {
alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
lookup: null,
ie: /MSIE /.test(navigator.userAgent),
ieo: /MSIE [67]/.test(navigator.userAgent),
encode: function(t) {
var n, i, r, o, a = e.toUtf8(t), s = -1, l = a.length, c = [ , , ,  ];
if (e.ie) {
for (n = []; ++s < l; ) i = a[s], r = a[++s], c[0] = i >> 2, c[1] = (3 & i) << 4 | r >> 4, isNaN(r) ? c[2] = c[3] = 64 : (o = a[++s], c[2] = (15 & r) << 2 | o >> 6, c[3] = isNaN(o) ? 64 : 63 & o), n.push(e.alphabet.charAt(c[0]), e.alphabet.charAt(c[1]), e.alphabet.charAt(c[2]), e.alphabet.charAt(c[3]));
return n.join("");
}
for (n = ""; ++s < l; ) i = a[s], r = a[++s], c[0] = i >> 2, c[1] = (3 & i) << 4 | r >> 4, isNaN(r) ? c[2] = c[3] = 64 : (o = a[++s], c[2] = (15 & r) << 2 | o >> 6, c[3] = isNaN(o) ? 64 : 63 & o), n += e.alphabet[c[0]] + e.alphabet[c[1]] + e.alphabet[c[2]] + e.alphabet[c[3]];
return n;
},
decode: function(t) {
if ((t = t.replace(/\s/g, "")).length % 4) throw new Error("InvalidLengthError: decode failed: The string to be decoded is not the correct length for a base64 encoded string.");
if (/[^A-Za-z0-9+\/=\s]/g.test(t)) throw new Error("InvalidCharacterError: decode failed: The string contains characters invalid in a base64 encoded string.");
var n, i = e.fromUtf8(t), r = 0, o = i.length;
if (e.ieo) {
for (n = []; r < o; ) i[r] < 128 ? n.push(String.fromCharCode(i[r++])) : i[r] > 191 && i[r] < 224 ? n.push(String.fromCharCode((31 & i[r++]) << 6 | 63 & i[r++])) : n.push(String.fromCharCode((15 & i[r++]) << 12 | (63 & i[r++]) << 6 | 63 & i[r++]));
return n.join("");
}
for (n = ""; r < o; ) i[r] < 128 ? n += String.fromCharCode(i[r++]) : i[r] > 191 && i[r] < 224 ? n += String.fromCharCode((31 & i[r++]) << 6 | 63 & i[r++]) : n += String.fromCharCode((15 & i[r++]) << 12 | (63 & i[r++]) << 6 | 63 & i[r++]);
return n;
},
toUtf8: function(e) {
var t, n = -1, i = e.length, r = [];
if (/^[\x00-\x7f]*$/.test(e)) for (;++n < i; ) r.push(e.charCodeAt(n)); else for (;++n < i; ) (t = e.charCodeAt(n)) < 128 ? r.push(t) : t < 2048 ? r.push(t >> 6 | 192, 63 & t | 128) : r.push(t >> 12 | 224, t >> 6 & 63 | 128, 63 & t | 128);
return r;
},
fromUtf8: function(t) {
var n, i = -1, r = [], o = [ , , ,  ];
if (!e.lookup) {
for (n = e.alphabet.length, e.lookup = {}; ++i < n; ) e.lookup[e.alphabet.charAt(i)] = i;
i = -1;
}
for (n = t.length; ++i < n && (o[0] = e.lookup[t.charAt(i)], o[1] = e.lookup[t.charAt(++i)], r.push(o[0] << 2 | o[1] >> 4), o[2] = e.lookup[t.charAt(++i)], 64 !== o[2]) && (r.push((15 & o[1]) << 4 | o[2] >> 2), o[3] = e.lookup[t.charAt(++i)], 64 !== o[3]); ) r.push((3 & o[2]) << 6 | o[3]);
return r;
}
}, t = {
decode: function(t) {
var n = (t = t.replace(/-/g, "+").replace(/_/g, "/")).length % 4;
if (n) {
if (1 === n) throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");
t += new Array(5 - n).join("=");
}
return e.decode(t);
},
encode: function(t) {
return e.encode(t).replace(/\+/g, "-").replace(/\//g, "_").split("=", 1)[0];
}
};
return {
decode: e.decode,
encode: e.encode,
urldecode: t.decode,
urlencode: t.encode
};
}());

var saveAs = saveAs || function(e) {
"use strict";
if (!(void 0 === e || "undefined" != typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent))) {
var t = function() {
return e.URL || e.webkitURL || e;
}, n = e.document.createElementNS("http://www.w3.org/1999/xhtml", "a"), i = "download" in n, r = function(e) {
var t = new MouseEvent("click");
e.dispatchEvent(t);
}, o = /constructor/i.test(e.HTMLElement) || e.safari, a = /CriOS\/[\d]+/.test(navigator.userAgent), s = function(t) {
(e.setImmediate || e.setTimeout)(function() {
throw t;
}, 0);
}, l = function(e) {
setTimeout(function() {
"string" == typeof e ? t().revokeObjectURL(e) : e.remove();
}, 4e4);
}, c = function(e, t, n) {
for (var i = (t = [].concat(t)).length; i--; ) {
var r = e["on" + t[i]];
if ("function" == typeof r) try {
r.call(e, n || e);
} catch (e) {
s(e);
}
}
}, u = function(e) {
return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type) ? new Blob([ String.fromCharCode(65279), e ], {
type: e.type
}) : e;
}, d = function(s, d, h) {
h || (s = u(s));
var p, f = this, g = "application/octet-stream" === s.type, m = function() {
c(f, "writestart progress write writeend".split(" "));
};
if (f.readyState = f.INIT, i) return p = t().createObjectURL(s), void setTimeout(function() {
n.href = p, n.download = d, r(n), m(), l(p), f.readyState = f.DONE;
});
!function() {
if ((a || g && o) && e.FileReader) {
var n = new FileReader();
return n.onloadend = function() {
var t = a ? n.result : n.result.replace(/^data:[^;]*;/, "data:attachment/file;");
e.open(t, "_blank") || (e.location.href = t), t = void 0, f.readyState = f.DONE, m();
}, n.readAsDataURL(s), void (f.readyState = f.INIT);
}
p || (p = t().createObjectURL(s)), g ? e.location.href = p : e.open(p, "_blank") || (e.location.href = p), f.readyState = f.DONE, m(), l(p);
}();
}, h = d.prototype;
return "undefined" != typeof navigator && navigator.msSaveOrOpenBlob ? function(e, t, n) {
return t = t || e.name || "download", n || (e = u(e)), navigator.msSaveOrOpenBlob(e, t);
} : (h.abort = function() {}, h.readyState = h.INIT = 0, h.WRITING = 1, h.DONE = 2, h.error = h.onwritestart = h.onprogress = h.onwrite = h.onabort = h.onerror = h.onwriteend = null, function(e, t, n) {
return new d(e, t || e.name || "download", n);
});
}
}("undefined" != typeof self && self || "undefined" != typeof window && window || this.content);

"undefined" != typeof module && module.exports ? module.exports.saveAs = saveAs : "undefined" != typeof define && null !== define && null !== define.amd && define("FileSaver.js", function() {
return saveAs;
}), function(e, t) {
"use strict";
if ("function" == typeof define && define.amd) define([], t); else if ("object" == typeof exports) module.exports = t(); else {
if (e.hopscotch) return;
e.hopscotch = t();
}
}(this, function() {
var e, t, n, i, r, o, a, s, l, c, u, d, h, p = "bubble_default", f = window.Sizzle || null, g = !1, m = "undefined" != typeof jQuery, v = !1, y = !1, b = window.document, w = /^[a-zA-Z]+[a-zA-Z0-9_-]*$/, x = {
left: "right",
right: "left"
};
try {
void 0 !== window.sessionStorage && (v = !0, sessionStorage.setItem("hopscotch.test.storage", "ok"), sessionStorage.removeItem("hopscotch.test.storage"), y = !0);
} catch (e) {}
return d = {
smoothScroll: !0,
scrollDuration: 1e3,
scrollTopMargin: 200,
showCloseButton: !0,
showPrevButton: !1,
showNextButton: !0,
bubbleWidth: 280,
bubblePadding: 15,
arrowWidth: 20,
skipIfNoElement: !0,
isRtl: !1,
cookieName: "hopscotch.tour.state"
}, Array.isArray || (Array.isArray = function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
}), u = function() {
g && h.startTour();
}, (s = {
addClass: function(e, t) {
var n, i, r, o;
if (e.className) {
for (i = t.split(/\s+/), n = " " + e.className + " ", r = 0, o = i.length; r < o; ++r) n.indexOf(" " + i[r] + " ") < 0 && (n += i[r] + " ");
e.className = n.replace(/^\s+|\s+$/g, "");
} else e.className = t;
},
removeClass: function(e, t) {
var n, i, r, o;
for (i = t.split(/\s+/), n = " " + e.className + " ", r = 0, o = i.length; r < o; ++r) n = n.replace(" " + i[r] + " ", " ");
e.className = n.replace(/^\s+|\s+$/g, "");
},
hasClass: function(e, t) {
return !!e.className && -1 !== (" " + e.className + " ").indexOf(" " + t + " ");
},
getPixelValue: function(e) {
var t = typeof e;
return "number" === t ? e : "string" === t ? parseInt(e, 10) : 0;
},
valOrDefault: function(e, t) {
return void 0 !== e ? e : t;
},
invokeCallbackArrayHelper: function(e) {
var t;
if (Array.isArray(e) && "function" == typeof (t = c[e[0]])) return t.apply(this, e.slice(1));
},
invokeCallbackArray: function(e) {
var t, n;
if (Array.isArray(e)) {
if ("string" == typeof e[0]) return s.invokeCallbackArrayHelper(e);
for (t = 0, n = e.length; t < n; ++t) s.invokeCallback(e[t]);
}
},
invokeCallback: function(e) {
return "function" == typeof e ? e() : "string" == typeof e && c[e] ? c[e]() : s.invokeCallbackArray(e);
},
invokeEventCallbacks: function(e, t) {
var n, i, r = l[e];
if (t) return this.invokeCallback(t);
for (n = 0, i = r.length; n < i; ++n) this.invokeCallback(r[n].cb);
},
getScrollTop: function() {
return void 0 !== window.pageYOffset ? window.pageYOffset : b.documentElement.scrollTop;
},
getScrollLeft: function() {
return void 0 !== window.pageXOffset ? window.pageXOffset : b.documentElement.scrollLeft;
},
getWindowHeight: function() {
return window.innerHeight || b.documentElement.clientHeight;
},
addEvtListener: function(e, t, n) {
if (e) return e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, n);
},
removeEvtListener: function(e, t, n) {
if (e) return e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent("on" + t, n);
},
documentIsReady: function() {
return "complete" === b.readyState;
},
evtPreventDefault: function(e) {
e.preventDefault ? e.preventDefault() : event && (event.returnValue = !1);
},
extend: function(e, t) {
var n;
for (n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
},
getStepTargetHelper: function(e) {
var t = b.getElementById(e);
if (t) return t;
if (m) return (t = jQuery(e)).length ? t[0] : null;
if (f) return (t = new f(e)).length ? t[0] : null;
if (b.querySelector) try {
return b.querySelector(e);
} catch (e) {}
return /^#[a-zA-Z][\w-_:.]*$/.test(e) ? b.getElementById(e.substring(1)) : null;
},
getStepTarget: function(e) {
var t;
if (!e || !e.target) return null;
if ("string" == typeof e.target) return s.getStepTargetHelper(e.target);
if (Array.isArray(e.target)) {
var n, i;
for (n = 0, i = e.target.length; n < i; n++) if ("string" == typeof e.target[n] && (t = s.getStepTargetHelper(e.target[n]))) return t;
return null;
}
return e.target;
},
getI18NString: function(e) {
return r[e] || i[e];
},
setState: function(e, t, n) {
var i, r = "";
if (v && y) try {
sessionStorage.setItem(e, t);
} catch (i) {
y = !1, this.setState(e, t, n);
} else v && sessionStorage.removeItem(e), n && ((i = new Date()).setTime(i.getTime() + 24 * n * 60 * 60 * 1e3), r = "; expires=" + i.toGMTString()), b.cookie = e + "=" + t + r + "; path=/";
},
getState: function(e) {
var t, n, i, r = e + "=", o = b.cookie.split(";");
if (v && (i = sessionStorage.getItem(e))) return i;
for (t = 0; t < o.length; t++) {
for (n = o[t]; " " === n.charAt(0); ) n = n.substring(1, n.length);
if (0 === n.indexOf(r)) {
i = n.substring(r.length, n.length);
break;
}
}
return i;
},
clearState: function(e) {
v ? sessionStorage.removeItem(e) : this.setState(e, "", -1);
},
normalizePlacement: function(e) {
!e.placement && e.orientation && (e.placement = e.orientation);
},
flipPlacement: function(e) {
if (e.isRtl && !e._isFlipped) {
var t, n, i = [ "orientation", "placement" ];
e.xOffset && (e.xOffset = -1 * this.getPixelValue(e.xOffset));
for (n in i) t = i[n], e.hasOwnProperty(t) && x.hasOwnProperty(e[t]) && (e[t] = x[e[t]]);
e._isFlipped = !0;
}
}
}).addEvtListener(window, "load", u), l = {
next: [],
prev: [],
start: [],
end: [],
show: [],
error: [],
close: []
}, c = {}, i = {
stepNums: null,
nextBtn: "Next",
prevBtn: "Back",
doneBtn: "Done",
skipBtn: "Skip",
closeTooltip: "Close"
}, r = {}, t = function(e) {
this.init(e);
}, t.prototype = {
isShowing: !1,
currStep: void 0,
setPosition: function(e) {
var t, n, i, r, o, a, l, c = s.getStepTarget(e), u = this.element, d = this.arrowEl, h = e.isRtl ? "right" : "left";
if (s.flipPlacement(e), s.normalizePlacement(e), n = u.offsetWidth, t = u.offsetHeight, s.removeClass(u, "fade-in-down fade-in-up fade-in-left fade-in-right"), i = c.getBoundingClientRect(), l = e.isRtl ? i.right - n : i.left, "top" === e.placement) r = i.top - t - this.opt.arrowWidth, o = l; else if ("bottom" === e.placement) r = i.bottom + this.opt.arrowWidth, o = l; else if ("left" === e.placement) r = i.top, o = i.left - n - this.opt.arrowWidth; else {
if ("right" !== e.placement) throw new Error("Bubble placement failed because step.placement is invalid or undefined!");
r = i.top, o = i.right + this.opt.arrowWidth;
}
(a = "center" !== e.arrowOffset ? s.getPixelValue(e.arrowOffset) : e.arrowOffset) ? "top" === e.placement || "bottom" === e.placement ? (d.style.top = "", d.style[h] = "center" === a ? Math.floor(n / 2 - d.offsetWidth / 2) + "px" : a + "px") : "left" !== e.placement && "right" !== e.placement || (d.style[h] = "", d.style.top = "center" === a ? Math.floor(t / 2 - d.offsetHeight / 2) + "px" : a + "px") : (d.style.top = "", d.style[h] = ""), "center" === e.xOffset ? o = i.left + c.offsetWidth / 2 - n / 2 : o += s.getPixelValue(e.xOffset), "center" === e.yOffset ? r = i.top + c.offsetHeight / 2 - t / 2 : r += s.getPixelValue(e.yOffset), e.fixedElement || (r += s.getScrollTop(), o += s.getScrollLeft()), u.style.position = e.fixedElement ? "fixed" : "absolute", u.style.top = r + "px", u.style.left = o + "px";
},
render: function(e, t, n) {
var i, r, a, l, c, u, d, f, g, m, v = this.element;
if (e ? this.currStep = e : this.currStep && (e = this.currStep), this.opt.isTourBubble ? (l = h.getCurrTour()) && (r = l.customData, i = l.customRenderer, e.isRtl = e.hasOwnProperty("isRtl") ? e.isRtl : l.hasOwnProperty("isRtl") ? l.isRtl : this.opt.isRtl, a = l.unsafe, Array.isArray(l.steps) && (c = l.steps.length, u = this._getStepI18nNum(this._getStepNum(c - 1)), f = this._getStepNum(t) === this._getStepNum(c - 1))) : (r = e.customData, i = e.customRenderer, a = e.unsafe, e.isRtl = e.hasOwnProperty("isRtl") ? e.isRtl : this.opt.isRtl), d = f ? s.getI18NString("doneBtn") : e.showSkip ? s.getI18NString("skipBtn") : s.getI18NString("nextBtn"), s.flipPlacement(e), s.normalizePlacement(e), this.placement = e.placement, m = {
i18n: {
prevBtn: s.getI18NString("prevBtn"),
nextBtn: d,
closeTooltip: s.getI18NString("closeTooltip"),
stepNum: this._getStepI18nNum(this._getStepNum(t)),
numSteps: u
},
buttons: {
showPrev: s.valOrDefault(e.showPrevButton, this.opt.showPrevButton) && this._getStepNum(t) > 0,
showNext: s.valOrDefault(e.showNextButton, this.opt.showNextButton),
showCTA: s.valOrDefault(e.showCTAButton && e.ctaLabel, !1),
ctaLabel: e.ctaLabel,
showClose: s.valOrDefault(this.opt.showCloseButton, !0)
},
step: {
num: t,
isLast: s.valOrDefault(f, !1),
title: e.title || "",
content: e.content || "",
isRtl: e.isRtl,
placement: e.placement,
padding: s.valOrDefault(e.padding, this.opt.bubblePadding),
width: s.getPixelValue(e.width) || this.opt.bubbleWidth,
customData: e.customData || {}
},
tour: {
isTour: this.opt.isTourBubble,
numSteps: c,
unsafe: s.valOrDefault(a, !1),
customData: r || {}
}
}, "function" == typeof i) v.innerHTML = i(m); else if ("string" == typeof i) {
if (!h.templates || "function" != typeof h.templates[i]) throw new Error('Bubble rendering failed - template "' + i + '" is not a function.');
v.innerHTML = h.templates[i](m);
} else if (o) v.innerHTML = o(m); else {
if (!h.templates || "function" != typeof h.templates[p]) throw new Error('Bubble rendering failed - template "' + p + '" is not a function.');
v.innerHTML = h.templates[p](m);
}
for (children = v.children, numChildren = children.length, g = 0; g < numChildren; g++) node = children[g], s.hasClass(node, "hopscotch-arrow") && (this.arrowEl = node);
return v.style.zIndex = "number" == typeof e.zindex ? e.zindex : "", this._setArrow(e.placement), this.hide(!1), this.setPosition(e), n && n(!e.fixedElement), this;
},
_getStepNum: function(e) {
var t, n = 0, i = h.getSkippedStepsIndexes(), r = i.length;
for (t = 0; t < r; t++) i[t] < e && n++;
return e - n;
},
_getStepI18nNum: function(e) {
var t = s.getI18NString("stepNums");
return t && e < t.length ? e = t[e] : e += 1, e;
},
_setArrow: function(e) {
s.removeClass(this.arrowEl, "down up right left"), "top" === e ? s.addClass(this.arrowEl, "down") : "bottom" === e ? s.addClass(this.arrowEl, "up") : "left" === e ? s.addClass(this.arrowEl, "right") : "right" === e && s.addClass(this.arrowEl, "left");
},
_getArrowDirection: function() {
return "top" === this.placement ? "down" : "bottom" === this.placement ? "up" : "left" === this.placement ? "right" : "right" === this.placement ? "left" : void 0;
},
show: function() {
var e = this, t = "fade-in-" + this._getArrowDirection();
return s.removeClass(this.element, "hide"), s.addClass(this.element, t), setTimeout(function() {
s.removeClass(e.element, "invisible");
}, 50), setTimeout(function() {
s.removeClass(e.element, t);
}, 1e3), this.isShowing = !0, this;
},
hide: function(e) {
var t = this.element;
return e = s.valOrDefault(e, !0), t.style.top = "", t.style.left = "", e ? (s.addClass(t, "hide"), s.removeClass(t, "invisible")) : (s.removeClass(t, "hide"), s.addClass(t, "invisible")), s.removeClass(t, "animate fade-in-up fade-in-down fade-in-right fade-in-left"), this.isShowing = !1, this;
},
destroy: function() {
var e = this.element;
e && e.parentNode.removeChild(e), s.removeEvtListener(e, "click", this.clickCb);
},
_handleBubbleClick: function(e) {
function t(n) {
return n === e.currentTarget ? null : s.hasClass(n, "hopscotch-cta") ? "cta" : s.hasClass(n, "hopscotch-next") ? "next" : s.hasClass(n, "hopscotch-prev") ? "prev" : s.hasClass(n, "hopscotch-close") ? "close" : t(n.parentElement);
}
var n;
if ("cta" === (n = t((e = e || window.event).target || e.srcElement))) this.opt.isTourBubble || h.getCalloutManager().removeCallout(this.currStep.id), this.currStep.onCTA && s.invokeCallback(this.currStep.onCTA); else if ("next" === n) h.nextStep(!0); else if ("prev" === n) h.prevStep(!0); else if ("close" === n) {
if (this.opt.isTourBubble) {
var i = h.getCurrStepNum() === h.getCurrTour().steps.length - 1;
s.invokeEventCallbacks("close"), h.endTour(!0, i);
} else this.opt.onClose && s.invokeCallback(this.opt.onClose), this.opt.id && !this.opt.isTourBubble ? h.getCalloutManager().removeCallout(this.opt.id) : this.destroy();
s.evtPreventDefault(e);
}
},
init: function(e) {
var t, n, i, r, o = b.createElement("div"), a = this, l = !1;
this.element = o, r = {
showPrevButton: d.showPrevButton,
showNextButton: d.showNextButton,
bubbleWidth: d.bubbleWidth,
bubblePadding: d.bubblePadding,
arrowWidth: d.arrowWidth,
isRtl: d.isRtl,
showNumber: !0,
isTourBubble: !0
}, e = void 0 === e ? {} : e, s.extend(r, e), this.opt = r, o.className = "hopscotch-bubble animated", r.isTourBubble ? (i = h.getCurrTour()) && s.addClass(o, "tour-" + i.id) : s.addClass(o, "hopscotch-callout no-number"), t = function() {
!l && a.isShowing && (l = !0, setTimeout(function() {
a.setPosition(a.currStep), l = !1;
}, 100));
}, s.addEvtListener(window, "resize", t), this.clickCb = function(e) {
a._handleBubbleClick(e);
}, s.addEvtListener(o, "click", this.clickCb), this.hide(), s.documentIsReady() ? b.body.appendChild(o) : (b.addEventListener ? (n = function() {
b.removeEventListener("DOMContentLoaded", n), window.removeEventListener("load", n), b.body.appendChild(o);
}, b.addEventListener("DOMContentLoaded", n, !1)) : (n = function() {
"complete" === b.readyState && (b.detachEvent("onreadystatechange", n), window.detachEvent("onload", n), b.body.appendChild(o));
}, b.attachEvent("onreadystatechange", n)), s.addEvtListener(window, "load", n));
}
}, n = function() {
var e = {}, n = {};
this.createCallout = function(i) {
var r;
if (!i.id) throw new Error("Must specify a callout id.");
if (!w.test(i.id)) throw new Error("Callout ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");
if (e[i.id]) throw new Error("Callout by that id already exists. Please choose a unique id.");
if (!s.getStepTarget(i)) throw new Error("Must specify existing target element via 'target' option.");
return i.showNextButton = i.showPrevButton = !1, i.isTourBubble = !1, r = new t(i), e[i.id] = r, n[i.id] = i, r.render(i, null, function() {
r.show(), i.onShow && s.invokeCallback(i.onShow);
}), r;
}, this.getCallout = function(t) {
return e[t];
}, this.removeAllCallouts = function() {
var t;
for (t in e) e.hasOwnProperty(t) && this.removeCallout(t);
}, this.removeCallout = function(t) {
var i = e[t];
e[t] = null, n[t] = null, i && i.destroy();
}, this.refreshCalloutPositions = function() {
var t, i, r;
for (t in e) e.hasOwnProperty(t) && n.hasOwnProperty(t) && (i = e[t], r = n[t], i && r && i.setPosition(r));
};
}, e = function(e) {
var i, u, f, v, y, x, C, _, S = this, $ = {}, A = [], k = function(e) {
return i && i.element && i.element.parentNode || (i = new t(f)), e && s.extend(i.opt, {
bubblePadding: T("bubblePadding"),
bubbleWidth: T("bubbleWidth"),
showNextButton: T("showNextButton"),
showPrevButton: T("showPrevButton"),
showCloseButton: T("showCloseButton"),
arrowWidth: T("arrowWidth"),
isRtl: T("isRtl")
}), i;
}, E = function() {
i && (i.destroy(), i = null);
}, T = function(e) {
return void 0 === f ? d[e] : s.valOrDefault(f[e], d[e]);
}, D = function() {
return !v || y < 0 || y >= v.steps.length ? null : v.steps[y];
}, F = function() {
S.nextStep();
}, M = function(e) {
var t, n, i, r, o, a, l = k().element, c = s.getPixelValue(l.style.top), u = c + s.getPixelValue(l.offsetHeight), d = s.getStepTarget(D()).getBoundingClientRect(), h = d.top + s.getScrollTop(), p = d.bottom + s.getScrollTop(), f = c < h ? c : h, g = u > p ? u : p, v = s.getScrollTop(), y = v + s.getWindowHeight(), w = f - T("scrollTopMargin");
f >= v && (f <= v + T("scrollTopMargin") || g <= y) ? e && e() : T("smoothScroll") ? "undefined" != typeof YAHOO && void 0 !== YAHOO.env && void 0 !== YAHOO.env.ua && void 0 !== YAHOO.util && void 0 !== YAHOO.util.Scroll ? (t = YAHOO.env.ua.webkit ? b.body : b.documentElement, i = YAHOO.util.Easing ? YAHOO.util.Easing.easeOut : void 0, (n = new YAHOO.util.Scroll(t, {
scroll: {
to: [ 0, w ]
}
}, T("scrollDuration") / 1e3, i)).onComplete.subscribe(e), n.animate()) : m ? jQuery("body, html").animate({
scrollTop: w
}, T("scrollDuration"), e) : (w < 0 && (w = 0), r = v > f ? -1 : 1, o = Math.abs(v - w) / (T("scrollDuration") / 10), (a = function() {
var t = s.getScrollTop(), n = t + r * o;
if (r > 0 && n >= w || r < 0 && n <= w) return n = w, e && e(), void window.scrollTo(0, n);
window.scrollTo(0, n), s.getScrollTop() !== t ? setTimeout(a, 10) : e && e();
})()) : (window.scrollTo(0, w), e && e());
}, I = function(e, t) {
var n, i, r;
y + e >= 0 && y + e < v.steps.length ? (y += e, r = function() {
(n = s.getStepTarget(i)) ? ($[y] && delete $[y], t(y)) : ($[y] = !0, s.invokeEventCallbacks("error"), I(e, t));
}, (i = D()).delay ? setTimeout(r, i.delay) : r()) : t(-1);
}, L = function(e, t) {
var n, i, r, o, a = this;
if (k().hide(), e = s.valOrDefault(e, !0), (n = D()).nextOnTargetClick && s.removeEvtListener(s.getStepTarget(n), "click", F), i = n, r = t > 0 ? i.multipage : y > 0 && v.steps[y - 1].multipage, o = function(n) {
var o;
if (-1 === n) return this.endTour(!0);
e && (o = t > 0 ? s.invokeEventCallbacks("next", i.onNext) : s.invokeEventCallbacks("prev", i.onPrev)), n === y && (r ? B() : (o = s.valOrDefault(o, !0)) ? this.showStep(n) : this.endTour(!1));
}, !r && T("skipIfNoElement")) I(t, function(e) {
o.call(a, e);
}); else if (y + t >= 0 && y + t < v.steps.length) {
if (y += t, n = D(), !s.getStepTarget(n) && !r) return s.invokeEventCallbacks("error"), this.endTour(!0, !1);
o.call(this, y);
} else if (y + t === v.steps.length) return this.endTour();
return this;
}, P = function(e) {
var t, n, i, r = {};
for (t in e) e.hasOwnProperty(t) && "id" !== t && "steps" !== t && (r[t] = e[t]);
return _.call(this, r, !0), (n = s.getState(T("cookieName"))) && (i = n.split(":"), x = i[0], C = i[1], i.length > 2 && (A = i[2].split(",")), C = parseInt(C, 10)), this;
}, O = function(e, t, n) {
var i, r;
if (y = e || 0, $ = t || {}, i = D(), r = s.getStepTarget(i)) n(y); else if (!r) {
if (s.invokeEventCallbacks("error"), $[y] = !0, T("skipIfNoElement")) return void I(1, n);
n(y = -1);
}
}, R = function(e) {
function t() {
i.show(), s.invokeEventCallbacks("show", n.onShow);
}
var n = v.steps[e], i = k(), r = s.getStepTarget(n);
y !== e && D().nextOnTargetClick && s.removeEvtListener(s.getStepTarget(D()), "click", F), y = e, i.hide(!1), i.render(n, e, function(e) {
e ? M(t) : t(), n.nextOnTargetClick && s.addEvtListener(r, "click", F);
}), B();
}, B = function() {
var e = v.id + ":" + y, t = h.getSkippedStepsIndexes();
t && t.length > 0 && (e += ":" + t.join(",")), s.setState(T("cookieName"), e, 1);
};
this.getCalloutManager = function() {
return void 0 === u && (u = new n()), u;
}, this.startTour = function(e, t) {
var n, i, r = {}, o = this;
if (!v) {
if (!e) throw new Error("Tour data is required for startTour.");
if (!e.id || !w.test(e.id)) throw new Error("Tour ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");
v = e, P.call(this, e);
}
if (void 0 !== t) {
if (t >= v.steps.length) throw new Error("Specified step number out of bounds.");
i = t;
}
if (!s.documentIsReady()) return g = !0, this;
if (void 0 === i && v.id === x && void 0 !== C) {
if (i = C, A.length > 0) for (var a = 0, l = A.length; a < l; a++) r[A[a]] = !0;
} else i || (i = 0);
return O(i, r, function(e) {
-1 !== e && s.getStepTarget(v.steps[e]) ? (s.invokeEventCallbacks("start"), (n = k()).hide(!1), o.isActive = !0, s.getStepTarget(D()) ? o.showStep(e) : (s.invokeEventCallbacks("error"), T("skipIfNoElement") && o.nextStep(!1))) : o.endTour(!1, !1);
}), this;
}, this.showStep = function(e) {
var t = v.steps[e], n = y;
return s.getStepTarget(t) ? (t.delay ? setTimeout(function() {
R(e);
}, t.delay) : R(e), this) : (y = e, s.invokeEventCallbacks("error"), void (y = n));
}, this.prevStep = function(e) {
return L.call(this, e, -1), this;
}, this.nextStep = function(e) {
return L.call(this, e, 1), this;
}, this.endTour = function(e, t) {
var n, i = k();
return e = s.valOrDefault(e, !0), t = s.valOrDefault(t, !0), v && (n = D()) && n.nextOnTargetClick && s.removeEvtListener(s.getStepTarget(n), "click", F), y = 0, C = void 0, i.hide(), e && s.clearState(T("cookieName")), this.isActive && (this.isActive = !1, v && t && s.invokeEventCallbacks("end")), this.removeCallbacks(null, !0), this.resetDefaultOptions(), E(), v = null, this;
}, this.getCurrTour = function() {
return v;
}, this.getCurrTarget = function() {
return s.getStepTarget(D());
}, this.getCurrStepNum = function() {
return y;
}, this.getSkippedStepsIndexes = function() {
var e, t = [];
for (e in $) t.push(e);
return t;
}, this.refreshBubblePosition = function() {
var e = D();
return e && k().setPosition(e), this.getCalloutManager().refreshCalloutPositions(), this;
}, this.listen = function(e, t, n) {
return e && l[e].push({
cb: t,
fromTour: n
}), this;
}, this.unlisten = function(e, t) {
var n, i, r = l[e];
for (n = 0, i = r.length; n < i; ++n) r[n].cb === t && r.splice(n, 1);
return this;
}, this.removeCallbacks = function(e, t) {
var n, i, r, o;
for (o in l) if (!e || e === o) if (t) for (i = 0, r = (n = l[o]).length; i < r; ++i) n[i].fromTour && (n.splice(i--, 1), --r); else l[o] = [];
return this;
}, this.registerHelper = function(e, t) {
"string" == typeof e && "function" == typeof t && (c[e] = t);
}, this.unregisterHelper = function(e) {
c[e] = null;
}, this.invokeHelper = function(e) {
var t, n, i = [];
for (t = 1, n = arguments.length; t < n; ++t) i.push(arguments[t]);
c[e] && c[e].call(null, i);
}, this.setCookieName = function(e) {
return f.cookieName = e, this;
}, this.resetDefaultOptions = function() {
return f = {}, this;
}, this.resetDefaultI18N = function() {
return r = {}, this;
}, this.getState = function() {
return s.getState(T("cookieName"));
}, _ = function(e, t) {
var n, i, o, a = [ "next", "prev", "start", "end", "show", "error", "close" ];
for (f || this.resetDefaultOptions(), s.extend(f, e), e && s.extend(r, e.i18n), i = 0, o = a.length; i < o; ++i) e[n = "on" + a[i].charAt(0).toUpperCase() + a[i].substring(1)] && this.listen(a[i], e[n], t);
return k(!0), this;
}, this.configure = function(e) {
return _.call(this, e, !1);
}, this.setRenderer = function(e) {
var t = typeof e;
return "string" === t ? (p = e, o = void 0) : "function" === t && (o = e), this;
}, this.setEscaper = function(e) {
return "function" == typeof e && (a = e), this;
}, function(e) {
e && this.configure(e);
}.call(this, e);
}, h = new e(), function() {
var e = {};
e.escape = function(e) {
return a ? a(e) : null == e ? "" : ("" + e).replace(new RegExp("[&<>\"']", "g"), function(e) {
return "&" == e ? "&amp;" : "<" == e ? "&lt;" : ">" == e ? "&gt;" : '"' == e ? "&quot;" : "'" == e ? "&#x27;" : void 0;
});
}, this.templates = this.templates || {}, this.templates.bubble_default = function(t) {
function n(t, n) {
return n ? e.escape(t) : t;
}
var i, r = "";
e.escape, Array.prototype.join;
r += "\n";
var o = t.i18n, a = t.buttons, s = t.step, l = t.tour;
return r += '\n<div class="hopscotch-bubble-container" style="width: ' + (null == (i = s.width) ? "" : i) + "px; padding: " + (null == (i = s.padding) ? "" : i) + 'px;">\n  ', l.isTour && (r += '<span class="hopscotch-bubble-number">' + (null == (i = o.stepNum) ? "" : i) + "</span>"), r += '\n  <div class="hopscotch-bubble-content">\n    ', "" !== s.title && (r += '<h3 class="hopscotch-title">' + (null == (i = n(s.title, l.unsafe)) ? "" : i) + "</h3>"), r += "\n    ", "" !== s.content && (r += '<div class="hopscotch-content">' + (null == (i = n(s.content, l.unsafe)) ? "" : i) + "</div>"), r += '\n  </div>\n  <div class="hopscotch-actions">\n    ', a.showPrev && (r += '<button class="hopscotch-nav-button prev hopscotch-prev">' + (null == (i = o.prevBtn) ? "" : i) + "</button>"), r += "\n    ", a.showCTA && (r += '<button class="hopscotch-nav-button next hopscotch-cta">' + (null == (i = a.ctaLabel) ? "" : i) + "</button>"), r += "\n    ", a.showNext && (r += '<button class="hopscotch-nav-button next hopscotch-next">' + (null == (i = o.nextBtn) ? "" : i) + "</button>"), 
r += "\n  </div>\n  ", a.showClose && (r += '<button class="hopscotch-bubble-close hopscotch-close">' + (null == (i = o.closeTooltip) ? "" : i) + "</button>"), r += '\n</div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"></div>\n  <div class="hopscotch-bubble-arrow"></div>\n</div>\n';
};
}.call(h), h;
}), angular.module("openshiftCommonServices", [ "ab-base64" ]).config([ "AuthServiceProvider", function(e) {
e.UserStore("MemoryUserStore");
} ]).constant("API_CFG", _.get(window.OPENSHIFT_CONFIG, "api", {})).constant("APIS_CFG", _.get(window.OPENSHIFT_CONFIG, "apis", {})).constant("AUTH_CFG", _.get(window.OPENSHIFT_CONFIG, "auth", {})).config([ "$httpProvider", "AuthServiceProvider", "RedirectLoginServiceProvider", "AUTH_CFG", function(e, t, n, i) {
e.interceptors.push("AuthInterceptor"), t.LoginService("RedirectLoginService"), t.LogoutService("DeleteTokenLogoutService"), t.UserStore("LocalStorageUserStore"), n.OAuthClientID(i.oauth_client_id), n.OAuthAuthorizeURI(i.oauth_authorize_uri), n.OAuthTokenURI(i.oauth_token_uri), n.OAuthRedirectURI(URI(i.oauth_redirect_base).segment("oauth").toString());
} ]), hawtioPluginLoader.addModule("openshiftCommonServices"), hawtioPluginLoader.registerPreBootstrapTask(function(e) {
if (_.get(window, "OPENSHIFT_CONFIG.api.k8s.resources")) e(); else {
var t = {
k8s: {},
openshift: {}
}, n = {}, i = [], r = window.location.protocol + "//", o = r + window.OPENSHIFT_CONFIG.api.k8s.hostPort + window.OPENSHIFT_CONFIG.api.k8s.prefix, a = $.get(o + "/v1").done(function(e) {
t.k8s.v1 = _.indexBy(e.resources, "name");
}).fail(function(e, t, n) {
i.push({
data: e,
textStatus: t,
xhr: n
});
}), s = r + window.OPENSHIFT_CONFIG.api.openshift.hostPort + window.OPENSHIFT_CONFIG.api.openshift.prefix, l = $.get(s + "/v1").done(function(e) {
t.openshift.v1 = _.indexBy(e.resources, "name");
}).fail(function(e, t, n) {
i.push({
data: e,
textStatus: t,
xhr: n
});
}), c = r + window.OPENSHIFT_CONFIG.apis.hostPort + window.OPENSHIFT_CONFIG.apis.prefix, u = function(e, t, r) {
var o = [];
return _.each(r.groups, function(r) {
var a = {
name: r.name,
preferredVersion: r.preferredVersion.version,
versions: {},
hostPrefix: t
};
n[a.name] = a, _.each(r.versions, function(t) {
var n = t.version;
a.versions[n] = {
version: n,
groupVersion: t.groupVersion
}, o.push($.get(e + "/" + t.groupVersion).done(function(e) {
a.versions[n].resources = _.indexBy(e.resources, "name");
}).fail(function(e, t, n) {
i.push({
data: e,
textStatus: t,
xhr: n
});
}));
});
}), $.when.apply(this, o);
}, d = $.get(c).then(_.partial(u, c, null), function(e, t, n) {
i.push({
data: e,
textStatus: t,
xhr: n
});
}), h = [];
_.each(window.OPENSHIFT_CONFIG.additionalServers, function(e) {
var t = (e.protocol ? e.protocol + "://" : r) + e.hostPort + e.prefix;
h.push($.get(t).then(_.partial(u, t, e), function(t, n, r) {
!1 !== e.required && i.push({
data: t,
textStatus: n,
xhr: r
});
}));
});
var p = [ a, l, d ];
p = p.concat(h), $.when.apply(this, p).always(function() {
window.OPENSHIFT_CONFIG.api.k8s.resources = t.k8s, window.OPENSHIFT_CONFIG.api.openshift.resources = t.openshift, window.OPENSHIFT_CONFIG.apis.groups = n, i.length && (window.OPENSHIFT_CONFIG.apis.API_DISCOVERY_ERRORS = i), e();
});
}
}), angular.module("openshiftCommonUI", []).constant("BREAKPOINTS", {
screenXsMin: 480,
screenSmMin: 768,
screenMdMin: 992,
screenLgMin: 1200,
screenXlgMin: 1600
}).constant("DNS1123_SUBDOMAIN_VALIDATION", {
pattern: /^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/,
maxlength: 253,
description: "Name must consist of lower-case letters, numbers, periods, and hyphens. It must start and end with a letter or a number."
}).constant("IS_IOS", /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream), hawtioPluginLoader.addModule("openshiftCommonUI"), angular.module("openshiftCommonUI").run([ "$templateCache", function(e) {
"use strict";
e.put("src/components/binding/bindApplicationForm.html", '<div class="bind-form">\n  <form>\n    <div class="form-group">\n      <label>\n        <h3>Create a binding for application <strong>{{ctrl.applicationName}}</strong></h3>\n      </label>\n      <span class="help-block">\n        Bindings create a secret containing the necessary information for an application to use a service.\n      </span>\n    </div>\n  </form>\n\n  <label ng-if="!ctrl.allowNoBinding">\n    Select a service:\n  </label>\n  <form name="ctrl.formName">\n    <fieldset>\n      <div class="radio">\n        <div ng-if="ctrl.allowNoBinding" class="bind-service-selection">\n          <label>\n            <input type="radio" ng-model="ctrl.serviceToBind" ng-value="null">\n            Do not bind at this time.\n          </label>\n          <div class="bind-description">\n          <span class="help-block service-instance-name">\n            Bindings can be created later from within a project.\n          </span>\n          </div>\n        </div>\n        <div ng-repeat="serviceInstance in ctrl.bindableServiceInstances" class="bind-service-selection">\n          <label>\n            <input type="radio" ng-model="ctrl.serviceToBind" ng-value="serviceInstance">\n            {{ctrl.serviceClasses[serviceInstance.spec.serviceClassName].externalMetadata.displayName || serviceInstance.spec.serviceClassName}}\n          </label>\n          <div class="bind-description">\n            <span class="pficon pficon-info"\n                  ng-if="!(serviceInstance | isServiceInstanceReady)"\n                  data-content="This service is not yet ready. If you bind to it, then the binding will be pending until the service is ready."\n                  data-toggle="popover"\n                  data-trigger="hover">\n            </span>\n            <span class="help-block service-instance-name">\n              {{serviceInstance.metadata.name}}\n            </span>\n          </div>\n        </div>\n        <h4 ng-if="!ctrl.bindableServiceInstances.length">\n          <span class="pficon pficon-info" aria-hidden="true"></span>\n          <span class="help-block service-instance-name">\n            There are no bindable services in this project\n          </span>\n        </h4>\n      </div>\n    </fieldset>\n  </form>\n</div>\n'), 
e.put("src/components/binding/bindResults.html", '<div ng-if="!ctrl.error">\n  <div ng-if="!(ctrl.binding | isBindingReady)" class="bind-status" ng-class="{\'text-center\': !ctrl.progressInline, \'show-progress\': !ctrl.progressInline}">\n    <div class="spinner" ng-class="{\'spinner-sm\': ctrl.progressInline, \'spinner-inline\': ctrl.progressInline, \'spinner-lg\': !ctrl.progressInline}" aria-hidden="true"></div>\n    <h3 class="bind-message">\n      <span class="sr-only">Pending</span>\n      <div class="bind-pending-message" ng-class="{\'progress-inline\': ctrl.progressInline}">The binding was created but is not ready yet.</div>\n    </h3>\n  </div>\n  <div ng-if="(ctrl.binding | isBindingReady)">\n    <div class="bind-status">\n      <span class="pficon pficon-ok" aria-hidden="true"></span>\n      <span class="sr-only">Success</span>\n      <h3 class="bind-message">\n        <strong>{{ctrl.serviceToBind}}</strong>\n        <span>has been bound</span>\n        <span ng-if="ctrl.bindType === \'application\'"> to <strong>{{ctrl.applicationToBind}}</strong> successfully</span>\n      </h3>\n    </div>\n    <div class="sub-title">\n      The binding operation created the secret\n      <a ng-if="ctrl.secretHref && \'secrets\' | canI : \'list\'"\n         ng-href="{{ctrl.secretHref}}">{{ctrl.binding.spec.secretName}}</a>\n      <span ng-if="!ctrl.secretHref || !(\'secrets\' | canI : \'list\')">{{ctrl.binding.spec.secretName}}</span>\n      that you may need to reference in your application.\n      <span ng-if="ctrl.showPodPresets">Its data will be available to your application as environment variables.</span>\n    </div>\n    <div class="alert alert-info bind-info">\n      <span class="pficon pficon-info" aria-hidden="true"></span>\n      <span class="sr-only">Info</span>\n      The binding secret will only be available to new pods. You will need to redeploy your application.\n    </div>\n  </div>\n</div>\n<div ng-if="ctrl.error">\n  <div class="bind-status">\n    <span class="pficon pficon-error-circle-o text-danger" aria-hidden="true"></span>\n    <span class="sr-only">Error</span>\n    <h3 class="bind-message">\n      <span>Binding Failed</span>\n    </h3>\n  </div>\n  <div class="sub-title">\n    <span ng-if="ctrl.error.data.message">\n      {{ctrl.error.data.message | upperFirst}}\n    </span>\n    <span ng-if="!ctrl.error.data.message">\n      An error occurred creating the binding.\n    </span>\n  </div>\n</div>\n'), 
e.put("src/components/binding/bindServiceForm.html", '<div class="bind-form">\n  <form>\n    <div class="form-group">\n        <label>\n          <h3>Create a binding for <strong>{{ctrl.serviceClass.externalMetadata.displayName || ctrl.serviceClassName}}</strong></h3>\n        </label>\n        <span class="help-block">Bindings create a secret containing the necessary information for an application to use this service.</span>\n    </div>\n  </form>\n\n  <form name="ctrl.formName" class="mar-bottom-lg">\n    <fieldset>\n      <div class="radio">\n        <label class="bind-choice" ng-disabled="!ctrl.applications.length">\n          <input type="radio" ng-model="ctrl.bindType" value="application" ng-disabled="!ctrl.applications.length">\n          Create a secret and inject it into an application\n        </label>\n        <div class="application-select">\n          <ui-select ng-model="ctrl.appToBind"\n                     ng-disabled="ctrl.bindType !== \'application\'"\n                     ng-required="ctrl.bindType === \'application\'">\n            <ui-select-match placeholder="{{ctrl.applications.length ? \'Select an application\' : \'There are no applications in this project\'}}">\n              <span>\n                {{$select.selected.metadata.name}}\n                <small class="text-muted">&ndash; {{$select.selected.kind | humanizeKind : true}}</small>\n              </span>\n            </ui-select-match>\n            <ui-select-choices\n              repeat="application in (ctrl.applications) | filter : { metadata: { name: $select.search } } track by (application | uid)"\n              group-by="ctrl.groupByKind">\n              <span ng-bind-html="application.metadata.name | highlight : $select.search"></span>\n            </ui-select-choices>\n          </ui-select>\n        </div>\n        <label class="bind-choice">\n          <input type="radio" ng-model="ctrl.bindType" value="secret-only">\n          Create a secret in <strong>{{ctrl.projectName}}</strong> to be used later\n        </label>\n        <div class="help-block bind-description">\n          Secrets can be referenced later from an application.\n        </div>\n        <label ng-if="ctrl.allowNoBinding" class="bind-choice">\n          <input type="radio" ng-model="ctrl.bindType" value="none">\n          Do not bind at this time\n        </label>\n        <div ng-if="ctrl.allowNoBinding" class="help-block bind-description">\n          Bindings can be created later from within a project.\n        </div>\n      </div>\n    </fieldset>\n  </form>\n</div>\n'), 
e.put("src/components/create-project/createProject.html", '<form name="createProjectForm" novalidate>\n  <fieldset ng-disabled="disableInputs">\n    <div class="form-group">\n      <label for="name" class="required">Name</label>\n      <span ng-class="{\'has-error\': (createProjectForm.name.$error.pattern && createProjectForm.name.$touched) || nameTaken}">\n        <input class="form-control input-lg"\n            name="name"\n            id="name"\n            placeholder="my-project"\n            type="text"\n            required\n            take-focus\n            minlength="2"\n            maxlength="63"\n            pattern="[a-z0-9]([-a-z0-9]*[a-z0-9])?"\n            aria-describedby="nameHelp"\n            ng-model="name"\n            ng-model-options="{ updateOn: \'default blur\' }"\n            ng-change="nameTaken = false"\n            autocorrect="off"\n            autocapitalize="off"\n            spellcheck="false">\n      </span>\n      <div>\n        <span class="help-block">A unique name for the project.</span>\n      </div>\n      <div class="has-error">\n        <span id="nameHelp" class="help-block" ng-if="createProjectForm.name.$error.required && createProjectForm.name.$dirty">\n          Name is required.\n        </span>\n      </div>\n      <div class="has-error">\n        <span id="nameHelp" class="help-block" ng-if="createProjectForm.name.$error.minlength && createProjectForm.name.$touched">\n          Name must have at least two characters.\n        </span>\n      </div>\n      <div class="has-error">\n        <span id="nameHelp" class="help-block" ng-if="createProjectForm.name.$error.pattern && createProjectForm.name.$touched">\n          Project names may only contain lower-case letters, numbers, and dashes.\n          They may not start or end with a dash.\n        </span>\n      </div>\n      <div class="has-error">\n        <span class="help-block" ng-if="nameTaken">\n          This name is already in use. Please choose a different name.\n        </span>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="displayName">Display Name</label>\n      <input class="form-control input-lg"\n          name="displayName"\n          id="displayName"\n          placeholder="My Project"\n          type="text"\n          ng-model="displayName">\n    </div>\n\n    <div class="form-group">\n      <label for="description">Description</label>\n      <textarea class="form-control input-lg"\n          name="description"\n          id="description"\n          placeholder="A short description."\n          ng-model="description"></textarea>\n    </div>\n\n    <div class="button-group">\n      <button type="submit"\n          class="btn btn-primary btn-lg"\n          ng-class="{\'dialog-btn\': isDialog}"\n          ng-click="createProject()"\n          ng-disabled="createProjectForm.$invalid || nameTaken || disableInputs"\n          value="">\n        Create\n      </button>\n      <button\n          class="btn btn-default btn-lg"\n          ng-class="{\'dialog-btn\': isDialog}"\n          ng-click="cancelCreateProject()">\n        Cancel\n      </button>\n    </div>\n  </fieldset>\n</form>\n'), 
e.put("src/components/delete-project/delete-project-button.html", '<div class="actions">\n  \x3c!-- Avoid whitespace inside the link --\x3e\n  <a href=""\n     ng-click="$event.stopPropagation(); openDeleteModal()"\n     role="button"\n     class="action-button"\n     ng-attr-aria-disabled="{{disableDelete ? \'true\' : undefined}}"\n     ng-class="{ \'disabled-link\': disableDelete }"\n    ><i class="fa fa-trash-o" aria-hidden="true"\n    ></i><span class="sr-only">Delete Project {{projectName}}</span></a>\n</div>\n'), e.put("src/components/delete-project/delete-project-modal.html", '<div class="delete-resource-modal">\n  \x3c!-- Use a form so that the enter key submits when typing a project name to confirm. --\x3e\n  <form>\n    <div class="modal-body">\n      <h1>Are you sure you want to delete the project\n        \'<strong>{{displayName ? displayName : projectName}}</strong>\'?</h1>\n      <p>\n        This will <strong>delete all resources</strong> associated with\n        the project {{displayName ? displayName : projectName}} and <strong>cannot be\n        undone</strong>.  Make sure this is something you really want to do!\n      </p>\n      <div ng-show="typeNameToConfirm">\n        <p>Type the name of the project to confirm.</p>\n        <p>\n          <label class="sr-only" for="resource-to-delete">project to delete</label>\n          <input\n              ng-model="confirmName"\n              id="resource-to-delete"\n              type="text"\n              class="form-control input-lg"\n              autocorrect="off"\n              autocapitalize="off"\n              spellcheck="false"\n              autofocus>\n        </p>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button ng-disabled="typeNameToConfirm && confirmName !== projectName && confirmName !== displayName" class="btn btn-lg btn-danger" type="submit" ng-click="delete();">Delete</button>\n      <button class="btn btn-lg btn-default" type="button" ng-click="cancel();">Cancel</button>\n    </div>\n  </form>\n</div>\n'), 
e.put("src/components/delete-project/delete-project.html", '<a href="javascript:void(0)"\n   ng-click="openDeleteModal()"\n   role="button"\n   ng-attr-aria-disabled="{{disableDelete ? \'true\' : undefined}}"\n   ng-class="{ \'disabled-link\': disableDelete }"\n>{{label || \'Delete\'}}</a>\n'), e.put("src/components/edit-project/editProject.html", '<form name="editProjectForm">\n  <fieldset ng-disabled="disableInputs">\n    <div class="form-group">\n      <label for="displayName">Display Name</label>\n      <input class="form-control input-lg"\n             name="displayName"\n             id="displayName"\n             placeholder="My Project"\n             type="text"\n             ng-model="editableFields.displayName">\n    </div>\n\n    <div class="form-group">\n      <label for="description">Description</label>\n                    <textarea class="form-control input-lg"\n                              name="description"\n                              id="description"\n                              placeholder="A short description."\n                              ng-model="editableFields.description"></textarea>\n    </div>\n\n    <div class="button-group">\n      <button type="submit"\n              class="btn btn-primary btn-lg"\n              ng-class="{\'dialog-btn\': isDialog}"\n              ng-click="update()"\n              ng-disabled="editProjectForm.$invalid || disableInputs"\n              value="">{{submitButtonLabel}}</button>\n      <button\n          class="btn btn-default btn-lg"\n          ng-class="{\'dialog-btn\': isDialog}"\n          ng-click="cancelEditProject()">\n        Cancel\n      </button>\n    </div>\n  </fieldset>\n</form>\n'), 
e.put("src/components/toast-notifications/toast-notifications.html", '<div class="toast-notifications-list-pf">\n  <div ng-repeat="(notificationID, notification) in notifications track by (notificationID + (notification.message || notification.details))" ng-if="!notification.hidden || notification.isHover"\n       ng-mouseenter="setHover(notification, true)" ng-mouseleave="setHover(notification, false)">\n    <div class="toast-pf alert {{notification.type | alertStatus}}" ng-class="{\'alert-dismissable\': !hideCloseButton}">\n      <button ng-if="!hideCloseButton" type="button" class="close" ng-click="close(notification)">\n        <span class="pficon pficon-close" aria-hidden="true"></span>\n        <span class="sr-only">Close</span>\n      </button>\n      <span class="{{notification.type | alertIcon}}" aria-hidden="true"></span>\n      <span class="sr-only">{{notification.type}}</span>\n      <span class="toast-notification-message" ng-if="notification.message">{{notification.message}}</span>\n      <span ng-if="notification.details">\n        <truncate-long-text\n          limit="200"\n          content="notification.details"\n          use-word-boundary="true"\n          expandable="true"\n          hide-collapse="true">\n        </truncate-long-text>\n      </span>\n      <span ng-repeat="link in notification.links">\n        <a ng-if="!link.href" href="" ng-click="onClick(notification, link)" role="button">{{link.label}}</a>\n        <a ng-if="link.href" ng-href="{{link.href}}" ng-attr-target="{{link.target}}">{{link.label}}</a>\n        <span ng-if="!$last" class="toast-action-divider">|</span>\n      </span>\n    </div>\n  </div>\n</div>\n'), 
e.put("src/components/truncate-long-text/truncateLongText.html", '\x3c!--\n  Do not remove class `truncated-content` (here or below) even though it\'s not\n  styled directly in origin-web-common.  `truncated-content` is used by\n  origin-web-console in certain contexts.\n--\x3e\n<span ng-if="!truncated" ng-bind-html="content | highlightKeywords : keywords" class="truncated-content"></span>\n<span ng-if="truncated">\n  <span ng-if="!toggles.expanded">\n    <span ng-attr-title="{{content}}" class="truncation-block">\n      <span ng-bind-html="truncatedContent | highlightKeywords : keywords" class="truncated-content"></span>&hellip;\n    </span>\n    <a ng-if="expandable" href="" ng-click="toggles.expanded = true" class="nowrap">See All</a>\n  </span>\n  <span ng-if="toggles.expanded">\n    <div ng-if="prettifyJson" class="well">\n      <span ng-if="!hideCollapse" class="pull-right" style="margin-top: -10px;"><a href="" ng-click="toggles.expanded = false" class="truncation-collapse-link">Collapse</a></span>\n      <span ng-bind-html="content | prettifyJSON | highlightKeywords : keywords" class="pretty-json truncated-content"></span>\n    </div>\n    <span ng-if="!prettifyJson">\n      <span ng-if="!hideCollapse" class="pull-right"><a href="" ng-click="toggles.expanded = false" class="truncation-collapse-link">Collapse</a></span>\n      <span ng-bind-html="content | highlightKeywords : keywords" class="truncated-content"></span>\n    </span>\n  </span>\n</span>\n');
} ]), angular.module("openshiftCommonUI").component("bindApplicationForm", {
controllerAs: "ctrl",
bindings: {
allowNoBinding: "<?",
createBinding: "=",
applicationName: "=",
formName: "=",
serviceClasses: "<",
serviceInstances: "<",
serviceToBind: "="
},
templateUrl: "src/components/binding/bindApplicationForm.html",
controller: [ "BindingService", function(e) {
function t(t) {
return e.isServiceBindable(t, n.serviceClasses);
}
var n = this;
n.$onChanges = function(e) {
(e.serviceInstances || e.serviceClasses) && (n.bindableServiceInstances = _.filter(n.serviceInstances, t));
};
} ]
}), angular.module("openshiftCommonUI").component("bindResults", {
controllerAs: "ctrl",
bindings: {
error: "<",
binding: "<",
progressInline: "@",
serviceToBind: "<",
bindType: "@",
applicationToBind: "<",
showPodPresets: "<",
secretHref: "<"
},
templateUrl: "src/components/binding/bindResults.html",
controller: function() {
var e = this;
e.$onInit = function() {
e.progressInline = "true" === e.progressInline;
}, e.$onChanges = function(t) {
t.progressInline && (e.progressInline = "true" === e.progressInline);
};
}
}), angular.module("openshiftCommonUI").component("bindServiceForm", {
controllerAs: "ctrl",
bindings: {
serviceClass: "<",
serviceClassName: "<",
applications: "<",
formName: "=",
allowNoBinding: "<?",
projectName: "<",
bindType: "=",
appToBind: "="
},
templateUrl: "src/components/binding/bindServiceForm.html",
controller: [ "$filter", function(e) {
var t = this, n = e("humanizeKind");
t.groupByKind = function(e) {
return n(e.kind);
};
} ]
}), angular.module("openshiftCommonUI").directive("createProject", [ "$window", function(e) {
return {
restrict: "E",
scope: {
redirectAction: "&",
onCancel: "&?",
isDialog: "@"
},
templateUrl: "src/components/create-project/createProject.html",
controller: [ "$scope", "$filter", "$location", "DataService", "NotificationsService", "displayNameFilter", function(t, n, i, r, o, a) {
t.submitButtonLabel || (t.submitButtonLabel = "Create"), t.isDialog = "true" === t.isDialog;
t.createProject = function() {
t.disableInputs = !0, t.createProjectForm.$valid && r.create("projectrequests", null, {
apiVersion: "v1",
kind: "ProjectRequest",
metadata: {
name: t.name
},
displayName: t.displayName,
description: t.description
}, t).then(function(e) {
var n = t.redirectAction();
n ? n(encodeURIComponent(e.metadata.name)) : i.path("project/" + encodeURIComponent(e.metadata.name) + "/create"), o.addNotification({
type: "success",
message: "Project '" + a(e) + "' was successfully created."
});
}, function(e) {
t.disableInputs = !1;
var n = e.data || {};
if ("AlreadyExists" === n.reason) t.nameTaken = !0; else {
var i = n.message || "An error occurred creating the project.";
o.addNotification({
id: "create-project-error",
type: "error",
message: i
});
}
});
}, t.cancelCreateProject = function() {
if (t.onCancel) {
var n = t.onCancel();
n && n();
} else e.history.back();
}, t.$on("$destroy", function() {
o.hideNotification("create-project-error");
});
} ]
};
} ]), angular.module("openshiftCommonUI").directive("deleteProject", [ "$uibModal", "$location", "$filter", "$q", "hashSizeFilter", "APIService", "DataService", "NotificationsService", "Logger", function(e, t, n, i, r, o, a, s, l) {
return {
restrict: "E",
scope: {
projectName: "@",
displayName: "@",
disableDelete: "=?",
typeNameToConfirm: "=?",
label: "@?",
buttonOnly: "@",
stayOnCurrentPage: "=?",
success: "=?",
redirectUrl: "@?"
},
templateUrl: function(e, t) {
return angular.isDefined(t.buttonOnly) ? "src/components/delete-project/delete-project-button.html" : "src/components/delete-project/delete-project.html";
},
replace: !0,
link: function(i, r, c) {
var u = function(e) {
s.addNotification(e.data);
}, d = function() {
if (!i.stayOnCurrentPage) if (i.redirectUrl) t.url(i.redirectUrl); else if ("/" !== t.path()) {
var e = URI("/");
t.url(e);
} else i.$emit("deleteProject");
};
i.openDeleteModal = function() {
i.disableDelete || e.open({
animation: !0,
templateUrl: "src/components/delete-project/delete-project-modal.html",
controller: "DeleteProjectModalController",
scope: i
}).result.then(function() {
var e = i.projectName, t = "Project '" + i.displayName + "'", r = {};
a.delete({
resource: o.kindToResource("Project")
}, e, r).then(function() {
u({
name: e,
data: {
type: "success",
message: t + " was marked for deletion."
}
}), i.success && i.success(), d();
}).catch(function(e) {
var i = {
type: "error",
message: t + " could not be deleted.",
details: n("getErrorDetails")(e)
};
s.addNotification(i), l.error(t + " could not be deleted.", e);
});
});
};
}
};
} ]), angular.module("openshiftCommonUI").controller("DeleteProjectModalController", [ "$scope", "$uibModalInstance", function(e, t) {
e.delete = function() {
t.close("delete");
}, e.cancel = function() {
t.dismiss("cancel");
};
} ]), angular.module("openshiftCommonUI").directive("editProject", [ "$window", function(e) {
return {
restrict: "E",
scope: {
project: "=",
alerts: "=",
submitButtonLabel: "@",
redirectAction: "&",
onCancel: "&",
isDialog: "@"
},
templateUrl: "src/components/edit-project/editProject.html",
controller: [ "$scope", "$filter", "$location", "DataService", "NotificationsService", "annotationNameFilter", "displayNameFilter", function(t, n, i, r, o, a, s) {
t.submitButtonLabel || (t.submitButtonLabel = "Save"), t.isDialog = "true" === t.isDialog;
var l = n("annotation"), c = n("annotationName"), u = function(e) {
return {
description: l(e, "description"),
displayName: l(e, "displayName")
};
}, d = function(e, t) {
var n = angular.copy(e);
return n.metadata.annotations[c("description")] = t.description, n.metadata.annotations[c("displayName")] = t.displayName, n;
}, h = function(e) {
var t = [ a("description"), a("displayName") ];
return _.each(t, function(t) {
e.metadata.annotations[t] || delete e.metadata.annotations[t];
}), e;
}, p = function(e) {
t.alerts.update = e, o.addNotification(e);
};
t.editableFields = u(t.project), t.update = function() {
t.disableInputs = !0, t.editProjectForm.$valid && r.update("projects", t.project.metadata.name, h(d(t.project, t.editableFields)), {
projectName: t.project.name
}, {
errorNotification: !1
}).then(function(e) {
var n = t.redirectAction();
n && n(encodeURIComponent(t.project.metadata.name)), p({
type: "success",
message: "Project '" + s(e) + "' was successfully updated."
});
}, function(e) {
t.disableInputs = !1, t.editableFields = u(t.project), p({
type: "error",
message: "An error occurred while updating the project",
details: n("getErrorDetails")(e)
});
});
}, t.cancelEditProject = function() {
var n = t.onCancel();
n ? n() : e.history.back();
};
} ]
};
} ]), angular.module("openshiftCommonUI").directive("oscUnique", function() {
return {
restrict: "A",
scope: {
oscUnique: "="
},
require: "ngModel",
link: function(e, t, n, i) {
var r = [];
e.$watchCollection("oscUnique", function(e) {
r = _.isArray(e) ? e : _.keys(e);
}), i.$parsers.unshift(function(e) {
return i.$setValidity("oscUnique", !_.includes(r, e)), e;
});
}
};
}), angular.module("openshiftCommonUI").directive("toggle", [ "IS_IOS", function(e) {
var t = function(e) {
$("body").css("cursor", e);
}, n = _.partial(t, "pointer"), i = _.partial(t, "auto");
return e && ($(document).on("shown.bs.popover", n), $(document).on("shown.bs.tooltip", n), $(document).on("hide.bs.popover", i), $(document).on("hide.bs.tooltip", i)), {
restrict: "A",
scope: {
dynamicContent: "@?"
},
link: function(e, t, n) {
var i = {
container: n.container || "body",
placement: n.placement || "auto"
};
if (n) switch (n.toggle) {
case "popover":
(n.dynamicContent || "" === n.dynamicContent) && e.$watch("dynamicContent", function() {
$(t).popover("destroy"), setTimeout(function() {
$(t).attr("data-content", e.dynamicContent).popover(i);
}, 200);
}), $(t).popover(i), e.$on("$destroy", function() {
$(t).popover("destroy");
});
break;

case "tooltip":
(n.dynamicContent || "" === n.dynamicContent) && e.$watch("dynamicContent", function() {
$(t).tooltip("destroy"), setTimeout(function() {
$(t).attr("title", e.dynamicContent).tooltip(i);
}, 200);
}), $(t).tooltip(i), e.$on("$destroy", function() {
$(t).tooltip("destroy");
});
break;

case "dropdown":
"dropdown" === n.hover && ($(t).dropdownHover({
delay: 200
}), $(t).dropdown());
}
}
};
} ]), angular.module("openshiftCommonUI").directive("takeFocus", [ "$timeout", function(e) {
return {
restrict: "A",
link: function(t, n) {
e(function() {
$(n).focus();
}, 300);
}
};
} ]), angular.module("openshiftCommonUI").directive("tileClick", function() {
return {
restrict: "AC",
link: function(e, t) {
$(t).click(function(e) {
var n = $(e.target);
n && (n.closest("a", t).length || n.closest("button", t).length) || n.closest(".tile-click-prevent", t).length || $("a.tile-target", t).trigger("click");
});
}
};
}), angular.module("openshiftCommonUI").directive("toastNotifications", [ "NotificationsService", "$rootScope", "$timeout", function(e, t, n) {
return {
restrict: "E",
scope: {},
templateUrl: "src/components/toast-notifications/toast-notifications.html",
link: function(i) {
i.notifications = [];
var r = function(e) {
return e.hidden && !e.isHover;
}, o = function(e) {
e.isHover = !1, e.hidden = !0;
}, a = function() {
i.notifications = _.reject(i.notifications, r);
};
i.close = function(e) {
o(e), _.isFunction(e.onClose) && e.onClose();
}, i.onClick = function(e, t) {
_.isFunction(t.onClick) && t.onClick() && o(e);
}, i.setHover = function(e, t) {
r(e) || (e.isHover = t);
};
var s = t.$on("NotificationsService.onNotificationAdded", function(t, r) {
i.notifications.push(r), e.isAutoDismiss(r) && n(function() {
r.hidden = !0;
}, e.dismissDelay), a();
});
i.$on("$destroy", function() {
s && (s(), s = null);
});
}
};
} ]), angular.module("openshiftCommonUI").directive("truncateLongText", [ "truncateFilter", function(e) {
return {
restrict: "E",
scope: {
content: "=",
limit: "=",
newlineLimit: "=",
useWordBoundary: "=",
expandable: "=",
hideCollapse: "=",
keywords: "=highlightKeywords",
prettifyJson: "="
},
templateUrl: "src/components/truncate-long-text/truncateLongText.html",
link: function(t) {
t.toggles = {
expanded: !1
}, t.$watch("content", function(n) {
n ? (t.truncatedContent = e(n, t.limit, t.useWordBoundary, t.newlineLimit), t.truncated = t.truncatedContent.length !== n.length) : (t.truncatedContent = null, t.truncated = !1);
});
}
};
} ]), angular.module("openshiftCommonUI").filter("alertStatus", function() {
return function(e) {
var t;
switch (e) {
case "error":
t = "alert-danger";
break;

case "warning":
t = "alert-warning";
break;

case "success":
t = "alert-success";
break;

default:
t = "alert-info";
}
return t;
};
}).filter("alertIcon", function() {
return function(e) {
var t;
switch (e) {
case "error":
t = "pficon pficon-error-circle-o";
break;

case "warning":
t = "pficon pficon-warning-triangle-o";
break;

case "success":
t = "pficon pficon-ok";
break;

default:
t = "pficon pficon-info";
}
return t;
};
}), angular.module("openshiftCommonUI").filter("annotationName", function() {
var e = {
buildConfig: [ "openshift.io/build-config.name" ],
deploymentConfig: [ "openshift.io/deployment-config.name" ],
deployment: [ "openshift.io/deployment.name" ],
pod: [ "openshift.io/deployer-pod.name" ],
deployerPod: [ "openshift.io/deployer-pod.name" ],
deployerPodFor: [ "openshift.io/deployer-pod-for.name" ],
deploymentStatus: [ "openshift.io/deployment.phase" ],
deploymentStatusReason: [ "openshift.io/deployment.status-reason" ],
deploymentCancelled: [ "openshift.io/deployment.cancelled" ],
encodedDeploymentConfig: [ "openshift.io/encoded-deployment-config" ],
deploymentVersion: [ "openshift.io/deployment-config.latest-version" ],
displayName: [ "openshift.io/display-name" ],
description: [ "openshift.io/description" ],
buildNumber: [ "openshift.io/build.number" ],
buildPod: [ "openshift.io/build.pod-name" ],
jenkinsBuildURL: [ "openshift.io/jenkins-build-uri" ],
jenkinsLogURL: [ "openshift.io/jenkins-log-url" ],
jenkinsStatus: [ "openshift.io/jenkins-status-json" ],
idledAt: [ "idling.alpha.openshift.io/idled-at" ],
idledPreviousScale: [ "idling.alpha.openshift.io/previous-scale" ],
systemOnly: [ "authorization.openshift.io/system-only" ]
};
return function(t) {
return e[t] || null;
};
}).filter("annotation", [ "annotationNameFilter", function(e) {
return function(t, n) {
if (t && t.metadata && t.metadata.annotations) {
if (void 0 !== t.metadata.annotations[n]) return t.metadata.annotations[n];
for (var i = e(n) || [], r = 0; r < i.length; r++) {
var o = i[r];
if (void 0 !== t.metadata.annotations[o]) return t.metadata.annotations[o];
}
return null;
}
return null;
};
} ]).filter("imageStreamTagAnnotation", function() {
return function(e, t, n) {
if (n = n || "latest", e && e.spec && e.spec.tags) for (var i = e.spec.tags, r = 0; r < _.size(i); ++r) {
var o = i[r];
if (n === o.name && o.annotations) return o.annotations[t];
}
return null;
};
}).filter("imageStreamTagTags", [ "imageStreamTagAnnotationFilter", function(e) {
return function(t, n) {
var i = e(t, "tags", n);
return i ? i.split(/\s*,\s*/) : [];
};
} ]).filter("imageStreamTagIconClass", [ "imageStreamTagAnnotationFilter", function(e) {
return function(t, n) {
var i = e(t, "iconClass", n);
return i || "fa fa-cube";
};
} ]), angular.module("openshiftCommonUI").filter("canI", [ "AuthorizationService", function(e) {
return function(t, n, i) {
return e.canI(t, n, i);
};
} ]).filter("canIAddToProject", [ "AuthorizationService", function(e) {
return function(t) {
return e.canIAddToProject(t);
};
} ]), angular.module("openshiftCommonUI").filter("isNewerResource", function() {
return function(e, t) {
var n = _.get(e, "metadata.creationTimestamp");
if (!n) return !1;
var i = _.get(t, "metadata.creationTimestamp");
return !i || n > i;
};
}).filter("mostRecent", [ "isNewerResourceFilter", function(e) {
return function(t) {
var n = null;
return _.each(t, function(t) {
n && !e(t, n) || (n = t);
}), n;
};
} ]).filter("orderObjectsByDate", [ "toArrayFilter", function(e) {
return function(t, n) {
return (t = e(t)).sort(function(e, t) {
if (!(e.metadata && e.metadata.creationTimestamp && t.metadata && t.metadata.creationTimestamp)) throw "orderObjectsByDate expects all objects to have the field metadata.creationTimestamp";
return e.metadata.creationTimestamp < t.metadata.creationTimestamp ? n ? 1 : -1 : e.metadata.creationTimestamp > t.metadata.creationTimestamp ? n ? -1 : 1 : 0;
}), t;
};
} ]), angular.module("openshiftCommonUI").filter("highlightKeywords", [ "KeywordService", function(e) {
return function(t, n, i) {
if (!t) return t;
if (_.isEmpty(n)) return _.escape(t);
_.isString(n) && (n = e.generateKeywords(n));
for (var r, o = _.map(n, function(e) {
return _.isRegExp(e) ? e.source : _.escapeRegExp(e);
}).join("|"), a = "", s = 0, l = i ? "g" : "ig", c = new RegExp(o, l); null !== (r = c.exec(t)); ) s < r.index && (a += _.escape(t.substring(s, r.index))), a += "<mark>" + _.escape(r[0]) + "</mark>", s = c.lastIndex;
return s < t.length && (a += _.escape(t.substring(s))), a;
};
} ]), angular.module("openshiftCommonUI").filter("linkify", [ "HTMLService", function(e) {
return function(t, n, i) {
return e.linkify(t, n, i);
};
} ]), angular.module("openshiftCommonUI").filter("parseJSON", function() {
return function(e) {
if (!e) return null;
try {
var t = JSON.parse(e);
return "object" == typeof t ? t : null;
} catch (e) {
return null;
}
};
}), angular.module("openshiftCommonUI").filter("prettifyJSON", [ "parseJSONFilter", function(e) {
return function(t) {
var n = e(t);
return n ? JSON.stringify(n, null, 4) : t;
};
} ]), angular.module("openshiftCommonUI").filter("uid", function() {
return function(e) {
return e && e.metadata && e.metadata.uid ? e.metadata.uid : e;
};
}).filter("labelName", function() {
var e = {
buildConfig: [ "openshift.io/build-config.name" ],
deploymentConfig: [ "openshift.io/deployment-config.name" ]
};
return function(t) {
return e[t];
};
}).filter("description", [ "annotationFilter", function(e) {
return function(t) {
return e(t, "openshift.io/description") || e(t, "kubernetes.io/description") || e(t, "description");
};
} ]).filter("displayName", [ "annotationFilter", function(e) {
return function(t, n) {
var i = e(t, "displayName");
return i || n ? i : t && t.metadata ? t.metadata.name : null;
};
} ]).filter("uniqueDisplayName", [ "displayNameFilter", function(e) {
function t(t) {
var n = {};
return angular.forEach(t, function(t, i) {
var r = e(t);
n[r] = (n[r] || 0) + 1;
}), n;
}
return function(n, i) {
if (!n) return "";
var r = e(n), o = n.metadata.name;
return r !== o && t(i)[r] > 1 ? r + " (" + o + ")" : r;
};
} ]).filter("searchProjects", [ "displayNameFilter", function(e) {
return function(t, n) {
return n ? (n = n.toLowerCase(), _.filter(t, function(t) {
if (_.includes(t.metadata.name, n)) return !0;
var i = e(t, !0);
return !(!i || !_.includes(i.toLowerCase(), n));
})) : t;
};
} ]).filter("label", function() {
return function(e, t) {
return e && e.metadata && e.metadata.labels ? e.metadata.labels[t] : null;
};
}).filter("humanizeKind", [ "startCaseFilter", function(e) {
return function(e, t) {
if (!e) return e;
var n = _.startCase(e);
return t ? n : n.toLowerCase();
};
} ]).filter("statusCondition", function() {
return function(e, t) {
return e ? _.find(_.get(e, "status.conditions"), {
type: t
}) : null;
};
}).filter("isServiceInstanceReady", [ "statusConditionFilter", function(e) {
return function(t) {
return "True" === _.get(e(t, "Ready"), "status");
};
} ]).filter("isBindingReady", [ "isServiceInstanceReadyFilter", function(e) {
return e;
} ]).filter("hasDeployment", [ "annotationFilter", function(e) {
return function(t) {
return !!e(t, "deployment.kubernetes.io/revision");
};
} ]).filter("hasDeploymentConfig", [ "annotationFilter", function(e) {
return function(t) {
return !!e(t, "deploymentConfig");
};
} ]), angular.module("openshiftCommonUI").filter("camelToLower", function() {
return function(e) {
return e ? _.startCase(e).toLowerCase() : e;
};
}).filter("upperFirst", function() {
return function(e) {
return e ? e.charAt(0).toUpperCase() + e.slice(1) : e;
};
}).filter("sentenceCase", [ "camelToLowerFilter", "upperFirstFilter", function(e, t) {
return function(n) {
if (!n) return n;
var i = e(n);
return t(i);
};
} ]).filter("startCase", function() {
return function(e) {
return e ? _.startCase(e) : e;
};
}).filter("capitalize", function() {
return function(e) {
return _.capitalize(e);
};
}).filter("isMultiline", function() {
return function(e, t) {
if (!e) return !1;
var n = e.search(/\r|\n/);
return -1 !== n && (!t || n !== e.length - 1);
};
}), angular.module("openshiftCommonUI").filter("truncate", function() {
return function(e, t, n, i) {
if (!e) return e;
var r = e;
if (t && (r = r.substring(0, t)), i) {
var o = e.split("\n", i).join("\n").length;
r = r.substring(0, o);
}
if (!1 !== n) {
var a = Math.max(4, t - 10), s = r.lastIndexOf(/\s/, a);
-1 !== s && (r = r.substring(0, s));
}
return r;
};
}), angular.module("openshiftCommonUI").filter("toArray", function() {
return _.toArray;
}).filter("size", function() {
return _.size;
}).filter("hashSize", [ "$log", function(e) {
return function(e) {
return e ? Object.keys(e).length : 0;
};
} ]).filter("filterCollection", function() {
return function(e, t) {
return e && t ? _.filter(e, t) : e;
};
}).filter("generateName", function() {
return function(e, t) {
return e || (e = ""), t || (t = 5), e + Math.round(Math.pow(36, t + 1) - Math.random() * Math.pow(36, t)).toString(36).slice(1);
};
}).filter("getErrorDetails", [ "upperFirstFilter", function(e) {
return function(t, n) {
var i = t.data || {};
if (i.message) return n ? e(i.message) : i.message;
var r = t.status || i.status;
return r ? "Status: " + r : "";
};
} ]), angular.module("openshiftCommonServices").service("AlertMessageService", function() {
var e = function(e, t) {
return t ? "hide/alert/" + t + "/" + e : "hide/alert/" + e;
};
return {
isAlertPermanentlyHidden: function(t, n) {
var i = e(t, n);
return "true" === localStorage.getItem(i);
},
permanentlyHideAlert: function(t, n) {
var i = e(t, n);
localStorage.setItem(i, "true");
}
};
}), ResourceGroupVersion.prototype.toString = function() {
var e = this.resource;
return this.group && (e += "/" + this.group), this.version && (e += "/" + this.version), e;
}, ResourceGroupVersion.prototype.primaryResource = function() {
if (!this.resource) return "";
var e = this.resource.indexOf("/");
return -1 === e ? this.resource : this.resource.substring(0, e);
}, ResourceGroupVersion.prototype.subresources = function() {
var e = (this.resource || "").split("/");
return e.shift(), e;
}, ResourceGroupVersion.prototype.equals = function(e, t, n) {
return this.resource === e && (1 === arguments.length || this.group === t && (2 === arguments.length || this.version === n));
}, angular.module("openshiftCommonServices").factory("APIService", [ "API_CFG", "APIS_CFG", "AuthService", "Constants", "Logger", "$q", "$http", "$filter", "$window", function(e, t, n, i, r, o, a, s, l) {
function c(e) {
if (!e) return e;
var t = e.indexOf("/");
return -1 === t ? e.toLowerCase() : e.substring(0, t).toLowerCase() + e.substring(t);
}
function u(e, t) {
if (!e) return "";
var n = e;
return t && (n = s("humanizeKind")(n)), "endpoints" === (n = String(n).toLowerCase()) || "securitycontextconstraints" === n || ("s" === n[n.length - 1] ? n += "es" : "y" === n[n.length - 1] ? n = n.substring(0, n.length - 1) + "ies" : n += "s"), n;
}
var d = {
"": "v1",
extensions: "v1beta1"
}, h = function(e) {
if (e instanceof ResourceGroupVersion) return e;
var n, i, r;
return angular.isString(e) ? (n = c(e), r = d[i = ""]) : e && e.resource && (n = c(e.resource), i = e.group || "", r = e.version || d[i] || _.get(t, [ "groups", i, "preferredVersion" ])), new ResourceGroupVersion(n, i, r);
}, p = function(e) {
if (e) {
var t = e.split("/");
return 1 === t.length ? "v1" === t[0] ? {
group: "",
version: t[0]
} : {
group: t[0],
version: ""
} : 2 === t.length ? {
group: t[0],
version: t[1]
} : void r.warn('Invalid apiVersion "' + e + '"');
}
}, f = function(n) {
var r = [], o = _.map(i.AVAILABLE_KINDS_BLACKLIST, function(e) {
return _.isString(e) ? {
kind: e,
group: ""
} : e;
});
return _.each(_.pick(e, function(e, t) {
return "openshift" !== t;
}), function(e) {
_.each(e.resources.v1, function(e) {
if (e.namespaced || n) {
if (_.contains(e.name, "/") || _.find(o, {
kind: e.kind,
group: ""
})) return;
r.push({
kind: e.kind,
group: ""
});
}
});
}), _.each(t.groups, function(e) {
var t = d[e.name] || e.preferredVersion;
_.each(e.versions[t].resources, function(t) {
_.contains(t.name, "/") || _.find(o, {
kind: t.kind,
group: e.name
}) || "extensions" === e.name && "HorizontalPodAutoscaler" === t.kind || (t.namespaced || n) && r.push({
kind: t.kind,
group: e.name
});
});
}), _.uniq(r, !1, function(e) {
return e.group + "/" + e.kind;
});
}, g = f(!1), m = f(!0);
return {
toResourceGroupVersion: h,
parseGroupVersion: p,
objectToResourceGroupVersion: function(e) {
if (e && e.kind && e.apiVersion) {
var t = u(e.kind);
if (t) {
var n = p(e.apiVersion);
if (n) return new ResourceGroupVersion(t, n.group, n.version);
}
}
},
deriveTargetResource: function(e, t) {
if (e && t) {
var n = u(t.kind), i = p(t.apiVersion), r = h(e);
if (n && i && r) return angular.isString(e) ? (r.equals(n) && (r.group = i.group, r.version = i.version), r) : (r.equals(n, i.group) && (r.version = i.version), r);
}
},
kindToResource: u,
kindToResourceGroupVersion: function(e) {
return h({
resource: u(e.kind),
group: e.group
});
},
apiInfo: function(i) {
if (t.API_DISCOVERY_ERRORS) return _.every(t.API_DISCOVERY_ERRORS, function(e) {
return 0 === _.get(e, "data.status");
}) && !n.isLoggedIn() ? void n.withUser() : void (l.location.href = URI("error").query({
error_description: "Unable to load details about the server. If the problem continues, please contact your system administrator.",
error: "API_DISCOVERY"
}).toString());
var r, o = (i = h(i)).primaryResource();
if (i.group) {
if (!(r = _.get(t, [ "groups", i.group, "versions", i.version, "resources", o ]))) return;
var a = _.get(t, [ "groups", i.group, "hostPrefix" ]) || t;
return {
resource: i.resource,
group: i.group,
version: i.version,
protocol: a.protocol,
hostPort: a.hostPort,
prefix: a.prefix,
namespaced: r.namespaced,
verbs: r.verbs
};
}
var s;
for (var c in e) if (s = e[c], r = _.get(s, [ "resources", i.version, o ])) return {
resource: i.resource,
version: i.version,
hostPort: s.hostPort,
prefix: s.prefix,
namespaced: r.namespaced,
verbs: r.verbs
};
},
invalidObjectKindOrVersion: function(e) {
var t = "<none>", n = "<none>";
return e && e.kind && (t = e.kind), e && e.apiVersion && (n = e.apiVersion), "Invalid kind (" + t + ") or API version (" + n + ")";
},
unsupportedObjectKindOrVersion: function(e) {
var t = "<none>", n = "<none>";
return e && e.kind && (t = e.kind), e && e.apiVersion && (n = e.apiVersion), "The API version " + n + " for kind " + t + " is not supported by this server";
},
availableKinds: function(e) {
return e ? m : g;
}
};
} ]), angular.module("openshiftCommonServices").provider("AuthService", function() {
var e = "";
this.UserStore = function(t) {
return t && (e = t), e;
};
var t = "";
this.LoginService = function(e) {
return e && (t = e), t;
};
var n = "";
this.LogoutService = function(e) {
return e && (n = e), n;
};
var i = function(e, t, n) {
if (t) return angular.isString(t) ? e.get(t) : e.invoke(t);
throw n + " not set";
};
this.$get = [ "$q", "$injector", "$log", "$rootScope", "Logger", "base64", function(r, o, a, s, l, c) {
var u = l.get("auth");
u.log("AuthServiceProvider.$get", arguments);
var d = $.Callbacks(), h = $.Callbacks(), p = $.Callbacks(), f = null, g = null, m = i(o, e, "AuthServiceProvider.UserStore()");
m.available() || l.error("AuthServiceProvider.$get user store " + e + " not available");
var v = i(o, t, "AuthServiceProvider.LoginService()"), y = i(o, n, "AuthServiceProvider.LogoutService()");
return {
UserStore: function() {
return m;
},
isLoggedIn: function() {
return !!m.getUser();
},
withUser: function() {
var e = m.getUser();
return e ? (s.user = e, u.log("AuthService.withUser()", e), r.when(e)) : (u.log("AuthService.withUser(), calling startLogin()"), this.startLogin());
},
setUser: function(e, t, n) {
u.log("AuthService.setUser()", e, t, n);
var i = m.getUser();
m.setUser(e, n), m.setToken(t, n), s.user = e, (i && i.metadata && i.metadata.name) !== (e && e.metadata && e.metadata.name) && (u.log("AuthService.setUser(), user changed", i, e), p.fire(e));
},
requestRequiresAuth: function(e) {
var t = !!e.auth;
return u.log("AuthService.requestRequiresAuth()", e.url.toString(), t), t;
},
addAuthToRequest: function(e) {
var t = "";
return e && e.auth && e.auth.token ? (t = e.auth.token, u.log("AuthService.addAuthToRequest(), using token from request config", t)) : (t = m.getToken(), u.log("AuthService.addAuthToRequest(), using token from user store", t)), t ? ("WATCH" === e.method ? (e.protocols = e.protocols || [], _.isArray(e.protocols) || (e.protocols = [ e.protocols ]), 0 == e.protocols.length && e.protocols.unshift("undefined"), e.protocols.unshift("base64url.bearer.authorization.k8s.io." + c.urlencode(t)), u.log("AuthService.addAuthToRequest(), added token protocol", e.protocols)) : (e.headers.Authorization = "Bearer " + t, u.log("AuthService.addAuthToRequest(), added token header", e.headers.Authorization)), !0) : (u.log("AuthService.addAuthToRequest(), no token available"), !1);
},
startLogin: function() {
if (f) return u.log("Login already in progress"), f;
var e = this;
return f = v.login().then(function(t) {
e.setUser(t.user, t.token, t.ttl), d.fire(t.user);
}).catch(function(e) {
l.error(e);
}).finally(function() {
f = null;
});
},
startLogout: function() {
if (g) return u.log("Logout already in progress"), g;
var e = this, t = m.getUser(), n = m.getToken(), i = this.isLoggedIn();
return g = y.logout(t, n).then(function() {
u.log("Logout service success");
}).catch(function(e) {
u.error("Logout service error", e);
}).finally(function() {
e.setUser(null, null);
var t = e.isLoggedIn();
i && !t && h.fire(), g = null;
});
},
onLogin: function(e) {
d.add(e);
},
onLogout: function(e) {
h.add(e);
},
onUserChanged: function(e) {
p.add(e);
}
};
} ];
}).factory("AuthInterceptor", [ "$q", "AuthService", function(e, t) {
var n = [];
return {
request: function(i) {
if (!t.requestRequiresAuth(i)) return i;
if (t.addAuthToRequest(i)) return i;
if (i.auth && !1 === i.auth.triggerLogin) return i;
var r = e.defer();
return n.push([ r, i, "request" ]), t.startLogin(), r.promise;
},
responseError: function(i) {
var r = i.config.auth || {};
if (!t.requestRequiresAuth(i.config)) return e.reject(i);
if (!1 === r.triggerLogin) return e.reject(i);
switch (i.status) {
case 401:
var o = e.defer();
return n.push([ o, i.config, "responseError" ]), t.startLogin(), o.promise;

default:
return e.reject(i);
}
}
};
} ]), angular.module("openshiftCommonServices").factory("AuthorizationService", [ "$q", "$cacheFactory", "Logger", "$interval", "APIService", "DataService", function(e, t, n, i, r, o) {
var a = null, s = t("rulesCache", {
number: 10
}), l = !1, c = [ "localresourceaccessreviews", "localsubjectaccessreviews", "resourceaccessreviews", "selfsubjectaccessreviews", "selfsubjectrulesreviews", "subjectaccessreviews" ], u = function(e) {
var t = {};
return _.each(e, function(e) {
_.each(e.apiGroups, function(n) {
t[n] || (t[n] = {}), _.each(e.resources, function(i) {
t[n][i] = e.verbs;
});
});
}), t;
}, d = function(e) {
return "projectrequests" !== e && !_.contains(e, "/") && !_.contains(c, e);
}, h = function(e) {
return _.some(e, function(e) {
return _.some(e.resources, function(t) {
return d(t) && !_.isEmpty(_.intersection(e.verbs, [ "*", "create", "update" ]));
});
});
}, p = function(e) {
return _.get(s.get(e || a), [ "rules" ]);
}, f = function(e, t, n, i) {
var r = e[n];
if (!r) return !1;
var o = r[i];
return !!o && (_.contains(o, t) || _.contains(o, "*"));
};
return {
checkResource: d,
getProjectRules: function(t, i) {
var c = e.defer();
a = t;
var d = s.get(t);
if (!d || d.forceRefresh || i) if (r.apiInfo("selfsubjectrulesreviews")) {
n.log("AuthorizationService, loading user rules for " + t + " project");
var p = {
kind: "SelfSubjectRulesReview",
apiVersion: "v1"
};
o.create("selfsubjectrulesreviews", null, p, {
namespace: t
}).then(function(e) {
var n = u(e.status.rules), i = h(e.status.rules);
s.put(t, {
rules: n,
canAddToProject: i,
forceRefresh: !1,
cacheTimestamp: _.now()
}), c.resolve();
}, function() {
l = !0, c.resolve();
});
} else n.log("AuthorizationService, resource 'selfsubjectrulesreviews' is not part of APIserver. Switching into permissive mode."), l = !0, c.resolve(); else n.log("AuthorizationService, using cached rules for " + t + " project"), _.now() - d.cacheTimestamp >= 6e5 && (d.forceRefresh = !0), c.resolve();
return c.promise;
},
canI: function(e, t, n) {
if (l) return !0;
var i = r.toResourceGroupVersion(e), o = p(n || a);
return !!o && (f(o, t, i.group, i.resource) || f(o, t, "*", "*") || f(o, t, i.group, "*") || f(o, t, "*", i.resource));
},
canIAddToProject: function(e) {
return !!l || !!_.get(s.get(e || a), [ "canAddToProject" ]);
},
getRulesForProject: p
};
} ]), angular.module("openshiftCommonServices").factory("base64util", function() {
return {
pad: function(e) {
if (!e) return "";
switch (e.length % 4) {
case 1:
return e + "===";

case 2:
return e + "==";

case 3:
return e + "=";

default:
return e;
}
}
};
}), angular.module("openshiftCommonServices").service("BindingService", [ "$filter", "$q", "AuthService", "DataService", "DNS1123_SUBDOMAIN_VALIDATION", function(e, t, n, i, r) {
var o = {
group: "servicecatalog.k8s.io",
resource: "bindings"
}, a = function(e, t) {
var n = _.get(e, "spec.serviceClassName");
return _.get(t, [ n ]);
}, s = function(e, t) {
var n = _.get(e, "spec.planName");
return _.find(t.plans, {
name: n
});
}, l = function(e, i) {
var r = s(e, i);
return _.has(r, [ "alphaBindingCreateParameterSchema", "properties", "template.openshift.io/requester-username" ]) ? n.withUser().then(function(e) {
return {
"template.openshift.io/requester-username": e.metadata.name
};
}) : t.when({});
}, c = e("generateName"), u = function(e, t, n) {
var i = e.metadata.name, o = c(_.trunc(i, r.maxlength - 6) + "-"), a = {
kind: "Binding",
apiVersion: "servicecatalog.k8s.io/v1alpha1",
metadata: {
generateName: i + "-"
},
spec: {
instanceRef: {
name: i
},
secretName: o
}
};
_.isEmpty(n) || (a.spec.parameters = n);
var s = _.get(t, "spec.selector");
return s && (s.matchLabels || s.matchExpressions || (s = {
matchLabels: s
}), a.spec.alphaPodPresetTemplate = {
name: o,
selector: s
}), a;
};
return {
bindingResource: o,
getServiceClassForInstance: a,
bindService: function(e, t, n) {
return l(e, n).then(function(n) {
var r = u(e, t, n), a = {
namespace: e.metadata.namespace
};
return i.create(o, null, r, a);
});
},
isServiceBindable: function(e, t) {
var n = a(e, t);
if (!n) return !!e;
var i = s(e, n), r = _.get(i, "bindable");
return !0 === r || !1 !== r && n.bindable;
}
};
} ]), angular.module("openshiftCommonServices").factory("Constants", function() {
var e = _.clone(window.OPENSHIFT_CONSTANTS || {}), t = _.clone(window.OPENSHIFT_VERSION || {});
return e.VERSION = t, e;
}), angular.module("openshiftCommonServices").factory("DataService", [ "$cacheFactory", "$http", "$ws", "$rootScope", "$q", "API_CFG", "APIService", "Logger", "$timeout", "base64", "base64util", function(e, t, n, i, r, o, a, s, l, c, u) {
function d(e) {
this._data = {}, this._objectsByAttribute(e, "metadata.name", this._data);
}
function h(e, t, n, i) {
for (var r = t.split("."), o = e, a = 0; a < r.length; a++) if (void 0 === (o = o[r[a]])) return;
if ($.isArray(o)) ; else if ($.isPlainObject(o)) for (var s in o) {
var l = o[s];
n[s] || (n[s] = {}), "DELETED" === i ? delete n[s][l] : n[s][l] = e;
} else "DELETED" === i ? delete n[o] : n[o] = e;
}
function p() {
this._listDeferredMap = {}, this._watchCallbacksMap = {}, this._watchObjectCallbacksMap = {}, this._watchOperationMap = {}, this._listOperationMap = {}, this._resourceVersionMap = {}, this._dataCache = e("dataCache", {
number: 25
}), this._immutableDataCache = e("immutableDataCache", {
number: 50
}), this._watchOptionsMap = {}, this._watchWebsocketsMap = {}, this._watchPollTimeoutsMap = {}, this._websocketEventsMap = {};
var t = this;
i.$on("$routeChangeStart", function(e, n, i) {
t._websocketEventsMap = {};
});
}
function f(e) {
return e.length >= m && Date.now() - e[0].time < 3e4;
}
function g(e) {
if (e.length < 5) return !1;
for (var t = e.length - 5; t < e.length; t++) if ("close" !== e[t].type) return !1;
return !0;
}
d.prototype.by = function(e) {
if ("metadata.name" === e) return this._data;
var t = {};
for (var n in this._data) h(this._data[n], e, t, null);
return t;
}, d.prototype.update = function(e, t) {
h(e, "metadata.name", this._data, t);
}, d.prototype._objectsByAttribute = function(e, t, n, i) {
angular.forEach(e, function(e, r) {
h(e, t, n, i ? i[r] : null);
});
}, p.prototype.list = function(e, t, n, i) {
e = a.toResourceGroupVersion(e);
var r = this._uniqueKey(e, null, t, _.get(i, "http.params")), o = this._listDeferred(r);
return n && o.promise.then(n), this._isCached(r) ? o.resolve(this._data(r)) : this._listInFlight(r) || this._startListOp(e, t, i), o.promise;
}, p.prototype.delete = function(e, n, i, o) {
e = a.toResourceGroupVersion(e), o = o || {};
var s = r.defer(), l = this, c = {}, u = {
kind: "DeleteOptions",
apiVersion: "v1"
};
_.has(o, "propagationPolicy") ? u.propagationPolicy = o.propagationPolicy : u.propagationPolicy = "Foreground";
c = {
"Content-Type": "application/json"
};
return _.has(o, "gracePeriodSeconds") && (u.gracePeriodSeconds = o.gracePeriodSeconds), this._getNamespace(e, i, o).then(function(r) {
t(angular.extend({
method: "DELETE",
auth: {},
data: u,
headers: c,
url: l._urlForResource(e, n, i, !1, r)
}, o.http || {})).success(function(e, t, n, i, r) {
s.resolve(e);
}).error(function(e, t, n, i) {
s.reject({
data: e,
status: t,
headers: n,
config: i
});
});
}), s.promise;
}, p.prototype.update = function(e, n, i, o, s) {
e = a.deriveTargetResource(e, i), s = s || {};
var l = r.defer(), c = this;
return this._getNamespace(e, o, s).then(function(r) {
t(angular.extend({
method: "PUT",
auth: {},
data: i,
url: c._urlForResource(e, n, o, !1, r)
}, s.http || {})).success(function(e, t, n, i, r) {
l.resolve(e);
}).error(function(e, t, n, i) {
l.reject({
data: e,
status: t,
headers: n,
config: i
});
});
}), l.promise;
}, p.prototype.create = function(e, n, i, o, s) {
e = a.deriveTargetResource(e, i), s = s || {};
var l = r.defer(), c = this;
return this._getNamespace(e, o, s).then(function(r) {
t(angular.extend({
method: "POST",
auth: {},
data: i,
url: c._urlForResource(e, n, o, !1, r)
}, s.http || {})).success(function(e, t, n, i, r) {
l.resolve(e);
}).error(function(e, t, n, i) {
l.reject({
data: e,
status: t,
headers: n,
config: i
});
});
}), l.promise;
}, p.prototype.batch = function(e, t, n, i) {
function o() {
0 === d && s.resolve({
success: l,
failure: c
});
}
var s = r.defer(), l = [], c = [], u = this, d = e.length;
return n = n || "create", _.each(e, function(e) {
var r = a.objectToResourceGroupVersion(e);
if (!r) return c.push({
object: e,
data: {
message: a.invalidObjectKindOrVersion(e)
}
}), d--, void o();
if (!a.apiInfo(r)) return c.push({
object: e,
data: {
message: a.unsupportedObjectKindOrVersion(e)
}
}), d--, void o();
var h = function(t) {
t.object = e, l.push(t), d--, o();
}, p = function(t) {
t.object = e, c.push(t), d--, o();
};
switch (n) {
case "create":
u.create(r, null, e, t, i).then(h, p);
break;

case "update":
u.update(r, e.metadata.name, e, t, i).then(h, p);
break;

default:
return s.reject({
data: "Invalid '" + n + "'  action.",
status: 400,
headers: function() {
return null;
},
config: {},
object: e
});
}
}), s.promise;
}, p.prototype.get = function(e, n, o, s) {
e = a.toResourceGroupVersion(e), s = s || {};
var c = this._uniqueKey(e, n, o, _.get(s, "http.params"));
s.force;
delete s.force;
var u = r.defer(), d = this._immutableData(c);
if (this._hasImmutable(e, d, n)) l(function() {
u.resolve(d.by("metadata.name")[n]);
}, 0); else {
var h = this;
this._getNamespace(e, o, s).then(function(r) {
t(angular.extend({
method: "GET",
auth: {},
url: h._urlForResource(e, n, o, !1, r)
}, s.http || {})).success(function(t, n, i, r, o) {
h._isImmutable(e) && (d ? d.update(t, "ADDED") : h._immutableData(c, [ t ])), u.resolve(t);
}).error(function(t, r, o, a) {
if (!1 !== s.errorNotification) {
var l = "Failed to get " + e + "/" + n;
0 !== r && (l += " (" + r + ")"), i.$emit("NotificationsService.addNotification", {
type: "error",
message: l
});
}
u.reject({
data: t,
status: r,
headers: o,
config: a
});
});
});
}
return u.promise;
}, p.prototype.createStream = function(e, t, i, r, o) {
var l = this;
e = a.toResourceGroupVersion(e);
var d, h = o ? "binary.k8s.io" : "base64.binary.k8s.io", p = {}, f = {}, g = {}, m = {}, v = function() {
return l._getNamespace(e, i, {}).then(function(a) {
var d = 0;
return n({
url: l._urlForResource(e, t, i, !0, _.extend(a, r)),
auth: {},
onopen: function(e) {
_.each(p, function(t) {
t(e);
});
},
onmessage: function(e) {
if (_.isString(e.data)) {
var t;
o || (t = c.decode(u.pad(e.data)), d += t.length), _.each(f, function(n) {
o ? n(e.data) : n(t, e.data, d);
});
} else s.log("log stream response is not a string", e.data);
},
onclose: function(e) {
_.each(g, function(t) {
t(e);
});
},
onerror: function(e) {
_.each(m, function(t) {
t(e);
});
},
protocols: h
}).then(function(e) {
return s.log("Streaming pod log", e), e;
});
});
};
return {
onOpen: function(e) {
if (_.isFunction(e)) {
var t = _.uniqueId("stream_");
return p[t] = e, t;
}
},
onMessage: function(e) {
if (_.isFunction(e)) {
var t = _.uniqueId("stream_");
return f[t] = e, t;
}
},
onClose: function(e) {
if (_.isFunction(e)) {
var t = _.uniqueId("stream_");
return g[t] = e, t;
}
},
onError: function(e) {
if (_.isFunction(e)) {
var t = _.uniqueId("stream_");
return m[t] = e, t;
}
},
remove: function(e) {
p[e] && delete p[e], f[e] && delete f[e], g[e] && delete g[e], m[e] && delete m[e];
},
start: function() {
return d = v();
},
stop: function() {
d.then(function(e) {
e.close();
});
}
};
}, p.prototype.watch = function(e, t, n, i) {
e = a.toResourceGroupVersion(e), i = i || {};
var r = this._uniqueKey(e, null, t, _.get(i, "http.params"));
if (n) this._watchCallbacks(r).add(n); else if (!this._watchCallbacks(r).has()) return {};
var o = this._watchOptions(r);
if (o) {
if (!!o.poll != !!i.poll) throw "A watch already exists for " + e + " with a different polling option.";
} else this._watchOptions(r, i);
var s = this;
if (this._isCached(r)) n && l(function() {
n(s._data(r));
}, 0); else {
if (n) {
var c = this._resourceVersion(r);
this._data(r) && l(function() {
c === s._resourceVersion(r) && n(s._data(r));
}, 0);
}
this._listInFlight(r) || this._startListOp(e, t, i);
}
return {
resource: e,
context: t,
callback: n,
opts: i
};
}, p.prototype.watchObject = function(e, t, n, i, r) {
e = a.toResourceGroupVersion(e), r = r || {};
var o, s = this._uniqueKey(e, t, n, _.get(r, "http.params"));
if (i) {
this._watchObjectCallbacks(s).add(i);
var l = this;
o = function(e, n, i) {
if (i && i.metadata.name === t) l._watchObjectCallbacks(s).fire(i, n); else if (!i) {
var r = e.by("metadata.name");
r[t] && l._watchObjectCallbacks(s).fire(r[t]);
}
};
} else if (!this._watchObjectCallbacks(s).has()) return {};
var c = this.watch(e, n, o, r);
return c.objectCallback = i, c.objectName = t, c;
}, p.prototype.unwatch = function(e) {
var t = e.resource, n = e.objectName, i = e.context, r = e.callback, o = e.objectCallback, a = e.opts, s = this._uniqueKey(t, null, i, _.get(a, "http.params"));
if (o && n) {
var l = this._uniqueKey(t, n, i, _.get(a, "http.params"));
this._watchObjectCallbacks(l).remove(o);
}
var c = this._watchCallbacks(s);
if (r && c.remove(r), !c.has()) {
if (a && a.poll) clearTimeout(this._watchPollTimeouts(s)), this._watchPollTimeouts(s, null); else if (this._watchWebsockets(s)) {
var u = this._watchWebsockets(s);
u.shouldClose = !0, u.close(), this._watchWebsockets(s, null);
}
this._watchInFlight(s, !1), this._watchOptions(s, null);
}
}, p.prototype.unwatchAll = function(e) {
for (var t = 0; t < e.length; t++) this.unwatch(e[t]);
}, p.prototype._watchCallbacks = function(e) {
return this._watchCallbacksMap[e] || (this._watchCallbacksMap[e] = $.Callbacks()), this._watchCallbacksMap[e];
}, p.prototype._watchObjectCallbacks = function(e) {
return this._watchObjectCallbacksMap[e] || (this._watchObjectCallbacksMap[e] = $.Callbacks()), this._watchObjectCallbacksMap[e];
}, p.prototype._listDeferred = function(e) {
return this._listDeferredMap[e] || (this._listDeferredMap[e] = r.defer()), this._listDeferredMap[e];
}, p.prototype._watchInFlight = function(e, t) {
if (!t && !1 !== t) return this._watchOperationMap[e];
this._watchOperationMap[e] = t;
}, p.prototype._listInFlight = function(e, t) {
if (!t && !1 !== t) return this._listOperationMap[e];
this._listOperationMap[e] = t;
}, p.prototype._resourceVersion = function(e, t) {
if (!t) return this._resourceVersionMap[e];
this._resourceVersionMap[e] = t;
}, p.prototype._data = function(e, t) {
return t ? this._dataCache.put(e, new d(t)) : this._dataCache.get(e);
}, p.prototype._immutableData = function(e, t) {
return t ? this._immutableDataCache.put(e, new d(t)) : this._immutableDataCache.get(e);
}, p.prototype._isCached = function(e) {
return this._watchInFlight(e) && this._resourceVersion(e) && !!this._data(e);
}, p.prototype._watchOptions = function(e, t) {
if (void 0 === t) return this._watchOptionsMap[e];
this._watchOptionsMap[e] = t;
}, p.prototype._watchPollTimeouts = function(e, t) {
if (!t) return this._watchPollTimeoutsMap[e];
this._watchPollTimeoutsMap[e] = t;
}, p.prototype._watchWebsockets = function(e, t) {
if (!t) return this._watchWebsocketsMap[e];
this._watchWebsocketsMap[e] = t;
};
var m = 10;
p.prototype._addWebsocketEvent = function(e, t) {
var n = this._websocketEventsMap[e];
for (n || (n = this._websocketEventsMap[e] = []), n.push({
type: t,
time: Date.now()
}); n.length > m; ) n.shift();
}, p.prototype._isTooManyWebsocketRetries = function(e) {
var t = this._websocketEventsMap[e];
return !!t && (f(t) ? (s.log("Too many websocket open or close events for resource/context in a short period", e, t), !0) : !!g(t) && (s.log("Too many consecutive websocket close events for resource/context", e, t), !0));
};
var v = function(e) {
var t = _.keysIn(_.pick(e, [ "fieldSelector", "labelSelector" ])).sort();
return _.reduce(t, function(n, i, r) {
return n + i + "=" + encodeURIComponent(e[i]) + (r < t.length - 1 ? "&" : "");
}, "?");
};
p.prototype._uniqueKey = function(e, t, n, i) {
var r = n && n.namespace || _.get(n, "project.metadata.name") || n.projectName;
return this._urlForResource(e, t, n, null, angular.extend({}, {}, {
namespace: r
})).toString() + v(i || {});
}, p.prototype._startListOp = function(e, n, r) {
r = r || {};
var o = this._uniqueKey(e, null, n, _.get(r, "http.params"));
this._listInFlight(o, !0);
var a = this;
n.projectPromise && !e.equals("projects") ? n.projectPromise.done(function(s) {
t(angular.extend({
method: "GET",
auth: {},
url: a._urlForResource(e, null, n, !1, {
namespace: s.metadata.name
})
}, r.http || {})).success(function(t, i, s, l, c) {
a._listOpComplete(o, e, n, r, t);
}).error(function(t, n, s, l) {
a._listInFlight(o, !1);
var c = a._listDeferred(o);
if (delete a._listDeferredMap[o], c.reject(t, n, s, l), _.get(r, "errorNotification", !0)) {
var u = "Failed to list " + e;
0 !== n && (u += " (" + n + ")"), i.$emit("NotificationsService.addNotification", {
type: "error",
message: u
});
}
});
}) : t({
method: "GET",
auth: {},
url: this._urlForResource(e, null, n)
}).success(function(t, i, s, l, c) {
a._listOpComplete(o, e, n, r, t);
}).error(function(t, n, s, l) {
a._listInFlight(o, !1);
var c = a._listDeferred(o);
if (delete a._listDeferredMap[o], c.reject(t, n, s, l), _.get(r, "errorNotification", !0)) {
var u = "Failed to list " + e;
0 !== n && (u += " (" + n + ")"), i.$emit("NotificationsService.addNotification", {
type: "error",
message: u
});
}
});
}, p.prototype._listOpComplete = function(e, t, n, i, r) {
r.items || console.warn("List request for " + t + " returned a null items array.  This is an invalid API response.");
var o = r.items || [];
r.kind && r.kind.indexOf("List") === r.kind.length - 4 && angular.forEach(o, function(e) {
e.kind || (e.kind = r.kind.slice(0, -4)), e.apiVersion || (e.apiVersion = r.apiVersion);
}), this._listInFlight(e, !1);
var a = this._listDeferred(e);
if (delete this._listDeferredMap[e], this._resourceVersion(e, r.resourceVersion || r.metadata.resourceVersion), this._data(e, o), a.resolve(this._data(e)), this._watchCallbacks(e).fire(this._data(e)), this._watchCallbacks(e).has()) {
var s = this._watchOptions(e) || {};
s.poll ? (this._watchInFlight(e, !0), this._watchPollTimeouts(e, setTimeout($.proxy(this, "_startListOp", t, n), s.pollInterval || 5e3))) : this._watchInFlight(e) || this._startWatchOp(e, t, n, i, this._resourceVersion(e));
}
}, p.prototype._startWatchOp = function(e, t, i, r, o) {
if (this._watchInFlight(e, !0), n.available()) {
var a = this, l = _.get(r, "http.params") || {};
l.watch = !0, o && (l.resourceVersion = o), i.projectPromise && !t.equals("projects") ? i.projectPromise.done(function(o) {
l.namespace = o.metadata.name, n({
method: "WATCH",
url: a._urlForResource(t, null, i, !0, l),
auth: {},
onclose: $.proxy(a, "_watchOpOnClose", t, i, r),
onmessage: $.proxy(a, "_watchOpOnMessage", t, i, r),
onopen: $.proxy(a, "_watchOpOnOpen", t, i, r)
}).then(function(t) {
s.log("Watching", t), a._watchWebsockets(e, t);
});
}) : n({
method: "WATCH",
url: a._urlForResource(t, null, i, !0, l),
auth: {},
onclose: $.proxy(a, "_watchOpOnClose", t, i, r),
onmessage: $.proxy(a, "_watchOpOnMessage", t, i, r),
onopen: $.proxy(a, "_watchOpOnOpen", t, i, r)
}).then(function(t) {
s.log("Watching", t), a._watchWebsockets(e, t);
});
}
}, p.prototype._watchOpOnOpen = function(e, t, n, i) {
s.log("Websocket opened for resource/context", e, t);
var r = this._uniqueKey(e, null, t, _.get(n, "http.params"));
this._addWebsocketEvent(r, "open");
}, p.prototype._watchOpOnMessage = function(e, t, n, i) {
var r = this._uniqueKey(e, null, t, _.get(n, "http.params"));
try {
var o = $.parseJSON(i.data);
if ("ERROR" == o.type) return s.log("Watch window expired for resource/context", e, t), void (i.target && (i.target.shouldRelist = !0));
"DELETED" === o.type && o.object && o.object.metadata && !o.object.metadata.deletionTimestamp && (o.object.metadata.deletionTimestamp = new Date().toISOString()), o.object && this._resourceVersion(r, o.object.resourceVersion || o.object.metadata.resourceVersion), this._data(r).update(o.object, o.type);
var a = this;
l(function() {
a._watchCallbacks(r).fire(a._data(r), o.type, o.object);
}, 0);
} catch (t) {
s.error("Error processing message", e, i.data);
}
}, p.prototype._watchOpOnClose = function(e, t, n, r) {
var o = r.target, a = this._uniqueKey(e, null, t, _.get(n, "http.params"));
if (o) {
var l = this._watchWebsockets(a);
if (l) if (o === l) if (this._watchInFlight(a, !1), o.shouldClose) s.log("Skipping reopen, eventWS was explicitly closed", o); else if (r.wasClean) s.log("Skipping reopen, clean close", r); else if (this._watchCallbacks(a).has()) if (this._isTooManyWebsocketRetries(a)) _.get(n, "errorNotification", !0) && i.$emit("NotificationsService.addNotification", {
id: "websocket_retry_halted",
type: "error",
message: "Server connection interrupted.",
links: [ {
label: "Refresh",
onClick: function() {
window.location.reload();
}
} ]
}); else if (this._addWebsocketEvent(a, "close"), o.shouldRelist) {
s.log("Relisting for resource/context", e, t);
var c = this;
setTimeout(function() {
c.watch(e, t);
}, 2e3);
} else s.log("Rewatching for resource/context", e, t), this._watchInFlight(a, !0), setTimeout($.proxy(this, "_startWatchOp", a, e, t, n, this._resourceVersion(a)), 2e3); else s.log("Skipping reopen, no listeners registered for resource/context", e, t); else s.log("Skipping reopen, eventWS does not match registeredWS", o, l); else s.log("Skipping reopen, no registeredWS for resource/context", e, t);
} else s.log("Skipping reopen, no eventWS in event", r);
};
p.prototype._urlForResource = function(e, t, n, i, r) {
var o = a.apiInfo(e);
if (!o) return s.error("_urlForResource called with unknown resource", e, arguments), null;
var l, c = o.protocol || window.location.protocol;
if (r = r || {}, l = i ? "http:" === c ? "ws" : "wss" : "http:" === c ? "http" : "https", n && n.namespace && !r.namespace && (r.namespace = n.namespace), o.namespaced && !r.namespace) return s.error("_urlForResource called for a namespaced resource but no namespace provided", e, arguments), null;
var u = o.namespaced, d = null;
u && (d = r.namespace, delete (r = angular.copy(r)).namespace);
var h, p = {
protocol: l,
hostPort: o.hostPort,
prefix: o.prefix,
group: o.group,
version: o.version,
resource: e.primaryResource(),
subresource: e.subresources(),
name: t,
namespace: d,
q: r
};
return h = t ? u ? "{protocol}://{+hostPort}{+prefix}{/group}/{version}/namespaces/{namespace}/{resource}/{name}{/subresource*}{?q*}" : "{protocol}://{+hostPort}{+prefix}{/group}/{version}/{resource}/{name}{/subresource*}{?q*}" : u ? "{protocol}://{+hostPort}{+prefix}{/group}/{version}/namespaces/{namespace}/{resource}{?q*}" : "{protocol}://{+hostPort}{+prefix}{/group}/{version}/{resource}{?q*}", URI.expand(h, p).toString();
}, p.prototype.url = function(e) {
if (e && e.resource) {
var t = angular.copy(e);
delete t.resource, delete t.group, delete t.version, delete t.name, delete t.isWebsocket;
var n = a.toResourceGroupVersion({
resource: e.resource,
group: e.group,
version: e.version
});
return this._urlForResource(n, e.name, null, !!e.isWebsocket, t);
}
return null;
}, p.prototype.openshiftAPIBaseUrl = function() {
var e = "http:" === window.location.protocol ? "http" : "https", t = o.openshift.hostPort;
return new URI({
protocol: e,
hostname: t
}).toString();
};
var y = {
imagestreamimages: !0
};
return p.prototype._isImmutable = function(e) {
return !!y[e.resource];
}, p.prototype._hasImmutable = function(e, t, n) {
return this._isImmutable(e) && t && t.by("metadata.name")[n];
}, p.prototype._getNamespace = function(e, t, n) {
var i = r.defer();
return n.namespace ? i.resolve({
namespace: n.namespace
}) : t.projectPromise && !e.equals("projects") ? t.projectPromise.done(function(e) {
i.resolve({
namespace: e.metadata.name
});
}) : i.resolve(null), i.promise;
}, new p();
} ]), angular.module("openshiftCommonServices").provider("DeleteTokenLogoutService", function() {
this.$get = [ "$q", "$injector", "Logger", function(e, t, n) {
var i = n.get("auth");
return {
logout: function(n, r) {
if (i.log("DeleteTokenLogoutService.logout()", n, r), !r) return i.log("DeleteTokenLogoutService, no token, returning immediately"), e.when({});
var o = {
http: {
auth: {
token: r,
triggerLogin: !1
}
}
};
return t.get("DataService").delete("oauthaccesstokens", r, {}, o);
}
};
} ];
}), angular.module("openshiftCommonServices").service("KeywordService", function() {
return {
filterForKeywords: function(e, t, n) {
var i = e;
return _.isEmpty(n) ? i : (angular.forEach(n, function(e) {
i = _.filter(i, function(n) {
var i;
for (i = 0; i < t.length; i++) {
var r = _.get(n, t[i]);
if (r && e.test(r)) return !0;
}
return !1;
});
}), i);
},
generateKeywords: function(e) {
if (!e) return [];
var t = _.uniq(e.match(/\S+/g));
return t.sort(function(e, t) {
return t.length - e.length;
}), _.map(t, function(e) {
return new RegExp(_.escapeRegExp(e), "i");
});
}
};
}), angular.module("openshiftCommonServices").provider("Logger", function() {
this.$get = function() {
var e = Logger.get("OpenShift"), t = {
get: function(e) {
var t = Logger.get("OpenShift/" + e), n = "OFF";
return localStorage && (n = localStorage["OpenShiftLogLevel." + e] || n), t.setLevel(Logger[n]), t;
},
log: function() {
e.log.apply(e, arguments);
},
info: function() {
e.info.apply(e, arguments);
},
debug: function() {
e.debug.apply(e, arguments);
},
warn: function() {
e.warn.apply(e, arguments);
},
error: function() {
e.error.apply(e, arguments);
}
}, n = "ERROR";
return localStorage && (n = localStorage["OpenShiftLogLevel.main"] || n), e.setLevel(Logger[n]), t;
};
}), angular.module("openshiftCommonServices").provider("MemoryUserStore", function() {
this.$get = [ "Logger", function(e) {
var t = e.get("auth"), n = null, i = null;
return {
available: function() {
return !0;
},
getUser: function() {
return t.log("MemoryUserStore.getUser", n), n;
},
setUser: function(e, i) {
t.log("MemoryUserStore.setUser", e), n = e;
},
getToken: function() {
return t.log("MemoryUserStore.getToken", i), i;
},
setToken: function(e, n) {
t.log("MemoryUserStore.setToken", e), i = e;
}
};
} ];
}).provider("SessionStorageUserStore", function() {
this.$get = [ "Logger", function(e) {
var t = e.get("auth"), n = "SessionStorageUserStore.user", i = "SessionStorageUserStore.token";
return {
available: function() {
try {
var e = String(new Date().getTime());
sessionStorage["SessionStorageUserStore.test"] = e;
var t = sessionStorage["SessionStorageUserStore.test"];
return sessionStorage.removeItem("SessionStorageUserStore.test"), e === t;
} catch (e) {
return !1;
}
},
getUser: function() {
try {
var e = JSON.parse(sessionStorage[n]);
return t.log("SessionStorageUserStore.getUser", e), e;
} catch (e) {
return t.error("SessionStorageUserStore.getUser", e), null;
}
},
setUser: function(e, i) {
e ? (t.log("SessionStorageUserStore.setUser", e), sessionStorage[n] = JSON.stringify(e)) : (t.log("SessionStorageUserStore.setUser", e, "deleting"), sessionStorage.removeItem(n));
},
getToken: function() {
try {
var e = sessionStorage[i];
return t.log("SessionStorageUserStore.getToken", e), e;
} catch (e) {
return t.error("SessionStorageUserStore.getToken", e), null;
}
},
setToken: function(e, n) {
e ? (t.log("SessionStorageUserStore.setToken", e), sessionStorage[i] = e) : (t.log("SessionStorageUserStore.setToken", e, "deleting"), sessionStorage.removeItem(i));
}
};
} ];
}).provider("LocalStorageUserStore", function() {
this.$get = [ "Logger", function(e) {
var t = e.get("auth"), n = "LocalStorageUserStore.user", i = "LocalStorageUserStore.token", r = function(e) {
return e + ".ttl";
}, o = function(e, n) {
if (n) {
var i = new Date().getTime() + 1e3 * n;
localStorage[r(e)] = i, t.log("LocalStorageUserStore.setTTL", e, n, new Date(i).toString());
} else localStorage.removeItem(r(e)), t.log("LocalStorageUserStore.setTTL deleting", e);
}, a = function(e) {
var n = localStorage[r(e)];
if (!n) return !1;
var i = parseInt(n) < new Date().getTime();
return t.log("LocalStorageUserStore.isTTLExpired", e, i), i;
};
return {
available: function() {
try {
var e = String(new Date().getTime());
localStorage["LocalStorageUserStore.test"] = e;
var t = localStorage["LocalStorageUserStore.test"];
return localStorage.removeItem("LocalStorageUserStore.test"), e === t;
} catch (e) {
return !1;
}
},
getUser: function() {
try {
if (a(n)) return t.log("LocalStorageUserStore.getUser expired"), localStorage.removeItem(n), o(n, null), null;
var e = JSON.parse(localStorage[n]);
return t.log("LocalStorageUserStore.getUser", e), e;
} catch (e) {
return t.error("LocalStorageUserStore.getUser", e), null;
}
},
setUser: function(e, i) {
e ? (t.log("LocalStorageUserStore.setUser", e, i), localStorage[n] = JSON.stringify(e), o(n, i)) : (t.log("LocalStorageUserStore.setUser", e, "deleting"), localStorage.removeItem(n), o(n, null));
},
getToken: function() {
try {
if (a(i)) return t.log("LocalStorageUserStore.getToken expired"), localStorage.removeItem(i), o(i, null), null;
var e = localStorage[i];
return t.log("LocalStorageUserStore.getToken", e), e;
} catch (e) {
return t.error("LocalStorageUserStore.getToken", e), null;
}
},
setToken: function(e, n) {
e ? (t.log("LocalStorageUserStore.setToken", e, n), localStorage[i] = e, o(i, n)) : (t.log("LocalStorageUserStore.setToken", e, n, "deleting"), localStorage.removeItem(i), o(i, null));
}
};
} ];
}), angular.module("openshiftCommonServices").factory("ProjectsService", [ "$location", "$q", "AuthService", "DataService", "annotationNameFilter", "AuthorizationService", function(e, t, n, i, r, o) {
var a = function(e) {
var t = [ r("description"), r("displayName") ];
return _.each(t, function(t) {
e.metadata.annotations[t] || delete e.metadata.annotations[t];
}), e;
};
return {
get: function(r) {
return n.withUser().then(function() {
var n = {
projectPromise: $.Deferred(),
projectName: r,
project: void 0
};
return i.get("projects", r, n, {
errorNotification: !1
}).then(function(e) {
return o.getProjectRules(r).then(function() {
return n.project = e, n.projectPromise.resolve(e), [ e, n ];
});
}, function(i) {
n.projectPromise.reject(i);
var r = "The project could not be loaded.", o = "error";
return 403 === i.status ? (r = "The project " + n.projectName + " does not exist or you are not authorized to view it.", o = "access_denied") : 404 === i.status && (r = "The project " + n.projectName + " does not exist.", o = "not_found"), e.url(URI("error").query({
error: o,
error_description: r
}).toString()), t.reject();
});
});
},
update: function(e, t) {
return i.update("projects", e, a(t), {
projectName: e
}, {
errorNotification: !1
});
},
canCreate: function() {
return i.get("projectrequests", null, {}, {
errorNotification: !1
});
}
};
} ]), angular.module("openshiftCommonServices").provider("RedirectLoginService", function() {
var e = "", t = "", n = "", i = "";
this.OAuthClientID = function(t) {
return t && (e = t), e;
}, this.OAuthAuthorizeURI = function(e) {
return e && (t = e), t;
}, this.OAuthTokenURI = function(e) {
return e && (n = e), n;
}, this.OAuthRedirectURI = function(e) {
return e && (i = e), i;
}, this.$get = [ "$injector", "$location", "$q", "Logger", "base64", function(r, o, a, s, l) {
var c = s.get("auth"), u = function(e) {
var t;
if (window.crypto && window.Uint32Array) try {
var n = new Uint32Array(e);
window.crypto.getRandomValues(n), t = [];
for (var i = 0; i < e; i++) t.push(n[i]);
} catch (e) {
c.debug("RedirectLoginService.getRandomInts: ", e), t = null;
}
if (!t) {
t = [];
for (var r = 0; r < e; r++) t.push(Math.floor(4294967296 * Math.random()));
}
return t;
}, d = "RedirectLoginService.nonce", h = function(e) {
var t = String(new Date().getTime()) + "-" + u(8).join("");
try {
window.localStorage[d] = t;
} catch (e) {
c.log("RedirectLoginService.makeState, localStorage error: ", e);
}
return l.urlencode(JSON.stringify({
then: e,
nonce: t
}));
}, p = function(e) {
var t = {
then: null,
verified: !1
}, n = "";
try {
n = window.localStorage[d], window.localStorage.removeItem(d);
} catch (e) {
c.log("RedirectLoginService.parseState, localStorage error: ", e);
}
try {
var i = e ? JSON.parse(l.urldecode(e)) : {};
i && i.nonce && n && i.nonce === n && (t.verified = !0, t.then = i.then);
} catch (e) {
c.error("RedirectLoginService.parseState, state error: ", e);
}
return c.error("RedirectLoginService.parseState", t), t;
};
return {
login: function() {
if ("" === e) return a.reject({
error: "invalid_request",
error_description: "RedirectLoginServiceProvider.OAuthClientID() not set"
});
if ("" === t) return a.reject({
error: "invalid_request",
error_description: "RedirectLoginServiceProvider.OAuthAuthorizeURI() not set"
});
if ("" === i) return a.reject({
error: "invalid_request",
error_description: "RedirectLoginServiceProvider.OAuthRedirectURI not set"
});
var r = new URI(o.url()).fragment(""), s = {
client_id: e,
response_type: "token",
state: h(r.toString()),
redirect_uri: i
};
n && (s.response_type = "code");
var l = a.defer(), u = new URI(t);
return u.query(s), c.log("RedirectLoginService.login(), redirecting", u.toString()), window.location.href = u.toString(), l.promise;
},
finish: function() {
var t = r.get("$http"), s = function(e, t) {
return e.error ? (c.log("RedirectLoginService.finish(), error", e.error, e.error_description, e.error_uri), a.reject({
error: e.error,
error_description: e.error_description,
error_uri: e.error_uri
})) : e.access_token ? a.when({
token: e.access_token,
ttl: e.expires_in,
then: t.then,
verified: t.verified
}) : a.reject({
error: "invalid_request",
error_description: "No API token returned"
});
}, l = new URI(o.url()), u = l.query(!0), d = new URI("?" + l.fragment()).query(!0);
if (c.log("RedirectLoginService.finish()", u, d), u.error) return s(u, p(u.state));
if (d.error) return s(d, p(d.state));
if (d.access_token) return s(d, p(d.state));
if (n && u.code) {
var h = p(u.state);
if (!h.verified) return a.reject({
error: "invalid_request",
error_description: "Client state could not be verified"
});
var f = [ "grant_type=authorization_code", "code=" + encodeURIComponent(u.code), "redirect_uri=" + encodeURIComponent(i), "client_id=" + encodeURIComponent(e) ].join("&");
return t({
method: "POST",
url: n,
headers: {
Authorization: "Basic " + window.btoa(e + ":"),
"Content-Type": "application/x-www-form-urlencoded"
},
data: f
}).then(function(e) {
return s(e.data, h);
}, function(e) {
return c.log("RedirectLoginService.finish(), error getting access token", e), s(e.data, h);
});
}
return a.reject({
error: "invalid_request",
error_description: "No API token returned"
});
}
};
} ];
}), angular.module("openshiftCommonServices").provider("$ws", [ "$httpProvider", function(e) {
this.$get = [ "$q", "$injector", "Logger", function(t, n, i) {
var r = i.get("auth");
r.log("$wsProvider.$get", arguments);
var o = [];
angular.forEach(e.interceptors, function(e) {
angular.isString(e) ? o.unshift(n.get(e)) : o.unshift(n.invoke(e));
});
var a = function(e) {
e.method = angular.uppercase(e.method || "WATCH"), r.log("$ws (pre-intercept)", e.url.toString());
var n = [ function(e) {
r.log("$ws (post-intercept)", e.url.toString());
var t = new WebSocket(e.url, e.protocols);
return e.onclose && (t.onclose = e.onclose), e.onmessage && (t.onmessage = e.onmessage), e.onopen && (t.onopen = e.onopen), e.onerror && (t.onerror = e.onerror), t;
}, void 0 ], i = t.when(e);
for (angular.forEach(o, function(e) {
(e.request || e.requestError) && n.unshift(e.request, e.requestError);
}); n.length; ) {
var a = n.shift(), s = n.shift();
i = i.then(a, s);
}
return i;
};
return a.available = function() {
try {
return !!WebSocket;
} catch (e) {
return !1;
}
}, a;
} ];
} ]), angular.module("openshiftCommonUI").factory("GuidedTourService", function() {
function e() {
$("#guided_tour_backdrop").click(u);
}
function t() {
$("#guided_tour_backdrop").remove(), angular.isFunction(l.onTourEndCB) && l.onTourEndCB();
}
function n() {
_.forEach(l.steps, function(e) {
e.onNextOrig = e.onNext, e.onPrevOrig = e.onPrev, e.onNext = i, e.onPrev = r, e.fixedElement = !0, !angular.isUndefined(e.yOffset) || "right" !== e.placement && "left" !== e.placement || (e.yOffset = -45), e.title = _.isFunction(e.title) ? e.title() : e.title, e.content = _.isFunction(e.content) ? e.content() : e.content, e.target = _.isFunction(e.target) ? e.target() : e.target, e.placement = _.isFunction(e.placement) ? e.placement() : e.placement;
});
}
function i() {
var e = hopscotch.getCurrStepNum() - 1, t = l.steps[e];
t && (t.onNextOrig && t.onNextOrig(), o(e + 1));
}
function r() {
var e = hopscotch.getCurrStepNum() + 1, t = l.steps[e];
t && (t.onPrevOrig && t.onPrevOrig(), o(e - 1));
}
function o(e) {
var t = l.steps[e];
if (t && (t.preShow && t.preShow(), t.targetScrollElement)) {
var n = $("body").find(t.targetScrollElement)[0], i = $("body").find(t.target)[0];
if (n && n) {
var r = a(i, n);
"top" === t.placement ? r -= c : r += c, r > n.clientHeight ? n.scrollTop = r : n.scrollTop = 0;
}
}
}
function a(e, t) {
return e && e !== t ? e.offsetTop + a(e.offsetParent, t) : 0;
}
var s, l = {}, c = 175, u = function() {
hopscotch.endTour();
};
return {
startTour: function(i, r) {
$("body").append('<div id="guided_tour_backdrop" class="modal-backdrop fade guided-tour-backdrop"></div>'), s = {
onTourEndCB: r,
bubblePadding: 5,
arrowWidth: 10,
onStart: e,
onEnd: t,
onClose: t,
showPrevButton: !0,
i18n: {
nextBtn: "Next >",
prevBtn: "< Back"
}
}, l = {}, angular.merge(l, s, i), n(), o(0), hopscotch.startTour(l, 0);
},
cancelTour: u
};
}), angular.module("openshiftCommonUI").factory("HTMLService", [ "BREAKPOINTS", function(e) {
return {
WINDOW_SIZE_XXS: "xxs",
WINDOW_SIZE_XS: "xs",
WINDOW_SIZE_SM: "sm",
WINDOW_SIZE_MD: "md",
WINDOW_SIZE_LG: "lg",
getBreakpoint: function() {
return window.innerWidth < e.screenXsMin ? "xxs" : window.innerWidth < e.screenSmMin ? "xs" : window.innerWidth < e.screenMdMin ? "sm" : window.innerWidth < e.screenLgMin ? "md" : "lg";
},
isWindowBelowBreakpoint: function(t) {
switch (t) {
case "xxs":
return !1;

case "xs":
return window.innerWidth < e.screenXsMin;

case "sm":
return window.innerWidth < e.screenSmMin;

case "md":
return window.innerWidth < e.screenMdMin;

case "lg":
return window.innerWidth < e.screenLgMin;

default:
return !0;
}
},
isWindowAboveBreakpoint: function(t) {
switch (t) {
case "xs":
return window.innerWidth >= e.screenXsMin;

case "sm":
return window.innerWidth >= e.screenSmMin;

case "md":
return window.innerWidth >= e.screenMdMin;

case "lg":
return window.innerWidth >= e.screenLgMin;

default:
return !0;
}
},
linkify: function(e, t, n) {
return e ? (n || (e = _.escape(e)), e.replace(/https?:\/\/[A-Za-z0-9._%+-]+\S*[^\s.;,(){}<>"\u201d\u2019]/gm, function(e) {
return t ? '<a href="' + e + '" target="' + t + '">' + e + "</a>" : '<a href="' + e + '">' + e + "</a>";
})) : e;
}
};
} ]), angular.module("openshiftCommonUI").provider("NotificationsService", function() {
this.dismissDelay = 8e3, this.autoDismissTypes = [ "info", "success" ], this.$get = [ "$rootScope", function(e) {
var t = [], n = this.dismissDelay, i = this.autoDismissTypes, r = function(e, t) {
return t ? "hide/notification/" + t + "/" + e : "hide/notification/" + e;
}, o = function(n) {
a(n) || s(n) || (t.push(n), e.$emit("NotificationsService.onNotificationAdded", n));
}, a = function(e) {
if (!e.id) return !1;
var t = r(e.id, e.namespace);
return "true" === localStorage.getItem(t);
}, s = function(e) {
return !!e.id && _.some(t, function(t) {
return !t.hidden && e.id === t.id;
});
};
return e.$on("NotificationsService.addNotification", function(e, t) {
o(t);
}), {
addNotification: o,
hideNotification: function(e) {
e && _.each(t, function(t) {
t.id === e && (t.hidden = !0);
});
},
getNotifications: function() {
return t;
},
clearNotifications: function() {
_.take(t, 0);
},
isNotificationPermanentlyHidden: a,
permanentlyHideNotification: function(e, t) {
var n = r(e, t);
localStorage.setItem(n, "true");
},
isAutoDismiss: function(e) {
return _.includes(i, e.type);
},
dismissDelay: n,
autoDismissTypes: i
};
} ], this.setDismissDelay = function(e) {
this.dismissDelay = e;
}, this.setAutoDismissTypes = function(e) {
this.autoDismissTypes = e;
};
}), function(e, t) {
"function" == typeof define && define.amd ? define([], t) : "undefined" != typeof module && module.exports ? module.exports = t() : e.tv4 = t();
}(this, function() {
function e(t, n) {
if (t === n) return !0;
if ("object" == typeof t && "object" == typeof n) {
if (Array.isArray(t) !== Array.isArray(n)) return !1;
if (Array.isArray(t)) {
if (t.length !== n.length) return !1;
for (var i = 0; i < t.length; i++) if (!e(t[i], n[i])) return !1;
} else {
var r;
for (r in t) if (void 0 === n[r] && void 0 !== t[r]) return !1;
for (r in n) if (void 0 === t[r] && void 0 !== n[r]) return !1;
for (r in t) if (!e(t[r], n[r])) return !1;
}
return !0;
}
return !1;
}
function t(e) {
var t = String(e).replace(/^\s+|\s+$/g, "").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);
return t ? {
href: t[0] || "",
protocol: t[1] || "",
authority: t[2] || "",
host: t[3] || "",
hostname: t[4] || "",
port: t[5] || "",
pathname: t[6] || "",
search: t[7] || "",
hash: t[8] || ""
} : null;
}
function n(e, n) {
return n = t(n || ""), e = t(e || ""), n && e ? (n.protocol || e.protocol) + (n.protocol || n.authority ? n.authority : e.authority) + function(e) {
var t = [];
return e.replace(/^(\.\.?(\/|$))+/, "").replace(/\/(\.(\/|$))+/g, "/").replace(/\/\.\.$/, "/../").replace(/\/?[^\/]*/g, function(e) {
"/.." === e ? t.pop() : t.push(e);
}), t.join("").replace(/^\//, "/" === e.charAt(0) ? "/" : "");
}(n.protocol || n.authority || "/" === n.pathname.charAt(0) ? n.pathname : n.pathname ? (e.authority && !e.pathname ? "/" : "") + e.pathname.slice(0, e.pathname.lastIndexOf("/") + 1) + n.pathname : e.pathname) + (n.protocol || n.authority || n.pathname ? n.search : n.search || e.search) + n.hash : null;
}
function i(e) {
return e.split("#")[0];
}
function r(e, t) {
if (e && "object" == typeof e) if (void 0 === t ? t = e.id : "string" == typeof e.id && (t = n(t, e.id), e.id = t), Array.isArray(e)) for (var i = 0; i < e.length; i++) r(e[i], t); else {
"string" == typeof e.$ref && (e.$ref = n(t, e.$ref));
for (var o in e) "enum" !== o && r(e[o], t);
}
}
function o(e, t, n, i, r) {
if (Error.call(this), void 0 === e) throw new Error("No code supplied for error: " + t);
this.message = t, this.code = e, this.dataPath = n || "", this.schemaPath = i || "", this.subErrors = r || null;
var o = new Error(this.message);
if (this.stack = o.stack || o.stacktrace, !this.stack) try {
throw o;
} catch (o) {
this.stack = o.stack || o.stacktrace;
}
}
function a(e, t) {
if (t.substring(0, e.length) === e) {
var n = t.substring(e.length);
if (t.length > 0 && "/" === t.charAt(e.length - 1) || "#" === n.charAt(0) || "?" === n.charAt(0)) return !0;
}
return !1;
}
function s(e) {
var t = new l(), o = e || "en";
return {
addFormat: function() {
t.addFormat.apply(t, arguments);
},
language: function(e) {
return e ? (p[e] || (e = e.split("-")[0]), !!p[e] && (o = e, e)) : o;
},
addLanguage: function(e, t) {
var n;
for (n in c) t[n] && !t[c[n]] && (t[c[n]] = t[n]);
var i = e.split("-")[0];
if (p[i]) {
p[e] = Object.create(p[i]);
for (n in t) void 0 === p[i][n] && (p[i][n] = t[n]), p[e][n] = t[n];
} else p[e] = t, p[i] = t;
return this;
},
freshApi: function(e) {
var t = s();
return e && t.language(e), t;
},
validate: function(e, n, i, r) {
var a = new l(t, !1, p[o], i, r);
"string" == typeof n && (n = {
$ref: n
}), a.addSchema("", n);
var s = a.validateAll(e, n, null, null, "");
return !s && r && (s = a.banUnknownProperties()), this.error = s, this.missing = a.missing, this.valid = null === s, this.valid;
},
validateResult: function() {
var e = {};
return this.validate.apply(e, arguments), e;
},
validateMultiple: function(e, n, i, r) {
var a = new l(t, !0, p[o], i, r);
"string" == typeof n && (n = {
$ref: n
}), a.addSchema("", n), a.validateAll(e, n, null, null, ""), r && a.banUnknownProperties();
var s = {};
return s.errors = a.errors, s.missing = a.missing, s.valid = 0 === s.errors.length, s;
},
addSchema: function() {
return t.addSchema.apply(t, arguments);
},
getSchema: function() {
return t.getSchema.apply(t, arguments);
},
getSchemaMap: function() {
return t.getSchemaMap.apply(t, arguments);
},
getSchemaUris: function() {
return t.getSchemaUris.apply(t, arguments);
},
getMissingUris: function() {
return t.getMissingUris.apply(t, arguments);
},
dropSchemas: function() {
t.dropSchemas.apply(t, arguments);
},
defineKeyword: function() {
t.defineKeyword.apply(t, arguments);
},
defineError: function(e, t, n) {
if ("string" != typeof e || !/^[A-Z]+(_[A-Z]+)*$/.test(e)) throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");
if ("number" != typeof t || t % 1 != 0 || t < 1e4) throw new Error("Code number must be an integer > 10000");
if (void 0 !== c[e]) throw new Error("Error already defined: " + e + " as " + c[e]);
if (void 0 !== u[t]) throw new Error("Error code already used: " + u[t] + " as " + t);
c[e] = t, u[t] = e, h[e] = h[t] = n;
for (var i in p) {
var r = p[i];
r[e] && (r[t] = r[t] || r[e]);
}
},
reset: function() {
t.reset(), this.error = null, this.missing = [], this.valid = !0;
},
missing: [],
error: null,
valid: !0,
normSchema: r,
resolveUrl: n,
getDocumentUri: i,
errorCodes: c
};
}
Object.keys || (Object.keys = function() {
var e = Object.prototype.hasOwnProperty, t = !{
toString: null
}.propertyIsEnumerable("toString"), n = [ "toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor" ], i = n.length;
return function(r) {
if ("object" != typeof r && "function" != typeof r || null === r) throw new TypeError("Object.keys called on non-object");
var o = [];
for (var a in r) e.call(r, a) && o.push(a);
if (t) for (var s = 0; s < i; s++) e.call(r, n[s]) && o.push(n[s]);
return o;
};
}()), Object.create || (Object.create = function() {
function e() {}
return function(t) {
if (1 !== arguments.length) throw new Error("Object.create implementation only accepts one parameter.");
return e.prototype = t, new e();
};
}()), Array.isArray || (Array.isArray = function(e) {
return "[object Array]" === Object.prototype.toString.call(e);
}), Array.prototype.indexOf || (Array.prototype.indexOf = function(e) {
if (null === this) throw new TypeError();
var t = Object(this), n = t.length >>> 0;
if (0 === n) return -1;
var i = 0;
if (arguments.length > 1 && ((i = Number(arguments[1])) !== i ? i = 0 : 0 !== i && i !== 1 / 0 && i !== -1 / 0 && (i = (i > 0 || -1) * Math.floor(Math.abs(i)))), i >= n) return -1;
for (var r = i >= 0 ? i : Math.max(n - Math.abs(i), 0); r < n; r++) if (r in t && t[r] === e) return r;
return -1;
}), Object.isFrozen || (Object.isFrozen = function(e) {
for (var t = "tv4_test_frozen_key"; e.hasOwnProperty(t); ) t += Math.random();
try {
return e[t] = !0, delete e[t], !1;
} catch (e) {
return !0;
}
});
var l = function(e, t, n, i, r) {
if (this.missing = [], this.missingMap = {}, this.formatValidators = e ? Object.create(e.formatValidators) : {}, this.schemas = e ? Object.create(e.schemas) : {}, this.collectMultiple = t, this.errors = [], this.handleError = t ? this.collectError : this.returnError, i && (this.checkRecursive = !0, this.scanned = [], this.scannedFrozen = [], this.scannedFrozenSchemas = [], this.scannedFrozenValidationErrors = [], this.validatedSchemasKey = "tv4_validation_id", this.validationErrorsKey = "tv4_validation_errors_id"), r && (this.trackUnknownProperties = !0, this.knownPropertyPaths = {}, this.unknownPropertyPaths = {}), this.errorMessages = n, this.definedKeywords = {}, e) for (var o in e.definedKeywords) this.definedKeywords[o] = e.definedKeywords[o].slice(0);
};
l.prototype.defineKeyword = function(e, t) {
this.definedKeywords[e] = this.definedKeywords[e] || [], this.definedKeywords[e].push(t);
}, l.prototype.createError = function(e, t, n, i, r) {
var a = this.errorMessages[e] || h[e];
return "string" != typeof a ? new o(e, "Unknown error code " + e + ": " + JSON.stringify(t), n, i, r) : new o(e, a.replace(/\{([^{}]*)\}/g, function(e, n) {
var i = t[n];
return "string" == typeof i || "number" == typeof i ? i : e;
}), n, i, r);
}, l.prototype.returnError = function(e) {
return e;
}, l.prototype.collectError = function(e) {
return e && this.errors.push(e), null;
}, l.prototype.prefixErrors = function(e, t, n) {
for (var i = e; i < this.errors.length; i++) this.errors[i] = this.errors[i].prefixWith(t, n);
return this;
}, l.prototype.banUnknownProperties = function() {
for (var e in this.unknownPropertyPaths) {
var t = this.createError(c.UNKNOWN_PROPERTY, {
path: e
}, e, ""), n = this.handleError(t);
if (n) return n;
}
return null;
}, l.prototype.addFormat = function(e, t) {
if ("object" == typeof e) {
for (var n in e) this.addFormat(n, e[n]);
return this;
}
this.formatValidators[e] = t;
}, l.prototype.resolveRefs = function(e, t) {
if (void 0 !== e.$ref) {
if ((t = t || {})[e.$ref]) return this.createError(c.CIRCULAR_REFERENCE, {
urls: Object.keys(t).join(", ")
}, "", "");
t[e.$ref] = !0, e = this.getSchema(e.$ref, t);
}
return e;
}, l.prototype.getSchema = function(e, t) {
var n;
if (void 0 !== this.schemas[e]) return n = this.schemas[e], this.resolveRefs(n, t);
var i = e, r = "";
if (-1 !== e.indexOf("#") && (r = e.substring(e.indexOf("#") + 1), i = e.substring(0, e.indexOf("#"))), "object" == typeof this.schemas[i]) {
n = this.schemas[i];
var o = decodeURIComponent(r);
if ("" === o) return this.resolveRefs(n, t);
if ("/" !== o.charAt(0)) return;
for (var a = o.split("/").slice(1), s = 0; s < a.length; s++) {
var l = a[s].replace(/~1/g, "/").replace(/~0/g, "~");
if (void 0 === n[l]) {
n = void 0;
break;
}
n = n[l];
}
if (void 0 !== n) return this.resolveRefs(n, t);
}
void 0 === this.missing[i] && (this.missing.push(i), this.missing[i] = i, this.missingMap[i] = i);
}, l.prototype.searchSchemas = function(e, t) {
if (e && "object" == typeof e) {
"string" == typeof e.id && a(t, e.id) && void 0 === this.schemas[e.id] && (this.schemas[e.id] = e);
for (var n in e) if ("enum" !== n) if ("object" == typeof e[n]) this.searchSchemas(e[n], t); else if ("$ref" === n) {
var r = i(e[n]);
r && void 0 === this.schemas[r] && void 0 === this.missingMap[r] && (this.missingMap[r] = r);
}
}
}, l.prototype.addSchema = function(e, t) {
if ("string" != typeof e || void 0 === t) {
if ("object" != typeof e || "string" != typeof e.id) return;
e = (t = e).id;
}
(e = i(e) + "#") && (e = i(e)), this.schemas[e] = t, delete this.missingMap[e], r(t, e), this.searchSchemas(t, e);
}, l.prototype.getSchemaMap = function() {
var e = {};
for (var t in this.schemas) e[t] = this.schemas[t];
return e;
}, l.prototype.getSchemaUris = function(e) {
var t = [];
for (var n in this.schemas) e && !e.test(n) || t.push(n);
return t;
}, l.prototype.getMissingUris = function(e) {
var t = [];
for (var n in this.missingMap) e && !e.test(n) || t.push(n);
return t;
}, l.prototype.dropSchemas = function() {
this.schemas = {}, this.reset();
}, l.prototype.reset = function() {
this.missing = [], this.missingMap = {}, this.errors = [];
}, l.prototype.validateAll = function(e, t, n, i, r) {
var a;
if (!(t = this.resolveRefs(t))) return null;
if (t instanceof o) return this.errors.push(t), t;
var s, l = this.errors.length, c = null, u = null;
if (this.checkRecursive && e && "object" == typeof e) {
if (a = !this.scanned.length, e[this.validatedSchemasKey]) {
var d = e[this.validatedSchemasKey].indexOf(t);
if (-1 !== d) return this.errors = this.errors.concat(e[this.validationErrorsKey][d]), null;
}
if (Object.isFrozen(e) && -1 !== (s = this.scannedFrozen.indexOf(e))) {
var h = this.scannedFrozenSchemas[s].indexOf(t);
if (-1 !== h) return this.errors = this.errors.concat(this.scannedFrozenValidationErrors[s][h]), null;
}
if (this.scanned.push(e), Object.isFrozen(e)) -1 === s && (s = this.scannedFrozen.length, this.scannedFrozen.push(e), this.scannedFrozenSchemas.push([])), c = this.scannedFrozenSchemas[s].length, this.scannedFrozenSchemas[s][c] = t, this.scannedFrozenValidationErrors[s][c] = []; else {
if (!e[this.validatedSchemasKey]) try {
Object.defineProperty(e, this.validatedSchemasKey, {
value: [],
configurable: !0
}), Object.defineProperty(e, this.validationErrorsKey, {
value: [],
configurable: !0
});
} catch (t) {
e[this.validatedSchemasKey] = [], e[this.validationErrorsKey] = [];
}
u = e[this.validatedSchemasKey].length, e[this.validatedSchemasKey][u] = t, e[this.validationErrorsKey][u] = [];
}
}
var p = this.errors.length, f = this.validateBasic(e, t, r) || this.validateNumeric(e, t, r) || this.validateString(e, t, r) || this.validateArray(e, t, r) || this.validateObject(e, t, r) || this.validateCombinations(e, t, r) || this.validateFormat(e, t, r) || this.validateDefinedKeywords(e, t, r) || null;
if (a) {
for (;this.scanned.length; ) delete this.scanned.pop()[this.validatedSchemasKey];
this.scannedFrozen = [], this.scannedFrozenSchemas = [];
}
if (f || p !== this.errors.length) for (;n && n.length || i && i.length; ) {
var g = n && n.length ? "" + n.pop() : null, m = i && i.length ? "" + i.pop() : null;
f && (f = f.prefixWith(g, m)), this.prefixErrors(p, g, m);
}
return null !== c ? this.scannedFrozenValidationErrors[s][c] = this.errors.slice(l) : null !== u && (e[this.validationErrorsKey][u] = this.errors.slice(l)), this.handleError(f);
}, l.prototype.validateFormat = function(e, t) {
if ("string" != typeof t.format || !this.formatValidators[t.format]) return null;
var n = this.formatValidators[t.format].call(null, e, t);
return "string" == typeof n || "number" == typeof n ? this.createError(c.FORMAT_CUSTOM, {
message: n
}).prefixWith(null, "format") : n && "object" == typeof n ? this.createError(c.FORMAT_CUSTOM, {
message: n.message || "?"
}, n.dataPath || null, n.schemaPath || "/format") : null;
}, l.prototype.validateDefinedKeywords = function(e, t) {
for (var n in this.definedKeywords) for (var i = this.definedKeywords[n], r = 0; r < i.length; r++) {
var o = (0, i[r])(e, t[n], t);
if ("string" == typeof o || "number" == typeof o) return this.createError(c.KEYWORD_CUSTOM, {
key: n,
message: o
}).prefixWith(null, "format");
if (o && "object" == typeof o) {
var a = o.code || c.KEYWORD_CUSTOM;
if ("string" == typeof a) {
if (!c[a]) throw new Error("Undefined error code (use defineError): " + a);
a = c[a];
}
var s = "object" == typeof o.message ? o.message : {
key: n,
message: o.message || "?"
}, l = o.schemaPath || "/" + n.replace(/~/g, "~0").replace(/\//g, "~1");
return this.createError(a, s, o.dataPath || null, l);
}
}
return null;
}, l.prototype.validateBasic = function(e, t, n) {
var i;
return (i = this.validateType(e, t, n)) ? i.prefixWith(null, "type") : (i = this.validateEnum(e, t, n)) ? i.prefixWith(null, "type") : null;
}, l.prototype.validateType = function(e, t) {
if (void 0 === t.type) return null;
var n = typeof e;
null === e ? n = "null" : Array.isArray(e) && (n = "array");
var i = t.type;
"object" != typeof i && (i = [ i ]);
for (var r = 0; r < i.length; r++) {
var o = i[r];
if (o === n || "integer" === o && "number" === n && e % 1 == 0) return null;
}
return this.createError(c.INVALID_TYPE, {
type: n,
expected: i.join("/")
});
}, l.prototype.validateEnum = function(t, n) {
if (void 0 === n.enum) return null;
for (var i = 0; i < n.enum.length; i++) if (e(t, n.enum[i])) return null;
return this.createError(c.ENUM_MISMATCH, {
value: "undefined" != typeof JSON ? JSON.stringify(t) : t
});
}, l.prototype.validateNumeric = function(e, t, n) {
return this.validateMultipleOf(e, t, n) || this.validateMinMax(e, t, n) || null;
}, l.prototype.validateMultipleOf = function(e, t) {
var n = t.multipleOf || t.divisibleBy;
return void 0 === n ? null : "number" == typeof e && e % n != 0 ? this.createError(c.NUMBER_MULTIPLE_OF, {
value: e,
multipleOf: n
}) : null;
}, l.prototype.validateMinMax = function(e, t) {
if ("number" != typeof e) return null;
if (void 0 !== t.minimum) {
if (e < t.minimum) return this.createError(c.NUMBER_MINIMUM, {
value: e,
minimum: t.minimum
}).prefixWith(null, "minimum");
if (t.exclusiveMinimum && e === t.minimum) return this.createError(c.NUMBER_MINIMUM_EXCLUSIVE, {
value: e,
minimum: t.minimum
}).prefixWith(null, "exclusiveMinimum");
}
if (void 0 !== t.maximum) {
if (e > t.maximum) return this.createError(c.NUMBER_MAXIMUM, {
value: e,
maximum: t.maximum
}).prefixWith(null, "maximum");
if (t.exclusiveMaximum && e === t.maximum) return this.createError(c.NUMBER_MAXIMUM_EXCLUSIVE, {
value: e,
maximum: t.maximum
}).prefixWith(null, "exclusiveMaximum");
}
return null;
}, l.prototype.validateString = function(e, t, n) {
return this.validateStringLength(e, t, n) || this.validateStringPattern(e, t, n) || null;
}, l.prototype.validateStringLength = function(e, t) {
return "string" != typeof e ? null : void 0 !== t.minLength && e.length < t.minLength ? this.createError(c.STRING_LENGTH_SHORT, {
length: e.length,
minimum: t.minLength
}).prefixWith(null, "minLength") : void 0 !== t.maxLength && e.length > t.maxLength ? this.createError(c.STRING_LENGTH_LONG, {
length: e.length,
maximum: t.maxLength
}).prefixWith(null, "maxLength") : null;
}, l.prototype.validateStringPattern = function(e, t) {
return "string" != typeof e || void 0 === t.pattern ? null : new RegExp(t.pattern).test(e) ? null : this.createError(c.STRING_PATTERN, {
pattern: t.pattern
}).prefixWith(null, "pattern");
}, l.prototype.validateArray = function(e, t, n) {
return Array.isArray(e) ? this.validateArrayLength(e, t, n) || this.validateArrayUniqueItems(e, t, n) || this.validateArrayItems(e, t, n) || null : null;
}, l.prototype.validateArrayLength = function(e, t) {
var n;
return void 0 !== t.minItems && e.length < t.minItems && (n = this.createError(c.ARRAY_LENGTH_SHORT, {
length: e.length,
minimum: t.minItems
}).prefixWith(null, "minItems"), this.handleError(n)) ? n : void 0 !== t.maxItems && e.length > t.maxItems && (n = this.createError(c.ARRAY_LENGTH_LONG, {
length: e.length,
maximum: t.maxItems
}).prefixWith(null, "maxItems"), this.handleError(n)) ? n : null;
}, l.prototype.validateArrayUniqueItems = function(t, n) {
if (n.uniqueItems) for (var i = 0; i < t.length; i++) for (var r = i + 1; r < t.length; r++) if (e(t[i], t[r])) {
var o = this.createError(c.ARRAY_UNIQUE, {
match1: i,
match2: r
}).prefixWith(null, "uniqueItems");
if (this.handleError(o)) return o;
}
return null;
}, l.prototype.validateArrayItems = function(e, t, n) {
if (void 0 === t.items) return null;
var i, r;
if (Array.isArray(t.items)) {
for (r = 0; r < e.length; r++) if (r < t.items.length) {
if (i = this.validateAll(e[r], t.items[r], [ r ], [ "items", r ], n + "/" + r)) return i;
} else if (void 0 !== t.additionalItems) if ("boolean" == typeof t.additionalItems) {
if (!t.additionalItems && (i = this.createError(c.ARRAY_ADDITIONAL_ITEMS, {}).prefixWith("" + r, "additionalItems"), this.handleError(i))) return i;
} else if (i = this.validateAll(e[r], t.additionalItems, [ r ], [ "additionalItems" ], n + "/" + r)) return i;
} else for (r = 0; r < e.length; r++) if (i = this.validateAll(e[r], t.items, [ r ], [ "items" ], n + "/" + r)) return i;
return null;
}, l.prototype.validateObject = function(e, t, n) {
return "object" != typeof e || null === e || Array.isArray(e) ? null : this.validateObjectMinMaxProperties(e, t, n) || this.validateObjectRequiredProperties(e, t, n) || this.validateObjectProperties(e, t, n) || this.validateObjectDependencies(e, t, n) || null;
}, l.prototype.validateObjectMinMaxProperties = function(e, t) {
var n, i = Object.keys(e);
return void 0 !== t.minProperties && i.length < t.minProperties && (n = this.createError(c.OBJECT_PROPERTIES_MINIMUM, {
propertyCount: i.length,
minimum: t.minProperties
}).prefixWith(null, "minProperties"), this.handleError(n)) ? n : void 0 !== t.maxProperties && i.length > t.maxProperties && (n = this.createError(c.OBJECT_PROPERTIES_MAXIMUM, {
propertyCount: i.length,
maximum: t.maxProperties
}).prefixWith(null, "maxProperties"), this.handleError(n)) ? n : null;
}, l.prototype.validateObjectRequiredProperties = function(e, t) {
if (void 0 !== t.required) for (var n = 0; n < t.required.length; n++) {
var i = t.required[n];
if (void 0 === e[i]) {
var r = this.createError(c.OBJECT_REQUIRED, {
key: i
}).prefixWith(null, "" + n).prefixWith(null, "required");
if (this.handleError(r)) return r;
}
}
return null;
}, l.prototype.validateObjectProperties = function(e, t, n) {
var i;
for (var r in e) {
var o = n + "/" + r.replace(/~/g, "~0").replace(/\//g, "~1"), a = !1;
if (void 0 !== t.properties && void 0 !== t.properties[r] && (a = !0, i = this.validateAll(e[r], t.properties[r], [ r ], [ "properties", r ], o))) return i;
if (void 0 !== t.patternProperties) for (var s in t.patternProperties) if (new RegExp(s).test(r) && (a = !0, i = this.validateAll(e[r], t.patternProperties[s], [ r ], [ "patternProperties", s ], o))) return i;
if (a) this.trackUnknownProperties && (this.knownPropertyPaths[o] = !0, delete this.unknownPropertyPaths[o]); else if (void 0 !== t.additionalProperties) {
if (this.trackUnknownProperties && (this.knownPropertyPaths[o] = !0, delete this.unknownPropertyPaths[o]), "boolean" == typeof t.additionalProperties) {
if (!t.additionalProperties && (i = this.createError(c.OBJECT_ADDITIONAL_PROPERTIES, {}).prefixWith(r, "additionalProperties"), this.handleError(i))) return i;
} else if (i = this.validateAll(e[r], t.additionalProperties, [ r ], [ "additionalProperties" ], o)) return i;
} else this.trackUnknownProperties && !this.knownPropertyPaths[o] && (this.unknownPropertyPaths[o] = !0);
}
return null;
}, l.prototype.validateObjectDependencies = function(e, t, n) {
var i;
if (void 0 !== t.dependencies) for (var r in t.dependencies) if (void 0 !== e[r]) {
var o = t.dependencies[r];
if ("string" == typeof o) {
if (void 0 === e[o] && (i = this.createError(c.OBJECT_DEPENDENCY_KEY, {
key: r,
missing: o
}).prefixWith(null, r).prefixWith(null, "dependencies"), this.handleError(i))) return i;
} else if (Array.isArray(o)) for (var a = 0; a < o.length; a++) {
var s = o[a];
if (void 0 === e[s] && (i = this.createError(c.OBJECT_DEPENDENCY_KEY, {
key: r,
missing: s
}).prefixWith(null, "" + a).prefixWith(null, r).prefixWith(null, "dependencies"), this.handleError(i))) return i;
} else if (i = this.validateAll(e, o, [], [ "dependencies", r ], n)) return i;
}
return null;
}, l.prototype.validateCombinations = function(e, t, n) {
return this.validateAllOf(e, t, n) || this.validateAnyOf(e, t, n) || this.validateOneOf(e, t, n) || this.validateNot(e, t, n) || null;
}, l.prototype.validateAllOf = function(e, t, n) {
if (void 0 === t.allOf) return null;
for (var i, r = 0; r < t.allOf.length; r++) {
var o = t.allOf[r];
if (i = this.validateAll(e, o, [], [ "allOf", r ], n)) return i;
}
return null;
}, l.prototype.validateAnyOf = function(e, t, n) {
if (void 0 === t.anyOf) return null;
var i, r, o = [], a = this.errors.length;
this.trackUnknownProperties && (i = this.unknownPropertyPaths, r = this.knownPropertyPaths);
for (var s = !0, l = 0; l < t.anyOf.length; l++) {
this.trackUnknownProperties && (this.unknownPropertyPaths = {}, this.knownPropertyPaths = {});
var u = t.anyOf[l], d = this.errors.length, h = this.validateAll(e, u, [], [ "anyOf", l ], n);
if (null === h && d === this.errors.length) {
if (this.errors = this.errors.slice(0, a), this.trackUnknownProperties) {
for (var p in this.knownPropertyPaths) r[p] = !0, delete i[p];
for (var f in this.unknownPropertyPaths) r[f] || (i[f] = !0);
s = !1;
continue;
}
return null;
}
h && o.push(h.prefixWith(null, "" + l).prefixWith(null, "anyOf"));
}
return this.trackUnknownProperties && (this.unknownPropertyPaths = i, this.knownPropertyPaths = r), s ? (o = o.concat(this.errors.slice(a)), this.errors = this.errors.slice(0, a), this.createError(c.ANY_OF_MISSING, {}, "", "/anyOf", o)) : void 0;
}, l.prototype.validateOneOf = function(e, t, n) {
if (void 0 === t.oneOf) return null;
var i, r, o = null, a = [], s = this.errors.length;
this.trackUnknownProperties && (i = this.unknownPropertyPaths, r = this.knownPropertyPaths);
for (var l = 0; l < t.oneOf.length; l++) {
this.trackUnknownProperties && (this.unknownPropertyPaths = {}, this.knownPropertyPaths = {});
var u = t.oneOf[l], d = this.errors.length, h = this.validateAll(e, u, [], [ "oneOf", l ], n);
if (null === h && d === this.errors.length) {
if (null !== o) return this.errors = this.errors.slice(0, s), this.createError(c.ONE_OF_MULTIPLE, {
index1: o,
index2: l
}, "", "/oneOf");
if (o = l, this.trackUnknownProperties) {
for (var p in this.knownPropertyPaths) r[p] = !0, delete i[p];
for (var f in this.unknownPropertyPaths) r[f] || (i[f] = !0);
}
} else h && a.push(h.prefixWith(null, "" + l).prefixWith(null, "oneOf"));
}
return this.trackUnknownProperties && (this.unknownPropertyPaths = i, this.knownPropertyPaths = r), null === o ? (a = a.concat(this.errors.slice(s)), this.errors = this.errors.slice(0, s), this.createError(c.ONE_OF_MISSING, {}, "", "/oneOf", a)) : (this.errors = this.errors.slice(0, s), null);
}, l.prototype.validateNot = function(e, t, n) {
if (void 0 === t.not) return null;
var i, r, o = this.errors.length;
this.trackUnknownProperties && (i = this.unknownPropertyPaths, r = this.knownPropertyPaths, this.unknownPropertyPaths = {}, this.knownPropertyPaths = {});
var a = this.validateAll(e, t.not, null, null, n), s = this.errors.slice(o);
return this.errors = this.errors.slice(0, o), this.trackUnknownProperties && (this.unknownPropertyPaths = i, this.knownPropertyPaths = r), null === a && 0 === s.length ? this.createError(c.NOT_PASSED, {}, "", "/not") : null;
};
var c = {
INVALID_TYPE: 0,
ENUM_MISMATCH: 1,
ANY_OF_MISSING: 10,
ONE_OF_MISSING: 11,
ONE_OF_MULTIPLE: 12,
NOT_PASSED: 13,
NUMBER_MULTIPLE_OF: 100,
NUMBER_MINIMUM: 101,
NUMBER_MINIMUM_EXCLUSIVE: 102,
NUMBER_MAXIMUM: 103,
NUMBER_MAXIMUM_EXCLUSIVE: 104,
STRING_LENGTH_SHORT: 200,
STRING_LENGTH_LONG: 201,
STRING_PATTERN: 202,
OBJECT_PROPERTIES_MINIMUM: 300,
OBJECT_PROPERTIES_MAXIMUM: 301,
OBJECT_REQUIRED: 302,
OBJECT_ADDITIONAL_PROPERTIES: 303,
OBJECT_DEPENDENCY_KEY: 304,
ARRAY_LENGTH_SHORT: 400,
ARRAY_LENGTH_LONG: 401,
ARRAY_UNIQUE: 402,
ARRAY_ADDITIONAL_ITEMS: 403,
FORMAT_CUSTOM: 500,
KEYWORD_CUSTOM: 501,
CIRCULAR_REFERENCE: 600,
UNKNOWN_PROPERTY: 1e3
}, u = {};
for (var d in c) u[c[d]] = d;
var h = {
INVALID_TYPE: "invalid type: {type} (expected {expected})",
ENUM_MISMATCH: "No enum match for: {value}",
ANY_OF_MISSING: 'Data does not match any schemas from "anyOf"',
ONE_OF_MISSING: 'Data does not match any schemas from "oneOf"',
ONE_OF_MULTIPLE: 'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',
NOT_PASSED: 'Data matches schema from "not"',
NUMBER_MULTIPLE_OF: "Value {value} is not a multiple of {multipleOf}",
NUMBER_MINIMUM: "Value {value} is less than minimum {minimum}",
NUMBER_MINIMUM_EXCLUSIVE: "Value {value} is equal to exclusive minimum {minimum}",
NUMBER_MAXIMUM: "Value {value} is greater than maximum {maximum}",
NUMBER_MAXIMUM_EXCLUSIVE: "Value {value} is equal to exclusive maximum {maximum}",
STRING_LENGTH_SHORT: "String is too short ({length} chars), minimum {minimum}",
STRING_LENGTH_LONG: "String is too long ({length} chars), maximum {maximum}",
STRING_PATTERN: "String does not match pattern: {pattern}",
OBJECT_PROPERTIES_MINIMUM: "Too few properties defined ({propertyCount}), minimum {minimum}",
OBJECT_PROPERTIES_MAXIMUM: "Too many properties defined ({propertyCount}), maximum {maximum}",
OBJECT_REQUIRED: "Missing required property: {key}",
OBJECT_ADDITIONAL_PROPERTIES: "Additional properties not allowed",
OBJECT_DEPENDENCY_KEY: "Dependency failed - key must exist: {missing} (due to key: {key})",
ARRAY_LENGTH_SHORT: "Array is too short ({length}), minimum {minimum}",
ARRAY_LENGTH_LONG: "Array is too long ({length}), maximum {maximum}",
ARRAY_UNIQUE: "Array items are not unique (indices {match1} and {match2})",
ARRAY_ADDITIONAL_ITEMS: "Additional items not allowed",
FORMAT_CUSTOM: "Format validation failed ({message})",
KEYWORD_CUSTOM: "Keyword failed: {key} ({message})",
CIRCULAR_REFERENCE: "Circular $refs: {urls}",
UNKNOWN_PROPERTY: "Unknown property (not in schema)"
};
(o.prototype = Object.create(Error.prototype)).constructor = o, o.prototype.name = "ValidationError", o.prototype.prefixWith = function(e, t) {
if (null !== e && (e = e.replace(/~/g, "~0").replace(/\//g, "~1"), this.dataPath = "/" + e + this.dataPath), null !== t && (t = t.replace(/~/g, "~0").replace(/\//g, "~1"), this.schemaPath = "/" + t + this.schemaPath), null !== this.subErrors) for (var n = 0; n < this.subErrors.length; n++) this.subErrors[n].prefixWith(e, t);
return this;
};
var p = {}, f = s();
return f.addLanguage("en-gb", h), f.tv4 = f, f;
}), function(e) {
var t = {
parse: function(e) {
if ("string" != typeof e) throw new TypeError("ObjectPath.parse must be passed a string");
for (var t, n, i, r, o = 0, a = []; o < e.length; ) if (t = e.indexOf(".", o), n = e.indexOf("[", o), -1 === t && -1 === n) a.push(e.slice(o, e.length)), o = e.length; else if (-1 === n || -1 !== t && t < n) a.push(e.slice(o, t)), o = t + 1; else if (n > o && (a.push(e.slice(o, n)), o = n), '"' !== (i = e.slice(n + 1, n + 2)) && "'" !== i) -1 === (r = e.indexOf("]", n)) && (r = e.length), a.push(e.slice(o + 1, r)), o = "." === e.slice(r + 1, r + 2) ? r + 2 : r + 1; else {
for (-1 === (r = e.indexOf(i + "]", n)) && (r = e.length); "\\" === e.slice(r - 1, r) && n < e.length; ) n++, r = e.indexOf(i + "]", n);
a.push(e.slice(o + 2, r).replace(new RegExp("\\" + i, "g"), i)), o = "." === e.slice(r + 2, r + 3) ? r + 3 : r + 2;
}
return a;
},
stringify: function(e, t) {
return Array.isArray(e) || (e = [ e.toString() ]), t = '"' === t ? '"' : "'", e.map(function(e) {
return "[" + t + e.toString().replace(new RegExp(t, "g"), "\\" + t) + t + "]";
}).join("");
},
normalize: function(e, n) {
return t.stringify(Array.isArray(e) ? e : t.parse(e), n);
},
registerModule: function(e) {
e.module("ObjectPath", []).provider("ObjectPath", function() {
this.parse = t.parse, this.stringify = t.stringify, this.normalize = t.normalize, this.$get = function() {
return t;
};
});
}
};
"function" == typeof define && define.amd ? define(function() {
return t;
}) : "object" == typeof exports ? exports.ObjectPath = t : window.ObjectPath = t;
}(), function(e, t) {
"function" == typeof define && define.amd ? define([ "angular", "objectpath", "tv4" ], t) : "object" == typeof exports ? module.exports = t(require("angular"), require("objectpath"), require("tv4")) : e.schemaForm = t(e.angular, e.objectpath, e.tv4);
}(this, function(e, t, n) {
var i = [];
try {
e.module("ngSanitize"), i.push("ngSanitize");
} catch (e) {}
try {
e.module("ui.sortable"), i.push("ui.sortable");
} catch (e) {}
try {
e.module("angularSpectrumColorpicker"), i.push("angularSpectrumColorpicker");
} catch (e) {}
var r = e.module("schemaForm", i);
return e.module("schemaForm").provider("sfPath", [ function() {
var n = window.ObjectPath || t, i = {
parse: n.parse
};
1 === e.version.major && e.version.minor < 3 ? i.stringify = function(e) {
return Array.isArray(e) ? e.join(".") : e.toString();
} : i.stringify = n.stringify, i.normalize = function(e, t) {
return i.stringify(Array.isArray(e) ? e : i.parse(e), t);
}, this.parse = i.parse, this.stringify = i.stringify, this.normalize = i.normalize, this.$get = function() {
return i;
};
} ]), e.module("schemaForm").provider("sfBuilder", [ "sfPathProvider", function(t) {
var n = /[A-Z]/g, i = function(e, t) {
return t = t || "_", e.replace(n, function(e, n) {
return (n ? t : "") + e.toLowerCase();
});
}, r = 0, o = {
sfField: function(e) {
e.fieldFrag.firstChild.setAttribute("sf-field", r), e.lookup["f" + r] = e.form, r++;
},
ngModel: function(e) {
if (e.form.key) {
var n = e.form.key;
e.state.keyRedaction && (n = n.slice(e.state.keyRedaction));
var i;
if (e.state.modelValue) i = e.state.modelValue; else {
var r = t.stringify(n).replace(/"/g, "&quot;");
i = e.state.modelName || "model", r && (i += ("[" !== r[0] ? "." : "") + r);
}
for (var o = e.fieldFrag.querySelectorAll("[sf-field-model]"), a = 0; a < o.length; a++) {
var s = o[a], l = s.getAttribute("sf-field-model");
if (l && "" !== l) if ("replaceAll" === l) for (var c = s.attributes, u = 0; u < c.length; u++) c[u].value && -1 !== c[u].value.indexOf("$$value") && (c[u].value = c[u].value.replace(/\$\$value\$\$/g, i)); else {
var d = s.getAttribute(l);
d && d.indexOf("$$value$$") ? s.setAttribute(l, d.replace(/\$\$value\$\$/g, i)) : s.setAttribute(l, i);
} else s.setAttribute("ng-model", i);
}
}
},
simpleTransclusion: function(e) {
var t = e.build(e.form.items, e.path + ".items", e.state);
e.fieldFrag.firstChild.appendChild(t);
},
ngModelOptions: function(e) {
e.form.ngModelOptions && Object.keys(e.form.ngModelOptions).length > 0 && e.fieldFrag.firstChild.setAttribute("ng-model-options", JSON.stringify(e.form.ngModelOptions));
},
transclusion: function(e) {
var t = e.fieldFrag.querySelectorAll("[sf-field-transclude]");
if (t.length) for (var n = 0; n < t.length; n++) {
var i = t[n], r = i.getAttribute("sf-field-transclude") || "items", o = e.form[r];
if (o) {
var a = e.build(o, e.path + "." + r, e.state);
i.appendChild(a);
}
}
},
condition: function(e) {
if (e.form.condition) {
var n = "evalExpr(" + e.path + '.condition, { model: model, "arrayIndex": $index})';
if (e.form.key) {
var i = t.stringify(e.form.key);
n = "evalExpr(" + e.path + '.condition,{ model: model, "arrayIndex": $index, "modelValue": model' + ("[" === i[0] ? "" : ".") + i + "})";
}
for (var r = e.fieldFrag.children || e.fieldFrag.childNodes, o = 0; o < r.length; o++) {
var a = r[o], s = a.getAttribute("ng-if");
a.setAttribute("ng-if", s ? "(" + s + ") || (" + n + ")" : n);
}
}
},
array: function(n) {
var i = n.fieldFrag.querySelector("[schema-form-array-items]");
if (i) {
if (state = e.copy(n.state), state.keyRedaction = state.keyRedaction || 0, state.keyRedaction += n.form.key.length + 1, n.form.schema && n.form.schema.items && n.form.schema.items.type && -1 === n.form.schema.items.type.indexOf("object") && -1 === n.form.schema.items.type.indexOf("array")) {
t.stringify(n.form.key).replace(/"/g, "&quot;");
state.modelValue = "modelArray[$index]";
} else state.modelName = "item";
state.arrayCompatFlag = !0;
var r = n.build(n.form.items, n.path + ".items", state);
i.appendChild(r);
}
}
};
this.builders = o;
var a = [ o.sfField, o.ngModel, o.ngModelOptions, o.condition ];
this.stdBuilders = a, this.$get = [ "$templateCache", "schemaFormDecorators", "sfPath", function(e, t, n) {
var r = function(e, t) {
if (e.key) {
var i = t[n.stringify(e.key)];
if (i) {
for (;i.firstChild; ) i.removeChild(i.firstChild);
return i;
}
}
}, s = function(e, t, n, o, a, l, c) {
l = l || {}, c = c || Object.create(null), a = a || "schemaForm.form";
var u = document.createDocumentFragment();
return e.reduce(function(e, u, d) {
if (!u.type) return e;
var h = t[u.type] || t.default;
if (h.replace) {
var p;
l.arrayCompatFlag = !1;
var f = document.createElement("div"), g = n(u, h) || n(u, t.default);
for (f.innerHTML = g, p = document.createDocumentFragment(); f.childNodes.length > 0; ) p.appendChild(f.childNodes[0]);
var m = {
fieldFrag: p,
form: u,
lookup: c,
state: l,
path: a + "[" + d + "]",
build: function(e, i, r) {
return s(e, t, n, o, i, r, c);
}
}, v = u.builder || h.builder;
"function" == typeof v ? v(m) : v.forEach(function(e) {
e(m);
}), (r(u, o) || e).appendChild(p);
} else {
var y = document.createElement(i(t.__name, "-"));
l.arrayCompatFlag ? y.setAttribute("form", "copyWithIndex($index)") : y.setAttribute("form", a + "[" + d + "]"), (r(u, o) || e).appendChild(y);
}
return e;
}, u), u;
};
return {
build: function(t, n, i, r) {
return s(t, n, function(t, n) {
return "template" === t.type ? t.template : e.get(n.template);
}, i, void 0, void 0, r);
},
builder: o,
stdBuilders: a,
internalBuild: s
};
} ];
} ]), e.module("schemaForm").provider("schemaFormDecorators", [ "$compileProvider", "sfPathProvider", function(t, n) {
var i = "", r = {}, o = function(e, t) {
"sfDecorator" === e && (e = i);
var n = r[e];
return n[t.type] ? n[t.type].template : n.default.template;
}, a = function(i) {
t.directive(i, [ "$parse", "$compile", "$http", "$templateCache", "$interpolate", "$q", "sfErrorMessage", "sfPath", "sfSelect", function(t, r, a, s, l, c, u, d, h) {
return {
restrict: "AE",
replace: !1,
transclude: !1,
scope: !0,
require: "?^sfSchema",
link: function(t, p, f, g) {
t.$on("schemaFormPropagateNgModelController", function(e, n) {
e.stopPropagation(), e.preventDefault(), t.ngModel = n;
}), t.showTitle = function() {
return t.form && !0 !== t.form.notitle && t.form.title;
}, t.listToCheckboxValues = function(t) {
var n = {};
return e.forEach(t, function(e) {
n[e] = !0;
}), n;
}, t.checkboxValuesToList = function(t) {
var n = [];
return e.forEach(t, function(e, t) {
e && n.push(t);
}), n;
}, t.buttonClick = function(n, i) {
e.isFunction(i.onClick) ? i.onClick(n, i) : e.isString(i.onClick) && (g ? g.evalInParentScope(i.onClick, {
$event: n,
form: i
}) : t.$eval(i.onClick, {
$event: n,
form: i
}));
}, t.evalExpr = function(e, n) {
return g ? g.evalInParentScope(e, n) : t.$eval(e, n);
}, t.evalInScope = function(e, n) {
if (e) return t.$eval(e, n);
}, t.interp = function(e, t) {
return e && l(e)(t);
}, t.hasSuccess = function() {
return !!t.ngModel && (t.ngModel.$valid && (!t.ngModel.$pristine || !t.ngModel.$isEmpty(t.ngModel.$modelValue)));
}, t.hasError = function() {
return !!t.ngModel && (t.ngModel.$invalid && !t.ngModel.$pristine);
}, t.errorMessage = function(e) {
return u.interpolate(e && e.code + "" || "default", t.ngModel && t.ngModel.$modelValue || "", t.ngModel && t.ngModel.$viewValue || "", t.form, t.options && t.options.validationMessage);
};
var m = t.$watch(f.form, function(l) {
if (l) {
l.ngModelOptions = l.ngModelOptions || {}, t.form = l;
var u;
if ("template" === l.type && l.template) u = c.when(l.template); else {
var f = "template" === l.type ? l.templateUrl : o(i, l);
u = a.get(f, {
cache: s
}).then(function(e) {
return e.data;
});
}
u.then(function(i) {
if (l.key) {
var o = l.key ? n.stringify(l.key).replace(/"/g, "&quot;") : "";
i = i.replace(/\$\$value\$\$/g, "model" + ("[" !== o[0] ? "." : "") + o);
}
if (p.html(i), l.condition) {
var a = 'evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';
l.key && (a = 'evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex, "modelValue": model' + d.stringify(l.key) + "})"), e.forEach(p.children(), function(e) {
var t = e.getAttribute("ng-if");
e.setAttribute("ng-if", t ? "(" + t + ") || (" + a + ")" : a);
});
}
r(p.contents())(t);
}), l.key && (t.$on("schemaForm.error." + l.key.join("."), function(e, n, i, r) {
!0 !== i && !1 !== i || (r = i, i = void 0), t.ngModel && n && (t.ngModel.$setDirty ? t.ngModel.$setDirty() : (t.ngModel.$dirty = !0, t.ngModel.$pristine = !1), i && (l.validationMessage || (l.validationMessage = {}), l.validationMessage[n] = i), t.ngModel.$setValidity(n, !0 === r), !0 === r && (t.ngModel.$validate(), t.$broadcast("schemaFormValidate")));
}), t.$on("$destroy", function() {
if (!t.externalDestructionInProgress) {
var e = l.destroyStrategy || t.options && t.options.destroyStrategy || "remove";
if (l.key && "retain" !== e) {
var n = t.model;
if (l.key.length > 1 && (n = h(l.key.slice(0, l.key.length - 1), n)), void 0 === n) return;
var i = l.schema && l.schema.type || "";
"empty" === e && -1 !== i.indexOf("string") ? n[l.key.slice(-1)] = "" : "empty" === e && -1 !== i.indexOf("object") ? n[l.key.slice(-1)] = {} : "empty" === e && -1 !== i.indexOf("array") ? n[l.key.slice(-1)] = [] : "null" === e ? n[l.key.slice(-1)] = null : delete n[l.key.slice(-1)];
}
}
})), m();
}
});
}
};
} ]);
}, s = function(n, i, r) {
r = !!e.isDefined(r) && r, t.directive("sf" + e.uppercase(n[0]) + n.substr(1), function() {
return {
restrict: "EAC",
scope: !0,
replace: !0,
transclude: r,
template: '<sf-decorator form="form"></sf-decorator>',
link: function(t, i, r) {
var o = {
items: "c",
titleMap: "c",
schema: "c"
}, a = {
type: n
}, s = !0;
e.forEach(r, function(n, i) {
if ("$" !== i[0] && 0 !== i.indexOf("ng") && "sfField" !== i) {
var l = function(n) {
e.isDefined(n) && n !== a[i] && (a[i] = n, s && a.type && (a.key || e.isUndefined(r.key)) && (t.form = a, s = !1));
};
"model" === i ? t.$watch(n, function(e) {
e && t.model !== e && (t.model = e);
}) : "c" === o[i] ? t.$watchCollection(n, l) : r.$observe(i, l);
}
});
}
};
});
};
this.createDecorator = function(t, n) {
r[t] = {
__name: t
}, e.forEach(n, function(e, n) {
r[t][n] = {
template: e,
replace: !1,
builder: []
};
}), r[i] || (i = t), a(t);
}, this.defineDecorator = function(t, n) {
r[t] = {
__name: t
}, e.forEach(n, function(n, i) {
n.builder = n.builder || [], n.replace = !e.isDefined(n.replace) || n.replace, r[t][i] = n;
}), r[i] || (i = t), a(t);
}, this.createDirective = s, this.createDirectives = function(t) {
e.forEach(t, function(e, t) {
s(t);
});
}, this.decorator = function(e) {
return e = e || i, r[e];
}, this.addMapping = function(e, t, n, i, o) {
r[e] && (r[e][t] = {
template: n,
builder: i,
replace: !!o
});
}, this.defineAddOn = function(e, t, n, i) {
r[e] && (r[e][t] = {
template: n,
builder: i,
replace: !0
});
}, this.$get = function() {
return {
decorator: function(e) {
return r[e] || r[i];
},
defaultDecorator: i
};
}, a("sfDecorator");
} ]), e.module("schemaForm").provider("sfErrorMessage", function() {
var t = {
default: "Field does not validate",
0: "Invalid type, expected {{schema.type}}",
1: "No enum match for: {{viewValue}}",
10: 'Data does not match any schemas from "anyOf"',
11: 'Data does not match any schemas from "oneOf"',
12: 'Data is valid against more than one schema from "oneOf"',
13: 'Data matches schema from "not"',
100: "Value is not a multiple of {{schema.multipleOf}}",
101: "{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",
102: "{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",
103: "{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",
104: "{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",
105: "Value is not a valid number",
200: "String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",
201: "String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",
202: "String does not match pattern: {{schema.pattern}}",
300: "Too few properties defined, minimum {{schema.minProperties}}",
301: "Too many properties defined, maximum {{schema.maxProperties}}",
302: "Required",
303: "Additional properties not allowed",
304: "Dependency failed - key must exist",
400: "Array is too short ({{value.length}}), minimum {{schema.minItems}}",
401: "Array is too long ({{value.length}}), maximum {{schema.maxItems}}",
402: "Array items are not unique",
403: "Additional items not allowed",
500: "Format validation failed",
501: 'Keyword failed: "{{title}}"',
600: "Circular $refs",
1e3: "Unknown property (not in schema)"
};
t.number = t[105], t.required = t[302], t.min = t[101], t.max = t[103], t.maxlength = t[201], t.minlength = t[200], t.pattern = t[202], this.setDefaultMessages = function(e) {
t = e;
}, this.getDefaultMessages = function() {
return t;
}, this.setDefaultMessage = function(e, n) {
t[e] = n;
}, this.$get = [ "$interpolate", function(n) {
var i = {};
return i.defaultMessages = t, i.interpolate = function(i, r, o, a, s) {
s = s || {};
var l = a.validationMessage || {};
0 === i.indexOf("tv4-") && (i = i.substring(4));
var c = l.default || s.default || "";
[ l, s, t ].some(function(t) {
return e.isString(t) || e.isFunction(t) ? (c = t, !0) : t && t[i] ? (c = t[i], !0) : void 0;
});
var u = {
error: i,
value: r,
viewValue: o,
form: a,
schema: a.schema,
title: a.title || a.schema && a.schema.title
};
return e.isFunction(c) ? c(u) : n(c)(u);
}, i;
} ];
}), e.module("schemaForm").provider("schemaForm", [ "sfPathProvider", function(t) {
var n = function(e) {
if (Array.isArray(e) && 2 == e.length) {
if ("null" === e[0]) return e[1];
if ("null" === e[1]) return e[0];
}
return e;
}, i = function(e) {
var t = [];
return e.forEach(function(e) {
t.push({
name: e,
value: e
});
}), t;
}, r = function(t, n) {
if (!e.isArray(t)) {
var i = [];
return n ? e.forEach(n, function(e, n) {
i.push({
name: t[e],
value: e
});
}) : e.forEach(t, function(e, t) {
i.push({
name: e,
value: t
});
}), i;
}
return t;
}, o = function(t, i, r) {
var o = s[n(i.type)];
if (o) for (var a, l = 0; l < o.length; l++) if (a = o[l](t, i, r)) return a.schema["x-schema-form"] && e.isObject(a.schema["x-schema-form"]) && (a = e.extend(a, a.schema["x-schema-form"])), a;
}, a = function(t, n, i) {
var o = (i = i || {}).global && i.global.formDefaults ? e.copy(i.global.formDefaults) : {};
return i.global && !0 === i.global.supressPropertyTitles ? o.title = n.title : o.title = n.title || t, n.description && (o.description = n.description), !0 !== i.required && !0 !== n.required || (o.required = !0), n.maxLength && (o.maxlength = n.maxLength), n.minLength && (o.minlength = n.minLength), (n.readOnly || n.readonly) && (o.readonly = !0), n.minimum && (o.minimum = n.minimum + (n.exclusiveMinimum ? 1 : 0)), n.maximum && (o.maximum = n.maximum - (n.exclusiveMaximum ? 1 : 0)), n.validationMessage && (o.validationMessage = n.validationMessage), n.enumNames && (o.titleMap = r(n.enumNames, n.enum)), o.schema = n, o.ngModelOptions = o.ngModelOptions || {}, o;
}, s = {
string: [ function(e, r, o) {
if ("string" === n(r.type) && r.enum) {
var s = a(e, r, o);
return s.key = o.path, s.type = "select", s.titleMap || (s.titleMap = i(r.enum)), o.lookup[t.stringify(o.path)] = s, s;
}
}, function(e, i, r) {
if ("string" === n(i.type) && !i.enum) {
var o = a(e, i, r);
return o.key = r.path, o.type = "text", r.lookup[t.stringify(r.path)] = o, o;
}
} ],
object: [ function(i, r, s) {
if ("object" === n(r.type)) {
var l = a(i, r, s);
return l.type = "fieldset", l.items = [], s.lookup[t.stringify(s.path)] = l, e.forEach(r.properties, function(e, n) {
var i = s.path.slice();
if (i.push(n), !0 !== s.ignore[t.stringify(i)]) {
var a = r.required && -1 !== r.required.indexOf(n), c = o(n, e, {
path: i,
required: a || !1,
lookup: s.lookup,
ignore: s.ignore,
global: s.global
});
c && l.items.push(c);
}
}), l;
}
} ],
number: [ function(e, i, r) {
if ("number" === n(i.type)) {
var o = a(e, i, r);
return o.key = r.path, o.type = "number", r.lookup[t.stringify(r.path)] = o, o;
}
} ],
integer: [ function(e, i, r) {
if ("integer" === n(i.type)) {
var o = a(e, i, r);
return o.key = r.path, o.type = "number", r.lookup[t.stringify(r.path)] = o, o;
}
} ],
boolean: [ function(e, i, r) {
if ("boolean" === n(i.type)) {
var o = a(e, i, r);
return o.key = r.path, o.type = "checkbox", r.lookup[t.stringify(r.path)] = o, o;
}
} ],
array: [ function(e, r, o) {
if ("array" === n(r.type) && r.items && r.items.enum) {
var s = a(e, r, o);
return s.key = o.path, s.type = "checkboxes", s.titleMap || (s.titleMap = i(r.items.enum)), o.lookup[t.stringify(o.path)] = s, s;
}
}, function(e, i, r) {
if ("array" === n(i.type)) {
var s = a(e, i, r);
s.type = "array", s.key = r.path, r.lookup[t.stringify(r.path)] = s;
var l = i.required && -1 !== i.required.indexOf(r.path[r.path.length - 1]), c = r.path.slice();
return c.push(""), s.items = [ o(e, i.items, {
path: c,
required: l || !1,
lookup: r.lookup,
ignore: r.ignore,
global: r.global
}) ], s;
}
} ]
}, l = function(e) {
return e;
};
this.defaults = s, this.stdFormObj = a, this.defaultFormDefinition = o, this.postProcess = function(e) {
l = e;
}, this.appendRule = function(e, t) {
s[e] || (s[e] = []), s[e].push(t);
}, this.prependRule = function(e, t) {
s[e] || (s[e] = []), s[e].unshift(t);
}, this.createStandardForm = a, this.$get = function() {
var i = {};
return i.merge = function(n, o, a, s, c, u) {
o = o || [ "*" ], s = s || {}, c = c || n.readonly || n.readOnly;
var d = i.defaults(n, a, s), h = o.indexOf("*");
-1 !== h && (o = o.slice(0, h).concat(d.form).concat(o.slice(h + 1)));
var p = d.lookup;
return l(o.map(function(o) {
if ("string" == typeof o && (o = {
key: o
}), o.key && "string" == typeof o.key && (o.key = t.parse(o.key)), o.titleMap && (o.titleMap = r(o.titleMap)), o.itemForm) {
o.items = [];
var l = t.stringify(o.key), d = p[l];
e.forEach(d.items, function(t) {
var n = e.copy(o.itemForm);
n.key = t.key, o.items.push(n);
});
}
if (o.key) {
var h = t.stringify(o.key);
if (p[h]) {
var f = p[h];
e.forEach(f, function(e, t) {
void 0 === o[t] && (o[t] = f[t]);
});
}
}
return !0 === c && (o.readonly = !0), o.items && (o.items = i.merge(n, o.items, a, s, o.readonly, u)), o.tabs && e.forEach(o.tabs, function(e) {
e.items = i.merge(n, e.items, a, s, o.readonly, u);
}), "checkbox" === o.type && e.isUndefined(o.schema.default) && (o.schema.default = !1), u && "template" === o.type && !o.template && o.templateUrl && u.push(o), o;
}));
}, i.defaults = function(t, i, r) {
var a = [], s = {};
if (i = i || {}, r = r || {}, "object" !== n(t.type)) throw new Error('Not implemented. Only type "object" allowed at root level of schema.');
return e.forEach(t.properties, function(e, n) {
if (!0 !== i[n]) {
var l = t.required && -1 !== t.required.indexOf(n), c = o(n, e, {
path: [ n ],
lookup: s,
ignore: i,
required: l,
global: r
});
c && a.push(c);
}
}), {
form: a,
lookup: s
};
}, i.traverseSchema = function(t, n, i, r) {
r = !e.isDefined(r) || r;
var o = function(t, n, i) {
if (n(t, i), e.forEach(t.properties, function(e, t) {
var r = i.slice();
r.push(t), o(e, n, r);
}), !r && t.items) {
var a = i.slice();
a.push(""), o(t.items, n, a);
}
};
o(t, n, (i = i || []) || []);
}, i.traverseForm = function(t, n) {
n(t), e.forEach(t.items, function(e) {
i.traverseForm(e, n);
}), t.tabs && e.forEach(t.tabs, function(t) {
e.forEach(t.items, function(e) {
i.traverseForm(e, n);
});
});
}, i;
};
} ]), e.module("schemaForm").factory("sfSelect", [ "sfPath", function(e) {
var t = /^\d+$/;
return function(n, i, r) {
i || (i = this);
var o = "string" == typeof n ? e.parse(n) : n;
if (void 0 !== r && 1 === o.length) return i[o[0]] = r, i;
void 0 !== r && void 0 === i[o[0]] && (i[o[0]] = o.length > 2 && t.test(o[1]) ? [] : {});
for (var a = i[o[0]], s = 1; s < o.length; s++) {
if ("" === o[s]) return;
if (void 0 !== r) {
if (s === o.length - 1) return a[o[s]] = r, r;
var l = a[o[s]];
void 0 !== l && null !== l || (l = t.test(o[s + 1]) ? [] : {}, a[o[s]] = l), a = l;
} else a && (a = a[o[s]]);
}
return a;
};
} ]), e.module("schemaForm").factory("sfValidator", [ function() {
var t = {};
return t.validate = function(t, i) {
if (!t) return {
valid: !0
};
var r = t.schema;
if (!r) return {
valid: !0
};
"" === i && (i = void 0), "number" === t.type && null === i && (i = void 0);
var o = {
type: "object",
properties: {}
}, a = t.key[t.key.length - 1];
o.properties[a] = r, t.required && (o.required = [ a ]);
var s = {};
return e.isDefined(i) && (s[a] = i), n.validateResult(s, o);
}, t;
} ]), e.module("schemaForm").directive("sfArray", [ "sfSelect", "schemaForm", "sfValidator", "sfPath", function(t, n, i, r) {
var o = function(e) {
return function(t) {
t.key && (t.key[t.key.indexOf("")] = e);
};
};
return {
restrict: "A",
scope: !0,
require: "?ngModel",
link: function(a, s, l, c) {
var u = {};
a.validateArray = e.noop, c && a.$emit("schemaFormPropagateNgModelController", c);
var d = a.$watch(l.sfArray, function(s) {
if (s) {
var l = t(s.key, a.model), h = r.normalize(s.key);
if (a.$watch("model" + ("[" !== h[0] ? "." : "") + h, function(e) {
l = a.modelArray = e;
}), e.isUndefined(l) && (l = [], t(s.key, a.model, l)), a.modelArray = l, s.items) {
var p = s.items[0];
s.items.length > 1 && (p = {
type: "section",
items: s.items.map(function(t) {
return t.ngModelOptions = s.ngModelOptions, e.isUndefined(t.readonly) && (t.readonly = s.readonly), t;
})
});
}
if (a.copyWithIndex = function(t) {
if (!u[t] && p) {
var i = e.copy(p);
i.arrayIndex = t, n.traverseForm(i, o(t)), u[t] = i;
}
return u[t];
}, a.appendToArray = function() {
var i = l.length, r = a.copyWithIndex(i);
if (n.traverseForm(r, function(n) {
if (n.key) {
var i;
e.isDefined(n.default) && (i = n.default), e.isDefined(n.schema) && e.isDefined(n.schema.default) && (i = n.schema.default), e.isDefined(i) && t(n.key, a.model, i);
}
}), i === l.length) {
var o, c = t("schema.items.type", s);
"object" === c ? o = {} : "array" === c && (o = []), l.push(o);
}
return a.validateArray(), l;
}, a.deleteFromArray = function(e) {
return l.splice(e, 1), a.validateArray(), c && c.$setDirty && c.$setDirty(), l;
}, s.titleMap || !0 === s.startEmpty || 0 !== l.length || a.appendToArray(), s.titleMap && s.titleMap.length > 0) {
a.titleMapValues = [];
var f = function(e) {
a.titleMapValues = [], e = e || [], s.titleMap.forEach(function(t) {
a.titleMapValues.push(-1 !== e.indexOf(t.value));
});
};
f(a.modelArray), a.$watchCollection("modelArray", f), a.$watchCollection("titleMapValues", function(e, t) {
if (e && e !== t) {
for (var n = a.modelArray; n.length > 0; ) n.pop();
s.titleMap.forEach(function(t, i) {
e[i] && n.push(t.value);
}), a.validateArray();
}
});
}
if (c) {
var g;
a.validateArray = function() {
var e = i.validate(s, a.modelArray.length > 0 ? a.modelArray : void 0);
Object.keys(c.$error).filter(function(e) {
return 0 === e.indexOf("tv4-");
}).forEach(function(e) {
c.$setValidity(e, !0);
}), !1 !== e.valid || !e.error || "" !== e.error.dataPath && e.error.dataPath !== "/" + s.key[s.key.length - 1] || (c.$setViewValue(a.modelArray), g = e.error, c.$setValidity("tv4-" + e.error.code, !1));
}, a.$on("schemaFormValidate", a.validateArray), a.hasSuccess = function() {
return a.options && a.options.pristine && !1 === a.options.pristine.success ? c.$valid && !c.$pristine && !c.$isEmpty(c.$modelValue) : c.$valid && (!c.$pristine || !c.$isEmpty(c.$modelValue));
}, a.hasError = function() {
return a.options && a.options.pristine && !1 === a.options.pristine.errors ? c.$invalid && !c.$pristine : c.$invalid;
}, a.schemaError = function() {
return g;
};
}
d();
}
});
}
};
} ]), e.module("schemaForm").directive("sfChanged", function() {
return {
require: "ngModel",
restrict: "AC",
scope: !1,
link: function(t, n, i, r) {
var o = t.$eval(i.sfChanged);
o && o.onChange && r.$viewChangeListeners.push(function() {
e.isFunction(o.onChange) ? o.onChange(r.$modelValue, o) : t.evalExpr(o.onChange, {
modelValue: r.$modelValue,
form: o
});
});
}
};
}), e.module("schemaForm").directive("sfField", [ "$parse", "$compile", "$http", "$templateCache", "$interpolate", "$q", "sfErrorMessage", "sfPath", "sfSelect", function(t, n, i, r, o, a, s, l, c) {
return {
restrict: "AE",
replace: !1,
transclude: !1,
scope: !0,
require: "^sfSchema",
link: {
pre: function(e, t, n, i) {
e.$on("schemaFormPropagateNgModelController", function(t, n) {
t.stopPropagation(), t.preventDefault(), e.ngModel = n;
}), e.form = i.lookup["f" + n.sfField];
},
post: function(t, n, i, r) {
t.showTitle = function() {
return t.form && !0 !== t.form.notitle && t.form.title;
}, t.listToCheckboxValues = function(t) {
var n = {};
return e.forEach(t, function(e) {
n[e] = !0;
}), n;
}, t.checkboxValuesToList = function(t) {
var n = [];
return e.forEach(t, function(e, t) {
e && n.push(t);
}), n;
}, t.buttonClick = function(n, i) {
e.isFunction(i.onClick) ? i.onClick(n, i) : e.isString(i.onClick) && (r ? r.evalInParentScope(i.onClick, {
$event: n,
form: i
}) : t.$eval(i.onClick, {
$event: n,
form: i
}));
}, t.evalExpr = function(e, n) {
return r ? r.evalInParentScope(e, n) : t.$eval(e, n);
}, t.evalInScope = function(e, n) {
if (e) return t.$eval(e, n);
}, t.interp = function(e, t) {
return e && o(e)(t);
}, t.hasSuccess = function() {
return !!t.ngModel && (t.options && t.options.pristine && !1 === t.options.pristine.success ? t.ngModel.$valid && !t.ngModel.$pristine && !t.ngModel.$isEmpty(t.ngModel.$modelValue) : t.ngModel.$valid && (!t.ngModel.$pristine || !t.ngModel.$isEmpty(t.ngModel.$modelValue)));
}, t.hasError = function() {
return !!t.ngModel && (t.options && t.options.pristine && !1 === t.options.pristine.errors ? t.ngModel.$invalid && !t.ngModel.$pristine : t.ngModel.$invalid);
}, t.errorMessage = function(e) {
return s.interpolate(e && e.code + "" || "default", t.ngModel && t.ngModel.$modelValue || "", t.ngModel && t.ngModel.$viewValue || "", t.form, t.options && t.options.validationMessage);
};
var a = t.form;
a.key && (t.$on("schemaForm.error." + a.key.join("."), function(e, n, i, r) {
!0 !== i && !1 !== i || (r = i, i = void 0), t.ngModel && n && (t.ngModel.$setDirty ? t.ngModel.$setDirty() : (t.ngModel.$dirty = !0, t.ngModel.$pristine = !1), i && (a.validationMessage || (a.validationMessage = {}), a.validationMessage[n] = i), t.ngModel.$setValidity(n, !0 === r), !0 === r && (t.ngModel.$validate(), t.$broadcast("schemaFormValidate")));
}), t.$on("$destroy", function() {
if (!t.externalDestructionInProgress) {
var e = a.destroyStrategy || t.options && t.options.destroyStrategy || "remove";
if (a.key && "retain" !== e) {
var n = t.model;
if (a.key.length > 1 && (n = c(a.key.slice(0, a.key.length - 1), n)), void 0 === n) return;
var i = a.schema && a.schema.type || "";
"empty" === e && -1 !== i.indexOf("string") ? n[a.key.slice(-1)] = "" : "empty" === e && -1 !== i.indexOf("object") ? n[a.key.slice(-1)] = {} : "empty" === e && -1 !== i.indexOf("array") ? n[a.key.slice(-1)] = [] : "null" === e ? n[a.key.slice(-1)] = null : delete n[a.key.slice(-1)];
}
}
}));
}
}
};
} ]), e.module("schemaForm").directive("sfMessage", [ "$injector", "sfErrorMessage", function(t, n) {
var i = t.has("$sanitize") ? t.get("$sanitize") : function(e) {
return e;
};
return {
scope: !1,
restrict: "EA",
link: function(t, r, o) {
var a = "";
o.sfMessage && t.$watch(o.sfMessage, function(e) {
e && (a = i(e), c(!!t.ngModel));
});
var s, l = function(e) {
e !== s && (r.html(e), s = e);
}, c = function(i) {
if (i) if (t.hasError()) {
var r = [];
e.forEach(t.ngModel && t.ngModel.$error, function(e, t) {
e && r.push(t);
});
var o = (r = r.filter(function(e) {
return "schemaForm" !== e;
}))[0];
l(o ? n.interpolate(o, t.ngModel.$modelValue, t.ngModel.$viewValue, t.form, t.options && t.options.validationMessage) : a);
} else l(a); else l(a);
};
c();
var u = t.$watch("ngModel", function(e) {
e && (e.$parsers.push(function(e) {
return c(!0), e;
}), e.$formatters.push(function(e) {
return c(!0), e;
}), u());
});
t.$watchCollection("ngModel.$error", function() {
c(!!t.ngModel);
});
}
};
} ]), e.module("schemaForm").directive("sfNewArray", [ "sfSelect", "sfPath", "schemaForm", function(t, n, i) {
return {
scope: !1,
link: function(r, o, a) {
r.min = 0, r.modelArray = r.$eval(a.sfNewArray);
var s = function() {
r.modelArray = r.$eval(a.sfNewArray), r.ngModel && r.ngModel.$pristine && r.firstDigest && (!r.options || !0 !== r.options.validateOnRender) || r.validateField && r.validateField();
}, l = function() {
r.form && r.form.onChange && (e.isFunction(r.form.onChange) ? r.form.onChange(r.modelArray, r.form) : r.evalExpr(r.form.onChange, {
modelValue: r.modelArray,
form: r.form
}));
}, c = function() {
var e = r.modelArray;
if (!e) {
var i = n.parse(a.sfNewArray);
t(i, r, e = []), r.modelArray = e;
}
return e;
}, u = r.$watch("form", function(e) {
if (e) {
if (e.titleMap || !0 === e.startEmpty || r.modelArray && 0 !== r.modelArray.length || r.appendToArray(), r.form && r.form.schema && !0 === r.form.schema.uniqueItems ? (r.$watch(a.sfNewArray, s, !0), r.$watch([ a.sfNewArray, a.sfNewArray + ".length" ], l)) : r.$watchGroup ? r.$watchGroup([ a.sfNewArray, a.sfNewArray + ".length" ], function() {
s(), l();
}) : (r.$watch(a.sfNewArray, function() {
s(), l();
}), r.$watch(a.sfNewArray + ".length", function() {
s(), l();
})), e.titleMap && e.titleMap.length > 0) {
r.titleMapValues = [];
var t = function(t) {
r.titleMapValues = [], t = t || [], e.titleMap.forEach(function(e) {
r.titleMapValues.push(-1 !== t.indexOf(e.value));
});
};
t(r.modelArray), r.$watchCollection("modelArray", t), r.$watchCollection("titleMapValues", function(t, n) {
if (t && t !== n) {
for (var i = c(); i.length > 0; ) i.pop();
e.titleMap.forEach(function(e, n) {
t[n] && i.push(e.value);
}), r.validateField && r.validateField();
}
});
}
u();
}
});
r.appendToArray = function() {
var n, o = c();
if (r.form && r.form.schema && r.form.schema.items) {
var a = r.form.schema.items;
a.type && -1 !== a.type.indexOf("object") ? (n = {}, r.options && !1 === r.options.setSchemaDefaults || (n = e.isDefined(a.default) ? a.default : n) && i.traverseSchema(a, function(i, r) {
e.isDefined(i.default) && t(r, n, i.default);
})) : a.type && -1 !== a.type.indexOf("array") ? (n = [], r.options && !1 === r.options.setSchemaDefaults || (n = a.default || n)) : r.options && !1 === r.options.setSchemaDefaults || (n = a.default || n);
}
return o.push(n), o;
}, r.deleteFromArray = function(e) {
var t = r.modelArray;
return t && t.splice(e, 1), t;
};
var d = function(e) {
return function(t) {
t.key && (t.key[t.key.indexOf("")] = e);
};
}, h = {};
r.copyWithIndex = function(t) {
var n = r.form;
if (!h[t]) {
var o = n.items[0];
if (n.items.length > 1 && (o = {
type: "section",
items: n.items.map(function(t) {
return t.ngModelOptions = n.ngModelOptions, e.isUndefined(t.readonly) && (t.readonly = n.readonly), t;
})
}), o) {
var a = e.copy(o);
a.arrayIndex = t, i.traverseForm(a, d(t)), h[t] = a;
}
}
return h[t];
};
}
};
} ]), e.module("schemaForm").directive("sfSchema", [ "$compile", "$http", "$templateCache", "$q", "schemaForm", "schemaFormDecorators", "sfSelect", "sfPath", "sfBuilder", function(t, n, i, r, o, a, s, l, c) {
return {
scope: {
schema: "=sfSchema",
initialForm: "=sfForm",
model: "=sfModel",
options: "=sfOptions"
},
controller: [ "$scope", function(e) {
this.evalInParentScope = function(t, n) {
return e.$parent.$eval(t, n);
};
var t = this;
e.lookup = function(e) {
return e && (t.lookup = e), t.lookup;
};
} ],
replace: !1,
restrict: "A",
transclude: !0,
require: "?form",
link: function(l, u, d, h, p) {
l.formCtrl = h;
var f = {};
p(l, function(e) {
if (e.addClass("schema-form-ignore"), u.prepend(e), u[0].querySelectorAll) {
var t = u[0].querySelectorAll("[ng-model]");
if (t) for (var n = 0; n < t.length; n++) {
var i = t[n].getAttribute("ng-model");
f[i.substring(i.indexOf(".") + 1)] = !0;
}
}
});
var g, m = {}, v = function(e, t) {
var a = [], s = o.merge(e, t, f, l.options, void 0, a);
a.length > 0 ? r.all(a.map(function(e) {
return n.get(e.templateUrl, {
cache: i
}).then(function(t) {
e.template = t.data;
});
})).then(function() {
y(e, t, s);
}) : y(e, t, s);
}, y = function(n, i, r) {
g && (l.externalDestructionInProgress = !0, g.$destroy(), l.externalDestructionInProgress = !1), (g = l.$new()).schemaForm = {
form: r,
schema: n
}, u.children(":not(.schema-form-ignore)").remove();
for (var h = {}, p = u[0].querySelectorAll("*[sf-insert-field]"), f = 0; f < p.length; f++) h[p[f].getAttribute("sf-insert-field")] = p[f];
var m = a.decorator(d.sfUseDecorator), v = Object.create(null);
l.lookup(v), u[0].appendChild(c.build(r, m, h, v)), g.firstDigest = !0, setTimeout(function() {
g.firstDigest = !1;
}, 0), t(u.children())(g), l.options && !1 === l.options.setSchemaDefaults || o.traverseSchema(n, function(t, n) {
if (e.isDefined(t.default)) {
var i = s(n, l.model);
e.isUndefined(i) && s(n, l.model, t.default);
}
}), l.$emit("sf-render-finished", u);
}, b = [ "*" ];
l.$watch(function() {
var e = l.schema, t = l.initialForm || b;
t && e && e.type && (m.form !== t || m.schema !== e) && Object.keys(e.properties).length > 0 && (m.schema = e, m.form = t, v(e, t));
}), l.$on("schemaFormRedraw", function() {
var t = l.schema, n = l.initialForm ? e.copy(l.initialForm) : [ "*" ];
t && v(t, n);
}), l.$on("$destroy", function() {
l.externalDestructionInProgress = !0;
}), l.evalExpr = function(e, t) {
return l.$parent.$eval(e, t);
};
}
};
} ]), e.module("schemaForm").directive("schemaValidate", [ "sfValidator", "$parse", "sfSelect", function(t, n, i) {
return {
restrict: "A",
scope: !1,
priority: 500,
require: "ngModel",
link: function(n, r, o, a) {
n.$emit("schemaFormPropagateNgModelController", a);
var s = null, l = n.$eval(o.schemaValidate);
l.copyValueTo && a.$viewChangeListeners.push(function() {
var t = l.copyValueTo;
e.forEach(t, function(e) {
i(e, n.model, a.$modelValue);
});
});
var c = function(e) {
if (!l) return e;
if (n.options && !1 === n.options.tv4Validation) return e;
var i = t.validate(l, e);
Object.keys(a.$error).filter(function(e) {
return 0 === e.indexOf("tv4-");
}).forEach(function(e) {
a.$setValidity(e, !0);
});
{
if (i.valid) return e;
if (a.$setValidity("tv4-" + i.error.code, !1), s = i.error, a.$validators) return e;
}
};
"function" == typeof l.ngModel && l.ngModel(a), [ "$parsers", "$viewChangeListeners", "$formatters" ].forEach(function(e) {
l[e] && a[e] && l[e].forEach(function(t) {
a[e].push(t);
});
}), [ "$validators", "$asyncValidators" ].forEach(function(t) {
l[t] && a[t] && e.forEach(l[t], function(e, n) {
a[t][n] = e;
});
}), a.$parsers.push(c), a.$validators && (a.$validators.schemaForm = function() {
return !Object.keys(a.$error).some(function(e) {
return "schemaForm" !== e;
});
});
var u = l.schema;
n.validateField = function(e) {
void 0 != e && a.$$parentForm.$name !== e || (u && -1 !== u.type.indexOf("array") && c(a.$modelValue), a.$setDirty ? (a.$setDirty(), a.$setViewValue(a.$viewValue), a.$commitViewValue(), l.required && a.$isEmpty(a.$modelValue) && a.$setValidity("tv4-302", !1)) : a.$setViewValue(a.$viewValue));
}, a.$formatters.push(function(e) {
return !a.$pristine || !n.firstDigest || n.options && !0 === n.options.validateOnRender ? (c(a.$modelValue), e) : e;
}), n.$on("schemaFormValidate", function(e, t) {
n.validateField(t);
}), n.schemaError = function() {
return s;
};
}
};
} ]), r;
}), function(e, t) {
"function" == typeof define && define.amd ? define([ "schemaForm" ], t) : "object" == typeof exports ? module.exports = t(require("schemaForm")) : e.bootstrapDecorator = t(e.schemaForm);
}(this, function(e) {
return angular.module("schemaForm").run([ "$templateCache", function(e) {
e.put("directives/decorators/bootstrap/actions-trcl.html", '<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'), e.put("directives/decorators/bootstrap/actions.html", '<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'), e.put("directives/decorators/bootstrap/array.html", '<div sf-array="form" class="schema-form-array {{form.htmlClass}}" ng-model="$$value$$" ng-model-options="form.ngModelOptions"><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" ng-model="modelArray" ui-sortable=""><li class="list-group-item {{form.fieldHtmlClass}}" ng-repeat="item in modelArray track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator></li></ol><div class="clearfix" style="padding: 15px;"><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div>'), 
e.put("directives/decorators/bootstrap/checkbox.html", '<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'), e.put("directives/decorators/bootstrap/checkboxes.html", '<div sf-array="form" ng-model="$$value$$" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("directives/decorators/bootstrap/default.html", '<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" ng-model-options="form.ngModelOptions" ng-model="$$value$$" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" ng-model-options="form.ngModelOptions" ng-model="$$value$$" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("directives/decorators/bootstrap/fieldset-trcl.html", '<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div><div ng-transclude=""></div></fieldset>'), e.put("directives/decorators/bootstrap/fieldset.html", '<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div><sf-decorator ng-repeat="item in form.items" form="item"></sf-decorator></fieldset>'), e.put("directives/decorators/bootstrap/help.html", '<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'), e.put("directives/decorators/bootstrap/radio-buttons.html", '<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("directives/decorators/bootstrap/radios-inline.html", '<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), e.put("directives/decorators/bootstrap/radios.html", '<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" ng-model="$$value$$" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("directives/decorators/bootstrap/section.html", '<div class="schema-form-section {{form.htmlClass}}"><sf-decorator ng-repeat="item in form.items" form="item"></sf-decorator></div>'), e.put("directives/decorators/bootstrap/select.html", '<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select ng-model="$$value$$" ng-model-options="form.ngModelOptions" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'), e.put("directives/decorators/bootstrap/submit.html", '<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'), 
e.put("directives/decorators/bootstrap/tabarray.html", '<div sf-array="form" ng-init="selected = { tab: 0 }" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li ng-repeat="item in modelArray track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix" ng-repeat="item in modelArray track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><sf-decorator ng-init="arrayIndex = $index" form="copyWithIndex($index)"></sf-decorator><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li ng-repeat="item in modelArray track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-click="$event.preventDefault() || appendToArray()"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div></div>'), 
e.put("directives/decorators/bootstrap/tabs.html", '<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane" ng-disabled="form.readonly" ng-repeat="tab in form.tabs" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><bootstrap-decorator ng-repeat="item in tab.items" form="item"></bootstrap-decorator></div></div></div>'), e.put("directives/decorators/bootstrap/textarea.html", '<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" ng-model="$$value$$" ng-model-options="form.ngModelOptions" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>');
} ]), angular.module("schemaForm").config([ "schemaFormDecoratorsProvider", function(e) {
var t = "directives/decorators/bootstrap/";
e.defineDecorator("bootstrapDecorator", {
textarea: {
template: t + "textarea.html",
replace: !1
},
fieldset: {
template: t + "fieldset.html",
replace: !1
},
array: {
template: t + "array.html",
replace: !1
},
tabarray: {
template: t + "tabarray.html",
replace: !1
},
tabs: {
template: t + "tabs.html",
replace: !1
},
section: {
template: t + "section.html",
replace: !1
},
conditional: {
template: t + "section.html",
replace: !1
},
actions: {
template: t + "actions.html",
replace: !1
},
select: {
template: t + "select.html",
replace: !1
},
checkbox: {
template: t + "checkbox.html",
replace: !1
},
checkboxes: {
template: t + "checkboxes.html",
replace: !1
},
number: {
template: t + "default.html",
replace: !1
},
password: {
template: t + "default.html",
replace: !1
},
submit: {
template: t + "submit.html",
replace: !1
},
button: {
template: t + "submit.html",
replace: !1
},
radios: {
template: t + "radios.html",
replace: !1
},
"radios-inline": {
template: t + "radios-inline.html",
replace: !1
},
radiobuttons: {
template: t + "radio-buttons.html",
replace: !1
},
help: {
template: t + "help.html",
replace: !1
},
default: {
template: t + "default.html",
replace: !1
}
}, []), e.createDirectives({
textarea: t + "textarea.html",
select: t + "select.html",
checkbox: t + "checkbox.html",
checkboxes: t + "checkboxes.html",
number: t + "default.html",
submit: t + "submit.html",
button: t + "submit.html",
text: t + "default.html",
date: t + "default.html",
password: t + "default.html",
datepicker: t + "datepicker.html",
input: t + "default.html",
radios: t + "radios.html",
"radios-inline": t + "radios-inline.html",
radiobuttons: t + "radio-buttons.html"
});
} ]).directive("sfFieldset", function() {
return {
transclude: !0,
scope: !0,
templateUrl: "directives/decorators/bootstrap/fieldset-trcl.html",
link: function(e, t, n) {
e.title = e.$eval(n.title);
}
};
}), e;
}), angular.module("schemaForm").run([ "$templateCache", function(e) {
e.put("decorators/bootstrap/actions-trcl.html", '<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'), e.put("decorators/bootstrap/actions.html", '<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'), e.put("decorators/bootstrap/array.html", '<div class="schema-form-array {{form.htmlClass}}" sf-field-model="sf-new-array" sf-new-array=""><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" sf-field-model="" ui-sortable="form.sortOptions"><li class="list-group-item {{form.fieldHtmlClass}}" schema-form-array-items="" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" ng-disabled="form.schema.minItems >= modelArray.length" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></li></ol><div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" ng-disabled="form.schema.maxItems <= modelArray.length" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div></div>'), 
e.put("decorators/bootstrap/checkbox.html", '<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'), e.put("decorators/bootstrap/checkboxes.html", '<div sf-field-model="sf-new-array" sf-new-array="" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/default.html", '<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/fieldset.html", '<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div></fieldset>'), e.put("decorators/bootstrap/help.html", '<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'), e.put("decorators/bootstrap/radio-buttons.html", '<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label sf-field-model="replaceAll" class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/radios-inline.html", '<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()" sf-field-model="" schema-validate="form">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), e.put("decorators/bootstrap/radios.html", '<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'), 
e.put("decorators/bootstrap/section.html", '<div class="schema-form-section {{form.htmlClass}}"></div>'), e.put("decorators/bootstrap/select.html", '<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select sf-field-model="" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'), e.put("decorators/bootstrap/submit.html", '<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'), 
e.put("decorators/bootstrap/tabarray.html", '<div ng-init="selected = { tab: 0 }" ng-model="modelArray" schema-validate="form" sf-field-model="sf-new-array" sf-new-array="" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix tab{{selected.tab}} index{{$index}}" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><div schema-form-array-items=""></div><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" ng-disabled="form.schema.minItems >= modelArray.length" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div>'), 
e.put("decorators/bootstrap/tabs.html", '<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"></div></div>'), e.put("decorators/bootstrap/textarea.html", '<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>');
} ]), angular.module("schemaForm").config([ "schemaFormDecoratorsProvider", "sfBuilderProvider", "sfPathProvider", function(e, t, n) {
var i = "decorators/bootstrap/", r = t.builders.simpleTransclusion, o = t.builders.ngModelOptions, a = t.builders.ngModel, s = t.builders.sfField, l = t.builders.condition, c = t.builders.array, u = [ s, a, o, l ];
e.defineDecorator("bootstrapDecorator", {
textarea: {
template: i + "textarea.html",
builder: u
},
fieldset: {
template: i + "fieldset.html",
builder: [ s, r, l ]
},
array: {
template: i + "array.html",
builder: [ s, o, a, c, l ]
},
tabarray: {
template: i + "tabarray.html",
builder: [ s, o, a, c, l ]
},
tabs: {
template: i + "tabs.html",
builder: [ s, o, function(e) {
if (e.form.tabs && e.form.tabs.length > 0) {
var t = e.fieldFrag.querySelector(".tab-content");
e.form.tabs.forEach(function(n, i) {
var r = document.createElement("div");
r.className = "tab-pane", r.setAttribute("ng-disabled", "form.readonly"), r.setAttribute("ng-show", "selected.tab === " + i), r.setAttribute("ng-class", "{active: selected.tab === " + i + "}");
var o = e.build(n.items, e.path + ".tabs[" + i + "].items", e.state);
r.appendChild(o), t.appendChild(r);
});
}
}, l ]
},
section: {
template: i + "section.html",
builder: [ s, r, l ]
},
conditional: {
template: i + "section.html",
builder: [ s, r, l ]
},
actions: {
template: i + "actions.html",
builder: u
},
select: {
template: i + "select.html",
builder: u
},
checkbox: {
template: i + "checkbox.html",
builder: u
},
checkboxes: {
template: i + "checkboxes.html",
builder: [ s, o, a, c, l ]
},
number: {
template: i + "default.html",
builder: u
},
password: {
template: i + "default.html",
builder: u
},
submit: {
template: i + "submit.html",
builder: u
},
button: {
template: i + "submit.html",
builder: u
},
radios: {
template: i + "radios.html",
builder: u
},
"radios-inline": {
template: i + "radios-inline.html",
builder: u
},
radiobuttons: {
template: i + "radio-buttons.html",
builder: u
},
help: {
template: i + "help.html",
builder: u
},
default: {
template: i + "default.html",
builder: u
}
}, []);
} ]), function(e) {
function t(n) {
if (i[n]) return i[n].exports;
var r = i[n] = {
i: n,
l: !1,
exports: {}
};
return e[n].call(r.exports, r, r.exports, t), r.l = !0, r.exports;
}
var n = window.webpackJsonp;
window.webpackJsonp = function(i, o, a) {
for (var s, l, c, u = 0, d = []; u < i.length; u++) l = i[u], r[l] && d.push(r[l][0]), r[l] = 0;
for (s in o) Object.prototype.hasOwnProperty.call(o, s) && (e[s] = o[s]);
for (n && n(i, o, a); d.length; ) d.shift()();
if (a) for (u = 0; u < a.length; u++) c = t(t.s = a[u]);
return c;
};
var i = {}, r = {
1: 0
};
t.e = function(e) {
function n() {
o.onerror = o.onload = null, clearTimeout(a);
var t = r[e];
0 !== t && (t && t[1](new Error("Loading chunk " + e + " failed.")), r[e] = void 0);
}
if (0 === r[e]) return Promise.resolve();
if (r[e]) return r[e][2];
var i = document.getElementsByTagName("head")[0], o = document.createElement("script");
o.type = "text/javascript", o.charset = "utf-8", o.async = !0, o.timeout = 12e4, t.nc && o.setAttribute("nonce", t.nc), o.src = t.p + "" + e + ".chunk.js";
var a = setTimeout(n, 12e4);
o.onerror = o.onload = n;
var s = new Promise(function(t, n) {
r[e] = [ t, n ];
});
return r[e][2] = s, i.appendChild(o), s;
}, t.m = e, t.c = i, t.i = function(e) {
return e;
}, t.d = function(e, n, i) {
t.o(e, n) || Object.defineProperty(e, n, {
configurable: !1,
enumerable: !0,
get: i
});
}, t.n = function(e) {
var n = e && e.__esModule ? function() {
return e.default;
} : function() {
return e;
};
return t.d(n, "a", n), n;
}, t.o = function(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}, t.p = "/", t.oe = function(e) {
throw console.error(e), e;
};
}([]), webpackJsonp([ 0, 1 ], [ function(e, t) {
e.exports = _;
}, function(e, t) {
e.exports = angular;
}, function(e, t) {
e.exports = $;
}, function(e, t) {}, function(e, t) {
e.exports = '<a href="" class="catalog-search-match" ng-class="{\'no-matches\': match.model.id === \'viewNone\'}">\n  <span class="catalog-search-match-icon" ng-if="match.model.id !== \'viewAll\' && match.model.id !== \'viewNone\'">\n    <span ng-if="match.model.imageUrl"><img ng-src="{{match.model.imageUrl}}"></span>\n    <span ng-if="!match.model.imageUrl && match.model.iconClass" ng-class="match.model.iconClass" class="icon"></span>\n  </span>\n  <div class="catalog-search-match-info" ng-if="match.model.id !== \'viewAll\' && match.model.id !== \'viewNone\'">\n    <div class="catalog-search-match-label">\n      {{match.label}}\n    </div>\n    <div class="catalog-search-match-description">\n      <span ng-repeat="tag in (match.model.tags || match.model.resource.alphaTags)" class="tag small text-muted">\n        {{tag}}\n      </span>\n    </div>\n  </div>\n  <span ng-if="match.model.id === \'viewNone\'" class="catalog-search-show-none">\n    {{match.model.text}}\n  </span>\n  <span ng-if="match.model.id === \'viewAll\'" class="catalog-search-show-all">\n    {{match.model.text}}  <span class="fa fa-angle-right"></span>\n  </span>\n</a>\n';
}, function(e, t) {
e.exports = '<bind-application-form application-name="$ctrl.name"\n                       form-name="$ctrl.bindForm"\n                       allow-no-binding="true"\n                       service-instances="$ctrl.serviceInstances"\n                       service-classes="$ctrl.serviceClasses"\n                       service-to-bind="$ctrl.serviceToBind">\n</bind-application-form>\n';
}, function(e, t) {
e.exports = '<div class="config-top">\n  <form name="$ctrl.builderForm" class="config-form">\n    <div class="form-group">\n      <label class="control-label" for="version">Version</label>\n      <ui-select ng-model="$ctrl.istag" required search-enabled="false">\n        <ui-select-match>\n          {{$select.selected.name}}\n        </ui-select-match>\n        <ui-select-choices repeat="tag in $ctrl.versions track by tag.name">\n          {{tag.name}}\n          <small ng-repeat="otherTag in $ctrl.referencedBy[tag.name]">\n            <span ng-if="$first"> &mdash; </span>{{otherTag}}<span ng-if="!$last">,</span>\n          </small>\n        </ui-select-choices>\n      </ui-select>\n    </div>\n    <select-project selected-project="$ctrl.selectedProject" name-taken="$ctrl.projectNameTaken"></select-project>\n    <div class="form-group">\n      <label class="control-label required" for="app-name">Application Name</label>\n      <div ng-class="{ \'has-error\': $ctrl.builderForm.name.$touched && $ctrl.builderForm.name.$invalid }">\n        <input\n          class="form-control"\n          type="text"\n          id="app-name"\n          required\n          minlength="2"\n          ng-maxlength="$ctrl.nameMaxLength"\n          ng-pattern="$ctrl.namePattern"\n          ng-model="$ctrl.name"\n          name="name"\n          autocorrect="off"\n          autocapitalize="off"\n          spellcheck="false">\n        \x3c!-- Wait until users leave the field to avoid flashing errors as they type. --\x3e\n        <div ng-if="$ctrl.builderForm.name.$touched">\n          <div class="has-error" ng-show="$ctrl.builderForm.name.$error.required">\n            <span class="help-block">\n              Application name is required.\n            </span>\n          </div>\n          <div class="has-error" ng-show="$ctrl.builderForm.name.$error.pattern">\n            <span class="help-block">\n              Application name consists of lower-case letters, numbers, and dashes. It must start with a letter and can\'t end with a <code>-</code>.\n            </span>\n          </div>\n          <div class="has-error" ng-show="$ctrl.builderForm.name.$error.minlength">\n            <span class="help-block">\n              Application name must be at least 2 characters.\n            </span>\n          </div>\n          <div class="has-error" ng-show="$ctrl.builderForm.name.$error.maxlength">\n            <span class="help-block">\n              Application name can\'t be more than 24 characters.\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="control-label required" for="repository">Git Repository</label>\n      <div ng-class="{ \'has-error\': $ctrl.builderForm.repository.$touched && $ctrl.builderForm.repository.$error.$required }">\n        <input class="form-control"\n          type="text"\n          id="repository"\n          name="repository"\n          required\n          ng-model="$ctrl.repository"\n          autocorrect="off"\n          autocapitalize="off"\n          spellcheck="false">\n        <div ng-if="$ctrl.istag.annotations.sampleRepo" class="help-block">\n          <a href="" ng-click="$ctrl.fillSampleRepo()">Try Sample Repository\n            <i class="fa fa-level-up" aria-hidden="true"></i></a>\n        </div>\n        <div class="has-error" ng-if="$ctrl.builderForm.repository.$touched && $ctrl.builderForm.repository.$error.$required">\n          <span class="help-block">\n            Git repository is required.\n          </span>\n        </div>\n        <div class="has-warning" ng-if="$ctrl.builderForm.repository.$touched && $ctrl.repository && !$ctrl.repositoryPattern.test($ctrl.repository)">\n          <span class="help-block">\n            This might not be a valid Git URL. Check that it is the correct URL to a remote Git repository.\n          </span>\n        </div>\n      </div>\n    </div>\n\n    \x3c!--\n      Only show the link for existing projects. It will be broken for new\n      projects.  Use class `invisible` when the project list is still loading\n      so the dialog doesn\'t resize.\n    --\x3e\n    <div ng-hide="$ctrl.selectedProject && !$ctrl.selectedProject.metadata.uid"\n         ng-class="{ invisible: !$ctrl.selectedProject || !$ctrl.istag }"\n         class="form-group">\n      If you have a private Git repository or need to change application defaults, view\n      <a href="" ng-click="$ctrl.navigateToAdvancedForm()">advanced options</a>.\n    </div>\n  </form>\n</div>\n';
}, function(e, t) {
e.exports = '<div ng-if="!$ctrl.success && !$ctrl.error">\n  <div ng-if="!$ctrl.serviceToBind">\n    <h3 class="text-center">\n      <div class="spinner spinner-lg" aria-hidden="true"></div>\n    </h3>\n    <h3 class="text-center">\n      <span>The application is being created</span>\n    </h3>\n  </div>\n  <div ng-if="$ctrl.serviceToBind" class="review-status">\n    <div class="spinner spinner-sm spinner-inline" aria-hidden="true"></div>\n    <h3 class="review-message">\n      The application is being created\n    </h3>\n  </div>\n</div>\n<div ng-if="$ctrl.success">\n  <div class="review-status">\n    <span class="pficon pficon-ok" aria-hidden="true"></span>\n    <span class="sr-only">Success</span>\n    <h3 class="review-message">\n    <span>\n      <strong>{{$ctrl.name}}</strong> has been created in <strong>{{$ctrl.selectedProject.metadata.name}}</strong> successfully\n    </span>\n    </h3>\n  </div>\n</div>\n<div ng-if="!$ctrl.error && ($ctrl.bindInProgress || $ctrl.bindComplete)">\n  <bind-results error="$ctrl.bindError"\n                progress-inline="true"\n                binding="$ctrl.binding"\n                service-to-bind="$ctrl.serviceToBind.metadata.name"\n                bind-type="application"\n                application-to-bind="$ctrl.name"\n                show-pod-presets="$ctrl.showPodPresets">\n  </bind-results>\n</div>\n<div ng-if="$ctrl.success">\n  <p ng-if="!$ctrl.serviceToBind || $ctrl.bindComplete">\n    Continue to your project to check the status of your application as it builds and deploys.\n  </p>\n</div>\n<div class="review-failure" ng-if="$ctrl.error">\n  <div class="review-status">\n    <span class="pficon pficon-error-circle-o text-danger" aria-hidden="true"></span>\n    <h3 class="review-message">\n      Error creating <strong>{{$ctrl.name}}</strong> in\n      <strong>{{$ctrl.selectedProject | displayName}}</strong>\n    </h3>\n  </div>\n  <div class="sub-title">\n    <span ng-if="$ctrl.error.data.message">\n      {{$ctrl.error.data.message | upperFirst}}\n    </span>\n    <span ng-if="!$ctrl.error.data.message">\n      An error occurred creating the application.\n    </span>\n  </div>\n  \x3c!-- TODO: Improve error message presentation --\x3e\n  <ul ng-if="$ctrl.error.failure.length" class="failure-messages">\n    <li ng-repeat="failure in $ctrl.error.failure">\n      {{failure.data.message}}\n    </li>\n  </ul>\n</div>\n<div class="footer-panel">\n  <a class="btn btn-primary" href="{{$ctrl.selectedProject | projectUrl : $ctrl.baseProjectUrl}}">View Project</a>\n</div>\n';
}, function(e, t) {
e.exports = '<bind-service-form service-class="$ctrl.serviceClass.resource"\n                   service-class-name="$ctrl.serviceClass.name"\n                   applications="$ctrl.applications"\n                   form-name="$ctrl.forms.bindForm"\n                   allow-no-binding="true"\n                   project-name="$ctrl.projectDisplayName"\n                   bind-type="$ctrl.bindType"\n                   app-to-bind="$ctrl.appToBind">\n</bind-service-form>\n';
}, function(e, t) {
e.exports = '<div class="config-top">\n  <form name="$ctrl.forms.orderConfigureForm" class="config-form">\n    <select-project selected-project="$ctrl.selectedProject" name-taken="$ctrl.nameTaken"></select-project>\n    <catalog-parameters\n      ng-if="$ctrl.parameterSchema.properties"\n      model="$ctrl.parameterData"\n      parameter-schema="$ctrl.parameterSchema">\n    </catalog-parameters>\n  </form>\n  <div ng-if="$ctrl.error" class="has-error">\n    <span class="help-block">{{$ctrl.error}}</span>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="config-top">\n  <div class="select-plans">\n    <h3>Select a Plan</h3>\n    <div ng-repeat="plan in $ctrl.serviceClass.resource.plans" class="radio">\n      <label>\n        <input\n          type="radio"\n          ng-model="$ctrl.planIndex"\n          ng-change="$ctrl.selectPlan(plan)"\n          value="{{$index}}">\n        <span class="plan-name">{{plan.externalMetadata.displayName || plan.name}}</span>\n        \x3c!-- TODO: truncate long text --\x3e\n        <div ng-if="plan.description">{{plan.description}}</div>\n        \x3c!-- TODO: show plan bullets --\x3e\n      </label>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div ng-if="!$ctrl.error">\n  <div ng-if="!$ctrl.orderComplete">\n    <div ng-if="$ctrl.bindType === \'none\'">\n      <h3 class="text-center">\n        <div class="spinner spinner-lg" aria-hidden="true"></div>\n      </h3>\n      <h3 class="text-center">\n        <span>The service is being provisioned</span>\n      </h3>\n    </div>\n    <div ng-if="$ctrl.bindType !== \'none\'" class="review-status">\n      <div class="spinner spinner-sm spinner-inline" aria-hidden="true"></div>\n      <h3 class="review-message">\n        The service is being provisioned\n      </h3>\n    </div>\n  </div>\n</div>\n<div class="review-failure" ng-if="$ctrl.error">\n  <div class="review-status">\n    <span class="pficon pficon-error-circle-o text-danger" aria-hidden="true"></span>\n    <h3 class="review-message">\n      Error provisioning <strong>{{$ctrl.serviceClass.name}}</strong> in\n      <strong>{{$ctrl.projectDisplayName}}</strong>\n    </h3>\n  </div>\n  <div class="sub-title">\n    <span ng-if="$ctrl.error.message">\n      {{$ctrl.error.message}}\n    </span>\n    <span ng-if="!$ctrl.error.message">\n      An error occurred provisioning the service.\n    </span>\n  </div>\n</div>\n<div ng-if="$ctrl.orderComplete">\n  <div class="review-status">\n    <span class="pficon pficon-ok" aria-hidden="true"></span>\n    <span class="sr-only">Success</span>\n    <h3 class="review-message">\n      <span>\n        <strong>{{$ctrl.serviceInstance.metadata.name}}</strong> has been added to <strong>{{$ctrl.projectDisplayName}}</strong> successfully\n      </span>\n    </h3>\n  </div>\n</div>\n<div ng-if="$ctrl.bindType !== \'none\'">\n  <bind-results error="$ctrl.bindError"\n                progress-inline="true"\n                binding="$ctrl.binding"\n                service-to-bind="$ctrl.serviceInstance.metadata.name"\n                bind-type="{{$ctrl.bindType}}"\n                application-to-bind="$ctrl.appToBind.metadata.name"\n                show-pod-presets="$ctrl.showPodPresets">\n  </bind-results>\n</div>\n<div class="alert alert-info" ng-if="$ctrl.orderComplete && $ctrl.bindType === \'none\'">\n  <span class="pficon pficon-info" aria-hidden="true"></span>\n  <span class="sr-only">Info</span>\n  Continue to your project to bind this service to your application. Binding this service creates a secret containing the information necessary for your application to use the service.\n</div>\n<div class="footer-panel">\n  <a class="btn btn-primary" href="{{$ctrl.selectedProject | projectUrl : $ctrl.baseProjectUrl}}">View Project</a>\n</div>\n';
}, function(e, t) {
e.exports = '<div  class="schema-form-array {{form.htmlClass}}"\n      sf-field-model="sf-new-array"\n      sf-new-array>\n  <label class="control-label" ng-show="showTitle()">{{ form.title }}</label>\n  <ol class="list-group" sf-field-model ui-sortable="form.sortOptions">\n    <li class="list-group-item {{form.fieldHtmlClass}}"\n        schema-form-array-items\n        sf-field-model="ng-repeat"\n        ng-repeat="item in $$value$$ track by $index">\n      <button ng-hide="form.readonly || form.remove === null"\n              ng-click="deleteFromArray($index)"\n              ng-disabled="form.schema.minItems >= modelArray.length"\n              style="position: absolute; z-index: 20; right: 0; top: 12px; font-size: 20px;"\n              type="button" class="close">\n              <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>\n      </button>\n    </li>\n  </ol>\n  <div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form">\n    <div class="help-block"\n         ng-show="(hasError() && errorMessage(schemaError())) || form.description"\n         ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div>\n\n    <button ng-hide="form.readonly || form.add === null"\n            ng-click="appendToArray()"\n            ng-disabled="form.schema.maxItems <= modelArray.length"\n            type="button"\n            class="btn {{ form.style.add || \'btn-default\' }} pull-right">\n      {{ form.add || \'Add\'}}\n    </button>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="form-group">\n  <div class="checkbox schema-form-checkbox {{form.htmlClass}}"\n       ng-class="{\'has-error\': form.disableErrorState !== true &&  hasError(), \'has-success\': form.disableSuccessState !== true &&  hasSuccess()}">\n    <label class="{{form.checkboxLabelHtmlClass}}">\n      <input type="checkbox"\n             sf-changed="form"\n             ng-disabled="form.readonly"\n             sf-field-model\n             schema-validate="form"\n             class="{{form.fieldHtmlClass}}"\n             name="{{form.key.slice(-1)[0]}}">\n      <span ng-bind-html="form.title"></span>\n    </label>\n    <div class="help-block {{form.checkboxHelpHtmlClass}}" sf-message="form.description"></div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div sf-field-model="sf-new-array"\n     sf-new-array\n     class="form-group schema-form-checkboxes {{form.htmlClass}}"\n     ng-class="{\'has-error\': form.disableErrorState !== true &&  hasError(), \'has-success\': form.disableSuccessState !== true &&  hasSuccess()}">\n  <label class="control-label {{form.labelHtmlClass}}"\n         sf-field-model\n         schema-validate="form"\n         ng-show="showTitle()">{{form.title}}</label>\n\n  <div class="{{form.fieldWrapperHtmlClass}}">\n    <div class="checkbox" ng-repeat="val in titleMapValues track by $index" >\n      <label>\n        <input type="checkbox"\n               ng-disabled="form.readonly"\n               sf-changed="form"\n               class="{{form.fieldHtmlClass}}"\n               ng-model="titleMapValues[$index]"\n               name="{{form.key.slice(-1)[0]}}">\n        <span ng-bind-html="form.titleMap[$index].name"></span>\n      </label>\n    </div>\n  </div>\n  <div class="help-block" sf-message="form.description"></div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}"\n     ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }">\n  <label class="control-label {{form.labelHtmlClass}}" ng-class="{required: form.required, \'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label>\n\n  <div class="{{form.fieldWrapperHtmlClass}}">\n    <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight"\n           ng-show="form.key"\n           type="{{form.type}}"\n           step="any"\n           sf-changed="form"\n           placeholder="{{form.placeholder}}"\n           class="form-control {{form.fieldHtmlClass}}"\n           id="{{form.key.slice(-1)[0]}}"\n           sf-field-model\n           ng-disabled="form.readonly"\n           ng-required="form.required"\n           schema-validate="form"\n           name="{{form.key.slice(-1)[0]}}"\n           aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}">\n\n    <div ng-if="form.fieldAddonLeft || form.fieldAddonRight"\n         ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}">\n      <span ng-if="form.fieldAddonLeft"\n            class="input-group-addon"\n            ng-bind-html="form.fieldAddonLeft"></span>\n      <input ng-show="form.key"\n             type="{{form.type}}"\n             step="any"\n             sf-changed="form"\n             placeholder="{{form.placeholder}}"\n             class="form-control {{form.fieldHtmlClass}}"\n             id="{{form.key.slice(-1)[0]}}"\n             sf-field-model\n             ng-disabled="form.readonly"\n             schema-validate="form"\n             name="{{form.key.slice(-1)[0]}}"\n             aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}">\n\n      <span ng-if="form.fieldAddonRight"\n            class="input-group-addon"\n            ng-bind-html="form.fieldAddonRight"></span>\n    </div>\n\n    <span ng-if="form.feedback !== false"\n          class="form-control-feedback"\n          ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }"\n          aria-hidden="true"></span>\n\n    <span ng-if="hasError() || hasSuccess()"\n          id="{{form.key.slice(-1)[0] + \'Status\'}}"\n          class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span>\n\n    <div class="help-block" sf-message="form.description"></div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="form-group {{form.htmlClass}} schema-form-select"\n     ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}">\n   <label class="control-label {{form.labelHtmlClass}}" ng-class="{ required: form.required }" ng-show="showTitle()">\n    {{form.title}}\n  </label>\n  <div class="{{form.fieldWrapperHtmlClass}}">\n    <ui-select sf-field-model\n            ng-disabled="form.readonly"\n            ng-required="form.required"\n            sf-changed="form"\n            schema-validate="form">\n      <ui-select-match>\n        {{$select.selected.name}}\n      </ui-select-match>\n      <ui-select-choices repeat="item.value as item in form.titleMap | filter : $select.search">\n        <span ng-bind-html="item.name | highlightKeywords : $select.search"></span>\n      </ui-select-choices>\n    </ui-select>\n    <div class="help-block" sf-message="form.description"></div>\n  </div>\n</div>\n';
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(42);
t.catalogParameters = {
bindings: {
parameterSchema: "<",
model: "="
},
controller: i.CatalogParametersController,
template: n(32)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(43);
t.catalogSearch = {
bindings: {
baseProjectUrl: "@",
catalogItems: "<"
},
controller: i.CatalogSearchController,
template: n(33)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(44);
t.createFromBuilder = {
bindings: {
baseProjectUrl: "@",
imageStream: "<",
handleClose: "<"
},
controller: i.CreateFromBuilderController,
template: n(34)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(45);
t.landingPage = {
bindings: {
baseProjectUrl: "@",
onTemplateSelected: "&"
},
controller: i.LandingPageController,
template: n(35),
transclude: {
landingsearch: "landingsearch",
landingheader: "landingheader",
landingbody: "landingbody",
landingside: "landingside"
}
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(46);
t.orderService = {
bindings: {
baseProjectUrl: "@",
serviceClass: "<",
handleClose: "<"
},
controller: i.OrderServiceController,
template: n(36)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(47);
t.overlayPanel = {
bindings: {
showClose: "<",
showPanel: "<",
handleClose: "<",
singleColumn: "<"
},
controller: i.OverlayPanelController,
template: n(37),
transclude: !0
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(48);
t.projectsSummary = {
bindings: {
baseProjectUrl: "@",
catalogItems: "<",
projectsUrl: "@",
viewEditMembership: "&",
startTour: "&"
},
controller: i.ProjectsSummaryController,
template: n(38)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(49);
t.saasList = {
bindings: {
saasTitle: "<?",
saasOfferings: "<"
},
controller: i.SaasListController,
template: n(39)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(50);
t.selectProject = {
bindings: {
selectedProject: "=",
nameTaken: "<"
},
controller: i.SelectProjectController,
template: n(40)
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(51);
t.servicesView = {
bindings: {
baseProjectUrl: "@",
catalogItems: "<"
},
controller: i.ServicesViewController,
template: n(41)
};
}, function(e, t, n) {
"use strict";
(function(e) {
t.__esModule = !0;
var i = n(0);
i.set(window, "OPENSHIFT_CONSTANTS.HELP_BASE_URL", "https://docs.openshift.org/latest/");
var r = {
new_app: "dev_guide/application_lifecycle/new_app.html",
application_health: "dev_guide/application_health.html",
authorization: "architecture/additional_concepts/authorization.html",
deployments: "dev_guide/deployments/how_deployments_work.html",
default: "welcome/index.html"
};
i.set(window, "OPENSHIFT_CONSTANTS.HELP", r);
var o = [ {
id: 1,
title: "Microservices Application",
icon: "fa fa-cubes",
url: "https://www.redhat.com/en/technologies/virtualization",
description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt."
}, {
id: 2,
title: "Mobile Application",
icon: "fa fa-user",
url: "https://www.redhat.com/en/technologies/mobile",
description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt."
}, {
id: 3,
title: "Integration Application",
icon: "fa fa-plug",
url: "https://www.redhat.com/en/technologies/cloud-computing",
description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt."
}, {
id: 4,
title: "Business Process Application",
icon: "fa fa-cubes",
url: "https://www.redhat.com/en/technologies/management",
description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt.  This is way too long! Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt."
} ], a = [ {
id: "languages",
label: "Languages",
subCategories: [ {
id: "java",
label: "Java",
tags: [ "java" ],
icon: "font-icon icon-openjdk"
}, {
id: "javascript",
tags: [ "javascript", "nodejs", "js" ],
label: "JavaScript",
icon: "font-icon icon-js"
}, {
id: "dotnet",
label: ".NET",
tags: [ "dotnet" ],
icon: "font-icon icon-dotnet"
}, {
id: "perl",
label: "Perl",
tags: [ "perl" ],
icon: "font-icon icon-perl"
}, {
id: "ruby",
label: "Ruby",
tags: [ "ruby" ],
icon: "font-icon icon-ruby"
}, {
id: "php",
label: "PHP",
tags: [ "php" ],
icon: "font-icon icon-php"
}, {
id: "python",
label: "Python",
tags: [ "python" ],
icon: "font-icon icon-python"
}, {
id: "golang",
label: "Go",
tags: [ "golang", "go" ],
icon: "font-icon icon-go-gopher"
} ]
}, {
id: "databases",
label: "Databases",
subCategories: [ {
id: "mongodb",
label: "Mongo",
tags: [ "mongodb" ],
icon: "font-icon icon-mongodb"
}, {
id: "mysql",
label: "mySQL",
tags: [ "mysql" ],
icon: "font-icon icon-mysql-database"
}, {
id: "postgresql",
label: "Postgres",
tags: [ "postgresql" ],
icon: "font-icon icon-postgresql"
}, {
id: "mariadb",
label: "MariaDB",
tags: [ "mariadb" ],
icon: "font-icon icon-mariadb"
} ]
}, {
id: "middleware",
label: "Middleware",
subCategories: [ {
id: "jboss",
label: "JBoss",
tags: [ "jboss" ],
icon: "font-icon icon-openjdk"
}, {
id: "fuse",
label: "Fuse",
tags: [ "fuse" ],
icon: "font-icon icon-openjdk"
}, {
id: "amq",
label: "A-MQ",
tags: [ "amq" ],
icon: "font-icon icon-openjdk"
}, {
id: "bpm",
label: "BPM",
tags: [ "bpm" ],
icon: "font-icon icon-openjdk"
} ]
}, {
id: "cicd",
label: "CI/CD",
subCategories: [ {
id: "jenkins",
label: "Jenkins",
tags: [ "jenkins" ],
icon: "font-icon icon-jenkins"
}, {
id: "pipelines",
label: "Pipelines",
tags: [ "pipelines" ],
icon: "fa fa-clone"
} ]
} ];
i.set(window, "OPENSHIFT_CONSTANTS.SERVICE_CATALOG_CATEGORIES", a), i.set(window, "OPENSHIFT_CONSTANTS.SAAS_OFFERINGS", o);
var s = {
links: [ {
title: "Documentation",
help: ""
}, {
title: "Developer Portal",
href: "https://developers.openshift.com"
}, {
title: "Interactive Learning Portal",
href: "https://openshift.katacoda.com"
}, {
title: "Local Development ",
href: "https://www.openshift.org/minishift"
}, {
title: "YouTube",
href: "https://www.youtube.com/user/rhopenshift"
}, {
title: "Blog",
href: "https://blog.openshift.com"
} ]
};
i.set(window, "OPENSHIFT_CONSTANTS.CATALOG_HELP_RESOURCES", s);
var l = {
landing_page_tour: {
enabled: !0,
auto_launch: !1,
steps: {
id: "getting-started-tour",
steps: [ {
title: "Create Project",
content: "Projects allow you to organize and manage your content. Projects require a unique name, and optionally can include a display name, and description",
target: ".catalog-projects-summary-panel .create-button",
targetScrollElement: ".landing-side-bar",
placement: "left"
}, {
title: "Search Catalog",
content: "Search by name, description, keyword, or label to quickly locate items in the catalog that you want to add to your project.",
target: ".landing-search-area .landing-search-form",
placement: "bottom",
fixedElement: !0
}, {
title: "Browse Catalog",
content: "If you don’t know exactly what you are looking for, you can browse all available catalog items under the first tab in the catalog.",
target: ".services-view-container h1",
placement: "bottom",
xOffset: 20,
delay: 300,
preShow: function() {
e("body").find(".services-view-container .nav-tabs a")[0].click();
}
}, {
title: "Browse by Category",
content: "A secondary level of categorization is available to further narrow your search.",
target: ".services-view-container .nav-tabs li:nth-child(2)",
placement: "right",
delay: 200,
preShow: function() {
e(e("body").find(".services-view-container .nav-tabs li")[1]).find("a")[0].click(), setTimeout(function() {
e("body").find(".services-sub-category-tab")[1].click();
});
}
}, {
title: "Configure a Resource",
content: "Clicking on a catalog item will open a panel allowing you to configure and create within a project.",
target: ".services-sub-category.active .services-items .services-item",
placement: "right"
}, {
title: "Additional Help",
content: "Additional resources can be found here or you can always access the help icon in the top banner for more information.",
target: ".resources-panel",
targetScrollElement: ".landing-side-bar",
placement: "left"
} ]
}
}
};
i.set(window, "OPENSHIFT_CONSTANTS.GUIDED_TOURS", l);
}).call(t, n(2));
}, function(e, t, n) {
"use strict";
t.__esModule = !0, t.projectUrlFilter = function() {
return function(e, t) {
var n = t || "project/", i = e && e.metadata ? e.metadata.name : "";
return n.endsWith("/") || (n += "/"), n + i;
};
};
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = function() {
function e() {}
return e.prototype.makeAPIObjects = function(e) {
var t = this.getPorts(e.imageStreamTag), n = i.first(t), r = [ this.makeImageStream(e), this.makeBuildConfig(e), this.makeDeploymentConfig(e, t) ];
return n && (r.concat(this.makeService(e, n)), r.concat(this.makeRoute(e, n))), r;
}, e.prototype.getPorts = function(e) {
var t = e.image, n = i.get(t, "dockerImageMetadata.Config.ExposedPorts") || i.get(t, "dockerImageMetadata.ContainerConfig.ExposedPorts", []);
return this.parsePortsFromSpec(n);
}, e.prototype.parsePortsFromSpec = function(e) {
var t = [];
return i.each(e, function(e, n) {
var i = n.split("/");
1 === i.length && i.push("tcp");
var r = parseInt(i[0], 10);
isNaN(r) ? this.Logger.warn("Container port " + i[0] + " is not a number") : t.push({
containerPort: r,
protocol: i[1].toUpperCase()
});
}), t;
}, e.prototype.getAnnotations = function() {
return {
"openshift.io/generated-by": "OpenShiftWebConsole"
};
}, e.prototype.getLabels = function(e) {
return {
app: e.name
};
}, e.prototype.getPortName = function(e) {
return (e.containerPort + "-" + e.protocol).toLowerCase();
}, e.prototype.makeRoute = function(e, t) {
return {
kind: "Route",
apiVersion: "v1",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
},
spec: {
to: {
kind: "Service",
name: e.name
},
port: {
targetPort: this.getPortName(t)
},
wildcardPolicy: "None"
}
};
}, e.prototype.makeService = function(e, t) {
return {
kind: "Service",
apiVersion: "v1",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
},
spec: {
selector: {
deploymentconfig: e.name
},
ports: [ {
port: t.containerPort,
targetPort: t.containerPort,
protocol: t.protocol,
name: this.getPortName(t)
} ]
}
};
}, e.prototype.makeDeploymentConfig = function(e, t) {
return {
apiVersion: "v1",
kind: "DeploymentConfig",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
},
spec: {
replicas: 1,
selector: {
deploymentconfig: e.name
},
triggers: [ {
type: "ImageChange",
imageChangeParams: {
automatic: !0,
containerNames: [ e.name ],
from: {
kind: "ImageStreamTag",
name: e.name + ":latest"
}
}
}, {
type: "ConfigChange"
} ],
template: {
metadata: {
labels: i.assign({
deploymentconfig: e.name
}, this.getLabels(e))
},
spec: {
containers: [ {
name: e.name,
image: e.name + ":latest",
ports: t,
env: []
} ]
}
}
}
};
}, e.prototype.makeBuildConfig = function(e) {
return {
apiVersion: "v1",
kind: "BuildConfig",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
},
spec: {
output: {
to: {
kind: "ImageStreamTag",
name: e.name + ":latest"
}
},
source: {
git: {
ref: "master",
uri: e.repository
},
type: "Git"
},
strategy: {
type: "Source",
sourceStrategy: {
from: {
kind: "ImageStreamTag",
name: e.imageStreamTag.metadata.name,
namespace: e.imageStreamTag.metadata.namespace
},
env: []
}
},
triggers: [ {
type: "ImageChange",
imageChange: {}
}, {
type: "ConfigChange"
} ]
}
};
}, e.prototype.makeImageStream = function(e) {
return {
apiVersion: "v1",
kind: "ImageStream",
metadata: {
name: e.name,
labels: this.getLabels(e),
annotations: this.getAnnotations()
}
};
}, e;
}();
t.BuilderAppService = r;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(e, t, n, i, r, o) {
this.$filter = e, this.$q = t, this.constants = n, this.apiService = i, this.dataService = r, this.logger = o;
}
return e.prototype.getCatalogItems = function(e) {
var t = this, n = this.$q.defer(), i = {}, r = 0, o = 0, a = [], s = {
group: "servicecatalog.k8s.io",
resource: "serviceclasses"
};
return this.apiService.apiInfo(s) && (++r, this.dataService.list(s, {}).then(function(e) {
i.serviceClasses = e.by("metadata.name");
}, function() {
a.push("service classes");
}).finally(function() {
t.returnCatalogItems(n, i, ++o, r, a);
})), ++r, this.dataService.list("imagestreams", {
namespace: "openshift"
}).then(function(e) {
i.imageStreams = e.by("metadata.name");
}, function() {
a.push("builder images");
}).finally(function() {
t.returnCatalogItems(n, i, ++o, r, a);
}), e && (++r, this.dataService.list("templates", {
namespace: "openshift"
}).then(function(e) {
i.templates = e.by("metadata.name");
}, function() {
a.push("templates");
}).finally(function() {
t.returnCatalogItems(n, i, ++o, r, a);
})), n.promise;
}, e.prototype.convertToServiceItems = function(e, t, n) {
var i = this, o = r.map(e, function(e) {
return i.getServiceItem(e);
});
return o = o.concat(r.map(t, function(e) {
return i.getImageItem(e);
})), o = o.concat(r.map(n, function(e) {
return i.getTemplateItem(e);
})), o = r.reject(o, function(e) {
return !e;
}), o = o.sort(function(e, t) {
var n = r.get(e, "name", "").localeCompare(r.get(t, "name", ""), void 0, {
sensitivity: "base"
});
return 0 === n && (n = r.get(e, "resource.kind", "").localeCompare(r.get(t, "resource.kind", ""), void 0, {
sensitivity: "base"
})), 0 === n && (n = r.get(e, "resource.metadata.name", "").localeCompare(r.get(t, "resource.metadata.name", ""), void 0, {
sensitivity: "base"
})), n;
}), this.categorizeItems(o), o;
}, e.prototype.getServiceItem = function(e) {
return new a(e, this);
}, e.prototype.getImageItem = function(e) {
var t = new s(e, this);
return t.builderSpecTagName ? t : null;
}, e.prototype.getTemplateItem = function(e) {
return new l(e, this);
}, e.prototype.categorizeItems = function(e) {
var t, n, o = this;
this.categories = i.copy(this.constants.SERVICE_CATALOG_CATEGORIES), this.createAllAndOtherMainCategories();
var a = r.first(this.categories), s = r.get(a, "subCategories[0]"), l = r.last(this.categories), c = r.get(l, "subCategories[0]");
r.each(e, function(e) {
n = !1, r.each(o.categories, function(i) {
i.tags ? o.hasMatchingTags(i.tags, e.tags) && (n = o.categorizeItem(e, i, "all"), t = o.filterSubCatsByTags(i.subCategories, e.tags), r.isEmpty(t) ? o.categorizeItem(e, i, "other") : r.each(t, function(t) {
o.categorizeItem(e, i, t);
})) : (t = o.filterSubCatsByTags(i.subCategories, e.tags), r.isEmpty(t) || (n = o.categorizeItem(e, i, "all"), r.each(t, function(t) {
o.categorizeItem(e, i, t);
})));
}), n || o.categorizeItem(e, l, c), o.categorizeItem(e, a, s);
});
}, e.prototype.categorizeItem = function(e, t, n) {
return r.isString(n) && (n = this.getAllOrOtherSubCategory(t, n)), n.items = r.isArray(n.items) ? n.items.concat([ e ]) : [ e ], t.hasItems = n.hasItems = !0;
}, e.prototype.createAllAndOtherMainCategories = function() {
this.categories.unshift({
id: "all",
label: "All",
subCategories: [ {
id: "all",
label: "All"
} ]
}), this.categories.push({
id: "other",
label: "Other",
subCategories: [ {
id: "all",
label: "all"
} ]
});
}, e.prototype.getAllOrOtherSubCategory = function(e, t) {
var n = r.find(e.subCategories, {
id: t
});
return n || ("other" === t ? (n = {
id: "other",
label: "Other"
}, e.subCategories.push(n)) : (n = {
id: "all",
label: "All"
}, e.subCategories.unshift(n))), n;
}, e.prototype.hasMatchingTags = function(e, t) {
return r.some(e, function(e) {
var n = e.toLowerCase();
return r.some(t, function(e) {
return n === e.toLowerCase();
});
});
}, e.prototype.filterSubCatsByTags = function(e, t) {
var n = this;
return r.filter(e, function(e) {
return n.hasMatchingTags(e.tags, t);
});
}, e.prototype.returnCatalogItems = function(e, t, n, i, o) {
if (!(n < i)) {
o = r.size(o) ? "Unable to load all content for the catalog. Error loading " + this.formatArray(o) : null;
var a = this.convertToServiceItems(t.serviceClasses, t.imageStreams, t.templates);
e.resolve([ a, o ]);
}
}, e.prototype.formatArray = function(e) {
var t = "";
return 1 === e.length ? t = e[0] : 2 === e.length ? t = e.join(" and ") : e.length > 2 && (t = e.slice(0, -1).join(", ") + ", and " + e.slice(-1)), t + ".";
}, e;
}();
o.$inject = [ "$filter", "$q", "Constants", "APIService", "DataService", "Logger" ], t.CatalogService = o;
var a = function() {
function e(e, t) {
this.resource = e, this.catalogSrv = t, this.imageUrl = this.getImage(), this.iconClass = this.getIcon(), this.name = this.getName(), this.description = this.getDescription(), this.longDescription = this.getLongDescription(), this.tags = this.getTags();
}
return e.prototype.getImage = function() {
return r.get(this.resource, "externalMetadata.imageUrl") || "";
}, e.prototype.getIcon = function() {
var e = r.get(this.resource, [ "externalMetadata", "console.openshift.io/iconClass" ]) || "fa fa-clone";
return e = -1 !== e.indexOf("icon-") ? "font-icon " + e : e;
}, e.prototype.getName = function() {
return r.get(this.resource, "externalMetadata.displayName") || this.resource.metadata.name;
}, e.prototype.getDescription = function() {
return r.get(this.resource, "description") || "";
}, e.prototype.getLongDescription = function() {
return r.get(this.resource, "externalMetadata.longDescription") || "";
}, e.prototype.getTags = function() {
return r.get(this.resource, "alphaTags") || [];
}, e;
}();
t.ServiceItem = a;
var s = function() {
function e(e, t) {
this.resource = e, this.catalogSrv = t, this.builderSpecTagName = this.getBuilderSpecTagName(), this.builderSpecTagName && (this.tags = this.getTags(), this.iconClass = this.getIcon(), this.name = this.getName(), this.description = this.getDescription(), this.longDescription = this.getLongDescription());
}
return e.prototype.getBuilderSpecTagName = function() {
var e, t = this;
return this.resource.status ? (this.resource.spec && this.resource.spec.tags && (e = r.find(this.resource.spec.tags, function(e) {
var n = r.get(e, "annotations.tags");
if (n && (n = n.split(/\s*,\s*/), r.includes(n, "builder") && !r.includes(n, "hidden"))) return r.some(t.resource.status.tags, function(t) {
return t.tag === e.name;
});
})), e ? e.name : null) : null;
}, e.prototype.getTags = function() {
return this.catalogSrv.$filter("imageStreamTagTags")(this.resource, this.builderSpecTagName);
}, e.prototype.getIcon = function() {
var e = this.catalogSrv.$filter("imageStreamTagIconClass")(this.resource, this.builderSpecTagName);
return e = -1 !== e.indexOf("icon-") ? "font-icon " + e : e;
}, e.prototype.getName = function() {
var e = this.catalogSrv.$filter("displayName")(this.resource);
return e || (e = this.resource.metadata.name), e;
}, e.prototype.getDescription = function() {
return null;
}, e.prototype.getLongDescription = function() {
return null;
}, e;
}();
t.ImageItem = s;
var l = function() {
function e(e, t) {
this.resource = e, this.catalogSrv = t, this.imageUrl = this.getImage(), this.iconClass = this.getIcon(), this.name = this.getName(), this.description = this.getDescription(), this.longDescription = this.getLongDescription(), this.tags = this.getTags();
}
return e.prototype.getImage = function() {
return "";
}, e.prototype.getIcon = function() {
var e = r.get(this.resource, "metadata.annotations.iconClass", "fa fa-clone");
return e = -1 !== e.indexOf("icon-") ? "font-icon " + e : e;
}, e.prototype.getName = function() {
return this.catalogSrv.$filter("displayName")(this.resource);
}, e.prototype.getDescription = function() {
return r.get(this.resource, "metadata.annotations.description", "");
}, e.prototype.getLongDescription = function() {
return r.get(this.resource, [ "metadata", "annotations", "template.openshift.io/long-description" ], "");
}, e.prototype.getTags = function() {
return r.get(this.resource, "metadata.annotations.tags", "").split(/\s*,\s*/);
}, e;
}();
t.TemplateItem = l;
}, function(e, t, n) {
"use strict";
(function(e) {
t.__esModule = !0;
var n = function() {
function t(e) {
this.$rootScope = e;
}
return t.prototype.getItems = function() {
var e = localStorage.getItem("catalog-recently-viewed-services");
return e ? JSON.parse(e) : [];
}, t.prototype.addItem = function(t) {
var n = this.getItems();
e.remove(n, function(e) {
return e === t;
}), n.unshift(t), n = e.take(n, 4), this.setRecentlyViewedItems(n);
}, t.prototype.setRecentlyViewedItems = function(e) {
localStorage.setItem("catalog-recently-viewed-services", JSON.stringify(e)), this.$rootScope.$emit("recently-viewed-updated");
}, t;
}();
n.$inject = [ "$rootScope" ], t.RecentlyViewedServiceItems = n;
}).call(t, n(0));
}, function(e, t) {
e.exports = '\x3c!-- Use angular-schema-form to show a form based on the parameter JSON schema. --\x3e\n<ng-form\n  sf-model="$ctrl.model"\n  sf-form="$ctrl.parameterForm"\n  sf-schema="$ctrl.parameterSchema"\n  sf-options="$ctrl.parameterFormDefaults">\n</ng-form>\n';
}, function(e, t) {
e.exports = '<div class="catalog-search">\n  <form role="form" class="landing-search-form search-pf has-button">\n    <div class="form-group has-clear">\n      <div class="search-pf-input-group">\n        <label for="search-input" class="sr-only">Search Catalog</label>\n        <span class="fa fa-search catalog-search-icon" aria-hidden="true"></span>\n        <input\n            id="search-input"\n            type="search"\n            autocomplete="off"\n            class="form-control catalog-search-input"\n            placeholder="Search Catalog"\n            ng-model="$ctrl.searchText"\n            uib-typeahead="item.name for item in $ctrl.search($viewValue)"\n            typeahead-on-select="$ctrl.itemSelected($item)"\n            typeahead-focus-first="false"\n            typeahead-template-url="catalog-search/catalog-search-result.html"\n            autocorrect="off"\n            autocapitalize="off"\n            spellcheck="false">\n        <button\n            type="button"\n            ng-if="$ctrl.searchText"\n            ng-click="$ctrl.searchText = \'\'"\n            class="clear">\n          <span class="sr-only">Clear Search Input</span>\n          <span class="pficon pficon-close" aria-hidden="true"></span>\n        </button>\n      </div>\n    </div>\n  </form>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service">\n  <div pf-wizard\n       hide-header="true"\n       hide-sidebar="true"\n       step-class="order-service-wizard-step"\n       wizard-ready="$ctrl.wizardReady"\n       next-title="$ctrl.nextTitle"\n       on-finish="$ctrl.closePanel()"\n       on-cancel="$ctrl.closePanel()"\n       wizard-done="$ctrl.wizardDone">\n    <div pf-wizard-step ng-repeat="step in $ctrl.steps track by $index"\n         step-title="{{step.label}}"\n         wz-disabled="{{step.hidden}}"\n         allow-click-nav="step.allowed"\n         next-enabled="step.valid && !$ctrl.updating"\n         prev-enabled="step.prevEnabled"\n         on-show="step.onShow"\n         step-id="{{step.id}}"\n         step-priority="{{$index}}">\n      <div class="wizard-pf-main-inner-shadow-covers">\n        <div class="order-service-details">\n          <div class="order-service-details-top">\n            <div class="service-icon">\n              <span class="icon {{$ctrl.imageStream.iconClass}}"></span>\n            </div>\n            <div class="service-title-area">\n              <div class="service-title">\n                {{$ctrl.imageStream.name}}\n                {{$ctrl.istag.name}}\n              </div>\n              <div class="order-service-tags">\n                <span ng-repeat="tag in $ctrl.istag.annotations.tags.split(\',\')" class="tag">\n                  {{tag}}\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class="order-service-description-block">\n            <p ng-bind-html="$ctrl.istag.annotations.description | linky : \'_blank\'" class="description"></p>\n            <p ng-if="$ctrl.istag.annotations.sampleRepo">\n              Sample Repository:\n              \x3c!-- TODO: Use Git link filter, needs to be added to origin-web-common --\x3e\n              <span ng-bind-html="$ctrl.istag.annotations.sampleRepo | linky : \'_blank\'">\n            </p>\n          </div>\n        </div>\n        <div class="order-service-config">\n          <div ng-include="step.view" class="wizard-pf-main-form-contents"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="landing">\n  <overlay-panel show-panel="$ctrl.orderingPanelVisible" show-close="true" handle-close="$ctrl.closeOrderingPanel">\n    <order-service\n        ng-if="$ctrl.selectedItem.resource.kind === \'ServiceClass\'"\n        base-project-url="{{$ctrl.baseProjectUrl}}"\n        service-class="$ctrl.selectedItem"\n        handle-close="$ctrl.closeOrderingPanel">\n    </order-service>\n    <create-from-builder\n        ng-if="$ctrl.selectedItem.resource.kind === \'ImageStream\'"\n        base-project-url="{{$ctrl.baseProjectUrl}}"\n        image-stream="$ctrl.selectedItem"\n        handle-close="$ctrl.closeOrderingPanel">\n    </create-from-builder>\n  </overlay-panel>\n  <div class="landing-search-area" ng-transclude="landingsearch"></div>\n  <div class="landing-main-area">\n    <div class="landing-header-area" ng-transclude="landingheader"></div>\n    <div class="landing-body-area">\n      <div class="landing-body" ng-transclude="landingbody"></div>\n    </div>\n  </div>\n  <div class="landing-side-bar" ng-transclude="landingside"></div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="order-service">\n  <div pf-wizard\n       hide-header="true"\n       hide-sidebar="true"\n       step-class="order-service-wizard-step"\n       wizard-ready="$ctrl.wizardReady"\n       next-title="$ctrl.nextTitle"\n       on-finish="$ctrl.closePanel()"\n       on-cancel="$ctrl.closePanel()"\n       wizard-done="$ctrl.wizardDone">\n    <div pf-wizard-step ng-repeat="step in $ctrl.steps track by $index"\n         step-title="{{step.label}}"\n         wz-disabled="{{step.hidden}}"\n         allow-click-nav="step.allowed"\n         next-enabled="step.valid && !$ctrl.updating"\n         prev-enabled="step.prevEnabled"\n         on-show="step.onShow"\n         step-id="{{step.id}}"\n         step-priority="{{$index}}">\n      <div class="wizard-pf-main-inner-shadow-covers">\n        <div class="order-service-details">\n          <div class="order-service-details-top">\n            <div class="service-icon">\n              <span ng-if="!$ctrl.imageUrl" class="icon {{$ctrl.iconClass}}"></span>\n              <span ng-if="$ctrl.imageUrl" class="image"><img ng-src="{{$ctrl.imageUrl}}" alt=""></span>\n            </div>\n            <div class="service-title-area">\n              <div class="service-title">\n                {{$ctrl.serviceName}}\n              </div>\n              <div ng-if="$ctrl.serviceClass.tags" class="order-service-tags">\n                <span ng-repeat="tag in $ctrl.serviceClass.tags" class="tag">\n                  {{tag}}\n                </span>\n              </div>\n              <div ng-if="$ctrl.serviceClass.resource.externalMetadata.documentationUrl" class="order-service-documentation-url">\n                <a ng-href="{{$ctrl.serviceClass.resource.externalMetadata.documentationUrl}}" target="_blank" class="learn-more-link">Learn More <i class="fa fa-external-link" aria-hidden="true"></i></a>\n              </div>\n            </div>\n          </div>\n          <div class="order-service-description-block">\n            <p ng-if="$ctrl.currentStep.id !== \'plans\' && ($ctrl.selectedPlan.externalMetadata.displayName || $ctrl.selectedPlan.description)">\n              <span ng-if="$ctrl.selectedPlan.externalMetadata.displayName">\n                Plan {{$ctrl.selectedPlan.externalMetadata.displayName}}\n                <span ng-if="$ctrl.selectedPlan.description">&ndash;</span>\n              </span>\n              <span ng-if="$ctrl.selectedPlan.description">{{$ctrl.selectedPlan.description}}</span>\n            </p>\n            <p ng-if="$ctrl.description" ng-bind-html="$ctrl.description | linky : \'_blank\'" class="description"></p>\n            <p ng-if="$ctrl.longDescription" ng-bind-html="$ctrl.longDescription | linky : \'_blank\'" class="description"></p>\n          </div>\n        </div>\n        <div class="order-service-config">\n          <div ng-include="step.view" class="wizard-pf-main-form-contents"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div class="catalogs-overlay-modal" role="dialog">\n  <div ng-if="$ctrl.shown" class="modal-backdrop fade in"></div>\n  <div ng-if="$ctrl.shown" class="catalogs-overlay-panel-wrapper">\n    <div class="catalogs-overlay-panel-grow-height">\n      <div class="catalogs-overlay-panel" ng-class="{\'catalogs-overlay-panel-single-column\' : $ctrl.singleColumn}">\n        <a ng-if="$ctrl.showClose" ng-click="$ctrl.closePanel()">\n          <span class="catalogs-overlay-panel-close pficon pficon-close"></span>\n        </a>\n        <div class="catalogs-overlay-panel-body" ng-transclude>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<div ng-if="$ctrl.loading" class="catalog-projects-spinner-container">\n  <div class="spinner spinner-inverse spinner-xl"></div>\n</div>\n<div class="catalog-projects-summary-panel" ng-show="!$ctrl.loading">\n  <button ng-if="$ctrl.canCreate" class="create-button btn btn-primary" ng-click="$ctrl.openNewProjectPanel()">\n    <span class="fa fa-plus"></span>\n    <span class="create-button-text">Create Project</span>\n  </button>\n  <h2 class="summary-title secondary" ng-if="!$ctrl.projects || !$ctrl.projects.length">Getting Started</h2>\n  <h2 class="summary-title secondary" ng-if="$ctrl.projects && $ctrl.projects.length">\n    <a href="{{$ctrl.projectsUrl}}">My Projects</a>\n  </h2>\n  <div ng-if="!$ctrl.canCreate">\n    <span ng-if="!$ctrl.newProjectMessage">\n      A cluster admin can create a project for you by running the command:\n      <div class="code-block">\n        <code class="projects-instructions-link">oc adm <span class="command-arg">new-project</span> &lt;projectname&gt; <span class="command-arg">--admin={{$ctrl.user.metadata.name || \'&lt;YourUsername&gt;\'}}</span></code>\n      </div>\n    </span>\n    <span ng-if="$ctrl.newProjectMessage" ng-bind-html="$ctrl.newProjectMessage | linky : \'_blank\'"></span>\n  </div>\n  <div class="catalog-modal catalog-modal-create-project" ng-if="$ctrl.showNewProjectPanel">\n    <h4 class="catalog-modal-title">\n      Create Project\n    </h4>\n    <create-project alerts="$ctrl.alerts" is-dialog="true" redirect-action="$ctrl.onNewProject" on-cancel="$ctrl.closeNewProjectPanel"></create-project>\n    <a href="" class="catalog-modal-close" ng-click="$ctrl.closeNewProjectPanel()">\n      <span class="pficon pficon-close"></span>\n    </a>\n  </div>\n  <div ng-if="$ctrl.projects && $ctrl.projects.length" class="catalog-project-summary-list">\n    <div class="projects-count">\n      <strong>{{$ctrl.projects.length}}</strong>\n      of\n      <strong>{{$ctrl.totalProjects}}</strong>\n      Projects\n      <a href="{{$ctrl.projectsUrl}}" class="projects-view-all">View All</a>\n    </div>\n    <div id="catalog-projects-summary-list">\n      <div ng-repeat="project in $ctrl.projects track by (project | uid)" class="project-tile tile-click">\n        <div class="dropdown  dropdown-kebab-pf" uib-dropdown="">\n          <button class="btn btn-link uib-dropdown-toggle" type="button" id="dropdownKebab" aria-haspopup="true" aria-expanded="true" uib-dropdown-toggle>\n            <span class="fa fa-ellipsis-v"></span>\n          </button>\n          <ul class="uib-dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebab">\n            <li><a href="" ng-click="$ctrl.onViewMemebership(project)">View Membership</a></li>\n            <li><a href="" ng-click="$ctrl.editProject(project)">Edit Project</a></li>\n            <li>\n              <delete-project\n                  label="Delete Project"\n                  project-name="{{project.metadata.name}}"\n                  display-name="{{(project | displayName)}}"\n                  type-name-to-confirm="true"\n                  stay-on-current-page="true"\n                  alerts="$ctrl.alerts">\n              </delete-project>\n            </li>\n          </ul>\n        </div>\n        <h3 class="project-tile-header">\n          <a href="{{project | projectUrl : $ctrl.baseProjectUrl}}" class="project-title tile-target">{{project | displayName}}</a>\n          <span ng-if="project.status.phase != \'Active\'"\n            data-toggle="tooltip"\n            data-container=".landing-side-bar"\n            title="This project has been marked for deletion."\n            class="pficon pficon-warning-triangle-o"></span>\n        </h3>\n        <p class="project-date">\n          <span ng-if="project | displayName : true"><span ng-bind-html="project.metadata.name"></span> &ndash;</span>\n          created\n          <span ng-if="project | annotation : \'openshift.io/requester\'">by <span ng-bind-html="project | annotation : \'openshift.io/requester\'"></span></span>\n          <span am-time-ago="project.metadata.creationTimestamp"></span>\n        </p>\n        <div class="project-description" ng-if="project | description">\n          <truncate-long-text content="project | description" use-word-boundary="true" limit="120"></truncate-long-text>\n        </div>\n        <div class="catalog-modal catalog-modal-edit-project tile-click-prevent" ng-if="$ctrl.showEditProjectPanel && $ctrl.edittingProject === project">\n          <h4 class="catalog-modal-title">\n            Edit Project\n          </h4>\n          <edit-project project="$ctrl.edittingProject" is-dialog="true" alerts="$ctrl.alerts" redirect-action="$ctrl.onEditProject" on-cancel="$ctrl.closeEditProjectPanel"></edit-project>\n          <a href="" class="catalog-modal-close" ng-click="$ctrl.closeEditProjectPanel()">\n            <span class="pficon pficon-close"></span>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-if="$ctrl.showGetStarted">\n    <div class="getting-started-panel">\n      <h2 class="secondary" ng-if="$ctrl.projects && $ctrl.projects.length > 0">Getting Started</h2>\n      <button ng-if="$ctrl.startTour()" class="getting-started-button btn btn-default hidden-xs" ng-class="{\'with-projects\': $ctrl.projects && $ctrl.projects.length}" ng-click="$ctrl.handleGettingStartedClick()">\n        <span class="fa fa-info-circle fa-2"></span>\n        <span class="getting-started-button-text">Take Home Page Tour</span>\n      </button>\n    </div>\n    <div class="resources-panel">\n      <ul>\n        <li ng-repeat="resource in $ctrl.resourceLinks">\n          <a href="{{resource.href}}" target="_blank" title="{{resource.href}}">{{resource.title}}</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div ng-if="$ctrl.recentlyViewedItems.length">\n    <h2 class="secondary">Recently Viewed</h2>\n    <div class="services-view">\n      <a href="" class="services-item" ng-repeat="item in $ctrl.recentlyViewedItems track by (item.resource | uid)"\n           ng-click="$ctrl.orderService(item)">\n        <div ng-if="!item.imageUrl" class="services-item-icon">\n          <span class="{{item.iconClass}}"></span>\n        </div>\n        <div ng-if="item.imageUrl" class="services-item-icon services-item-img">\n          <img ng-src="{{item.imageUrl}}">\n        </div>\n        <div class="services-item-name" title="{{item.name}}" aria-hidden="true">{{item.name}}</div>\n      </a>\n    </div>\n  </div>\n</div>\n';
}, function(e, t) {
e.exports = '<span ng-if="$ctrl.hasSaasOfferings()" class="saas-offerings-container">\n  <h1 ng-if="$ctrl.saasTitle">{{$ctrl.saasTitle}}</h1>\n  <div class="saas-list" ng-class="{\'expanded\': $ctrl.sassListExpanded, \'items-overflow\': $ctrl.itemsOverflow}" items="$ctrl.saasOfferings">\n    <div class="card" ng-repeat="item in $ctrl.saasOfferings">\n      <a ng-href="{{item.url}}" target="_blank" class="card-content">\n        <div class="card-icon">\n          <img ng-if="item.image" ng-src="{{item.image}}" alt="">\n          <span ng-if="!item.image" class="icon {{item.icon}}" aria-hidden="true"></span>\n        </div>\n        <div class="card-title">{{item.title}}</div>\n        <truncate-long-text\n                class="card-description hidden-xs"\n                content="item.description"\n                limit="120"\n                use-word-boundary="true">\n        </truncate-long-text>\n      </a>\n    </div>\n  </div>\n  <div ng-if="$ctrl.itemsOverflow" class="sass-list-expander-container">\n    <a href="" class="sass-list-expander" ng-class="{\'expanded\': $ctrl.sassListExpanded}" ng-click="$ctrl.toggleListExpand()">\n      Show <span class="more">More</span><span class="less">Less</span>\n    </a>\n  </div>\n</span>\n';
}, function(e, t) {
e.exports = '<ng-form name="$ctrl.forms.selectProjectForm">\n  <div class="form-group" ng-class="{\'has-error\' : $ctrl.forms.selectProjectForm.selectProject.$error.cannotAddToProject }">\n    <label class="control-label" for="project">Add to Project</label>\n    <ui-select\n        name="selectProject"\n        ng-model="$ctrl.selectedProject"\n        ng-change="$ctrl.onSelectProjectChange()"\n        search-enabled="$ctrl.searchEnabled">\n      <ui-select-match>\n        {{$select.selected | displayName}}\n      </ui-select-match>\n      <ui-select-choices repeat="project in $ctrl.projects | searchProjects : $select.search track by (project | uid)">\n        <span ng-bind-html="project | displayName | highlightKeywords : $select.search"></span>\n        <span ng-if="project | displayName : true" class="small text-muted">\n          <span ng-if="project.metadata.name">&ndash;</span>\n          <span ng-bind-html="project.metadata.name | highlightKeywords : $select.search"></span>\n        </span>\n      </ui-select-choices>\n    </ui-select>\n    <div ng-if="$ctrl.forms.selectProjectForm.selectProject.$error.cannotAddToProject">\n        <span class="help-block">\n          You are not authorized to add to this project\n        </span>\n    </div>\n  </div>\n</ng-form>\n\n<ng-form name="$ctrl.forms.createProjectForm"\n    ng-if="$ctrl.isNewProject()">\n  <div class="form-group">\n    <label for="name" class="control-label required">Project Name</label>\n    <div ng-class="{\'has-error\': ($ctrl.forms.createProjectForm.name.$error.pattern && $ctrl.forms.createProjectForm.name.$touched) || $ctrl.nameTaken}">\n      <input class="form-control"\n          name="name"\n          id="name"\n          placeholder="my-project"\n          type="text"\n          required\n          take-focus\n          minlength="2"\n          maxlength="63"\n          pattern="[a-z0-9]([-a-z0-9]*[a-z0-9])?"\n          aria-describedby="nameHelp"\n          ng-model="$ctrl.selectedProject.metadata.name"\n          osc-unique="$ctrl.existingProjectNames"\n          ng-model-options="{ updateOn: \'default blur\' }"\n          ng-change="$ctrl.onNewProjectNameChange()"\n          autocorrect="off"\n          autocapitalize="off"\n          spellcheck="false">\n      <div class="help-block">A unique name for the project.</div>\n      <div class="has-error" ng-if="$ctrl.forms.createProjectForm.name.$error.minlength && $ctrl.forms.createProjectForm.name.$touched">\n        <span id="nameHelp" class="help-block">\n          Name must have at least two characters.\n        </span>\n      </div>\n      <div class="has-error" ng-if="$ctrl.forms.createProjectForm.name.$error.pattern && $ctrl.forms.createProjectForm.name.$touched">\n        <span id="nameHelp" class="help-block">\n          Project names may only contain lower-case letters, numbers, and dashes.\n          They may not start or end with a dash.\n        </span>\n      </div>\n      <div class="has-error" ng-if="$ctrl.nameTaken || $ctrl.forms.createProjectForm.name.$error.oscUnique">\n        <span class="help-block">\n          This name is already in use. Please choose a different name.\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="displayName" class="control-label">Project Display Name</label>\n    <input class="form-control"\n      name="displayName"\n      id="displayName"\n      placeholder="My Project"\n      type="text"\n      ng-model="$ctrl.selectedProject.metadata.annotations[\'new-display-name\']">\n  </div>\n\n  <div class="form-group">\n    <label for="description" class="control-label">Project Description</label>\n    <textarea class="form-control"\n      name="description"\n      id="description"\n      placeholder="A short description."\n      ng-model="$ctrl.selectedProject.metadata.annotations[\'openshift.io/description\']"></textarea>\n  </div>\n</ng-form>\n';
}, function(e, t) {
e.exports = '<div class="services-view" ng-style="$ctrl.viewStyle">\n  <div ng-if="!$ctrl.loaded" class="spinner-container">\n    <div class="spinner spinner-xl"></div>\n  </div>\n  <div ng-if="$ctrl.loaded" class="services-view-container mobile-{{$ctrl.mobileView}}-view">\n    <h1>Browse Catalog</h1>\n    <ul class="nav nav-tabs nav-tabs-pf services-categories">\n      <li ng-repeat="category in $ctrl.categories"\n          ng-if="category.hasItems"\n          ng-class="{ active: $ctrl.currentFilter === category.id }">\n        <a href="" id="{{\'category-\'+category.id}}" class="services-category-heading" ng-click="$ctrl.selectCategory(category.id)">{{category.label}}</a>\n        <a ng-click="$ctrl.mobileView = \'categories\'" class="services-back-link" href="">Back</a>\n      </li>\n    </ul>\n\n    <div class="services-inner-container">\n      \x3c!-- Do not show sub-category items for \'All\' or \'Other\' main categories --\x3e\n      <ul class="services-sub-categories"\n          ng-if="$ctrl.currentFilter !== \'other\' && $ctrl.currentFilter !== \'all\'">\n        <li ng-repeat="subCategory in $ctrl.subCategories track by subCategory.id"\n             ng-if="subCategory.hasItems"\n             ng-attr-id="{{subCategory.id}}"\n             class="services-sub-category"\n             ng-class="{ active: $ctrl.currentSubFilter === subCategory.id }">\n          <a href="" id="{{\'services-sub-category-\'+subCategory.id}}"\n             class="services-sub-category-tab" ng-click="$ctrl.selectSubCategory(subCategory.id)">\n            <div class="services-sub-category-tab-image" ng-if="subCategory.imageUrl">\n              <img ng-src="{{subCategory.imageUrl}}" alt="">\n            </div>\n            <div class="services-sub-category-tab-icon {{subCategory.icon}}" ng-if="subCategory.icon && !subCategory.imageUrl"></div>\n            <div class="services-sub-category-tab-name">{{subCategory.label}}</div>\n          </a>\n         <a ng-click="$ctrl.mobileView = \'subcategories\'" class="services-back-link" href="">Back</a>\n          <div ng-if="$ctrl.currentSubFilter === subCategory.id" class="services-items">\n            <div pf-filter config="$ctrl.filterConfig" class="services-items-filter"></div>\n            <a href="" class="services-item" ng-repeat="item in $ctrl.filteredItems track by item.resource.metadata.uid" ng-click="$ctrl.handleClick(item)">\n              <div ng-if="!item.imageUrl" class="services-item-icon">\n                <span class="{{item.iconClass}}"></span>\n              </div>\n              <div ng-if="item.imageUrl" class="services-item-icon">\n                <img ng-src="{{item.imageUrl}}" alt="">\n              </div>\n              <div class="services-item-name" title="{{item.name}}">\n                {{item.name}}\n              </div>\n            </a>\n          </div>\n        </li>\n      </ul>\n\n      \x3c!-- Show catalog item for \'All\' and \'Other\' main categories --\x3e\n      <div ng-if="$ctrl.currentFilter === \'other\' || $ctrl.currentFilter === \'all\'" class="services-no-sub-categories">\n        <div class="services-items">\n          <div ng-if="$ctrl.isEmpty">There are no catalog items.</div>\n          <div ng-if="!$ctrl.isEmpty" pf-filter config="$ctrl.filterConfig" class="services-items-filter"></div>\n          <a href="" class="services-item" ng-repeat="item in $ctrl.filteredItems track by item.resource.metadata.uid" ng-click="$ctrl.handleClick(item)">\n            <div ng-if="!item.imageUrl" class="services-item-icon">\n              <span class="{{item.iconClass}}"></span>\n            </div>\n            <div ng-if="item.imageUrl" class="services-item-icon">\n              <img ng-src="{{item.imageUrl}}" alt="">\n            </div>\n            <div class="services-item-name" title="{{item.name}}">\n              {{item.name}}\n            </div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = function() {
function e() {
this.ctrl = this;
}
return e.prototype.$onInit = function() {
this.ctrl.parameterForm = [ "*" ], this.ctrl.parameterFormDefaults = {
formDefaults: {
disableSuccessState: !0,
feedback: !1
},
pristine: {
errors: !1,
success: !0
}
};
}, e;
}();
t.CatalogParametersController = i;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = function() {
function e(e, t, n, i, r) {
this.ctrl = this, this.loaded = !1, this.maxResultsToShow = 5, this.$rootScope = e, this.$scope = t, this.$q = n, this.Catalog = i, this.KeywordService = r;
}
return e.prototype.$onInit = function() {
this.ctrl.searchText = "";
}, e.prototype.$onChanges = function(e) {
if (e.catalogItems && this.ctrl.catalogItems && (this.loaded = !0, this.searchDeferred)) {
var t = this.filterForKeywords(this.ctrl.searchText);
this.searchDeferred.resolve(t), this.searchDeferred = null;
}
}, e.prototype.itemSelected = function(e) {
"viewAll" === e.id ? this.$rootScope.$emit("filter-catalog-items", {
searchText: this.ctrl.searchText
}) : "viewNone" !== e.id && this.$scope.$emit("open-overlay-panel", e), this.ctrl.searchText = "";
}, e.prototype.search = function(e) {
return e ? this.loaded ? this.filterForKeywords(e) : (this.searchDeferred = this.$q.defer(), this.searchDeferred.promise) : [];
}, e.prototype.filterForKeywords = function(e) {
var t = this.KeywordService.generateKeywords(e), n = this.KeywordService.filterForKeywords(this.ctrl.catalogItems, [ "name", "tags" ], t), r = i.size(n), o = i.take(n, this.maxResultsToShow);
return 0 === r ? o.push({
id: "viewNone",
text: "No results found for Keyword: " + e,
name: e
}) : 1 === r ? o.push({
id: "viewAll",
text: "View the result for Keyword: " + e,
name: e
}) : r > 1 && o.push({
id: "viewAll",
text: "View all " + r + " results for Keyword: " + e,
name: e
}), o;
}, e;
}();
r.$inject = [ "$rootScope", "$scope", "$q", "Catalog", "KeywordService" ], t.CatalogSearchController = r;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = n(52), a = function() {
function e(e, t, n, i, o, a, s, l, c, u, d) {
var h = this;
this.ctrl = this, this.watches = [], this.clearValidityWatcher = function() {
h.validityWatcher && (h.validityWatcher(), h.validityWatcher = void 0);
}, this.showConfig = function() {
h.clearValidityWatcher(), h.ctrl.nextTitle = "Next >", h.reviewStep.allowed = h.bindStep.hidden && h.configStep.valid, h.validityWatcher = h.$scope.$watch("$ctrl.builderForm.$valid", function(e, t) {
h.configStep.valid = e;
});
}, this.showBind = function() {
h.clearValidityWatcher(), h.ctrl.nextTitle = "Create", h.reviewStep.allowed = !0;
}, this.showResults = function() {
h.clearValidityWatcher(), h.ctrl.nextTitle = "Close", h.ctrl.wizardDone = !0, h.createApp();
}, this.onProjectUpdate = function() {
!h.instancesSupported || h.isNewProject() ? (h.ctrl.serviceInstances = [], h.updateBindability()) : (h.ctrl.updating = !0, h.DataService.list({
group: "servicecatalog.k8s.io",
resource: "instances"
}, {
namespace: h.ctrl.selectedProject.metadata.name
}, null, {
errorNotification: !1
}).then(function(e) {
h.ctrl.serviceInstances = r.filter(r.toArray(e.by("metadata.name")), h.isServiceBindable), h.sortServiceInstances(), h.ctrl.updating = !1, h.updateBindability();
}, function(e) {
h.Logger.warn("Failed to list instances in namespace " + h.ctrl.selectedProject.metadata.name, e), h.ctrl.updating = !1, h.ctrl.serviceInstances = [], h.updateBindability();
}));
}, this.isServiceBindable = function(e) {
return h.BindingService.isServiceBindable(e, h.ctrl.serviceClasses);
}, this.$scope = e, this.$filter = t, this.$location = n, this.$q = i, this.BuilderAppService = o, this.ProjectsService = a, this.DataService = s, this.APIService = l, this.BindingService = c, this.Logger = u, this.ctrl.serviceToBind = null, this.ctrl.showPodPresets = r.get(d, [ "ENABLE_TECH_PREVIEW_FEATURE", "pod_presets" ], !1);
}
return e.prototype.$onInit = function() {
var e = this;
this.configStep = {
label: "Configuration",
id: "configure",
view: "create-from-builder/create-from-builder-configure.html",
valid: !1,
allowed: !0,
hidden: !1,
onShow: this.showConfig
}, this.bindStep = {
label: "Binding",
id: "bind",
view: "create-from-builder/create-from-builder-bind.html",
valid: !0,
allowed: !1,
hidden: !1,
onShow: this.showBind
}, this.reviewStep = {
label: "Results",
id: "results",
view: "create-from-builder/create-from-builder-results.html",
valid: !0,
allowed: !1,
hidden: !1,
prevEnabled: !1,
onShow: this.showResults
}, this.ctrl.steps = [ this.configStep, this.bindStep, this.reviewStep ], this.ctrl.versions = this.getVersions(), this.ctrl.istag = r.first(this.ctrl.versions), this.ctrl.nameMaxLength = 24, this.ctrl.namePattern = /^[a-z]([-a-z0-9]*[a-z0-9])?$/, this.ctrl.repositoryPattern = /^[a-z][a-z0-9+.-@]*:(\/\/)?[0-9a-z_-]+/, this.ctrl.wizardDone = !1, this.ctrl.serviceToBind = null, this.ctrl.updating = !1, this.ctrl.serviceInstances = [], this.selectedProjectWatch = this.$scope.$watch(function() {
return e.ctrl.selectedProject;
}, this.onProjectUpdate), this.getServiceClasses(), this.instancesSupported = !!this.APIService.apiInfo({
group: "servicecatalog.k8s.io",
resource: "instances"
});
}, e.prototype.closePanel = function() {
i.isFunction(this.ctrl.handleClose) && this.ctrl.handleClose();
}, e.prototype.$onDestroy = function() {
this.DataService.unwatchAll(this.watches), this.selectedProjectWatch(), this.clearValidityWatcher();
}, e.prototype.fillSampleRepo = function() {
if (this.ctrl.repository = r.get(this, "ctrl.istag.annotations.sampleRepo"), !this.ctrl.name && this.ctrl.repository) {
var e = this.ctrl.repository.substr(this.ctrl.repository.lastIndexOf("/") + 1);
e = e.replace(/\.git$/, ""), e = r.trunc(e, this.ctrl.nameMaxLength), e = r.kebabCase(e), this.ctrl.namePattern.test(e) && (this.ctrl.name = e);
}
}, e.prototype.navigateToAdvancedForm = function() {
var e = o.expand("project/{project}/create/fromimage?imageStream={imageStream}&imageTag={imageTag}&namespace={namespace}&displayName={displayName}&name={name}&sourceURI={sourceURI}&advanced=true", {
project: this.ctrl.selectedProject.metadata.name,
imageStream: this.ctrl.imageStream.resource.metadata.name,
imageTag: this.ctrl.istag.name,
namespace: this.ctrl.imageStream.resource.metadata.namespace,
displayName: this.ctrl.imageStream.name,
name: this.ctrl.name || "",
sourceURI: this.ctrl.repository || ""
}).toString();
this.$location.url(e);
}, e.prototype.referencesSameImageStream = function(e) {
return e.from && "ImageStreamTag" === e.from.kind && -1 === e.from.name.indexOf(":") && !e.from.namespace;
}, e.prototype.getVersions = function() {
var e = this;
this.ctrl.referencedBy = {};
var t = {}, n = {}, i = r.get(this, "ctrl.imageStream.resource.spec.tags", []);
r.each(i, function(i) {
if (e.referencesSameImageStream(i)) return t[i.name] = i.from.name, e.ctrl.referencedBy[i.from.name] = e.ctrl.referencedBy[i.from.name] || [], void e.ctrl.referencedBy[i.from.name].push(i.name);
var o = r.get(i, "annotations.tags", "").split(/\s*,\s*/);
r.includes(o, "builder") && !r.includes(o, "hidden") && (n[i.name] = i);
});
var o = [], a = r.get(this, "ctrl.imageStream.resource.status.tags", []);
return r.each(a, function(e) {
var t = n[e.tag];
t && o.push(t);
}), o;
}, e.prototype.getImageStreamTag = function() {
var e = this.ctrl.imageStream.resource.metadata.name + ":" + this.ctrl.istag.name;
return this.DataService.get("imagestreamtags", e, {
namespace: "openshift"
});
}, e.prototype.sortServiceInstances = function() {
if (this.ctrl.serviceInstances) {
var e = r.toArray(this.ctrl.serviceInstances), t = this.$filter("statusCondition");
e.sort(function(e, n) {
var i = "True" === r.get(t(e, "Ready"), "status");
if (i === ("True" === r.get(t(n, "Ready"), "status"))) {
var o = r.get(e, "metadata.creationTimestamp");
return r.get(n, "metadata.creationTimestamp").localeCompare(o);
}
return i ? -1 : 1;
}), this.ctrl.serviceInstances = e;
}
}, e.prototype.updateBindability = function() {
this.ctrl.wizardDone || (this.bindStep.hidden = r.size(this.ctrl.serviceInstances) < 1, this.ctrl.serviceToBind = null, this.bindStep.hidden ? this.ctrl.nextTitle = "Create" : this.ctrl.nextTitle = "Next >");
}, e.prototype.isNewProject = function() {
return !r.has(this.ctrl.selectedProject, "metadata.uid");
}, e.prototype.createApp = function() {
var e = this;
this.createProjectIfNecessary().then(function(t) {
e.ctrl.selectedProject = t, e.getImageStreamTag().then(function(t) {
var n = e.BuilderAppService.makeAPIObjects({
name: e.ctrl.name,
repository: e.ctrl.repository,
namespace: e.ctrl.selectedProject.metadata.name,
imageStreamTag: t
});
e.createAPIObjects(n), e.ctrl.serviceToBind && e.bindService(r.find(n, {
kind: "DeploymentConfig"
}));
}, function(t) {
e.ctrl.error = t;
});
}, function(t) {
e.ctrl.error = t;
});
}, e.prototype.createProjectIfNecessary = function() {
if (!this.isNewProject()) return this.$q.when(this.ctrl.selectedProject);
var e = {
apiVersion: "v1",
kind: "ProjectRequest",
metadata: {
name: this.ctrl.selectedProject.metadata.name
},
displayName: this.ctrl.selectedProject.metadata.annotations["new-display-name"],
description: this.$filter("description")(this.ctrl.selectedProject)
};
return this.DataService.create("projectrequests", null, e, this.$scope);
}, e.prototype.createAPIObjects = function(e) {
var t = this;
this.DataService.batch(e, {
namespace: this.ctrl.selectedProject.metadata.name
}).then(function(e) {
e.failure.length ? t.ctrl.error = e : t.ctrl.success = !0;
}, function(e) {
t.ctrl.error = e;
});
}, e.prototype.bindService = function(e) {
var t = this;
this.ctrl.bindInProgress = !0, this.ctrl.bindError = !1;
var n = {
namespace: r.get(this.ctrl.selectedProject, "metadata.name")
}, i = this.BindingService.getServiceClassForInstance(this.ctrl.serviceToBind, this.ctrl.serviceClasses);
this.BindingService.bindService(this.ctrl.serviceToBind, e, i).then(function(e) {
t.ctrl.binding = e, t.ctrl.bindInProgress = !1, t.ctrl.bindComplete = !0, t.ctrl.bindError = null, t.watches.push(t.DataService.watchObject(t.BindingService.bindingResource, r.get(t.ctrl.binding, "metadata.name"), n, function(e) {
t.ctrl.binding = e;
}));
}, function(e) {
t.ctrl.bindInProgress = !1, t.ctrl.bindComplete = !0, t.ctrl.bindError = e;
});
}, e.prototype.getServiceClasses = function() {
var e = this, t = {
group: "servicecatalog.k8s.io",
resource: "serviceclasses"
};
this.APIService.apiInfo(t) && (this.ctrl.updating = !1, this.DataService.list(t, {}).then(function(t) {
e.ctrl.serviceClasses = t.by("metadata.name");
}).finally(function() {
e.ctrl.updating = !1;
}));
}, e;
}();
a.$inject = [ "$scope", "$filter", "$location", "$q", "BuilderAppService", "ProjectsService", "DataService", "APIService", "BindingService", "Logger", "Constants" ], t.CreateFromBuilderController = a;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = function() {
function e(e, t) {
var n = this;
this.ctrl = this, this.closeOrderingPanel = function() {
n.RecentlyViewed.addItem(n.ctrl.selectedItem.resource.metadata.uid), n.ctrl.orderingPanelVisible = !1;
}, this.$scope = e, this.RecentlyViewed = t;
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.searchText = "", this.ctrl.orderingPanelVisible = !1, this.$scope.$on("open-overlay-panel", function(t, n) {
if ("Template" !== n.resource.kind) e.ctrl.selectedItem = n, e.ctrl.orderingPanelVisible = !0; else {
var i = e.ctrl.onTemplateSelected();
i && i(n.resource);
}
});
}, e.prototype.$onDestroy = function() {
this.ctrl.orderingPanelVisible && this.closeOrderingPanel();
}, e;
}();
i.$inject = [ "$scope", "RecentlyViewedServiceItems" ], t.LandingPageController = i;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(e, t, n, i, o, a, s, l) {
var c = this;
this.ctrl = this, this.watches = [], this.clearValidityWatcher = function() {
c.validityWatcher && (c.validityWatcher(), c.validityWatcher = void 0), c.ctrl.reviewStep.allowed = !1;
}, this.showPlan = function() {
c.clearValidityWatcher(), c.ctrl.configPageShown = !1, c.ctrl.nextTitle = "Next >";
}, this.showConfig = function() {
c.clearValidityWatcher(), c.ctrl.configPageShown = !0, c.reviewStep.allowed = c.bindStep.hidden && c.configStep.valid, c.updateBindability(), c.validityWatcher = c.$scope.$watch("$ctrl.forms.orderConfigureForm.$valid", function(e, t) {
c.configStep.valid = e, c.bindStep.allowed = c.configStep.valid, c.reviewStep.allowed = c.bindStep.hidden && c.configStep.valid;
});
}, this.showBind = function() {
c.clearValidityWatcher(), c.ctrl.configPageShown = !1, c.ctrl.nextTitle = "Create", c.reviewStep.allowed = c.bindStep.valid, c.isNewProject() ? c.ctrl.projectDisplayName = c.ctrl.selectedProject.metadata.annotations["new-display-name"] || c.ctrl.selectedProject.metadata.name : c.ctrl.projectDisplayName = c.$filter("displayName")(c.ctrl.selectedProject), c.validityWatcher = c.$scope.$watch("$ctrl.forms.bindForm.$valid", function(e, t) {
c.bindStep.valid = e, c.reviewStep.allowed = c.bindStep.valid;
});
}, this.showResults = function() {
c.clearValidityWatcher(), c.ctrl.configPageShown = !1, c.ctrl.nextTitle = "Close", c.ctrl.wizardDone = !0, c.provisionService();
}, this.provisionService = function() {
if (c.ctrl.inProgress = !0, c.ctrl.orderComplete = !1, c.ctrl.error = !1, c.isNewProject()) {
var e = {
apiVersion: "v1",
kind: "ProjectRequest",
metadata: {
name: c.ctrl.selectedProject.metadata.name
},
displayName: c.ctrl.selectedProject.metadata.annotations["new-display-name"],
description: c.$filter("description")(c.ctrl.selectedProject)
};
c.DataService.create("projectrequests", null, e, c.$scope).then(function(e) {
c.ctrl.selectedProject = e, c.ctrl.projectDisplayName = c.$filter("displayName")(c.ctrl.selectedProject), c.createService();
}, function(e) {
c.ctrl.error = e.data;
});
} else c.ctrl.projectDisplayName = c.$filter("displayName")(c.ctrl.selectedProject), c.createService();
}, this.onProjectUpdate = function() {
c.isNewProject() ? (c.ctrl.applications = [], c.ctrl.updating = !1, c.updateBindability()) : (c.ctrl.updating = !0, c.ProjectsService.get(c.ctrl.selectedProject.metadata.name).then(r.spread(function(e, t) {
c.ctrl.bindType = "none", c.ctrl.serviceToBind = c.ctrl.serviceClass, c.DataService.list("deploymentconfigs", t).then(function(e) {
c.deploymentConfigs = r.toArray(e.by("metadata.name")), c.sortApplications();
}), c.DataService.list("replicationcontrollers", t).then(function(e) {
c.replicationControllers = r.reject(e.by("metadata.name"), c.hasDeploymentConfigFilter), c.sortApplications();
}), c.DataService.list({
group: "extensions",
resource: "deployments"
}, t).then(function(e) {
c.deployments = r.toArray(e.by("metadata.name")), c.sortApplications();
}), c.DataService.list({
group: "extensions",
resource: "replicasets"
}, t).then(function(e) {
c.replicaSets = r.reject(e.by("metadata.name"), c.hasDeploymentFilter), c.sortApplications();
}), c.DataService.list({
group: "apps",
resource: "statefulsets"
}, t).then(function(e) {
c.statefulSets = r.toArray(e.by("metadata.name")), c.sortApplications();
});
})));
}, this.watchResults = function(e, t, n) {
c.watches.push(c.DataService.watchObject(e, t.metadata.name, n, function(e, t) {
var n = r.get(e, "status.conditions"), i = r.find(n, {
type: "Ready"
});
c.ctrl.orderComplete = i && "True" === i.status, c.ctrl.error = r.find(n, {
type: "ProvisionFailed"
});
}));
}, this.$scope = e, this.$filter = t, this.AuthService = n, this.ProjectsService = i, this.DataService = o, this.BindingService = a, this.Logger = s, this.hasDeploymentFilter = t("hasDeployment"), this.hasDeploymentConfigFilter = t("hasDeploymentConfig"), this.sendRequesterUsername = !1, this.ctrl.showPodPresets = r.get(l, [ "ENABLE_TECH_PREVIEW_FEATURE", "pod_presets" ], !1);
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.iconClass = this.ctrl.serviceClass.iconClass || "fa fa-clone", this.ctrl.imageUrl = this.ctrl.serviceClass.imageUrl, this.ctrl.serviceName = this.ctrl.serviceClass.name, this.ctrl.description = this.ctrl.serviceClass.description, this.ctrl.longDescription = this.ctrl.serviceClass.longDescription, this.ctrl.plans = r.get(this, "ctrl.serviceClass.resource.plans", []), this.ctrl.applications = [], this.ctrl.parameterData = {}, this.ctrl.forms = {}, this.ctrl.appToBind = null, this.ctrl.configStepValid = !0, this.planStep = {
id: "plans",
label: "Plan",
view: "order-service/order-service-plans.html",
hidden: this.ctrl.plans.length < 2,
allowed: !0,
valid: !0,
onShow: this.showPlan
}, this.configStep = {
label: "Configuration",
id: "configure",
view: "order-service/order-service-configure.html",
hidden: !1,
allowed: !0,
valid: !1,
onShow: this.showConfig
}, this.bindStep = {
label: "Binding",
id: "bind",
view: "order-service/order-service-bind.html",
hidden: !1,
allowed: !1,
valid: !0,
onShow: this.showBind
}, this.reviewStep = {
label: "Results",
id: "results",
view: "order-service/order-service-review.html",
hidden: !1,
allowed: !1,
valid: !0,
prevEnabled: !1,
onShow: this.showResults
}, this.ctrl.steps = [ this.planStep, this.configStep, this.bindStep, this.reviewStep ], this.ctrl.nameTaken = !1, this.ctrl.wizardDone = !1, this.ctrl.bindType = "none", this.selectPlan(r.first(this.ctrl.plans)), this.ctrl.planIndex = 0, this.ctrl.updating = !0, this.selectedProjectWatch = this.$scope.$watch(function() {
return e.ctrl.selectedProject;
}, this.onProjectUpdate), this.AuthService.withUser().then(function(t) {
e.user = t, e.ctrl.wizardReady = !0;
});
}, e.prototype.selectPlan = function(e) {
this.ctrl.selectedPlan = e, this.ctrl.parameterData = {}, this.updateParameterSchema(e), this.updateBindability();
}, e.prototype.createService = function() {
var e = this, t = this.makeServiceInstance(), n = {
group: "servicecatalog.k8s.io",
resource: "instances"
}, i = {
namespace: this.ctrl.selectedProject.metadata.name
};
this.DataService.create(n, null, t, i).then(function(t) {
e.ctrl.orderInProgress = !0, e.watchResults(n, t, i), e.ctrl.serviceInstance = t, "none" !== e.ctrl.bindType && e.bindService();
}, function(t) {
e.ctrl.error = r.get(t, "data");
});
}, e.prototype.bindService = function() {
var e = this;
this.ctrl.bindInProgress = !0, this.ctrl.bindError = !1;
var t = {
namespace: r.get(this.ctrl.selectedProject, "metadata.name")
}, n = "application" === this.ctrl.bindType ? this.ctrl.appToBind : void 0;
this.BindingService.bindService(this.ctrl.serviceInstance, n, this.ctrl.serviceClass.resource).then(function(n) {
e.ctrl.binding = n, e.ctrl.bindInProgress = !1, e.ctrl.bindComplete = !0, e.ctrl.bindError = null, e.watches.push(e.DataService.watchObject(e.BindingService.bindingResource, r.get(e.ctrl.binding, "metadata.name"), t, function(t) {
e.ctrl.binding = t;
}));
}, function(t) {
e.ctrl.bindInProgress = !1, e.ctrl.bindComplete = !0, e.ctrl.bindError = t;
});
}, e.prototype.$onDestroy = function() {
this.DataService.unwatchAll(this.watches), this.selectedProjectWatch(), this.clearValidityWatcher();
}, e.prototype.closePanel = function() {
i.isFunction(this.ctrl.handleClose) && this.ctrl.handleClose();
}, e.prototype.updateBindability = function() {
if (!this.ctrl.wizardDone) {
var e = r.get(this.ctrl.selectedPlan, "bindable");
this.bindStep.hidden = !0 !== e && (!1 === e || !r.get(this.ctrl.serviceClass, "resource.bindable")), this.ctrl.configPageShown && (this.reviewStep.allowed = this.bindStep.hidden, this.bindStep.hidden ? this.ctrl.nextTitle = "Create" : this.ctrl.nextTitle = "Next >");
}
}, e.prototype.updateParameterSchema = function(t) {
var n = r.get(t, "alphaInstanceCreateParameterSchema");
r.has(n, [ "properties", e.REQUESTER_USERNAME_PARAM_NAME ]) ? (n = i.copy(n), delete n.properties[e.REQUESTER_USERNAME_PARAM_NAME], this.sendRequesterUsername = !0) : this.sendRequesterUsername = !1, this.ctrl.parameterSchema = n;
}, e.prototype.sortApplications = function() {
if (this.deploymentConfigs && this.deployments && this.replicationControllers && this.replicaSets && this.statefulSets) {
var e = this.deploymentConfigs.concat(this.deployments).concat(this.replicationControllers).concat(this.replicaSets).concat(this.statefulSets);
this.ctrl.applications = r.sortByAll(e, [ "metadata.name", "kind" ]), this.ctrl.updating = !1, this.updateBindability();
}
}, e.prototype.makeServiceInstance = function() {
var t = r.get(this, "ctrl.serviceClass.resource.metadata.name"), n = r.omit(this.ctrl.parameterData, function(e) {
return "" === e;
});
return this.sendRequesterUsername && (n[e.REQUESTER_USERNAME_PARAM_NAME] = this.user.metadata.name), {
kind: "Instance",
apiVersion: "servicecatalog.k8s.io/v1alpha1",
metadata: {
namespace: this.ctrl.selectedProject.metadata.name,
generateName: t + "-"
},
spec: {
serviceClassName: t,
planName: this.ctrl.selectedPlan.name,
parameters: n
}
};
}, e.prototype.isNewProject = function() {
return !this.ctrl.selectedProject || !r.has(this.ctrl.selectedProject, "metadata.uid");
}, e;
}();
o.$inject = [ "$scope", "$filter", "AuthService", "ProjectsService", "DataService", "BindingService", "Logger", "Constants" ], o.REQUESTER_USERNAME_PARAM_NAME = "template.openshift.io/requester-username", t.OrderServiceController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(2), o = function() {
function e() {
var e = this;
this.ctrl = this, this.closePanel = function() {
i.isFunction(e.ctrl.handleClose) && e.ctrl.handleClose();
}, this.showDialog = function() {
e.ctrl.shown = !0, r("body").addClass("overlay-open");
}, this.hideDialog = function() {
e.ctrl.shown = !1, r("body").removeClass("overlay-open");
}, this.ctrl.shown = !1;
}
return e.prototype.$postLink = function() {
this.ctrl.showPanel && this.showDialog();
}, e.prototype.$onChanges = function(e) {
e.showPanel && (this.ctrl.showPanel ? this.showDialog() : this.hideDialog());
}, e.prototype.$onDestroy = function() {
r("body").removeClass("overlay-open");
}, e;
}();
t.OverlayPanelController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(2), o = n(0), a = function() {
function e(e, t, n, r, a, s, l, c, u, d, h) {
var p = this;
this.ctrl = this, this.showNewProjectPanel = !1, this.showEditProjectPanel = !1, this.alerts = [], this.projects = [], this.watches = [], this.maxDisplayProjects = 5, this.init = function() {
p.watches.push(p.DataService.watch("projects", p.$scope, p.onProjectsUpdate)), p.ctrl.resourceLinks = o.clone(p.Constants.CATALOG_HELP_RESOURCES.links), o.forEach(p.ctrl.resourceLinks, function(e) {
i.isDefined(e.help) && (e.href = p.Constants.HELP_BASE_URL + (e.help ? p.Constants.HELP[e.help] : ""));
}), p.$rootScope.$on("recently-viewed-updated", function() {
p.ctrl.recentlyViewedItems = p.getRecentlyViewedItems();
});
}, this.onProjectsUpdate = function(e) {
var t = o.toArray(e.by("metadata.creationTimestamp")), n = p.$filter("orderObjectsByDate");
p.ctrl.projects = n(t, !0), p.ctrl.totalProjects = p.ctrl.projects.length, p.ctrl.projects = o.take(p.ctrl.projects, p.maxDisplayProjects), p.ctrl.loading = !1, p.ctrl.showGetStarted = !p.ctrl.projects || p.ctrl.projects.length < 2;
}, this.closeNewProjectPanel = function() {
p.ctrl.showNewProjectPanel = !1, p.hideModalBackdrop();
}, this.onNewProject = function(e) {
p.ctrl.showNewProjectPanel = !1, p.hideModalBackdrop();
}, this.onViewMemebership = function(e) {
var t = p.ctrl.viewEditMembership();
t && t(e);
}, this.editProject = function(e) {
p.ctrl.edittingProject = e, p.ctrl.showEditProjectPanel = !0, p.showModalBackdrop();
}, this.closeEditProjectPanel = function() {
p.ctrl.showEditProjectPanel = !1, p.hideModalBackdrop();
}, this.onEditProject = function(e) {
p.ctrl.showEditProjectPanel = !1, p.hideModalBackdrop();
}, this.$element = e, this.$filter = t, this.$rootScope = n, this.$scope = r, this.AuthService = a, this.Catalog = s, this.Constants = l, this.DataService = c, this.Logger = u, this.ProjectsService = d, this.RecentlyViewed = h;
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.loading = !0, this.AuthService.withUser().then(function(t) {
e.ctrl.user = t;
}), this.ProjectsService.canCreate().then(function() {
e.ctrl.canCreate = !0;
}, function(t) {
e.ctrl.canCreate = !1, e.ctrl.loading = !1;
var n = t.data || {};
if (403 !== t.status) {
var i = "Failed to determine create project permission";
return 0 !== t.status && (i += " (" + t.status + ")"), void e.Logger.warn(i);
}
if (n.details) {
var r = [];
o.forEach(n.details.causes || [], function(e) {
e.message && r.push(e.message);
}), r.length > 0 && (e.ctrl.newProjectMessage = r.join("\n"));
}
}).finally(function() {
e.init();
});
}, e.prototype.$onChanges = function(e) {
e.catalogItems && this.ctrl.catalogItems && (this.allItems = o.indexBy(this.ctrl.catalogItems, "resource.metadata.uid"), this.ctrl.recentlyViewedItems = this.getRecentlyViewedItems());
}, e.prototype.openNewProjectPanel = function() {
this.ctrl.showNewProjectPanel = !0, this.showModalBackdrop();
}, e.prototype.handleGettingStartedClick = function() {
var e = this.ctrl.startTour();
e && e();
}, e.prototype.handleProjectClick = function(e) {
var t = this.ctrl.projectSelect();
t && t(e);
}, e.prototype.orderService = function(e) {
this.$scope.$emit("open-overlay-panel", e);
}, e.prototype.showAllProjects = function() {
var e = this.ctrl.showProjects();
e && e();
}, e.prototype.showModalBackdrop = function() {
this.$element.append('<div class="catalog-projects-summary-modal-backrop modal-backdrop fade in"></div>');
}, e.prototype.hideModalBackdrop = function() {
r(".catalog-projects-summary-modal-backrop").remove();
}, e.prototype.getRecentlyViewedItems = function() {
var e = this;
if (this.allItems) {
var t = this.RecentlyViewed.getItems(), n = o.map(t, function(t) {
return e.allItems[t];
});
return n = o.reject(n, function(e) {
return !e;
});
}
}, e;
}();
a.$inject = [ "$element", "$filter", "$rootScope", "$scope", "AuthService", "Catalog", "Constants", "DataService", "Logger", "ProjectsService", "RecentlyViewedServiceItems" ], t.ProjectsSummaryController = a;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = function() {
function e(e, t, n, i) {
var r = this;
this.ctrl = this, this.onWindowResize = function() {
r.$scope.$evalAsync(function() {
r.updateListExpandVisibility();
});
}, this.$scope = e, this.$window = t, this.$element = n, this.BREAKPOINTS = i, this.ctrl.sassListExpanded = !1, this.ctrl.itemsOverflow = !1;
}
return e.prototype.$postLink = function() {
this.debounceResize = r.debounce(this.onWindowResize, 50, {
maxWait: 250
}), i.element(this.$window).on("resize", this.debounceResize), this.updateListExpandVisibility();
}, e.prototype.$onDestroy = function() {
i.element(this.$window).off("resize", this.debounceResize);
}, e.prototype.hasSaasOfferings = function() {
return !r.isEmpty(this.ctrl.saasOfferings);
}, e.prototype.$onChanges = function(e) {
e.saasOfferings && !e.saasOfferings.isFirstChange() && (this.ctrl.saasOfferings = e.saasOfferings.currentValue, this.updateListExpandVisibility());
}, e.prototype.toggleListExpand = function() {
this.ctrl.sassListExpanded = !this.ctrl.sassListExpanded;
}, e.prototype.updateListExpandVisibility = function() {
var e = this.$window.innerWidth, t = r.size(this.ctrl.saasOfferings);
this.ctrl.itemsOverflow = t > 4 || t > 2 && e < this.BREAKPOINTS.screenLgMin;
}, e;
}();
o.$inject = [ "$scope", "$window", "$element", "BREAKPOINTS" ], t.SaasListController = o;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(0), r = function() {
function e(e, t, n, i, r, o, a) {
this.ctrl = this, this.$scope = e, this.$filter = t, this.DataService = n, this.AuthService = o, this.AuthorizationService = a, this.ProjectsService = i, this.Logger = r;
}
return e.prototype.$onInit = function() {
var e = this;
this.ctrl.nameTaken = !1, this.ProjectsService.canCreate().then(function() {
e.ctrl.canCreate = !0;
}, function(t) {
if (e.ctrl.canCreate = !1, 403 !== t.status) {
var n = "Failed to determine create project permission";
0 !== t.status && (n += " (" + t.status + ")"), e.Logger.warn(n);
}
}).finally(function() {
e.listProjects();
});
}, e.prototype.$onChanges = function(e) {
e.nameTaken && !e.nameTaken.isFirstChange() && this.ctrl.forms.createProjectForm.name.$setValidity("nameTaken", !this.ctrl.nameTaken);
}, e.prototype.onSelectProjectChange = function() {
this.canIAddToProject();
}, e.prototype.onNewProjectNameChange = function() {
this.ctrl.nameTaken = !1, this.ctrl.forms.createProjectForm.name.$setValidity("nameTaken", !this.ctrl.nameTaken);
}, e.prototype.isNewProject = function() {
return this.ctrl.projects && this.ctrl.selectedProject && !i.has(this.ctrl.selectedProject, "metadata.uid");
}, e.prototype.canIAddToProject = function() {
return this.ctrl.forms.selectProjectForm.selectProject.$setValidity("cannotAddToProject", !0);
}, e.prototype.listProjects = function() {
var e = this;
this.DataService.list("projects", this.$scope).then(function(t) {
var n = {
metadata: {
annotations: {
"openshift.io/display-name": "Create Project",
"new-display-name": ""
}
}
}, r = t.by("metadata.name");
r = i.reject(r, "metadata.deletionTimestamp"), e.ctrl.projects = i.sortBy(r, e.$filter("displayName")), e.ctrl.searchEnabled = !i.isEmpty(r), e.ctrl.existingProjectNames = i.map(e.ctrl.projects, "metadata.name"), !e.ctrl.selectedProject && i.size(e.ctrl.projects) > 0 && (e.ctrl.selectedProject = e.$filter("mostRecent")(e.ctrl.projects)), e.ctrl.canCreate && (e.ctrl.projects.unshift(n), 1 === i.size(e.ctrl.projects) && (e.ctrl.selectedProject = n)), e.canIAddToProject();
});
}, e;
}();
r.$inject = [ "$scope", "$filter", "DataService", "ProjectsService", "Logger", "AuthService", "AuthorizationService" ], t.SelectProjectController = r;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1), r = n(0), o = n(2), a = function() {
function e(e, t, n, i, o, a, s, l, c, u) {
var d = this;
this.ctrl = this, this.keywordFilterField = {
id: "keyword",
title: "Keyword",
placeholder: "Filter by Keyword in Category",
filterType: "text"
}, this.previousSubCategoryHeight = 0, this.resizeRetries = 0, this.handleClick = function(e, t) {
d.$scope.$emit("open-overlay-panel", e);
}, this.filterChange = function(e) {
d.filterByCategory(d.ctrl.currentFilter, d.ctrl.currentSubFilter, !1), e = r.filter(e, "value"), d.ctrl.filterConfig.appliedFilters = e, e && e.length > 0 && r.each(e, function(e) {
d.ctrl.filteredItems = d.filterForKeywords(e.value, d.ctrl.filteredItems);
}), d.updateFilterControls();
}, this.constants = e, this.catalog = t, this.keywordService = n, this.logger = i, this.htmlService = o, this.element = a[0], this.$filter = s, this.$rootScope = l, this.$scope = c, this.$timeout = u, this.ctrl.loaded = !1, this.ctrl.isEmpty = !1, this.ctrl.mobileView = "categories", this.ctrl.filterConfig = {};
}
return e.prototype.$onInit = function() {
var e = this;
this.debounceResize = r.debounce(function() {
return e.resizeExpansion(!1);
}, 50, {
maxWait: 250
}), i.element(window).bind("resize", this.debounceResize), o(window).on("resize.services", this.debounceResize), this.removeFilterListener = this.$rootScope.$on("filter-catalog-items", function(t, n) {
var r = i.copy(e.keywordFilterField);
r.value = n.searchText, e.ctrl.currentFilter = e.ctrl.currentSubFilter = "all", e.ctrl.mobileView = "subcategories", e.filterChange([ r ]);
}), this.ctrl.filterConfig = {
fields: [ this.keywordFilterField ],
resultsCount: 0,
appliedFilters: [],
onFilterChange: this.filterChange
};
}, e.prototype.$onChanges = function(e) {
e.catalogItems && this.ctrl.catalogItems && (this.ctrl.categories = this.catalog.categories, this.filterByCategory("all", "all", !0), this.ctrl.isEmpty = r.isEmpty(this.ctrl.catalogItems), this.ctrl.loaded = !0);
}, e.prototype.$postLink = function() {
this.scrollParent = this.getScrollParent(this.element), this.scrollParent && this.htmlService.isWindowAboveBreakpoint(this.htmlService.WINDOW_SIZE_SM) && (this.ctrl.viewStyle = {
"min-height": "calc(100vh - " + this.scrollParent.getBoundingClientRect().top + "px)"
});
}, e.prototype.$onDestroy = function() {
o(window).off("resize.services"), this.removeFilterListener();
}, e.prototype.selectCategory = function(e) {
if (this.ctrl.mobileView = "subcategories", this.filterByCategory(e, null, !0), this.scrollParent) {
var t = o(this.scrollParent);
t.scrollTop() !== this.element.offsetTop && t.animate({
scrollTop: this.element.offsetTop
}, 200);
}
}, e.prototype.selectSubCategory = function(e) {
this.ctrl.mobileView = "items", this.ctrl.currentSubFilter === e && "xxs" !== this.htmlService.getBreakpoint() && (e = null, this.ctrl.mobileView = "subcategories"), this.filterByCategory(this.ctrl.currentFilter, e, !1);
}, e.prototype.getSubCategories = function(e) {
var t = [];
return this.ctrl.categories.map(function(n) {
e === n.id && (t = t.concat(n.subCategories));
}), "all" === (t = r.filter(t, {
hasItems: !0
}))[0].id && 2 === t.length && (t = r.drop(t, 1)), t;
}, e.prototype.filterByCategory = function(e, t, n) {
var i, o;
this.clearAppliedFilters(), "all" === e || "other" === e ? t = "all" : (n && (this.ctrl.subCategories = this.getSubCategories(e)), t = 1 === this.ctrl.subCategories.length ? this.ctrl.subCategories[0].id : t || null), (i = r.find(this.ctrl.categories, {
id: e
})) ? t && ((o = r.find(i.subCategories, {
id: t
})) ? (this.ctrl.filteredItems = o.items, this.ctrl.totalCount = this.ctrl.filteredItems.length) : this.logger.error("Could not find subcategory '" + t + "' for category '" + e + "'")) : this.logger.error("Could not find category '" + e + "'"), this.ctrl.currentFilter = e, this.ctrl.currentSubFilter = t, this.updateActiveCardStyles(), this.updateFilterControls();
}, e.prototype.filterForKeywords = function(e, t) {
var n = this.keywordService.generateKeywords(e);
return this.keywordService.filterForKeywords(t, [ "name", "tags" ], n);
}, e.prototype.clearAppliedFilters = function() {
this.ctrl.filterConfig.appliedFilters = [];
}, e.prototype.getScrollParent = function(e) {
if (null === e || !(e instanceof Element)) return null;
var t = window.getComputedStyle(e).overflowY;
return "visible" !== t && "hidden" !== t ? e : this.getScrollParent(e.parentNode);
}, e.prototype.resizeExpansion = function(t) {
var n = this;
if ("all" !== this.ctrl.currentFilter && "other" !== this.ctrl.currentFilter && this.ctrl.currentSubFilter && this.htmlService.isWindowAboveBreakpoint(this.htmlService.WINDOW_SIZE_XS)) {
if (this.resizeRetries > e.MAX_RESIZE_RETRIES) return void (this.resizeRetries = 0);
var i = o("#" + this.ctrl.currentSubFilter), a = i.find(".services-items").outerHeight(!0);
a || (this.resizeRetries++, setTimeout(function() {
return n.resizeExpansion(t);
}, 50)), t ? (o(".services-sub-category").removeAttr("style").removeClass("items-shown"), i.css("margin-bottom", this.previousSubCategoryHeight + "px"), i.animate({
"margin-bottom": a
}, 100, "swing", function() {
i.addClass("items-shown");
})) : (i.css("margin-bottom", a + "px"), i.addClass("items-shown")), this.previousSubCategoryHeight = a;
} else o(".services-sub-category").removeAttr("style").removeClass("items-shown"), this.previousSubCategoryHeight = 0, this.resizeRetries = 0;
this.htmlService.isWindowAboveBreakpoint(this.htmlService.WINDOW_SIZE_SM) ? this.scrollParent && !r.get(this.ctrl.viewStyle, "min-height") && (this.ctrl.viewStyle = {
"min-height": "calc(100vh - " + this.scrollParent.getBoundingClientRect().top + "px)"
}) : this.ctrl.viewStyle = void 0;
}, e.prototype.updateActiveCardStyles = function() {
var e = this;
this.$timeout(function() {
return e.resizeExpansion(!0);
});
}, e.prototype.updateFilterControls = function() {
var e = this;
this.$timeout(function() {
e.ctrl.filterConfig.appliedFilters.length > 0 ? (e.ctrl.filterConfig.resultsCount = e.ctrl.filteredItems.length, o(".toolbar-pf-results h5").text(e.ctrl.filterConfig.resultsCount + " of " + e.ctrl.totalCount + " items")) : (o(".toolbar-pf-results h5").text(e.ctrl.totalCount + (1 === e.ctrl.totalCount ? " item" : " items")), e.ctrl.totalCount <= 1 ? o(".filter-pf.filter-fields input").attr("disabled", "") : o(".filter-pf.filter-fields input").removeAttr("disabled"));
}, 0);
}, e;
}();
a.$inject = [ "Constants", "Catalog", "KeywordService", "Logger", "HTMLService", "$element", "$filter", "$rootScope", "$scope", "$timeout" ], a.MAX_RESIZE_RETRIES = 20, t.ServicesViewController = a;
}, function(e, t) {
e.exports = URI;
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var i = n(1);
n(3), n(27);
var r = n(28), o = n(29), a = n(17), s = n(18), l = n(30), c = n(19), u = n(20), d = n(21), h = n(22), p = n(23), f = n(24), g = n(25), m = n(26), v = n(31);
t.webCatalog = "webCatalog", i.module(t.webCatalog, [ "patternfly", "ngAnimate", "ui.bootstrap", "angularMoment", "ui.select", "schemaForm" ]).service("BuilderAppService", o.BuilderAppService).service("Catalog", l.CatalogService).service("RecentlyViewedServiceItems", v.RecentlyViewedServiceItems).filter("projectUrl", r.projectUrlFilter).component("catalogParameters", a.catalogParameters).component("catalogSearch", s.catalogSearch).component("createFromBuilder", c.createFromBuilder).component("landingPage", u.landingPage).component("orderService", d.orderService).component("overlayPanel", h.overlayPanel).component("projectsSummary", p.projectsSummary).component("saasList", f.saasList).component("selectProject", g.selectProject).component("servicesView", m.servicesView).run([ "$templateCache", function(e) {
e.put("catalog-search/catalog-search-result.html", n(4)), e.put("create-from-builder/create-from-builder-configure.html", n(6)), e.put("create-from-builder/create-from-builder-bind.html", n(5)), e.put("create-from-builder/create-from-builder-results.html", n(7)), e.put("order-service/order-service-plans.html", n(10)), e.put("order-service/order-service-configure.html", n(9)), e.put("order-service/order-service-bind.html", n(8)), e.put("order-service/order-service-review.html", n(11)), e.put("decorators/bootstrap/array.html", n(12)), e.put("decorators/bootstrap/checkbox.html", n(13)), e.put("decorators/bootstrap/checkboxes.html", n(14)), e.put("decorators/bootstrap/default.html", n(15)), e.put("decorators/bootstrap/select.html", n(16));
} ]);
} ], [ 53 ]);